const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CXi2U7cX.js","assets/index-Bkohaulx.js","assets/index-Ch_qCilz.js","assets/default-0Dp3JUBc.js","assets/index-fxhsq5_t.js","assets/index-C7HKSPqU.js","assets/index-8UYiSU-K.js","assets/index-Dk7q6Jnb.js","assets/index-BdmKeUBW.js","assets/index-C9EGge8D.js","assets/index-DpipQwVu.js","assets/index-DTzQ7r7Q.js","assets/index-BiBm3qPN.js","assets/index-C_aolqmU.js","assets/index-CSo6AjcB.js","assets/blank-line-D3C7De5j.js","assets/index-hRuAkC1j.js","assets/index-UBgLExeH.js","assets/index-UrwFYu9c.js","assets/index-B_nwhUZ5.js","assets/index-Tlm8e_FK.js","assets/index-BxE2facF.js","assets/index-Dw8e9nLW.js","assets/index-DeIb_MMP.js","assets/cpp-DTlOUqc1.js","assets/regexp-BQv5Oyoy.js","assets/glsl-Wc52g4AW.js","assets/c-CIbXcWqQ.js","assets/sql-BkwqDsxr.js","assets/graphql-NPlBKHje.js","assets/javascript-DH96G3dA.js","assets/typescript-fZl0lXAA.js","assets/jsx-Ziv-oX7x.js","assets/tsx-K7AzAoyv.js","assets/haml-CeK6sT44.js","assets/css-CCCP2wri.js","assets/html-BnRkEsSS.js","assets/julia-C4Ub1eE6.js","assets/python-CMF7I41B.js","assets/r-CLuuQXBn.js","assets/php-ttjKHrWn.js","assets/xml-Ciz7HToh.js","assets/java-d64Zf6Yp.js","assets/json-MtVCqODg.js","assets/pug-C2xMF9Oy.js","assets/scss-CCf1fKDC.js","assets/svelte-RjJvQpEn.js","assets/postcss-Lc9p0BGC.js","assets/vue-DtUAZAf7.js","assets/vue-html-GfCH5O97.js","assets/latex-BHcZmUqB.js","assets/lua-DnaO6Q5L.js","assets/ruby-DC6CaxEq.js","assets/shellscript-X5FKwdA4.js","assets/yaml-D9v5iH38.js"])))=>i.map(i=>d[i]);
var Q$=Object.defineProperty;var eH=Object.getPrototypeOf;var tH=Reflect.get;var ZA=t=>{throw TypeError(t)};var nH=(t,e,n)=>e in t?Q$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var te=(t,e,n)=>nH(t,typeof e!="symbol"?e+"":e,n),gw=(t,e,n)=>e.has(t)||ZA("Cannot "+n);var ho=(t,e,n)=>(gw(t,e,"read from private field"),n?n.call(t):e.get(t)),Oa=(t,e,n)=>e.has(t)?ZA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Vr=(t,e,n,o)=>(gw(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n),bw=(t,e,n)=>(gw(t,e,"access private method"),n);var XA=(t,e,n)=>tH(eH(t),n,e);function oH(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(o,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function i_(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Vt={},Pu=[],Si=()=>{},rH=()=>!1,$y=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),s_=t=>t.startsWith("onUpdate:"),so=Object.assign,l_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},iH=Object.prototype.hasOwnProperty,xt=(t,e)=>iH.call(t,e),qe=Array.isArray,$u=t=>Hy(t)==="[object Map]",yD=t=>Hy(t)==="[object Set]",Ze=t=>typeof t=="function",_n=t=>typeof t=="string",zs=t=>typeof t=="symbol",Yt=t=>t!==null&&typeof t=="object",vD=t=>(Yt(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),wD=Object.prototype.toString,Hy=t=>wD.call(t),sH=t=>Hy(t).slice(8,-1),kD=t=>Hy(t)==="[object Object]",a_=t=>_n(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,th=i_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zy=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},lH=/-(\w)/g,Ir=zy(t=>t.replace(lH,(e,n)=>n?n.toUpperCase():"")),aH=/\B([A-Z])/g,xc=zy(t=>t.replace(aH,"-$1").toLowerCase()),Vy=zy(t=>t.charAt(0).toUpperCase()+t.slice(1)),yw=zy(t=>t?`on${Vy(t)}`:""),zl=(t,e)=>!Object.is(t,e),vw=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},xD=(t,e,n,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:n})},cH=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let YA;const Uy=()=>YA||(YA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fy(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],r=_n(o)?hH(o):Fy(o);if(r)for(const i in r)e[i]=r[i]}return e}else if(_n(t)||Yt(t))return t}const uH=/;(?![^(]*\))/g,dH=/:([^]+)/,fH=/\/\*[^]*?\*\//g;function hH(t){const e={};return t.replace(fH,"").split(uH).forEach(n=>{if(n){const o=n.split(dH);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function xs(t){let e="";if(_n(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const o=xs(t[n]);o&&(e+=o+" ")}else if(Yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const pH="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mH=i_(pH);function CD(t){return!!t||t===""}const _D=t=>!!(t&&t.__v_isRef===!0),dx=t=>_n(t)?t:t==null?"":qe(t)||Yt(t)&&(t.toString===wD||!Ze(t.toString))?_D(t)?dx(t.value):JSON.stringify(t,SD,2):String(t),SD=(t,e)=>_D(e)?SD(t,e.value):$u(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[o,r],i)=>(n[ww(o,i)+" =>"]=r,n),{})}:yD(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ww(n))}:zs(e)?ww(e):Yt(e)&&!qe(e)&&!kD(e)?String(e):e,ww=(t,e="")=>{var n;return zs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nr;class gH{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nr,!e&&nr&&(this.index=(nr.scopes||(nr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=nr;try{return nr=this,e()}finally{nr=n}}}on(){nr=this}off(){nr=this.parent}stop(e){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function bH(){return nr}let zt;const kw=new WeakSet;class ED{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nr&&nr.active&&nr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,kw.has(this)&&(kw.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||MD(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,JA(this),AD(this);const e=zt,n=Xr;zt=this,Xr=!0;try{return this.fn()}finally{RD(this),zt=e,Xr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)d_(e);this.deps=this.depsTail=void 0,JA(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?kw.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fx(this)&&this.run()}get dirty(){return fx(this)}}let TD=0,nh,oh;function MD(t,e=!1){if(t.flags|=8,e){t.next=oh,oh=t;return}t.next=nh,nh=t}function c_(){TD++}function u_(){if(--TD>0)return;if(oh){let e=oh;for(oh=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;nh;){let e=nh;for(nh=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=n}}if(t)throw t}function AD(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function RD(t){let e,n=t.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),d_(o),yH(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}t.deps=e,t.depsTail=n}function fx(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(OD(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function OD(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===_h))return;t.globalVersion=_h;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!fx(t)){t.flags&=-3;return}const n=zt,o=Xr;zt=t,Xr=!0;try{AD(t);const r=t.fn(t._value);(e.version===0||zl(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{zt=n,Xr=o,RD(t),t.flags&=-3}}function d_(t,e=!1){const{dep:n,prevSub:o,nextSub:r}=t;if(o&&(o.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=o,t.nextSub=void 0),n.subs===t&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)d_(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function yH(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Xr=!0;const ND=[];function oa(){ND.push(Xr),Xr=!1}function ra(){const t=ND.pop();Xr=t===void 0?!0:t}function JA(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=zt;zt=void 0;try{e()}finally{zt=n}}}let _h=0,vH=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class f_{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!zt||!Xr||zt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==zt)n=this.activeLink=new vH(zt,this),zt.deps?(n.prevDep=zt.depsTail,zt.depsTail.nextDep=n,zt.depsTail=n):zt.deps=zt.depsTail=n,DD(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=zt.depsTail,n.nextDep=void 0,zt.depsTail.nextDep=n,zt.depsTail=n,zt.deps===n&&(zt.deps=o)}return n}trigger(e){this.version++,_h++,this.notify(e)}notify(e){c_();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{u_()}}}function DD(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)DD(o)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ob=new WeakMap,Qa=Symbol(""),hx=Symbol(""),Sh=Symbol("");function Qn(t,e,n){if(Xr&&zt){let o=ob.get(t);o||ob.set(t,o=new Map);let r=o.get(n);r||(o.set(n,r=new f_),r.map=o,r.key=n),r.track()}}function vs(t,e,n,o,r,i){const s=ob.get(t);if(!s){_h++;return}const l=c=>{c&&c.trigger()};if(c_(),e==="clear")s.forEach(l);else{const c=qe(t),d=c&&a_(n);if(c&&n==="length"){const f=Number(o);s.forEach((p,m)=>{(m==="length"||m===Sh||!zs(m)&&m>=f)&&l(p)})}else switch((n!==void 0||s.has(void 0))&&l(s.get(n)),d&&l(s.get(Sh)),e){case"add":c?d&&l(s.get("length")):(l(s.get(Qa)),$u(t)&&l(s.get(hx)));break;case"delete":c||(l(s.get(Qa)),$u(t)&&l(s.get(hx)));break;case"set":$u(t)&&l(s.get(Qa));break}}u_()}function wH(t,e){const n=ob.get(t);return n&&n.get(e)}function bu(t){const e=wt(t);return e===t?e:(Qn(e,"iterate",Sh),Yr(t)?e:e.map(go))}function h_(t){return Qn(t=wt(t),"iterate",Sh),t}const kH={__proto__:null,[Symbol.iterator](){return xw(this,Symbol.iterator,go)},concat(...t){return bu(this).concat(...t.map(e=>qe(e)?bu(e):e))},entries(){return xw(this,"entries",t=>(t[1]=go(t[1]),t))},every(t,e){return ls(this,"every",t,e,void 0,arguments)},filter(t,e){return ls(this,"filter",t,e,n=>n.map(go),arguments)},find(t,e){return ls(this,"find",t,e,go,arguments)},findIndex(t,e){return ls(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ls(this,"findLast",t,e,go,arguments)},findLastIndex(t,e){return ls(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ls(this,"forEach",t,e,void 0,arguments)},includes(...t){return Cw(this,"includes",t)},indexOf(...t){return Cw(this,"indexOf",t)},join(t){return bu(this).join(t)},lastIndexOf(...t){return Cw(this,"lastIndexOf",t)},map(t,e){return ls(this,"map",t,e,void 0,arguments)},pop(){return Df(this,"pop")},push(...t){return Df(this,"push",t)},reduce(t,...e){return QA(this,"reduce",t,e)},reduceRight(t,...e){return QA(this,"reduceRight",t,e)},shift(){return Df(this,"shift")},some(t,e){return ls(this,"some",t,e,void 0,arguments)},splice(...t){return Df(this,"splice",t)},toReversed(){return bu(this).toReversed()},toSorted(t){return bu(this).toSorted(t)},toSpliced(...t){return bu(this).toSpliced(...t)},unshift(...t){return Df(this,"unshift",t)},values(){return xw(this,"values",go)}};function xw(t,e,n){const o=h_(t),r=o[e]();return o!==t&&!Yr(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const xH=Array.prototype;function ls(t,e,n,o,r,i){const s=h_(t),l=s!==t&&!Yr(t),c=s[e];if(c!==xH[e]){const p=c.apply(t,i);return l?go(p):p}let d=n;s!==t&&(l?d=function(p,m){return n.call(this,go(p),m,t)}:n.length>2&&(d=function(p,m){return n.call(this,p,m,t)}));const f=c.call(s,d,o);return l&&r?r(f):f}function QA(t,e,n,o){const r=h_(t);let i=n;return r!==t&&(Yr(t)?n.length>3&&(i=function(s,l,c){return n.call(this,s,l,c,t)}):i=function(s,l,c){return n.call(this,s,go(l),c,t)}),r[e](i,...o)}function Cw(t,e,n){const o=wt(t);Qn(o,"iterate",Sh);const r=o[e](...n);return(r===-1||r===!1)&&g_(n[0])?(n[0]=wt(n[0]),o[e](...n)):r}function Df(t,e,n=[]){oa(),c_();const o=wt(t)[e].apply(t,n);return u_(),ra(),o}const CH=i_("__proto__,__v_isRef,__isVue"),LD=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zs));function _H(t){zs(t)||(t=String(t));const e=wt(this);return Qn(e,"has",t),e.hasOwnProperty(t)}class BD{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,o){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(r?i?LH:$D:i?PD:jD).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const s=qe(e);if(!r){let c;if(s&&(c=kH[n]))return c;if(n==="hasOwnProperty")return _H}const l=Reflect.get(e,n,Ln(e)?e:o);return(zs(n)?LD.has(n):CH(n))||(r||Qn(e,"get",n),i)?l:Ln(l)?s&&a_(n)?l:l.value:Yt(l)?r?HD(l):Gy(l):l}}class ID extends BD{constructor(e=!1){super(!1,e)}set(e,n,o,r){let i=e[n];if(!this._isShallow){const c=lc(i);if(!Yr(o)&&!lc(o)&&(i=wt(i),o=wt(o)),!qe(e)&&Ln(i)&&!Ln(o))return c?!1:(i.value=o,!0)}const s=qe(e)&&a_(n)?Number(n)<e.length:xt(e,n),l=Reflect.set(e,n,o,Ln(e)?e:r);return e===wt(r)&&(s?zl(o,i)&&vs(e,"set",n,o):vs(e,"add",n,o)),l}deleteProperty(e,n){const o=xt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&o&&vs(e,"delete",n,void 0),r}has(e,n){const o=Reflect.has(e,n);return(!zs(n)||!LD.has(n))&&Qn(e,"has",n),o}ownKeys(e){return Qn(e,"iterate",qe(e)?"length":Qa),Reflect.ownKeys(e)}}class SH extends BD{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const EH=new ID,TH=new SH,MH=new ID(!0);const px=t=>t,Jm=t=>Reflect.getPrototypeOf(t);function AH(t,e,n){return function(...o){const r=this.__v_raw,i=wt(r),s=$u(i),l=t==="entries"||t===Symbol.iterator&&s,c=t==="keys"&&s,d=r[t](...o),f=n?px:e?mx:go;return!e&&Qn(i,"iterate",c?hx:Qa),{next(){const{value:p,done:m}=d.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function Qm(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function RH(t,e){const n={get(r){const i=this.__v_raw,s=wt(i),l=wt(r);t||(zl(r,l)&&Qn(s,"get",r),Qn(s,"get",l));const{has:c}=Jm(s),d=e?px:t?mx:go;if(c.call(s,r))return d(i.get(r));if(c.call(s,l))return d(i.get(l));i!==s&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Qn(wt(r),"iterate",Qa),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,s=wt(i),l=wt(r);return t||(zl(r,l)&&Qn(s,"has",r),Qn(s,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const s=this,l=s.__v_raw,c=wt(l),d=e?px:t?mx:go;return!t&&Qn(c,"iterate",Qa),l.forEach((f,p)=>r.call(i,d(f),d(p),s))}};return so(n,t?{add:Qm("add"),set:Qm("set"),delete:Qm("delete"),clear:Qm("clear")}:{add(r){!e&&!Yr(r)&&!lc(r)&&(r=wt(r));const i=wt(this);return Jm(i).has.call(i,r)||(i.add(r),vs(i,"add",r,r)),this},set(r,i){!e&&!Yr(i)&&!lc(i)&&(i=wt(i));const s=wt(this),{has:l,get:c}=Jm(s);let d=l.call(s,r);d||(r=wt(r),d=l.call(s,r));const f=c.call(s,r);return s.set(r,i),d?zl(i,f)&&vs(s,"set",r,i):vs(s,"add",r,i),this},delete(r){const i=wt(this),{has:s,get:l}=Jm(i);let c=s.call(i,r);c||(r=wt(r),c=s.call(i,r)),l&&l.call(i,r);const d=i.delete(r);return c&&vs(i,"delete",r,void 0),d},clear(){const r=wt(this),i=r.size!==0,s=r.clear();return i&&vs(r,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=AH(r,t,e)}),n}function p_(t,e){const n=RH(t,e);return(o,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(xt(n,r)&&r in o?n:o,r,i)}const OH={get:p_(!1,!1)},NH={get:p_(!1,!0)},DH={get:p_(!0,!1)};const jD=new WeakMap,PD=new WeakMap,$D=new WeakMap,LH=new WeakMap;function BH(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function IH(t){return t.__v_skip||!Object.isExtensible(t)?0:BH(sH(t))}function Gy(t){return lc(t)?t:m_(t,!1,EH,OH,jD)}function jH(t){return m_(t,!1,MH,NH,PD)}function HD(t){return m_(t,!0,TH,DH,$D)}function m_(t,e,n,o,r){if(!Yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const s=IH(t);if(s===0)return t;const l=new Proxy(t,s===2?o:n);return r.set(t,l),l}function rh(t){return lc(t)?rh(t.__v_raw):!!(t&&t.__v_isReactive)}function lc(t){return!!(t&&t.__v_isReadonly)}function Yr(t){return!!(t&&t.__v_isShallow)}function g_(t){return t?!!t.__v_raw:!1}function wt(t){const e=t&&t.__v_raw;return e?wt(e):t}function PH(t){return!xt(t,"__v_skip")&&Object.isExtensible(t)&&xD(t,"__v_skip",!0),t}const go=t=>Yt(t)?Gy(t):t,mx=t=>Yt(t)?HD(t):t;function Ln(t){return t?t.__v_isRef===!0:!1}function $H(t){return zD(t,!1)}function rb(t){return zD(t,!0)}function zD(t,e){return Ln(t)?t:new HH(t,e)}class HH{constructor(e,n){this.dep=new f_,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:wt(e),this._value=n?e:go(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,o=this.__v_isShallow||Yr(e)||lc(e);e=o?e:wt(e),zl(e,n)&&(this._rawValue=e,this._value=o?e:go(e),this.dep.trigger())}}function Ur(t){return Ln(t)?t.value:t}const zH={get:(t,e,n)=>e==="__v_raw"?t:Ur(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const r=t[e];return Ln(r)&&!Ln(n)?(r.value=n,!0):Reflect.set(t,e,n,o)}};function VD(t){return rh(t)?t:new Proxy(t,zH)}function UD(t){const e=qe(t)?new Array(t.length):{};for(const n in t)e[n]=FD(t,n);return e}class VH{constructor(e,n,o){this._object=e,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return wH(wt(this._object),this._key)}}class UH{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function eR(t,e,n){return Ln(t)?t:Ze(t)?new UH(t):Yt(t)&&arguments.length>1?FD(t,e,n):$H(t)}function FD(t,e,n){const o=t[e];return Ln(o)?o:new VH(t,e,n)}class FH{constructor(e,n,o){this.fn=e,this.setter=n,this._value=void 0,this.dep=new f_(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_h-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&zt!==this)return MD(this,!0),!0}get value(){const e=this.dep.track();return OD(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function GH(t,e,n=!1){let o,r;return Ze(t)?o=t:(o=t.get,r=t.set),new FH(o,r,n)}const eg={},ib=new WeakMap;let Ia;function qH(t,e=!1,n=Ia){if(n){let o=ib.get(n);o||ib.set(n,o=[]),o.push(t)}}function KH(t,e,n=Vt){const{immediate:o,deep:r,once:i,scheduler:s,augmentJob:l,call:c}=n,d=R=>r?R:Yr(R)||r===!1||r===0?Al(R,1):Al(R);let f,p,m,b,y=!1,w=!1;if(Ln(t)?(p=()=>t.value,y=Yr(t)):rh(t)?(p=()=>d(t),y=!0):qe(t)?(w=!0,y=t.some(R=>rh(R)||Yr(R)),p=()=>t.map(R=>{if(Ln(R))return R.value;if(rh(R))return d(R);if(Ze(R))return c?c(R,2):R()})):Ze(t)?e?p=c?()=>c(t,2):t:p=()=>{if(m){oa();try{m()}finally{ra()}}const R=Ia;Ia=f;try{return c?c(t,3,[b]):t(b)}finally{Ia=R}}:p=Si,e&&r){const R=p,O=r===!0?1/0:r;p=()=>Al(R(),O)}const x=bH(),_=()=>{f.stop(),x&&x.active&&l_(x.effects,f)};if(i&&e){const R=e;e=(...O)=>{R(...O),_()}}let T=w?new Array(t.length).fill(eg):eg;const M=R=>{if(!(!(f.flags&1)||!f.dirty&&!R))if(e){const O=f.run();if(r||y||(w?O.some((B,I)=>zl(B,T[I])):zl(O,T))){m&&m();const B=Ia;Ia=f;try{const I=[O,T===eg?void 0:w&&T[0]===eg?[]:T,b];c?c(e,3,I):e(...I),T=O}finally{Ia=B}}}else f.run()};return l&&l(M),f=new ED(p),f.scheduler=s?()=>s(M,!1):M,b=R=>qH(R,!1,f),m=f.onStop=()=>{const R=ib.get(f);if(R){if(c)c(R,4);else for(const O of R)O();ib.delete(f)}},e?o?M(!0):T=f.run():s?s(M.bind(null,!0),!0):f.run(),_.pause=f.pause.bind(f),_.resume=f.resume.bind(f),_.stop=_,_}function Al(t,e=1/0,n){if(e<=0||!Yt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ln(t))Al(t.value,e,n);else if(qe(t))for(let o=0;o<t.length;o++)Al(t[o],e,n);else if(yD(t)||$u(t))t.forEach(o=>{Al(o,e,n)});else if(kD(t)){for(const o in t)Al(t[o],e,n);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Al(t[o],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dp(t,e,n,o){try{return o?t(...o):t()}catch(r){qy(r,e,n)}}function Ai(t,e,n,o){if(Ze(t)){const r=dp(t,e,n,o);return r&&vD(r)&&r.catch(i=>{qy(i,e,n)}),r}if(qe(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Ai(t[i],e,n,o));return r}}function qy(t,e,n,o=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Vt;if(e){let l=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,c,d)===!1)return}l=l.parent}if(i){oa(),dp(i,null,10,[t,c,d]),ra();return}}WH(t,n,r,o,s)}function WH(t,e,n,o=!0,r=!1){if(r)throw t;console.error(t)}const bo=[];let yi=-1;const Hu=[];let _l=null,Eu=0;const GD=Promise.resolve();let sb=null;function ZH(t){const e=sb||GD;return t?e.then(this?t.bind(this):t):e}function XH(t){let e=yi+1,n=bo.length;for(;e<n;){const o=e+n>>>1,r=bo[o],i=Eh(r);i<t||i===t&&r.flags&2?e=o+1:n=o}return e}function b_(t){if(!(t.flags&1)){const e=Eh(t),n=bo[bo.length-1];!n||!(t.flags&2)&&e>=Eh(n)?bo.push(t):bo.splice(XH(e),0,t),t.flags|=1,qD()}}function qD(){sb||(sb=GD.then(WD))}function YH(t){qe(t)?Hu.push(...t):_l&&t.id===-1?_l.splice(Eu+1,0,t):t.flags&1||(Hu.push(t),t.flags|=1),qD()}function tR(t,e,n=yi+1){for(;n<bo.length;n++){const o=bo[n];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;bo.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function KD(t){if(Hu.length){const e=[...new Set(Hu)].sort((n,o)=>Eh(n)-Eh(o));if(Hu.length=0,_l){_l.push(...e);return}for(_l=e,Eu=0;Eu<_l.length;Eu++){const n=_l[Eu];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}_l=null,Eu=0}}const Eh=t=>t.id==null?t.flags&2?-1:1/0:t.id;function WD(t){try{for(yi=0;yi<bo.length;yi++){const e=bo[yi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),dp(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;yi<bo.length;yi++){const e=bo[yi];e&&(e.flags&=-2)}yi=-1,bo.length=0,KD(),sb=null,(bo.length||Hu.length)&&WD()}}let to=null,ZD=null;function lb(t){const e=to;return to=t,ZD=t&&t.type.__scopeId||null,e}function Dg(t,e=to,n){if(!e||t._n)return t;const o=(...r)=>{o._d&&dR(-1);const i=lb(e);let s;try{s=t(...r)}finally{lb(i),o._d&&dR(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function Na(t,e,n,o){const r=t.dirs,i=e&&e.dirs;for(let s=0;s<r.length;s++){const l=r[s];i&&(l.oldValue=i[s].value);let c=l.dir[o];c&&(oa(),Ai(c,n,8,[t.el,l,t,e]),ra())}}const JH=Symbol("_vte"),QH=t=>t.__isTeleport;function y_(t,e){t.shapeFlag&6&&t.component?(t.transition=e,y_(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function gd(t,e){return Ze(t)?so({name:t.name},e,{setup:t}):t}function XD(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ab(t,e,n,o,r=!1){if(qe(t)){t.forEach((y,w)=>ab(y,e&&(qe(e)?e[w]:e),n,o,r));return}if(zu(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&ab(t,e,n,o.component.subTree);return}const i=o.shapeFlag&4?k_(o.component):o.el,s=r?null:i,{i:l,r:c}=t,d=e&&e.r,f=l.refs===Vt?l.refs={}:l.refs,p=l.setupState,m=wt(p),b=p===Vt?()=>!1:y=>xt(m,y);if(d!=null&&d!==c&&(_n(d)?(f[d]=null,b(d)&&(p[d]=null)):Ln(d)&&(d.value=null)),Ze(c))dp(c,l,12,[s,f]);else{const y=_n(c),w=Ln(c);if(y||w){const x=()=>{if(t.f){const _=y?b(c)?p[c]:f[c]:c.value;r?qe(_)&&l_(_,i):qe(_)?_.includes(i)||_.push(i):y?(f[c]=[i],b(c)&&(p[c]=f[c])):(c.value=[i],t.k&&(f[t.k]=c.value))}else y?(f[c]=s,b(c)&&(p[c]=s)):w&&(c.value=s,t.k&&(f[t.k]=s))};s?(x.id=-1,er(x,n)):x()}}}Uy().requestIdleCallback;Uy().cancelIdleCallback;const zu=t=>!!t.type.__asyncLoader,YD=t=>t.type.__isKeepAlive;function ez(t,e){JD(t,"a",e)}function tz(t,e){JD(t,"da",e)}function JD(t,e,n=Gn){const o=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ky(e,o,n),n){let r=n.parent;for(;r&&r.parent;)YD(r.parent.vnode)&&nz(o,e,n,r),r=r.parent}}function nz(t,e,n,o){const r=Ky(e,t,o,!0);eL(()=>{l_(o[e],r)},n)}function Ky(t,e,n=Gn,o=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...s)=>{oa();const l=fp(n),c=Ai(e,n,t,s);return l(),ra(),c});return o?r.unshift(i):r.push(i),i}}const Vs=t=>(e,n=Gn)=>{(!Rh||t==="sp")&&Ky(t,(...o)=>e(...o),n)},oz=Vs("bm"),QD=Vs("m"),rz=Vs("bu"),iz=Vs("u"),sz=Vs("bum"),eL=Vs("um"),lz=Vs("sp"),az=Vs("rtg"),cz=Vs("rtc");function uz(t,e=Gn){Ky("ec",t,e)}const dz="components";function fz(t,e){return pz(dz,t,!0,e)||t}const hz=Symbol.for("v-ndc");function pz(t,e,n=!0,o=!1){const r=to||Gn;if(r){const i=r.type;{const l=tV(i,!1);if(l&&(l===e||l===Ir(e)||l===Vy(Ir(e))))return i}const s=nR(r[t]||i[t],e)||nR(r.appContext[t],e);return!s&&o?i:s}}function nR(t,e){return t&&(t[e]||t[Ir(e)]||t[Vy(Ir(e))])}function qf(t,e,n={},o,r){if(to.ce||to.parent&&zu(to.parent)&&to.parent.ce)return e!=="default"&&(n.name=e),Do(),Mh(yo,null,[on("slot",n,o)],64);let i=t[e];i&&i._c&&(i._d=!1),Do();const s=i&&tL(i(n)),l=n.key||s&&s.key,c=Mh(yo,{key:(l&&!zs(l)?l:`_${e}`)+""},s||[],s&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function tL(t){return t.some(e=>Ah(e)?!(e.type===Bs||e.type===yo&&!tL(e.children)):!0)?t:null}const gx=t=>t?CL(t)?k_(t):gx(t.parent):null,ih=so(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gx(t.parent),$root:t=>gx(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>oL(t),$forceUpdate:t=>t.f||(t.f=()=>{b_(t.update)}),$nextTick:t=>t.n||(t.n=ZH.bind(t.proxy)),$watch:t=>Bz.bind(t)}),_w=(t,e)=>t!==Vt&&!t.__isScriptSetup&&xt(t,e),mz={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:l,appContext:c}=t;let d;if(e[0]!=="$"){const b=s[e];if(b!==void 0)switch(b){case 1:return o[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(_w(o,e))return s[e]=1,o[e];if(r!==Vt&&xt(r,e))return s[e]=2,r[e];if((d=t.propsOptions[0])&&xt(d,e))return s[e]=3,i[e];if(n!==Vt&&xt(n,e))return s[e]=4,n[e];bx&&(s[e]=0)}}const f=ih[e];let p,m;if(f)return e==="$attrs"&&Qn(t.attrs,"get",""),f(t);if((p=l.__cssModules)&&(p=p[e]))return p;if(n!==Vt&&xt(n,e))return s[e]=4,n[e];if(m=c.config.globalProperties,xt(m,e))return m[e]},set({_:t},e,n){const{data:o,setupState:r,ctx:i}=t;return _w(r,e)?(r[e]=n,!0):o!==Vt&&xt(o,e)?(o[e]=n,!0):xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:r,propsOptions:i}},s){let l;return!!n[s]||t!==Vt&&xt(t,s)||_w(e,s)||(l=i[0])&&xt(l,s)||xt(o,s)||xt(ih,s)||xt(r.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function oR(t){return qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let bx=!0;function gz(t){const e=oL(t),n=t.proxy,o=t.ctx;bx=!1,e.beforeCreate&&rR(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:s,watch:l,provide:c,inject:d,created:f,beforeMount:p,mounted:m,beforeUpdate:b,updated:y,activated:w,deactivated:x,beforeDestroy:_,beforeUnmount:T,destroyed:M,unmounted:R,render:O,renderTracked:B,renderTriggered:I,errorCaptured:H,serverPrefetch:q,expose:Q,inheritAttrs:ve,components:ue,directives:xe,filters:be}=e;if(d&&bz(d,o,null),s)for(const z in s){const U=s[z];Ze(U)&&(o[z]=U.bind(n))}if(r){const z=r.call(n,n);Yt(z)&&(t.data=Gy(z))}if(bx=!0,i)for(const z in i){const U=i[z],re=Ze(U)?U.bind(n,n):Ze(U.get)?U.get.bind(n,n):Si,N=!Ze(U)&&Ze(U.set)?U.set.bind(n):Si,F=sr({get:re,set:N});Object.defineProperty(o,z,{enumerable:!0,configurable:!0,get:()=>F.value,set:ne=>F.value=ne})}if(l)for(const z in l)nL(l[z],o,n,z);if(c){const z=Ze(c)?c.call(n):c;Reflect.ownKeys(z).forEach(U=>{iL(U,z[U])})}f&&rR(f,t,"c");function j(z,U){qe(U)?U.forEach(re=>z(re.bind(n))):U&&z(U.bind(n))}if(j(oz,p),j(QD,m),j(rz,b),j(iz,y),j(ez,w),j(tz,x),j(uz,H),j(cz,B),j(az,I),j(sz,T),j(eL,R),j(lz,q),qe(Q))if(Q.length){const z=t.exposed||(t.exposed={});Q.forEach(U=>{Object.defineProperty(z,U,{get:()=>n[U],set:re=>n[U]=re})})}else t.exposed||(t.exposed={});O&&t.render===Si&&(t.render=O),ve!=null&&(t.inheritAttrs=ve),ue&&(t.components=ue),xe&&(t.directives=xe),q&&XD(t)}function bz(t,e,n=Si){qe(t)&&(t=yx(t));for(const o in t){const r=t[o];let i;Yt(r)?"default"in r?i=Vl(r.from||o,r.default,!0):i=Vl(r.from||o):i=Vl(r),Ln(i)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[o]=i}}function rR(t,e,n){Ai(qe(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function nL(t,e,n,o){let r=o.includes(".")?yL(n,o):()=>n[o];if(_n(t)){const i=e[t];Ze(i)&&sh(r,i)}else if(Ze(t))sh(r,t.bind(n));else if(Yt(t))if(qe(t))t.forEach(i=>nL(i,e,n,o));else{const i=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(i)&&sh(r,i,t)}}function oL(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,l=i.get(e);let c;return l?c=l:!r.length&&!n&&!o?c=e:(c={},r.length&&r.forEach(d=>cb(c,d,s,!0)),cb(c,e,s)),Yt(e)&&i.set(e,c),c}function cb(t,e,n,o=!1){const{mixins:r,extends:i}=e;i&&cb(t,i,n,!0),r&&r.forEach(s=>cb(t,s,n,!0));for(const s in e)if(!(o&&s==="expose")){const l=yz[s]||n&&n[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const yz={data:iR,props:sR,emits:sR,methods:Kf,computed:Kf,beforeCreate:po,created:po,beforeMount:po,mounted:po,beforeUpdate:po,updated:po,beforeDestroy:po,beforeUnmount:po,destroyed:po,unmounted:po,activated:po,deactivated:po,errorCaptured:po,serverPrefetch:po,components:Kf,directives:Kf,watch:wz,provide:iR,inject:vz};function iR(t,e){return e?t?function(){return so(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function vz(t,e){return Kf(yx(t),yx(e))}function yx(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function po(t,e){return t?[...new Set([].concat(t,e))]:e}function Kf(t,e){return t?so(Object.create(null),t,e):e}function sR(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:so(Object.create(null),oR(t),oR(e??{})):e}function wz(t,e){if(!t)return e;if(!e)return t;const n=so(Object.create(null),t);for(const o in e)n[o]=po(t[o],e[o]);return n}function rL(){return{app:null,config:{isNativeTag:rH,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kz=0;function xz(t,e){return function(o,r=null){Ze(o)||(o=so({},o)),r!=null&&!Yt(r)&&(r=null);const i=rL(),s=new WeakSet,l=[];let c=!1;const d=i.app={_uid:kz++,_component:o,_props:r,_container:null,_context:i,_instance:null,version:rV,get config(){return i.config},set config(f){},use(f,...p){return s.has(f)||(f&&Ze(f.install)?(s.add(f),f.install(d,...p)):Ze(f)&&(s.add(f),f(d,...p))),d},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),d},component(f,p){return p?(i.components[f]=p,d):i.components[f]},directive(f,p){return p?(i.directives[f]=p,d):i.directives[f]},mount(f,p,m){if(!c){const b=d._ceVNode||on(o,r);return b.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(b,f,m),c=!0,d._container=f,f.__vue_app__=d,k_(b.component)}},onUnmount(f){l.push(f)},unmount(){c&&(Ai(l,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(f,p){return i.provides[f]=p,d},runWithContext(f){const p=Vu;Vu=d;try{return f()}finally{Vu=p}}};return d}}let Vu=null;function iL(t,e){if(Gn){let n=Gn.provides;const o=Gn.parent&&Gn.parent.provides;o===n&&(n=Gn.provides=Object.create(o)),n[t]=e}}function Vl(t,e,n=!1){const o=Gn||to;if(o||Vu){const r=Vu?Vu._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Ze(e)?e.call(o&&o.proxy):e}}const sL={},lL=()=>Object.create(sL),aL=t=>Object.getPrototypeOf(t)===sL;function Cz(t,e,n,o=!1){const r={},i=lL();t.propsDefaults=Object.create(null),cL(t,e,r,i);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=o?r:jH(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function _z(t,e,n,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=t,l=wt(r),[c]=t.propsOptions;let d=!1;if((o||s>0)&&!(s&16)){if(s&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(Wy(t.emitsOptions,m))continue;const b=e[m];if(c)if(xt(i,m))b!==i[m]&&(i[m]=b,d=!0);else{const y=Ir(m);r[y]=vx(c,l,y,b,t,!1)}else b!==i[m]&&(i[m]=b,d=!0)}}}else{cL(t,e,r,i)&&(d=!0);let f;for(const p in l)(!e||!xt(e,p)&&((f=xc(p))===p||!xt(e,f)))&&(c?n&&(n[p]!==void 0||n[f]!==void 0)&&(r[p]=vx(c,l,p,void 0,t,!0)):delete r[p]);if(i!==l)for(const p in i)(!e||!xt(e,p))&&(delete i[p],d=!0)}d&&vs(t.attrs,"set","")}function cL(t,e,n,o){const[r,i]=t.propsOptions;let s=!1,l;if(e)for(let c in e){if(th(c))continue;const d=e[c];let f;r&&xt(r,f=Ir(c))?!i||!i.includes(f)?n[f]=d:(l||(l={}))[f]=d:Wy(t.emitsOptions,c)||(!(c in o)||d!==o[c])&&(o[c]=d,s=!0)}if(i){const c=wt(n),d=l||Vt;for(let f=0;f<i.length;f++){const p=i[f];n[p]=vx(r,c,p,d[p],t,!xt(d,p))}}return s}function vx(t,e,n,o,r,i){const s=t[n];if(s!=null){const l=xt(s,"default");if(l&&o===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&Ze(c)){const{propsDefaults:d}=r;if(n in d)o=d[n];else{const f=fp(r);o=d[n]=c.call(null,e),f()}}else o=c;r.ce&&r.ce._setProp(n,o)}s[0]&&(i&&!l?o=!1:s[1]&&(o===""||o===xc(n))&&(o=!0))}return o}const Sz=new WeakMap;function uL(t,e,n=!1){const o=n?Sz:e.propsCache,r=o.get(t);if(r)return r;const i=t.props,s={},l=[];let c=!1;if(!Ze(t)){const f=p=>{c=!0;const[m,b]=uL(p,e,!0);so(s,m),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!c)return Yt(t)&&o.set(t,Pu),Pu;if(qe(i))for(let f=0;f<i.length;f++){const p=Ir(i[f]);lR(p)&&(s[p]=Vt)}else if(i)for(const f in i){const p=Ir(f);if(lR(p)){const m=i[f],b=s[p]=qe(m)||Ze(m)?{type:m}:so({},m),y=b.type;let w=!1,x=!0;if(qe(y))for(let _=0;_<y.length;++_){const T=y[_],M=Ze(T)&&T.name;if(M==="Boolean"){w=!0;break}else M==="String"&&(x=!1)}else w=Ze(y)&&y.name==="Boolean";b[0]=w,b[1]=x,(w||xt(b,"default"))&&l.push(p)}}const d=[s,l];return Yt(t)&&o.set(t,d),d}function lR(t){return t[0]!=="$"&&!th(t)}const dL=t=>t[0]==="_"||t==="$stable",v_=t=>qe(t)?t.map(xi):[xi(t)],Ez=(t,e,n)=>{if(e._n)return e;const o=Dg((...r)=>v_(e(...r)),n);return o._c=!1,o},fL=(t,e,n)=>{const o=t._ctx;for(const r in t){if(dL(r))continue;const i=t[r];if(Ze(i))e[r]=Ez(r,i,o);else if(i!=null){const s=v_(i);e[r]=()=>s}}},hL=(t,e)=>{const n=v_(e);t.slots.default=()=>n},pL=(t,e,n)=>{for(const o in e)(n||o!=="_")&&(t[o]=e[o])},Tz=(t,e,n)=>{const o=t.slots=lL();if(t.vnode.shapeFlag&32){const r=e._;r?(pL(o,e,n),n&&xD(o,"_",r,!0)):fL(e,o)}else e&&hL(t,e)},Mz=(t,e,n)=>{const{vnode:o,slots:r}=t;let i=!0,s=Vt;if(o.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:pL(r,e,n):(i=!e.$stable,fL(e,r)),s=e}else e&&(hL(t,e),s={default:1});if(i)for(const l in r)!dL(l)&&s[l]==null&&delete r[l]},er=Vz;function Az(t){return Rz(t)}function Rz(t,e){const n=Uy();n.__VUE__=!0;const{insert:o,remove:r,patchProp:i,createElement:s,createText:l,createComment:c,setText:d,setElementText:f,parentNode:p,nextSibling:m,setScopeId:b=Si,insertStaticContent:y}=t,w=(L,P,Y,de=null,ae=null,se=null,Ce=void 0,ke=null,fe=!!P.dynamicChildren)=>{if(L===P)return;L&&!Lf(L,P)&&(de=it(L),ne(L,ae,se,!0),L=null),P.patchFlag===-2&&(fe=!1,P.dynamicChildren=null);const{type:he,ref:Be,shapeFlag:_e}=P;switch(he){case Zy:x(L,P,Y,de);break;case Bs:_(L,P,Y,de);break;case Ew:L==null&&T(P,Y,de,Ce);break;case yo:ue(L,P,Y,de,ae,se,Ce,ke,fe);break;default:_e&1?O(L,P,Y,de,ae,se,Ce,ke,fe):_e&6?xe(L,P,Y,de,ae,se,Ce,ke,fe):(_e&64||_e&128)&&he.process(L,P,Y,de,ae,se,Ce,ke,fe,Gt)}Be!=null&&ae&&ab(Be,L&&L.ref,se,P||L,!P)},x=(L,P,Y,de)=>{if(L==null)o(P.el=l(P.children),Y,de);else{const ae=P.el=L.el;P.children!==L.children&&d(ae,P.children)}},_=(L,P,Y,de)=>{L==null?o(P.el=c(P.children||""),Y,de):P.el=L.el},T=(L,P,Y,de)=>{[L.el,L.anchor]=y(L.children,P,Y,de,L.el,L.anchor)},M=({el:L,anchor:P},Y,de)=>{let ae;for(;L&&L!==P;)ae=m(L),o(L,Y,de),L=ae;o(P,Y,de)},R=({el:L,anchor:P})=>{let Y;for(;L&&L!==P;)Y=m(L),r(L),L=Y;r(P)},O=(L,P,Y,de,ae,se,Ce,ke,fe)=>{P.type==="svg"?Ce="svg":P.type==="math"&&(Ce="mathml"),L==null?B(P,Y,de,ae,se,Ce,ke,fe):q(L,P,ae,se,Ce,ke,fe)},B=(L,P,Y,de,ae,se,Ce,ke)=>{let fe,he;const{props:Be,shapeFlag:_e,transition:De,dirs:He}=L;if(fe=L.el=s(L.type,se,Be&&Be.is,Be),_e&8?f(fe,L.children):_e&16&&H(L.children,fe,null,de,ae,Sw(L,se),Ce,ke),He&&Na(L,null,de,"created"),I(fe,L,L.scopeId,Ce,de),Be){for(const We in Be)We!=="value"&&!th(We)&&i(fe,We,null,Be[We],se,de);"value"in Be&&i(fe,"value",null,Be.value,se),(he=Be.onVnodeBeforeMount)&&mi(he,de,L)}He&&Na(L,null,de,"beforeMount");const Ke=Oz(ae,De);Ke&&De.beforeEnter(fe),o(fe,P,Y),((he=Be&&Be.onVnodeMounted)||Ke||He)&&er(()=>{he&&mi(he,de,L),Ke&&De.enter(fe),He&&Na(L,null,de,"mounted")},ae)},I=(L,P,Y,de,ae)=>{if(Y&&b(L,Y),de)for(let se=0;se<de.length;se++)b(L,de[se]);if(ae){let se=ae.subTree;if(P===se||wL(se.type)&&(se.ssContent===P||se.ssFallback===P)){const Ce=ae.vnode;I(L,Ce,Ce.scopeId,Ce.slotScopeIds,ae.parent)}}},H=(L,P,Y,de,ae,se,Ce,ke,fe=0)=>{for(let he=fe;he<L.length;he++){const Be=L[he]=ke?Sl(L[he]):xi(L[he]);w(null,Be,P,Y,de,ae,se,Ce,ke)}},q=(L,P,Y,de,ae,se,Ce)=>{const ke=P.el=L.el;let{patchFlag:fe,dynamicChildren:he,dirs:Be}=P;fe|=L.patchFlag&16;const _e=L.props||Vt,De=P.props||Vt;let He;if(Y&&Da(Y,!1),(He=De.onVnodeBeforeUpdate)&&mi(He,Y,P,L),Be&&Na(P,L,Y,"beforeUpdate"),Y&&Da(Y,!0),(_e.innerHTML&&De.innerHTML==null||_e.textContent&&De.textContent==null)&&f(ke,""),he?Q(L.dynamicChildren,he,ke,Y,de,Sw(P,ae),se):Ce||U(L,P,ke,null,Y,de,Sw(P,ae),se,!1),fe>0){if(fe&16)ve(ke,_e,De,Y,ae);else if(fe&2&&_e.class!==De.class&&i(ke,"class",null,De.class,ae),fe&4&&i(ke,"style",_e.style,De.style,ae),fe&8){const Ke=P.dynamicProps;for(let We=0;We<Ke.length;We++){const tt=Ke[We],kt=_e[tt],vn=De[tt];(vn!==kt||tt==="value")&&i(ke,tt,kt,vn,ae,Y)}}fe&1&&L.children!==P.children&&f(ke,P.children)}else!Ce&&he==null&&ve(ke,_e,De,Y,ae);((He=De.onVnodeUpdated)||Be)&&er(()=>{He&&mi(He,Y,P,L),Be&&Na(P,L,Y,"updated")},de)},Q=(L,P,Y,de,ae,se,Ce)=>{for(let ke=0;ke<P.length;ke++){const fe=L[ke],he=P[ke],Be=fe.el&&(fe.type===yo||!Lf(fe,he)||fe.shapeFlag&70)?p(fe.el):Y;w(fe,he,Be,null,de,ae,se,Ce,!0)}},ve=(L,P,Y,de,ae)=>{if(P!==Y){if(P!==Vt)for(const se in P)!th(se)&&!(se in Y)&&i(L,se,P[se],null,ae,de);for(const se in Y){if(th(se))continue;const Ce=Y[se],ke=P[se];Ce!==ke&&se!=="value"&&i(L,se,ke,Ce,ae,de)}"value"in Y&&i(L,"value",P.value,Y.value,ae)}},ue=(L,P,Y,de,ae,se,Ce,ke,fe)=>{const he=P.el=L?L.el:l(""),Be=P.anchor=L?L.anchor:l("");let{patchFlag:_e,dynamicChildren:De,slotScopeIds:He}=P;He&&(ke=ke?ke.concat(He):He),L==null?(o(he,Y,de),o(Be,Y,de),H(P.children||[],Y,Be,ae,se,Ce,ke,fe)):_e>0&&_e&64&&De&&L.dynamicChildren?(Q(L.dynamicChildren,De,Y,ae,se,Ce,ke),(P.key!=null||ae&&P===ae.subTree)&&mL(L,P,!0)):U(L,P,Y,Be,ae,se,Ce,ke,fe)},xe=(L,P,Y,de,ae,se,Ce,ke,fe)=>{P.slotScopeIds=ke,L==null?P.shapeFlag&512?ae.ctx.activate(P,Y,de,Ce,fe):be(P,Y,de,ae,se,Ce,fe):pe(L,P,fe)},be=(L,P,Y,de,ae,se,Ce)=>{const ke=L.component=Zz(L,de,ae);if(YD(L)&&(ke.ctx.renderer=Gt),Yz(ke,!1,Ce),ke.asyncDep){if(ae&&ae.registerDep(ke,j,Ce),!L.el){const fe=ke.subTree=on(Bs);_(null,fe,P,Y)}}else j(ke,L,P,Y,ae,se,Ce)},pe=(L,P,Y)=>{const de=P.component=L.component;if(Hz(L,P,Y))if(de.asyncDep&&!de.asyncResolved){z(de,P,Y);return}else de.next=P,de.update();else P.el=L.el,de.vnode=P},j=(L,P,Y,de,ae,se,Ce)=>{const ke=()=>{if(L.isMounted){let{next:_e,bu:De,u:He,parent:Ke,vnode:We}=L;{const dr=gL(L);if(dr){_e&&(_e.el=We.el,z(L,_e,Ce)),dr.asyncDep.then(()=>{L.isUnmounted||ke()});return}}let tt=_e,kt;Da(L,!1),_e?(_e.el=We.el,z(L,_e,Ce)):_e=We,De&&vw(De),(kt=_e.props&&_e.props.onVnodeBeforeUpdate)&&mi(kt,Ke,_e,We),Da(L,!0);const vn=cR(L),Pt=L.subTree;L.subTree=vn,w(Pt,vn,p(Pt.el),it(Pt),L,ae,se),_e.el=vn.el,tt===null&&zz(L,vn.el),He&&er(He,ae),(kt=_e.props&&_e.props.onVnodeUpdated)&&er(()=>mi(kt,Ke,_e,We),ae)}else{let _e;const{el:De,props:He}=P,{bm:Ke,m:We,parent:tt,root:kt,type:vn}=L,Pt=zu(P);Da(L,!1),Ke&&vw(Ke),!Pt&&(_e=He&&He.onVnodeBeforeMount)&&mi(_e,tt,P),Da(L,!0);{kt.ce&&kt.ce._injectChildStyle(vn);const dr=L.subTree=cR(L);w(null,dr,Y,de,L,ae,se),P.el=dr.el}if(We&&er(We,ae),!Pt&&(_e=He&&He.onVnodeMounted)){const dr=P;er(()=>mi(_e,tt,dr),ae)}(P.shapeFlag&256||tt&&zu(tt.vnode)&&tt.vnode.shapeFlag&256)&&L.a&&er(L.a,ae),L.isMounted=!0,P=Y=de=null}};L.scope.on();const fe=L.effect=new ED(ke);L.scope.off();const he=L.update=fe.run.bind(fe),Be=L.job=fe.runIfDirty.bind(fe);Be.i=L,Be.id=L.uid,fe.scheduler=()=>b_(Be),Da(L,!0),he()},z=(L,P,Y)=>{P.component=L;const de=L.vnode.props;L.vnode=P,L.next=null,_z(L,P.props,de,Y),Mz(L,P.children,Y),oa(),tR(L),ra()},U=(L,P,Y,de,ae,se,Ce,ke,fe=!1)=>{const he=L&&L.children,Be=L?L.shapeFlag:0,_e=P.children,{patchFlag:De,shapeFlag:He}=P;if(De>0){if(De&128){N(he,_e,Y,de,ae,se,Ce,ke,fe);return}else if(De&256){re(he,_e,Y,de,ae,se,Ce,ke,fe);return}}He&8?(Be&16&&Se(he,ae,se),_e!==he&&f(Y,_e)):Be&16?He&16?N(he,_e,Y,de,ae,se,Ce,ke,fe):Se(he,ae,se,!0):(Be&8&&f(Y,""),He&16&&H(_e,Y,de,ae,se,Ce,ke,fe))},re=(L,P,Y,de,ae,se,Ce,ke,fe)=>{L=L||Pu,P=P||Pu;const he=L.length,Be=P.length,_e=Math.min(he,Be);let De;for(De=0;De<_e;De++){const He=P[De]=fe?Sl(P[De]):xi(P[De]);w(L[De],He,Y,null,ae,se,Ce,ke,fe)}he>Be?Se(L,ae,se,!0,!1,_e):H(P,Y,de,ae,se,Ce,ke,fe,_e)},N=(L,P,Y,de,ae,se,Ce,ke,fe)=>{let he=0;const Be=P.length;let _e=L.length-1,De=Be-1;for(;he<=_e&&he<=De;){const He=L[he],Ke=P[he]=fe?Sl(P[he]):xi(P[he]);if(Lf(He,Ke))w(He,Ke,Y,null,ae,se,Ce,ke,fe);else break;he++}for(;he<=_e&&he<=De;){const He=L[_e],Ke=P[De]=fe?Sl(P[De]):xi(P[De]);if(Lf(He,Ke))w(He,Ke,Y,null,ae,se,Ce,ke,fe);else break;_e--,De--}if(he>_e){if(he<=De){const He=De+1,Ke=He<Be?P[He].el:de;for(;he<=De;)w(null,P[he]=fe?Sl(P[he]):xi(P[he]),Y,Ke,ae,se,Ce,ke,fe),he++}}else if(he>De)for(;he<=_e;)ne(L[he],ae,se,!0),he++;else{const He=he,Ke=he,We=new Map;for(he=Ke;he<=De;he++){const sn=P[he]=fe?Sl(P[he]):xi(P[he]);sn.key!=null&&We.set(sn.key,he)}let tt,kt=0;const vn=De-Ke+1;let Pt=!1,dr=0;const ci=new Array(vn);for(he=0;he<vn;he++)ci[he]=0;for(he=He;he<=_e;he++){const sn=L[he];if(kt>=vn){ne(sn,ae,se,!0);continue}let uo;if(sn.key!=null)uo=We.get(sn.key);else for(tt=Ke;tt<=De;tt++)if(ci[tt-Ke]===0&&Lf(sn,P[tt])){uo=tt;break}uo===void 0?ne(sn,ae,se,!0):(ci[uo-Ke]=he+1,uo>=dr?dr=uo:Pt=!0,w(sn,P[uo],Y,null,ae,se,Ce,ke,fe),kt++)}const ha=Pt?Nz(ci):Pu;for(tt=ha.length-1,he=vn-1;he>=0;he--){const sn=Ke+he,uo=P[sn],Zs=sn+1<Be?P[sn+1].el:de;ci[he]===0?w(null,uo,Y,Zs,ae,se,Ce,ke,fe):Pt&&(tt<0||he!==ha[tt]?F(uo,Y,Zs,2):tt--)}}},F=(L,P,Y,de,ae=null)=>{const{el:se,type:Ce,transition:ke,children:fe,shapeFlag:he}=L;if(he&6){F(L.component.subTree,P,Y,de);return}if(he&128){L.suspense.move(P,Y,de);return}if(he&64){Ce.move(L,P,Y,Gt);return}if(Ce===yo){o(se,P,Y);for(let _e=0;_e<fe.length;_e++)F(fe[_e],P,Y,de);o(L.anchor,P,Y);return}if(Ce===Ew){M(L,P,Y);return}if(de!==2&&he&1&&ke)if(de===0)ke.beforeEnter(se),o(se,P,Y),er(()=>ke.enter(se),ae);else{const{leave:_e,delayLeave:De,afterLeave:He}=ke,Ke=()=>o(se,P,Y),We=()=>{_e(se,()=>{Ke(),He&&He()})};De?De(se,Ke,We):We()}else o(se,P,Y)},ne=(L,P,Y,de=!1,ae=!1)=>{const{type:se,props:Ce,ref:ke,children:fe,dynamicChildren:he,shapeFlag:Be,patchFlag:_e,dirs:De,cacheIndex:He}=L;if(_e===-2&&(ae=!1),ke!=null&&ab(ke,null,Y,L,!0),He!=null&&(P.renderCache[He]=void 0),Be&256){P.ctx.deactivate(L);return}const Ke=Be&1&&De,We=!zu(L);let tt;if(We&&(tt=Ce&&Ce.onVnodeBeforeUnmount)&&mi(tt,P,L),Be&6)Pe(L.component,Y,de);else{if(Be&128){L.suspense.unmount(Y,de);return}Ke&&Na(L,null,P,"beforeUnmount"),Be&64?L.type.remove(L,P,Y,Gt,de):he&&!he.hasOnce&&(se!==yo||_e>0&&_e&64)?Se(he,P,Y,!1,!0):(se===yo&&_e&384||!ae&&Be&16)&&Se(fe,P,Y),de&&le(L)}(We&&(tt=Ce&&Ce.onVnodeUnmounted)||Ke)&&er(()=>{tt&&mi(tt,P,L),Ke&&Na(L,null,P,"unmounted")},Y)},le=L=>{const{type:P,el:Y,anchor:de,transition:ae}=L;if(P===yo){Ee(Y,de);return}if(P===Ew){R(L);return}const se=()=>{r(Y),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(L.shapeFlag&1&&ae&&!ae.persisted){const{leave:Ce,delayLeave:ke}=ae,fe=()=>Ce(Y,se);ke?ke(L.el,se,fe):fe()}else se()},Ee=(L,P)=>{let Y;for(;L!==P;)Y=m(L),r(L),L=Y;r(P)},Pe=(L,P,Y)=>{const{bum:de,scope:ae,job:se,subTree:Ce,um:ke,m:fe,a:he}=L;aR(fe),aR(he),de&&vw(de),ae.stop(),se&&(se.flags|=8,ne(Ce,L,P,Y)),ke&&er(ke,P),er(()=>{L.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Se=(L,P,Y,de=!1,ae=!1,se=0)=>{for(let Ce=se;Ce<L.length;Ce++)ne(L[Ce],P,Y,de,ae)},it=L=>{if(L.shapeFlag&6)return it(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const P=m(L.anchor||L.el),Y=P&&P[JH];return Y?m(Y):P};let Xe=!1;const Dt=(L,P,Y)=>{L==null?P._vnode&&ne(P._vnode,null,null,!0):w(P._vnode||null,L,P,null,null,null,Y),P._vnode=L,Xe||(Xe=!0,tR(),KD(),Xe=!1)},Gt={p:w,um:ne,m:F,r:le,mt:be,mc:H,pc:U,pbc:Q,n:it,o:t};return{render:Dt,hydrate:void 0,createApp:xz(Dt)}}function Sw({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Da({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Oz(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function mL(t,e,n=!1){const o=t.children,r=e.children;if(qe(o)&&qe(r))for(let i=0;i<o.length;i++){const s=o[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Sl(r[i]),l.el=s.el),!n&&l.patchFlag!==-2&&mL(s,l)),l.type===Zy&&(l.el=s.el)}}function Nz(t){const e=t.slice(),n=[0];let o,r,i,s,l;const c=t.length;for(o=0;o<c;o++){const d=t[o];if(d!==0){if(r=n[n.length-1],t[r]<d){e[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)l=i+s>>1,t[n[l]]<d?i=l+1:s=l;d<t[n[i]]&&(i>0&&(e[o]=n[i-1]),n[i]=o)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=e[s];return n}function gL(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:gL(e)}function aR(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Dz=Symbol.for("v-scx"),Lz=()=>Vl(Dz);function sh(t,e,n){return bL(t,e,n)}function bL(t,e,n=Vt){const{immediate:o,deep:r,flush:i,once:s}=n,l=so({},n),c=e&&o||!e&&i!=="post";let d;if(Rh){if(i==="sync"){const b=Lz();d=b.__watcherHandles||(b.__watcherHandles=[])}else if(!c){const b=()=>{};return b.stop=Si,b.resume=Si,b.pause=Si,b}}const f=Gn;l.call=(b,y,w)=>Ai(b,f,y,w);let p=!1;i==="post"?l.scheduler=b=>{er(b,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(b,y)=>{y?b():b_(b)}),l.augmentJob=b=>{e&&(b.flags|=4),p&&(b.flags|=2,f&&(b.id=f.uid,b.i=f))};const m=KH(t,e,l);return Rh&&(d?d.push(m):c&&m()),m}function Bz(t,e,n){const o=this.proxy,r=_n(t)?t.includes(".")?yL(o,t):()=>o[t]:t.bind(o,o);let i;Ze(e)?i=e:(i=e.handler,n=e);const s=fp(this),l=bL(r,i.bind(o),n);return s(),l}function yL(t,e){const n=e.split(".");return()=>{let o=t;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const Iz=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ir(e)}Modifiers`]||t[`${xc(e)}Modifiers`];function jz(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||Vt;let r=n;const i=e.startsWith("update:"),s=i&&Iz(o,e.slice(7));s&&(s.trim&&(r=n.map(f=>_n(f)?f.trim():f)),s.number&&(r=n.map(cH)));let l,c=o[l=yw(e)]||o[l=yw(Ir(e))];!c&&i&&(c=o[l=yw(xc(e))]),c&&Ai(c,t,6,r);const d=o[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ai(d,t,6,r)}}function vL(t,e,n=!1){const o=e.emitsCache,r=o.get(t);if(r!==void 0)return r;const i=t.emits;let s={},l=!1;if(!Ze(t)){const c=d=>{const f=vL(d,e,!0);f&&(l=!0,so(s,f))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(Yt(t)&&o.set(t,null),null):(qe(i)?i.forEach(c=>s[c]=null):so(s,i),Yt(t)&&o.set(t,s),s)}function Wy(t,e){return!t||!$y(e)?!1:(e=e.slice(2).replace(/Once$/,""),xt(t,e[0].toLowerCase()+e.slice(1))||xt(t,xc(e))||xt(t,e))}function cR(t){const{type:e,vnode:n,proxy:o,withProxy:r,propsOptions:[i],slots:s,attrs:l,emit:c,render:d,renderCache:f,props:p,data:m,setupState:b,ctx:y,inheritAttrs:w}=t,x=lb(t);let _,T;try{if(n.shapeFlag&4){const R=r||o,O=R;_=xi(d.call(O,R,f,p,b,m,y)),T=l}else{const R=e;_=xi(R.length>1?R(p,{attrs:l,slots:s,emit:c}):R(p,null)),T=e.props?l:Pz(l)}}catch(R){lh.length=0,qy(R,t,1),_=on(Bs)}let M=_;if(T&&w!==!1){const R=Object.keys(T),{shapeFlag:O}=M;R.length&&O&7&&(i&&R.some(s_)&&(T=$z(T,i)),M=Qu(M,T,!1,!0))}return n.dirs&&(M=Qu(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&y_(M,n.transition),_=M,lb(x),_}const Pz=t=>{let e;for(const n in t)(n==="class"||n==="style"||$y(n))&&((e||(e={}))[n]=t[n]);return e},$z=(t,e)=>{const n={};for(const o in t)(!s_(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n};function Hz(t,e,n){const{props:o,children:r,component:i}=t,{props:s,children:l,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?uR(o,s,d):!!s;if(c&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(s[m]!==o[m]&&!Wy(d,m))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:o===s?!1:o?s?uR(o,s,d):!0:!!s;return!1}function uR(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(e[i]!==t[i]&&!Wy(n,i))return!0}return!1}function zz({vnode:t,parent:e},n){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=n,e=e.parent;else break}}const wL=t=>t.__isSuspense;function Vz(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):YH(t)}const yo=Symbol.for("v-fgt"),Zy=Symbol.for("v-txt"),Bs=Symbol.for("v-cmt"),Ew=Symbol.for("v-stc"),lh=[];let ir=null;function Do(t=!1){lh.push(ir=t?null:[])}function Uz(){lh.pop(),ir=lh[lh.length-1]||null}let Th=1;function dR(t,e=!1){Th+=t,t<0&&ir&&e&&(ir.hasOnce=!0)}function kL(t){return t.dynamicChildren=Th>0?ir||Pu:null,Uz(),Th>0&&ir&&ir.push(t),t}function Cs(t,e,n,o,r,i){return kL(Sr(t,e,n,o,r,i,!0))}function Mh(t,e,n,o,r){return kL(on(t,e,n,o,r,!0))}function Ah(t){return t?t.__v_isVNode===!0:!1}function Lf(t,e){return t.type===e.type&&t.key===e.key}const xL=({key:t})=>t??null,Lg=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?_n(t)||Ln(t)||Ze(t)?{i:to,r:t,k:e,f:!!n}:t:null);function Sr(t,e=null,n=null,o=0,r=null,i=t===yo?0:1,s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xL(e),ref:e&&Lg(e),scopeId:ZD,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:to};return l?(w_(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=_n(n)?8:16),Th>0&&!s&&ir&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&ir.push(c),c}const on=Fz;function Fz(t,e=null,n=null,o=0,r=null,i=!1){if((!t||t===hz)&&(t=Bs),Ah(t)){const l=Qu(t,e,!0);return n&&w_(l,n),Th>0&&!i&&ir&&(l.shapeFlag&6?ir[ir.indexOf(t)]=l:ir.push(l)),l.patchFlag=-2,l}if(nV(t)&&(t=t.__vccOpts),e){e=Gz(e);let{class:l,style:c}=e;l&&!_n(l)&&(e.class=xs(l)),Yt(c)&&(g_(c)&&!qe(c)&&(c=so({},c)),e.style=Fy(c))}const s=_n(t)?1:wL(t)?128:QH(t)?64:Yt(t)?4:Ze(t)?2:0;return Sr(t,e,n,o,r,s,i,!0)}function Gz(t){return t?g_(t)||aL(t)?so({},t):t:null}function Qu(t,e,n=!1,o=!1){const{props:r,ref:i,patchFlag:s,children:l,transition:c}=t,d=e?qz(r||{},e):r,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&xL(d),ref:e&&e.ref?n&&i?qe(i)?i.concat(Lg(e)):[i,Lg(e)]:Lg(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yo?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qu(t.ssContent),ssFallback:t.ssFallback&&Qu(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&o&&y_(f,c.clone(f)),f}function Tu(t=" ",e=0){return on(Zy,null,t,e)}function fR(t="",e=!1){return e?(Do(),Mh(Bs,null,t)):on(Bs,null,t)}function xi(t){return t==null||typeof t=="boolean"?on(Bs):qe(t)?on(yo,null,t.slice()):Ah(t)?Sl(t):on(Zy,null,String(t))}function Sl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qu(t)}function w_(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(o&65){const r=e.default;r&&(r._c&&(r._d=!1),w_(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!aL(e)?e._ctx=to:r===3&&to&&(to.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:to},n=32):(e=String(e),o&64?(n=16,e=[Tu(e)]):n=8);t.children=e,t.shapeFlag|=n}function qz(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const r in o)if(r==="class")e.class!==o.class&&(e.class=xs([e.class,o.class]));else if(r==="style")e.style=Fy([e.style,o.style]);else if($y(r)){const i=e[r],s=o[r];s&&i!==s&&!(qe(i)&&i.includes(s))&&(e[r]=i?[].concat(i,s):s)}else r!==""&&(e[r]=o[r])}return e}function mi(t,e,n,o=null){Ai(t,e,7,[n,o])}const Kz=rL();let Wz=0;function Zz(t,e,n){const o=t.type,r=(e?e.appContext:t.appContext)||Kz,i={uid:Wz++,vnode:t,type:o,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new gH(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uL(o,r),emitsOptions:vL(o,r),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:o.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=jz.bind(null,i),t.ce&&t.ce(i),i}let Gn=null;const Xz=()=>Gn||to;let ub,wx;{const t=Uy(),e=(n,o)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(o),i=>{r.length>1?r.forEach(s=>s(i)):r[0](i)}};ub=e("__VUE_INSTANCE_SETTERS__",n=>Gn=n),wx=e("__VUE_SSR_SETTERS__",n=>Rh=n)}const fp=t=>{const e=Gn;return ub(t),t.scope.on(),()=>{t.scope.off(),ub(e)}},hR=()=>{Gn&&Gn.scope.off(),ub(null)};function CL(t){return t.vnode.shapeFlag&4}let Rh=!1;function Yz(t,e=!1,n=!1){e&&wx(e);const{props:o,children:r}=t.vnode,i=CL(t);Cz(t,o,i,e),Tz(t,r,n);const s=i?Jz(t,e):void 0;return e&&wx(!1),s}function Jz(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,mz);const{setup:o}=n;if(o){oa();const r=t.setupContext=o.length>1?eV(t):null,i=fp(t),s=dp(o,t,0,[t.props,r]),l=vD(s);if(ra(),i(),(l||t.sp)&&!zu(t)&&XD(t),l){if(s.then(hR,hR),e)return s.then(c=>{pR(t,c)}).catch(c=>{qy(c,t,0)});t.asyncDep=s}else pR(t,s)}else _L(t)}function pR(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Yt(e)&&(t.setupState=VD(e)),_L(t)}function _L(t,e,n){const o=t.type;t.render||(t.render=o.render||Si);{const r=fp(t);oa();try{gz(t)}finally{ra(),r()}}}const Qz={get(t,e){return Qn(t,"get",""),t[e]}};function eV(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Qz),slots:t.slots,emit:t.emit,expose:e}}function k_(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(VD(PH(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ih)return ih[n](t)},has(e,n){return n in e||n in ih}})):t.proxy}function tV(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function nV(t){return Ze(t)&&"__vccOpts"in t}const sr=(t,e)=>GH(t,e,Rh);function oV(t,e,n){const o=arguments.length;return o===2?Yt(e)&&!qe(e)?Ah(e)?on(t,null,[e]):on(t,e):on(t,null,e):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Ah(n)&&(n=[n]),on(t,e,n))}const rV="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kx;const mR=typeof window<"u"&&window.trustedTypes;if(mR)try{kx=mR.createPolicy("vue",{createHTML:t=>t})}catch{}const SL=kx?t=>kx.createHTML(t):t=>t,iV="http://www.w3.org/2000/svg",sV="http://www.w3.org/1998/Math/MathML",gs=typeof document<"u"?document:null,gR=gs&&gs.createElement("template"),lV={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const r=e==="svg"?gs.createElementNS(iV,t):e==="mathml"?gs.createElementNS(sV,t):n?gs.createElement(t,{is:n}):gs.createElement(t);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>gs.createTextNode(t),createComment:t=>gs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,r,i){const s=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{gR.innerHTML=SL(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const l=gR.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},aV=Symbol("_vtc");function cV(t,e,n){const o=t[aV];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const bR=Symbol("_vod"),uV=Symbol("_vsh"),dV=Symbol(""),fV=/(^|;)\s*display\s*:/;function hV(t,e,n){const o=t.style,r=_n(n);let i=!1;if(n&&!r){if(e)if(_n(e))for(const s of e.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&Bg(o,l,"")}else for(const s in e)n[s]==null&&Bg(o,s,"");for(const s in n)s==="display"&&(i=!0),Bg(o,s,n[s])}else if(r){if(e!==n){const s=o[dV];s&&(n+=";"+s),o.cssText=n,i=fV.test(n)}}else e&&t.removeAttribute("style");bR in t&&(t[bR]=i?o.display:"",t[uV]&&(o.display="none"))}const yR=/\s*!important$/;function Bg(t,e,n){if(qe(n))n.forEach(o=>Bg(t,e,o));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=pV(t,e);yR.test(n)?t.setProperty(xc(o),n.replace(yR,""),"important"):t[o]=n}}const vR=["Webkit","Moz","ms"],Tw={};function pV(t,e){const n=Tw[e];if(n)return n;let o=Ir(e);if(o!=="filter"&&o in t)return Tw[e]=o;o=Vy(o);for(let r=0;r<vR.length;r++){const i=vR[r]+o;if(i in t)return Tw[e]=i}return e}const wR="http://www.w3.org/1999/xlink";function kR(t,e,n,o,r,i=mH(e)){o&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(wR,e.slice(6,e.length)):t.setAttributeNS(wR,e,n):n==null||i&&!CD(n)?t.removeAttribute(e):t.setAttribute(e,i?"":zs(n)?String(n):n)}function xR(t,e,n,o,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?SL(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=CD(n):n==null&&l==="string"?(n="",s=!0):l==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(r||e)}function mV(t,e,n,o){t.addEventListener(e,n,o)}function gV(t,e,n,o){t.removeEventListener(e,n,o)}const CR=Symbol("_vei");function bV(t,e,n,o,r=null){const i=t[CR]||(t[CR]={}),s=i[e];if(o&&s)s.value=o;else{const[l,c]=yV(e);if(o){const d=i[e]=kV(o,r);mV(t,l,d,c)}else s&&(gV(t,l,s,c),i[e]=void 0)}}const _R=/(?:Once|Passive|Capture)$/;function yV(t){let e;if(_R.test(t)){e={};let o;for(;o=t.match(_R);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xc(t.slice(2)),e]}let Mw=0;const vV=Promise.resolve(),wV=()=>Mw||(vV.then(()=>Mw=0),Mw=Date.now());function kV(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Ai(xV(o,n.value),e,5,[o])};return n.value=t,n.attached=wV(),n}function xV(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>r=>!r._stopped&&o&&o(r))}else return e}const SR=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,CV=(t,e,n,o,r,i)=>{const s=r==="svg";e==="class"?cV(t,o,s):e==="style"?hV(t,n,o):$y(e)?s_(e)||bV(t,e,n,o,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_V(t,e,o,s))?(xR(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&kR(t,e,o,s,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!_n(o))?xR(t,Ir(e),o,i,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),kR(t,e,o,s))};function _V(t,e,n,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&SR(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return SR(e)&&_n(n)?!1:e in t}const SV=so({patchProp:CV},lV);let ER;function EV(){return ER||(ER=Az(SV))}const TV=(...t)=>{const e=EV().createApp(...t),{mount:n}=e;return e.mount=o=>{const r=AV(o);if(!r)return;const i=e._component;!Ze(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const s=n(r,!1,MV(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function MV(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function AV(t){return _n(t)?document.querySelector(t):t}function EL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Aw={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function RV(){if(TR)return nt;TR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(N){return N===null||typeof N!="object"?null:(N=p&&N[p]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function x(N,F,ne){this.props=N,this.context=F,this.refs=w,this.updater=ne||b}x.prototype.isReactComponent={},x.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},x.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _(){}_.prototype=x.prototype;function T(N,F,ne){this.props=N,this.context=F,this.refs=w,this.updater=ne||b}var M=T.prototype=new _;M.constructor=T,y(M,x.prototype),M.isPureReactComponent=!0;var R=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function I(N,F,ne,le,Ee,Pe){return ne=Pe.ref,{$$typeof:t,type:N,key:F,ref:ne!==void 0?ne:null,props:Pe}}function H(N,F){return I(N.type,F,void 0,void 0,void 0,N.props)}function q(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function Q(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return F[ne]})}var ve=/\/+/g;function ue(N,F){return typeof N=="object"&&N!==null&&N.key!=null?Q(""+N.key):F.toString(36)}function xe(){}function be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(xe,xe):(N.status="pending",N.then(function(F){N.status==="pending"&&(N.status="fulfilled",N.value=F)},function(F){N.status==="pending"&&(N.status="rejected",N.reason=F)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function pe(N,F,ne,le,Ee){var Pe=typeof N;(Pe==="undefined"||Pe==="boolean")&&(N=null);var Se=!1;if(N===null)Se=!0;else switch(Pe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(N.$$typeof){case t:case e:Se=!0;break;case f:return Se=N._init,pe(Se(N._payload),F,ne,le,Ee)}}if(Se)return Ee=Ee(N),Se=le===""?"."+ue(N,0):le,R(Ee)?(ne="",Se!=null&&(ne=Se.replace(ve,"$&/")+"/"),pe(Ee,F,ne,"",function(Dt){return Dt})):Ee!=null&&(q(Ee)&&(Ee=H(Ee,ne+(Ee.key==null||N&&N.key===Ee.key?"":(""+Ee.key).replace(ve,"$&/")+"/")+Se)),F.push(Ee)),1;Se=0;var it=le===""?".":le+":";if(R(N))for(var Xe=0;Xe<N.length;Xe++)le=N[Xe],Pe=it+ue(le,Xe),Se+=pe(le,F,ne,Pe,Ee);else if(Xe=m(N),typeof Xe=="function")for(N=Xe.call(N),Xe=0;!(le=N.next()).done;)le=le.value,Pe=it+ue(le,Xe++),Se+=pe(le,F,ne,Pe,Ee);else if(Pe==="object"){if(typeof N.then=="function")return pe(be(N),F,ne,le,Ee);throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Se}function j(N,F,ne){if(N==null)return N;var le=[],Ee=0;return pe(N,le,"","",function(Pe){return F.call(ne,Pe,Ee++)}),le}function z(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var U=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function re(){}return nt.Children={map:j,forEach:function(N,F,ne){j(N,function(){F.apply(this,arguments)},ne)},count:function(N){var F=0;return j(N,function(){F++}),F},toArray:function(N){return j(N,function(F){return F})||[]},only:function(N){if(!q(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},nt.Component=x,nt.Fragment=n,nt.Profiler=r,nt.PureComponent=T,nt.StrictMode=o,nt.Suspense=c,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,nt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return O.H.useMemoCache(N)}},nt.cache=function(N){return function(){return N.apply(null,arguments)}},nt.cloneElement=function(N,F,ne){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var le=y({},N.props),Ee=N.key,Pe=void 0;if(F!=null)for(Se in F.ref!==void 0&&(Pe=void 0),F.key!==void 0&&(Ee=""+F.key),F)!B.call(F,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&F.ref===void 0||(le[Se]=F[Se]);var Se=arguments.length-2;if(Se===1)le.children=ne;else if(1<Se){for(var it=Array(Se),Xe=0;Xe<Se;Xe++)it[Xe]=arguments[Xe+2];le.children=it}return I(N.type,Ee,void 0,void 0,Pe,le)},nt.createContext=function(N){return N={$$typeof:s,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:i,_context:N},N},nt.createElement=function(N,F,ne){var le,Ee={},Pe=null;if(F!=null)for(le in F.key!==void 0&&(Pe=""+F.key),F)B.call(F,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ee[le]=F[le]);var Se=arguments.length-2;if(Se===1)Ee.children=ne;else if(1<Se){for(var it=Array(Se),Xe=0;Xe<Se;Xe++)it[Xe]=arguments[Xe+2];Ee.children=it}if(N&&N.defaultProps)for(le in Se=N.defaultProps,Se)Ee[le]===void 0&&(Ee[le]=Se[le]);return I(N,Pe,void 0,void 0,null,Ee)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(N){return{$$typeof:l,render:N}},nt.isValidElement=q,nt.lazy=function(N){return{$$typeof:f,_payload:{_status:-1,_result:N},_init:z}},nt.memo=function(N,F){return{$$typeof:d,type:N,compare:F===void 0?null:F}},nt.startTransition=function(N){var F=O.T,ne={};O.T=ne;try{var le=N(),Ee=O.S;Ee!==null&&Ee(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(re,U)}catch(Pe){U(Pe)}finally{O.T=F}},nt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},nt.use=function(N){return O.H.use(N)},nt.useActionState=function(N,F,ne){return O.H.useActionState(N,F,ne)},nt.useCallback=function(N,F){return O.H.useCallback(N,F)},nt.useContext=function(N){return O.H.useContext(N)},nt.useDebugValue=function(){},nt.useDeferredValue=function(N,F){return O.H.useDeferredValue(N,F)},nt.useEffect=function(N,F,ne){var le=O.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(N,F)},nt.useId=function(){return O.H.useId()},nt.useImperativeHandle=function(N,F,ne){return O.H.useImperativeHandle(N,F,ne)},nt.useInsertionEffect=function(N,F){return O.H.useInsertionEffect(N,F)},nt.useLayoutEffect=function(N,F){return O.H.useLayoutEffect(N,F)},nt.useMemo=function(N,F){return O.H.useMemo(N,F)},nt.useOptimistic=function(N,F){return O.H.useOptimistic(N,F)},nt.useReducer=function(N,F,ne){return O.H.useReducer(N,F,ne)},nt.useRef=function(N){return O.H.useRef(N)},nt.useState=function(N){return O.H.useState(N)},nt.useSyncExternalStore=function(N,F,ne){return O.H.useSyncExternalStore(N,F,ne)},nt.useTransition=function(){return O.H.useTransition()},nt.version="19.1.0",nt}var MR;function x_(){return MR||(MR=1,Aw.exports=RV()),Aw.exports}var S=x_();const Fe=EL(S),OV=oH({__proto__:null,default:Fe},[S]);var Rw={exports:{}},Bf={},Ow={exports:{}},Nw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR;function NV(){return AR||(AR=1,function(t){function e(j,z){var U=j.length;j.push(z);e:for(;0<U;){var re=U-1>>>1,N=j[re];if(0<r(N,z))j[re]=z,j[U]=N,U=re;else break e}}function n(j){return j.length===0?null:j[0]}function o(j){if(j.length===0)return null;var z=j[0],U=j.pop();if(U!==z){j[0]=U;e:for(var re=0,N=j.length,F=N>>>1;re<F;){var ne=2*(re+1)-1,le=j[ne],Ee=ne+1,Pe=j[Ee];if(0>r(le,U))Ee<N&&0>r(Pe,le)?(j[re]=Pe,j[Ee]=U,re=Ee):(j[re]=le,j[ne]=U,re=ne);else if(Ee<N&&0>r(Pe,U))j[re]=Pe,j[Ee]=U,re=Ee;else break e}}return z}function r(j,z){var U=j.sortIndex-z.sortIndex;return U!==0?U:j.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],f=1,p=null,m=3,b=!1,y=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function R(j){for(var z=n(d);z!==null;){if(z.callback===null)o(d);else if(z.startTime<=j)o(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(d)}}function O(j){if(w=!1,R(j),!y)if(n(c)!==null)y=!0,B||(B=!0,ue());else{var z=n(d);z!==null&&pe(O,z.startTime-j)}}var B=!1,I=-1,H=5,q=-1;function Q(){return x?!0:!(t.unstable_now()-q<H)}function ve(){if(x=!1,B){var j=t.unstable_now();q=j;var z=!0;try{e:{y=!1,w&&(w=!1,T(I),I=-1),b=!0;var U=m;try{t:{for(R(j),p=n(c);p!==null&&!(p.expirationTime>j&&Q());){var re=p.callback;if(typeof re=="function"){p.callback=null,m=p.priorityLevel;var N=re(p.expirationTime<=j);if(j=t.unstable_now(),typeof N=="function"){p.callback=N,R(j),z=!0;break t}p===n(c)&&o(c),R(j)}else o(c);p=n(c)}if(p!==null)z=!0;else{var F=n(d);F!==null&&pe(O,F.startTime-j),z=!1}}break e}finally{p=null,m=U,b=!1}z=void 0}}finally{z?ue():B=!1}}}var ue;if(typeof M=="function")ue=function(){M(ve)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,be=xe.port2;xe.port1.onmessage=ve,ue=function(){be.postMessage(null)}}else ue=function(){_(ve,0)};function pe(j,z){I=_(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var U=m;m=z;try{return j()}finally{m=U}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=m;m=j;try{return z()}finally{m=U}},t.unstable_scheduleCallback=function(j,z,U){var re=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?re+U:re):U=re,j){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=U+N,j={id:f++,callback:z,priorityLevel:j,startTime:U,expirationTime:N,sortIndex:-1},U>re?(j.sortIndex=U,e(d,j),n(c)===null&&j===n(d)&&(w?(T(I),I=-1):w=!0,pe(O,U-re))):(j.sortIndex=N,e(c,j),y||b||(y=!0,B||(B=!0,ue()))),j},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(j){var z=m;return function(){var U=m;m=z;try{return j.apply(this,arguments)}finally{m=U}}}}(Nw)),Nw}var RR;function DV(){return RR||(RR=1,Ow.exports=NV()),Ow.exports}var Dw={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR;function LV(){if(OR)return Zn;OR=1;var t=x_();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Zn.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,f)},Zn.flushSync=function(c){var d=s.T,f=o.p;try{if(s.T=null,o.p=2,c)return c()}finally{s.T=d,o.p=f,o.d.f()}},Zn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(c,d))},Zn.prefetchDNS=function(c){typeof c=="string"&&o.d.D(c)},Zn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?o.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:b}):f==="script"&&o.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);o.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(c)},Zn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);o.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zn.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);o.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(c)},Zn.requestFormReset=function(c){o.d.r(c)},Zn.unstable_batchedUpdates=function(c,d){return c(d)},Zn.useFormState=function(c,d,f){return s.H.useFormState(c,d,f)},Zn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Zn.version="19.1.0",Zn}var NR;function TL(){if(NR)return Dw.exports;NR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dw.exports=LV(),Dw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function BV(){if(DR)return Bf;DR=1;var t=DV(),e=x_(),n=TL();function o(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function s(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function l(a){if(i(a)!==a)throw Error(o(188))}function c(a){var u=a.alternate;if(!u){if(u=i(a),u===null)throw Error(o(188));return u!==a?null:a}for(var h=a,g=u;;){var v=h.return;if(v===null)break;var k=v.alternate;if(k===null){if(g=v.return,g!==null){h=g;continue}break}if(v.child===k.child){for(k=v.child;k;){if(k===h)return l(v),a;if(k===g)return l(v),u;k=k.sibling}throw Error(o(188))}if(h.return!==g.return)h=v,g=k;else{for(var E=!1,A=v.child;A;){if(A===h){E=!0,h=v,g=k;break}if(A===g){E=!0,g=v,h=k;break}A=A.sibling}if(!E){for(A=k.child;A;){if(A===h){E=!0,h=k,g=v;break}if(A===g){E=!0,g=k,h=v;break}A=A.sibling}if(!E)throw Error(o(189))}}if(h.alternate!==g)throw Error(o(190))}if(h.tag!==3)throw Error(o(188));return h.stateNode.current===h?a:u}function d(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=d(a),u!==null)return u;a=a.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=ve&&a[ve]||a["@@iterator"],typeof a=="function"?a:null)}var xe=Symbol.for("react.client.reference");function be(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===xe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case y:return"Fragment";case x:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case B:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case M:return(a.displayName||"Context")+".Provider";case T:return(a._context.displayName||"Context")+".Consumer";case R:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return u=a.displayName||null,u!==null?u:be(a.type)||"Memo";case H:u=a._payload,a=a._init;try{return be(a(u))}catch{}}return null}var pe=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},re=[],N=-1;function F(a){return{current:a}}function ne(a){0>N||(a.current=re[N],re[N]=null,N--)}function le(a,u){N++,re[N]=a.current,a.current=u}var Ee=F(null),Pe=F(null),Se=F(null),it=F(null);function Xe(a,u){switch(le(Se,u),le(Pe,a),le(Ee,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?CA(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=CA(u),a=_A(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(Ee),le(Ee,a)}function Dt(){ne(Ee),ne(Pe),ne(Se)}function Gt(a){a.memoizedState!==null&&le(it,a);var u=Ee.current,h=_A(u,a.type);u!==h&&(le(Pe,a),le(Ee,h))}function So(a){Pe.current===a&&(ne(Ee),ne(Pe)),it.current===a&&(ne(it),Mf._currentValue=U)}var L=Object.prototype.hasOwnProperty,P=t.unstable_scheduleCallback,Y=t.unstable_cancelCallback,de=t.unstable_shouldYield,ae=t.unstable_requestPaint,se=t.unstable_now,Ce=t.unstable_getCurrentPriorityLevel,ke=t.unstable_ImmediatePriority,fe=t.unstable_UserBlockingPriority,he=t.unstable_NormalPriority,Be=t.unstable_LowPriority,_e=t.unstable_IdlePriority,De=t.log,He=t.unstable_setDisableYieldValue,Ke=null,We=null;function tt(a){if(typeof De=="function"&&He(a),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ke,a)}catch{}}var kt=Math.clz32?Math.clz32:dr,vn=Math.log,Pt=Math.LN2;function dr(a){return a>>>=0,a===0?32:31-(vn(a)/Pt|0)|0}var ci=256,ha=4194304;function sn(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function uo(a,u,h){var g=a.pendingLanes;if(g===0)return 0;var v=0,k=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var A=g&134217727;return A!==0?(g=A&~k,g!==0?v=sn(g):(E&=A,E!==0?v=sn(E):h||(h=A&~a,h!==0&&(v=sn(h))))):(A=g&~k,A!==0?v=sn(A):E!==0?v=sn(E):h||(h=g&~a,h!==0&&(v=sn(h)))),v===0?0:u!==0&&u!==v&&(u&k)===0&&(k=v&-v,h=u&-u,k>=h||k===32&&(h&4194048)!==0)?u:v}function Zs(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function H9(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s2(){var a=ci;return ci<<=1,(ci&4194048)===0&&(ci=256),a}function l2(){var a=ha;return ha<<=1,(ha&62914560)===0&&(ha=4194304),a}function i1(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function jd(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function z9(a,u,h,g,v,k){var E=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var A=a.entanglements,D=a.expirationTimes,W=a.hiddenUpdates;for(h=E&~h;0<h;){var ee=31-kt(h),ie=1<<ee;A[ee]=0,D[ee]=-1;var Z=W[ee];if(Z!==null)for(W[ee]=null,ee=0;ee<Z.length;ee++){var X=Z[ee];X!==null&&(X.lane&=-536870913)}h&=~ie}g!==0&&a2(a,g,0),k!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=k&~(E&~u))}function a2(a,u,h){a.pendingLanes|=u,a.suspendedLanes&=~u;var g=31-kt(u);a.entangledLanes|=u,a.entanglements[g]=a.entanglements[g]|1073741824|h&4194090}function c2(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var g=31-kt(h),v=1<<g;v&u|a[g]&u&&(a[g]|=u),h&=~v}}function s1(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function l1(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function u2(){var a=z.p;return a!==0?a:(a=window.event,a===void 0?32:UA(a.type))}function V9(a,u){var h=z.p;try{return z.p=a,u()}finally{z.p=h}}var Xs=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Xs,Eo="__reactProps$"+Xs,Nc="__reactContainer$"+Xs,a1="__reactEvents$"+Xs,U9="__reactListeners$"+Xs,F9="__reactHandles$"+Xs,d2="__reactResources$"+Xs,Pd="__reactMarker$"+Xs;function c1(a){delete a[Kn],delete a[Eo],delete a[a1],delete a[U9],delete a[F9]}function Dc(a){var u=a[Kn];if(u)return u;for(var h=a.parentNode;h;){if(u=h[Nc]||h[Kn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=MA(a);a!==null;){if(h=a[Kn])return h;a=MA(a)}return u}a=h,h=a.parentNode}return null}function Lc(a){if(a=a[Kn]||a[Nc]){var u=a.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return a}return null}function $d(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(o(33))}function Bc(a){var u=a[d2];return u||(u=a[d2]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function En(a){a[Pd]=!0}var f2=new Set,h2={};function pa(a,u){Ic(a,u),Ic(a+"Capture",u)}function Ic(a,u){for(h2[a]=u,a=0;a<u.length;a++)f2.add(u[a])}var G9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),p2={},m2={};function q9(a){return L.call(m2,a)?!0:L.call(p2,a)?!1:G9.test(a)?m2[a]=!0:(p2[a]=!0,!1)}function Vp(a,u,h){if(q9(u))if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+h)}}function Up(a,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+h)}}function Gi(a,u,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(u,h,""+g)}}var u1,g2;function jc(a){if(u1===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);u1=u&&u[1]||"",g2=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+u1+a+g2}var d1=!1;function f1(a,u){if(!a||d1)return"";d1=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Z=X}Reflect.construct(a,[],ie)}else{try{ie.call()}catch(X){Z=X}a.call(ie.prototype)}}else{try{throw Error()}catch(X){Z=X}(ie=a())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Z&&typeof X.stack=="string")return[X.stack,Z.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=g.DetermineComponentFrameRoot(),E=k[0],A=k[1];if(E&&A){var D=E.split(`
`),W=A.split(`
`);for(v=g=0;g<D.length&&!D[g].includes("DetermineComponentFrameRoot");)g++;for(;v<W.length&&!W[v].includes("DetermineComponentFrameRoot");)v++;if(g===D.length||v===W.length)for(g=D.length-1,v=W.length-1;1<=g&&0<=v&&D[g]!==W[v];)v--;for(;1<=g&&0<=v;g--,v--)if(D[g]!==W[v]){if(g!==1||v!==1)do if(g--,v--,0>v||D[g]!==W[v]){var ee=`
`+D[g].replace(" at new "," at ");return a.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",a.displayName)),ee}while(1<=g&&0<=v);break}}}finally{d1=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?jc(h):""}function K9(a){switch(a.tag){case 26:case 27:case 5:return jc(a.type);case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 15:return f1(a.type,!1);case 11:return f1(a.type.render,!1);case 1:return f1(a.type,!0);case 31:return jc("Activity");default:return""}}function b2(a){try{var u="";do u+=K9(a),a=a.return;while(a);return u}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function fr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function y2(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function W9(a){var u=y2(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,k=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return v.call(this)},set:function(E){g=""+E,k.call(this,E)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(E){g=""+E},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Fp(a){a._valueTracker||(a._valueTracker=W9(a))}function v2(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return a&&(g=y2(a)?a.checked?"true":"false":a.value),a=g,a!==h?(u.setValue(a),!0):!1}function Gp(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Z9=/[\n"\\]/g;function hr(a){return a.replace(Z9,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function h1(a,u,h,g,v,k,E,A){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),u!=null?E==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+fr(u)):a.value!==""+fr(u)&&(a.value=""+fr(u)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),u!=null?p1(a,E,fr(u)):h!=null?p1(a,E,fr(h)):g!=null&&a.removeAttribute("value"),v==null&&k!=null&&(a.defaultChecked=!!k),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+fr(A):a.removeAttribute("name")}function w2(a,u,h,g,v,k,E,A){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.type=k),u!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||u!=null))return;h=h!=null?""+fr(h):"",u=u!=null?""+fr(u):h,A||u===a.value||(a.value=u),a.defaultValue=u}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=A?a.checked:!!g,a.defaultChecked=!!g,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E)}function p1(a,u,h){u==="number"&&Gp(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Pc(a,u,h,g){if(a=a.options,u){u={};for(var v=0;v<h.length;v++)u["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=u.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&g&&(a[h].defaultSelected=!0)}else{for(h=""+fr(h),u=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}u!==null||a[v].disabled||(u=a[v])}u!==null&&(u.selected=!0)}}function k2(a,u,h){if(u!=null&&(u=""+fr(u),u!==a.value&&(a.value=u),h==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=h!=null?""+fr(h):""}function x2(a,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(o(92));if(pe(g)){if(1<g.length)throw Error(o(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=fr(u),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g)}function $c(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var X9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function C2(a,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":g?a.setProperty(u,h):typeof h!="number"||h===0||X9.has(u)?u==="float"?a.cssFloat=h:a[u]=(""+h).trim():a[u]=h+"px"}function _2(a,u,h){if(u!=null&&typeof u!="object")throw Error(o(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var v in u)g=u[v],u.hasOwnProperty(v)&&h[v]!==g&&C2(a,v,g)}else for(var k in u)u.hasOwnProperty(k)&&C2(a,k,u[k])}function m1(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),J9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qp(a){return J9.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var g1=null;function b1(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Hc=null,zc=null;function S2(a){var u=Lc(a);if(u&&(a=u.stateNode)){var h=a[Eo]||null;e:switch(a=u.stateNode,u.type){case"input":if(h1(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+hr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==a&&g.form===a.form){var v=g[Eo]||null;if(!v)throw Error(o(90));h1(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===a.form&&v2(g)}break e;case"textarea":k2(a,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Pc(a,!!h.multiple,u,!1)}}}var y1=!1;function E2(a,u,h){if(y1)return a(u,h);y1=!0;try{var g=a(u);return g}finally{if(y1=!1,(Hc!==null||zc!==null)&&(Om(),Hc&&(u=Hc,a=zc,zc=Hc=null,S2(u),a)))for(u=0;u<a.length;u++)S2(a[u])}}function Hd(a,u){var h=a.stateNode;if(h===null)return null;var g=h[Eo]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(o(231,u,typeof h));return h}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v1=!1;if(qi)try{var zd={};Object.defineProperty(zd,"passive",{get:function(){v1=!0}}),window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{v1=!1}var Ys=null,w1=null,Kp=null;function T2(){if(Kp)return Kp;var a,u=w1,h=u.length,g,v="value"in Ys?Ys.value:Ys.textContent,k=v.length;for(a=0;a<h&&u[a]===v[a];a++);var E=h-a;for(g=1;g<=E&&u[h-g]===v[k-g];g++);return Kp=v.slice(a,1<g?1-g:void 0)}function Wp(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Zp(){return!0}function M2(){return!1}function To(a){function u(h,g,v,k,E){this._reactName=h,this._targetInst=v,this.type=g,this.nativeEvent=k,this.target=E,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(h=a[A],this[A]=h?h(k):k[A]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Zp:M2,this.isPropagationStopped=M2,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Zp)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Zp)},persist:function(){},isPersistent:Zp}),u}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=To(ma),Vd=f({},ma,{view:0,detail:0}),Q9=To(Vd),k1,x1,Ud,Yp=f({},Vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_1,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ud&&(Ud&&a.type==="mousemove"?(k1=a.screenX-Ud.screenX,x1=a.screenY-Ud.screenY):x1=k1=0,Ud=a),k1)},movementY:function(a){return"movementY"in a?a.movementY:x1}}),A2=To(Yp),e6=f({},Yp,{dataTransfer:0}),t6=To(e6),n6=f({},Vd,{relatedTarget:0}),C1=To(n6),o6=f({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),r6=To(o6),i6=f({},ma,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),s6=To(i6),l6=f({},ma,{data:0}),R2=To(l6),a6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d6(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=u6[a])?!!u[a]:!1}function _1(){return d6}var f6=f({},Vd,{key:function(a){if(a.key){var u=a6[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Wp(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?c6[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_1,charCode:function(a){return a.type==="keypress"?Wp(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wp(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),h6=To(f6),p6=f({},Yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O2=To(p6),m6=f({},Vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_1}),g6=To(m6),b6=f({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),y6=To(b6),v6=f({},Yp,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),w6=To(v6),k6=f({},ma,{newState:0,oldState:0}),x6=To(k6),C6=[9,13,27,32],S1=qi&&"CompositionEvent"in window,Fd=null;qi&&"documentMode"in document&&(Fd=document.documentMode);var _6=qi&&"TextEvent"in window&&!Fd,N2=qi&&(!S1||Fd&&8<Fd&&11>=Fd),D2=" ",L2=!1;function B2(a,u){switch(a){case"keyup":return C6.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I2(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Vc=!1;function S6(a,u){switch(a){case"compositionend":return I2(u);case"keypress":return u.which!==32?null:(L2=!0,D2);case"textInput":return a=u.data,a===D2&&L2?null:a;default:return null}}function E6(a,u){if(Vc)return a==="compositionend"||!S1&&B2(a,u)?(a=T2(),Kp=w1=Ys=null,Vc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return N2&&u.locale!=="ko"?null:u.data;default:return null}}var T6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j2(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!T6[a.type]:u==="textarea"}function P2(a,u,h,g){Hc?zc?zc.push(g):zc=[g]:Hc=g,u=jm(u,"onChange"),0<u.length&&(h=new Xp("onChange","change",null,h,g),a.push({event:h,listeners:u}))}var Gd=null,qd=null;function M6(a){yA(a,0)}function Jp(a){var u=$d(a);if(v2(u))return a}function $2(a,u){if(a==="change")return u}var H2=!1;if(qi){var E1;if(qi){var T1="oninput"in document;if(!T1){var z2=document.createElement("div");z2.setAttribute("oninput","return;"),T1=typeof z2.oninput=="function"}E1=T1}else E1=!1;H2=E1&&(!document.documentMode||9<document.documentMode)}function V2(){Gd&&(Gd.detachEvent("onpropertychange",U2),qd=Gd=null)}function U2(a){if(a.propertyName==="value"&&Jp(qd)){var u=[];P2(u,qd,a,b1(a)),E2(M6,u)}}function A6(a,u,h){a==="focusin"?(V2(),Gd=u,qd=h,Gd.attachEvent("onpropertychange",U2)):a==="focusout"&&V2()}function R6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jp(qd)}function O6(a,u){if(a==="click")return Jp(u)}function N6(a,u){if(a==="input"||a==="change")return Jp(u)}function D6(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var qo=typeof Object.is=="function"?Object.is:D6;function Kd(a,u){if(qo(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var v=h[g];if(!L.call(u,v)||!qo(a[v],u[v]))return!1}return!0}function F2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function G2(a,u){var h=F2(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=u&&g>=u)return{node:h,offset:u-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=F2(h)}}function q2(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?q2(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function K2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=Gp(a.document);u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=Gp(a.document)}return u}function M1(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var L6=qi&&"documentMode"in document&&11>=document.documentMode,Uc=null,A1=null,Wd=null,R1=!1;function W2(a,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;R1||Uc==null||Uc!==Gp(g)||(g=Uc,"selectionStart"in g&&M1(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Wd&&Kd(Wd,g)||(Wd=g,g=jm(A1,"onSelect"),0<g.length&&(u=new Xp("onSelect","select",null,u,h),a.push({event:u,listeners:g}),u.target=Uc)))}function ga(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var Fc={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},O1={},Z2={};qi&&(Z2=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function ba(a){if(O1[a])return O1[a];if(!Fc[a])return a;var u=Fc[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in Z2)return O1[a]=u[h];return a}var X2=ba("animationend"),Y2=ba("animationiteration"),J2=ba("animationstart"),B6=ba("transitionrun"),I6=ba("transitionstart"),j6=ba("transitioncancel"),Q2=ba("transitionend"),eT=new Map,N1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");N1.push("scrollEnd");function $r(a,u){eT.set(a,u),pa(u,[a])}var tT=new WeakMap;function pr(a,u){if(typeof a=="object"&&a!==null){var h=tT.get(a);return h!==void 0?h:(u={value:a,source:u,stack:b2(u)},tT.set(a,u),u)}return{value:a,source:u,stack:b2(u)}}var mr=[],Gc=0,D1=0;function Qp(){for(var a=Gc,u=D1=Gc=0;u<a;){var h=mr[u];mr[u++]=null;var g=mr[u];mr[u++]=null;var v=mr[u];mr[u++]=null;var k=mr[u];if(mr[u++]=null,g!==null&&v!==null){var E=g.pending;E===null?v.next=v:(v.next=E.next,E.next=v),g.pending=v}k!==0&&nT(h,v,k)}}function em(a,u,h,g){mr[Gc++]=a,mr[Gc++]=u,mr[Gc++]=h,mr[Gc++]=g,D1|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function L1(a,u,h,g){return em(a,u,h,g),tm(a)}function qc(a,u){return em(a,null,null,u),tm(a)}function nT(a,u,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var v=!1,k=a.return;k!==null;)k.childLanes|=h,g=k.alternate,g!==null&&(g.childLanes|=h),k.tag===22&&(a=k.stateNode,a===null||a._visibility&1||(v=!0)),a=k,k=k.return;return a.tag===3?(k=a.stateNode,v&&u!==null&&(v=31-kt(h),a=k.hiddenUpdates,g=a[v],g===null?a[v]=[u]:g.push(u),u.lane=h|536870912),k):null}function tm(a){if(50<wf)throw wf=0,Hv=null,Error(o(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var Kc={};function P6(a,u,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(a,u,h,g){return new P6(a,u,h,g)}function B1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ki(a,u){var h=a.alternate;return h===null?(h=Ko(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function oT(a,u){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,u=h.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function nm(a,u,h,g,v,k){var E=0;if(g=a,typeof a=="function")B1(a)&&(E=1);else if(typeof a=="string")E=H$(a,h,Ee.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=Ko(31,h,u,v),a.elementType=q,a.lanes=k,a;case y:return ya(h.children,v,k,u);case w:E=8,v|=24;break;case x:return a=Ko(12,h,u,v|2),a.elementType=x,a.lanes=k,a;case O:return a=Ko(13,h,u,v),a.elementType=O,a.lanes=k,a;case B:return a=Ko(19,h,u,v),a.elementType=B,a.lanes=k,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case _:case M:E=10;break e;case T:E=9;break e;case R:E=11;break e;case I:E=14;break e;case H:E=16,g=null;break e}E=29,h=Error(o(130,a===null?"null":typeof a,"")),g=null}return u=Ko(E,h,u,v),u.elementType=a,u.type=g,u.lanes=k,u}function ya(a,u,h,g){return a=Ko(7,a,g,u),a.lanes=h,a}function I1(a,u,h){return a=Ko(6,a,null,u),a.lanes=h,a}function j1(a,u,h){return u=Ko(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var Wc=[],Zc=0,om=null,rm=0,gr=[],br=0,va=null,Wi=1,Zi="";function wa(a,u){Wc[Zc++]=rm,Wc[Zc++]=om,om=a,rm=u}function rT(a,u,h){gr[br++]=Wi,gr[br++]=Zi,gr[br++]=va,va=a;var g=Wi;a=Zi;var v=32-kt(g)-1;g&=~(1<<v),h+=1;var k=32-kt(u)+v;if(30<k){var E=v-v%5;k=(g&(1<<E)-1).toString(32),g>>=E,v-=E,Wi=1<<32-kt(u)+v|h<<v|g,Zi=k+a}else Wi=1<<k|h<<v|g,Zi=a}function P1(a){a.return!==null&&(wa(a,1),rT(a,1,0))}function $1(a){for(;a===om;)om=Wc[--Zc],Wc[Zc]=null,rm=Wc[--Zc],Wc[Zc]=null;for(;a===va;)va=gr[--br],gr[br]=null,Zi=gr[--br],gr[br]=null,Wi=gr[--br],gr[br]=null}var fo=null,Qt=null,vt=!1,ka=null,ui=!1,H1=Error(o(519));function xa(a){var u=Error(o(418,""));throw Yd(pr(u,a)),H1}function iT(a){var u=a.stateNode,h=a.type,g=a.memoizedProps;switch(u[Kn]=a,u[Eo]=g,h){case"dialog":dt("cancel",u),dt("close",u);break;case"iframe":case"object":case"embed":dt("load",u);break;case"video":case"audio":for(h=0;h<xf.length;h++)dt(xf[h],u);break;case"source":dt("error",u);break;case"img":case"image":case"link":dt("error",u),dt("load",u);break;case"details":dt("toggle",u);break;case"input":dt("invalid",u),w2(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Fp(u);break;case"select":dt("invalid",u);break;case"textarea":dt("invalid",u),x2(u,g.value,g.defaultValue,g.children),Fp(u)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||xA(u.textContent,h)?(g.popover!=null&&(dt("beforetoggle",u),dt("toggle",u)),g.onScroll!=null&&dt("scroll",u),g.onScrollEnd!=null&&dt("scrollend",u),g.onClick!=null&&(u.onclick=Pm),u=!0):u=!1,u||xa(a)}function sT(a){for(fo=a.return;fo;)switch(fo.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:fo=fo.return}}function Zd(a){if(a!==fo)return!1;if(!vt)return sT(a),vt=!0,!1;var u=a.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||nw(a.type,a.memoizedProps)),h=!h),h&&Qt&&xa(a),sT(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(o(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(u===0){Qt=zr(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;a=a.nextSibling}Qt=null}}else u===27?(u=Qt,hl(a.type)?(a=sw,sw=null,Qt=a):Qt=u):Qt=fo?zr(a.stateNode.nextSibling):null;return!0}function Xd(){Qt=fo=null,vt=!1}function lT(){var a=ka;return a!==null&&(Ro===null?Ro=a:Ro.push.apply(Ro,a),ka=null),a}function Yd(a){ka===null?ka=[a]:ka.push(a)}var z1=F(null),Ca=null,Xi=null;function Js(a,u,h){le(z1,u._currentValue),u._currentValue=h}function Yi(a){a._currentValue=z1.current,ne(z1)}function V1(a,u,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===h)break;a=a.return}}function U1(a,u,h,g){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var k=v.dependencies;if(k!==null){var E=v.child;k=k.firstContext;e:for(;k!==null;){var A=k;k=v;for(var D=0;D<u.length;D++)if(A.context===u[D]){k.lanes|=h,A=k.alternate,A!==null&&(A.lanes|=h),V1(k.return,h,a),g||(E=null);break e}k=A.next}}else if(v.tag===18){if(E=v.return,E===null)throw Error(o(341));E.lanes|=h,k=E.alternate,k!==null&&(k.lanes|=h),V1(E,h,a),E=null}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===a){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}}function Jd(a,u,h,g){a=null;for(var v=u,k=!1;v!==null;){if(!k){if((v.flags&524288)!==0)k=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var E=v.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var A=v.type;qo(v.pendingProps.value,E.value)||(a!==null?a.push(A):a=[A])}}else if(v===it.current){if(E=v.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Mf):a=[Mf])}v=v.return}a!==null&&U1(u,a,h,g),u.flags|=262144}function im(a){for(a=a.firstContext;a!==null;){if(!qo(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function _a(a){Ca=a,Xi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Wn(a){return aT(Ca,a)}function sm(a,u){return Ca===null&&_a(a),aT(a,u)}function aT(a,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Xi===null){if(a===null)throw Error(o(308));Xi=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Xi=Xi.next=u;return h}var $6=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){u.aborted=!0,a.forEach(function(h){return h()})}},H6=t.unstable_scheduleCallback,z6=t.unstable_NormalPriority,wn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function F1(){return{controller:new $6,data:new Map,refCount:0}}function Qd(a){a.refCount--,a.refCount===0&&H6(z6,function(){a.controller.abort()})}var ef=null,G1=0,Xc=0,Yc=null;function V6(a,u){if(ef===null){var h=ef=[];G1=0,Xc=Kv(),Yc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return G1++,u.then(cT,cT),u}function cT(){if(--G1===0&&ef!==null){Yc!==null&&(Yc.status="fulfilled");var a=ef;ef=null,Xc=0,Yc=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function U6(a,u){var h=[],g={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return a.then(function(){g.status="fulfilled",g.value=u;for(var v=0;v<h.length;v++)(0,h[v])(u)},function(v){for(g.status="rejected",g.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),g}var uT=j.S;j.S=function(a,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&V6(a,u),uT!==null&&uT(a,u)};var Sa=F(null);function q1(){var a=Sa.current;return a!==null?a:$t.pooledCache}function lm(a,u){u===null?le(Sa,Sa.current):le(Sa,u.pool)}function dT(){var a=q1();return a===null?null:{parent:wn._currentValue,pool:a}}var tf=Error(o(460)),fT=Error(o(474)),am=Error(o(542)),K1={then:function(){}};function hT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function cm(){}function pT(a,u,h){switch(h=a[h],h===void 0?a.push(u):h!==u&&(u.then(cm,cm),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,gT(a),a;default:if(typeof u.status=="string")u.then(cm,cm);else{if(a=$t,a!==null&&100<a.shellSuspendCounter)throw Error(o(482));a=u,a.status="pending",a.then(function(g){if(u.status==="pending"){var v=u;v.status="fulfilled",v.value=g}},function(g){if(u.status==="pending"){var v=u;v.status="rejected",v.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,gT(a),a}throw nf=u,tf}}var nf=null;function mT(){if(nf===null)throw Error(o(459));var a=nf;return nf=null,a}function gT(a){if(a===tf||a===am)throw Error(o(483))}var Qs=!1;function W1(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Z1(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function el(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function tl(a,u,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(St&2)!==0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,u=tm(a),nT(a,null,h),u}return em(a,g,u,h),tm(a)}function of(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,c2(a,h)}}function X1(a,u){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var v=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var E={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?v=k=E:k=k.next=E,h=h.next}while(h!==null);k===null?v=k=u:k=k.next=u}else v=k=u;h={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:k,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}var Y1=!1;function rf(){if(Y1){var a=Yc;if(a!==null)throw a}}function sf(a,u,h,g){Y1=!1;var v=a.updateQueue;Qs=!1;var k=v.firstBaseUpdate,E=v.lastBaseUpdate,A=v.shared.pending;if(A!==null){v.shared.pending=null;var D=A,W=D.next;D.next=null,E===null?k=W:E.next=W,E=D;var ee=a.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==E&&(A===null?ee.firstBaseUpdate=W:A.next=W,ee.lastBaseUpdate=D))}if(k!==null){var ie=v.baseState;E=0,ee=W=D=null,A=k;do{var Z=A.lane&-536870913,X=Z!==A.lane;if(X?(mt&Z)===Z:(g&Z)===Z){Z!==0&&Z===Xc&&(Y1=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ue=a,$e=A;Z=u;var Ot=h;switch($e.tag){case 1:if(Ue=$e.payload,typeof Ue=="function"){ie=Ue.call(Ot,ie,Z);break e}ie=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=$e.payload,Z=typeof Ue=="function"?Ue.call(Ot,ie,Z):Ue,Z==null)break e;ie=f({},ie,Z);break e;case 2:Qs=!0}}Z=A.callback,Z!==null&&(a.flags|=64,X&&(a.flags|=8192),X=v.callbacks,X===null?v.callbacks=[Z]:X.push(Z))}else X={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(W=ee=X,D=ie):ee=ee.next=X,E|=Z;if(A=A.next,A===null){if(A=v.shared.pending,A===null)break;X=A,A=X.next,X.next=null,v.lastBaseUpdate=X,v.shared.pending=null}}while(!0);ee===null&&(D=ie),v.baseState=D,v.firstBaseUpdate=W,v.lastBaseUpdate=ee,k===null&&(v.shared.lanes=0),cl|=E,a.lanes=E,a.memoizedState=ie}}function bT(a,u){if(typeof a!="function")throw Error(o(191,a));a.call(u)}function yT(a,u){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)bT(h[a],u)}var Jc=F(null),um=F(0);function vT(a,u){a=is,le(um,a),le(Jc,u),is=a|u.baseLanes}function J1(){le(um,is),le(Jc,Jc.current)}function Q1(){is=um.current,ne(Jc),ne(um)}var nl=0,lt=null,At=null,hn=null,dm=!1,Qc=!1,Ea=!1,fm=0,lf=0,eu=null,F6=0;function ln(){throw Error(o(321))}function ev(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!qo(a[h],u[h]))return!1;return!0}function tv(a,u,h,g,v,k){return nl=k,lt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,j.H=a===null||a.memoizedState===null?nM:oM,Ea=!1,k=h(g,v),Ea=!1,Qc&&(k=kT(u,h,g,v)),wT(a),k}function wT(a){j.H=ym;var u=At!==null&&At.next!==null;if(nl=0,hn=At=lt=null,dm=!1,lf=0,eu=null,u)throw Error(o(300));a===null||Tn||(a=a.dependencies,a!==null&&im(a)&&(Tn=!0))}function kT(a,u,h,g){lt=a;var v=0;do{if(Qc&&(eu=null),lf=0,Qc=!1,25<=v)throw Error(o(301));if(v+=1,hn=At=null,a.updateQueue!=null){var k=a.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}j.H=Y6,k=u(h,g)}while(Qc);return k}function G6(){var a=j.H,u=a.useState()[0];return u=typeof u.then=="function"?af(u):u,a=a.useState()[0],(At!==null?At.memoizedState:null)!==a&&(lt.flags|=1024),u}function nv(){var a=fm!==0;return fm=0,a}function ov(a,u,h){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~h}function rv(a){if(dm){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}dm=!1}nl=0,hn=At=lt=null,Qc=!1,lf=fm=0,eu=null}function Mo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?lt.memoizedState=hn=a:hn=hn.next=a,hn}function pn(){if(At===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=At.next;var u=hn===null?lt.memoizedState:hn.next;if(u!==null)hn=u,At=a;else{if(a===null)throw lt.alternate===null?Error(o(467)):Error(o(310));At=a,a={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},hn===null?lt.memoizedState=hn=a:hn=hn.next=a}return hn}function iv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function af(a){var u=lf;return lf+=1,eu===null&&(eu=[]),a=pT(eu,a,u),u=lt,(hn===null?u.memoizedState:hn.next)===null&&(u=u.alternate,j.H=u===null||u.memoizedState===null?nM:oM),a}function hm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return af(a);if(a.$$typeof===M)return Wn(a)}throw Error(o(438,String(a)))}function sv(a){var u=null,h=lt.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=lt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(v){return v.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=iv(),lt.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(a),g=0;g<a;g++)h[g]=Q;return u.index++,h}function Ji(a,u){return typeof u=="function"?u(a):u}function pm(a){var u=pn();return lv(u,At,a)}function lv(a,u,h){var g=a.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=h;var v=a.baseQueue,k=g.pending;if(k!==null){if(v!==null){var E=v.next;v.next=k.next,k.next=E}u.baseQueue=v=k,g.pending=null}if(k=a.baseState,v===null)a.memoizedState=k;else{u=v.next;var A=E=null,D=null,W=u,ee=!1;do{var ie=W.lane&-536870913;if(ie!==W.lane?(mt&ie)===ie:(nl&ie)===ie){var Z=W.revertLane;if(Z===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ie===Xc&&(ee=!0);else if((nl&Z)===Z){W=W.next,Z===Xc&&(ee=!0);continue}else ie={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},D===null?(A=D=ie,E=k):D=D.next=ie,lt.lanes|=Z,cl|=Z;ie=W.action,Ea&&h(k,ie),k=W.hasEagerState?W.eagerState:h(k,ie)}else Z={lane:ie,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},D===null?(A=D=Z,E=k):D=D.next=Z,lt.lanes|=ie,cl|=ie;W=W.next}while(W!==null&&W!==u);if(D===null?E=k:D.next=A,!qo(k,a.memoizedState)&&(Tn=!0,ee&&(h=Yc,h!==null)))throw h;a.memoizedState=k,a.baseState=E,a.baseQueue=D,g.lastRenderedState=k}return v===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function av(a){var u=pn(),h=u.queue;if(h===null)throw Error(o(311));h.lastRenderedReducer=a;var g=h.dispatch,v=h.pending,k=u.memoizedState;if(v!==null){h.pending=null;var E=v=v.next;do k=a(k,E.action),E=E.next;while(E!==v);qo(k,u.memoizedState)||(Tn=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),h.lastRenderedState=k}return[k,g]}function xT(a,u,h){var g=lt,v=pn(),k=vt;if(k){if(h===void 0)throw Error(o(407));h=h()}else h=u();var E=!qo((At||v).memoizedState,h);E&&(v.memoizedState=h,Tn=!0),v=v.queue;var A=ST.bind(null,g,v,a);if(cf(2048,8,A,[a]),v.getSnapshot!==u||E||hn!==null&&hn.memoizedState.tag&1){if(g.flags|=2048,tu(9,mm(),_T.bind(null,g,v,h,u),null),$t===null)throw Error(o(349));k||(nl&124)!==0||CT(g,u,h)}return h}function CT(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=lt.updateQueue,u===null?(u=iv(),lt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function _T(a,u,h,g){u.value=h,u.getSnapshot=g,ET(u)&&TT(a)}function ST(a,u,h){return h(function(){ET(u)&&TT(a)})}function ET(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!qo(a,h)}catch{return!0}}function TT(a){var u=qc(a,2);u!==null&&Jo(u,a,2)}function cv(a){var u=Mo();if(typeof a=="function"){var h=a;if(a=h(),Ea){tt(!0);try{h()}finally{tt(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},u}function MT(a,u,h,g){return a.baseState=h,lv(a,At,typeof g=="function"?g:Ji)}function q6(a,u,h,g,v){if(bm(a))throw Error(o(485));if(a=u.action,a!==null){var k={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){k.listeners.push(E)}};j.T!==null?h(!0):k.isTransition=!1,g(k),h=u.pending,h===null?(k.next=u.pending=k,AT(u,k)):(k.next=h.next,u.pending=h.next=k)}}function AT(a,u){var h=u.action,g=u.payload,v=a.state;if(u.isTransition){var k=j.T,E={};j.T=E;try{var A=h(v,g),D=j.S;D!==null&&D(E,A),RT(a,u,A)}catch(W){uv(a,u,W)}finally{j.T=k}}else try{k=h(v,g),RT(a,u,k)}catch(W){uv(a,u,W)}}function RT(a,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){OT(a,u,g)},function(g){return uv(a,u,g)}):OT(a,u,h)}function OT(a,u,h){u.status="fulfilled",u.value=h,NT(u),a.state=h,u=a.pending,u!==null&&(h=u.next,h===u?a.pending=null:(h=h.next,u.next=h,AT(a,h)))}function uv(a,u,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,NT(u),u=u.next;while(u!==g)}a.action=null}function NT(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function DT(a,u){return u}function LT(a,u){if(vt){var h=$t.formState;if(h!==null){e:{var g=lt;if(vt){if(Qt){t:{for(var v=Qt,k=ui;v.nodeType!==8;){if(!k){v=null;break t}if(v=zr(v.nextSibling),v===null){v=null;break t}}k=v.data,v=k==="F!"||k==="F"?v:null}if(v){Qt=zr(v.nextSibling),g=v.data==="F!";break e}}xa(g)}g=!1}g&&(u=h[0])}}return h=Mo(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DT,lastRenderedState:u},h.queue=g,h=QT.bind(null,lt,g),g.dispatch=h,g=cv(!1),k=mv.bind(null,lt,!1,g.queue),g=Mo(),v={state:u,dispatch:null,action:a,pending:null},g.queue=v,h=q6.bind(null,lt,v,k,h),v.dispatch=h,g.memoizedState=a,[u,h,!1]}function BT(a){var u=pn();return IT(u,At,a)}function IT(a,u,h){if(u=lv(a,u,DT)[0],a=pm(Ji)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=af(u)}catch(E){throw E===tf?am:E}else g=u;u=pn();var v=u.queue,k=v.dispatch;return h!==u.memoizedState&&(lt.flags|=2048,tu(9,mm(),K6.bind(null,v,h),null)),[g,k,a]}function K6(a,u){a.action=u}function jT(a){var u=pn(),h=At;if(h!==null)return IT(u,h,a);pn(),u=u.memoizedState,h=pn();var g=h.queue.dispatch;return h.memoizedState=a,[u,g,!1]}function tu(a,u,h,g){return a={tag:a,create:h,deps:g,inst:u,next:null},u=lt.updateQueue,u===null&&(u=iv(),lt.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,u.lastEffect=a),a}function mm(){return{destroy:void 0,resource:void 0}}function PT(){return pn().memoizedState}function gm(a,u,h,g){var v=Mo();g=g===void 0?null:g,lt.flags|=a,v.memoizedState=tu(1|u,mm(),h,g)}function cf(a,u,h,g){var v=pn();g=g===void 0?null:g;var k=v.memoizedState.inst;At!==null&&g!==null&&ev(g,At.memoizedState.deps)?v.memoizedState=tu(u,k,h,g):(lt.flags|=a,v.memoizedState=tu(1|u,k,h,g))}function $T(a,u){gm(8390656,8,a,u)}function HT(a,u){cf(2048,8,a,u)}function zT(a,u){return cf(4,2,a,u)}function VT(a,u){return cf(4,4,a,u)}function UT(a,u){if(typeof u=="function"){a=a();var h=u(a);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function FT(a,u,h){h=h!=null?h.concat([a]):null,cf(4,4,UT.bind(null,u,a),h)}function dv(){}function GT(a,u){var h=pn();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&ev(u,g[1])?g[0]:(h.memoizedState=[a,u],a)}function qT(a,u){var h=pn();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&ev(u,g[1]))return g[0];if(g=a(),Ea){tt(!0);try{a()}finally{tt(!1)}}return h.memoizedState=[g,u],g}function fv(a,u,h){return h===void 0||(nl&1073741824)!==0?a.memoizedState=u:(a.memoizedState=h,a=ZM(),lt.lanes|=a,cl|=a,h)}function KT(a,u,h,g){return qo(h,u)?h:Jc.current!==null?(a=fv(a,h,g),qo(a,u)||(Tn=!0),a):(nl&42)===0?(Tn=!0,a.memoizedState=h):(a=ZM(),lt.lanes|=a,cl|=a,u)}function WT(a,u,h,g,v){var k=z.p;z.p=k!==0&&8>k?k:8;var E=j.T,A={};j.T=A,mv(a,!1,u,h);try{var D=v(),W=j.S;if(W!==null&&W(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=U6(D,g);uf(a,u,ee,Yo(a))}else uf(a,u,g,Yo(a))}catch(ie){uf(a,u,{then:function(){},status:"rejected",reason:ie},Yo())}finally{z.p=k,j.T=E}}function W6(){}function hv(a,u,h,g){if(a.tag!==5)throw Error(o(476));var v=ZT(a).queue;WT(a,v,u,U,h===null?W6:function(){return XT(a),h(g)})}function ZT(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:U},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:h},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function XT(a){var u=ZT(a).next.queue;uf(a,u,{},Yo())}function pv(){return Wn(Mf)}function YT(){return pn().memoizedState}function JT(){return pn().memoizedState}function Z6(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var h=Yo();a=el(h);var g=tl(u,a,h);g!==null&&(Jo(g,u,h),of(g,u,h)),u={cache:F1()},a.payload=u;return}u=u.return}}function X6(a,u,h){var g=Yo();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},bm(a)?eM(u,h):(h=L1(a,u,h,g),h!==null&&(Jo(h,a,g),tM(h,u,g)))}function QT(a,u,h){var g=Yo();uf(a,u,h,g)}function uf(a,u,h,g){var v={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(bm(a))eM(u,v);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var E=u.lastRenderedState,A=k(E,h);if(v.hasEagerState=!0,v.eagerState=A,qo(A,E))return em(a,u,v,0),$t===null&&Qp(),!1}catch{}finally{}if(h=L1(a,u,v,g),h!==null)return Jo(h,a,g),tM(h,u,g),!0}return!1}function mv(a,u,h,g){if(g={lane:2,revertLane:Kv(),action:g,hasEagerState:!1,eagerState:null,next:null},bm(a)){if(u)throw Error(o(479))}else u=L1(a,h,g,2),u!==null&&Jo(u,a,2)}function bm(a){var u=a.alternate;return a===lt||u!==null&&u===lt}function eM(a,u){Qc=dm=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function tM(a,u,h){if((h&4194048)!==0){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,c2(a,h)}}var ym={readContext:Wn,use:hm,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln},nM={readContext:Wn,use:hm,useCallback:function(a,u){return Mo().memoizedState=[a,u===void 0?null:u],a},useContext:Wn,useEffect:$T,useImperativeHandle:function(a,u,h){h=h!=null?h.concat([a]):null,gm(4194308,4,UT.bind(null,u,a),h)},useLayoutEffect:function(a,u){return gm(4194308,4,a,u)},useInsertionEffect:function(a,u){gm(4,2,a,u)},useMemo:function(a,u){var h=Mo();u=u===void 0?null:u;var g=a();if(Ea){tt(!0);try{a()}finally{tt(!1)}}return h.memoizedState=[g,u],g},useReducer:function(a,u,h){var g=Mo();if(h!==void 0){var v=h(u);if(Ea){tt(!0);try{h(u)}finally{tt(!1)}}}else v=u;return g.memoizedState=g.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},g.queue=a,a=a.dispatch=X6.bind(null,lt,a),[g.memoizedState,a]},useRef:function(a){var u=Mo();return a={current:a},u.memoizedState=a},useState:function(a){a=cv(a);var u=a.queue,h=QT.bind(null,lt,u);return u.dispatch=h,[a.memoizedState,h]},useDebugValue:dv,useDeferredValue:function(a,u){var h=Mo();return fv(h,a,u)},useTransition:function(){var a=cv(!1);return a=WT.bind(null,lt,a.queue,!0,!1),Mo().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,h){var g=lt,v=Mo();if(vt){if(h===void 0)throw Error(o(407));h=h()}else{if(h=u(),$t===null)throw Error(o(349));(mt&124)!==0||CT(g,u,h)}v.memoizedState=h;var k={value:h,getSnapshot:u};return v.queue=k,$T(ST.bind(null,g,k,a),[a]),g.flags|=2048,tu(9,mm(),_T.bind(null,g,k,h,u),null),h},useId:function(){var a=Mo(),u=$t.identifierPrefix;if(vt){var h=Zi,g=Wi;h=(g&~(1<<32-kt(g)-1)).toString(32)+h,u=""+u+"R"+h,h=fm++,0<h&&(u+="H"+h.toString(32)),u+=""}else h=F6++,u=""+u+"r"+h.toString(32)+"";return a.memoizedState=u},useHostTransitionStatus:pv,useFormState:LT,useActionState:LT,useOptimistic:function(a){var u=Mo();u.memoizedState=u.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=mv.bind(null,lt,!0,h),h.dispatch=u,[a,u]},useMemoCache:sv,useCacheRefresh:function(){return Mo().memoizedState=Z6.bind(null,lt)}},oM={readContext:Wn,use:hm,useCallback:GT,useContext:Wn,useEffect:HT,useImperativeHandle:FT,useInsertionEffect:zT,useLayoutEffect:VT,useMemo:qT,useReducer:pm,useRef:PT,useState:function(){return pm(Ji)},useDebugValue:dv,useDeferredValue:function(a,u){var h=pn();return KT(h,At.memoizedState,a,u)},useTransition:function(){var a=pm(Ji)[0],u=pn().memoizedState;return[typeof a=="boolean"?a:af(a),u]},useSyncExternalStore:xT,useId:YT,useHostTransitionStatus:pv,useFormState:BT,useActionState:BT,useOptimistic:function(a,u){var h=pn();return MT(h,At,a,u)},useMemoCache:sv,useCacheRefresh:JT},Y6={readContext:Wn,use:hm,useCallback:GT,useContext:Wn,useEffect:HT,useImperativeHandle:FT,useInsertionEffect:zT,useLayoutEffect:VT,useMemo:qT,useReducer:av,useRef:PT,useState:function(){return av(Ji)},useDebugValue:dv,useDeferredValue:function(a,u){var h=pn();return At===null?fv(h,a,u):KT(h,At.memoizedState,a,u)},useTransition:function(){var a=av(Ji)[0],u=pn().memoizedState;return[typeof a=="boolean"?a:af(a),u]},useSyncExternalStore:xT,useId:YT,useHostTransitionStatus:pv,useFormState:jT,useActionState:jT,useOptimistic:function(a,u){var h=pn();return At!==null?MT(h,At,a,u):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:sv,useCacheRefresh:JT},nu=null,df=0;function vm(a){var u=df;return df+=1,nu===null&&(nu=[]),pT(nu,a,u)}function ff(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function wm(a,u){throw u.$$typeof===p?Error(o(525)):(a=Object.prototype.toString.call(u),Error(o(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function rM(a){var u=a._init;return u(a._payload)}function iM(a){function u(V,$){if(a){var K=V.deletions;K===null?(V.deletions=[$],V.flags|=16):K.push($)}}function h(V,$){if(!a)return null;for(;$!==null;)u(V,$),$=$.sibling;return null}function g(V){for(var $=new Map;V!==null;)V.key!==null?$.set(V.key,V):$.set(V.index,V),V=V.sibling;return $}function v(V,$){return V=Ki(V,$),V.index=0,V.sibling=null,V}function k(V,$,K){return V.index=K,a?(K=V.alternate,K!==null?(K=K.index,K<$?(V.flags|=67108866,$):K):(V.flags|=67108866,$)):(V.flags|=1048576,$)}function E(V){return a&&V.alternate===null&&(V.flags|=67108866),V}function A(V,$,K,oe){return $===null||$.tag!==6?($=I1(K,V.mode,oe),$.return=V,$):($=v($,K),$.return=V,$)}function D(V,$,K,oe){var Te=K.type;return Te===y?ee(V,$,K.props.children,oe,K.key):$!==null&&($.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===H&&rM(Te)===$.type)?($=v($,K.props),ff($,K),$.return=V,$):($=nm(K.type,K.key,K.props,null,V.mode,oe),ff($,K),$.return=V,$)}function W(V,$,K,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=j1(K,V.mode,oe),$.return=V,$):($=v($,K.children||[]),$.return=V,$)}function ee(V,$,K,oe,Te){return $===null||$.tag!==7?($=ya(K,V.mode,oe,Te),$.return=V,$):($=v($,K),$.return=V,$)}function ie(V,$,K){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=I1(""+$,V.mode,K),$.return=V,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case m:return K=nm($.type,$.key,$.props,null,V.mode,K),ff(K,$),K.return=V,K;case b:return $=j1($,V.mode,K),$.return=V,$;case H:var oe=$._init;return $=oe($._payload),ie(V,$,K)}if(pe($)||ue($))return $=ya($,V.mode,K,null),$.return=V,$;if(typeof $.then=="function")return ie(V,vm($),K);if($.$$typeof===M)return ie(V,sm(V,$),K);wm(V,$)}return null}function Z(V,$,K,oe){var Te=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Te!==null?null:A(V,$,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case m:return K.key===Te?D(V,$,K,oe):null;case b:return K.key===Te?W(V,$,K,oe):null;case H:return Te=K._init,K=Te(K._payload),Z(V,$,K,oe)}if(pe(K)||ue(K))return Te!==null?null:ee(V,$,K,oe,null);if(typeof K.then=="function")return Z(V,$,vm(K),oe);if(K.$$typeof===M)return Z(V,$,sm(V,K),oe);wm(V,K)}return null}function X(V,$,K,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return V=V.get(K)||null,A($,V,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case m:return V=V.get(oe.key===null?K:oe.key)||null,D($,V,oe,Te);case b:return V=V.get(oe.key===null?K:oe.key)||null,W($,V,oe,Te);case H:var at=oe._init;return oe=at(oe._payload),X(V,$,K,oe,Te)}if(pe(oe)||ue(oe))return V=V.get(K)||null,ee($,V,oe,Te,null);if(typeof oe.then=="function")return X(V,$,K,vm(oe),Te);if(oe.$$typeof===M)return X(V,$,K,sm($,oe),Te);wm($,oe)}return null}function Ue(V,$,K,oe){for(var Te=null,at=null,Ne=$,ze=$=0,An=null;Ne!==null&&ze<K.length;ze++){Ne.index>ze?(An=Ne,Ne=null):An=Ne.sibling;var yt=Z(V,Ne,K[ze],oe);if(yt===null){Ne===null&&(Ne=An);break}a&&Ne&&yt.alternate===null&&u(V,Ne),$=k(yt,$,ze),at===null?Te=yt:at.sibling=yt,at=yt,Ne=An}if(ze===K.length)return h(V,Ne),vt&&wa(V,ze),Te;if(Ne===null){for(;ze<K.length;ze++)Ne=ie(V,K[ze],oe),Ne!==null&&($=k(Ne,$,ze),at===null?Te=Ne:at.sibling=Ne,at=Ne);return vt&&wa(V,ze),Te}for(Ne=g(Ne);ze<K.length;ze++)An=X(Ne,V,ze,K[ze],oe),An!==null&&(a&&An.alternate!==null&&Ne.delete(An.key===null?ze:An.key),$=k(An,$,ze),at===null?Te=An:at.sibling=An,at=An);return a&&Ne.forEach(function(yl){return u(V,yl)}),vt&&wa(V,ze),Te}function $e(V,$,K,oe){if(K==null)throw Error(o(151));for(var Te=null,at=null,Ne=$,ze=$=0,An=null,yt=K.next();Ne!==null&&!yt.done;ze++,yt=K.next()){Ne.index>ze?(An=Ne,Ne=null):An=Ne.sibling;var yl=Z(V,Ne,yt.value,oe);if(yl===null){Ne===null&&(Ne=An);break}a&&Ne&&yl.alternate===null&&u(V,Ne),$=k(yl,$,ze),at===null?Te=yl:at.sibling=yl,at=yl,Ne=An}if(yt.done)return h(V,Ne),vt&&wa(V,ze),Te;if(Ne===null){for(;!yt.done;ze++,yt=K.next())yt=ie(V,yt.value,oe),yt!==null&&($=k(yt,$,ze),at===null?Te=yt:at.sibling=yt,at=yt);return vt&&wa(V,ze),Te}for(Ne=g(Ne);!yt.done;ze++,yt=K.next())yt=X(Ne,V,ze,yt.value,oe),yt!==null&&(a&&yt.alternate!==null&&Ne.delete(yt.key===null?ze:yt.key),$=k(yt,$,ze),at===null?Te=yt:at.sibling=yt,at=yt);return a&&Ne.forEach(function(J$){return u(V,J$)}),vt&&wa(V,ze),Te}function Ot(V,$,K,oe){if(typeof K=="object"&&K!==null&&K.type===y&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case m:e:{for(var Te=K.key;$!==null;){if($.key===Te){if(Te=K.type,Te===y){if($.tag===7){h(V,$.sibling),oe=v($,K.props.children),oe.return=V,V=oe;break e}}else if($.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===H&&rM(Te)===$.type){h(V,$.sibling),oe=v($,K.props),ff(oe,K),oe.return=V,V=oe;break e}h(V,$);break}else u(V,$);$=$.sibling}K.type===y?(oe=ya(K.props.children,V.mode,oe,K.key),oe.return=V,V=oe):(oe=nm(K.type,K.key,K.props,null,V.mode,oe),ff(oe,K),oe.return=V,V=oe)}return E(V);case b:e:{for(Te=K.key;$!==null;){if($.key===Te)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){h(V,$.sibling),oe=v($,K.children||[]),oe.return=V,V=oe;break e}else{h(V,$);break}else u(V,$);$=$.sibling}oe=j1(K,V.mode,oe),oe.return=V,V=oe}return E(V);case H:return Te=K._init,K=Te(K._payload),Ot(V,$,K,oe)}if(pe(K))return Ue(V,$,K,oe);if(ue(K)){if(Te=ue(K),typeof Te!="function")throw Error(o(150));return K=Te.call(K),$e(V,$,K,oe)}if(typeof K.then=="function")return Ot(V,$,vm(K),oe);if(K.$$typeof===M)return Ot(V,$,sm(V,K),oe);wm(V,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,$!==null&&$.tag===6?(h(V,$.sibling),oe=v($,K),oe.return=V,V=oe):(h(V,$),oe=I1(K,V.mode,oe),oe.return=V,V=oe),E(V)):h(V,$)}return function(V,$,K,oe){try{df=0;var Te=Ot(V,$,K,oe);return nu=null,Te}catch(Ne){if(Ne===tf||Ne===am)throw Ne;var at=Ko(29,Ne,null,V.mode);return at.lanes=oe,at.return=V,at}finally{}}}var ou=iM(!0),sM=iM(!1),yr=F(null),di=null;function ol(a){var u=a.alternate;le(kn,kn.current&1),le(yr,a),di===null&&(u===null||Jc.current!==null||u.memoizedState!==null)&&(di=a)}function lM(a){if(a.tag===22){if(le(kn,kn.current),le(yr,a),di===null){var u=a.alternate;u!==null&&u.memoizedState!==null&&(di=a)}}else rl()}function rl(){le(kn,kn.current),le(yr,yr.current)}function Qi(a){ne(yr),di===a&&(di=null),ne(kn)}var kn=F(0);function km(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||iw(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function gv(a,u,h,g){u=a.memoizedState,h=h(g,u),h=h==null?u:f({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var bv={enqueueSetState:function(a,u,h){a=a._reactInternals;var g=Yo(),v=el(g);v.payload=u,h!=null&&(v.callback=h),u=tl(a,v,g),u!==null&&(Jo(u,a,g),of(u,a,g))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var g=Yo(),v=el(g);v.tag=1,v.payload=u,h!=null&&(v.callback=h),u=tl(a,v,g),u!==null&&(Jo(u,a,g),of(u,a,g))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=Yo(),g=el(h);g.tag=2,u!=null&&(g.callback=u),u=tl(a,g,h),u!==null&&(Jo(u,a,h),of(u,a,h))}};function aM(a,u,h,g,v,k,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,k,E):u.prototype&&u.prototype.isPureReactComponent?!Kd(h,g)||!Kd(v,k):!0}function cM(a,u,h,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==a&&bv.enqueueReplaceState(u,u.state,null)}function Ta(a,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(a=a.defaultProps){h===u&&(h=f({},h));for(var v in a)h[v]===void 0&&(h[v]=a[v])}return h}var xm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function uM(a){xm(a)}function dM(a){console.error(a)}function fM(a){xm(a)}function Cm(a,u){try{var h=a.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function hM(a,u,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function yv(a,u,h){return h=el(h),h.tag=3,h.payload={element:null},h.callback=function(){Cm(a,u)},h}function pM(a){return a=el(a),a.tag=3,a}function mM(a,u,h,g){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var k=g.value;a.payload=function(){return v(k)},a.callback=function(){hM(u,h,g)}}var E=h.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){hM(u,h,g),typeof v!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var A=g.stack;this.componentDidCatch(g.value,{componentStack:A!==null?A:""})})}function J6(a,u,h,g,v){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&Jd(u,h,v,!0),h=yr.current,h!==null){switch(h.tag){case 13:return di===null?Vv():h.alternate===null&&en===0&&(en=3),h.flags&=-257,h.flags|=65536,h.lanes=v,g===K1?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),Fv(a,g,v)),!1;case 22:return h.flags|=65536,g===K1?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),Fv(a,g,v)),!1}throw Error(o(435,h.tag))}return Fv(a,g,v),Vv(),!1}if(vt)return u=yr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=v,g!==H1&&(a=Error(o(422),{cause:g}),Yd(pr(a,h)))):(g!==H1&&(u=Error(o(423),{cause:g}),Yd(pr(u,h))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,g=pr(g,h),v=yv(a.stateNode,g,v),X1(a,v),en!==4&&(en=2)),!1;var k=Error(o(520),{cause:g});if(k=pr(k,h),vf===null?vf=[k]:vf.push(k),en!==4&&(en=2),u===null)return!0;g=pr(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,a=v&-v,h.lanes|=a,a=yv(h.stateNode,g,a),X1(h,a),!1;case 1:if(u=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ul===null||!ul.has(k))))return h.flags|=65536,v&=-v,h.lanes|=v,v=pM(v),mM(v,a,h,g),X1(h,v),!1}h=h.return}while(h!==null);return!1}var gM=Error(o(461)),Tn=!1;function Pn(a,u,h,g){u.child=a===null?sM(u,null,h,g):ou(u,a.child,h,g)}function bM(a,u,h,g,v){h=h.render;var k=u.ref;if("ref"in g){var E={};for(var A in g)A!=="ref"&&(E[A]=g[A])}else E=g;return _a(u),g=tv(a,u,h,E,k,v),A=nv(),a!==null&&!Tn?(ov(a,u,v),es(a,u,v)):(vt&&A&&P1(u),u.flags|=1,Pn(a,u,g,v),u.child)}function yM(a,u,h,g,v){if(a===null){var k=h.type;return typeof k=="function"&&!B1(k)&&k.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=k,vM(a,u,k,g,v)):(a=nm(h.type,null,g,u,u.mode,v),a.ref=u.ref,a.return=u,u.child=a)}if(k=a.child,!Ev(a,v)){var E=k.memoizedProps;if(h=h.compare,h=h!==null?h:Kd,h(E,g)&&a.ref===u.ref)return es(a,u,v)}return u.flags|=1,a=Ki(k,g),a.ref=u.ref,a.return=u,u.child=a}function vM(a,u,h,g,v){if(a!==null){var k=a.memoizedProps;if(Kd(k,g)&&a.ref===u.ref)if(Tn=!1,u.pendingProps=g=k,Ev(a,v))(a.flags&131072)!==0&&(Tn=!0);else return u.lanes=a.lanes,es(a,u,v)}return vv(a,u,h,g,v)}function wM(a,u,h){var g=u.pendingProps,v=g.children,k=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((u.flags&128)!==0){if(g=k!==null?k.baseLanes|h:h,a!==null){for(v=u.child=a.child,k=0;v!==null;)k=k|v.lanes|v.childLanes,v=v.sibling;u.childLanes=k&~g}else u.childLanes=0,u.child=null;return kM(a,u,g,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&lm(u,k!==null?k.cachePool:null),k!==null?vT(u,k):J1(),lM(u);else return u.lanes=u.childLanes=536870912,kM(a,u,k!==null?k.baseLanes|h:h,h)}else k!==null?(lm(u,k.cachePool),vT(u,k),rl(),u.memoizedState=null):(a!==null&&lm(u,null),J1(),rl());return Pn(a,u,v,h),u.child}function kM(a,u,h,g){var v=q1();return v=v===null?null:{parent:wn._currentValue,pool:v},u.memoizedState={baseLanes:h,cachePool:v},a!==null&&lm(u,null),J1(),lM(u),a!==null&&Jd(a,u,g,!0),null}function _m(a,u){var h=u.ref;if(h===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(o(284));(a===null||a.ref!==h)&&(u.flags|=4194816)}}function vv(a,u,h,g,v){return _a(u),h=tv(a,u,h,g,void 0,v),g=nv(),a!==null&&!Tn?(ov(a,u,v),es(a,u,v)):(vt&&g&&P1(u),u.flags|=1,Pn(a,u,h,v),u.child)}function xM(a,u,h,g,v,k){return _a(u),u.updateQueue=null,h=kT(u,g,h,v),wT(a),g=nv(),a!==null&&!Tn?(ov(a,u,k),es(a,u,k)):(vt&&g&&P1(u),u.flags|=1,Pn(a,u,h,k),u.child)}function CM(a,u,h,g,v){if(_a(u),u.stateNode===null){var k=Kc,E=h.contextType;typeof E=="object"&&E!==null&&(k=Wn(E)),k=new h(g,k),u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=bv,u.stateNode=k,k._reactInternals=u,k=u.stateNode,k.props=g,k.state=u.memoizedState,k.refs={},W1(u),E=h.contextType,k.context=typeof E=="object"&&E!==null?Wn(E):Kc,k.state=u.memoizedState,E=h.getDerivedStateFromProps,typeof E=="function"&&(gv(u,h,E,g),k.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(E=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),E!==k.state&&bv.enqueueReplaceState(k,k.state,null),sf(u,g,k,v),rf(),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(a===null){k=u.stateNode;var A=u.memoizedProps,D=Ta(h,A);k.props=D;var W=k.context,ee=h.contextType;E=Kc,typeof ee=="object"&&ee!==null&&(E=Wn(ee));var ie=h.getDerivedStateFromProps;ee=typeof ie=="function"||typeof k.getSnapshotBeforeUpdate=="function",A=u.pendingProps!==A,ee||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A||W!==E)&&cM(u,k,g,E),Qs=!1;var Z=u.memoizedState;k.state=Z,sf(u,g,k,v),rf(),W=u.memoizedState,A||Z!==W||Qs?(typeof ie=="function"&&(gv(u,h,ie,g),W=u.memoizedState),(D=Qs||aM(u,h,D,g,Z,W,E))?(ee||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=W),k.props=g,k.state=W,k.context=E,g=D):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{k=u.stateNode,Z1(a,u),E=u.memoizedProps,ee=Ta(h,E),k.props=ee,ie=u.pendingProps,Z=k.context,W=h.contextType,D=Kc,typeof W=="object"&&W!==null&&(D=Wn(W)),A=h.getDerivedStateFromProps,(W=typeof A=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(E!==ie||Z!==D)&&cM(u,k,g,D),Qs=!1,Z=u.memoizedState,k.state=Z,sf(u,g,k,v),rf();var X=u.memoizedState;E!==ie||Z!==X||Qs||a!==null&&a.dependencies!==null&&im(a.dependencies)?(typeof A=="function"&&(gv(u,h,A,g),X=u.memoizedState),(ee=Qs||aM(u,h,ee,g,Z,X,D)||a!==null&&a.dependencies!==null&&im(a.dependencies))?(W||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(g,X,D),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(g,X,D)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=X),k.props=g,k.state=X,k.context=D,g=ee):(typeof k.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(u.flags|=1024),g=!1)}return k=g,_m(a,u),g=(u.flags&128)!==0,k||g?(k=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:k.render(),u.flags|=1,a!==null&&g?(u.child=ou(u,a.child,null,v),u.child=ou(u,null,h,v)):Pn(a,u,h,v),u.memoizedState=k.state,a=u.child):a=es(a,u,v),a}function _M(a,u,h,g){return Xd(),u.flags|=256,Pn(a,u,h,g),u.child}var wv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kv(a){return{baseLanes:a,cachePool:dT()}}function xv(a,u,h){return a=a!==null?a.childLanes&~h:0,u&&(a|=vr),a}function SM(a,u,h){var g=u.pendingProps,v=!1,k=(u.flags&128)!==0,E;if((E=k)||(E=a!==null&&a.memoizedState===null?!1:(kn.current&2)!==0),E&&(v=!0,u.flags&=-129),E=(u.flags&32)!==0,u.flags&=-33,a===null){if(vt){if(v?ol(u):rl(),vt){var A=Qt,D;if(D=A){e:{for(D=A,A=ui;D.nodeType!==8;){if(!A){A=null;break e}if(D=zr(D.nextSibling),D===null){A=null;break e}}A=D}A!==null?(u.memoizedState={dehydrated:A,treeContext:va!==null?{id:Wi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},D=Ko(18,null,null,0),D.stateNode=A,D.return=u,u.child=D,fo=u,Qt=null,D=!0):D=!1}D||xa(u)}if(A=u.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return iw(A)?u.lanes=32:u.lanes=536870912,null;Qi(u)}return A=g.children,g=g.fallback,v?(rl(),v=u.mode,A=Sm({mode:"hidden",children:A},v),g=ya(g,v,h,null),A.return=u,g.return=u,A.sibling=g,u.child=A,v=u.child,v.memoizedState=kv(h),v.childLanes=xv(a,E,h),u.memoizedState=wv,g):(ol(u),Cv(u,A))}if(D=a.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(k)u.flags&256?(ol(u),u.flags&=-257,u=_v(a,u,h)):u.memoizedState!==null?(rl(),u.child=a.child,u.flags|=128,u=null):(rl(),v=g.fallback,A=u.mode,g=Sm({mode:"visible",children:g.children},A),v=ya(v,A,h,null),v.flags|=2,g.return=u,v.return=u,g.sibling=v,u.child=g,ou(u,a.child,null,h),g=u.child,g.memoizedState=kv(h),g.childLanes=xv(a,E,h),u.memoizedState=wv,u=v);else if(ol(u),iw(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var W=E.dgst;E=W,g=Error(o(419)),g.stack="",g.digest=E,Yd({value:g,source:null,stack:null}),u=_v(a,u,h)}else if(Tn||Jd(a,u,h,!1),E=(h&a.childLanes)!==0,Tn||E){if(E=$t,E!==null&&(g=h&-h,g=(g&42)!==0?1:s1(g),g=(g&(E.suspendedLanes|h))!==0?0:g,g!==0&&g!==D.retryLane))throw D.retryLane=g,qc(a,g),Jo(E,a,g),gM;A.data==="$?"||Vv(),u=_v(a,u,h)}else A.data==="$?"?(u.flags|=192,u.child=a.child,u=null):(a=D.treeContext,Qt=zr(A.nextSibling),fo=u,vt=!0,ka=null,ui=!1,a!==null&&(gr[br++]=Wi,gr[br++]=Zi,gr[br++]=va,Wi=a.id,Zi=a.overflow,va=u),u=Cv(u,g.children),u.flags|=4096);return u}return v?(rl(),v=g.fallback,A=u.mode,D=a.child,W=D.sibling,g=Ki(D,{mode:"hidden",children:g.children}),g.subtreeFlags=D.subtreeFlags&65011712,W!==null?v=Ki(W,v):(v=ya(v,A,h,null),v.flags|=2),v.return=u,g.return=u,g.sibling=v,u.child=g,g=v,v=u.child,A=a.child.memoizedState,A===null?A=kv(h):(D=A.cachePool,D!==null?(W=wn._currentValue,D=D.parent!==W?{parent:W,pool:W}:D):D=dT(),A={baseLanes:A.baseLanes|h,cachePool:D}),v.memoizedState=A,v.childLanes=xv(a,E,h),u.memoizedState=wv,g):(ol(u),h=a.child,a=h.sibling,h=Ki(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,a!==null&&(E=u.deletions,E===null?(u.deletions=[a],u.flags|=16):E.push(a)),u.child=h,u.memoizedState=null,h)}function Cv(a,u){return u=Sm({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Sm(a,u){return a=Ko(22,a,null,u),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function _v(a,u,h){return ou(u,a.child,null,h),a=Cv(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function EM(a,u,h){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),V1(a.return,u,h)}function Sv(a,u,h,g,v){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:v}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=h,k.tailMode=v)}function TM(a,u,h){var g=u.pendingProps,v=g.revealOrder,k=g.tail;if(Pn(a,u,g.children,h),g=kn.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&EM(a,h,u);else if(a.tag===19)EM(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(le(kn,g),v){case"forwards":for(h=u.child,v=null;h!==null;)a=h.alternate,a!==null&&km(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=u.child,u.child=null):(v=h.sibling,h.sibling=null),Sv(u,!1,v,h,k);break;case"backwards":for(h=null,v=u.child,u.child=null;v!==null;){if(a=v.alternate,a!==null&&km(a)===null){u.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}Sv(u,!0,h,null,k);break;case"together":Sv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function es(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),cl|=u.lanes,(h&u.childLanes)===0)if(a!==null){if(Jd(a,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(o(153));if(u.child!==null){for(a=u.child,h=Ki(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Ki(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function Ev(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&im(a)))}function Q6(a,u,h){switch(u.tag){case 3:Xe(u,u.stateNode.containerInfo),Js(u,wn,a.memoizedState.cache),Xd();break;case 27:case 5:Gt(u);break;case 4:Xe(u,u.stateNode.containerInfo);break;case 10:Js(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(ol(u),u.flags|=128,null):(h&u.child.childLanes)!==0?SM(a,u,h):(ol(u),a=es(a,u,h),a!==null?a.sibling:null);ol(u);break;case 19:var v=(a.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(Jd(a,u,h,!1),g=(h&u.childLanes)!==0),v){if(g)return TM(a,u,h);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),le(kn,kn.current),g)break;return null;case 22:case 23:return u.lanes=0,wM(a,u,h);case 24:Js(u,wn,a.memoizedState.cache)}return es(a,u,h)}function MM(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps)Tn=!0;else{if(!Ev(a,h)&&(u.flags&128)===0)return Tn=!1,Q6(a,u,h);Tn=(a.flags&131072)!==0}else Tn=!1,vt&&(u.flags&1048576)!==0&&rT(u,rm,u.index);switch(u.lanes=0,u.tag){case 16:e:{a=u.pendingProps;var g=u.elementType,v=g._init;if(g=v(g._payload),u.type=g,typeof g=="function")B1(g)?(a=Ta(g,a),u.tag=1,u=CM(null,u,g,a,h)):(u.tag=0,u=vv(null,u,g,a,h));else{if(g!=null){if(v=g.$$typeof,v===R){u.tag=11,u=bM(null,u,g,a,h);break e}else if(v===I){u.tag=14,u=yM(null,u,g,a,h);break e}}throw u=be(g)||g,Error(o(306,u,""))}}return u;case 0:return vv(a,u,u.type,u.pendingProps,h);case 1:return g=u.type,v=Ta(g,u.pendingProps),CM(a,u,g,v,h);case 3:e:{if(Xe(u,u.stateNode.containerInfo),a===null)throw Error(o(387));g=u.pendingProps;var k=u.memoizedState;v=k.element,Z1(a,u),sf(u,g,null,h);var E=u.memoizedState;if(g=E.cache,Js(u,wn,g),g!==k.cache&&U1(u,[wn],h,!0),rf(),g=E.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:E.cache},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){u=_M(a,u,g,h);break e}else if(g!==v){v=pr(Error(o(424)),u),Yd(v),u=_M(a,u,g,h);break e}else{switch(a=u.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Qt=zr(a.firstChild),fo=u,vt=!0,ka=null,ui=!0,h=sM(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Xd(),g===v){u=es(a,u,h);break e}Pn(a,u,g,h)}u=u.child}return u;case 26:return _m(a,u),a===null?(h=NA(u.type,null,u.pendingProps,null))?u.memoizedState=h:vt||(h=u.type,a=u.pendingProps,g=$m(Se.current).createElement(h),g[Kn]=u,g[Eo]=a,Hn(g,h,a),En(g),u.stateNode=g):u.memoizedState=NA(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return Gt(u),a===null&&vt&&(g=u.stateNode=AA(u.type,u.pendingProps,Se.current),fo=u,ui=!0,v=Qt,hl(u.type)?(sw=v,Qt=zr(g.firstChild)):Qt=v),Pn(a,u,u.pendingProps.children,h),_m(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&vt&&((v=g=Qt)&&(g=T$(g,u.type,u.pendingProps,ui),g!==null?(u.stateNode=g,fo=u,Qt=zr(g.firstChild),ui=!1,v=!0):v=!1),v||xa(u)),Gt(u),v=u.type,k=u.pendingProps,E=a!==null?a.memoizedProps:null,g=k.children,nw(v,k)?g=null:E!==null&&nw(v,E)&&(u.flags|=32),u.memoizedState!==null&&(v=tv(a,u,G6,null,null,h),Mf._currentValue=v),_m(a,u),Pn(a,u,g,h),u.child;case 6:return a===null&&vt&&((a=h=Qt)&&(h=M$(h,u.pendingProps,ui),h!==null?(u.stateNode=h,fo=u,Qt=null,a=!0):a=!1),a||xa(u)),null;case 13:return SM(a,u,h);case 4:return Xe(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=ou(u,null,g,h):Pn(a,u,g,h),u.child;case 11:return bM(a,u,u.type,u.pendingProps,h);case 7:return Pn(a,u,u.pendingProps,h),u.child;case 8:return Pn(a,u,u.pendingProps.children,h),u.child;case 12:return Pn(a,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,Js(u,u.type,g.value),Pn(a,u,g.children,h),u.child;case 9:return v=u.type._context,g=u.pendingProps.children,_a(u),v=Wn(v),g=g(v),u.flags|=1,Pn(a,u,g,h),u.child;case 14:return yM(a,u,u.type,u.pendingProps,h);case 15:return vM(a,u,u.type,u.pendingProps,h);case 19:return TM(a,u,h);case 31:return g=u.pendingProps,h=u.mode,g={mode:g.mode,children:g.children},a===null?(h=Sm(g,h),h.ref=u.ref,u.child=h,h.return=u,u=h):(h=Ki(a.child,g),h.ref=u.ref,u.child=h,h.return=u,u=h),u;case 22:return wM(a,u,h);case 24:return _a(u),g=Wn(wn),a===null?(v=q1(),v===null&&(v=$t,k=F1(),v.pooledCache=k,k.refCount++,k!==null&&(v.pooledCacheLanes|=h),v=k),u.memoizedState={parent:g,cache:v},W1(u),Js(u,wn,v)):((a.lanes&h)!==0&&(Z1(a,u),sf(u,null,null,h),rf()),v=a.memoizedState,k=u.memoizedState,v.parent!==g?(v={parent:g,cache:g},u.memoizedState=v,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=v),Js(u,wn,g)):(g=k.cache,Js(u,wn,g),g!==v.cache&&U1(u,[wn],h,!0))),Pn(a,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(o(156,u.tag))}function ts(a){a.flags|=4}function AM(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!jA(u)){if(u=yr.current,u!==null&&((mt&4194048)===mt?di!==null:(mt&62914560)!==mt&&(mt&536870912)===0||u!==di))throw nf=K1,fT;a.flags|=8192}}function Em(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?l2():536870912,a.lanes|=u,lu|=u)}function hf(a,u){if(!vt)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Jt(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(u)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=h,u}function e$(a,u,h){var g=u.pendingProps;switch($1(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(u),null;case 1:return Jt(u),null;case 3:return h=u.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Yi(wn),Dt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Zd(u)?ts(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,lT())),Jt(u),null;case 26:return h=u.memoizedState,a===null?(ts(u),h!==null?(Jt(u),AM(u,h)):(Jt(u),u.flags&=-16777217)):h?h!==a.memoizedState?(ts(u),Jt(u),AM(u,h)):(Jt(u),u.flags&=-16777217):(a.memoizedProps!==g&&ts(u),Jt(u),u.flags&=-16777217),null;case 27:So(u),h=Se.current;var v=u.type;if(a!==null&&u.stateNode!=null)a.memoizedProps!==g&&ts(u);else{if(!g){if(u.stateNode===null)throw Error(o(166));return Jt(u),null}a=Ee.current,Zd(u)?iT(u):(a=AA(v,g,h),u.stateNode=a,ts(u))}return Jt(u),null;case 5:if(So(u),h=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==g&&ts(u);else{if(!g){if(u.stateNode===null)throw Error(o(166));return Jt(u),null}if(a=Ee.current,Zd(u))iT(u);else{switch(v=$m(Se.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?v.createElement("select",{is:g.is}):v.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?v.createElement(h,{is:g.is}):v.createElement(h)}}a[Kn]=u,a[Eo]=g;e:for(v=u.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break e;for(;v.sibling===null;){if(v.return===null||v.return===u)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}u.stateNode=a;e:switch(Hn(a,h,g),h){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ts(u)}}return Jt(u),u.flags&=-16777217,null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==g&&ts(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(o(166));if(a=Se.current,Zd(u)){if(a=u.stateNode,h=u.memoizedProps,g=null,v=fo,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}a[Kn]=u,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||xA(a.nodeValue,h)),a||xa(u)}else a=$m(a).createTextNode(g),a[Kn]=u,u.stateNode=a}return Jt(u),null;case 13:if(g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Zd(u),g!==null&&g.dehydrated!==null){if(a===null){if(!v)throw Error(o(318));if(v=u.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Kn]=u}else Xd(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Jt(u),v=!1}else v=lT(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return u.flags&256?(Qi(u),u):(Qi(u),null)}if(Qi(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=g!==null,a=a!==null&&a.memoizedState!==null,h){g=u.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool);var k=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(k=g.memoizedState.cachePool.pool),k!==v&&(g.flags|=2048)}return h!==a&&h&&(u.child.flags|=8192),Em(u,u.updateQueue),Jt(u),null;case 4:return Dt(),a===null&&Yv(u.stateNode.containerInfo),Jt(u),null;case 10:return Yi(u.type),Jt(u),null;case 19:if(ne(kn),v=u.memoizedState,v===null)return Jt(u),null;if(g=(u.flags&128)!==0,k=v.rendering,k===null)if(g)hf(v,!1);else{if(en!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(k=km(a),k!==null){for(u.flags|=128,hf(v,!1),a=k.updateQueue,u.updateQueue=a,Em(u,a),u.subtreeFlags=0,a=h,h=u.child;h!==null;)oT(h,a),h=h.sibling;return le(kn,kn.current&1|2),u.child}a=a.sibling}v.tail!==null&&se()>Am&&(u.flags|=128,g=!0,hf(v,!1),u.lanes=4194304)}else{if(!g)if(a=km(k),a!==null){if(u.flags|=128,g=!0,a=a.updateQueue,u.updateQueue=a,Em(u,a),hf(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!vt)return Jt(u),null}else 2*se()-v.renderingStartTime>Am&&h!==536870912&&(u.flags|=128,g=!0,hf(v,!1),u.lanes=4194304);v.isBackwards?(k.sibling=u.child,u.child=k):(a=v.last,a!==null?a.sibling=k:u.child=k,v.last=k)}return v.tail!==null?(u=v.tail,v.rendering=u,v.tail=u.sibling,v.renderingStartTime=se(),u.sibling=null,a=kn.current,le(kn,g?a&1|2:a&1),u):(Jt(u),null);case 22:case 23:return Qi(u),Q1(),g=u.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(Jt(u),u.subtreeFlags&6&&(u.flags|=8192)):Jt(u),h=u.updateQueue,h!==null&&Em(u,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),a!==null&&ne(Sa),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Yi(wn),Jt(u),null;case 25:return null;case 30:return null}throw Error(o(156,u.tag))}function t$(a,u){switch($1(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Yi(wn),Dt(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return So(u),null;case 13:if(Qi(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(o(340));Xd()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return ne(kn),null;case 4:return Dt(),null;case 10:return Yi(u.type),null;case 22:case 23:return Qi(u),Q1(),a!==null&&ne(Sa),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return Yi(wn),null;case 25:return null;default:return null}}function RM(a,u){switch($1(u),u.tag){case 3:Yi(wn),Dt();break;case 26:case 27:case 5:So(u);break;case 4:Dt();break;case 13:Qi(u);break;case 19:ne(kn);break;case 10:Yi(u.type);break;case 22:case 23:Qi(u),Q1(),a!==null&&ne(Sa);break;case 24:Yi(wn)}}function pf(a,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&a)===a){g=void 0;var k=h.create,E=h.inst;g=k(),E.destroy=g}h=h.next}while(h!==v)}}catch(A){Lt(u,u.return,A)}}function il(a,u,h){try{var g=u.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var k=v.next;g=k;do{if((g.tag&a)===a){var E=g.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,v=u;var D=h,W=A;try{W()}catch(ee){Lt(v,D,ee)}}}g=g.next}while(g!==k)}}catch(ee){Lt(u,u.return,ee)}}function OM(a){var u=a.updateQueue;if(u!==null){var h=a.stateNode;try{yT(u,h)}catch(g){Lt(a,a.return,g)}}}function NM(a,u,h){h.props=Ta(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){Lt(a,u,g)}}function mf(a,u){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(v){Lt(a,u,v)}}function fi(a,u){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(v){Lt(a,u,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){Lt(a,u,v)}else h.current=null}function DM(a){var u=a.type,h=a.memoizedProps,g=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(v){Lt(a,a.return,v)}}function Tv(a,u,h){try{var g=a.stateNode;x$(g,a.type,h,u),g[Eo]=u}catch(v){Lt(a,a.return,v)}}function LM(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&hl(a.type)||a.tag===4}function Mv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||LM(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&hl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Av(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(a),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Pm));else if(g!==4&&(g===27&&hl(a.type)&&(h=a.stateNode,u=null),a=a.child,a!==null))for(Av(a,u,h),a=a.sibling;a!==null;)Av(a,u,h),a=a.sibling}function Tm(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(g!==4&&(g===27&&hl(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Tm(a,u,h),a=a.sibling;a!==null;)Tm(a,u,h),a=a.sibling}function BM(a){var u=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,v=u.attributes;v.length;)u.removeAttributeNode(v[0]);Hn(u,g,h),u[Kn]=a,u[Eo]=h}catch(k){Lt(a,a.return,k)}}var ns=!1,an=!1,Rv=!1,IM=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function n$(a,u){if(a=a.containerInfo,ew=Gm,a=K2(a),M1(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var v=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var E=0,A=-1,D=-1,W=0,ee=0,ie=a,Z=null;t:for(;;){for(var X;ie!==h||v!==0&&ie.nodeType!==3||(A=E+v),ie!==k||g!==0&&ie.nodeType!==3||(D=E+g),ie.nodeType===3&&(E+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Z=ie,ie=X;for(;;){if(ie===a)break t;if(Z===h&&++W===v&&(A=E),Z===k&&++ee===g&&(D=E),(X=ie.nextSibling)!==null)break;ie=Z,Z=ie.parentNode}ie=X}h=A===-1||D===-1?null:{start:A,end:D}}else h=null}h=h||{start:0,end:0}}else h=null;for(tw={focusedElem:a,selectionRange:h},Gm=!1,Mn=u;Mn!==null;)if(u=Mn,a=u.child,(u.subtreeFlags&1024)!==0&&a!==null)a.return=u,Mn=a;else for(;Mn!==null;){switch(u=Mn,k=u.alternate,a=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&k!==null){a=void 0,h=u,v=k.memoizedProps,k=k.memoizedState,g=h.stateNode;try{var Ue=Ta(h.type,v,h.elementType===h.type);a=g.getSnapshotBeforeUpdate(Ue,k),g.__reactInternalSnapshotBeforeUpdate=a}catch($e){Lt(h,h.return,$e)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,h=a.nodeType,h===9)rw(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":rw(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(o(163))}if(a=u.sibling,a!==null){a.return=u.return,Mn=a;break}Mn=u.return}}function jM(a,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:sl(a,h),g&4&&pf(5,h);break;case 1:if(sl(a,h),g&4)if(a=h.stateNode,u===null)try{a.componentDidMount()}catch(E){Lt(h,h.return,E)}else{var v=Ta(h.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(v,u,a.__reactInternalSnapshotBeforeUpdate)}catch(E){Lt(h,h.return,E)}}g&64&&OM(h),g&512&&mf(h,h.return);break;case 3:if(sl(a,h),g&64&&(a=h.updateQueue,a!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{yT(a,u)}catch(E){Lt(h,h.return,E)}}break;case 27:u===null&&g&4&&BM(h);case 26:case 5:sl(a,h),u===null&&g&4&&DM(h),g&512&&mf(h,h.return);break;case 12:sl(a,h);break;case 13:sl(a,h),g&4&&HM(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=d$.bind(null,h),A$(a,h))));break;case 22:if(g=h.memoizedState!==null||ns,!g){u=u!==null&&u.memoizedState!==null||an,v=ns;var k=an;ns=g,(an=u)&&!k?ll(a,h,(h.subtreeFlags&8772)!==0):sl(a,h),ns=v,an=k}break;case 30:break;default:sl(a,h)}}function PM(a){var u=a.alternate;u!==null&&(a.alternate=null,PM(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&c1(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Wt=null,Ao=!1;function rs(a,u,h){for(h=h.child;h!==null;)$M(a,u,h),h=h.sibling}function $M(a,u,h){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ke,h)}catch{}switch(h.tag){case 26:an||fi(h,u),rs(a,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:an||fi(h,u);var g=Wt,v=Ao;hl(h.type)&&(Wt=h.stateNode,Ao=!1),rs(a,u,h),_f(h.stateNode),Wt=g,Ao=v;break;case 5:an||fi(h,u);case 6:if(g=Wt,v=Ao,Wt=null,rs(a,u,h),Wt=g,Ao=v,Wt!==null)if(Ao)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(h.stateNode)}catch(k){Lt(h,u,k)}else try{Wt.removeChild(h.stateNode)}catch(k){Lt(h,u,k)}break;case 18:Wt!==null&&(Ao?(a=Wt,TA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Nf(a)):TA(Wt,h.stateNode));break;case 4:g=Wt,v=Ao,Wt=h.stateNode.containerInfo,Ao=!0,rs(a,u,h),Wt=g,Ao=v;break;case 0:case 11:case 14:case 15:an||il(2,h,u),an||il(4,h,u),rs(a,u,h);break;case 1:an||(fi(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&NM(h,u,g)),rs(a,u,h);break;case 21:rs(a,u,h);break;case 22:an=(g=an)||h.memoizedState!==null,rs(a,u,h),an=g;break;default:rs(a,u,h)}}function HM(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Nf(a)}catch(h){Lt(u,u.return,h)}}function o$(a){switch(a.tag){case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new IM),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new IM),u;default:throw Error(o(435,a.tag))}}function Ov(a,u){var h=o$(a);u.forEach(function(g){var v=f$.bind(null,a,g);h.has(g)||(h.add(g),g.then(v,v))})}function Wo(a,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var v=h[g],k=a,E=u,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(hl(A.type)){Wt=A.stateNode,Ao=!1;break e}break;case 5:Wt=A.stateNode,Ao=!1;break e;case 3:case 4:Wt=A.stateNode.containerInfo,Ao=!0;break e}A=A.return}if(Wt===null)throw Error(o(160));$M(k,E,v),Wt=null,Ao=!1,k=v.alternate,k!==null&&(k.return=null),v.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)zM(u,a),u=u.sibling}var Hr=null;function zM(a,u){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Wo(u,a),Zo(a),g&4&&(il(3,a,a.return),pf(3,a),il(5,a,a.return));break;case 1:Wo(u,a),Zo(a),g&512&&(an||h===null||fi(h,h.return)),g&64&&ns&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var v=Hr;if(Wo(u,a),Zo(a),g&512&&(an||h===null||fi(h,h.return)),g&4){var k=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){e:{g=a.type,h=a.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":k=v.getElementsByTagName("title")[0],(!k||k[Pd]||k[Kn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=v.createElement(g),v.head.insertBefore(k,v.querySelector("head > title"))),Hn(k,g,h),k[Kn]=a,En(k),g=k;break e;case"link":var E=BA("link","href",v).get(g+(h.href||""));if(E){for(var A=0;A<E.length;A++)if(k=E[A],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){E.splice(A,1);break t}}k=v.createElement(g),Hn(k,g,h),v.head.appendChild(k);break;case"meta":if(E=BA("meta","content",v).get(g+(h.content||""))){for(A=0;A<E.length;A++)if(k=E[A],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){E.splice(A,1);break t}}k=v.createElement(g),Hn(k,g,h),v.head.appendChild(k);break;default:throw Error(o(468,g))}k[Kn]=a,En(k),g=k}a.stateNode=g}else IA(v,a.type,a.stateNode);else a.stateNode=LA(v,g,a.memoizedProps);else k!==g?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,g===null?IA(v,a.type,a.stateNode):LA(v,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Tv(a,a.memoizedProps,h.memoizedProps)}break;case 27:Wo(u,a),Zo(a),g&512&&(an||h===null||fi(h,h.return)),h!==null&&g&4&&Tv(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Wo(u,a),Zo(a),g&512&&(an||h===null||fi(h,h.return)),a.flags&32){v=a.stateNode;try{$c(v,"")}catch(X){Lt(a,a.return,X)}}g&4&&a.stateNode!=null&&(v=a.memoizedProps,Tv(a,v,h!==null?h.memoizedProps:v)),g&1024&&(Rv=!0);break;case 6:if(Wo(u,a),Zo(a),g&4){if(a.stateNode===null)throw Error(o(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(X){Lt(a,a.return,X)}}break;case 3:if(Vm=null,v=Hr,Hr=Hm(u.containerInfo),Wo(u,a),Hr=v,Zo(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Nf(u.containerInfo)}catch(X){Lt(a,a.return,X)}Rv&&(Rv=!1,VM(a));break;case 4:g=Hr,Hr=Hm(a.stateNode.containerInfo),Wo(u,a),Zo(a),Hr=g;break;case 12:Wo(u,a),Zo(a);break;case 13:Wo(u,a),Zo(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(jv=se()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ov(a,g)));break;case 22:v=a.memoizedState!==null;var D=h!==null&&h.memoizedState!==null,W=ns,ee=an;if(ns=W||v,an=ee||D,Wo(u,a),an=ee,ns=W,Zo(a),g&8192)e:for(u=a.stateNode,u._visibility=v?u._visibility&-2:u._visibility|1,v&&(h===null||D||ns||an||Ma(a)),h=null,u=a;;){if(u.tag===5||u.tag===26){if(h===null){D=h=u;try{if(k=D.stateNode,v)E=k.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=D.stateNode;var ie=D.memoizedProps.style,Z=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(X){Lt(D,D.return,X)}}}else if(u.tag===6){if(h===null){D=u;try{D.stateNode.nodeValue=v?"":D.memoizedProps}catch(X){Lt(D,D.return,X)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Ov(a,h))));break;case 19:Wo(u,a),Zo(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ov(a,g)));break;case 30:break;case 21:break;default:Wo(u,a),Zo(a)}}function Zo(a){var u=a.flags;if(u&2){try{for(var h,g=a.return;g!==null;){if(LM(g)){h=g;break}g=g.return}if(h==null)throw Error(o(160));switch(h.tag){case 27:var v=h.stateNode,k=Mv(a);Tm(a,k,v);break;case 5:var E=h.stateNode;h.flags&32&&($c(E,""),h.flags&=-33);var A=Mv(a);Tm(a,A,E);break;case 3:case 4:var D=h.stateNode.containerInfo,W=Mv(a);Av(a,W,D);break;default:throw Error(o(161))}}catch(ee){Lt(a,a.return,ee)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function VM(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;VM(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function sl(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)jM(a,u.alternate,u),u=u.sibling}function Ma(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:il(4,u,u.return),Ma(u);break;case 1:fi(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&NM(u,u.return,h),Ma(u);break;case 27:_f(u.stateNode);case 26:case 5:fi(u,u.return),Ma(u);break;case 22:u.memoizedState===null&&Ma(u);break;case 30:Ma(u);break;default:Ma(u)}a=a.sibling}}function ll(a,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,v=a,k=u,E=k.flags;switch(k.tag){case 0:case 11:case 15:ll(v,k,h),pf(4,k);break;case 1:if(ll(v,k,h),g=k,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(W){Lt(g,g.return,W)}if(g=k,v=g.updateQueue,v!==null){var A=g.stateNode;try{var D=v.shared.hiddenCallbacks;if(D!==null)for(v.shared.hiddenCallbacks=null,v=0;v<D.length;v++)bT(D[v],A)}catch(W){Lt(g,g.return,W)}}h&&E&64&&OM(k),mf(k,k.return);break;case 27:BM(k);case 26:case 5:ll(v,k,h),h&&g===null&&E&4&&DM(k),mf(k,k.return);break;case 12:ll(v,k,h);break;case 13:ll(v,k,h),h&&E&4&&HM(v,k);break;case 22:k.memoizedState===null&&ll(v,k,h),mf(k,k.return);break;case 30:break;default:ll(v,k,h)}u=u.sibling}}function Nv(a,u){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Qd(h))}function Dv(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Qd(a))}function hi(a,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)UM(a,u,h,g),u=u.sibling}function UM(a,u,h,g){var v=u.flags;switch(u.tag){case 0:case 11:case 15:hi(a,u,h,g),v&2048&&pf(9,u);break;case 1:hi(a,u,h,g);break;case 3:hi(a,u,h,g),v&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Qd(a)));break;case 12:if(v&2048){hi(a,u,h,g),a=u.stateNode;try{var k=u.memoizedProps,E=k.id,A=k.onPostCommit;typeof A=="function"&&A(E,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(D){Lt(u,u.return,D)}}else hi(a,u,h,g);break;case 13:hi(a,u,h,g);break;case 23:break;case 22:k=u.stateNode,E=u.alternate,u.memoizedState!==null?k._visibility&2?hi(a,u,h,g):gf(a,u):k._visibility&2?hi(a,u,h,g):(k._visibility|=2,ru(a,u,h,g,(u.subtreeFlags&10256)!==0)),v&2048&&Nv(E,u);break;case 24:hi(a,u,h,g),v&2048&&Dv(u.alternate,u);break;default:hi(a,u,h,g)}}function ru(a,u,h,g,v){for(v=v&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var k=a,E=u,A=h,D=g,W=E.flags;switch(E.tag){case 0:case 11:case 15:ru(k,E,A,D,v),pf(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?ru(k,E,A,D,v):gf(k,E):(ee._visibility|=2,ru(k,E,A,D,v)),v&&W&2048&&Nv(E.alternate,E);break;case 24:ru(k,E,A,D,v),v&&W&2048&&Dv(E.alternate,E);break;default:ru(k,E,A,D,v)}u=u.sibling}}function gf(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=a,g=u,v=g.flags;switch(g.tag){case 22:gf(h,g),v&2048&&Nv(g.alternate,g);break;case 24:gf(h,g),v&2048&&Dv(g.alternate,g);break;default:gf(h,g)}u=u.sibling}}var bf=8192;function iu(a){if(a.subtreeFlags&bf)for(a=a.child;a!==null;)FM(a),a=a.sibling}function FM(a){switch(a.tag){case 26:iu(a),a.flags&bf&&a.memoizedState!==null&&V$(Hr,a.memoizedState,a.memoizedProps);break;case 5:iu(a);break;case 3:case 4:var u=Hr;Hr=Hm(a.stateNode.containerInfo),iu(a),Hr=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=bf,bf=16777216,iu(a),bf=u):iu(a));break;default:iu(a)}}function GM(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function yf(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Mn=g,KM(g,a)}GM(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)qM(a),a=a.sibling}function qM(a){switch(a.tag){case 0:case 11:case 15:yf(a),a.flags&2048&&il(9,a,a.return);break;case 3:yf(a);break;case 12:yf(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,Mm(a)):yf(a);break;default:yf(a)}}function Mm(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Mn=g,KM(g,a)}GM(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:il(8,u,u.return),Mm(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Mm(u));break;default:Mm(u)}a=a.sibling}}function KM(a,u){for(;Mn!==null;){var h=Mn;switch(h.tag){case 0:case 11:case 15:il(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Qd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Mn=g;else e:for(h=a;Mn!==null;){g=Mn;var v=g.sibling,k=g.return;if(PM(g),g===h){Mn=null;break e}if(v!==null){v.return=k,Mn=v;break e}Mn=k}}}var r$={getCacheForType:function(a){var u=Wn(wn),h=u.data.get(a);return h===void 0&&(h=a(),u.data.set(a,h)),h}},i$=typeof WeakMap=="function"?WeakMap:Map,St=0,$t=null,ut=null,mt=0,Et=0,Xo=null,al=!1,su=!1,Lv=!1,is=0,en=0,cl=0,Aa=0,Bv=0,vr=0,lu=0,vf=null,Ro=null,Iv=!1,jv=0,Am=1/0,Rm=null,ul=null,$n=0,dl=null,au=null,cu=0,Pv=0,$v=null,WM=null,wf=0,Hv=null;function Yo(){if((St&2)!==0&&mt!==0)return mt&-mt;if(j.T!==null){var a=Xc;return a!==0?a:Kv()}return u2()}function ZM(){vr===0&&(vr=(mt&536870912)===0||vt?s2():536870912);var a=yr.current;return a!==null&&(a.flags|=32),vr}function Jo(a,u,h){(a===$t&&(Et===2||Et===9)||a.cancelPendingCommit!==null)&&(uu(a,0),fl(a,mt,vr,!1)),jd(a,h),((St&2)===0||a!==$t)&&(a===$t&&((St&2)===0&&(Aa|=h),en===4&&fl(a,mt,vr,!1)),pi(a))}function XM(a,u,h){if((St&6)!==0)throw Error(o(327));var g=!h&&(u&124)===0&&(u&a.expiredLanes)===0||Zs(a,u),v=g?a$(a,u):Uv(a,u,!0),k=g;do{if(v===0){su&&!g&&fl(a,u,0,!1);break}else{if(h=a.current.alternate,k&&!s$(h)){v=Uv(a,u,!1),k=!1;continue}if(v===2){if(k=u,a.errorRecoveryDisabledLanes&k)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){u=E;e:{var A=a;v=vf;var D=A.current.memoizedState.isDehydrated;if(D&&(uu(A,E).flags|=256),E=Uv(A,E,!1),E!==2){if(Lv&&!D){A.errorRecoveryDisabledLanes|=k,Aa|=k,v=4;break e}k=Ro,Ro=v,k!==null&&(Ro===null?Ro=k:Ro.push.apply(Ro,k))}v=E}if(k=!1,v!==2)continue}}if(v===1){uu(a,0),fl(a,u,0,!0);break}e:{switch(g=a,k=v,k){case 0:case 1:throw Error(o(345));case 4:if((u&4194048)!==u)break;case 6:fl(g,u,vr,!al);break e;case 2:Ro=null;break;case 3:case 5:break;default:throw Error(o(329))}if((u&62914560)===u&&(v=jv+300-se(),10<v)){if(fl(g,u,vr,!al),uo(g,0,!0)!==0)break e;g.timeoutHandle=SA(YM.bind(null,g,h,Ro,Rm,Iv,u,vr,Aa,lu,al,k,2,-0,0),v);break e}YM(g,h,Ro,Rm,Iv,u,vr,Aa,lu,al,k,0,-0,0)}}break}while(!0);pi(a)}function YM(a,u,h,g,v,k,E,A,D,W,ee,ie,Z,X){if(a.timeoutHandle=-1,ie=u.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Tf={stylesheets:null,count:0,unsuspend:z$},FM(u),ie=U$(),ie!==null)){a.cancelPendingCommit=ie(rA.bind(null,a,u,k,h,g,v,E,A,D,ee,1,Z,X)),fl(a,k,E,!W);return}rA(a,u,k,h,g,v,E,A,D)}function s$(a){for(var u=a;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var v=h[g],k=v.getSnapshot;v=v.value;try{if(!qo(k(),v))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function fl(a,u,h,g){u&=~Bv,u&=~Aa,a.suspendedLanes|=u,a.pingedLanes&=~u,g&&(a.warmLanes|=u),g=a.expirationTimes;for(var v=u;0<v;){var k=31-kt(v),E=1<<k;g[k]=-1,v&=~E}h!==0&&a2(a,h,u)}function Om(){return(St&6)===0?(kf(0),!1):!0}function zv(){if(ut!==null){if(Et===0)var a=ut.return;else a=ut,Xi=Ca=null,rv(a),nu=null,df=0,a=ut;for(;a!==null;)RM(a.alternate,a),a=a.return;ut=null}}function uu(a,u){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,_$(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),zv(),$t=a,ut=h=Ki(a.current,null),mt=u,Et=0,Xo=null,al=!1,su=Zs(a,u),Lv=!1,lu=vr=Bv=Aa=cl=en=0,Ro=vf=null,Iv=!1,(u&8)!==0&&(u|=u&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=u;0<g;){var v=31-kt(g),k=1<<v;u|=a[v],g&=~k}return is=u,Qp(),h}function JM(a,u){lt=null,j.H=ym,u===tf||u===am?(u=mT(),Et=3):u===fT?(u=mT(),Et=4):Et=u===gM?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Xo=u,ut===null&&(en=1,Cm(a,pr(u,a.current)))}function QM(){var a=j.H;return j.H=ym,a===null?ym:a}function eA(){var a=j.A;return j.A=r$,a}function Vv(){en=4,al||(mt&4194048)!==mt&&yr.current!==null||(su=!0),(cl&134217727)===0&&(Aa&134217727)===0||$t===null||fl($t,mt,vr,!1)}function Uv(a,u,h){var g=St;St|=2;var v=QM(),k=eA();($t!==a||mt!==u)&&(Rm=null,uu(a,u)),u=!1;var E=en;e:do try{if(Et!==0&&ut!==null){var A=ut,D=Xo;switch(Et){case 8:zv(),E=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(u=!0);var W=Et;if(Et=0,Xo=null,du(a,A,D,W),h&&su){E=0;break e}break;default:W=Et,Et=0,Xo=null,du(a,A,D,W)}}l$(),E=en;break}catch(ee){JM(a,ee)}while(!0);return u&&a.shellSuspendCounter++,Xi=Ca=null,St=g,j.H=v,j.A=k,ut===null&&($t=null,mt=0,Qp()),E}function l$(){for(;ut!==null;)tA(ut)}function a$(a,u){var h=St;St|=2;var g=QM(),v=eA();$t!==a||mt!==u?(Rm=null,Am=se()+500,uu(a,u)):su=Zs(a,u);e:do try{if(Et!==0&&ut!==null){u=ut;var k=Xo;t:switch(Et){case 1:Et=0,Xo=null,du(a,u,k,1);break;case 2:case 9:if(hT(k)){Et=0,Xo=null,nA(u);break}u=function(){Et!==2&&Et!==9||$t!==a||(Et=7),pi(a)},k.then(u,u);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:hT(k)?(Et=0,Xo=null,nA(u)):(Et=0,Xo=null,du(a,u,k,7));break;case 5:var E=null;switch(ut.tag){case 26:E=ut.memoizedState;case 5:case 27:var A=ut;if(!E||jA(E)){Et=0,Xo=null;var D=A.sibling;if(D!==null)ut=D;else{var W=A.return;W!==null?(ut=W,Nm(W)):ut=null}break t}}Et=0,Xo=null,du(a,u,k,5);break;case 6:Et=0,Xo=null,du(a,u,k,6);break;case 8:zv(),en=6;break e;default:throw Error(o(462))}}c$();break}catch(ee){JM(a,ee)}while(!0);return Xi=Ca=null,j.H=g,j.A=v,St=h,ut!==null?0:($t=null,mt=0,Qp(),en)}function c$(){for(;ut!==null&&!de();)tA(ut)}function tA(a){var u=MM(a.alternate,a,is);a.memoizedProps=a.pendingProps,u===null?Nm(a):ut=u}function nA(a){var u=a,h=u.alternate;switch(u.tag){case 15:case 0:u=xM(h,u,u.pendingProps,u.type,void 0,mt);break;case 11:u=xM(h,u,u.pendingProps,u.type.render,u.ref,mt);break;case 5:rv(u);default:RM(h,u),u=ut=oT(u,is),u=MM(h,u,is)}a.memoizedProps=a.pendingProps,u===null?Nm(a):ut=u}function du(a,u,h,g){Xi=Ca=null,rv(u),nu=null,df=0;var v=u.return;try{if(J6(a,v,u,h,mt)){en=1,Cm(a,pr(h,a.current)),ut=null;return}}catch(k){if(v!==null)throw ut=v,k;en=1,Cm(a,pr(h,a.current)),ut=null;return}u.flags&32768?(vt||g===1?a=!0:su||(mt&536870912)!==0?a=!1:(al=a=!0,(g===2||g===9||g===3||g===6)&&(g=yr.current,g!==null&&g.tag===13&&(g.flags|=16384))),oA(u,a)):Nm(u)}function Nm(a){var u=a;do{if((u.flags&32768)!==0){oA(u,al);return}a=u.return;var h=e$(u.alternate,u,is);if(h!==null){ut=h;return}if(u=u.sibling,u!==null){ut=u;return}ut=u=a}while(u!==null);en===0&&(en=5)}function oA(a,u){do{var h=t$(a.alternate,a);if(h!==null){h.flags&=32767,ut=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(a=a.sibling,a!==null)){ut=a;return}ut=a=h}while(a!==null);en=6,ut=null}function rA(a,u,h,g,v,k,E,A,D){a.cancelPendingCommit=null;do Dm();while($n!==0);if((St&6)!==0)throw Error(o(327));if(u!==null){if(u===a.current)throw Error(o(177));if(k=u.lanes|u.childLanes,k|=D1,z9(a,h,k,E,A,D),a===$t&&(ut=$t=null,mt=0),au=u,dl=a,cu=h,Pv=k,$v=v,WM=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,h$(he,function(){return cA(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=j.T,j.T=null,v=z.p,z.p=2,E=St,St|=4;try{n$(a,u,h)}finally{St=E,z.p=v,j.T=g}}$n=1,iA(),sA(),lA()}}function iA(){if($n===1){$n=0;var a=dl,u=au,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=j.T,j.T=null;var g=z.p;z.p=2;var v=St;St|=4;try{zM(u,a);var k=tw,E=K2(a.containerInfo),A=k.focusedElem,D=k.selectionRange;if(E!==A&&A&&A.ownerDocument&&q2(A.ownerDocument.documentElement,A)){if(D!==null&&M1(A)){var W=D.start,ee=D.end;if(ee===void 0&&(ee=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(ee,A.value.length);else{var ie=A.ownerDocument||document,Z=ie&&ie.defaultView||window;if(Z.getSelection){var X=Z.getSelection(),Ue=A.textContent.length,$e=Math.min(D.start,Ue),Ot=D.end===void 0?$e:Math.min(D.end,Ue);!X.extend&&$e>Ot&&(E=Ot,Ot=$e,$e=E);var V=G2(A,$e),$=G2(A,Ot);if(V&&$&&(X.rangeCount!==1||X.anchorNode!==V.node||X.anchorOffset!==V.offset||X.focusNode!==$.node||X.focusOffset!==$.offset)){var K=ie.createRange();K.setStart(V.node,V.offset),X.removeAllRanges(),$e>Ot?(X.addRange(K),X.extend($.node,$.offset)):(K.setEnd($.node,$.offset),X.addRange(K))}}}}for(ie=[],X=A;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var oe=ie[A];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Gm=!!ew,tw=ew=null}finally{St=v,z.p=g,j.T=h}}a.current=u,$n=2}}function sA(){if($n===2){$n=0;var a=dl,u=au,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=j.T,j.T=null;var g=z.p;z.p=2;var v=St;St|=4;try{jM(a,u.alternate,u)}finally{St=v,z.p=g,j.T=h}}$n=3}}function lA(){if($n===4||$n===3){$n=0,ae();var a=dl,u=au,h=cu,g=WM;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$n=5:($n=0,au=dl=null,aA(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(ul=null),l1(h),u=u.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ke,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=j.T,v=z.p,z.p=2,j.T=null;try{for(var k=a.onRecoverableError,E=0;E<g.length;E++){var A=g[E];k(A.value,{componentStack:A.stack})}}finally{j.T=u,z.p=v}}(cu&3)!==0&&Dm(),pi(a),v=a.pendingLanes,(h&4194090)!==0&&(v&42)!==0?a===Hv?wf++:(wf=0,Hv=a):wf=0,kf(0)}}function aA(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Qd(u)))}function Dm(a){return iA(),sA(),lA(),cA()}function cA(){if($n!==5)return!1;var a=dl,u=Pv;Pv=0;var h=l1(cu),g=j.T,v=z.p;try{z.p=32>h?32:h,j.T=null,h=$v,$v=null;var k=dl,E=cu;if($n=0,au=dl=null,cu=0,(St&6)!==0)throw Error(o(331));var A=St;if(St|=4,qM(k.current),UM(k,k.current,E,h),St=A,kf(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ke,k)}catch{}return!0}finally{z.p=v,j.T=g,aA(a,u)}}function uA(a,u,h){u=pr(h,u),u=yv(a.stateNode,u,2),a=tl(a,u,2),a!==null&&(jd(a,2),pi(a))}function Lt(a,u,h){if(a.tag===3)uA(a,a,h);else for(;u!==null;){if(u.tag===3){uA(u,a,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ul===null||!ul.has(g))){a=pr(h,a),h=pM(2),g=tl(u,h,2),g!==null&&(mM(h,g,u,a),jd(g,2),pi(g));break}}u=u.return}}function Fv(a,u,h){var g=a.pingCache;if(g===null){g=a.pingCache=new i$;var v=new Set;g.set(u,v)}else v=g.get(u),v===void 0&&(v=new Set,g.set(u,v));v.has(h)||(Lv=!0,v.add(h),a=u$.bind(null,a,u,h),u.then(a,a))}function u$(a,u,h){var g=a.pingCache;g!==null&&g.delete(u),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,$t===a&&(mt&h)===h&&(en===4||en===3&&(mt&62914560)===mt&&300>se()-jv?(St&2)===0&&uu(a,0):Bv|=h,lu===mt&&(lu=0)),pi(a)}function dA(a,u){u===0&&(u=l2()),a=qc(a,u),a!==null&&(jd(a,u),pi(a))}function d$(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),dA(a,h)}function f$(a,u){var h=0;switch(a.tag){case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(o(314))}g!==null&&g.delete(u),dA(a,h)}function h$(a,u){return P(a,u)}var Lm=null,fu=null,Gv=!1,Bm=!1,qv=!1,Ra=0;function pi(a){a!==fu&&a.next===null&&(fu===null?Lm=fu=a:fu=fu.next=a),Bm=!0,Gv||(Gv=!0,m$())}function kf(a,u){if(!qv&&Bm){qv=!0;do for(var h=!1,g=Lm;g!==null;){if(a!==0){var v=g.pendingLanes;if(v===0)var k=0;else{var E=g.suspendedLanes,A=g.pingedLanes;k=(1<<31-kt(42|a)+1)-1,k&=v&~(E&~A),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,mA(g,k))}else k=mt,k=uo(g,g===$t?k:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(k&3)===0||Zs(g,k)||(h=!0,mA(g,k));g=g.next}while(h);qv=!1}}function p$(){fA()}function fA(){Bm=Gv=!1;var a=0;Ra!==0&&(C$()&&(a=Ra),Ra=0);for(var u=se(),h=null,g=Lm;g!==null;){var v=g.next,k=hA(g,u);k===0?(g.next=null,h===null?Lm=v:h.next=v,v===null&&(fu=h)):(h=g,(a!==0||(k&3)!==0)&&(Bm=!0)),g=v}kf(a)}function hA(a,u){for(var h=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,k=a.pendingLanes&-62914561;0<k;){var E=31-kt(k),A=1<<E,D=v[E];D===-1?((A&h)===0||(A&g)!==0)&&(v[E]=H9(A,u)):D<=u&&(a.expiredLanes|=A),k&=~A}if(u=$t,h=mt,h=uo(a,a===u?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===u&&(Et===2||Et===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Y(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Zs(a,h)){if(u=h&-h,u===a.callbackPriority)return u;switch(g!==null&&Y(g),l1(h)){case 2:case 8:h=fe;break;case 32:h=he;break;case 268435456:h=_e;break;default:h=he}return g=pA.bind(null,a),h=P(h,g),a.callbackPriority=u,a.callbackNode=h,u}return g!==null&&g!==null&&Y(g),a.callbackPriority=2,a.callbackNode=null,2}function pA(a,u){if($n!==0&&$n!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Dm()&&a.callbackNode!==h)return null;var g=mt;return g=uo(a,a===$t?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(XM(a,g,u),hA(a,se()),a.callbackNode!=null&&a.callbackNode===h?pA.bind(null,a):null)}function mA(a,u){if(Dm())return null;XM(a,u,!0)}function m$(){S$(function(){(St&6)!==0?P(ke,p$):fA()})}function Kv(){return Ra===0&&(Ra=s2()),Ra}function gA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:qp(""+a)}function bA(a,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,a.id&&h.setAttribute("form",a.id),u.parentNode.insertBefore(h,u),a=new FormData(a),h.parentNode.removeChild(h),a}function g$(a,u,h,g,v){if(u==="submit"&&h&&h.stateNode===v){var k=gA((v[Eo]||null).action),E=g.submitter;E&&(u=(u=E[Eo]||null)?gA(u.formAction):E.getAttribute("formAction"),u!==null&&(k=u,E=null));var A=new Xp("action","action",null,g,v);a.push({event:A,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ra!==0){var D=E?bA(v,E):new FormData(v);hv(h,{pending:!0,data:D,method:v.method,action:k},null,D)}}else typeof k=="function"&&(A.preventDefault(),D=E?bA(v,E):new FormData(v),hv(h,{pending:!0,data:D,method:v.method,action:k},k,D))},currentTarget:v}]})}}for(var Wv=0;Wv<N1.length;Wv++){var Zv=N1[Wv],b$=Zv.toLowerCase(),y$=Zv[0].toUpperCase()+Zv.slice(1);$r(b$,"on"+y$)}$r(X2,"onAnimationEnd"),$r(Y2,"onAnimationIteration"),$r(J2,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(B6,"onTransitionRun"),$r(I6,"onTransitionStart"),$r(j6,"onTransitionCancel"),$r(Q2,"onTransitionEnd"),Ic("onMouseEnter",["mouseout","mouseover"]),Ic("onMouseLeave",["mouseout","mouseover"]),Ic("onPointerEnter",["pointerout","pointerover"]),Ic("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function yA(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],v=g.event;g=g.listeners;e:{var k=void 0;if(u)for(var E=g.length-1;0<=E;E--){var A=g[E],D=A.instance,W=A.currentTarget;if(A=A.listener,D!==k&&v.isPropagationStopped())break e;k=A,v.currentTarget=W;try{k(v)}catch(ee){xm(ee)}v.currentTarget=null,k=D}else for(E=0;E<g.length;E++){if(A=g[E],D=A.instance,W=A.currentTarget,A=A.listener,D!==k&&v.isPropagationStopped())break e;k=A,v.currentTarget=W;try{k(v)}catch(ee){xm(ee)}v.currentTarget=null,k=D}}}}function dt(a,u){var h=u[a1];h===void 0&&(h=u[a1]=new Set);var g=a+"__bubble";h.has(g)||(vA(u,a,2,!1),h.add(g))}function Xv(a,u,h){var g=0;u&&(g|=4),vA(h,a,g,u)}var Im="_reactListening"+Math.random().toString(36).slice(2);function Yv(a){if(!a[Im]){a[Im]=!0,f2.forEach(function(h){h!=="selectionchange"&&(v$.has(h)||Xv(h,!1,a),Xv(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Im]||(u[Im]=!0,Xv("selectionchange",!1,u))}}function vA(a,u,h,g){switch(UA(u)){case 2:var v=q$;break;case 8:v=K$;break;default:v=dw}h=v.bind(null,u,h,a),v=void 0,!v1||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(u,h,{capture:!0,passive:v}):a.addEventListener(u,h,!0):v!==void 0?a.addEventListener(u,h,{passive:v}):a.addEventListener(u,h,!1)}function Jv(a,u,h,g,v){var k=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var E=g.tag;if(E===3||E===4){var A=g.stateNode.containerInfo;if(A===v)break;if(E===4)for(E=g.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===v)return;E=E.return}for(;A!==null;){if(E=Dc(A),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){g=k=E;continue e}A=A.parentNode}}g=g.return}E2(function(){var W=k,ee=b1(h),ie=[];e:{var Z=eT.get(a);if(Z!==void 0){var X=Xp,Ue=a;switch(a){case"keypress":if(Wp(h)===0)break e;case"keydown":case"keyup":X=h6;break;case"focusin":Ue="focus",X=C1;break;case"focusout":Ue="blur",X=C1;break;case"beforeblur":case"afterblur":X=C1;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=A2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=t6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=g6;break;case X2:case Y2:case J2:X=r6;break;case Q2:X=y6;break;case"scroll":case"scrollend":X=Q9;break;case"wheel":X=w6;break;case"copy":case"cut":case"paste":X=s6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=O2;break;case"toggle":case"beforetoggle":X=x6}var $e=(u&4)!==0,Ot=!$e&&(a==="scroll"||a==="scrollend"),V=$e?Z!==null?Z+"Capture":null:Z;$e=[];for(var $=W,K;$!==null;){var oe=$;if(K=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||K===null||V===null||(oe=Hd($,V),oe!=null&&$e.push(Cf($,oe,K))),Ot)break;$=$.return}0<$e.length&&(Z=new X(Z,Ue,null,h,ee),ie.push({event:Z,listeners:$e}))}}if((u&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",X=a==="mouseout"||a==="pointerout",Z&&h!==g1&&(Ue=h.relatedTarget||h.fromElement)&&(Dc(Ue)||Ue[Nc]))break e;if((X||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,X?(Ue=h.relatedTarget||h.toElement,X=W,Ue=Ue?Dc(Ue):null,Ue!==null&&(Ot=i(Ue),$e=Ue.tag,Ue!==Ot||$e!==5&&$e!==27&&$e!==6)&&(Ue=null)):(X=null,Ue=W),X!==Ue)){if($e=A2,oe="onMouseLeave",V="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&($e=O2,oe="onPointerLeave",V="onPointerEnter",$="pointer"),Ot=X==null?Z:$d(X),K=Ue==null?Z:$d(Ue),Z=new $e(oe,$+"leave",X,h,ee),Z.target=Ot,Z.relatedTarget=K,oe=null,Dc(ee)===W&&($e=new $e(V,$+"enter",Ue,h,ee),$e.target=K,$e.relatedTarget=Ot,oe=$e),Ot=oe,X&&Ue)t:{for($e=X,V=Ue,$=0,K=$e;K;K=hu(K))$++;for(K=0,oe=V;oe;oe=hu(oe))K++;for(;0<$-K;)$e=hu($e),$--;for(;0<K-$;)V=hu(V),K--;for(;$--;){if($e===V||V!==null&&$e===V.alternate)break t;$e=hu($e),V=hu(V)}$e=null}else $e=null;X!==null&&wA(ie,Z,X,$e,!1),Ue!==null&&Ot!==null&&wA(ie,Ot,Ue,$e,!0)}}e:{if(Z=W?$d(W):window,X=Z.nodeName&&Z.nodeName.toLowerCase(),X==="select"||X==="input"&&Z.type==="file")var Te=$2;else if(j2(Z))if(H2)Te=N6;else{Te=R6;var at=A6}else X=Z.nodeName,!X||X.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&m1(W.elementType)&&(Te=$2):Te=O6;if(Te&&(Te=Te(a,W))){P2(ie,Te,h,ee);break e}at&&at(a,Z,W),a==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&p1(Z,"number",Z.value)}switch(at=W?$d(W):window,a){case"focusin":(j2(at)||at.contentEditable==="true")&&(Uc=at,A1=W,Wd=null);break;case"focusout":Wd=A1=Uc=null;break;case"mousedown":R1=!0;break;case"contextmenu":case"mouseup":case"dragend":R1=!1,W2(ie,h,ee);break;case"selectionchange":if(L6)break;case"keydown":case"keyup":W2(ie,h,ee)}var Ne;if(S1)e:{switch(a){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Vc?B2(a,h)&&(ze="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ze="onCompositionStart");ze&&(N2&&h.locale!=="ko"&&(Vc||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Vc&&(Ne=T2()):(Ys=ee,w1="value"in Ys?Ys.value:Ys.textContent,Vc=!0)),at=jm(W,ze),0<at.length&&(ze=new R2(ze,a,null,h,ee),ie.push({event:ze,listeners:at}),Ne?ze.data=Ne:(Ne=I2(h),Ne!==null&&(ze.data=Ne)))),(Ne=_6?S6(a,h):E6(a,h))&&(ze=jm(W,"onBeforeInput"),0<ze.length&&(at=new R2("onBeforeInput","beforeinput",null,h,ee),ie.push({event:at,listeners:ze}),at.data=Ne)),g$(ie,a,W,h,ee)}yA(ie,u)})}function Cf(a,u,h){return{instance:a,listener:u,currentTarget:h}}function jm(a,u){for(var h=u+"Capture",g=[];a!==null;){var v=a,k=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||k===null||(v=Hd(a,h),v!=null&&g.unshift(Cf(a,v,k)),v=Hd(a,u),v!=null&&g.push(Cf(a,v,k))),a.tag===3)return g;a=a.return}return[]}function hu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function wA(a,u,h,g,v){for(var k=u._reactName,E=[];h!==null&&h!==g;){var A=h,D=A.alternate,W=A.stateNode;if(A=A.tag,D!==null&&D===g)break;A!==5&&A!==26&&A!==27||W===null||(D=W,v?(W=Hd(h,k),W!=null&&E.unshift(Cf(h,W,D))):v||(W=Hd(h,k),W!=null&&E.push(Cf(h,W,D)))),h=h.return}E.length!==0&&a.push({event:u,listeners:E})}var w$=/\r\n?/g,k$=/\u0000|\uFFFD/g;function kA(a){return(typeof a=="string"?a:""+a).replace(w$,`
`).replace(k$,"")}function xA(a,u){return u=kA(u),kA(a)===u}function Pm(){}function Rt(a,u,h,g,v,k){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||$c(a,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&$c(a,""+g);break;case"className":Up(a,"class",g);break;case"tabIndex":Up(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Up(a,h,g);break;case"style":_2(a,g,k);break;case"data":if(u!=="object"){Up(a,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=qp(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(u!=="input"&&Rt(a,u,"name",v.name,v,null),Rt(a,u,"formEncType",v.formEncType,v,null),Rt(a,u,"formMethod",v.formMethod,v,null),Rt(a,u,"formTarget",v.formTarget,v,null)):(Rt(a,u,"encType",v.encType,v,null),Rt(a,u,"method",v.method,v,null),Rt(a,u,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=qp(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=Pm);break;case"onScroll":g!=null&&dt("scroll",a);break;case"onScrollEnd":g!=null&&dt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(o(61));if(h=g.__html,h!=null){if(v.children!=null)throw Error(o(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=qp(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":dt("beforetoggle",a),dt("toggle",a),Vp(a,"popover",g);break;case"xlinkActuate":Gi(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Gi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Gi(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Gi(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Gi(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Gi(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Gi(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Gi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Gi(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Vp(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Y9.get(h)||h,Vp(a,h,g))}}function Qv(a,u,h,g,v,k){switch(h){case"style":_2(a,g,k);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(o(61));if(h=g.__html,h!=null){if(v.children!=null)throw Error(o(60));a.innerHTML=h}}break;case"children":typeof g=="string"?$c(a,g):(typeof g=="number"||typeof g=="bigint")&&$c(a,""+g);break;case"onScroll":g!=null&&dt("scroll",a);break;case"onScrollEnd":g!=null&&dt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Pm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!h2.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),u=h.slice(2,v?h.length-7:void 0),k=a[Eo]||null,k=k!=null?k[h]:null,typeof k=="function"&&a.removeEventListener(u,k,v),typeof g=="function")){typeof k!="function"&&k!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(u,g,v);break e}h in a?a[h]=g:g===!0?a.setAttribute(h,""):Vp(a,h,g)}}}function Hn(a,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",a),dt("load",a);var g=!1,v=!1,k;for(k in h)if(h.hasOwnProperty(k)){var E=h[k];if(E!=null)switch(k){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,u));default:Rt(a,u,k,E,h,null)}}v&&Rt(a,u,"srcSet",h.srcSet,h,null),g&&Rt(a,u,"src",h.src,h,null);return;case"input":dt("invalid",a);var A=k=E=v=null,D=null,W=null;for(g in h)if(h.hasOwnProperty(g)){var ee=h[g];if(ee!=null)switch(g){case"name":v=ee;break;case"type":E=ee;break;case"checked":D=ee;break;case"defaultChecked":W=ee;break;case"value":k=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,u));break;default:Rt(a,u,g,ee,h,null)}}w2(a,k,A,D,W,E,v,!1),Fp(a);return;case"select":dt("invalid",a),g=E=k=null;for(v in h)if(h.hasOwnProperty(v)&&(A=h[v],A!=null))switch(v){case"value":k=A;break;case"defaultValue":E=A;break;case"multiple":g=A;default:Rt(a,u,v,A,h,null)}u=k,h=E,a.multiple=!!g,u!=null?Pc(a,!!g,u,!1):h!=null&&Pc(a,!!g,h,!0);return;case"textarea":dt("invalid",a),k=v=g=null;for(E in h)if(h.hasOwnProperty(E)&&(A=h[E],A!=null))switch(E){case"value":g=A;break;case"defaultValue":v=A;break;case"children":k=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(91));break;default:Rt(a,u,E,A,h,null)}x2(a,g,v,k),Fp(a);return;case"option":for(D in h)if(h.hasOwnProperty(D)&&(g=h[D],g!=null))switch(D){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Rt(a,u,D,g,h,null)}return;case"dialog":dt("beforetoggle",a),dt("toggle",a),dt("cancel",a),dt("close",a);break;case"iframe":case"object":dt("load",a);break;case"video":case"audio":for(g=0;g<xf.length;g++)dt(xf[g],a);break;case"image":dt("error",a),dt("load",a);break;case"details":dt("toggle",a);break;case"embed":case"source":case"link":dt("error",a),dt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in h)if(h.hasOwnProperty(W)&&(g=h[W],g!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,u));default:Rt(a,u,W,g,h,null)}return;default:if(m1(u)){for(ee in h)h.hasOwnProperty(ee)&&(g=h[ee],g!==void 0&&Qv(a,u,ee,g,h,void 0));return}}for(A in h)h.hasOwnProperty(A)&&(g=h[A],g!=null&&Rt(a,u,A,g,h,null))}function x$(a,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,k=null,E=null,A=null,D=null,W=null,ee=null;for(X in h){var ie=h[X];if(h.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ie;default:g.hasOwnProperty(X)||Rt(a,u,X,null,g,ie)}}for(var Z in g){var X=g[Z];if(ie=h[Z],g.hasOwnProperty(Z)&&(X!=null||ie!=null))switch(Z){case"type":k=X;break;case"name":v=X;break;case"checked":W=X;break;case"defaultChecked":ee=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,u));break;default:X!==ie&&Rt(a,u,Z,X,g,ie)}}h1(a,E,A,D,W,ee,k,v);return;case"select":X=E=A=Z=null;for(k in h)if(D=h[k],h.hasOwnProperty(k)&&D!=null)switch(k){case"value":break;case"multiple":X=D;default:g.hasOwnProperty(k)||Rt(a,u,k,null,g,D)}for(v in g)if(k=g[v],D=h[v],g.hasOwnProperty(v)&&(k!=null||D!=null))switch(v){case"value":Z=k;break;case"defaultValue":A=k;break;case"multiple":E=k;default:k!==D&&Rt(a,u,v,k,g,D)}u=A,h=E,g=X,Z!=null?Pc(a,!!h,Z,!1):!!g!=!!h&&(u!=null?Pc(a,!!h,u,!0):Pc(a,!!h,h?[]:"",!1));return;case"textarea":X=Z=null;for(A in h)if(v=h[A],h.hasOwnProperty(A)&&v!=null&&!g.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Rt(a,u,A,null,g,v)}for(E in g)if(v=g[E],k=h[E],g.hasOwnProperty(E)&&(v!=null||k!=null))switch(E){case"value":Z=v;break;case"defaultValue":X=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:v!==k&&Rt(a,u,E,v,g,k)}k2(a,Z,X);return;case"option":for(var Ue in h)if(Z=h[Ue],h.hasOwnProperty(Ue)&&Z!=null&&!g.hasOwnProperty(Ue))switch(Ue){case"selected":a.selected=!1;break;default:Rt(a,u,Ue,null,g,Z)}for(D in g)if(Z=g[D],X=h[D],g.hasOwnProperty(D)&&Z!==X&&(Z!=null||X!=null))switch(D){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Rt(a,u,D,Z,g,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in h)Z=h[$e],h.hasOwnProperty($e)&&Z!=null&&!g.hasOwnProperty($e)&&Rt(a,u,$e,null,g,Z);for(W in g)if(Z=g[W],X=h[W],g.hasOwnProperty(W)&&Z!==X&&(Z!=null||X!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,u));break;default:Rt(a,u,W,Z,g,X)}return;default:if(m1(u)){for(var Ot in h)Z=h[Ot],h.hasOwnProperty(Ot)&&Z!==void 0&&!g.hasOwnProperty(Ot)&&Qv(a,u,Ot,void 0,g,Z);for(ee in g)Z=g[ee],X=h[ee],!g.hasOwnProperty(ee)||Z===X||Z===void 0&&X===void 0||Qv(a,u,ee,Z,g,X);return}}for(var V in h)Z=h[V],h.hasOwnProperty(V)&&Z!=null&&!g.hasOwnProperty(V)&&Rt(a,u,V,null,g,Z);for(ie in g)Z=g[ie],X=h[ie],!g.hasOwnProperty(ie)||Z===X||Z==null&&X==null||Rt(a,u,ie,Z,g,X)}var ew=null,tw=null;function $m(a){return a.nodeType===9?a:a.ownerDocument}function CA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _A(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function nw(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ow=null;function C$(){var a=window.event;return a&&a.type==="popstate"?a===ow?!1:(ow=a,!0):(ow=null,!1)}var SA=typeof setTimeout=="function"?setTimeout:void 0,_$=typeof clearTimeout=="function"?clearTimeout:void 0,EA=typeof Promise=="function"?Promise:void 0,S$=typeof queueMicrotask=="function"?queueMicrotask:typeof EA<"u"?function(a){return EA.resolve(null).then(a).catch(E$)}:SA;function E$(a){setTimeout(function(){throw a})}function hl(a){return a==="head"}function TA(a,u){var h=u,g=0,v=0;do{var k=h.nextSibling;if(a.removeChild(h),k&&k.nodeType===8)if(h=k.data,h==="/$"){if(0<g&&8>g){h=g;var E=a.ownerDocument;if(h&1&&_f(E.documentElement),h&2&&_f(E.body),h&4)for(h=E.head,_f(h),E=h.firstChild;E;){var A=E.nextSibling,D=E.nodeName;E[Pd]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=A}}if(v===0){a.removeChild(k),Nf(u);return}v--}else h==="$"||h==="$?"||h==="$!"?v++:g=h.charCodeAt(0)-48;else g=0;h=k}while(h);Nf(u)}function rw(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":rw(h),c1(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function T$(a,u,h,g){for(;a.nodeType===1;){var v=h;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Pd])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(k=a.getAttribute("rel"),k==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(k!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(k=a.getAttribute("src"),(k!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&k&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var k=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===k)return a}else return a;if(a=zr(a.nextSibling),a===null)break}return null}function M$(a,u,h){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=zr(a.nextSibling),a===null))return null;return a}function iw(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function A$(a,u){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function zr(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return a}var sw=null;function MA(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}function AA(a,u,h){switch(u=$m(h),a){case"html":if(a=u.documentElement,!a)throw Error(o(452));return a;case"head":if(a=u.head,!a)throw Error(o(453));return a;case"body":if(a=u.body,!a)throw Error(o(454));return a;default:throw Error(o(451))}}function _f(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);c1(a)}var wr=new Map,RA=new Set;function Hm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ss=z.d;z.d={f:R$,r:O$,D:N$,C:D$,L:L$,m:B$,X:j$,S:I$,M:P$};function R$(){var a=ss.f(),u=Om();return a||u}function O$(a){var u=Lc(a);u!==null&&u.tag===5&&u.type==="form"?XT(u):ss.r(a)}var pu=typeof document>"u"?null:document;function OA(a,u,h){var g=pu;if(g&&typeof u=="string"&&u){var v=hr(u);v='link[rel="'+a+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),RA.has(v)||(RA.add(v),a={rel:a,crossOrigin:h,href:u},g.querySelector(v)===null&&(u=g.createElement("link"),Hn(u,"link",a),En(u),g.head.appendChild(u)))}}function N$(a){ss.D(a),OA("dns-prefetch",a,null)}function D$(a,u){ss.C(a,u),OA("preconnect",a,u)}function L$(a,u,h){ss.L(a,u,h);var g=pu;if(g&&a&&u){var v='link[rel="preload"][as="'+hr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+hr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+hr(h.imageSizes)+'"]')):v+='[href="'+hr(a)+'"]';var k=v;switch(u){case"style":k=mu(a);break;case"script":k=gu(a)}wr.has(k)||(a=f({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:a,as:u},h),wr.set(k,a),g.querySelector(v)!==null||u==="style"&&g.querySelector(Sf(k))||u==="script"&&g.querySelector(Ef(k))||(u=g.createElement("link"),Hn(u,"link",a),En(u),g.head.appendChild(u)))}}function B$(a,u){ss.m(a,u);var h=pu;if(h&&a){var g=u&&typeof u.as=="string"?u.as:"script",v='link[rel="modulepreload"][as="'+hr(g)+'"][href="'+hr(a)+'"]',k=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=gu(a)}if(!wr.has(k)&&(a=f({rel:"modulepreload",href:a},u),wr.set(k,a),h.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ef(k)))return}g=h.createElement("link"),Hn(g,"link",a),En(g),h.head.appendChild(g)}}}function I$(a,u,h){ss.S(a,u,h);var g=pu;if(g&&a){var v=Bc(g).hoistableStyles,k=mu(a);u=u||"default";var E=v.get(k);if(!E){var A={loading:0,preload:null};if(E=g.querySelector(Sf(k)))A.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":u},h),(h=wr.get(k))&&lw(a,h);var D=E=g.createElement("link");En(D),Hn(D,"link",a),D._p=new Promise(function(W,ee){D.onload=W,D.onerror=ee}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zm(E,u,g)}E={type:"stylesheet",instance:E,count:1,state:A},v.set(k,E)}}}function j$(a,u){ss.X(a,u);var h=pu;if(h&&a){var g=Bc(h).hoistableScripts,v=gu(a),k=g.get(v);k||(k=h.querySelector(Ef(v)),k||(a=f({src:a,async:!0},u),(u=wr.get(v))&&aw(a,u),k=h.createElement("script"),En(k),Hn(k,"link",a),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},g.set(v,k))}}function P$(a,u){ss.M(a,u);var h=pu;if(h&&a){var g=Bc(h).hoistableScripts,v=gu(a),k=g.get(v);k||(k=h.querySelector(Ef(v)),k||(a=f({src:a,async:!0,type:"module"},u),(u=wr.get(v))&&aw(a,u),k=h.createElement("script"),En(k),Hn(k,"link",a),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},g.set(v,k))}}function NA(a,u,h,g){var v=(v=Se.current)?Hm(v):null;if(!v)throw Error(o(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=mu(h.href),h=Bc(v).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=mu(h.href);var k=Bc(v).hoistableStyles,E=k.get(a);if(E||(v=v.ownerDocument||v,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(a,E),(k=v.querySelector(Sf(a)))&&!k._p&&(E.instance=k,E.state.loading=5),wr.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},wr.set(a,h),k||$$(v,a,h,E.state))),u&&g===null)throw Error(o(528,""));return E}if(u&&g!==null)throw Error(o(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=gu(h),h=Bc(v).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,a))}}function mu(a){return'href="'+hr(a)+'"'}function Sf(a){return'link[rel="stylesheet"]['+a+"]"}function DA(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function $$(a,u,h,g){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=a.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),Hn(u,"link",h),En(u),a.head.appendChild(u))}function gu(a){return'[src="'+hr(a)+'"]'}function Ef(a){return"script[async]"+a}function LA(a,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=a.querySelector('style[data-href~="'+hr(h.href)+'"]');if(g)return u.instance=g,En(g),g;var v=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),En(g),Hn(g,"style",v),zm(g,h.precedence,a),u.instance=g;case"stylesheet":v=mu(h.href);var k=a.querySelector(Sf(v));if(k)return u.state.loading|=4,u.instance=k,En(k),k;g=DA(h),(v=wr.get(v))&&lw(g,v),k=(a.ownerDocument||a).createElement("link"),En(k);var E=k;return E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),Hn(k,"link",g),u.state.loading|=4,zm(k,h.precedence,a),u.instance=k;case"script":return k=gu(h.src),(v=a.querySelector(Ef(k)))?(u.instance=v,En(v),v):(g=h,(v=wr.get(k))&&(g=f({},h),aw(g,v)),a=a.ownerDocument||a,v=a.createElement("script"),En(v),Hn(v,"link",g),a.head.appendChild(v),u.instance=v);case"void":return null;default:throw Error(o(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,zm(g,h.precedence,a));return u.instance}function zm(a,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,k=v,E=0;E<g.length;E++){var A=g[E];if(A.dataset.precedence===u)k=A;else if(k!==v)break}k?k.parentNode.insertBefore(a,k.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(a,u.firstChild))}function lw(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function aw(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var Vm=null;function BA(a,u,h){if(Vm===null){var g=new Map,v=Vm=new Map;v.set(h,g)}else v=Vm,g=v.get(h),g||(g=new Map,v.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),v=0;v<h.length;v++){var k=h[v];if(!(k[Pd]||k[Kn]||a==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var E=k.getAttribute(u)||"";E=a+E;var A=g.get(E);A?A.push(k):g.set(E,[k])}}return g}function IA(a,u,h){a=a.ownerDocument||a,a.head.insertBefore(h,u==="title"?a.querySelector("head > title"):null)}function H$(a,u,h){if(h===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function jA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Tf=null;function z$(){}function V$(a,u,h){if(Tf===null)throw Error(o(475));var g=Tf;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=mu(h.href),k=a.querySelector(Sf(v));if(k){a=k._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Um.bind(g),a.then(g,g)),u.state.loading|=4,u.instance=k,En(k);return}k=a.ownerDocument||a,h=DA(h),(v=wr.get(v))&&lw(h,v),k=k.createElement("link"),En(k);var E=k;E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),Hn(k,"link",h),u.instance=k}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=Um.bind(g),a.addEventListener("load",u),a.addEventListener("error",u))}}function U$(){if(Tf===null)throw Error(o(475));var a=Tf;return a.stylesheets&&a.count===0&&cw(a,a.stylesheets),0<a.count?function(u){var h=setTimeout(function(){if(a.stylesheets&&cw(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Um(){if(this.count--,this.count===0){if(this.stylesheets)cw(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Fm=null;function cw(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Fm=new Map,u.forEach(F$,a),Fm=null,Um.call(a))}function F$(a,u){if(!(u.state.loading&4)){var h=Fm.get(a);if(h)var g=h.get(null);else{h=new Map,Fm.set(a,h);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<v.length;k++){var E=v[k];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(h.set(E.dataset.precedence,E),g=E)}g&&h.set(null,g)}v=u.instance,E=v.getAttribute("data-precedence"),k=h.get(E)||g,k===g&&h.set(null,v),h.set(E,v),this.count++,g=Um.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),k?k.parentNode.insertBefore(v,k.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),u.state.loading|=4}}var Mf={$$typeof:M,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function G$(a,u,h,g,v,k,E,A){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=i1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=i1(0),this.hiddenUpdates=i1(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=k,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function PA(a,u,h,g,v,k,E,A,D,W,ee,ie){return a=new G$(a,u,h,E,A,D,W,ie),u=1,k===!0&&(u|=24),k=Ko(3,null,null,u),a.current=k,k.stateNode=a,u=F1(),u.refCount++,a.pooledCache=u,u.refCount++,k.memoizedState={element:g,isDehydrated:h,cache:u},W1(k),a}function $A(a){return a?(a=Kc,a):Kc}function HA(a,u,h,g,v,k){v=$A(v),g.context===null?g.context=v:g.pendingContext=v,g=el(u),g.payload={element:h},k=k===void 0?null:k,k!==null&&(g.callback=k),h=tl(a,g,u),h!==null&&(Jo(h,a,u),of(h,a,u))}function zA(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function uw(a,u){zA(a,u),(a=a.alternate)&&zA(a,u)}function VA(a){if(a.tag===13){var u=qc(a,67108864);u!==null&&Jo(u,a,67108864),uw(a,67108864)}}var Gm=!0;function q$(a,u,h,g){var v=j.T;j.T=null;var k=z.p;try{z.p=2,dw(a,u,h,g)}finally{z.p=k,j.T=v}}function K$(a,u,h,g){var v=j.T;j.T=null;var k=z.p;try{z.p=8,dw(a,u,h,g)}finally{z.p=k,j.T=v}}function dw(a,u,h,g){if(Gm){var v=fw(g);if(v===null)Jv(a,u,g,qm,h),FA(a,g);else if(Z$(v,a,u,h,g))g.stopPropagation();else if(FA(a,g),u&4&&-1<W$.indexOf(a)){for(;v!==null;){var k=Lc(v);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var E=sn(k.pendingLanes);if(E!==0){var A=k;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var D=1<<31-kt(E);A.entanglements[1]|=D,E&=~D}pi(k),(St&6)===0&&(Am=se()+500,kf(0))}}break;case 13:A=qc(k,2),A!==null&&Jo(A,k,2),Om(),uw(k,2)}if(k=fw(g),k===null&&Jv(a,u,g,qm,h),k===v)break;v=k}v!==null&&g.stopPropagation()}else Jv(a,u,g,null,h)}}function fw(a){return a=b1(a),hw(a)}var qm=null;function hw(a){if(qm=null,a=Dc(a),a!==null){var u=i(a);if(u===null)a=null;else{var h=u.tag;if(h===13){if(a=s(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return qm=a,null}function UA(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case ke:return 2;case fe:return 8;case he:case Be:return 32;case _e:return 268435456;default:return 32}default:return 32}}var pw=!1,pl=null,ml=null,gl=null,Af=new Map,Rf=new Map,bl=[],W$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FA(a,u){switch(a){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":Af.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rf.delete(u.pointerId)}}function Of(a,u,h,g,v,k){return a===null||a.nativeEvent!==k?(a={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:k,targetContainers:[v]},u!==null&&(u=Lc(u),u!==null&&VA(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),a)}function Z$(a,u,h,g,v){switch(u){case"focusin":return pl=Of(pl,a,u,h,g,v),!0;case"dragenter":return ml=Of(ml,a,u,h,g,v),!0;case"mouseover":return gl=Of(gl,a,u,h,g,v),!0;case"pointerover":var k=v.pointerId;return Af.set(k,Of(Af.get(k)||null,a,u,h,g,v)),!0;case"gotpointercapture":return k=v.pointerId,Rf.set(k,Of(Rf.get(k)||null,a,u,h,g,v)),!0}return!1}function GA(a){var u=Dc(a.target);if(u!==null){var h=i(u);if(h!==null){if(u=h.tag,u===13){if(u=s(h),u!==null){a.blockedOn=u,V9(a.priority,function(){if(h.tag===13){var g=Yo();g=s1(g);var v=qc(h,g);v!==null&&Jo(v,h,g),uw(h,g)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Km(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=fw(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);g1=g,h.target.dispatchEvent(g),g1=null}else return u=Lc(h),u!==null&&VA(u),a.blockedOn=h,!1;u.shift()}return!0}function qA(a,u,h){Km(a)&&h.delete(u)}function X$(){pw=!1,pl!==null&&Km(pl)&&(pl=null),ml!==null&&Km(ml)&&(ml=null),gl!==null&&Km(gl)&&(gl=null),Af.forEach(qA),Rf.forEach(qA)}function Wm(a,u){a.blockedOn===u&&(a.blockedOn=null,pw||(pw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,X$)))}var Zm=null;function KA(a){Zm!==a&&(Zm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zm===a&&(Zm=null);for(var u=0;u<a.length;u+=3){var h=a[u],g=a[u+1],v=a[u+2];if(typeof g!="function"){if(hw(g||h)===null)continue;break}var k=Lc(h);k!==null&&(a.splice(u,3),u-=3,hv(k,{pending:!0,data:v,method:h.method,action:g},g,v))}}))}function Nf(a){function u(D){return Wm(D,a)}pl!==null&&Wm(pl,a),ml!==null&&Wm(ml,a),gl!==null&&Wm(gl,a),Af.forEach(u),Rf.forEach(u);for(var h=0;h<bl.length;h++){var g=bl[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<bl.length&&(h=bl[0],h.blockedOn===null);)GA(h),h.blockedOn===null&&bl.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var v=h[g],k=h[g+1],E=v[Eo]||null;if(typeof k=="function")E||KA(h);else if(E){var A=null;if(k&&k.hasAttribute("formAction")){if(v=k,E=k[Eo]||null)A=E.formAction;else if(hw(v)!==null)continue}else A=E.action;typeof A=="function"?h[g+1]=A:(h.splice(g,3),g-=3),KA(h)}}}function mw(a){this._internalRoot=a}Xm.prototype.render=mw.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(o(409));var h=u.current,g=Yo();HA(h,g,a,u,null,null)},Xm.prototype.unmount=mw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;HA(a.current,2,null,a,null,null),Om(),u[Nc]=null}};function Xm(a){this._internalRoot=a}Xm.prototype.unstable_scheduleHydration=function(a){if(a){var u=u2();a={blockedOn:null,target:a,priority:u};for(var h=0;h<bl.length&&u!==0&&u<bl[h].priority;h++);bl.splice(h,0,a),h===0&&GA(a)}};var WA=e.version;if(WA!=="19.1.0")throw Error(o(527,WA,"19.1.0"));z.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(o(188)):(a=Object.keys(a).join(","),Error(o(268,a)));return a=c(u),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var Y$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ym.isDisabled&&Ym.supportsFiber)try{Ke=Ym.inject(Y$),We=Ym}catch{}}return Bf.createRoot=function(a,u){if(!r(a))throw Error(o(299));var h=!1,g="",v=uM,k=dM,E=fM,A=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(E=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(A=u.unstable_transitionCallbacks)),u=PA(a,1,!1,null,null,h,g,v,k,E,A,null),a[Nc]=u.current,Yv(a),new mw(u)},Bf.hydrateRoot=function(a,u,h){if(!r(a))throw Error(o(299));var g=!1,v="",k=uM,E=dM,A=fM,D=null,W=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(E=h.onCaughtError),h.onRecoverableError!==void 0&&(A=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(D=h.unstable_transitionCallbacks),h.formState!==void 0&&(W=h.formState)),u=PA(a,1,!0,u,h??null,g,v,k,E,A,D,W),u.context=$A(null),h=u.current,g=Yo(),g=s1(g),v=el(g),v.callback=null,tl(h,v,g),h=g,u.current.lanes=h,jd(u,h),pi(u),a[Nc]=u.current,Yv(a),new Xm(u)},Bf.version="19.1.0",Bf}var LR;function IV(){if(LR)return Rw.exports;LR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rw.exports=BV(),Rw.exports}var ML=IV(),Lw={exports:{}},If={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR;function jV(){if(BR)return If;BR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,r,i){var s=null;if(i!==void 0&&(s=""+i),r.key!==void 0&&(s=""+r.key),"key"in r){i={};for(var l in r)l!=="key"&&(i[l]=r[l])}else i=r;return r=i.ref,{$$typeof:t,type:o,key:s,ref:r!==void 0?r:null,props:i}}return If.Fragment=e,If.jsx=n,If.jsxs=n,If}var IR;function PV(){return IR||(IR=1,Lw.exports=jV()),Lw.exports}var C=PV();const $V="modulepreload",HV=function(t){return"/block-note-vue-demo/"+t},jR={},we=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=HV(c),c in jR)return;jR[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":$V,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((m,b)=>{p.addEventListener("load",m),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function Vn(t){this.content=t}Vn.prototype={constructor:Vn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,r=o.find(t),i=o.content.slice();return r==-1?i.push(n||t,e):(i[r+1]=e,n&&(i[r]=n)),new Vn(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Vn(n)},addToStart:function(t,e){return new Vn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Vn(n)},addBefore:function(t,e,n){var o=this.remove(e),r=o.content.slice(),i=o.find(t);return r.splice(i==-1?r.length:i,0,e,n),new Vn(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Vn.from(t),t.size?new Vn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Vn.from(t),t.size?new Vn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Vn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Vn.from=function(t){if(t instanceof Vn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Vn(e)};function AL(t,e,n){for(let o=0;;o++){if(o==t.childCount||o==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(o),i=e.child(o);if(r==i){n+=r.nodeSize;continue}if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let s=0;r.text[s]==i.text[s];s++)n++;return n}if(r.content.size||i.content.size){let s=AL(r.content,i.content,n+1);if(s!=null)return s}n+=r.nodeSize}}function RL(t,e,n,o){for(let r=t.childCount,i=e.childCount;;){if(r==0||i==0)return r==i?null:{a:n,b:o};let s=t.child(--r),l=e.child(--i),c=s.nodeSize;if(s==l){n-=c,o-=c;continue}if(!s.sameMarkup(l))return{a:n,b:o};if(s.isText&&s.text!=l.text){let d=0,f=Math.min(s.text.length,l.text.length);for(;d<f&&s.text[s.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,o--;return{a:n,b:o}}if(s.content.size||l.content.size){let d=RL(s.content,l.content,n-1,o-1);if(d)return d}n-=c,o-=c}}class J{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let o=0;o<e.length;o++)this.size+=e[o].nodeSize}nodesBetween(e,n,o,r=0,i){for(let s=0,l=0;l<n;s++){let c=this.content[s],d=l+c.nodeSize;if(d>e&&o(c,r+l,i||null,s)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,n-f),o,r+f)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,o,r){let i="",s=!0;return this.nodesBetween(e,n,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&o&&(s?s=!1:i+=o),i+=d},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,o=e.firstChild,r=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(o)&&(r[r.length-1]=n.withText(n.text+o.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new J(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let o=[],r=0;if(n>e)for(let i=0,s=0;s<n;i++){let l=this.content[i],c=s+l.nodeSize;c>e&&((s<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),o.push(l),r+=l.nodeSize),s=c}return new J(o,r)}cutByIndex(e,n){return e==n?J.empty:e==0&&n==this.content.length?this:new J(this.content.slice(e,n))}replaceChild(e,n){let o=this.content[e];if(o==n)return this;let r=this.content.slice(),i=this.size+n.nodeSize-o.nodeSize;return r[e]=n,new J(r,i)}addToStart(e){return new J([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new J(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,o=0;n<this.content.length;n++){let r=this.content[n];e(r,o,n),o+=r.nodeSize}}findDiffStart(e,n=0){return AL(this,e,n)}findDiffEnd(e,n=this.size,o=e.size){return RL(this,e,n,o)}findIndex(e,n=-1){if(e==0)return tg(0,e);if(e==this.size)return tg(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let o=0,r=0;;o++){let i=this.child(o),s=r+i.nodeSize;if(s>=e)return s==e||n>0?tg(o+1,s):tg(o,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return J.empty;let n,o=0;for(let r=0;r<e.length;r++){let i=e[r];o+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(n||(n=e.slice(0,r)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new J(n||e,o)}static from(e){if(!e)return J.empty;if(e instanceof J)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new J([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const Bw={index:0,offset:0};function tg(t,e){return Bw.index=t,Bw.offset=e,Bw}function db(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(!db(t[o],e[o]))return!1}else{for(let o in t)if(!(o in e)||!db(t[o],e[o]))return!1;for(let o in e)if(!(o in t))return!1}return!0}let jt=class xx{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,o=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!o&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),o=!0),n&&n.push(i)}}return n||(n=e.slice()),o||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&db(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let o=e.marks[n.type];if(!o)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=o.create(n.attrs);return o.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].eq(n[o]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return xx.none;if(e instanceof xx)return[e];let n=e.slice();return n.sort((o,r)=>o.type.rank-r.type.rank),n}};jt.none=[];class fb extends Error{}class ye{constructor(e,n,o){this.content=e,this.openStart=n,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let o=NL(this.content,e+this.openStart,n);return o&&new ye(o,this.openStart,this.openEnd)}removeBetween(e,n){return new ye(OL(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ye.empty;let o=n.openStart||0,r=n.openEnd||0;if(typeof o!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ye(J.fromJSON(e,n.content),o,r)}static maxOpen(e,n=!0){let o=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)o++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)r++;return new ye(e,o,r)}}ye.empty=new ye(J.empty,0,0);function OL(t,e,n){let{index:o,offset:r}=t.findIndex(e),i=t.maybeChild(o),{index:s,offset:l}=t.findIndex(n);if(r==e||i.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(o,i.copy(OL(i.content,e-r-1,n-r-1)))}function NL(t,e,n,o){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r);if(i==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=NL(s.content,e-i-1,n);return l&&t.replaceChild(r,s.copy(l))}function zV(t,e,n){if(n.openStart>t.depth)throw new fb("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new fb("Inconsistent open depths");return DL(t,e,n,0)}function DL(t,e,n,o){let r=t.index(o),i=t.node(o);if(r==e.index(o)&&o<t.depth-n.openStart){let s=DL(t,e,n,o+1);return i.copy(i.content.replaceChild(r,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==o&&e.depth==o){let s=t.parent,l=s.content;return tc(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=VV(n,t);return tc(i,BL(t,s,l,e,o))}else return tc(i,hb(t,e,o))}function LL(t,e){if(!e.type.compatibleContent(t.type))throw new fb("Cannot join "+e.type.name+" onto "+t.type.name)}function Cx(t,e,n){let o=t.node(n);return LL(o,e.node(n)),o}function ec(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ah(t,e,n,o){let r=(e||t).node(n),i=0,s=e?e.index(n):r.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(ec(t.nodeAfter,o),i++));for(let l=i;l<s;l++)ec(r.child(l),o);e&&e.depth==n&&e.textOffset&&ec(e.nodeBefore,o)}function tc(t,e){return t.type.checkContent(e),t.copy(e)}function BL(t,e,n,o,r){let i=t.depth>r&&Cx(t,e,r+1),s=o.depth>r&&Cx(n,o,r+1),l=[];return ah(null,t,r,l),i&&s&&e.index(r)==n.index(r)?(LL(i,s),ec(tc(i,BL(t,e,n,o,r+1)),l)):(i&&ec(tc(i,hb(t,e,r+1)),l),ah(e,n,r,l),s&&ec(tc(s,hb(n,o,r+1)),l)),ah(o,null,r,l),new J(l)}function hb(t,e,n){let o=[];if(ah(null,t,n,o),t.depth>n){let r=Cx(t,e,n+1);ec(tc(r,hb(t,e,n+1)),o)}return ah(e,null,n,o),new J(o)}function VV(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(J.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class Oh{constructor(e,n,o){this.pos=e,this.path=n,this.parentOffset=o,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let o=this.pos-this.path[this.path.length-1],r=e.child(n);return o?e.child(n).cut(o):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let o=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)r+=o.child(i).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return jt.none;if(this.textOffset)return e.child(n).marks;let o=e.maybeChild(n-1),r=e.maybeChild(n);if(!o){let l=o;o=r,r=l}let i=o.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let o=n.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<o.length;i++)o[i].type.spec.inclusive===!1&&(!r||!o[i].isInSet(r.marks))&&(o=o[i--].removeFromSet(o));return o}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let o=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);o>=0;o--)if(e.pos<=this.end(o)&&(!n||n(this.node(o))))return new pb(this,e,o);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let o=[],r=0,i=n;for(let s=e;;){let{index:l,offset:c}=s.content.findIndex(i),d=i-c;if(o.push(s,l,r+c),!d||(s=s.child(l),s.isText))break;i=d-1,r+=c+1}return new Oh(n,o,i)}static resolveCached(e,n){let o=PR.get(e);if(o)for(let i=0;i<o.elts.length;i++){let s=o.elts[i];if(s.pos==n)return s}else PR.set(e,o=new UV);let r=o.elts[o.i]=Oh.resolve(e,n);return o.i=(o.i+1)%FV,r}}class UV{constructor(){this.elts=[],this.i=0}}const FV=12,PR=new WeakMap;class pb{constructor(e,n,o){this.$from=e,this.$to=n,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const GV=Object.create(null);let Ms=class _x{constructor(e,n,o,r=jt.none){this.type=e,this.attrs=n,this.marks=r,this.content=o||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,o,r=0){this.content.nodesBetween(e,n,o,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,o,r){return this.content.textBetween(e,n,o,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,o){return this.type==e&&db(this.attrs,n||e.defaultAttrs||GV)&&jt.sameSet(this.marks,o||jt.none)}copy(e=null){return e==this.content?this:new _x(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new _x(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,o=!1){if(e==n)return ye.empty;let r=this.resolve(e),i=this.resolve(n),s=o?0:r.sharedDepth(n),l=r.start(s),d=r.node(s).content.cut(r.pos-l,i.pos-l);return new ye(d,r.depth-s,i.depth-s)}replace(e,n,o){return zV(this.resolve(e),this.resolve(n),o)}nodeAt(e){for(let n=this;;){let{index:o,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(o),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:o}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:o}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:o}=this.content.findIndex(e);if(o<e)return{node:this.content.child(n),index:n,offset:o};let r=this.content.child(n-1);return{node:r,index:n-1,offset:o-r.nodeSize}}resolve(e){return Oh.resolveCached(this,e)}resolveNoCache(e){return Oh.resolve(this,e)}rangeHasMark(e,n,o){let r=!1;return n>e&&this.nodesBetween(e,n,i=>(o.isInSet(i.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),IL(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,o=J.empty,r=0,i=o.childCount){let s=this.contentMatchAt(e).matchFragment(o,r,i),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=r;c<i;c++)if(!this.type.allowsMarks(o.child(c).marks))return!1;return!0}canReplaceWith(e,n,o,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(o),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=jt.none;for(let n=0;n<this.marks.length;n++){let o=this.marks[n];o.type.checkAttrs(o.attrs),e=o.addToSet(e)}if(!jt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let o;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");o=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,o)}let r=J.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,r,o);return i.type.checkAttrs(i.attrs),i}};Ms.prototype.text=void 0;class mb extends Ms{constructor(e,n,o,r){if(super(e,n,null,r),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):IL(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new mb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new mb(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function IL(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ac{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let o=new qV(e,n);if(o.next==null)return ac.empty;let r=jL(o);o.next&&o.err("Unexpected trailing text");let i=QV(JV(r));return eU(i,o),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,o=e.childCount){let r=this;for(let i=n;r&&i<o;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let o=0;o<e.next.length;o++)if(this.next[n].type==e.next[o].type)return!0;return!1}fillBefore(e,n=!1,o=0){let r=[this];function i(s,l){let c=s.matchFragment(e,o);if(c&&(!n||c.validEnd))return J.from(l.map(d=>d.createAndFill()));for(let d=0;d<s.next.length;d++){let{type:f,next:p}=s.next[d];if(!(f.isText||f.hasRequiredAttrs())&&r.indexOf(p)==-1){r.push(p);let m=i(p,l.concat(f));if(m)return m}}return null}return i(this,[])}findWrapping(e){for(let o=0;o<this.wrapCache.length;o+=2)if(this.wrapCache[o]==e)return this.wrapCache[o+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),o=[{match:this,type:null,via:null}];for(;o.length;){let r=o.shift(),i=r.match;if(i.matchType(e)){let s=[];for(let l=r;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||c.validEnd)&&(o.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(o){e.push(o);for(let r=0;r<o.next.length;r++)e.indexOf(o.next[r].next)==-1&&n(o.next[r].next)}return n(this),e.map((o,r)=>{let i=r+(o.validEnd?"*":" ")+" ";for(let s=0;s<o.next.length;s++)i+=(s?", ":"")+o.next[s].type.name+"->"+e.indexOf(o.next[s].next);return i}).join(`
`)}}ac.empty=new ac(!0);class qV{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function jL(t){let e=[];do e.push(KV(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function KV(t){let e=[];do e.push(WV(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function WV(t){let e=YV(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=ZV(t,e);else break;return e}function $R(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function ZV(t,e){let n=$R(t),o=n;return t.eat(",")&&(t.next!="}"?o=$R(t):o=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:e}}function XV(t,e){let n=t.nodeTypes,o=n[e];if(o)return[o];let r=[];for(let i in n){let s=n[i];s.isInGroup(e)&&r.push(s)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function YV(t){if(t.eat("(")){let e=jL(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=XV(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function JV(t){let e=[[]];return r(i(t,0),n()),e;function n(){return e.push([])-1}function o(s,l,c){let d={term:c,to:l};return e[s].push(d),d}function r(s,l){s.forEach(c=>c.to=l)}function i(s,l){if(s.type=="choice")return s.exprs.reduce((c,d)=>c.concat(i(d,l)),[]);if(s.type=="seq")for(let c=0;;c++){let d=i(s.exprs[c],l);if(c==s.exprs.length-1)return d;r(d,l=n())}else if(s.type=="star"){let c=n();return o(l,c),r(i(s.expr,c),c),[o(c)]}else if(s.type=="plus"){let c=n();return r(i(s.expr,l),c),r(i(s.expr,c),c),[o(c)]}else{if(s.type=="opt")return[o(l)].concat(i(s.expr,l));if(s.type=="range"){let c=l;for(let d=0;d<s.min;d++){let f=n();r(i(s.expr,c),f),c=f}if(s.max==-1)r(i(s.expr,c),c);else for(let d=s.min;d<s.max;d++){let f=n();o(c,f),r(i(s.expr,c),f),c=f}return[o(c)]}else{if(s.type=="name")return[o(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function PL(t,e){return e-t}function HR(t,e){let n=[];return o(e),n.sort(PL);function o(r){let i=t[r];if(i.length==1&&!i[0].term)return o(i[0].to);n.push(r);for(let s=0;s<i.length;s++){let{term:l,to:c}=i[s];!l&&n.indexOf(c)==-1&&o(c)}}}function QV(t){let e=Object.create(null);return n(HR(t,0));function n(o){let r=[];o.forEach(s=>{t[s].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let f=0;f<r.length;f++)r[f][0]==l&&(d=r[f][1]);HR(t,c).forEach(f=>{d||r.push([l,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let i=e[o.join(",")]=new ac(o.indexOf(t.length-1)>-1);for(let s=0;s<r.length;s++){let l=r[s][1].sort(PL);i.next.push({type:r[s][0],next:e[l.join(",")]||n(l)})}return i}}function eU(t,e){for(let n=0,o=[t];n<o.length;n++){let r=o[n],i=!r.validEnd,s=[];for(let l=0;l<r.next.length;l++){let{type:c,next:d}=r.next[l];s.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),o.indexOf(d)==-1&&o.push(d)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $L(t){let e=Object.create(null);for(let n in t){let o=t[n];if(!o.hasDefault)return null;e[n]=o.default}return e}function HL(t,e){let n=Object.create(null);for(let o in t){let r=e&&e[o];if(r===void 0){let i=t[o];if(i.hasDefault)r=i.default;else throw new RangeError("No value supplied for attribute "+o)}n[o]=r}return n}function zL(t,e,n,o){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let i=t[r];i.validate&&i.validate(e[r])}}function VL(t,e){let n=Object.create(null);if(e)for(let o in e)n[o]=new nU(t,o,e[o]);return n}let zR=class UL{constructor(e,n,o){this.name=e,this.schema=n,this.spec=o,this.markSet=null,this.groups=o.group?o.group.split(" "):[],this.attrs=VL(e,o.attrs),this.defaultAttrs=$L(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(o.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ac.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:HL(this.attrs,e)}create(e=null,n,o){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ms(this,this.computeAttrs(e),J.from(n),jt.setFrom(o))}createChecked(e=null,n,o){return n=J.from(n),this.checkContent(n),new Ms(this,this.computeAttrs(e),n,jt.setFrom(o))}createAndFill(e=null,n,o){if(e=this.computeAttrs(e),n=J.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let r=this.contentMatch.matchFragment(n),i=r&&r.fillBefore(J.empty,!0);return i?new Ms(this,e,n.append(i),jt.setFrom(o)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let o=0;o<e.childCount;o++)if(!this.allowsMarks(e.child(o).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){zL(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let o=0;o<e.length;o++)this.allowsMarkType(e[o].type)?n&&n.push(e[o]):n||(n=e.slice(0,o));return n?n.length?n:jt.none:e}static compile(e,n){let o=Object.create(null);e.forEach((i,s)=>o[i]=new UL(i,n,s));let r=n.spec.topNode||"doc";if(!o[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!o.text)throw new RangeError("Every schema needs a 'text' type");for(let i in o.text.attrs)throw new RangeError("The text node type should not have attributes");return o}};function tU(t,e,n){let o=n.split("|");return r=>{let i=r===null?"null":typeof r;if(o.indexOf(i)<0)throw new RangeError(`Expected value of type ${o} for attribute ${e} on type ${t}, got ${i}`)}}class nU{constructor(e,n,o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default,this.validate=typeof o.validate=="string"?tU(e,n,o.validate):o.validate}get isRequired(){return!this.hasDefault}}class Xy{constructor(e,n,o,r){this.name=e,this.rank=n,this.schema=o,this.spec=r,this.attrs=VL(e,r.attrs),this.excluded=null;let i=$L(this.attrs);this.instance=i?new jt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new jt(this,HL(this.attrs,e))}static compile(e,n){let o=Object.create(null),r=0;return e.forEach((i,s)=>o[i]=new Xy(i,r++,n,s)),o}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){zL(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let FL=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=Vn.from(e.nodes),n.marks=Vn.from(e.marks||{}),this.nodes=zR.compile(this.spec.nodes,this),this.marks=Xy.compile(this.spec.marks,this);let o=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=o[s]||(o[s]=ac.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?VR(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:VR(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,o,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof zR){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,o,r)}text(e,n){let o=this.nodes.text;return new mb(o,o.defaultAttrs,e,jt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Ms.fromJSON(this,e)}markFromJSON(e){return jt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function VR(t,e){let n=[];for(let o=0;o<e.length;o++){let r=e[o],i=t.marks[r],s=i;if(i)n.push(i);else for(let l in t.marks){let c=t.marks[l];(r=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[o]+"'")}return n}function oU(t){return t.tag!=null}function rU(t){return t.style!=null}let nc=class Sx{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let o=this.matchedStyles=[];n.forEach(r=>{if(oU(r))this.tags.push(r);else if(rU(r)){let i=/[^=]*/.exec(r.style)[0];o.indexOf(i)<0&&o.push(i),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let o=new FR(this,n,!1);return o.addAll(e,jt.none,n.from,n.to),o.finish()}parseSlice(e,n={}){let o=new FR(this,n,!0);return o.addAll(e,jt.none,n.from,n.to),ye.maxOpen(o.finish())}matchTag(e,n,o){for(let r=o?this.tags.indexOf(o)+1:0;r<this.tags.length;r++){let i=this.tags[r];if(lU(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,o,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let s=this.styles[i],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!o.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let c=s.getAttrs(n);if(c===!1)continue;s.attrs=c||void 0}return s}}}static schemaRules(e){let n=[];function o(r){let i=r.priority==null?50:r.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<i)break}n.splice(s,0,r)}for(let r in e.marks){let i=e.marks[r].spec.parseDOM;i&&i.forEach(s=>{o(s=GR(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in e.nodes){let i=e.nodes[r].spec.parseDOM;i&&i.forEach(s=>{o(s=GR(s)),s.node||s.ignore||s.mark||(s.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Sx(e,Sx.schemaRules(e)))}};const GL={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},iU={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},qL={ol:!0,ul:!0},Nh=1,Ex=2,Ig=4;function UR(t,e,n){return e!=null?(e?Nh:0)|(e==="full"?Ex:0):t&&t.whitespace=="pre"?Nh|Ex:n&-5}class ng{constructor(e,n,o,r,i,s){this.type=e,this.attrs=n,this.marks=o,this.solid=r,this.options=s,this.content=[],this.activeMarks=jt.none,this.match=i||(s&Ig?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let o=this.type.contentMatch,r;return(r=o.findWrapping(e.type))?(this.match=o,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Nh)){let o=this.content[this.content.length-1],r;if(o&&o.isText&&(r=/[ \t\r\n\u000c]+$/.exec(o.text))){let i=o;o.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let n=J.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!GL.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class FR{constructor(e,n,o){this.parser=e,this.options=n,this.isOpen=o,this.open=0,this.localPreserveWS=!1;let r=n.topNode,i,s=UR(null,n.preserveWhitespace,0)|(o?Ig:0);r?i=new ng(r.type,r.attrs,jt.none,!0,n.topMatch||r.type.contentMatch,s):o?i=new ng(null,null,jt.none,!0,null,s):i=new ng(e.schema.topNodeType,null,jt.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let o=e.nodeValue,r=this.top,i=r.options&Ex?"full":this.localPreserveWS||(r.options&Nh)>0;if(i==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(o)){if(i)i!=="full"?o=o.replace(/\r?\n|\r/g," "):o=o.replace(/\r\n?/g,`
`);else if(o=o.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(o)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(o=o.slice(1))}o&&this.insertNode(this.parser.schema.text(o),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,o){let r=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),l;qL.hasOwnProperty(s)&&this.parser.normalizeLists&&sU(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,o));e:if(c?c.ignore:iU.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,f=this.needsBlock;if(GL.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),d=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=c&&c.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),d&&this.sync(i),this.needsBlock=f}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let o=e.style;if(o&&o.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],s=o.getPropertyValue(i);if(s)for(let l=void 0;;){let c=this.parser.matchStyle(i,s,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(d=>!c.clearMark(d)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,o,r){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),o)||this.leafFallback(e,o);else{let c=this.enter(s,n.attrs||null,o,n.preserveWhitespace);c&&(i=!0,o=c)}else{let c=this.parser.schema.marks[n.mark];o=o.concat(c.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,o,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,o));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,o),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,o,r){let i=o||0;for(let s=o?e.childNodes[o]:e.firstChild,l=r==null?null:e.childNodes[r];s!=l;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n){let o,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],l=s.findWrapping(e);if(l&&(!o||o.length>l.length)&&(o=l,r=s,!l.length)||s.solid)break}if(!o)return null;this.sync(r);for(let i=0;i<o.length;i++)n=this.enterInner(o[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(n=this.enterInner(r,null,n))}let o=this.findPlace(e,n);if(o){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let i=jt.none;for(let s of o.concat(e.marks))(r.type?r.type.allowsMarkType(s.type):qR(s.type,e.type))&&(i=s.addToSet(i));return r.content.push(e.mark(i)),!0}return!1}enter(e,n,o,r){let i=this.findPlace(e.create(n),o);return i&&(i=this.enterInner(e,n,o,!0,r)),i}enterInner(e,n,o,r=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let l=UR(e,i,s.options);s.options&Ig&&s.content.length==0&&(l|=Ig);let c=jt.none;return o=o.filter(d=>(s.type?s.type.allowsMarkType(d.type):qR(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new ng(e,n,c,r,null,l)),this.open++,o}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Nh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let o=this.nodes[n].content;for(let r=o.length-1;r>=0;r--)e+=o[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==e&&this.find[o].offset==n&&(this.find[o].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,o){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(o?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),o=this.options.context,r=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),i=-(o?o.depth+1:0)+(r?0:1),s=(l,c)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(s(l-1,c))return!0;return!1}else{let f=c>0||c==0&&r?this.nodes[c].type:o&&c>=i?o.node(c-i).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;c--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let n in this.parser.schema.nodes){let o=this.parser.schema.nodes[n];if(o.isTextblock&&o.defaultAttrs)return o}}}function sU(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let o=e.nodeType==1?e.nodeName.toLowerCase():null;o&&qL.hasOwnProperty(o)&&n?(n.appendChild(e),e=n):o=="li"?n=e:o&&(n=null)}}function lU(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function GR(t){let e={};for(let n in t)e[n]=t[n];return e}function qR(t,e){let n=e.schema.nodes;for(let o in n){let r=n[o];if(!r.allowsMarkType(t))continue;let i=[],s=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:f}=l.edge(c);if(d==e||i.indexOf(f)<0&&s(f))return!0}};if(s(r.contentMatch))return!0}}class Us{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},o){o||(o=Iw(n).createDocumentFragment());let r=o,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let l=0,c=0;for(;l<i.length&&c<s.marks.length;){let d=s.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(i[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)r=i.pop()[1];for(;c<s.marks.length;){let d=s.marks[c++],f=this.serializeMark(d,s.isInline,n);f&&(i.push([d,r]),r.appendChild(f.dom),r=f.contentDOM||f.dom)}}r.appendChild(this.serializeNodeInner(s,n))}),o}serializeNodeInner(e,n){let{dom:o,contentDOM:r}=jg(Iw(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return o}serializeNode(e,n={}){let o=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(o),o=i.dom)}return o}serializeMark(e,n,o={}){let r=this.marks[e.type.name];return r&&jg(Iw(o),r(e,n),null,e.attrs)}static renderSpec(e,n,o=null,r){return jg(e,n,o,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Us(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=KR(e.nodes);return n.text||(n.text=o=>o.text),n}static marksFromSchema(e){return KR(e.marks)}}function KR(t){let e={};for(let n in t){let o=t[n].spec.toDOM;o&&(e[n]=o)}return e}function Iw(t){return t.document||window.document}const WR=new WeakMap;function aU(t){let e=WR.get(t);return e===void 0&&WR.set(t,e=cU(t)),e}function cU(t){let e=null;function n(o){if(o&&typeof o=="object")if(Array.isArray(o))if(typeof o[0]=="string")e||(e=[]),e.push(o);else for(let r=0;r<o.length;r++)n(o[r]);else for(let r in o)n(o[r])}return n(t),e}function jg(t,e,n,o){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],i;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(o&&(i=aU(o))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(n=r.slice(0,s),r=r.slice(s+1));let l,c=n?t.createElementNS(n,r):t.createElement(r),d=e[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let p in d)if(d[p]!=null){let m=p.indexOf(" ");m>0?c.setAttributeNS(p.slice(0,m),p.slice(m+1),d[p]):c.setAttribute(p,d[p])}}for(let p=f;p<e.length;p++){let m=e[p];if(m===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:b,contentDOM:y}=jg(t,m,n,o);if(c.appendChild(b),y){if(l)throw new RangeError("Multiple content holes");l=y}}}return{dom:c,contentDOM:l}}const KL=65535,WL=Math.pow(2,16);function uU(t,e){return t+e*WL}function ZR(t){return t&KL}function dU(t){return(t-(t&KL))/WL}const ZL=1,XL=2,Pg=4,YL=8;class Tx{constructor(e,n,o){this.pos=e,this.delInfo=n,this.recover=o}get deleted(){return(this.delInfo&YL)>0}get deletedBefore(){return(this.delInfo&(ZL|Pg))>0}get deletedAfter(){return(this.delInfo&(XL|Pg))>0}get deletedAcross(){return(this.delInfo&Pg)>0}}class or{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&or.empty)return or.empty}recover(e){let n=0,o=ZR(e);if(!this.inverted)for(let r=0;r<o;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[o*3]+n+dU(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,o){let r=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[l+i],f=this.ranges[l+s],p=c+d;if(e<=p){let m=d?e==c?-1:e==p?1:n:n,b=c+r+(m<0?0:f);if(o)return b;let y=e==(n<0?c:p)?null:uU(l/3,e-c),w=e==c?XL:e==p?ZL:Pg;return(n<0?e!=c:e!=p)&&(w|=YL),new Tx(b,w,y)}r+=f-d}return o?e+r:new Tx(e+r,0,null)}touches(e,n){let o=0,r=ZR(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?o:0);if(c>e)break;let d=this.ranges[l+i],f=c+d;if(e<=f&&l==r*3)return!0;o+=this.ranges[l+s]-d}return!1}forEach(e){let n=this.inverted?2:1,o=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let s=this.ranges[r],l=s-(this.inverted?i:0),c=s+(this.inverted?0:i),d=this.ranges[r+n],f=this.ranges[r+o];e(l,l+d,c,c+f),i+=f-d}}invert(){return new or(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?or.empty:new or(e<0?[0,-e,0]:[0,0,e])}}or.empty=new or([]);class ed{constructor(e,n,o=0,r=e?e.length:0){this.mirror=n,this.from=o,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ed(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,o=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?o+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,o=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?o-r-1:void 0)}}invert(){let e=new ed;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let o=this.from;o<this.to;o++)e=this._maps[o].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,o){let r=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],l=s.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return o?e:new Tx(e,r,null)}}const jw=Object.create(null);class ao{getMap(){return or.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=jw[n.stepType];if(!o)throw new RangeError(`No step type ${n.stepType} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in jw)throw new RangeError("Duplicate use of step JSON ID "+e);return jw[e]=n,n.prototype.jsonID=e,n}}class gn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new gn(e,null)}static fail(e){return new gn(null,e)}static fromReplace(e,n,o,r){try{return gn.ok(e.replace(n,o,r))}catch(i){if(i instanceof fb)return gn.fail(i.message);throw i}}}function C_(t,e,n){let o=[];for(let r=0;r<t.childCount;r++){let i=t.child(r);i.content.size&&(i=i.copy(C_(i.content,e,i))),i.isInline&&(i=e(i,n,r)),o.push(i)}return J.fromArray(o)}class Il extends ao{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=e.resolve(this.from),r=o.node(o.sharedDepth(this.to)),i=new ye(C_(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),n.openStart,n.openEnd);return gn.fromReplace(e,this.from,this.to,i)}invert(){return new Ci(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new Il(n.pos,o.pos,this.mark)}merge(e){return e instanceof Il&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Il(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Il(n.from,n.to,e.markFromJSON(n.mark))}}ao.jsonID("addMark",Il);class Ci extends ao{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=new ye(C_(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return gn.fromReplace(e,this.from,this.to,o)}invert(){return new Il(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new Ci(n.pos,o.pos,this.mark)}merge(e){return e instanceof Ci&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ci(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ci(n.from,n.to,e.markFromJSON(n.mark))}}ao.jsonID("removeMark",Ci);class jl extends ao{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gn.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return gn.fromReplace(e,this.pos,this.pos+1,new ye(J.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let o=this.mark.addToSet(n.marks);if(o.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(o))return new jl(this.pos,n.marks[r]);return new jl(this.pos,this.mark)}}return new td(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new jl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new jl(n.pos,e.markFromJSON(n.mark))}}ao.jsonID("addNodeMark",jl);class td extends ao{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gn.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return gn.fromReplace(e,this.pos,this.pos+1,new ye(J.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new jl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new td(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new td(n.pos,e.markFromJSON(n.mark))}}ao.jsonID("removeNodeMark",td);class Cn extends ao{constructor(e,n,o,r=!1){super(),this.from=e,this.to=n,this.slice=o,this.structure=r}apply(e){return this.structure&&Mx(e,this.from,this.to)?gn.fail("Structure replace would overwrite content"):gn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new or([this.from,this.to-this.from,this.slice.size])}invert(e){return new Cn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deletedAcross&&o.deletedAcross?null:new Cn(n.pos,Math.max(n.pos,o.pos),this.slice)}merge(e){if(!(e instanceof Cn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ye.empty:new ye(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Cn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ye.empty:new ye(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Cn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Cn(n.from,n.to,ye.fromJSON(e,n.slice),!!n.structure)}}ao.jsonID("replace",Cn);class fn extends ao{constructor(e,n,o,r,i,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=i,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Mx(e,this.from,this.gapFrom)||Mx(e,this.gapTo,this.to)))return gn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return gn.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,n.content);return o?gn.fromReplace(e,this.from,this.to,o):gn.fail("Content does not fit in gap")}getMap(){return new or([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new fn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?o.pos:e.map(this.gapTo,1);return n.deletedAcross&&o.deletedAcross||r<n.pos||i>o.pos?null:new fn(n.pos,o.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new fn(n.from,n.to,n.gapFrom,n.gapTo,ye.fromJSON(e,n.slice),n.insert,!!n.structure)}}ao.jsonID("replaceAround",fn);function Mx(t,e,n){let o=t.resolve(e),r=n-e,i=o.depth;for(;r>0&&i>0&&o.indexAfter(i)==o.node(i).childCount;)i--,r--;if(r>0){let s=o.node(i).maybeChild(o.indexAfter(i));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function fU(t,e,n,o){let r=[],i=[],s,l;t.doc.nodesBetween(e,n,(c,d,f)=>{if(!c.isInline)return;let p=c.marks;if(!o.isInSet(p)&&f.type.allowsMarkType(o.type)){let m=Math.max(d,e),b=Math.min(d+c.nodeSize,n),y=o.addToSet(p);for(let w=0;w<p.length;w++)p[w].isInSet(y)||(s&&s.to==m&&s.mark.eq(p[w])?s.to=b:r.push(s=new Ci(m,b,p[w])));l&&l.to==m?l.to=b:i.push(l=new Il(m,b,o))}}),r.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function hU(t,e,n,o){let r=[],i=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;i++;let c=null;if(o instanceof Xy){let d=s.marks,f;for(;f=o.isInSet(d);)(c||(c=[])).push(f),d=f.removeFromSet(d)}else o?o.isInSet(s.marks)&&(c=[o]):c=s.marks;if(c&&c.length){let d=Math.min(l+s.nodeSize,n);for(let f=0;f<c.length;f++){let p=c[f],m;for(let b=0;b<r.length;b++){let y=r[b];y.step==i-1&&p.eq(r[b].style)&&(m=y)}m?(m.to=d,m.step=i):r.push({style:p,from:Math.max(l,e),to:d,step:i})}}}),r.forEach(s=>t.step(new Ci(s.from,s.to,s.style)))}function __(t,e,n,o=n.contentMatch,r=!0){let i=t.doc.nodeAt(e),s=[],l=e+1;for(let c=0;c<i.childCount;c++){let d=i.child(c),f=l+d.nodeSize,p=o.matchType(d.type);if(!p)s.push(new Cn(l,f,ye.empty));else{o=p;for(let m=0;m<d.marks.length;m++)n.allowsMarkType(d.marks[m].type)||t.step(new Ci(l,f,d.marks[m]));if(r&&d.isText&&n.whitespace!="pre"){let m,b=/\r?\n|\r/g,y;for(;m=b.exec(d.text);)y||(y=new ye(J.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),s.push(new Cn(l+m.index,l+m.index+m[0].length,y))}}l=f}if(!o.validEnd){let c=o.fillBefore(J.empty,!0);t.replace(l,l,new ye(c,0,0))}for(let c=s.length-1;c>=0;c--)t.step(s[c])}function pU(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function bd(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let o=t.depth;;--o){let r=t.$from.node(o),i=t.$from.index(o),s=t.$to.indexAfter(o);if(o<t.depth&&r.canReplace(i,s,n))return o;if(o==0||r.type.spec.isolating||!pU(r,i,s))break}return null}function mU(t,e,n){let{$from:o,$to:r,depth:i}=e,s=o.before(i+1),l=r.after(i+1),c=s,d=l,f=J.empty,p=0;for(let y=i,w=!1;y>n;y--)w||o.index(y)>0?(w=!0,f=J.from(o.node(y).copy(f)),p++):c--;let m=J.empty,b=0;for(let y=i,w=!1;y>n;y--)w||r.after(y+1)<r.end(y)?(w=!0,m=J.from(r.node(y).copy(m)),b++):d++;t.step(new fn(c,d,s,l,new ye(f.append(m),p,b),f.size-p,!0))}function JL(t,e,n=null,o=t){let r=gU(t,e),i=r&&bU(o,e);return i?r.map(XR).concat({type:e,attrs:n}).concat(i.map(XR)):null}function XR(t){return{type:t,attrs:null}}function gU(t,e){let{parent:n,startIndex:o,endIndex:r}=t,i=n.contentMatchAt(o).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(o,r,s)?i:null}function bU(t,e){let{parent:n,startIndex:o,endIndex:r}=t,i=n.child(o),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let c=(s.length?s[s.length-1]:e).contentMatch;for(let d=o;c&&d<r;d++)c=c.matchType(n.child(d).type);return!c||!c.validEnd?null:s}function yU(t,e,n){let o=J.empty;for(let s=n.length-1;s>=0;s--){if(o.size){let l=n[s].type.contentMatch.matchFragment(o);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=J.from(n[s].type.create(n[s].attrs,o))}let r=e.start,i=e.end;t.step(new fn(r,i,r,i,new ye(o,0,0),n.length,!0))}function vU(t,e,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{let c=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(o,c)&&wU(t.doc,t.mapping.slice(i).map(l),o)){let d=null;if(o.schema.linebreakReplacement){let b=o.whitespace=="pre",y=!!o.contentMatch.matchType(o.schema.linebreakReplacement);b&&!y?d=!1:!b&&y&&(d=!0)}d===!1&&eB(t,s,l,i),__(t,t.mapping.slice(i).map(l,1),o,void 0,d===null);let f=t.mapping.slice(i),p=f.map(l,1),m=f.map(l+s.nodeSize,1);return t.step(new fn(p,m,p+1,m-1,new ye(J.from(o.create(c,null,s.marks)),0,0),1,!0)),d===!0&&QL(t,s,l,i),!1}})}function QL(t,e,n,o){e.forEach((r,i)=>{if(r.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(r.text);){let c=t.mapping.slice(o).map(n+1+i+s.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function eB(t,e,n,o){e.forEach((r,i)=>{if(r.type==r.type.schema.linebreakReplacement){let s=t.mapping.slice(o).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function wU(t,e,n){let o=t.resolve(e),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}function kU(t,e,n,o,r){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(o,null,r||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new fn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new ye(J.from(s),0,0),1,!0))}function As(t,e,n=1,o){let r=t.resolve(e),i=r.depth-n,s=o&&o[o.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,f=n-2;d>i;d--,f--){let p=r.node(d),m=r.index(d);if(p.type.spec.isolating)return!1;let b=p.content.cutByIndex(m,p.childCount),y=o&&o[f+1];y&&(b=b.replaceChild(0,y.type.create(y.attrs)));let w=o&&o[f]||p;if(!p.canReplace(m+1,p.childCount)||!w.type.validContent(b))return!1}let l=r.indexAfter(i),c=o&&o[0];return r.node(i).canReplaceWith(l,l,c?c.type:r.node(i+1).type)}function xU(t,e,n=1,o){let r=t.doc.resolve(e),i=J.empty,s=J.empty;for(let l=r.depth,c=r.depth-n,d=n-1;l>c;l--,d--){i=J.from(r.node(l).copy(i));let f=o&&o[d];s=J.from(f?f.type.create(f.attrs,s):r.node(l).copy(s))}t.step(new Cn(e,e,new ye(i.append(s),n,n),!0))}function Cc(t,e){let n=t.resolve(e),o=n.index();return tB(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function CU(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:o}=t.type.schema;for(let r=0;r<e.childCount;r++){let i=e.child(r),s=i.type==o?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function tB(t,e){return!!(t&&e&&!t.isLeaf&&CU(t,e))}function Yy(t,e,n=-1){let o=t.resolve(e);for(let r=o.depth;;r--){let i,s,l=o.index(r);if(r==o.depth?(i=o.nodeBefore,s=o.nodeAfter):n>0?(i=o.node(r+1),l++,s=o.node(r).maybeChild(l)):(i=o.node(r).maybeChild(l-1),s=o.node(r+1)),i&&!i.isTextblock&&tB(i,s)&&o.node(r).canReplace(l,l+1))return e;if(r==0)break;e=n<0?o.before(r):o.after(r)}}function _U(t,e,n){let o=null,{linebreakReplacement:r}=t.doc.type.schema,i=t.doc.resolve(e-n),s=i.node().type;if(r&&s.inlineContent){let f=s.whitespace=="pre",p=!!s.contentMatch.matchType(r);f&&!p?o=!1:!f&&p&&(o=!0)}let l=t.steps.length;if(o===!1){let f=t.doc.resolve(e+n);eB(t,f.node(),f.before(),l)}s.inlineContent&&__(t,e+n-1,s,i.node().contentMatchAt(i.index()),o==null);let c=t.mapping.slice(l),d=c.map(e-n);if(t.step(new Cn(d,c.map(e+n,-1),ye.empty,!0)),o===!0){let f=t.doc.resolve(d);QL(t,f.node(),f.before(),t.steps.length)}return t}function SU(t,e,n){let o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(o.parentOffset==0)for(let r=o.depth-1;r>=0;r--){let i=o.index(r);if(o.node(r).canReplaceWith(i,i,n))return o.before(r+1);if(i>0)return null}if(o.parentOffset==o.parent.content.size)for(let r=o.depth-1;r>=0;r--){let i=o.indexAfter(r);if(o.node(r).canReplaceWith(i,i,n))return o.after(r+1);if(i<o.node(r).childCount)return null}return null}function S_(t,e,n){let o=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let i=0;i<n.openStart;i++)r=r.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=o.depth;s>=0;s--){let l=s==o.depth?0:o.pos<=(o.start(s+1)+o.end(s+1))/2?-1:1,c=o.index(s)+(l>0?1:0),d=o.node(s),f=!1;if(i==1)f=d.canReplace(c,c,r);else{let p=d.contentMatchAt(c).findWrapping(r.firstChild.type);f=p&&d.canReplaceWith(c,c,p[0])}if(f)return l==0?o.pos:l<0?o.before(s+1):o.after(s+1)}return null}function Jy(t,e,n=e,o=ye.empty){if(e==n&&!o.size)return null;let r=t.resolve(e),i=t.resolve(n);return nB(r,i,o)?new Cn(e,n,o):new EU(r,i,o).fit()}function nB(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class EU{constructor(e,n,o){this.$from=e,this.$to=n,this.unplaced=o,this.frontier=[],this.placed=J.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=J.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,r=this.close(e<0?this.$to:o.doc.resolve(e));if(!r)return null;let i=this.placed,s=o.depth,l=r.depth;for(;s&&l&&i.childCount==1;)i=i.firstChild.content,s--,l--;let c=new ye(i,s,l);return e>-1?new fn(o.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||o.pos!=this.$to.pos?new Cn(o.pos,r.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,o=0,r=this.unplaced.openEnd;o<e;o++){let i=n.firstChild;if(n.childCount>1&&(r=0),i.type.spec.isolating&&r<=o){e=o;break}n=i.content}for(let n=1;n<=2;n++)for(let o=n==1?e:this.unplaced.openStart;o>=0;o--){let r,i=null;o?(i=Pw(this.unplaced.content,o-1).firstChild,r=i.content):r=this.unplaced.content;let s=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],f,p=null;if(n==1&&(s?d.matchType(s.type)||(p=d.fillBefore(J.from(s),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:o,frontierDepth:l,parent:i,inject:p};if(n==2&&s&&(f=d.findWrapping(s.type)))return{sliceDepth:o,frontierDepth:l,parent:i,wrap:f};if(i&&d.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=Pw(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new ye(e,n+1,Math.max(o,r.size+n>=e.size-o?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=Pw(e,n);if(r.childCount<=1&&n>0){let i=e.size-n<=n+r.size;this.unplaced=new ye(Wf(e,n-1,1),n-1,i?n-1:o)}else this.unplaced=new ye(Wf(e,n,1),n,o)}placeNodes({sliceDepth:e,frontierDepth:n,parent:o,inject:r,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let w=0;w<i.length;w++)this.openFrontierNode(i[w]);let s=this.unplaced,l=o?o.content:s.content,c=s.openStart-e,d=0,f=[],{match:p,type:m}=this.frontier[n];if(r){for(let w=0;w<r.childCount;w++)f.push(r.child(w));p=p.matchFragment(r)}let b=l.size+e-(s.content.size-s.openEnd);for(;d<l.childCount;){let w=l.child(d),x=p.matchType(w.type);if(!x)break;d++,(d>1||c==0||w.content.size)&&(p=x,f.push(oB(w.mark(m.allowedMarks(w.marks)),d==1?c:0,d==l.childCount?b:-1)))}let y=d==l.childCount;y||(b=-1),this.placed=Zf(this.placed,n,J.from(f)),this.frontier[n].match=p,y&&b<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,x=l;w<b;w++){let _=x.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),x=_.content}this.unplaced=y?e==0?ye.empty:new ye(Wf(s.content,e-1,1),e-1,b<0?s.openEnd:e-1):new ye(Wf(s.content,e,d),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!$w(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:o}=this.$to,r=this.$to.after(o);for(;o>1&&r==this.$to.end(--o);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:o,type:r}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=$w(e,n,r,o,i);if(s){for(let l=n-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],f=$w(e,l,d,c,!0);if(!f||f.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Zf(this.placed,n.depth,n.fit)),e=n.move;for(let o=n.depth+1;o<=e.depth;o++){let r=e.node(o),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(o));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,n=null,o){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Zf(this.placed,this.depth,J.from(e.create(n,o))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=Zf(this.placed,this.frontier.length,n))}}function Wf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Wf(t.firstChild.content,e-1,n)))}function Zf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Zf(t.lastChild.content,e-1,n)))}function Pw(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function oB(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,oB(o.firstChild,e-1,o.childCount==1?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(J.empty,!0)))),t.copy(o)}function $w(t,e,n,o,r){let i=t.node(e),s=r?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=o.fillBefore(i.content,!0,s);return l&&!TU(n,i.content,s)?l:null}function TU(t,e,n){for(let o=n;o<e.childCount;o++)if(!t.allowsMarks(e.child(o).marks))return!0;return!1}function MU(t){return t.spec.defining||t.spec.definingForContent}function AU(t,e,n,o){if(!o.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),i=t.doc.resolve(n);if(nB(r,i,o))return t.step(new Cn(e,n,o));let s=iB(r,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(r.depth+1);s.unshift(l);for(let m=r.depth,b=r.pos-1;m>0;m--,b--){let y=r.node(m).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;s.indexOf(m)>-1?l=m:r.before(m)==b&&s.splice(1,0,-m)}let c=s.indexOf(l),d=[],f=o.openStart;for(let m=o.content,b=0;;b++){let y=m.firstChild;if(d.push(y),b==o.openStart)break;m=y.content}for(let m=f-1;m>=0;m--){let b=d[m],y=MU(b.type);if(y&&!b.sameMarkup(r.node(Math.abs(l)-1)))f=m;else if(y||!b.type.isTextblock)break}for(let m=o.openStart;m>=0;m--){let b=(m+f+1)%(o.openStart+1),y=d[b];if(y)for(let w=0;w<s.length;w++){let x=s[(w+c)%s.length],_=!0;x<0&&(_=!1,x=-x);let T=r.node(x-1),M=r.index(x-1);if(T.canReplaceWith(M,M,y.type,y.marks))return t.replace(r.before(x),_?i.after(x):n,new ye(rB(o.content,0,o.openStart,b),b,o.openEnd))}}let p=t.steps.length;for(let m=s.length-1;m>=0&&(t.replace(e,n,o),!(t.steps.length>p));m--){let b=s[m];b<0||(e=r.before(b),n=i.after(b))}}function rB(t,e,n,o,r){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(rB(i.content,e+1,n,o,i)))}if(e>o){let i=r.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(J.empty,!0))}return t}function RU(t,e,n,o){if(!o.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=SU(t.doc,e,o.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new ye(J.from(o),0,0))}function OU(t,e,n){let o=t.doc.resolve(e),r=t.doc.resolve(n),i=iB(o,r);for(let s=0;s<i.length;s++){let l=i[s],c=s==i.length-1;if(c&&l==0||o.node(l).type.contentMatch.validEnd)return t.delete(o.start(l),r.end(l));if(l>0&&(c||o.node(l-1).canReplace(o.index(l-1),r.indexAfter(l-1))))return t.delete(o.before(l),r.after(l))}for(let s=1;s<=o.depth&&s<=r.depth;s++)if(e-o.start(s)==o.depth-s&&n>o.end(s)&&r.end(s)-n!=r.depth-s&&o.start(s-1)==r.start(s-1)&&o.node(s-1).canReplace(o.index(s-1),r.index(s-1)))return t.delete(o.before(s),n);t.delete(e,n)}function iB(t,e){let n=[],o=Math.min(t.depth,e.depth);for(let r=o;r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class Uu extends ao{constructor(e,n,o){super(),this.pos=e,this.attr=n,this.value=o}apply(e){let n=e.nodeAt(this.pos);if(!n)return gn.fail("No node at attribute step's position");let o=Object.create(null);for(let i in n.attrs)o[i]=n.attrs[i];o[this.attr]=this.value;let r=n.type.create(o,null,n.marks);return gn.fromReplace(e,this.pos,this.pos+1,new ye(J.from(r),0,n.isLeaf?0:1))}getMap(){return or.empty}invert(e){return new Uu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Uu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Uu(n.pos,n.attr,n.value)}}ao.jsonID("attr",Uu);class Dh extends ao{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let o=e.type.create(n,e.content,e.marks);return gn.ok(o)}getMap(){return or.empty}invert(e){return new Dh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Dh(n.attr,n.value)}}ao.jsonID("docAttr",Dh);let nd=class extends Error{};nd=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};nd.prototype=Object.create(Error.prototype);nd.prototype.constructor=nd;nd.prototype.name="TransformError";class E_{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ed}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new nd(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,o=ye.empty){let r=Jy(this.doc,e,n,o);return r&&this.step(r),this}replaceWith(e,n,o){return this.replace(e,n,new ye(J.from(o),0,0))}delete(e,n){return this.replace(e,n,ye.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,o){return AU(this,e,n,o),this}replaceRangeWith(e,n,o){return RU(this,e,n,o),this}deleteRange(e,n){return OU(this,e,n),this}lift(e,n){return mU(this,e,n),this}join(e,n=1){return _U(this,e,n),this}wrap(e,n){return yU(this,e,n),this}setBlockType(e,n=e,o,r=null){return vU(this,e,n,o,r),this}setNodeMarkup(e,n,o=null,r){return kU(this,e,n,o,r),this}setNodeAttribute(e,n,o){return this.step(new Uu(e,n,o)),this}setDocAttribute(e,n){return this.step(new Dh(e,n)),this}addNodeMark(e,n){return this.step(new jl(e,n)),this}removeNodeMark(e,n){if(!(n instanceof jt)){let o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at position "+e);if(n=n.isInSet(o.marks),!n)return this}return this.step(new td(e,n)),this}split(e,n=1,o){return xU(this,e,n,o),this}addMark(e,n,o){return fU(this,e,n,o),this}removeMark(e,n,o){return hU(this,e,n,o),this}clearIncompatible(e,n,o){return __(this,e,n,o),this}}const Hw=Object.create(null);class je{constructor(e,n,o){this.$anchor=e,this.$head=n,this.ranges=o||[new sB(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ye.empty){let o=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=o,o=o.lastChild;let i=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:c,$to:d}=s[l],f=e.mapping.slice(i);e.replaceRange(f.map(c.pos),f.map(d.pos),l?ye.empty:n),l==0&&QR(e,i,(o?o.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let o=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:s,$to:l}=r[i],c=e.mapping.slice(o),d=c.map(s.pos),f=c.map(l.pos);i?e.deleteRange(d,f):(e.replaceRangeWith(d,f,n),QR(e,o,n.isInline?-1:1))}}static findFrom(e,n,o=!1){let r=e.parent.inlineContent?new Re(e):Mu(e.node(0),e.parent,e.pos,e.index(),n,o);if(r)return r;for(let i=e.depth-1;i>=0;i--){let s=n<0?Mu(e.node(0),e.node(i),e.before(i+1),e.index(i),n,o):Mu(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,o);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Io(e.node(0))}static atStart(e){return Mu(e,e,0,0,1)||new Io(e)}static atEnd(e){return Mu(e,e,e.content.size,e.childCount,-1)||new Io(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=Hw[n.type];if(!o)throw new RangeError(`No selection type ${n.type} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in Hw)throw new RangeError("Duplicate use of selection JSON ID "+e);return Hw[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Re.between(this.$anchor,this.$head).getBookmark()}}je.prototype.visible=!0;class sB{constructor(e,n){this.$from=e,this.$to=n}}let YR=!1;function JR(t){!YR&&!t.parent.inlineContent&&(YR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Re extends je{constructor(e,n=e){JR(e),JR(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let o=e.resolve(n.map(this.head));if(!o.parent.inlineContent)return je.near(o);let r=e.resolve(n.map(this.anchor));return new Re(r.parent.inlineContent?r:o,o)}replace(e,n=ye.empty){if(super.replace(e,n),n==ye.empty){let o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}}eq(e){return e instanceof Re&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Qy(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Re(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){let r=e.resolve(n);return new this(r,o==n?r:e.resolve(o))}static between(e,n,o){let r=e.pos-n.pos;if((!o||r)&&(o=r>=0?1:-1),!n.parent.inlineContent){let i=je.findFrom(n,o,!0)||je.findFrom(n,-o,!0);if(i)n=i.$head;else return je.near(n,o)}return e.parent.inlineContent||(r==0?e=n:(e=(je.findFrom(e,-o,!0)||je.findFrom(e,o,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Re(e,n)}}je.jsonID("text",Re);class Qy{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Qy(e.map(this.anchor),e.map(this.head))}resolve(e){return Re.between(e.resolve(this.anchor),e.resolve(this.head))}}class Oe extends je{constructor(e){let n=e.nodeAfter,o=e.node(0).resolve(e.pos+n.nodeSize);super(e,o),this.node=n}map(e,n){let{deleted:o,pos:r}=n.mapResult(this.anchor),i=e.resolve(r);return o?je.near(i):new Oe(i)}content(){return new ye(J.from(this.node),0,0)}eq(e){return e instanceof Oe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new T_(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Oe(e.resolve(n.anchor))}static create(e,n){return new Oe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Oe.prototype.visible=!1;je.jsonID("node",Oe);class T_{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:o}=e.mapResult(this.anchor);return n?new Qy(o,o):new T_(o)}resolve(e){let n=e.resolve(this.anchor),o=n.nodeAfter;return o&&Oe.isSelectable(o)?new Oe(n):je.near(n)}}class Io extends je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ye.empty){if(n==ye.empty){e.delete(0,e.doc.content.size);let o=je.atStart(e.doc);o.eq(e.selection)||e.setSelection(o)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Io(e)}map(e){return new Io(e)}eq(e){return e instanceof Io}getBookmark(){return NU}}je.jsonID("all",Io);const NU={map(){return this},resolve(t){return new Io(t)}};function Mu(t,e,n,o,r,i=!1){if(e.inlineContent)return Re.create(t,n);for(let s=o-(r>0?0:1);r>0?s<e.childCount:s>=0;s+=r){let l=e.child(s);if(l.isAtom){if(!i&&Oe.isSelectable(l))return Oe.create(t,n-(r<0?l.nodeSize:0))}else{let c=Mu(t,l,n+r,r<0?l.childCount:0,r,i);if(c)return c}n+=l.nodeSize*r}return null}function QR(t,e,n){let o=t.steps.length-1;if(o<e)return;let r=t.steps[o];if(!(r instanceof Cn||r instanceof fn))return;let i=t.mapping.maps[o],s;i.forEach((l,c,d,f)=>{s==null&&(s=f)}),t.setSelection(je.near(t.doc.resolve(s),n))}const eO=1,tO=2,nO=4;let DU=class extends E_{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|eO)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&eO)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=tO,this}ensureMarks(e){return jt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&tO)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let o=this.selection;return n&&(e=e.mark(this.storedMarks||(o.empty?o.$from.marks():o.$from.marksAcross(o.$to)||jt.none))),o.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,o){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(o==null&&(o=n),o=o??n,!e)return this.deleteRange(n,o);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=o==n?s.marks():s.marksAcross(this.doc.resolve(o))}return this.replaceRangeWith(n,o,r.text(e,i)),this.selection.empty||this.setSelection(je.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=nO,this}get scrolledIntoView(){return(this.updated&nO)>0}};function oO(t,e){return!e||!t?t:t.bind(e)}class Xf{constructor(e,n,o){this.name=e,this.init=oO(n.init,o),this.apply=oO(n.apply,o)}}const LU=[new Xf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Xf("selection",{init(t,e){return t.selection||je.atStart(e.doc)},apply(t){return t.selection}}),new Xf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,o){return o.selection.$cursor?t.storedMarks:null}}),new Xf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class zw{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=LU.slice(),n&&n.forEach(o=>{if(this.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");this.plugins.push(o),this.pluginsByKey[o.key]=o,o.spec.state&&this.fields.push(new Xf(o.key,o.spec.state,o))})}}class Va{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let o=0;o<this.config.plugins.length;o++)if(o!=n){let r=this.config.plugins[o];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],o=this.applyInner(e),r=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let c=r?r[s].n:0,d=r?r[s].state:this,f=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,d,o);if(f&&o.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!r){r=[];for(let p=0;p<this.config.plugins.length;p++)r.push(p<s?{state:o,n:n.length}:{state:this,n:0})}n.push(f),o=o.applyInner(f),i=!0}r&&(r[s]={state:o,n:n.length})}}if(!i)return{state:o,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Va(this.config),o=this.config.fields;for(let r=0;r<o.length;r++){let i=o[r];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new DU(this)}static create(e){let n=new zw(e.doc?e.doc.type.schema:e.schema,e.plugins),o=new Va(n);for(let r=0;r<n.fields.length;r++)o[n.fields[r].name]=n.fields[r].init(e,o);return o}reconfigure(e){let n=new zw(this.schema,e.plugins),o=n.fields,r=new Va(n);for(let i=0;i<o.length;i++){let s=o[i].name;r[s]=this.hasOwnProperty(s)?this[s]:o[i].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(o=>o.toJSON())),e&&typeof e=="object")for(let o in e){if(o=="doc"||o=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[o],i=r.spec.state;i&&i.toJSON&&(n[o]=i.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,o){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new zw(e.schema,e.plugins),i=new Va(r);return r.fields.forEach(s=>{if(s.name=="doc")i.doc=Ms.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=je.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(o)for(let l in o){let c=o[l],d=c.spec.state;if(c.key==s.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[s.name]=d.fromJSON.call(c,e,n[l],i);return}}i[s.name]=s.init(e,i)}}),i}}function lB(t,e,n){for(let o in t){let r=t[o];r instanceof Function?r=r.bind(e):o=="handleDOMEvents"&&(r=lB(r,e,{})),n[o]=r}return n}class Qe{constructor(e){this.spec=e,this.props={},e.props&&lB(e.props,this,this.props),this.key=e.key?e.key.key:aB("plugin")}getState(e){return e[this.key]}}const Vw=Object.create(null);function aB(t){return t in Vw?t+"$"+ ++Vw[t]:(Vw[t]=0,t+"$")}class ht{constructor(e="key"){this.key=aB(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Un=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},od=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Ax=null;const bs=function(t,e,n){let o=Ax||(Ax=document.createRange());return o.setEnd(t,n??t.nodeValue.length),o.setStart(t,e||0),o},BU=function(){Ax=null},cc=function(t,e,n,o){return n&&(rO(t,e,n,o,-1)||rO(t,e,n,o,1))},IU=/^(img|br|input|textarea|hr)$/i;function rO(t,e,n,o,r){for(;;){if(t==n&&e==o)return!0;if(e==(r<0?0:Ar(t))){let i=t.parentNode;if(!i||i.nodeType!=1||hp(t)||IU.test(t.nodeName)||t.contentEditable=="false")return!1;e=Un(t)+(r<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.contentEditable=="false")return!1;e=r<0?Ar(t):0}else return!1}}function Ar(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function jU(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ar(t)}else if(t.parentNode&&!hp(t))e=Un(t),t=t.parentNode;else return null}}function PU(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!hp(t))e=Un(t)+1,t=t.parentNode;else return null}}function $U(t,e,n){for(let o=e==0,r=e==Ar(t);o||r;){if(t==n)return!0;let i=Un(t);if(t=t.parentNode,!t)return!1;o=o&&i==0,r=r&&i==Ar(t)}}function hp(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const e0=function(t){return t.focusNode&&cc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ja(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function HU(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function zU(t,e,n){if(t.caretPositionFromPoint)try{let o=t.caretPositionFromPoint(e,n);if(o)return{node:o.offsetNode,offset:Math.min(Ar(o.offsetNode),o.offset)}}catch{}if(t.caretRangeFromPoint){let o=t.caretRangeFromPoint(e,n);if(o)return{node:o.startContainer,offset:Math.min(Ar(o.startContainer),o.startOffset)}}}const Ri=typeof navigator<"u"?navigator:null,iO=typeof document<"u"?document:null,ia=Ri&&Ri.userAgent||"",Rx=/Edge\/(\d+)/.exec(ia),cB=/MSIE \d/.exec(ia),Ox=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ia),jo=!!(cB||Ox||Rx),Ul=cB?document.documentMode:Ox?+Ox[1]:Rx?+Rx[1]:0,Qr=!jo&&/gecko\/(\d+)/i.test(ia);Qr&&+(/Firefox\/(\d+)/.exec(ia)||[0,0])[1];const Nx=!jo&&/Chrome\/(\d+)/.exec(ia),no=!!Nx,uB=Nx?+Nx[1]:0,wo=!jo&&!!Ri&&/Apple Computer/.test(Ri.vendor),rd=wo&&(/Mobile\/\w+/.test(ia)||!!Ri&&Ri.maxTouchPoints>2),Tr=rd||(Ri?/Mac/.test(Ri.platform):!1),VU=Ri?/Win/.test(Ri.platform):!1,_s=/Android \d/.test(ia),pp=!!iO&&"webkitFontSmoothing"in iO.documentElement.style,UU=pp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function FU(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function as(t,e){return typeof t=="number"?t:t[e]}function GU(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,o=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*o}}function sO(t,e,n){let o=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=od(s);continue}let l=s,c=l==i.body,d=c?FU(i):GU(l),f=0,p=0;if(e.top<d.top+as(o,"top")?p=-(d.top-e.top+as(r,"top")):e.bottom>d.bottom-as(o,"bottom")&&(p=e.bottom-e.top>d.bottom-d.top?e.top+as(r,"top")-d.top:e.bottom-d.bottom+as(r,"bottom")),e.left<d.left+as(o,"left")?f=-(d.left-e.left+as(r,"left")):e.right>d.right-as(o,"right")&&(f=e.right-d.right+as(r,"right")),f||p)if(c)i.defaultView.scrollBy(f,p);else{let b=l.scrollLeft,y=l.scrollTop;p&&(l.scrollTop+=p),f&&(l.scrollLeft+=f);let w=l.scrollLeft-b,x=l.scrollTop-y;e={left:e.left-w,top:e.top-x,right:e.right-w,bottom:e.bottom-x}}let m=c?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(m))break;s=m=="absolute"?s.offsetParent:od(s)}}function qU(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),o,r;for(let i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(i,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){o=l,r=c.top;break}}return{refDOM:o,refTop:r,stack:dB(t.dom)}}function dB(t){let e=[],n=t.ownerDocument;for(let o=t;o&&(e.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),t!=n);o=od(o));return e}function KU({refDOM:t,refTop:e,stack:n}){let o=t?t.getBoundingClientRect().top:0;fB(n,o==0?0:o-e)}function fB(t,e){for(let n=0;n<t.length;n++){let{dom:o,top:r,left:i}=t[n];o.scrollTop!=r+e&&(o.scrollTop=r+e),o.scrollLeft!=i&&(o.scrollLeft=i)}}let yu=null;function WU(t){if(t.setActive)return t.setActive();if(yu)return t.focus(yu);let e=dB(t);t.focus(yu==null?{get preventScroll(){return yu={preventScroll:!0},!0}}:void 0),yu||(yu=!1,fB(e,0))}function hB(t,e){let n,o=2e8,r,i=0,s=e.top,l=e.top,c,d;for(let f=t.firstChild,p=0;f;f=f.nextSibling,p++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=bs(f).getClientRects();else continue;for(let b=0;b<m.length;b++){let y=m[b];if(y.top<=s&&y.bottom>=l){s=Math.max(y.bottom,s),l=Math.min(y.top,l);let w=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(w<o){n=f,o=w,r=w&&n.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,f.nodeType==1&&w&&(i=p+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!c&&y.left<=e.left&&y.right>=e.left&&(c=f,d={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!n&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(i=p+1)}}return!n&&c&&(n=c,r=d,o=0),n&&n.nodeType==3?ZU(n,r):!n||o&&n.nodeType==1?{node:t,offset:i}:hB(n,r)}function ZU(t,e){let n=t.nodeValue.length,o=document.createRange();for(let r=0;r<n;r++){o.setEnd(t,r+1),o.setStart(t,r);let i=kl(o,1);if(i.top!=i.bottom&&M_(e,i))return{node:t,offset:r+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function M_(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function XU(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function YU(t,e,n){let{node:o,offset:r}=hB(e,n),i=-1;if(o.nodeType==1&&!o.firstChild){let s=o.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(o,r,i)}function JU(t,e,n,o){let r=-1;for(let i=e,s=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&(!s&&c.left>o.left||c.top>o.top?r=l.posBefore:(!s&&c.right<o.left||c.bottom<o.top)&&(r=l.posAfter),s=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?o.top<(c.top+c.bottom)/2:o.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function pB(t,e,n){let o=t.childNodes.length;if(o&&n.top<n.bottom)for(let r=Math.max(0,Math.min(o-1,Math.floor(o*(e.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let s=t.childNodes[i];if(s.nodeType==1){let l=s.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(M_(e,d))return pB(s,e,d)}}if((i=(i+1)%o)==r)break}return t}function QU(t,e){let n=t.dom.ownerDocument,o,r=0,i=zU(n,e.left,e.top);i&&({node:o,offset:r}=i);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let d=t.dom.getBoundingClientRect();if(!M_(e,d)||(s=pB(t.dom,e,d),!s))return null}if(wo)for(let d=s;o&&d;d=od(d))d.draggable&&(o=void 0);if(s=XU(s,e),o){if(Qr&&o.nodeType==1&&(r=Math.min(r,o.childNodes.length),r<o.childNodes.length)){let f=o.childNodes[r],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&r++}let d;pp&&r&&o.nodeType==1&&(d=o.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&r--,o==t.dom&&r==o.childNodes.length-1&&o.lastChild.nodeType==1&&e.top>o.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(r==0||o.nodeType!=1||o.childNodes[r-1].nodeName!="BR")&&(l=JU(t,o,r,e))}l==null&&(l=YU(t,s,e));let c=t.docView.nearestDesc(s,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function lO(t){return t.top<t.bottom||t.left<t.right}function kl(t,e){let n=t.getClientRects();if(n.length){let o=n[e<0?0:n.length-1];if(lO(o))return o}return Array.prototype.find.call(n,lO)||t.getBoundingClientRect()}const eF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function mB(t,e,n){let{node:o,offset:r,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=pp||Qr;if(o.nodeType==3)if(s&&(eF.test(o.nodeValue)||(n<0?!r:r==o.nodeValue.length))){let c=kl(bs(o,r,r),n);if(Qr&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){let d=kl(bs(o,r-1,r-1),-1);if(d.top==c.top){let f=kl(bs(o,r,r+1),-1);if(f.top!=c.top)return jf(f,f.left<d.left)}}return c}else{let c=r,d=r,f=n<0?1:-1;return n<0&&!r?(d++,f=-1):n>=0&&r==o.nodeValue.length?(c--,f=1):n<0?c--:d++,jf(kl(bs(o,c,d),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&r&&(n<0||r==Ar(o))){let c=o.childNodes[r-1];if(c.nodeType==1)return Uw(c.getBoundingClientRect(),!1)}if(i==null&&r<Ar(o)){let c=o.childNodes[r];if(c.nodeType==1)return Uw(c.getBoundingClientRect(),!0)}return Uw(o.getBoundingClientRect(),n>=0)}if(i==null&&r&&(n<0||r==Ar(o))){let c=o.childNodes[r-1],d=c.nodeType==3?bs(c,Ar(c)-(s?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return jf(kl(d,1),!1)}if(i==null&&r<Ar(o)){let c=o.childNodes[r];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?bs(c,0,s?0:1):c.nodeType==1?c:null:null;if(d)return jf(kl(d,-1),!0)}return jf(kl(o.nodeType==3?bs(o):o,-n),n>=0)}function jf(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Uw(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function gB(t,e,n){let o=t.state,r=t.root.activeElement;o!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{o!=e&&t.updateState(o),r!=t.dom&&r&&r.focus()}}function tF(t,e,n){let o=e.selection,r=n=="up"?o.$from:o.$to;return gB(t,e,()=>{let{node:i}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let s=mB(t,r.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=bs(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let f=c[d];if(f.bottom>f.top+1&&(n=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}const nF=/[\u0590-\u08ac]/;function oF(t,e,n){let{$head:o}=e.selection;if(!o.parent.isTextblock)return!1;let r=o.parentOffset,i=!r,s=r==o.parent.content.size,l=t.domSelection();return l?!nF.test(o.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:s:gB(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:f,anchorOffset:p}=t.domSelectionRange(),m=l.caretBidiLevel;l.modify("move",n,"character");let b=o.depth?t.docView.domAfterPos(o.before()):t.dom,{focusNode:y,focusOffset:w}=t.domSelectionRange(),x=y&&!b.contains(y.nodeType==1?y:y.parentNode)||c==y&&d==w;try{l.collapse(f,p),c&&(c!=f||d!=p)&&l.extend&&l.extend(c,d)}catch{}return m!=null&&(l.caretBidiLevel=m),x}):o.pos==o.start()||o.pos==o.end()}let aO=null,cO=null,uO=!1;function rF(t,e,n){return aO==e&&cO==n?uO:(aO=e,cO=n,uO=n=="up"||n=="down"?tF(t,e,n):oF(t,e,n))}const Lr=0,dO=1,Ua=2,Oi=3;class mp{constructor(e,n,o,r){this.parent=e,this.children=n,this.dom=o,this.contentDOM=r,this.dirty=Lr,o.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,o){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,o=this.posAtStart;;n++){let r=this.children[n];if(r==e)return o;o+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,o){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(o<0){let i,s;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>Un(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??o>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let o=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),s;if(i&&(!n||i.node))if(o&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))o=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let o=n;o;o=o.parent)if(o==this)return n}posFromDOM(e,n,o){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,n,o)}return-1}descAt(e){for(let n=0,o=0;n<this.children.length;n++){let r=this.children[n],i=o+r.size;if(o==e&&i!=o){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let l=r.children[s];if(l.size){r=l;break}}return r}if(e<i)return r.descAt(e-o-r.border);o=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let o=0,r=0;for(let i=0;o<this.children.length;o++){let s=this.children[o],l=i+s.size;if(l>e||s instanceof yB){r=e-i;break}i=l}if(r)return this.children[o].domFromPos(r-this.children[o].border,n);for(let i;o&&!(i=this.children[o-1]).size&&i instanceof bB&&i.side>=0;o--);if(n<=0){let i,s=!0;for(;i=o?this.children[o-1]:null,!(!i||i.dom.parentNode==this.contentDOM);o--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Un(i.dom)+1:0}}else{let i,s=!0;for(;i=o<this.children.length?this.children[o]:null,!(!i||i.dom.parentNode==this.contentDOM);o++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Un(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,o=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let s=o,l=0;;l++){let c=this.children[l],d=s+c.size;if(r==-1&&e<=d){let f=s+c.border;if(e>=f&&n<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,f);e=s;for(let p=l;p>0;p--){let m=this.children[p-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){r=Un(m.dom)+1;break}e-=m.size}r==-1&&(r=0)}if(r>-1&&(d>n||l==this.children.length-1)){n=d;for(let f=l+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=Un(p.dom);break}n+=p.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=d}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:o}=this.domFromPos(e,0);if(n.nodeType!=1||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]}setSelection(e,n,o,r=!1){let i=Math.min(e,n),s=Math.max(e,n);for(let b=0,y=0;b<this.children.length;b++){let w=this.children[b],x=y+w.size;if(i>y&&s<x)return w.setSelection(e-y-w.border,n-y-w.border,o,r);y=x}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),d=o.root.getSelection(),f=o.domSelectionRange(),p=!1;if((Qr||wo)&&e==n){let{node:b,offset:y}=l;if(b.nodeType==3){if(p=!!(y&&b.nodeValue[y-1]==`
`),p&&y==b.nodeValue.length)for(let w=b,x;w;w=w.parentNode){if(x=w.nextSibling){x.nodeName=="BR"&&(l=c={node:x.parentNode,offset:Un(x)+1});break}let _=w.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let w=b.childNodes[y-1];p=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Qr&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let b=f.focusNode.childNodes[f.focusOffset];b&&b.contentEditable=="false"&&(r=!0)}if(!(r||p&&wo)&&cc(l.node,l.offset,f.anchorNode,f.anchorOffset)&&cc(c.node,c.offset,f.focusNode,f.focusOffset))return;let m=!1;if((d.extend||e==n)&&!p){d.collapse(l.node,l.offset);try{e!=n&&d.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>n){let y=l;l=c,c=y}let b=document.createRange();b.setEnd(c.node,c.offset),b.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let o=0,r=0;r<this.children.length;r++){let i=this.children[r],s=o+i.size;if(o==s?e<=s&&n>=o:e<s&&n>o){let l=o+i.border,c=s-i.border;if(e>=l&&n<=c){this.dirty=e==o||n==s?Ua:dO,e==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Oi:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Ua:Oi}o=s}this.dirty=Ua}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let o=e==1?Ua:dO;n.dirty<o&&(n.dirty=o)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class bB extends mp{constructor(e,n,o,r){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(o,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Lr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class iF extends mp{constructor(e,n,o,r){super(e,[],n,null),this.textDOM=o,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class uc extends mp{constructor(e,n,o,r,i){super(e,[],o,r),this.mark=n,this.spec=i}static create(e,n,o,r){let i=r.nodeViews[n.type.name],s=i&&i(n,r,o);return(!s||!s.dom)&&(s=Us.renderSpec(document,n.type.spec.toDOM(n,o),null,n.attrs)),new uc(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Oi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Oi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Lr){let o=this.parent;for(;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=Lr}}slice(e,n,o){let r=uc.create(this.parent,this.mark,!0,o),i=this.children,s=this.size;n<s&&(i=Lx(i,n,s,o)),e>0&&(i=Lx(i,0,e,o));for(let l=0;l<i.length;l++)i[l].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Fl extends mp{constructor(e,n,o,r,i,s,l,c,d){super(e,[],i,s),this.node=n,this.outerDeco=o,this.innerDeco=r,this.nodeDOM=l}static create(e,n,o,r,i,s){let l=i.nodeViews[n.type.name],c,d=l&&l(n,i,()=>{if(!c)return s;if(c.parent)return c.parent.posBeforeChild(c)},o,r),f=d&&d.dom,p=d&&d.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=Us.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let m=f;return f=kB(f,o,n),d?c=new sF(e,n,o,r,f,p||null,m,d,i,s+1):n.isText?new t0(e,n,o,r,f,m,i):new Fl(e,n,o,r,f,p||null,m,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let o=this.children[n];if(this.dom.contains(o.dom.parentNode)){e.contentElement=o.dom.parentNode;break}}e.contentElement||(e.getContent=()=>J.empty)}return e}matchesNode(e,n,o){return this.dirty==Lr&&e.eq(this.node)&&gb(n,this.outerDeco)&&o.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let o=this.node.inlineContent,r=n,i=e.composing?this.localCompositionInfo(e,n):null,s=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new aF(this,s&&s.node,e);dF(this.node,this.innerDeco,(d,f,p)=>{d.spec.marks?c.syncToMarks(d.spec.marks,o,e):d.type.side>=0&&!p&&c.syncToMarks(f==this.node.childCount?jt.none:this.node.child(f).marks,o,e),c.placeWidget(d,e,r)},(d,f,p,m)=>{c.syncToMarks(d.marks,o,e);let b;c.findNodeMatch(d,f,p,m)||l&&e.state.selection.from>r&&e.state.selection.to<r+d.nodeSize&&(b=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(d,f,p,b,e)||c.updateNextNode(d,f,p,e,m,r)||c.addNode(d,f,p,e,r),r+=d.nodeSize}),c.syncToMarks([],o,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Ua)&&(s&&this.protectLocalComposition(e,s),vB(this.contentDOM,this.children,e),rd&&fF(this.dom))}localCompositionInfo(e,n){let{from:o,to:r}=e.state.selection;if(!(e.state.selection instanceof Re)||o<n||r>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,l=hF(this.node.content,s,o-n,r-n);return l<0?null:{node:i,pos:l,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:o,text:r}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new iF(this,i,n,r);e.input.compositionNodes.push(s),this.children=Lx(this.children,o,o+r.length,e,s)}update(e,n,o,r){return this.dirty==Oi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,o,r),!0)}updateInner(e,n,o,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=o,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Lr}updateOuterDeco(e){if(gb(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,o=this.dom;this.dom=wB(this.dom,this.nodeDOM,Dx(this.outerDeco,this.node,n),Dx(e,this.node,n)),this.dom!=o&&(o.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function fO(t,e,n,o,r){kB(o,e,t);let i=new Fl(void 0,t,e,n,o,o,o,r,0);return i.contentDOM&&i.updateChildren(r,0),i}class t0 extends Fl{constructor(e,n,o,r,i,s,l){super(e,n,o,r,i,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,o,r){return this.dirty==Oi||this.dirty!=Lr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Lr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Lr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,o){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,o)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,o){let r=this.node.cut(e,n),i=document.createTextNode(r.text);return new t0(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Oi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class yB extends mp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Lr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class sF extends Fl{constructor(e,n,o,r,i,s,l,c,d,f){super(e,n,o,r,i,s,l,d,f),this.spec=c}update(e,n,o,r){if(this.dirty==Oi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,o);return i&&this.updateInner(e,n,o,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,o,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,o,r){this.spec.setSelection?this.spec.setSelection(e,n,o.root):super.setSelection(e,n,o,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function vB(t,e,n){let o=t.firstChild,r=!1;for(let i=0;i<e.length;i++){let s=e[i],l=s.dom;if(l.parentNode==t){for(;l!=o;)o=hO(o),r=!0;o=o.nextSibling}else r=!0,t.insertBefore(l,o);if(s instanceof uc){let c=o?o.previousSibling:t.lastChild;vB(s.contentDOM,s.children,n),o=c?c.nextSibling:t.firstChild}}for(;o;)o=hO(o),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const ch=function(t){t&&(this.nodeName=t)};ch.prototype=Object.create(null);const Fa=[new ch];function Dx(t,e,n){if(t.length==0)return Fa;let o=n?Fa[0]:new ch,r=[o];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&r.push(o=new ch(s.nodeName));for(let l in s){let c=s[l];c!=null&&(n&&r.length==1&&r.push(o=new ch(e.isInline?"span":"div")),l=="class"?o.class=(o.class?o.class+" ":"")+c:l=="style"?o.style=(o.style?o.style+";":"")+c:l!="nodeName"&&(o[l]=c))}}}return r}function wB(t,e,n,o){if(n==Fa&&o==Fa)return e;let r=e;for(let i=0;i<o.length;i++){let s=o[i],l=n[i];if(i){let c;l&&l.nodeName==s.nodeName&&r!=t&&(c=r.parentNode)&&c.nodeName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName),c.pmIsDeco=!0,c.appendChild(r),l=Fa[0]),r=c}lF(r,l||Fa[0],s)}return r}function lF(t,e,n){for(let o in e)o!="class"&&o!="style"&&o!="nodeName"&&!(o in n)&&t.removeAttribute(o);for(let o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){let o=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&t.classList.remove(o[i]);for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&t.classList.add(r[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=o.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function kB(t,e,n){return wB(t,t,Fa,Dx(e,n,t.nodeType!=1))}function gb(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function hO(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class aF{constructor(e,n,o){this.lock=n,this.view=o,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=cF(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let o=e;o<n;o++)this.top.children[o].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,o){let r=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;r<s&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=Lr,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[i])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=uc.create(this.top,e[i],n,o);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,o,r){let i=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,o))i=this.top.children.indexOf(s,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,n,o)&&!this.preMatch.matched.has(d)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,o,r,i){let s=this.top.children[r];return s.dirty==Oi&&s.dom==s.contentDOM&&(s.dirty=Ua),s.update(e,n,o,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let o=e.pmViewDesc;if(o){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==o)return r}return-1}e=n}}updateNextNode(e,n,o,r,i,s){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Fl){let d=this.preMatch.matched.get(c);if(d!=null&&d!=i)return!1;let f=c.dom,p,m=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Oi&&gb(n,c.outerDeco));if(!m&&c.update(e,n,o,r))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(p=this.recreateWrapper(c,e,n,o,r,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Ua,p.updateChildren(r,s+1),p.dirty=Lr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,o,r,i,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!gb(o,e.outerDeco)||!r.eq(e.innerDeco))return null;let l=Fl.create(this.top,n,o,r,i,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,o,r,i){let s=Fl.create(this.top,e,n,o,r,i);s.contentDOM&&s.updateChildren(r,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,o){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new bB(this.top,e,n,o);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof uc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof t0)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((wo||no)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let o=document.createElement(e);e=="IMG"&&(o.className="ProseMirror-separator",o.alt=""),e=="BR"&&(o.className="ProseMirror-trailingBreak");let r=new yB(this.top,[],o,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function cF(t,e){let n=e,o=n.children.length,r=t.childCount,i=new Map,s=[];e:for(;r>0;){let l;for(;;)if(o){let d=n.children[o-1];if(d instanceof uc)n=d,o=d.children.length;else{l=d,o--;break}}else{if(n==e)break e;o=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(r-1))break;--r,i.set(l,r),s.push(l)}}return{index:r,matched:i,matches:s.reverse()}}function uF(t,e){return t.type.side-e.type.side}function dF(t,e,n,o){let r=e.locals(t),i=0;if(r.length==0){for(let d=0;d<t.childCount;d++){let f=t.child(d);o(f,r,e.forChild(i,f),d),i+=f.nodeSize}return}let s=0,l=[],c=null;for(let d=0;;){let f,p;for(;s<r.length&&r[s].to==i;){let x=r[s++];x.widget&&(f?(p||(p=[f])).push(x):f=x)}if(f)if(p){p.sort(uF);for(let x=0;x<p.length;x++)n(p[x],d,!!c)}else n(f,d,!!c);let m,b;if(c)b=-1,m=c,c=null;else if(d<t.childCount)b=d,m=t.child(d++);else break;for(let x=0;x<l.length;x++)l[x].to<=i&&l.splice(x--,1);for(;s<r.length&&r[s].from<=i&&r[s].to>i;)l.push(r[s++]);let y=i+m.nodeSize;if(m.isText){let x=y;s<r.length&&r[s].from<x&&(x=r[s].from);for(let _=0;_<l.length;_++)l[_].to<x&&(x=l[_].to);x<y&&(c=m.cut(x-i),m=m.cut(0,x-i),y=x,b=-1)}else for(;s<r.length&&r[s].to<y;)s++;let w=m.isInline&&!m.isLeaf?l.filter(x=>!x.inline):l.slice();o(m,w,e.forChild(i,m),b),i=y}}function fF(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function hF(t,e,n,o){for(let r=0,i=0;r<t.childCount&&i<=o;){let s=t.child(r++),l=i;if(i+=s.nodeSize,!s.isText)continue;let c=s.text;for(;r<t.childCount;){let d=t.child(r++);if(i+=d.nodeSize,!d.isText)break;c+=d.text}if(i>=n){if(i>=o&&c.slice(o-e.length-l,o-l)==e)return o-e.length;let d=l<o?c.lastIndexOf(e,o-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==o&&c.length>=o+e.length-l&&c.slice(o-l,o-l+e.length)==e)return o}}return-1}function Lx(t,e,n,o,r){let i=[];for(let s=0,l=0;s<t.length;s++){let c=t[s],d=l,f=l+=c.size;d>=n||f<=e?i.push(c):(d<e&&i.push(c.slice(0,e-d,o)),r&&(i.push(r),r=void 0),f>n&&i.push(c.slice(n-d,c.size,o)))}return i}function A_(t,e=null){let n=t.domSelectionRange(),o=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),i=r&&r.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=o.resolve(s),c,d;if(e0(n)){for(c=s;r&&!r.node;)r=r.parent;let p=r.node;if(r&&p.isAtom&&Oe.isSelectable(p)&&r.parent&&!(p.isInline&&$U(n.focusNode,n.focusOffset,r.dom))){let m=r.posBefore;d=new Oe(s==m?l:o.resolve(m))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=s,m=s;for(let b=0;b<n.rangeCount;b++){let y=n.getRangeAt(b);p=Math.min(p,t.docView.posFromDOM(y.startContainer,y.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(p<0)return null;[c,s]=m==t.state.selection.anchor?[m,p]:[p,m],l=o.resolve(s)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let f=o.resolve(c);if(!d){let p=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;d=R_(t,f,l,p)}return d}function xB(t){return t.editable?t.hasFocus():_B(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Rs(t,e=!1){let n=t.state.selection;if(CB(t,n),!!xB(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&no){let o=t.domSelectionRange(),r=t.domObserver.currentSelection;if(o.anchorNode&&r.anchorNode&&cc(o.anchorNode,o.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)mF(t);else{let{anchor:o,head:r}=n,i,s;pO&&!(n instanceof Re)&&(n.$from.parent.inlineContent||(i=mO(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=mO(t,n.to))),t.docView.setSelection(o,r,t,e),pO&&(i&&gO(i),s&&gO(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&pF(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const pO=wo||no&&uB<63;function mO(t,e){let{node:n,offset:o}=t.docView.domFromPos(e,0),r=o<n.childNodes.length?n.childNodes[o]:null,i=o?n.childNodes[o-1]:null;if(wo&&r&&r.contentEditable=="false")return Fw(r);if((!r||r.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(r)return Fw(r);if(i)return Fw(i)}}function Fw(t){return t.contentEditable="true",wo&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function gO(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function pF(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),o=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=o||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!xB(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function mF(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let o=t.cursorWrapper.dom,r=o.nodeName=="IMG";r?n.setStart(o.parentNode,Un(o)+1):n.setStart(o,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&jo&&Ul<=11&&(o.disabled=!0,o.disabled=!1)}function CB(t,e){if(e instanceof Oe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(bO(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else bO(t)}function bO(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function R_(t,e,n,o){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Re.between(e,n,o)}function yO(t){return t.editable&&!t.hasFocus()?!1:_B(t)}function _B(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function gF(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return cc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Bx(t,e){let{$anchor:n,$head:o}=t.selection,r=e>0?n.max(o):n.min(o),i=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return i&&je.findFrom(i,e)}function El(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function vO(t,e,n){let o=t.state.selection;if(o instanceof Re)if(n.indexOf("s")>-1){let{$head:r}=o,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return El(t,new Re(o.$anchor,s))}else if(o.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=Bx(t.state,e);return r&&r instanceof Oe?El(t,r):!1}else if(!(Tr&&n.indexOf("m")>-1)){let r=o.$head,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,s;if(!i||i.isText)return!1;let l=e<0?r.pos-i.nodeSize:r.pos;return i.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?Oe.isSelectable(i)?El(t,new Oe(e<0?t.state.doc.resolve(r.pos-i.nodeSize):r)):pp?El(t,new Re(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(o instanceof Oe&&o.node.isInline)return El(t,new Re(e>0?o.$to:o.$from));{let r=Bx(t.state,e);return r?El(t,r):!1}}}function bb(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function uh(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function vu(t,e){return e<0?bF(t):yF(t)}function bF(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r,i,s=!1;for(Qr&&n.nodeType==1&&o<bb(n)&&uh(n.childNodes[o],-1)&&(s=!0);;)if(o>0){if(n.nodeType!=1)break;{let l=n.childNodes[o-1];if(uh(l,-1))r=n,i=--o;else if(l.nodeType==3)n=l,o=n.nodeValue.length;else break}}else{if(SB(n))break;{let l=n.previousSibling;for(;l&&uh(l,-1);)r=n.parentNode,i=Un(l),l=l.previousSibling;if(l)n=l,o=bb(n);else{if(n=n.parentNode,n==t.dom)break;o=0}}}s?Ix(t,n,o):r&&Ix(t,r,i)}function yF(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r=bb(n),i,s;for(;;)if(o<r){if(n.nodeType!=1)break;let l=n.childNodes[o];if(uh(l,1))i=n,s=++o;else break}else{if(SB(n))break;{let l=n.nextSibling;for(;l&&uh(l,1);)i=l.parentNode,s=Un(l)+1,l=l.nextSibling;if(l)n=l,o=0,r=bb(n);else{if(n=n.parentNode,n==t.dom)break;o=r=0}}}i&&Ix(t,i,s)}function SB(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function vF(t,e){for(;t&&e==t.childNodes.length&&!hp(t);)e=Un(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function wF(t,e){for(;t&&!e&&!hp(t);)e=Un(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Ix(t,e,n){if(e.nodeType!=3){let i,s;(s=vF(e,n))?(e=s,n=0):(i=wF(e,n))&&(e=i,n=i.nodeValue.length)}let o=t.domSelection();if(!o)return;if(e0(o)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),o.removeAllRanges(),o.addRange(i)}else o.extend&&o.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&Rs(t)},50)}function wO(t,e){let n=t.state.doc.resolve(e);if(!(no||VU)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function kO(t,e,n){let o=t.state.selection;if(o instanceof Re&&!o.empty||n.indexOf("s")>-1||Tr&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=o;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Bx(t.state,e);if(s&&s instanceof Oe)return El(t,s)}if(!r.parent.inlineContent){let s=e<0?r:i,l=o instanceof Io?je.near(s,e):je.findFrom(s,e);return l?El(t,l):!1}return!1}function xO(t,e){if(!(t.state.selection instanceof Re))return!0;let{$head:n,$anchor:o,empty:r}=t.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),t.dispatch(s),!0}return!1}function CO(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function kF(t){if(!wo||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let o=e.firstChild;CO(t,o,"true"),setTimeout(()=>CO(t,o,"false"),20)}return!1}function xF(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function CF(t,e){let n=e.keyCode,o=xF(e);if(n==8||Tr&&n==72&&o=="c")return xO(t,-1)||vu(t,-1);if(n==46&&!e.shiftKey||Tr&&n==68&&o=="c")return xO(t,1)||vu(t,1);if(n==13||n==27)return!0;if(n==37||Tr&&n==66&&o=="c"){let r=n==37?wO(t,t.state.selection.from)=="ltr"?-1:1:-1;return vO(t,r,o)||vu(t,r)}else if(n==39||Tr&&n==70&&o=="c"){let r=n==39?wO(t,t.state.selection.from)=="ltr"?1:-1:1;return vO(t,r,o)||vu(t,r)}else{if(n==38||Tr&&n==80&&o=="c")return kO(t,-1,o)||vu(t,-1);if(n==40||Tr&&n==78&&o=="c")return kF(t)||kO(t,1,o)||vu(t,1);if(o==(Tr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function O_(t,e){t.someProp("transformCopied",b=>{e=b(e,t)});let n=[],{content:o,openStart:r,openEnd:i}=e;for(;r>1&&i>1&&o.childCount==1&&o.firstChild.childCount==1;){r--,i--;let b=o.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),o=b.content}let s=t.someProp("clipboardSerializer")||Us.fromSchema(t.state.schema),l=OB(),c=l.createElement("div");c.appendChild(s.serializeFragment(o,{document:l}));let d=c.firstChild,f,p=0;for(;d&&d.nodeType==1&&(f=RB[d.nodeName.toLowerCase()]);){for(let b=f.length-1;b>=0;b--){let y=l.createElement(f[b]);for(;c.firstChild;)y.appendChild(c.firstChild);c.appendChild(y),p++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${i}${p?` -${p}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",b=>b(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function EB(t,e,n,o,r){let i=r.parent.type.spec.code,s,l;if(!n&&!e)return null;let c=e&&(o||i||!n);if(c){if(t.someProp("transformPastedText",m=>{e=m(e,i||o,t)}),i)return e?new ye(J.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ye.empty;let p=t.someProp("clipboardTextParser",m=>m(e,r,o,t));if(p)l=p;else{let m=r.marks(),{schema:b}=t.state,y=Us.fromSchema(b);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let x=s.appendChild(document.createElement("p"));w&&x.appendChild(y.serializeNode(b.text(w,m)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),s=TF(n),pp&&MF(s);let d=s&&s.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let m=s.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;s=m}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||nc.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(c||f),context:r,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!_F.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)l=AF(_O(l,+f[1],+f[2]),f[4]);else if(l=ye.maxOpen(SF(l.content,r),!0),l.openStart||l.openEnd){let p=0,m=0;for(let b=l.content.firstChild;p<l.openStart&&!b.type.spec.isolating;p++,b=b.firstChild);for(let b=l.content.lastChild;m<l.openEnd&&!b.type.spec.isolating;m++,b=b.lastChild);l=_O(l,p,m)}return t.someProp("transformPasted",p=>{l=p(l,t)}),l}const _F=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function SF(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),i,s=[];if(t.forEach(l=>{if(!s)return;let c=r.findWrapping(l.type),d;if(!c)return s=null;if(d=s.length&&i.length&&MB(c,i,l,s[s.length-1],0))s[s.length-1]=d;else{s.length&&(s[s.length-1]=AB(s[s.length-1],i.length));let f=TB(l,c);s.push(f),r=r.matchType(f.type),i=c}}),s)return J.from(s)}return t}function TB(t,e,n=0){for(let o=e.length-1;o>=n;o--)t=e[o].create(null,J.from(t));return t}function MB(t,e,n,o,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let i=MB(t,e,n,o.lastChild,r+1);if(i)return o.copy(o.content.replaceChild(o.childCount-1,i));if(o.contentMatchAt(o.childCount).matchType(r==t.length-1?n.type:t[r+1]))return o.copy(o.content.append(J.from(TB(n,t,r+1))))}}function AB(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,AB(t.lastChild,e-1)),o=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(n.append(o))}function jx(t,e,n,o,r,i){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(i=0),r<o-1&&(l=jx(l,e,n,o,r+1,i)),r>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,i<=r).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function _O(t,e,n){return e<t.openStart&&(t=new ye(jx(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ye(jx(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const RB={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let SO=null;function OB(){return SO||(SO=document.implementation.createHTMLDocument("title"))}let Gw=null;function EF(t){let e=window.trustedTypes;return e?(Gw||(Gw=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Gw.createHTML(t)):t}function TF(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=OB().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t),r;if((r=o&&RB[o[1].toLowerCase()])&&(t=r.map(i=>"<"+i+">").join("")+t+r.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=EF(t),r)for(let i=0;i<r.length;i++)n=n.querySelector(r[i])||n;return n}function MF(t){let e=t.querySelectorAll(no?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let o=e[n];o.childNodes.length==1&&o.textContent==""&&o.parentNode&&o.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),o)}}function AF(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,o;try{o=JSON.parse(e)}catch{return t}let{content:r,openStart:i,openEnd:s}=t;for(let l=o.length-2;l>=0;l-=2){let c=n.nodes[o[l]];if(!c||c.hasRequiredAttrs())break;r=J.from(c.create(o[l+1],r)),i++,s++}return new ye(r,i,s)}const ko={},xo={},RF={touchstart:!0,touchmove:!0};class OF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function NF(t){for(let e in ko){let n=ko[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=o=>{LF(t,o)&&!N_(t,o)&&(t.editable||!(o.type in xo))&&n(t,o)},RF[e]?{passive:!0}:void 0)}wo&&t.dom.addEventListener("input",()=>null),Px(t)}function Pl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function DF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Px(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=o=>N_(t,o))})}function N_(t,e){return t.someProp("handleDOMEvents",n=>{let o=n[e.type];return o?o(t,e)||e.defaultPrevented:!1})}function LF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function BF(t,e){!N_(t,e)&&ko[e.type]&&(t.editable||!(e.type in xo))&&ko[e.type](t,e)}xo.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!DB(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(_s&&no&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),rd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let o=Date.now();t.input.lastIOSEnter=o,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==o&&(t.someProp("handleKeyDown",r=>r(t,ja(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",o=>o(t,n))||CF(t,n)?n.preventDefault():Pl(t,"key")};xo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};xo.keypress=(t,e)=>{let n=e;if(DB(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Tr&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let o=t.state.selection;if(!(o instanceof Re)||!o.$from.sameParent(o.$to)){let r=String.fromCharCode(n.charCode);!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",i=>i(t,o.$from.pos,o.$to.pos,r))&&t.dispatch(t.state.tr.insertText(r).scrollIntoView()),n.preventDefault()}};function n0(t){return{left:t.clientX,top:t.clientY}}function IF(t,e){let n=e.x-t.clientX,o=e.y-t.clientY;return n*n+o*o<100}function D_(t,e,n,o,r){if(o==-1)return!1;let i=t.state.doc.resolve(o);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,l=>s>i.depth?l(t,n,i.nodeAfter,i.before(s),r,!0):l(t,n,i.node(s),i.before(s),r,!1)))return!0;return!1}function Fu(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let o=t.state.tr.setSelection(e);o.setMeta("pointer",!0),t.dispatch(o)}function jF(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),o=n.nodeAfter;return o&&o.isAtom&&Oe.isSelectable(o)?(Fu(t,new Oe(n)),!0):!1}function PF(t,e){if(e==-1)return!1;let n=t.state.selection,o,r;n instanceof Oe&&(o=n.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s);if(Oe.isSelectable(l)){o&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?r=i.before(n.$from.depth):r=i.before(s);break}}return r!=null?(Fu(t,Oe.create(t.state.doc,r)),!0):!1}function $F(t,e,n,o,r){return D_(t,"handleClickOn",e,n,o)||t.someProp("handleClick",i=>i(t,e,o))||(r?PF(t,n):jF(t,n))}function HF(t,e,n,o){return D_(t,"handleDoubleClickOn",e,n,o)||t.someProp("handleDoubleClick",r=>r(t,e,o))}function zF(t,e,n,o){return D_(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",r=>r(t,e,o))||VF(t,n,o)}function VF(t,e,n){if(n.button!=0)return!1;let o=t.state.doc;if(e==-1)return o.inlineContent?(Fu(t,Re.create(o,0,o.content.size)),!0):!1;let r=o.resolve(e);for(let i=r.depth+1;i>0;i--){let s=i>r.depth?r.nodeAfter:r.node(i),l=r.before(i);if(s.inlineContent)Fu(t,Re.create(o,l+1,l+1+s.content.size));else if(Oe.isSelectable(s))Fu(t,Oe.create(o,l));else continue;return!0}}function L_(t){return yb(t)}const NB=Tr?"metaKey":"ctrlKey";ko.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let o=L_(t),r=Date.now(),i="singleClick";r-t.input.lastClick.time<500&&IF(n,t.input.lastClick)&&!n[NB]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i};let s=t.posAtCoords(n0(n));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new UF(t,s,n,!!o)):(i=="doubleClick"?HF:zF)(t,s.pos,s.inside,n)?n.preventDefault():Pl(t,"pointer"))};class UF{constructor(e,n,o,r){this.view=e,this.pos=n,this.event=o,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!o[NB],this.allowDefault=o.shiftKey;let i,s;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),s=n.inside;else{let f=e.state.doc.resolve(n.pos);i=f.parent,s=f.depth?f.before():0}const l=r?null:o.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:d}=e.state;(o.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||d instanceof Oe&&d.from<=s&&d.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Qr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Pl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Rs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(n0(e))),this.updateAllowDefault(e),this.allowDefault||!n?Pl(this.view,"pointer"):$F(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||wo&&this.mightDrag&&!this.mightDrag.node.isAtom||no&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Fu(this.view,je.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Pl(this.view,"pointer")}move(e){this.updateAllowDefault(e),Pl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ko.touchstart=t=>{t.input.lastTouch=Date.now(),L_(t),Pl(t,"pointer")};ko.touchmove=t=>{t.input.lastTouch=Date.now(),Pl(t,"pointer")};ko.contextmenu=t=>L_(t);function DB(t,e){return t.composing?!0:wo&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const FF=_s?5e3:-1;xo.compositionstart=xo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Re&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),yb(t,!0),t.markCursor=null;else if(yb(t,!e.selection.empty),Qr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let o=t.domSelectionRange();for(let r=o.focusNode,i=o.focusOffset;r&&r.nodeType==1&&i!=0;){let s=i<0?r.lastChild:r.childNodes[i-1];if(!s)break;if(s.nodeType==3){let l=t.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else r=s,i=-1}}t.input.composing=!0}LB(t,FF)};xo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,LB(t,20))};function LB(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>yb(t),e))}function BB(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=qF());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function GF(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=jU(e.focusNode,e.focusOffset),o=PU(e.focusNode,e.focusOffset);if(n&&o&&n!=o){let r=o.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||o==i)return i;if(!r||!r.isText(o.nodeValue))return o;if(t.input.compositionNode==o){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return o}}return n||o}function qF(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function yb(t,e=!1){if(!(_s&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),BB(t),e||t.docView&&t.docView.dirty){let n=A_(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function KF(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Lh=jo&&Ul<15||rd&&UU<604;ko.copy=xo.cut=(t,e)=>{let n=e,o=t.state.selection,r=n.type=="cut";if(o.empty)return;let i=Lh?null:n.clipboardData,s=o.content(),{dom:l,text:c}=O_(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):KF(t,l),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function WF(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function ZF(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,o=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),o.parentNode&&o.parentNode.removeChild(o),n?Bh(t,o.value,null,r,e):Bh(t,o.textContent,o.innerHTML,r,e)},50)}function Bh(t,e,n,o,r){let i=EB(t,e,n,o,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,r,i||ye.empty)))return!0;if(!i)return!1;let s=WF(i),l=s?t.state.tr.replaceSelectionWith(s,o):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function IB(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}xo.paste=(t,e)=>{let n=e;if(t.composing&&!_s)return;let o=Lh?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;o&&Bh(t,IB(o),o.getData("text/html"),r,n)?n.preventDefault():ZF(t,n)};class jB{constructor(e,n,o){this.slice=e,this.move=n,this.node=o}}const XF=Tr?"altKey":"ctrlKey";function PB(t,e){let n=t.someProp("dragCopies",o=>!o(e));return n??!e[XF]}ko.dragstart=(t,e)=>{let n=e,o=t.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=t.state.selection,i=r.empty?null:t.posAtCoords(n0(n)),s;if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof Oe?r.to-1:r.to))){if(o&&o.mightDrag)s=Oe.create(t.state.doc,o.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(s=Oe.create(t.state.doc,p.posBefore))}}let l=(s||t.state.selection).content(),{dom:c,text:d,slice:f}=O_(t,l);(!n.dataTransfer.files.length||!no||uB>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Lh?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Lh||n.dataTransfer.setData("text/plain",d),t.dragging=new jB(f,PB(t,n),s)};ko.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};xo.dragover=xo.dragenter=(t,e)=>e.preventDefault();xo.drop=(t,e)=>{let n=e,o=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(n0(n));if(!r)return;let i=t.state.doc.resolve(r.pos),s=o&&o.slice;s?t.someProp("transformPasted",y=>{s=y(s,t)}):s=EB(t,IB(n.dataTransfer),Lh?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(o&&PB(t,n));if(t.someProp("handleDrop",y=>y(t,n,s||ye.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let c=s?S_(t.state.doc,i.pos,s):i.pos;c==null&&(c=i.pos);let d=t.state.tr;if(l){let{node:y}=o;y?y.replace(d):d.deleteSelection()}let f=d.mapping.map(c),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=d.doc;if(p?d.replaceRangeWith(f,f,s.content.firstChild):d.replaceRange(f,f,s),d.doc.eq(m))return;let b=d.doc.resolve(f);if(p&&Oe.isSelectable(s.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new Oe(b));else{let y=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((w,x,_,T)=>y=T),d.setSelection(R_(t,b,d.doc.resolve(y)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};ko.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Rs(t)},20))};ko.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ko.beforeinput=(t,e)=>{if(no&&_s&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:o}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=o||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,ja(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in xo)ko[t]=xo[t];function Ih(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class vb{constructor(e,n){this.toDOM=e,this.spec=n||oc,this.side=this.spec.side||0}map(e,n,o,r){let{pos:i,deleted:s}=e.mapResult(n.from+r,this.side<0?-1:1);return s?null:new _t(i-o,i-o,this)}valid(){return!0}eq(e){return this==e||e instanceof vb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ih(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Gl{constructor(e,n){this.attrs=e,this.spec=n||oc}map(e,n,o,r){let i=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-o,s=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-o;return i>=s?null:new _t(i,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Gl&&Ih(this.attrs,e.attrs)&&Ih(this.spec,e.spec)}static is(e){return e.type instanceof Gl}destroy(){}}class B_{constructor(e,n){this.attrs=e,this.spec=n||oc}map(e,n,o,r){let i=e.mapResult(n.from+r,1);if(i.deleted)return null;let s=e.mapResult(n.to+r,-1);return s.deleted||s.pos<=i.pos?null:new _t(i.pos-o,s.pos-o,this)}valid(e,n){let{index:o,offset:r}=e.content.findIndex(n.from),i;return r==n.from&&!(i=e.child(o)).isText&&r+i.nodeSize==n.to}eq(e){return this==e||e instanceof B_&&Ih(this.attrs,e.attrs)&&Ih(this.spec,e.spec)}destroy(){}}class _t{constructor(e,n,o){this.from=e,this.to=n,this.type=o}copy(e,n){return new _t(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,o){return this.type.map(e,this,n,o)}static widget(e,n,o){return new _t(e,e,new vb(n,o))}static inline(e,n,o,r){return new _t(e,n,new Gl(o,r))}static node(e,n,o,r){return new _t(e,n,new B_(o,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Gl}get widget(){return this.type instanceof vb}}const Au=[],oc={};class ct{constructor(e,n){this.local=e.length?e:Au,this.children=n.length?n:Au}static create(e,n){return n.length?wb(n,e,0,oc):Jn}find(e,n,o){let r=[];return this.findInner(e??0,n??1e9,r,0,o),r}findInner(e,n,o,r,i){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&o.push(l.copy(l.from+r,l.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,o,r+l,i)}}map(e,n,o){return this==Jn||e.maps.length==0?this:this.mapInner(e,n,0,0,o||oc)}mapInner(e,n,o,r,i){let s;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,o,r);c&&c.type.valid(n,c)?(s||(s=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?YF(this.children,s||[],e,n,o,r,i):s?new ct(s.sort(rc),Au):Jn}add(e,n){return n.length?this==Jn?ct.create(e,n):this.addInner(e,n,0):this}addInner(e,n,o){let r,i=0;e.forEach((l,c)=>{let d=c+o,f;if(f=HB(n,l,d)){for(r||(r=this.children.slice());i<r.length&&r[i]<c;)i+=3;r[i]==c?r[i+2]=r[i+2].addInner(l,f,d+1):r.splice(i,0,c,c+l.nodeSize,wb(f,l,d+1,oc)),i+=3}});let s=$B(i?zB(n):n,-o);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new ct(s.length?this.local.concat(s).sort(rc):this.local,r||this.children)}remove(e){return e.length==0||this==Jn?this:this.removeInner(e,0)}removeInner(e,n){let o=this.children,r=this.local;for(let i=0;i<o.length;i+=3){let s,l=o[i]+n,c=o[i+1]+n;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>l&&p.to<c&&(e[f]=null,(s||(s=[])).push(p));if(!s)continue;o==this.children&&(o=this.children.slice());let d=o[i+2].removeInner(s,l+1);d!=Jn?o[i+2]=d:(o.splice(i,3),i-=3)}if(r.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let l=0;l<r.length;l++)r[l].eq(s,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return o==this.children&&r==this.local?this:r.length||o.length?new ct(r,o):Jn}forChild(e,n){if(this==Jn)return this;if(n.isLeaf)return ct.empty;let o,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(o=this.children[l+2]);break}let i=e+1,s=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<s&&c.to>i&&c.type instanceof Gl){let d=Math.max(i,c.from)-i,f=Math.min(s,c.to)-i;d<f&&(r||(r=[])).push(c.copy(d,f))}}if(r){let l=new ct(r.sort(rc),Au);return o?new Rl([l,o]):l}return o||Jn}eq(e){if(this==e)return!0;if(!(e instanceof ct)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return I_(this.localsInner(e))}localsInner(e){if(this==Jn)return Au;if(e.inlineContent||!this.local.some(Gl.is))return this.local;let n=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof Gl||n.push(this.local[o]);return n}forEachSet(e){e(this)}}ct.empty=new ct([],[]);ct.removeOverlap=I_;const Jn=ct.empty;class Rl{constructor(e){this.members=e}map(e,n){const o=this.members.map(r=>r.map(e,n,oc));return Rl.from(o)}forChild(e,n){if(n.isLeaf)return ct.empty;let o=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,n);i!=Jn&&(i instanceof Rl?o=o.concat(i.members):o.push(i))}return Rl.from(o)}eq(e){if(!(e instanceof Rl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,o=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(!n)n=i;else{o&&(n=n.slice(),o=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?I_(o?n:n.sort(rc)):Au}static from(e){switch(e.length){case 0:return Jn;case 1:return e[0];default:return new Rl(e.every(n=>n instanceof ct)?e:e.reduce((n,o)=>n.concat(o instanceof ct?o:o.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function YF(t,e,n,o,r,i,s){let l=t.slice();for(let d=0,f=i;d<n.maps.length;d++){let p=0;n.maps[d].forEach((m,b,y,w)=>{let x=w-y-(b-m);for(let _=0;_<l.length;_+=3){let T=l[_+1];if(T<0||m>T+f-p)continue;let M=l[_]+f-p;b>=M?l[_+1]=m<=M?-2:-1:m>=f&&x&&(l[_]+=x,l[_+1]+=x)}p+=x}),f=n.maps[d].map(f,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let f=n.map(t[d]+i),p=f-r;if(p<0||p>=o.content.size){c=!0;continue}let m=n.map(t[d+1]+i,-1),b=m-r,{index:y,offset:w}=o.content.findIndex(p),x=o.maybeChild(y);if(x&&w==p&&w+x.nodeSize==b){let _=l[d+2].mapInner(n,x,f+1,t[d]+i+1,s);_!=Jn?(l[d]=p,l[d+1]=b,l[d+2]=_):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=JF(l,t,e,n,r,i,s),f=wb(d,o,0,s);e=f.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,m=0;p<f.children.length;p+=3){let b=f.children[p];for(;m<l.length&&l[m]<b;)m+=3;l.splice(m,0,f.children[p],f.children[p+1],f.children[p+2])}}return new ct(e.sort(rc),l)}function $B(t,e){if(!e||!t.length)return t;let n=[];for(let o=0;o<t.length;o++){let r=t[o];n.push(new _t(r.from+e,r.to+e,r.type))}return n}function JF(t,e,n,o,r,i,s){function l(c,d){for(let f=0;f<c.local.length;f++){let p=c.local[f].map(o,r,d);p?n.push(p):s.onRemove&&s.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return n}function HB(t,e,n){if(e.isLeaf)return null;let o=n+e.nodeSize,r=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<o&&((r||(r=[])).push(s),t[i]=null);return r}function zB(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function wb(t,e,n,o){let r=[],i=!1;e.forEach((l,c)=>{let d=HB(t,l,c+n);if(d){i=!0;let f=wb(d,l,n+c+1,o);f!=Jn&&r.push(c,c+l.nodeSize,f)}});let s=$B(i?zB(t):t,-n).sort(rc);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(o.onRemove&&o.onRemove(s[l].spec),s.splice(l--,1));return s.length||r.length?new ct(s,r):Jn}function rc(t,e){return t.from-e.from||t.to-e.to}function I_(t){let e=t;for(let n=0;n<e.length-1;n++){let o=e[n];if(o.from!=o.to)for(let r=n+1;r<e.length;r++){let i=e[r];if(i.from==o.from){i.to!=o.to&&(e==t&&(e=t.slice()),e[r]=i.copy(i.from,o.to),EO(e,r+1,i.copy(o.to,i.to)));continue}else{i.from<o.to&&(e==t&&(e=t.slice()),e[n]=o.copy(o.from,i.from),EO(e,r,o.copy(i.from,o.to)));break}}}return e}function EO(t,e,n){for(;e<t.length&&rc(n,t[e])>0;)e++;t.splice(e,0,n)}function qw(t){let e=[];return t.someProp("decorations",n=>{let o=n(t.state);o&&o!=Jn&&e.push(o)}),t.cursorWrapper&&e.push(ct.create(t.state.doc,[t.cursorWrapper.deco])),Rl.from(e)}const QF={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},eG=jo&&Ul<=11;class tG{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class nG{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new tG,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(o=>{for(let r=0;r<o.length;r++)this.queue.push(o[r]);jo&&Ul<=11&&o.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),eG&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,QF)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(yO(this.view)){if(this.suppressingSelectionUpdates)return Rs(this.view);if(jo&&Ul<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&cc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,o;for(let i=e.focusNode;i;i=od(i))n.add(i);for(let i=e.anchorNode;i;i=od(i))if(n.has(i)){o=i;break}let r=o&&this.view.docView.nearestDesc(o);if(r&&r.ignoreMutation({type:"selection",target:o.nodeType==3?o.parentNode:o}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let o=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(o)&&yO(e)&&!this.ignoreSelectionChange(o),i=-1,s=-1,l=!1,c=[];if(e.editable)for(let f=0;f<n.length;f++){let p=this.registerMutation(n[f],c);p&&(i=i<0?p.from:Math.min(p.from,i),s=s<0?p.to:Math.max(p.to,s),p.typeOver&&(l=!0))}if(Qr&&c.length){let f=c.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,m]=f;p.parentNode&&p.parentNode.parentNode==m.parentNode?m.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let m of f){let b=m.parentNode;b&&b.nodeName=="LI"&&(!p||iG(e,p)!=b)&&m.remove()}}}let d=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&e0(o)&&(d=A_(e))&&d.eq(je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Rs(e),this.currentSelection.set(o),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,s),oG(e)),this.handleDOMChange(i,s,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(o)||Rs(e),this.currentSelection.set(o))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let o=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(o==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!o||o.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(o.contentDOM&&o.contentDOM!=o.dom&&!o.contentDOM.contains(e.target))return{from:o.posBefore,to:o.posAfter};let r=e.previousSibling,i=e.nextSibling;if(jo&&Ul<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:m}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(r=p),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m)}let s=r&&r.parentNode==e.target?Un(r)+1:0,l=o.localPosFromDOM(e.target,s,-1),c=i&&i.parentNode==e.target?Un(i):e.target.childNodes.length,d=o.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:(this.lastChangedTextNode=e.target,{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let TO=new WeakMap,MO=!1;function oG(t){if(!TO.has(t)&&(TO.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Qr,MO)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),MO=!0}}function AO(t,e){let n=e.startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return cc(s.node,s.offset,r,i)&&([n,o,r,i]=[r,i,n,o]),{anchorNode:n,anchorOffset:o,focusNode:r,focusOffset:i}}function rG(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return AO(t,r)}let n;function o(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",o,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",o,!0),n?AO(t,n):null}function iG(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let o=t.docView.nearestDesc(n,!0);if(o&&o.node.isBlock)return n}return null}function sG(t,e,n){let{node:o,fromOffset:r,toOffset:i,from:s,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),d,f=c.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:c.anchorOffset}],e0(c)||d.push({node:c.focusNode,offset:c.focusOffset})),no&&t.input.lastKeyCode===8)for(let x=i;x>r;x--){let _=o.childNodes[x-1],T=_.pmViewDesc;if(_.nodeName=="BR"&&!T){i=x;break}if(!T||T.size)break}let p=t.state.doc,m=t.someProp("domParser")||nc.fromSchema(t.state.schema),b=p.resolve(s),y=null,w=m.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:r,to:i,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:lG,context:b});if(d&&d[0].pos!=null){let x=d[0].pos,_=d[1]&&d[1].pos;_==null&&(_=x),y={anchor:x+s,head:_+s}}return{doc:w,sel:y,from:s,to:l}}function lG(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(wo&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||wo&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const aG=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function cG(t,e,n,o,r){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let q=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Q=A_(t,q);if(Q&&!t.state.selection.eq(Q)){if(no&&_s&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ue=>ue(t,ja(13,"Enter"))))return;let ve=t.state.tr.setSelection(Q);q=="pointer"?ve.setMeta("pointer",!0):q=="key"&&ve.scrollIntoView(),i&&ve.setMeta("composition",i),t.dispatch(ve)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,d=sG(t,e,n),f=t.state.doc,p=f.slice(d.from,d.to),m,b;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,b="end"):(m=t.state.selection.from,b="start"),t.input.lastKeyCode=null;let y=fG(p.content,d.doc.content,d.from,m,b);if(y&&t.input.domChangeCount++,(rd&&t.input.lastIOSEnter>Date.now()-225||_s)&&r.some(q=>q.nodeType==1&&!aG.test(q.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",q=>q(t,ja(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(o&&c instanceof Re&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))y={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let q=RO(t,t.state.doc,d.sel);if(q&&!q.eq(t.state.selection)){let Q=t.state.tr.setSelection(q);i&&Q.setMeta("composition",i),t.dispatch(Q)}}return}t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof Re&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),jo&&Ul<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>d.from&&d.doc.textBetween(y.start-d.from-1,y.start-d.from+1)==" "&&(y.start--,y.endA--,y.endB--);let w=d.doc.resolveNoCache(y.start-d.from),x=d.doc.resolveNoCache(y.endB-d.from),_=f.resolve(y.start),T=w.sameParent(x)&&w.parent.inlineContent&&_.end()>=y.endA,M;if((rd&&t.input.lastIOSEnter>Date.now()-225&&(!T||r.some(q=>q.nodeName=="DIV"||q.nodeName=="P"))||!T&&w.pos<d.doc.content.size&&(!w.sameParent(x)||!w.parent.inlineContent)&&(M=je.findFrom(d.doc.resolve(w.pos+1),1,!0))&&M.head>w.pos)&&t.someProp("handleKeyDown",q=>q(t,ja(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&dG(f,y.start,y.endA,w,x)&&t.someProp("handleKeyDown",q=>q(t,ja(8,"Backspace")))){_s&&no&&t.domObserver.suppressSelectionUpdates();return}no&&y.endB==y.start&&(t.input.lastChromeDelete=Date.now()),_s&&!T&&w.start()!=x.start()&&x.parentOffset==0&&w.depth==x.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==y.endA&&(y.endB-=2,x=d.doc.resolveNoCache(y.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(q){return q(t,ja(13,"Enter"))})},20));let R=y.start,O=y.endA,B,I,H;if(T){if(w.pos==x.pos)jo&&Ul<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Rs(t),20)),B=t.state.tr.delete(R,O),I=f.resolve(y.start).marksAcross(f.resolve(y.endA));else if(y.endA==y.endB&&(H=uG(w.parent.content.cut(w.parentOffset,x.parentOffset),_.parent.content.cut(_.parentOffset,y.endA-_.start()))))B=t.state.tr,H.type=="add"?B.addMark(R,O,H.mark):B.removeMark(R,O,H.mark);else if(w.parent.child(w.index()).isText&&w.index()==x.index()-(x.textOffset?0:1)){let q=w.parent.textBetween(w.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",Q=>Q(t,R,O,q)))return;B=t.state.tr.insertText(q,R,O)}}if(B||(B=t.state.tr.replace(R,O,d.doc.slice(y.start-d.from,y.endB-d.from))),d.sel){let q=RO(t,B.doc,d.sel);q&&!(no&&t.composing&&q.empty&&(y.start!=y.endB||t.input.lastChromeDelete<Date.now()-100)&&(q.head==R||q.head==B.mapping.map(O)-1)||jo&&q.empty&&q.head==R)&&B.setSelection(q)}I&&B.ensureMarks(I),i&&B.setMeta("composition",i),t.dispatch(B.scrollIntoView())}function RO(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:R_(t,e.resolve(n.anchor),e.resolve(n.head))}function uG(t,e){let n=t.firstChild.marks,o=e.firstChild.marks,r=n,i=o,s,l,c;for(let f=0;f<o.length;f++)r=o[f].removeFromSet(r);for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);if(r.length==1&&i.length==0)l=r[0],s="add",c=f=>f.mark(l.addToSet(f.marks));else if(r.length==0&&i.length==1)l=i[0],s="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<e.childCount;f++)d.push(c(e.child(f)));if(J.from(d).eq(t))return{mark:l,type:s}}function dG(t,e,n,o,r){if(n-e<=r.pos-o.pos||Kw(o,!0,!1)<r.pos)return!1;let i=t.resolve(e);if(!o.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(Kw(i,!0,!0));return!s.parent.isTextblock||s.pos>n||Kw(s,!0,!1)<n?!1:o.parent.content.cut(o.parentOffset).eq(s.parent.content)}function Kw(t,e,n){let o=t.depth,r=e?t.end():t.pos;for(;o>0&&(e||t.indexAfter(o)==t.node(o).childCount);)o--,r++,e=!1;if(n){let i=t.node(o).maybeChild(t.indexAfter(o));for(;i&&!i.isLeaf;)i=i.firstChild,r++}return r}function fG(t,e,n,o,r){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let c=Math.max(0,i-Math.min(s,l));o-=s+c-i}if(s<i&&t.size<e.size){let c=o<=i&&o>=s?i-o:0;i-=c,i&&i<e.size&&OO(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-s),s=i}else if(l<i){let c=o<=i&&o>=l?i-o:0;i-=c,i&&i<t.size&&OO(t.textBetween(i-1,i+1))&&(i+=c?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}function OO(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class VB{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new OF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(IO),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=LO(this),DO(this),this.nodeViews=BO(this),this.docView=fO(this.state.doc,NO(this),qw(this),this.dom,this),this.domObserver=new nG(this,(o,r,i,s)=>cG(this,o,r,i,s)),this.domObserver.start(),NF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Px(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(IO),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let o in this._props)n[o]=this._props[o];n.state=this.state;for(let o in e)n[o]=e[o];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var o;let r=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(BB(this),s=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=BO(this);pG(b,this.nodeViews)&&(this.nodeViews=b,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Px(this),this.editable=LO(this),DO(this);let c=qw(this),d=NO(this),f=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(e.doc,d,c);(p||!e.selection.eq(r.selection))&&(s=!0);let m=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&qU(this);if(s){this.domObserver.stop();let b=p&&(jo||no)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&hG(r.selection,e.selection);if(p){let y=no?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=GF(this)),(i||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=fO(e.doc,d,c,this.dom,this)),y&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&gF(this))?Rs(this,b):(CB(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((o=this.dragging)===null||o===void 0)&&o.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&KU(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Oe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&sO(this,n.getBoundingClientRect(),e)}else sO(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let o=this.directPlugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let o=this.state.plugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let o=this.pluginViews[n];o.update&&o.update(this,e)}}updateDraggedNode(e,n){let o=e.node,r=-1;if(this.state.doc.nodeAt(o.from)==o.node)r=o.from;else{let i=o.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==o.node&&(r=i)}this.dragging=new jB(e.slice,e.move,r<0?void 0:Oe.create(this.state.doc,r))}someProp(e,n){let o=this._props&&this._props[e],r;if(o!=null&&(r=n?n(o):o))return r;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(r=n?n(l):l))return r}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let l=i[s].props[e];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(jo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&WU(this.dom),Rs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return QU(this,e)}coordsAtPos(e,n=1){return mB(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,o=-1){let r=this.docView.posFromDOM(e,n,o);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return rF(this,n||this.state,e)}pasteHTML(e,n){return Bh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Bh(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return O_(this,e)}destroy(){this.docView&&(DF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],qw(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,BU())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return BF(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?wo&&this.root.nodeType===11&&HU(this.dom.ownerDocument)==this.dom&&rG(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function NO(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let o in n)o=="class"?e.class+=" "+n[o]:o=="style"?e.style=(e.style?e.style+";":"")+n[o]:!e[o]&&o!="contenteditable"&&o!="nodeName"&&(e[o]=String(n[o]))}),e.translate||(e.translate="no"),[_t.node(0,t.state.doc.content.size,e)]}function DO(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:_t.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function LO(t){return!t.someProp("editable",e=>e(t.state)===!1)}function hG(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function BO(t){let e=Object.create(null);function n(o){for(let r in o)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=o[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function pG(t,e){let n=0,o=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)o++;return n!=o}function IO(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Kl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mG=typeof navigator<"u"&&/Mac/.test(navigator.platform),gG=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Fn=0;Fn<10;Fn++)Kl[48+Fn]=Kl[96+Fn]=String(Fn);for(var Fn=1;Fn<=24;Fn++)Kl[Fn+111]="F"+Fn;for(var Fn=65;Fn<=90;Fn++)Kl[Fn]=String.fromCharCode(Fn+32),kb[Fn]=String.fromCharCode(Fn);for(var Ww in Kl)kb.hasOwnProperty(Ww)||(kb[Ww]=Kl[Ww]);function bG(t){var e=mG&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||gG&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?kb:Kl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const yG=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function vG(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let o,r,i,s;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))o=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))yG?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+c)}return o&&(n="Alt-"+n),r&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function wG(t){let e=Object.create(null);for(let n in t)e[vG(n)]=t[n];return e}function Zw(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function kG(t){return new Qe({props:{handleKeyDown:j_(t)}})}function j_(t){let e=wG(t);return function(n,o){let r=bG(o),i,s=e[Zw(r,o)];if(s&&s(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(o.shiftKey){let l=e[Zw(r,o,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((o.shiftKey||o.altKey||o.metaKey||r.charCodeAt(0)>127)&&(i=Kl[o.keyCode])&&i!=r){let l=e[Zw(i,o)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const P_=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function UB(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const FB=(t,e,n)=>{let o=UB(t,n);if(!o)return!1;let r=$_(o);if(!r){let s=o.blockRange(),l=s&&bd(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let i=r.nodeBefore;if(QB(t,r,e,-1))return!0;if(o.parent.content.size==0&&(id(i,"end")||Oe.isSelectable(i)))for(let s=o.depth;;s--){let l=Jy(t.doc,o.before(s),o.after(s),ye.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(id(i,"end")?je.findFrom(c.doc.resolve(c.mapping.map(r.pos,-1)),-1):Oe.create(c.doc,r.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(s==1||o.node(s-1).childCount>1)break}return i.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},xG=(t,e,n)=>{let o=UB(t,n);if(!o)return!1;let r=$_(o);return r?GB(t,r,e):!1},CG=(t,e,n)=>{let o=KB(t,n);if(!o)return!1;let r=H_(o);return r?GB(t,r,e):!1};function GB(t,e,n){let o=e.nodeBefore,r=o,i=e.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let f=r.lastChild;if(!f)return!1;r=f}let s=e.nodeAfter,l=s,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let d=Jy(t.doc,i,c,ye.empty);if(!d||d.from!=i||d instanceof Cn&&d.slice.size>=c-i)return!1;if(n){let f=t.tr.step(d);f.setSelection(Re.create(f.doc,i)),n(f.scrollIntoView())}return!0}function id(t,e,n=!1){for(let o=t;o;o=e=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&o.childCount!=1)return!1}return!1}const qB=(t,e,n)=>{let{$head:o,empty:r}=t.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;i=$_(o)}let s=i&&i.nodeBefore;return!s||!Oe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Oe.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function $_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function KB(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const WB=(t,e,n)=>{let o=KB(t,n);if(!o)return!1;let r=H_(o);if(!r)return!1;let i=r.nodeAfter;if(QB(t,r,e,1))return!0;if(o.parent.content.size==0&&(id(i,"start")||Oe.isSelectable(i))){let s=Jy(t.doc,o.before(),o.after(),ye.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(id(i,"start")?je.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):Oe.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},ZB=(t,e,n)=>{let{$head:o,empty:r}=t.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;i=H_(o)}let s=i&&i.nodeAfter;return!s||!Oe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Oe.create(t.doc,i.pos)).scrollIntoView()),!0)};function H_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const _G=(t,e)=>{let n=t.selection,o=n instanceof Oe,r;if(o){if(n.node.isTextblock||!Cc(t.doc,n.from))return!1;r=n.from}else if(r=Yy(t.doc,n.from,-1),r==null)return!1;if(e){let i=t.tr.join(r);o&&i.setSelection(Oe.create(i.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},SG=(t,e)=>{let n=t.selection,o;if(n instanceof Oe){if(n.node.isTextblock||!Cc(t.doc,n.to))return!1;o=n.to}else if(o=Yy(t.doc,n.to,1),o==null)return!1;return e&&e(t.tr.join(o).scrollIntoView()),!0},EG=(t,e)=>{let{$from:n,$to:o}=t.selection,r=n.blockRange(o),i=r&&bd(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},XB=(t,e)=>{let{$head:n,$anchor:o}=t.selection;return!n.parent.type.spec.code||!n.sameParent(o)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function z_(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const TG=(t,e)=>{let{$head:n,$anchor:o}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),i=n.indexAfter(-1),s=z_(r.contentMatchAt(i));if(!s||!r.canReplaceWith(i,i,s))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,s.createAndFill());c.setSelection(je.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},YB=(t,e)=>{let n=t.selection,{$from:o,$to:r}=n;if(n instanceof Io||o.parent.inlineContent||r.parent.inlineContent)return!1;let i=z_(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,l=t.tr.insert(s,i.createAndFill());l.setSelection(Re.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},JB=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(As(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let o=n.blockRange(),r=o&&bd(o);return r==null?!1:(e&&e(t.tr.lift(o,r).scrollIntoView()),!0)};function MG(t){return(e,n)=>{let{$from:o,$to:r}=e.selection;if(e.selection instanceof Oe&&e.selection.node.isBlock)return!o.parentOffset||!As(e.doc,o.pos)?!1:(n&&n(e.tr.split(o.pos).scrollIntoView()),!0);if(!o.depth)return!1;let i=[],s,l,c=!1,d=!1;for(let b=o.depth;;b--)if(o.node(b).isBlock){c=o.end(b)==o.pos+(o.depth-b),d=o.start(b)==o.pos-(o.depth-b),l=z_(o.node(b-1).contentMatchAt(o.indexAfter(b-1))),i.unshift(c&&l?{type:l}:null),s=b;break}else{if(b==1)return!1;i.unshift(null)}let f=e.tr;(e.selection instanceof Re||e.selection instanceof Io)&&f.deleteSelection();let p=f.mapping.map(o.pos),m=As(f.doc,p,i.length,i);if(m||(i[0]=l?{type:l}:null,m=As(f.doc,p,i.length,i)),f.split(p,i.length,i),!c&&d&&o.node(s).type!=l){let b=f.mapping.map(o.before(s)),y=f.doc.resolve(b);l&&o.node(s-1).canReplaceWith(y.index(),y.index()+1,l)&&f.setNodeMarkup(f.mapping.map(o.before(s)),l)}return n&&n(f.scrollIntoView()),!0}}const AG=MG(),RG=(t,e)=>{let{$from:n,to:o}=t.selection,r,i=n.sharedDepth(o);return i==0?!1:(r=n.before(i),e&&e(t.tr.setSelection(Oe.create(t.doc,r))),!0)};function OG(t,e,n){let o=e.nodeBefore,r=e.nodeAfter,i=e.index();return!o||!r||!o.type.compatibleContent(r.type)?!1:!o.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(r.isTextblock||Cc(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function QB(t,e,n,o){let r=e.nodeBefore,i=e.nodeAfter,s,l,c=r.type.spec.isolating||i.type.spec.isolating;if(!c&&OG(t,e,n))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(s=(l=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&l.matchType(s[0]||i.type).validEnd){if(n){let b=e.pos+i.nodeSize,y=J.empty;for(let _=s.length-1;_>=0;_--)y=J.from(s[_].create(null,y));y=J.from(r.copy(y));let w=t.tr.step(new fn(e.pos-1,b,e.pos,b,new ye(y,1,0),s.length,!0)),x=w.doc.resolve(b+2*s.length);x.nodeAfter&&x.nodeAfter.type==r.type&&Cc(w.doc,x.pos)&&w.join(x.pos),n(w.scrollIntoView())}return!0}let f=i.type.spec.isolating||o>0&&c?null:je.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),m=p&&bd(p);if(m!=null&&m>=e.depth)return n&&n(t.tr.lift(p,m).scrollIntoView()),!0;if(d&&id(i,"start",!0)&&id(r,"end")){let b=r,y=[];for(;y.push(b),!b.isTextblock;)b=b.lastChild;let w=i,x=1;for(;!w.isTextblock;w=w.firstChild)x++;if(b.canReplace(b.childCount,b.childCount,w.content)){if(n){let _=J.empty;for(let M=y.length-1;M>=0;M--)_=J.from(y[M].copy(_));let T=t.tr.step(new fn(e.pos-y.length,e.pos+i.nodeSize,e.pos+x,e.pos+i.nodeSize-x,new ye(_,y.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function eI(t){return function(e,n){let o=e.selection,r=t<0?o.$from:o.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(n&&n(e.tr.setSelection(Re.create(e.doc,t<0?r.start(i):r.end(i)))),!0):!1}}const NG=eI(-1),DG=eI(1);function LG(t,e=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),l=s&&JL(s,t,e);return l?(o&&o(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function jO(t,e=null){return function(n,o){let r=!1;for(let i=0;i<n.selection.ranges.length&&!r;i++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(s,l,(c,d)=>{if(r)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)r=!0;else{let f=n.doc.resolve(d),p=f.index();r=f.parent.canReplaceWith(p,p+1,t)}})}if(!r)return!1;if(o){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[s];i.setBlockType(l,c,t,e)}o(i.scrollIntoView())}return!0}}function V_(...t){return function(e,n,o){for(let r=0;r<t.length;r++)if(t[r](e,n,o))return!0;return!1}}V_(P_,FB,qB);V_(P_,WB,ZB);V_(XB,YB,JB,AG);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function BG(t,e=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i);if(!s)return!1;let l=o?n.tr:null;return IG(l,s,t,e)?(o&&o(l.scrollIntoView()),!0):!1}}function IG(t,e,n,o=null){let r=!1,i=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=s.resolve(e.start-2);i=new pb(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new pb(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let l=JL(i,n,o,e);return l?(t&&jG(t,e,l,r,n),!0):!1}function jG(t,e,n,o,r){let i=J.empty;for(let f=n.length-1;f>=0;f--)i=J.from(n[f].type.create(n[f].attrs,i));t.step(new fn(e.start-(o?2:0),e.end,e.start,e.end,new ye(i,0,0),n.length,!0));let s=0;for(let f=0;f<n.length;f++)n[f].type==r&&(s=f+1);let l=n.length-s,c=e.start+n.length-(o?2:0),d=e.parent;for(let f=e.startIndex,p=e.endIndex,m=!0;f<p;f++,m=!1)!m&&As(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(f).nodeSize;return t}function PG(t){return function(e,n){let{$from:o,$to:r}=e.selection,i=o.blockRange(r,s=>s.childCount>0&&s.firstChild.type==t);return i?n?o.node(i.depth-1).type==t?$G(e,n,t,i):HG(e,n,i):!0:!1}}function $G(t,e,n,o){let r=t.tr,i=o.end,s=o.$to.end(o.depth);i<s&&(r.step(new fn(i-1,s,i,s,new ye(J.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new pb(r.doc.resolve(o.$from.pos),r.doc.resolve(s),o.depth));const l=bd(o);if(l==null)return!1;r.lift(o,l);let c=r.doc.resolve(r.mapping.map(i,-1)-1);return Cc(r.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&r.join(c.pos),e(r.scrollIntoView()),!0}function HG(t,e,n){let o=t.tr,r=n.parent;for(let b=n.end,y=n.endIndex-1,w=n.startIndex;y>w;y--)b-=r.child(y).nodeSize,o.delete(b-1,b+1);let i=o.doc.resolve(n.start),s=i.nodeAfter;if(o.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==r.childCount,d=i.node(-1),f=i.index(-1);if(!d.canReplace(f+(l?0:1),f+1,s.content.append(c?J.empty:J.from(r))))return!1;let p=i.pos,m=p+s.nodeSize;return o.step(new fn(p-(l?1:0),m+(c?1:0),p+1,m-1,new ye((l?J.empty:J.from(r.copy(J.empty))).append(c?J.empty:J.from(r.copy(J.empty))),l?0:1,c?0:1),l?0:1)),e(o.scrollIntoView()),!0}function zG(t){return function(e,n){let{$from:o,$to:r}=e.selection,i=o.blockRange(r,d=>d.childCount>0&&d.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let l=i.parent,c=l.child(s-1);if(c.type!=t)return!1;if(n){let d=c.lastChild&&c.lastChild.type==l.type,f=J.from(d?t.create():null),p=new ye(J.from(t.create(null,J.from(l.type.create(null,f)))),d?3:1,0),m=i.start,b=i.end;n(e.tr.step(new fn(m-(d?3:1),b,m,b,p,1,!0)).scrollIntoView())}return!0}}function o0(t){const{state:e,transaction:n}=t;let{selection:o}=n,{doc:r}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,i=n.storedMarks,n}}}class r0{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:o}=this,{view:r}=n,{tr:i}=o,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...f)=>{const p=c(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:o,editor:r,state:i}=this,{view:s}=r,l=[],c=!!e,d=e||i.tr,f=()=>(!c&&n&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(d),l.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(o).map(([m,b])=>[m,(...w)=>{const x=this.buildProps(d,n),_=b(...w)(x);return l.push(_),p}])),run:f};return p}createCan(e){const{rawCommands:n,state:o}=this,r=!1,i=e||o.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...f)=>d(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,n=!0){const{rawCommands:o,editor:r,state:i}=this,{view:s}=r,l={tr:e,editor:r,view:s,state:o0({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(o).map(([c,d])=>[c,(...f)=>d(...f)(l)]))}};return l}}class VG{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const o=this.callbacks[e];return o&&o.forEach(r=>r.apply(this,n)),this}off(e,n){const o=this.callbacks[e];return o&&(n?this.callbacks[e]=o.filter(r=>r!==n):delete this.callbacks[e]),this}once(e,n){const o=(...r)=>{this.off(e,o),n.apply(this,r)};return this.on(e,o)}removeAllListeners(){this.callbacks={}}}function Me(t,e,n){return t.config[e]===void 0&&t.parent?Me(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Me(t.parent,e,n):null}):t.config[e]}function i0(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),o=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:o}}function tI(t){const e=[],{nodeExtensions:n,markExtensions:o}=i0(t),r=[...n,...o],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage,extensions:r},c=Me(s,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([m,b])=>{e.push({type:p,name:m,attribute:{...i,...b}})})})})}),r.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},c=Me(s,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([f,p])=>{const m={...i,...p};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:s.name,name:f,attribute:m})})}),e}function jn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function lr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const o={...e};return Object.entries(n).forEach(([r,i])=>{if(!o[r]){o[r]=i;return}if(r==="class"){const l=i?String(i).split(" "):[],c=o[r]?o[r].split(" "):[],d=l.filter(f=>!c.includes(f));o[r]=[...c,...d].join(" ")}else if(r==="style"){const l=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],c=o[r]?o[r].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;c.forEach(f=>{const[p,m]=f.split(":").map(b=>b.trim());d.set(p,m)}),l.forEach(f=>{const[p,m]=f.split(":").map(b=>b.trim());d.set(p,m)}),o[r]=Array.from(d.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else o[r]=i}),o},{})}function xb(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,o)=>lr(n,o),{})}function nI(t){return typeof t=="function"}function ft(t,e=void 0,...n){return nI(t)?e?t.bind(e)(...n):t(...n):t}function UG(t={}){return Object.keys(t).length===0&&t.constructor===Object}function FG(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function PO(t,e){return"style"in t?t:{...t,getAttrs:n=>{const o=t.getAttrs?t.getAttrs(n):t.attrs;if(o===!1)return!1;const r=e.reduce((i,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):FG(n.getAttribute(s.name));return l==null?i:{...i,[s.name]:l}},{});return{...o,...r}}}}function $O(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&UG(n)?!1:n!=null))}function oI(t,e){var n;const o=tI(t),{nodeExtensions:r,markExtensions:i}=i0(t),s=(n=r.find(d=>Me(d,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(r.map(d=>{const f=o.filter(_=>_.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},m=t.reduce((_,T)=>{const M=Me(T,"extendNodeSchema",p);return{..._,...M?M(d):{}}},{}),b=$O({...m,content:ft(Me(d,"content",p)),marks:ft(Me(d,"marks",p)),group:ft(Me(d,"group",p)),inline:ft(Me(d,"inline",p)),atom:ft(Me(d,"atom",p)),selectable:ft(Me(d,"selectable",p)),draggable:ft(Me(d,"draggable",p)),code:ft(Me(d,"code",p)),whitespace:ft(Me(d,"whitespace",p)),linebreakReplacement:ft(Me(d,"linebreakReplacement",p)),defining:ft(Me(d,"defining",p)),isolating:ft(Me(d,"isolating",p)),attrs:Object.fromEntries(f.map(_=>{var T;return[_.name,{default:(T=_==null?void 0:_.attribute)===null||T===void 0?void 0:T.default}]}))}),y=ft(Me(d,"parseHTML",p));y&&(b.parseDOM=y.map(_=>PO(_,f)));const w=Me(d,"renderHTML",p);w&&(b.toDOM=_=>w({node:_,HTMLAttributes:xb(_,f)}));const x=Me(d,"renderText",p);return x&&(b.toText=x),[d.name,b]})),c=Object.fromEntries(i.map(d=>{const f=o.filter(x=>x.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},m=t.reduce((x,_)=>{const T=Me(_,"extendMarkSchema",p);return{...x,...T?T(d):{}}},{}),b=$O({...m,inclusive:ft(Me(d,"inclusive",p)),excludes:ft(Me(d,"excludes",p)),group:ft(Me(d,"group",p)),spanning:ft(Me(d,"spanning",p)),code:ft(Me(d,"code",p)),attrs:Object.fromEntries(f.map(x=>{var _;return[x.name,{default:(_=x==null?void 0:x.attribute)===null||_===void 0?void 0:_.default}]}))}),y=ft(Me(d,"parseHTML",p));y&&(b.parseDOM=y.map(x=>PO(x,f)));const w=Me(d,"renderHTML",p);return w&&(b.toDOM=x=>w({mark:x,HTMLAttributes:xb(x,f)})),[d.name,b]}));return new FL({topNode:s,nodes:l,marks:c})}function Xw(t,e){return e.nodes[t]||e.marks[t]||null}function HO(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function U_(t,e){const n=Us.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const GG=(t,e=500)=>{let n="";const o=t.parentOffset;return t.parent.nodesBetween(Math.max(0,o-e),o,(r,i,s,l)=>{var c,d;const f=((d=(c=r.type.spec).toText)===null||d===void 0?void 0:d.call(c,{node:r,pos:i,parent:s,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?f:f.slice(0,Math.max(0,o-i))}),n};function F_(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Wl{constructor(e){this.find=e.find,this.handler=e.handler}}const qG=(t,e)=>{if(F_(e))return e.exec(t);const n=e(t);if(!n)return null;const o=[n.text];return o.index=n.index,o.input=t,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o};function og(t){var e;const{editor:n,from:o,to:r,text:i,rules:s,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const d=c.state.doc.resolve(o);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(m=>m.type.spec.code))return!1;let f=!1;const p=GG(d)+i;return s.forEach(m=>{if(f)return;const b=qG(p,m.find);if(!b)return;const y=c.state.tr,w=o0({state:c.state,transaction:y}),x={from:o-(b[0].length-i.length),to:r},{commands:_,chain:T,can:M}=new r0({editor:n,state:w});m.handler({state:w,range:x,match:b,commands:_,chain:T,can:M})===null||!y.steps.length||(y.setMeta(l,{transform:y,from:o,to:r,text:i}),c.dispatch(y),f=!0)}),f}function KG(t){const{editor:e,rules:n}=t,o=new Qe({state:{init(){return null},apply(r,i,s){const l=r.getMeta(o);if(l)return l;const c=r.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=U_(J.from(f),s.schema);const{from:p}=c,m=p+f.length;og({editor:e,from:p,to:m,text:f,rules:n,plugin:o})}),r.selectionSet||r.docChanged?null:i}},props:{handleTextInput(r,i,s,l){return og({editor:e,from:i,to:s,text:l,rules:n,plugin:o})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&og({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:o})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:s}=r.state.selection;return s?og({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:o}):!1}},isInputRules:!0});return o}function WG(t){return Object.prototype.toString.call(t).slice(8,-1)}function rg(t){return WG(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function s0(t,e){const n={...t};return rg(t)&&rg(e)&&Object.keys(e).forEach(o=>{rg(e[o])&&rg(t[o])?n[o]=s0(t[o],e[o]):n[o]=e[o]}),n}class zo{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ft(Me(this,"addOptions",{name:this.name}))),this.storage=ft(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zo(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>s0(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new zo(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ft(Me(n,"addOptions",{name:n.name})),n.storage=ft(Me(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:o}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const s=r.marks();if(!!!s.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const c=s.find(d=>(d==null?void 0:d.type.name)===n.name);return c&&o.removeStoredMark(c),o.insertText(" ",r.pos),e.view.dispatch(o),!0}return!1}}function ZG(t){return typeof t=="number"}class XG{constructor(e){this.find=e.find,this.handler=e.handler}}const YG=(t,e,n)=>{if(F_(e))return[...t.matchAll(e)];const o=e(t,n);return o?o.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function JG(t){const{editor:e,state:n,from:o,to:r,rule:i,pasteEvent:s,dropEvent:l}=t,{commands:c,chain:d,can:f}=new r0({editor:e,state:n}),p=[];return n.doc.nodesBetween(o,r,(b,y)=>{if(!b.isTextblock||b.type.spec.code)return;const w=Math.max(o,y),x=Math.min(r,y+b.content.size),_=b.textBetween(w-y,x-y,void 0,"");YG(_,i.find,s).forEach(M=>{if(M.index===void 0)return;const R=w+M.index+1,O=R+M[0].length,B={from:n.tr.mapping.map(R),to:n.tr.mapping.map(O)},I=i.handler({state:n,range:B,match:M,commands:c,chain:d,can:f,pasteEvent:s,dropEvent:l});p.push(I)})}),p.every(b=>b!==null)}let ig=null;const QG=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function eq(t){const{editor:e,rules:n}=t;let o=null,r=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:p,to:m,rule:b,pasteEvt:y})=>{const w=f.tr,x=o0({state:f,transaction:w});if(!(!JG({editor:e,state:x,from:Math.max(p-1,0),to:m.b-1,rule:b,pasteEvent:y,dropEvent:l})||!w.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(f=>new Qe({view(p){const m=y=>{var w;o=!((w=p.dom.parentElement)===null||w===void 0)&&w.contains(y.target)?p.dom.parentElement:null,o&&(ig=e)},b=()=>{ig&&(ig=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(p,m)=>{if(i=o===p.dom.parentElement,l=m,!i){const b=ig;b&&setTimeout(()=>{const y=b.state.selection;y&&b.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(p,m)=>{var b;const y=(b=m.clipboardData)===null||b===void 0?void 0:b.getData("text/html");return s=m,r=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(p,m,b)=>{const y=p[0],w=y.getMeta("uiEvent")==="paste"&&!r,x=y.getMeta("uiEvent")==="drop"&&!i,_=y.getMeta("applyPasteRules"),T=!!_;if(!w&&!x&&!T)return;if(T){let{text:O}=_;typeof O=="string"?O=O:O=U_(J.from(O),b.schema);const{from:B}=_,I=B+O.length,H=QG(O);return c({rule:f,state:b,from:B,to:{b:I},pasteEvt:H})}const M=m.doc.content.findDiffStart(b.doc.content),R=m.doc.content.findDiffEnd(b.doc.content);if(!(!ZG(M)||!R||M===R.b))return c({rule:f,state:b,from:M,to:R,pasteEvt:s})}}))}function tq(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return Array.from(new Set(e))}class Ga{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Ga.resolve(e),this.schema=oI(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Ga.sort(Ga.flatten(e)),o=tq(n.map(r=>r.name));return o.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${o.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const o={name:n.name,options:n.options,storage:n.storage},r=Me(n,"addExtensions",o);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((o,r)=>{const i=Me(o,"priority")||100,s=Me(r,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Xw(n.name,this.schema)},r=Me(n,"addCommands",o);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=Ga.sort([...this.extensions].reverse()),o=[],r=[],i=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:Xw(s.name,this.schema)},c=[],d=Me(s,"addKeyboardShortcuts",l);let f={};if(s.type==="mark"&&Me(s,"exitable",l)&&(f.ArrowRight=()=>zo.handleExit({editor:e,mark:s})),d){const w=Object.fromEntries(Object.entries(d()).map(([x,_])=>[x,()=>_({editor:e})]));f={...f,...w}}const p=kG(f);c.push(p);const m=Me(s,"addInputRules",l);HO(s,e.options.enableInputRules)&&m&&o.push(...m());const b=Me(s,"addPasteRules",l);HO(s,e.options.enablePasteRules)&&b&&r.push(...b());const y=Me(s,"addProseMirrorPlugins",l);if(y){const w=y();c.push(...w)}return c}).flat();return[KG({editor:e,rules:o}),...eq({editor:e,rules:r}),...i]}get attributes(){return tI(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=i0(this.extensions);return Object.fromEntries(n.filter(o=>!!Me(o,"addNodeView")).map(o=>{const r=this.attributes.filter(c=>c.type===o.name),i={name:o.name,options:o.options,storage:o.storage,editor:e,type:jn(o.name,this.schema)},s=Me(o,"addNodeView",i);if(!s)return[];const l=(c,d,f,p,m)=>{const b=xb(c,r);return s()({node:c,view:d,getPos:f,decorations:p,innerDecorations:m,editor:e,extension:o,HTMLAttributes:b})};return[o.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const o={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Xw(e.name,this.schema)};e.type==="mark"&&(!((n=ft(Me(e,"keepOnSplit",o)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=Me(e,"onBeforeCreate",o),i=Me(e,"onCreate",o),s=Me(e,"onUpdate",o),l=Me(e,"onSelectionUpdate",o),c=Me(e,"onTransaction",o),d=Me(e,"onFocus",o),f=Me(e,"onBlur",o),p=Me(e,"onDestroy",o);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}}class Mt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ft(Me(this,"addOptions",{name:this.name}))),this.storage=ft(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Mt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>s0(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Mt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ft(Me(n,"addOptions",{name:n.name})),n.storage=ft(Me(n,"addStorage",{name:n.name,options:n.options})),n}}function rI(t,e,n){const{from:o,to:r}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let l="";return t.nodesBetween(o,r,(c,d,f,p)=>{var m;c.isBlock&&d>o&&(l+=i);const b=s==null?void 0:s[c.type.name];if(b)return f&&(l+=b({node:c,pos:d,parent:f,index:p,range:e})),!1;c.isText&&(l+=(m=c==null?void 0:c.text)===null||m===void 0?void 0:m.slice(Math.max(o,d)-d,r-d))}),l}function iI(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const sI=Mt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Qe({key:new ht("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:o,selection:r}=e,{ranges:i}=r,s=Math.min(...i.map(f=>f.$from.pos)),l=Math.max(...i.map(f=>f.$to.pos)),c=iI(n);return rI(o,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),nq=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),oq=(t=!1)=>({commands:e})=>e.setContent("",t),rq=()=>({state:t,tr:e,dispatch:n})=>{const{selection:o}=e,{ranges:r}=o;return n&&r.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:f}=e,p=d.resolve(f.map(c)),m=d.resolve(f.map(c+l.nodeSize)),b=p.blockRange(m);if(!b)return;const y=bd(b);if(l.type.isTextblock){const{defaultType:w}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(b.start,w)}(y||y===0)&&e.lift(b,y)})}),!0},iq=t=>e=>t(e),sq=()=>({state:t,dispatch:e})=>YB(t,e),lq=(t,e)=>({editor:n,tr:o})=>{const{state:r}=n,i=r.doc.slice(t.from,t.to);o.deleteRange(t.from,t.to);const s=o.mapping.map(e);return o.insert(s,i.content),o.setSelection(new Re(o.doc.resolve(s-1))),!0},aq=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,o=n.$anchor.node();if(o.content.size>0)return!1;const r=t.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===o.type){if(e){const l=r.before(i),c=r.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1},cq=t=>({tr:e,state:n,dispatch:o})=>{const r=jn(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r){if(o){const c=i.before(s),d=i.after(s);e.delete(c,d).scrollIntoView()}return!0}return!1},uq=t=>({tr:e,dispatch:n})=>{const{from:o,to:r}=t;return n&&e.delete(o,r),!0},dq=()=>({state:t,dispatch:e})=>P_(t,e),fq=()=>({commands:t})=>t.keyboardShortcut("Enter"),hq=()=>({state:t,dispatch:e})=>TG(t,e);function Cb(t,e,n={strict:!0}){const o=Object.keys(e);return o.length?o.every(r=>n.strict?e[r]===t[r]:F_(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function lI(t,e,n={}){return t.find(o=>o.type===e&&Cb(Object.fromEntries(Object.keys(n).map(r=>[r,o.attrs[r]])),n))}function zO(t,e,n={}){return!!lI(t,e,n)}function jh(t,e,n){var o;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(f=>f.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(f=>f.type===e)||(n=n||((o=r.node.marks[0])===null||o===void 0?void 0:o.attrs),!lI([...r.node.marks],e,n)))return;let s=r.index,l=t.start()+r.offset,c=s+1,d=l+r.node.nodeSize;for(;s>0&&zO([...t.parent.child(s-1).marks],e,n);)s-=1,l-=t.parent.child(s).nodeSize;for(;c<t.parent.childCount&&zO([...t.parent.child(c).marks],e,n);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function sa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const pq=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const i=sa(t,o.schema),{doc:s,selection:l}=n,{$from:c,from:d,to:f}=l;if(r){const p=jh(c,i,e);if(p&&p.from<=d&&p.to>=f){const m=Re.create(s,p.from,p.to);n.setSelection(m)}}return!0},mq=t=>e=>{const n=typeof t=="function"?t(e):t;for(let o=0;o<n.length;o+=1)if(n[o](e))return!0;return!1};function l0(t){return t instanceof Re}function Ss(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function aI(t,e=null){if(!e)return null;const n=je.atStart(t),o=je.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return o;const r=n.from,i=o.to;return e==="all"?Re.create(t,Ss(0,r,i),Ss(t.content.size,r,i)):Re.create(t,Ss(e,r,i),Ss(e,r,i))}function cI(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function a0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const gq=(t=null,e={})=>({editor:n,view:o,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{(a0()||cI())&&o.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(o.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(o.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!l0(n.state.selection))return s(),!0;const l=aI(r.doc,t)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||r.setSelection(l),c&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},bq=(t,e)=>n=>t.every((o,r)=>e(o,{...n,index:r})),yq=(t,e)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),uI=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const o=e[n];o.nodeType===3&&o.nodeValue&&/^(\n\s\s|\n)$/.test(o.nodeValue)?t.removeChild(o):o.nodeType===1&&uI(o)}return t};function sg(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return uI(n)}function _b(t,e,n){if(t instanceof Ms||t instanceof J)return t;n={slice:!0,parseOptions:{},...n};const o=typeof t=="object"&&t!==null,r=typeof t=="string";if(o)try{if(Array.isArray(t)&&t.length>0)return J.fromArray(t.map(l=>e.nodeFromJSON(l)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),_b("",e,n)}if(r){if(n.errorOnInvalidContent){let s=!1,l="";const c=new FL({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(s=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?nc.fromSchema(c).parseSlice(sg(t),n.parseOptions):nc.fromSchema(c).parse(sg(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=nc.fromSchema(e);return n.slice?i.parseSlice(sg(t),n.parseOptions).content:i.parse(sg(t),n.parseOptions)}return _b("",e,n)}function dI(t,e,n){const o=t.steps.length-1;if(o<e)return;const r=t.steps[o];if(!(r instanceof Cn||r instanceof fn))return;const i=t.mapping.maps[o];let s=0;i.forEach((l,c,d,f)=>{s===0&&(s=f)}),t.setSelection(je.near(t.doc.resolve(s),n))}const vq=t=>!("type"in t),wq=(t,e,n)=>({tr:o,dispatch:r,editor:i})=>{var s;if(r){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=_b(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:i.options.enableContentCheck})}catch(y){return i.emit("contentError",{editor:i,error:y,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:c,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((vq(l)?l:[l]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),c===d&&p){const{parent:y}=o.doc.resolve(c);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(c-=1,d+=1)}let b;if(f){if(Array.isArray(e))b=e.map(y=>y.text||"").join("");else if(e instanceof J){let y="";e.forEach(w=>{w.text&&(y+=w.text)}),b=y}else typeof e=="object"&&e&&e.text?b=e.text:b=e;o.insertText(b,c,d)}else b=l,o.replaceWith(c,d,b);n.updateSelection&&dI(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:c,text:b}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:c,text:b})}return!0},kq=()=>({state:t,dispatch:e})=>_G(t,e),xq=()=>({state:t,dispatch:e})=>SG(t,e),Cq=()=>({state:t,dispatch:e})=>FB(t,e),_q=()=>({state:t,dispatch:e})=>WB(t,e),Sq=()=>({state:t,dispatch:e,tr:n})=>{try{const o=Yy(t.doc,t.selection.$from.pos,-1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},Eq=()=>({state:t,dispatch:e,tr:n})=>{try{const o=Yy(t.doc,t.selection.$from.pos,1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},Tq=()=>({state:t,dispatch:e})=>xG(t,e),Mq=()=>({state:t,dispatch:e})=>CG(t,e);function fI(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Aq(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let o,r,i,s;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))o=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))a0()||fI()?s=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return o&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const Rq=t=>({editor:e,view:n,tr:o,dispatch:r})=>{const i=Aq(t).split(/-(?!$)/),s=i.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return c==null||c.steps.forEach(d=>{const f=d.map(o.mapping);f&&r&&o.maybeStep(f)}),!0};function Ph(t,e,n={}){const{from:o,to:r,empty:i}=t.selection,s=e?jn(e,t.schema):null,l=[];t.doc.nodesBetween(o,r,(p,m)=>{if(p.isText)return;const b=Math.max(o,m),y=Math.min(r,m+p.nodeSize);l.push({node:p,from:b,to:y})});const c=r-o,d=l.filter(p=>s?s.name===p.node.type.name:!0).filter(p=>Cb(p.node.attrs,n,{strict:!1}));return i?!!d.length:d.reduce((p,m)=>p+m.to-m.from,0)>=c}const Oq=(t,e={})=>({state:n,dispatch:o})=>{const r=jn(t,n.schema);return Ph(n,r,e)?EG(n,o):!1},Nq=()=>({state:t,dispatch:e})=>JB(t,e),Dq=t=>({state:e,dispatch:n})=>{const o=jn(t,e.schema);return PG(o)(e,n)},Lq=()=>({state:t,dispatch:e})=>XB(t,e);function c0(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function VO(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((o,r)=>(n.includes(r)||(o[r]=t[r]),o),{})}const Bq=(t,e)=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const l=c0(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(i=jn(t,o.schema)),l==="mark"&&(s=sa(t,o.schema)),r&&n.selection.ranges.forEach(c=>{o.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,f)=>{i&&i===d.type&&n.setNodeMarkup(f,void 0,VO(d.attrs,e)),s&&d.marks.length&&d.marks.forEach(p=>{s===p.type&&n.addMark(f,f+d.nodeSize,s.create(VO(p.attrs,e)))})})}),!0):!1},Iq=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),jq=()=>({tr:t,dispatch:e})=>{if(e){const n=new Io(t.doc);t.setSelection(n)}return!0},Pq=()=>({state:t,dispatch:e})=>qB(t,e),$q=()=>({state:t,dispatch:e})=>ZB(t,e),Hq=()=>({state:t,dispatch:e})=>RG(t,e),zq=()=>({state:t,dispatch:e})=>DG(t,e),Vq=()=>({state:t,dispatch:e})=>NG(t,e);function Sb(t,e,n={},o={}){return _b(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:o.errorOnInvalidContent})}const Uq=(t,e=!1,n={},o={})=>({editor:r,tr:i,dispatch:s,commands:l})=>{var c,d;const{doc:f}=i;if(n.preserveWhitespace!=="full"){const p=Sb(t,r.schema,n,{errorOnInvalidContent:(c=o.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck});return s&&i.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!e),!0}return s&&i.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:f.content.size},t,{parseOptions:n,errorOnInvalidContent:(d=o.errorOnInvalidContent)!==null&&d!==void 0?d:r.options.enableContentCheck})};function hI(t,e){const n=sa(e,t.schema),{from:o,to:r,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(o,r,c=>{s.push(...c.marks)});const l=s.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function pI(t,e){const n=new E_(t);return e.forEach(o=>{o.steps.forEach(r=>{n.step(r)})}),n}function Fq(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function UO(t,e){const n=[];return t.descendants((o,r)=>{e(o)&&n.push({node:o,pos:r})}),n}function mI(t,e,n){const o=[];return t.nodesBetween(e.from,e.to,(r,i)=>{n(r)&&o.push({node:r,pos:i})}),o}function Gq(t,e){for(let n=t.depth;n>0;n-=1){const o=t.node(n);if(e(o))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:o}}}function u0(t){return e=>Gq(e.$from,t)}function qq(t,e){const n=Ga.resolve(t);return oI(n,e)}function Kq(t,e){const n={from:0,to:t.content.size};return rI(t,n,e)}function Wq(t,e){const n=jn(e,t.schema),{from:o,to:r}=t.selection,i=[];t.doc.nodesBetween(o,r,l=>{i.push(l)});const s=i.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function gI(t,e){const n=c0(typeof e=="string"?e:e.name,t.schema);return n==="node"?Wq(t,e):n==="mark"?hI(t,e):{}}function Zq(t,e=JSON.stringify){const n={};return t.filter(o=>{const r=e(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function Xq(t){const e=Zq(t);return e.length===1?e:e.filter((n,o)=>!e.filter((i,s)=>s!==o).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function bI(t){const{mapping:e,steps:n}=t,o=[];return e.maps.forEach((r,i)=>{const s=[];if(r.ranges.length)r.forEach((l,c)=>{s.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;s.push({from:l,to:c})}s.forEach(({from:l,to:c})=>{const d=e.slice(i).map(l,-1),f=e.slice(i).map(c),p=e.invert().map(d,-1),m=e.invert().map(f);o.push({oldRange:{from:p,to:m},newRange:{from:d,to:f}})})}),Xq(o)}function G_(t,e,n){const o=[];return t===e?n.resolve(t).marks().forEach(r=>{const i=n.resolve(t),s=jh(i,r.type);s&&o.push({mark:r,...s})}):n.nodesBetween(t,e,(r,i)=>{!r||(r==null?void 0:r.nodeSize)===void 0||o.push(...r.marks.map(s=>({from:i,to:i+r.nodeSize,mark:s})))}),o}function $g(t,e,n){return Object.fromEntries(Object.entries(n).filter(([o])=>{const r=t.find(i=>i.type===e&&i.name===o);return r?r.attribute.keepOnSplit:!1}))}function $x(t,e,n={}){const{empty:o,ranges:r}=t.selection,i=e?sa(e,t.schema):null;if(o)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>i?i.name===p.type.name:!0).find(p=>Cb(p.attrs,n,{strict:!1}));let s=0;const l=[];if(r.forEach(({$from:p,$to:m})=>{const b=p.pos,y=m.pos;t.doc.nodesBetween(b,y,(w,x)=>{if(!w.isText&&!w.marks.length)return;const _=Math.max(b,x),T=Math.min(y,x+w.nodeSize),M=T-_;s+=M,l.push(...w.marks.map(R=>({mark:R,from:_,to:T})))})}),s===0)return!1;const c=l.filter(p=>i?i.name===p.mark.type.name:!0).filter(p=>Cb(p.mark.attrs,n,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),d=l.filter(p=>i?p.mark.type!==i&&p.mark.type.excludes(i):!0).reduce((p,m)=>p+m.to-m.from,0);return(c>0?c+d:c)>=s}function Yq(t,e,n={}){if(!e)return Ph(t,null,n)||$x(t,null,n);const o=c0(e,t.schema);return o==="node"?Ph(t,e,n):o==="mark"?$x(t,e,n):!1}function FO(t,e){const{nodeExtensions:n}=i0(e),o=n.find(s=>s.name===t);if(!o)return!1;const r={name:o.name,options:o.options,storage:o.storage},i=ft(Me(o,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function q_(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var o;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((o=t.text)!==null&&o!==void 0?o:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(i=>{r!==!1&&(q_(i,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function Hx(t){return t instanceof Oe}function Eb(t,e,n){const r=t.state.doc.content.size,i=Ss(e,0,r),s=Ss(n,0,r),l=t.coordsAtPos(i),c=t.coordsAtPos(s,-1),d=Math.min(l.top,c.top),f=Math.max(l.bottom,c.bottom),p=Math.min(l.left,c.left),m=Math.max(l.right,c.right),b=m-p,y=f-d,_={top:d,bottom:f,left:p,right:m,width:b,height:y,x:p,y:d};return{..._,toJSON:()=>_}}function Jq(t,e,n){var o;const{selection:r}=e;let i=null;if(l0(r)&&(i=r.$cursor),i){const l=(o=t.storedMarks)!==null&&o!==void 0?o:i.marks();return!!n.isInSet(l)||!l.some(c=>c.type.excludes(n))}const{ranges:s}=r;return s.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(f,p,m)=>{if(d)return!1;if(f.isInline){const b=!m||m.type.allowsMarkType(n),y=!!n.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(n));d=b&&y}return!d}),d})}const Qq=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const{selection:i}=n,{empty:s,ranges:l}=i,c=sa(t,o.schema);if(r)if(s){const d=hI(o,c);n.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;o.doc.nodesBetween(f,p,(m,b)=>{const y=Math.max(b,f),w=Math.min(b+m.nodeSize,p);m.marks.find(_=>_.type===c)?m.marks.forEach(_=>{c===_.type&&n.addMark(y,w,c.create({..._.attrs,...e}))}):n.addMark(y,w,c.create(e))})});return Jq(o,n,c)},eK=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),tK=(t,e={})=>({state:n,dispatch:o,chain:r})=>{const i=jn(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?r().command(({commands:l})=>jO(i,{...s,...e})(n)?!0:l.clearNodes()).command(({state:l})=>jO(i,{...s,...e})(l,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},nK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,r=Ss(t,0,o.content.size),i=Oe.create(o,r);e.setSelection(i)}return!0},oK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t,s=Re.atStart(o).from,l=Re.atEnd(o).to,c=Ss(r,s,l),d=Ss(i,s,l),f=Re.create(o,c,d);e.setSelection(f)}return!0},rK=t=>({state:e,dispatch:n})=>{const o=jn(t,e.schema);return zG(o)(e,n)};function GO(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const o=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(o)}}const iK=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:o,editor:r})=>{const{selection:i,doc:s}=e,{$from:l,$to:c}=i,d=r.extensionManager.attributes,f=$g(d,l.node().type.name,l.node().attrs);if(i instanceof Oe&&i.node.isBlock)return!l.parentOffset||!As(s,l.pos)?!1:(o&&(t&&GO(n,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=c.parentOffset===c.parent.content.size,m=l.depth===0?void 0:Fq(l.node(-1).contentMatchAt(l.indexAfter(-1)));let b=p&&m?[{type:m,attrs:f}]:void 0,y=As(e.doc,e.mapping.map(l.pos),1,b);if(!b&&!y&&As(e.doc,e.mapping.map(l.pos),1,m?[{type:m}]:void 0)&&(y=!0,b=m?[{type:m,attrs:f}]:void 0),o){if(y&&(i instanceof Re&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,b),m&&!p&&!l.parentOffset&&l.parent.type!==m)){const w=e.mapping.map(l.before()),x=e.doc.resolve(w);l.node(-1).canReplaceWith(x.index(),x.index()+1,m)&&e.setNodeMarkup(e.mapping.map(l.before()),m)}t&&GO(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return y},sK=(t,e={})=>({tr:n,state:o,dispatch:r,editor:i})=>{var s;const l=jn(t,o.schema),{$from:c,$to:d}=o.selection,f=o.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(d))return!1;const p=c.node(-1);if(p.type!==l)return!1;const m=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(r){let _=J.empty;const T=c.index(-1)?1:c.index(-2)?2:3;for(let H=c.depth-T;H>=c.depth-3;H-=1)_=J.from(c.node(H).copy(_));const M=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,R={...$g(m,c.node().type.name,c.node().attrs),...e},O=((s=l.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(R))||void 0;_=_.append(J.from(l.createAndFill(null,O)||void 0));const B=c.before(c.depth-(T-1));n.replace(B,c.after(-M),new ye(_,4-T,0));let I=-1;n.doc.nodesBetween(B,n.doc.content.size,(H,q)=>{if(I>-1)return!1;H.isTextblock&&H.content.size===0&&(I=q+1)}),I>-1&&n.setSelection(Re.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const b=d.pos===c.end()?p.contentMatchAt(0).defaultType:null,y={...$g(m,p.type.name,p.attrs),...e},w={...$g(m,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,d.pos);const x=b?[{type:l,attrs:y},{type:b,attrs:w}]:[{type:l,attrs:y}];if(!As(n.doc,c.pos,2))return!1;if(r){const{selection:_,storedMarks:T}=o,{splittableMarks:M}=i.extensionManager,R=T||_.$to.parentOffset&&_.$from.marks();if(n.split(c.pos,2,x).scrollIntoView(),!R||!r)return!0;const O=R.filter(B=>M.includes(B.type.name));n.ensureMarks(O)}return!0},Yw=(t,e)=>{const n=u0(s=>s.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&Cc(t.doc,n.pos)&&t.join(n.pos),!0},Jw=(t,e)=>{const n=u0(s=>s.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(n.start).after(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&Cc(t.doc,o)&&t.join(o),!0},lK=(t,e,n,o={})=>({editor:r,tr:i,state:s,dispatch:l,chain:c,commands:d,can:f})=>{const{extensions:p,splittableMarks:m}=r.extensionManager,b=jn(t,s.schema),y=jn(e,s.schema),{selection:w,storedMarks:x}=s,{$from:_,$to:T}=w,M=_.blockRange(T),R=x||w.$to.parentOffset&&w.$from.marks();if(!M)return!1;const O=u0(B=>FO(B.type.name,p))(w);if(M.depth>=1&&O&&M.depth-O.depth<=1){if(O.node.type===b)return d.liftListItem(y);if(FO(O.node.type.name,p)&&b.validContent(O.node.content)&&l)return c().command(()=>(i.setNodeMarkup(O.pos,b),!0)).command(()=>Yw(i,b)).command(()=>Jw(i,b)).run()}return!n||!R||!l?c().command(()=>f().wrapInList(b,o)?!0:d.clearNodes()).wrapInList(b,o).command(()=>Yw(i,b)).command(()=>Jw(i,b)).run():c().command(()=>{const B=f().wrapInList(b,o),I=R.filter(H=>m.includes(H.type.name));return i.ensureMarks(I),B?!0:d.clearNodes()}).wrapInList(b,o).command(()=>Yw(i,b)).command(()=>Jw(i,b)).run()},aK=(t,e={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,s=sa(t,o.schema);return $x(o,s,e)?r.unsetMark(s,{extendEmptyMarkRange:i}):r.setMark(s,e)},cK=(t,e,n={})=>({state:o,commands:r})=>{const i=jn(t,o.schema),s=jn(e,o.schema),l=Ph(o,i,n);let c;return o.selection.$anchor.sameParent(o.selection.$head)&&(c=o.selection.$anchor.parent.attrs),l?r.setNode(s,c):r.setNode(i,{...c,...n})},uK=(t,e={})=>({state:n,commands:o})=>{const r=jn(t,n.schema);return Ph(n,r,e)?o.lift(r):o.wrapIn(r,e)},dK=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let i;if(r.spec.isInputRules&&(i=r.getState(t))){if(e){const s=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)s.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else s.delete(i.from,i.to)}return!0}}return!1},fK=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:o,ranges:r}=n;return o||e&&r.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},hK=(t,e={})=>({tr:n,state:o,dispatch:r})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,c=sa(t,o.schema),{$from:d,empty:f,ranges:p}=l;if(!r)return!0;if(f&&s){let{from:m,to:b}=l;const y=(i=d.marks().find(x=>x.type===c))===null||i===void 0?void 0:i.attrs,w=jh(d,c,y);w&&(m=w.from,b=w.to),n.removeMark(m,b,c)}else p.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,c)});return n.removeStoredMark(c),!0},pK=(t,e={})=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const l=c0(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(i=jn(t,o.schema)),l==="mark"&&(s=sa(t,o.schema)),r&&n.selection.ranges.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;let p,m,b,y;n.selection.empty?o.doc.nodesBetween(d,f,(w,x)=>{i&&i===w.type&&(b=Math.max(x,d),y=Math.min(x+w.nodeSize,f),p=x,m=w)}):o.doc.nodesBetween(d,f,(w,x)=>{x<d&&i&&i===w.type&&(b=Math.max(x,d),y=Math.min(x+w.nodeSize,f),p=x,m=w),x>=d&&x<=f&&(i&&i===w.type&&n.setNodeMarkup(x,void 0,{...w.attrs,...e}),s&&w.marks.length&&w.marks.forEach(_=>{if(s===_.type){const T=Math.max(x,d),M=Math.min(x+w.nodeSize,f);n.addMark(T,M,s.create({..._.attrs,...e}))}}))}),m&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...m.attrs,...e}),s&&m.marks.length&&m.marks.forEach(w=>{s===w.type&&n.addMark(b,y,s.create({...w.attrs,...e}))}))}),!0):!1},mK=(t,e={})=>({state:n,dispatch:o})=>{const r=jn(t,n.schema);return LG(r,e)(n,o)},gK=(t,e={})=>({state:n,dispatch:o})=>{const r=jn(t,n.schema);return BG(r,e)(n,o)};var bK=Object.freeze({__proto__:null,blur:nq,clearContent:oq,clearNodes:rq,command:iq,createParagraphNear:sq,cut:lq,deleteCurrentNode:aq,deleteNode:cq,deleteRange:uq,deleteSelection:dq,enter:fq,exitCode:hq,extendMarkRange:pq,first:mq,focus:gq,forEach:bq,insertContent:yq,insertContentAt:wq,joinBackward:Cq,joinDown:xq,joinForward:_q,joinItemBackward:Sq,joinItemForward:Eq,joinTextblockBackward:Tq,joinTextblockForward:Mq,joinUp:kq,keyboardShortcut:Rq,lift:Oq,liftEmptyBlock:Nq,liftListItem:Dq,newlineInCode:Lq,resetAttributes:Bq,scrollIntoView:Iq,selectAll:jq,selectNodeBackward:Pq,selectNodeForward:$q,selectParentNode:Hq,selectTextblockEnd:zq,selectTextblockStart:Vq,setContent:Uq,setMark:Qq,setMeta:eK,setNode:tK,setNodeSelection:nK,setTextSelection:oK,sinkListItem:rK,splitBlock:iK,splitListItem:sK,toggleList:lK,toggleMark:aK,toggleNode:cK,toggleWrap:uK,undoInputRule:dK,unsetAllMarks:fK,unsetMark:hK,updateAttributes:pK,wrapIn:mK,wrapInList:gK});const yI=Mt.create({name:"commands",addCommands(){return{...bK}}}),vI=Mt.create({name:"drop",addProseMirrorPlugins(){return[new Qe({key:new ht("tiptapDrop"),props:{handleDrop:(t,e,n,o)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:o})}}})]}}),wI=Mt.create({name:"editable",addProseMirrorPlugins(){return[new Qe({key:new ht("editable"),props:{editable:()=>this.editor.options.editable}})]}}),kI=new ht("focusEvents"),xI=Mt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Qe({key:kI,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const o=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1},blur:(e,n)=>{t.isFocused=!1;const o=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1}}}})]}}),CI=Mt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:f,$anchor:p}=c,{pos:m,parent:b}=p,y=p.parent.isTextblock&&m>0?l.doc.resolve(m-1):p,w=y.parent.type.spec.isolating,x=p.pos-p.parentOffset,_=w&&y.parent.childCount===1?x===p.pos:je.atStart(d).from===m;return!f||!b.type.isTextblock||b.textContent.length||!_||_&&p.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),o={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...o},i={...o,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return a0()||fI()?i:r},addProseMirrorPlugins(){return[new Qe({key:new ht("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const o=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),r=t.some(w=>w.getMeta("preventClearDocument"));if(!o||r)return;const{empty:i,from:s,to:l}=e.selection,c=je.atStart(e.doc).from,d=je.atEnd(e.doc).to;if(i||!(s===c&&l===d)||!q_(n.doc))return;const m=n.tr,b=o0({state:n,transaction:m}),{commands:y}=new r0({editor:this.editor,state:b});if(y.clearNodes(),!!m.steps.length)return m}})]}}),_I=Mt.create({name:"paste",addProseMirrorPlugins(){return[new Qe({key:new ht("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),SI=Mt.create({name:"tabindex",addProseMirrorPlugins(){return[new Qe({key:new ht("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Pf=Object.freeze({__proto__:null,ClipboardTextSerializer:sI,Commands:yI,Drop:vI,Editable:wI,FocusEvents:xI,Keymap:CI,Paste:_I,Tabindex:SI,focusEventsPluginKey:kI});class Pa{get name(){return this.node.type.name}constructor(e,n,o=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=o,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,o=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,o=this.to-1}this.editor.commands.insertContentAt({from:n,to:o},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Pa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Pa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Pa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,o)=>{const r=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+o+(i?0:1),l=this.resolvedPos.doc.resolve(s);if(!r&&l.depth<=this.depth)return;const c=new Pa(l,this.editor,r,r?n:null);r&&(c.actualDepth=this.depth+1),e.push(new Pa(l,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let o=null,r=this.parent;for(;r&&!o;){if(r.node.type.name===e)if(Object.keys(n).length>0){const i=r.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const c=s[l];if(i[c]!==n[c])break}}else o=r;r=r.parent}return o}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},o=!1){let r=[];if(!this.children||this.children.length===0)return r;const i=Object.keys(n);return this.children.forEach(s=>{o&&r.length>0||(s.node.type.name===e&&i.every(c=>n[c]===s.node.attrs[c])&&r.push(s),!(o&&r.length>0)&&(r=r.concat(s.querySelectorAll(e,n,o))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const yK=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function vK(t,e,n){const o=document.querySelector("style[data-tiptap-style]");if(o!==null)return o;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class wK extends VG{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:o,moved:r})=>this.options.onDrop(n,o,r)),this.on("paste",({event:n,slice:o})=>this.options.onPaste(n,o)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=vK(yK,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const o=nI(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let o=n;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;o=n.filter(l=>!l.key.startsWith(s))}),n.length===o.length)return;const r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[wI,sI.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),yI,xI,CI,SI,vI,_I].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ga(r,this)}createCommandManager(){this.commandManager=new r0({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=Sb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=Sb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const o=aI(n,this.options.autofocus);this.view=new VB(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Va.create({doc:n,selection:o||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),o=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),o&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return gI(this.state,e)}isActive(e,n){const o=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return Yq(this.state,o,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return U_(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:o={}}=e||{};return Kq(this.state.doc,{blockSeparator:n,textSerializers:{...iI(this.schema),...o}})}get isEmpty(){return q_(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelector(e,n))||null}$nodes(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Pa(n,this)}get $doc(){return this.$pos(0)}}function sd(t){return new Wl({find:t.find,handler:({state:e,range:n,match:o})=>{const r=ft(t.getAttributes,void 0,o);if(r===!1||r===null)return null;const{tr:i}=e,s=o[o.length-1],l=o[0];if(s){const c=l.search(/\S/),d=n.from+l.indexOf(s),f=d+s.length;if(G_(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(w=>w===t.type&&w!==b.mark.type)).filter(b=>b.to>d).length)return null;f<n.to&&i.delete(f,n.to),d>n.from&&i.delete(n.from+c,d);const m=n.from+c+s.length;i.addMark(n.from+c,m,t.type.create(r||{})),i.removeStoredMark(t.type)}}})}let Pi=class zx{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ft(Me(this,"addOptions",{name:this.name}))),this.storage=ft(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zx(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>s0(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new zx(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ft(Me(n,"addOptions",{name:n.name})),n.storage=ft(Me(n,"addStorage",{name:n.name,options:n.options})),n}};class kK{constructor(e,n,o){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...o},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,o,r,i,s,l,c;const{view:d}=this.editor,f=e.target,p=f.nodeType===3?(n=f.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):f.closest("[data-drag-handle]");if(!this.dom||!((o=this.contentDOM)===null||o===void 0)&&o.contains(f)||!p)return;let m=0,b=0;if(this.dom!==p){const T=this.dom.getBoundingClientRect(),M=p.getBoundingClientRect(),R=(r=e.offsetX)!==null&&r!==void 0?r:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,O=(s=e.offsetY)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;m=M.x-T.x+R,b=M.y-T.y+O}const y=this.dom.cloneNode(!0);(c=e.dataTransfer)===null||c===void 0||c.setDragImage(y,m,b);const w=this.getPos();if(typeof w!="number")return;const x=Oe.create(d.state.doc,w),_=d.state.tr.setSelection(x);d.dispatch(_)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const o=e.target;if(!(this.dom.contains(o)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(o))))return!1;const i=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(o.tagName)||o.isContentEditable)&&!s&&!i)return!0;const{isEditable:c}=this.editor,{isDragging:d}=this,f=!!this.node.type.spec.draggable,p=Oe.isSelectable(this.node),m=e.type==="copy",b=e.type==="paste",y=e.type==="cut",w=e.type==="mousedown";if(!f&&p&&i&&e.target===this.dom&&e.preventDefault(),f&&i&&!d&&e.target===this.dom)return e.preventDefault(),!1;if(f&&c&&!d&&w){const x=o.closest("[data-drag-handle]");x&&(this.dom===x||this.dom.contains(x))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(d||s||m||b||y||w&&p)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(a0()||cI())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(o=>o.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const o=this.getPos();return typeof o!="number"?!1:(n.setNodeMarkup(o,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function dc(t){return new XG({find:t.find,handler:({state:e,range:n,match:o,pasteEvent:r})=>{const i=ft(t.getAttributes,void 0,o,r);if(i===!1||i===null)return null;const{tr:s}=e,l=o[o.length-1],c=o[0];let d=n.to;if(l){const f=c.search(/\S/),p=n.from+c.indexOf(l),m=p+l.length;if(G_(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(x=>x===t.type&&x!==y.mark.type)).filter(y=>y.to>p).length)return null;m<n.to&&s.delete(m,n.to),p>n.from&&s.delete(n.from+f,p),d=n.from+f+l.length,s.addMark(n.from+f,d,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}var lg,xK=new Uint8Array(16);function CK(){if(!lg&&(lg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!lg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lg(xK)}const _K=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function SK(t){return typeof t=="string"&&_K.test(t)}var zn=[];for(var Qw=0;Qw<256;++Qw)zn.push((Qw+256).toString(16).substr(1));function EK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(zn[t[e+0]]+zn[t[e+1]]+zn[t[e+2]]+zn[t[e+3]]+"-"+zn[t[e+4]]+zn[t[e+5]]+"-"+zn[t[e+6]]+zn[t[e+7]]+"-"+zn[t[e+8]]+zn[t[e+9]]+"-"+zn[t[e+10]]+zn[t[e+11]]+zn[t[e+12]]+zn[t[e+13]]+zn[t[e+14]]+zn[t[e+15]]).toLowerCase();if(!SK(n))throw TypeError("Stringified UUID is invalid");return n}function EI(t,e,n){t=t||{};var o=t.random||(t.rng||CK)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,EK(o)}var TK=class TI{constructor(e){this.cache=new Map(e)}get(e){return this.cache.get(e)}set(e,n,o){e<0||this.cache.set(e,[n,o])}replace(e,n,o,r){this.remove(e),this.set(n,o,r)}remove(e){this.cache.delete(e)}invalidate(e){const n=new TI(this.cache),o=e.mapping;return this.cache.forEach(([r,i],s)=>{if(s<0)return;const l=o.mapResult(s),c=e.doc.nodeAt(l.pos);if(l.deleted||!(c!=null&&c.eq(r)))n.remove(s);else if(s!==l.pos){const d=i.map(f=>f.map(o,0,0)).filter(f=>f!=null);n.replace(s,l.pos,c,d)}}),n}};function MK({parser:t,nodeTypes:e=["code_block","codeBlock"],languageExtractor:n=o=>o.attrs.language}){const o=new ht("prosemirror-highlight");return new Qe({key:o,state:{init(r,i){const s=new TK,[l,c]=qO(i.doc,t,e,n,s);return{cache:s,decorations:l,promises:c}},apply:(r,i)=>{const s=i.cache.invalidate(r),l=!!r.getMeta("prosemirror-highlight-refresh");if(!r.docChanged&&!l){const f=i.decorations.map(r.mapping,r.doc),p=i.promises;return{cache:s,decorations:f,promises:p}}const[c,d]=qO(r.doc,t,e,n,s);return{cache:s,decorations:c,promises:d}}},view:r=>{const i=new Set,s=()=>{if(i.size>0)return;const c=r.state.tr.setMeta("prosemirror-highlight-refresh",!0);r.dispatch(c)},l=()=>{var c;const d=o.getState(r.state);for(const f of(c=d==null?void 0:d.promises)!=null?c:[])i.add(f),f.then(()=>{i.delete(f),s()}).catch(()=>{i.delete(f)})};return l(),{update:()=>{l()}}},props:{decorations(r){var i;return(i=this.getState(r))==null?void 0:i.decorations}}})}function qO(t,e,n,o,r){const i=[],s=[];return t.descendants((l,c)=>{if(!l.type.isTextblock)return!0;if(n.includes(l.type.name)){const d=o(l),f=r.get(c);if(f){const[p,m]=f;i.push(...m)}else{const p=e({content:l.textContent,language:d||void 0,pos:c,size:l.nodeSize});p&&Array.isArray(p)?(r.set(c,l,p),i.push(...p)):p instanceof Promise&&(r.remove(c),s.push(p))}}return!1}),[ct.create(t,i),s]}function AK(t,e){return function({content:o,language:r,pos:i,size:s}){var l;const c=[],{tokens:d,fg:f,bg:p,rootStyle:m}=t.codeToTokens(o,{lang:r,theme:t.getLoadedThemes()[0]}),b=m||(f&&p?`--prosemirror-highlight:${f};--prosemirror-highlight-bg:${p}`:"");if(b){const w=_t.node(i,i+s,{style:b});c.push(w)}let y=i+1;for(const w of d){for(const x of w){const _=y+x.content.length,T=_t.inline(y,_,{style:RK((l=x.htmlStyle)!=null?l:`color: ${x.color}`),class:"shiki"});c.push(T),y=_}y+=1}return c}}function RK(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}var Vx,Ux;if(typeof WeakMap<"u"){let t=new WeakMap;Vx=e=>t.get(e),Ux=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;Vx=o=>{for(let r=0;r<t.length;r+=2)if(t[r]==o)return t[r+1]},Ux=(o,r)=>(n==10&&(n=0),t[n++]=o,t[n++]=r)}var Zt=class{constructor(t,e,n,o){this.width=t,this.height=e,this.map=n,this.problems=o}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const o=e%this.width,r=e/this.width|0;let i=o+1,s=r+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return{left:o,top:r,right:i,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:o,right:r,top:i,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?o==0:r==this.width)?null:this.map[i*this.width+(n<0?o-1:r)]:(n<0?i==0:s==this.height)?null:this.map[o+this.width*(n<0?i-1:s)]}rectBetween(t,e){const{left:n,right:o,top:r,bottom:i}=this.findCell(t),{left:s,right:l,top:c,bottom:d}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(r,c),right:Math.max(o,l),bottom:Math.max(i,d)}}cellsInRect(t){const e=[],n={};for(let o=t.top;o<t.bottom;o++)for(let r=t.left;r<t.right;r++){const i=o*this.width+r,s=this.map[i];n[s]||(n[s]=!0,!(r==t.left&&r&&this.map[i-1]==s||o==t.top&&o&&this.map[i-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let o=0,r=0;;o++){const i=r+n.child(o).nodeSize;if(o==t){let s=e+t*this.width;const l=(t+1)*this.width;for(;s<l&&this.map[s]<r;)s++;return s==l?i-1:this.map[s]}r=i}}static get(t){return Vx(t)||Ux(t,OK(t))}};function OK(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=NK(t),n=t.childCount,o=[];let r=0,i=null;const s=[];for(let d=0,f=e*n;d<f;d++)o[d]=0;for(let d=0,f=0;d<n;d++){const p=t.child(d);f++;for(let y=0;;y++){for(;r<o.length&&o[r]!=0;)r++;if(y==p.childCount)break;const w=p.child(y),{colspan:x,rowspan:_,colwidth:T}=w.attrs;for(let M=0;M<_;M++){if(M+d>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:f,n:_-M});break}const R=r+M*e;for(let O=0;O<x;O++){o[R+O]==0?o[R+O]=f:(i||(i=[])).push({type:"collision",row:d,pos:f,n:x-O});const B=T&&T[O];if(B){const I=(R+O)%e*2,H=s[I];H==null||H!=B&&s[I+1]==1?(s[I]=B,s[I+1]=1):H==B&&s[I+1]++}}}r+=x,f+=w.nodeSize}const m=(d+1)*e;let b=0;for(;r<m;)o[r++]==0&&b++;b&&(i||(i=[])).push({type:"missing",row:d,n:b}),f++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new Zt(e,n,o,i);let c=!1;for(let d=0;!c&&d<s.length;d+=2)s[d]!=null&&s[d+1]<n&&(c=!0);return c&&DK(l,s,t),l}function NK(t){let e=-1,n=!1;for(let o=0;o<t.childCount;o++){const r=t.child(o);let i=0;if(n)for(let s=0;s<o;s++){const l=t.child(s);for(let c=0;c<l.childCount;c++){const d=l.child(c);s+d.attrs.rowspan>o&&(i+=d.attrs.colspan)}}for(let s=0;s<r.childCount;s++){const l=r.child(s);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function DK(t,e,n){t.problems||(t.problems=[]);const o={};for(let r=0;r<t.map.length;r++){const i=t.map[r];if(o[i])continue;o[i]=!0;const s=n.nodeAt(i);if(!s)throw new RangeError(`No cell with offset ${i} found`);let l=null;const c=s.attrs;for(let d=0;d<c.colspan;d++){const f=(r+d)%t.width,p=e[f*2];p!=null&&(!c.colwidth||c.colwidth[d]!=p)&&((l||(l=LK(c)))[d]=p)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function LK(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function lo(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const o=t.nodes[n],r=o.spec.tableRole;r&&(e[r]=o)}}return e}var Ol=new ht("selectingCells");function yd(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function BK(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function $i(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function K_(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=yd(e.$head)||IK(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function IK(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function Fx(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function jK(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function W_(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function MI(t,e,n){const o=t.node(-1),r=Zt.get(o),i=t.start(-1),s=r.nextCell(t.pos-i,e,n);return s==null?null:t.node(0).resolve(i+s)}function fc(t,e,n=1){const o={...t,colspan:t.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(e,n),o.colwidth.some(r=>r>0)||(o.colwidth=null)),o}function AI(t,e,n=1){const o={...t,colspan:t.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let r=0;r<n;r++)o.colwidth.splice(e,0,0)}return o}function PK(t,e,n){const o=lo(e.type.schema).header_cell;for(let r=0;r<t.height;r++)if(e.nodeAt(t.map[n+r*t.width]).type!=o)return!1;return!0}var Nt=class ps extends je{constructor(e,n=e){const o=e.node(-1),r=Zt.get(o),i=e.start(-1),s=r.rectBetween(e.pos-i,n.pos-i),l=e.node(0),c=r.cellsInRect(s).filter(f=>f!=n.pos-i);c.unshift(n.pos-i);const d=c.map(f=>{const p=o.nodeAt(f);if(!p)throw RangeError(`No cell with offset ${f} found`);const m=i+f+1;return new sB(l.resolve(m),l.resolve(m+p.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=n}map(e,n){const o=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(Fx(o)&&Fx(r)&&W_(o,r)){const i=this.$anchorCell.node(-1)!=o.node(-1);return i&&this.isRowSelection()?ps.rowSelection(o,r):i&&this.isColSelection()?ps.colSelection(o,r):new ps(o,r)}return Re.between(o,r)}content(){const e=this.$anchorCell.node(-1),n=Zt.get(e),o=this.$anchorCell.start(-1),r=n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),i={},s=[];for(let c=r.top;c<r.bottom;c++){const d=[];for(let f=c*n.width+r.left,p=r.left;p<r.right;p++,f++){const m=n.map[f];if(i[m])continue;i[m]=!0;const b=n.findCell(m);let y=e.nodeAt(m);if(!y)throw RangeError(`No cell with offset ${m} found`);const w=r.left-b.left,x=b.right-r.right;if(w>0||x>0){let _=y.attrs;if(w>0&&(_=fc(_,0,w)),x>0&&(_=fc(_,_.colspan-x,x)),b.left<r.left){if(y=y.type.createAndFill(_),!y)throw RangeError(`Could not create cell with attrs ${JSON.stringify(_)}`)}else y=y.type.create(_,y.content)}if(b.top<r.top||b.bottom>r.bottom){const _={...y.attrs,rowspan:Math.min(b.bottom,r.bottom)-Math.max(b.top,r.top)};b.top<r.top?y=y.type.createAndFill(_):y=y.type.create(_,y.content)}d.push(y)}s.push(e.child(c).copy(J.from(d)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new ye(J.from(l),1,1)}replace(e,n=ye.empty){const o=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){const{$from:l,$to:c}=r[s],d=e.mapping.slice(o);e.replace(d.map(l.pos),d.map(c.pos),s?ye.empty:n)}const i=je.findFrom(e.doc.resolve(e.mapping.slice(o).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new ye(J.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),o=Zt.get(n),r=this.$anchorCell.start(-1),i=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let s=0;s<i.length;s++)e(n.nodeAt(i[s]),r+i[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const o=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,r)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const o=e.node(-1),r=Zt.get(o),i=e.start(-1),s=r.findCell(e.pos-i),l=r.findCell(n.pos-i),c=e.node(0);return s.top<=l.top?(s.top>0&&(e=c.resolve(i+r.map[s.left])),l.bottom<r.height&&(n=c.resolve(i+r.map[r.width*(r.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(i+r.map[l.left])),s.bottom<r.height&&(e=c.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))),new ps(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Zt.get(e),o=this.$anchorCell.start(-1),r=n.colCount(this.$anchorCell.pos-o),i=n.colCount(this.$headCell.pos-o);if(Math.min(r,i)>0)return!1;const s=r+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width}eq(e){return e instanceof ps&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const o=e.node(-1),r=Zt.get(o),i=e.start(-1),s=r.findCell(e.pos-i),l=r.findCell(n.pos-i),c=e.node(0);return s.left<=l.left?(s.left>0&&(e=c.resolve(i+r.map[s.top*r.width])),l.right<r.width&&(n=c.resolve(i+r.map[r.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(i+r.map[l.top*r.width])),s.right<r.width&&(e=c.resolve(i+r.map[r.width*(s.top+1)-1]))),new ps(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new ps(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){return new ps(e.resolve(n),e.resolve(o))}getBookmark(){return new $K(this.$anchorCell.pos,this.$headCell.pos)}};Nt.prototype.visible=!1;je.jsonID("cell",Nt);var $K=class RI{constructor(e,n){this.anchor=e,this.head=n}map(e){return new RI(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),o=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&o.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&o.index()<o.parent.childCount&&W_(n,o)?new Nt(n,o):je.near(o,1)}};function HK(t){if(!(t.selection instanceof Nt))return null;const e=[];return t.selection.forEachCell((n,o)=>{e.push(_t.node(o,o+n.nodeSize,{class:"selectedCell"}))}),ct.create(t.doc,e)}function zK({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,o=e.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,o--);return n==o&&/row|table/.test(t.node(r).type.spec.tableRole)}function VK({$from:t,$to:e}){let n,o;for(let r=t.depth;r>0;r--){const i=t.node(r);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let r=e.depth;r>0;r--){const i=e.node(r);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){o=i;break}}return n!==o&&e.parentOffset===0}function UK(t,e,n){const o=(e||t).selection,r=(e||t).doc;let i,s;if(o instanceof Oe&&(s=o.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=Nt.create(r,o.from);else if(s=="row"){const l=r.resolve(o.from+1);i=Nt.rowSelection(l,l)}else if(!n){const l=Zt.get(o.node),c=o.from+1,d=c+l.map[l.width*l.height-1];i=Nt.create(r,c+1,d)}}else o instanceof Re&&zK(o)?i=Re.create(r,o.from):o instanceof Re&&VK(o)&&(i=Re.create(r,o.$from.start(),o.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}var FK=new ht("fix-tables");function OI(t,e,n,o){const r=t.childCount,i=e.childCount;e:for(let s=0,l=0;s<i;s++){const c=e.child(s);for(let d=l,f=Math.min(r,s+3);d<f;d++)if(t.child(d)==c){l=d+1,n+=c.nodeSize;continue e}o(c,n),l<r&&t.child(l).sameMarkup(c)?OI(t.child(l),c,n+1,o):c.nodesBetween(0,c.content.size,o,n+1),n+=c.nodeSize}}function GK(t,e){let n;const o=(r,i)=>{r.type.spec.tableRole=="table"&&(n=qK(t,r,i,n))};return e?e.doc!=t.doc&&OI(e.doc,t.doc,0,o):t.doc.descendants(o),n}function qK(t,e,n,o){const r=Zt.get(e);if(!r.problems)return o;o||(o=t.tr);const i=[];for(let c=0;c<r.height;c++)i.push(0);for(let c=0;c<r.problems.length;c++){const d=r.problems[c];if(d.type=="collision"){const f=e.nodeAt(d.pos);if(!f)continue;const p=f.attrs;for(let m=0;m<p.rowspan;m++)i[d.row+m]+=d.n;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,fc(p,p.colspan-d.n,d.n))}else if(d.type=="missing")i[d.row]+=d.n;else if(d.type=="overlong_rowspan"){const f=e.nodeAt(d.pos);if(!f)continue;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-d.n})}else if(d.type=="colwidth mismatch"){const f=e.nodeAt(d.pos);if(!f)continue;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,{...f.attrs,colwidth:d.colwidth})}else if(d.type=="zero_sized"){const f=o.mapping.map(n);o.delete(f,f+e.nodeSize)}}let s,l;for(let c=0;c<i.length;c++)i[c]&&(s==null&&(s=c),l=c);for(let c=0,d=n+1;c<r.height;c++){const f=e.child(c),p=d+f.nodeSize,m=i[c];if(m>0){let b="cell";f.firstChild&&(b=f.firstChild.type.spec.tableRole);const y=[];for(let x=0;x<m;x++){const _=lo(t.schema)[b].createAndFill();_&&y.push(_)}const w=(c==0||s==c-1)&&l==c?d+1:p-1;o.insert(o.mapping.map(w),y)}d=p}return o.setMeta(FK,{fixTables:!0})}function Hi(t){const e=t.selection,n=K_(t),o=n.node(-1),r=n.start(-1),i=Zt.get(o);return{...e instanceof Nt?i.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r):i.findCell(n.pos-r),tableStart:r,map:i,table:o}}function NI(t,{map:e,tableStart:n,table:o},r){let i=r>0?-1:0;PK(e,o,r+i)&&(i=r==0||r==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+r;if(r>0&&r<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],d=o.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,AI(d.attrs,r-e.colCount(c))),s+=d.attrs.rowspan-1}else{const c=i==null?lo(o.type.schema).cell:o.nodeAt(e.map[l+i]).type,d=e.positionAt(s,r,o);t.insert(t.mapping.map(n+d),c.createAndFill())}}return t}function KK(t,e){if(!$i(t))return!1;if(e){const n=Hi(t);e(NI(t.tr,n,n.left))}return!0}function WK(t,e){if(!$i(t))return!1;if(e){const n=Hi(t);e(NI(t.tr,n,n.right))}return!0}function ZK(t,{map:e,table:n,tableStart:o},r){const i=t.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+r,c=e.map[l],d=n.nodeAt(c),f=d.attrs;if(r>0&&e.map[l-1]==c||r<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(i).map(o+c),null,fc(f,r-e.colCount(c)));else{const p=t.mapping.slice(i).map(o+c);t.delete(p,p+d.nodeSize)}s+=f.rowspan}}function XK(t,e){if(!$i(t))return!1;if(e){const n=Hi(t),o=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let r=n.right-1;ZK(o,n,r),r!=n.left;r--){const i=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Zt.get(i)}e(o)}return!0}function YK(t,e,n){var o;const r=lo(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((o=e.nodeAt(t.map[i+n*t.width]))==null?void 0:o.type)!=r)return!1;return!0}function DI(t,{map:e,tableStart:n,table:o},r){var i;let s=n;for(let d=0;d<r;d++)s+=o.child(d).nodeSize;const l=[];let c=r>0?-1:0;YK(e,o,r+c)&&(c=r==0||r==e.height?null:0);for(let d=0,f=e.width*r;d<e.width;d++,f++)if(r>0&&r<e.height&&e.map[f]==e.map[f-e.width]){const p=e.map[f],m=o.nodeAt(p).attrs;t.setNodeMarkup(n+p,null,{...m,rowspan:m.rowspan+1}),d+=m.colspan-1}else{const p=c==null?lo(o.type.schema).cell:(i=o.nodeAt(e.map[f+c*e.width]))==null?void 0:i.type,m=p==null?void 0:p.createAndFill();m&&l.push(m)}return t.insert(s,lo(o.type.schema).row.create(null,l)),t}function JK(t,e){if(!$i(t))return!1;if(e){const n=Hi(t);e(DI(t.tr,n,n.top))}return!0}function QK(t,e){if(!$i(t))return!1;if(e){const n=Hi(t);e(DI(t.tr,n,n.bottom))}return!0}function eW(t,{map:e,table:n,tableStart:o},r){let i=0;for(let d=0;d<r;d++)i+=n.child(d).nodeSize;const s=i+n.child(r).nodeSize,l=t.mapping.maps.length;t.delete(i+o,s+o);const c=new Set;for(let d=0,f=r*e.width;d<e.width;d++,f++){const p=e.map[f];if(!c.has(p)){if(c.add(p),r>0&&p==e.map[f-e.width]){const m=n.nodeAt(p).attrs;t.setNodeMarkup(t.mapping.slice(l).map(p+o),null,{...m,rowspan:m.rowspan-1}),d+=m.colspan-1}else if(r<e.height&&p==e.map[f+e.width]){const m=n.nodeAt(p),b=m.attrs,y=m.type.create({...b,rowspan:m.attrs.rowspan-1},m.content),w=e.positionAt(r+1,d,n);t.insert(t.mapping.slice(l).map(o+w),y),d+=b.colspan-1}}}}function tW(t,e){if(!$i(t))return!1;if(e){const n=Hi(t),o=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let r=n.bottom-1;eW(o,n,r),r!=n.top;r--){const i=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Zt.get(n.table)}e(o)}return!0}function KO(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function nW({width:t,height:e,map:n},o){let r=o.top*t+o.left,i=r,s=(o.bottom-1)*t+o.left,l=r+(o.right-o.left-1);for(let c=o.top;c<o.bottom;c++){if(o.left>0&&n[i]==n[i-1]||o.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let c=o.left;c<o.right;c++){if(o.top>0&&n[r]==n[r-t]||o.bottom<e&&n[s]==n[s+t])return!0;r++,s++}return!1}function oW(t,e){const n=t.selection;if(!(n instanceof Nt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const o=Hi(t),{map:r}=o;if(nW(r,o))return!1;if(e){const i=t.tr,s={};let l=J.empty,c,d;for(let f=o.top;f<o.bottom;f++)for(let p=o.left;p<o.right;p++){const m=r.map[f*r.width+p],b=o.table.nodeAt(m);if(!(s[m]||!b))if(s[m]=!0,c==null)c=m,d=b;else{KO(b)||(l=l.append(b.content));const y=i.mapping.map(m+o.tableStart);i.delete(y,y+b.nodeSize)}}if(c==null||d==null)return!0;if(i.setNodeMarkup(c+o.tableStart,null,{...AI(d.attrs,d.attrs.colspan,o.right-o.left-d.attrs.colspan),rowspan:o.bottom-o.top}),l.size){const f=c+1+d.content.size,p=KO(d)?c+1:f;i.replaceWith(p+o.tableStart,f+o.tableStart,l)}i.setSelection(new Nt(i.doc.resolve(c+o.tableStart))),e(i)}return!0}function rW(t,e){const n=lo(t.schema);return iW(({node:o})=>n[o.type.spec.tableRole])(t,e)}function iW(t){return(e,n)=>{var o;const r=e.selection;let i,s;if(r instanceof Nt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{if(i=BK(r.$from),!i)return!1;s=(o=yd(r.$from))==null?void 0:o.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let l=i.attrs;const c=[],d=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const f=Hi(e),p=e.tr;for(let b=0;b<f.right-f.left;b++)c.push(d?{...l,colwidth:d&&d[b]?[d[b]]:null}:l);let m;for(let b=f.top;b<f.bottom;b++){let y=f.map.positionAt(b,f.left,f.table);b==f.top&&(y+=i.nodeSize);for(let w=f.left,x=0;w<f.right;w++,x++)w==f.left&&b==f.top||p.insert(m=p.mapping.map(y+f.tableStart,1),t({node:i,row:b,col:w}).createAndFill(c[x]))}p.setNodeMarkup(s,t({node:i,row:f.top,col:f.left}),c[0]),r instanceof Nt&&p.setSelection(new Nt(p.doc.resolve(r.$anchorCell.pos),m?p.doc.resolve(m):void 0)),n(p)}return!0}}function sW(t){return function(e,n){if(!$i(e))return!1;if(n){const o=lo(e.schema),r=Hi(e),i=e.tr,s=r.map.cellsInRect(t=="column"?{left:r.left,top:0,right:r.right,bottom:r.map.height}:t=="row"?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),l=s.map(c=>r.table.nodeAt(c));for(let c=0;c<s.length;c++)l[c].type==o.header_cell&&i.setNodeMarkup(r.tableStart+s[c],o.cell,l[c].attrs);if(i.steps.length==0)for(let c=0;c<s.length;c++)i.setNodeMarkup(r.tableStart+s[c],o.header_cell,l[c].attrs);n(i)}return!0}}function WO(t,e,n){const o=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let r=0;r<o.length;r++){const i=e.table.nodeAt(o[r]);if(i&&i.type!==n.header_cell)return!1}return!0}function Z_(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?sW(t):function(n,o){if(!$i(n))return!1;if(o){const r=lo(n.schema),i=Hi(n),s=n.tr,l=WO("row",i,r),c=WO("column",i,r),f=(t==="column"?l:t==="row"?c:!1)?1:0,p=t=="column"?{left:0,top:f,right:1,bottom:i.map.height}:t=="row"?{left:f,top:0,right:i.map.width,bottom:1}:i,m=t=="column"?c?r.cell:r.header_cell:t=="row"?l?r.cell:r.header_cell:r.cell;i.map.cellsInRect(p).forEach(b=>{const y=b+i.tableStart,w=s.doc.nodeAt(y);w&&s.setNodeMarkup(y,m,w.attrs)}),o(s)}return!0}}Z_("row",{useDeprecatedLogic:!0});Z_("column",{useDeprecatedLogic:!0});Z_("cell",{useDeprecatedLogic:!0});function lW(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let o=t.index(-1)-1,r=t.before();o>=0;o--){const i=t.node(-1).child(o),s=i.lastChild;if(s)return r-1-s.nodeSize;r-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let o=t.indexAfter(-1),r=t.after();o<n.childCount;o++){const i=n.child(o);if(i.childCount)return r+1;r+=i.nodeSize}}return null}function ZO(t){return function(e,n){if(!$i(e))return!1;const o=lW(K_(e),t);if(o==null)return!1;if(n){const r=e.doc.resolve(o);n(e.tr.setSelection(Re.between(r,jK(r))).scrollIntoView())}return!0}}function ag(t,e){const n=t.selection;if(!(n instanceof Nt))return!1;if(e){const o=t.tr,r=lo(t.schema).cell.createAndFill().content;n.forEachCell((i,s)=>{i.content.eq(r)||o.replace(o.mapping.map(s+1),o.mapping.map(s+i.nodeSize-1),new ye(r,0,0))}),o.docChanged&&e(o)}return!0}function aW(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:o}=t;for(;e.childCount==1&&(n>0&&o>0||e.child(0).type.spec.tableRole=="table");)n--,o--,e=e.child(0).content;const r=e.child(0),i=r.type.spec.tableRole,s=r.type.schema,l=[];if(i=="row")for(let c=0;c<e.childCount;c++){let d=e.child(c).content;const f=c?0:Math.max(0,n-1),p=c<e.childCount-1?0:Math.max(0,o-1);(f||p)&&(d=Gx(lo(s).row,new ye(d,f,p)).content),l.push(d)}else if(i=="cell"||i=="header_cell")l.push(n||o?Gx(lo(s).row,new ye(e,n,o)).content:e);else return null;return cW(s,l)}function cW(t,e){const n=[];for(let r=0;r<e.length;r++){const i=e[r];for(let s=i.childCount-1;s>=0;s--){const{rowspan:l,colspan:c}=i.child(s).attrs;for(let d=r;d<r+l;d++)n[d]=(n[d]||0)+c}}let o=0;for(let r=0;r<n.length;r++)o=Math.max(o,n[r]);for(let r=0;r<n.length;r++)if(r>=e.length&&e.push(J.empty),n[r]<o){const i=lo(t).cell.createAndFill(),s=[];for(let l=n[r];l<o;l++)s.push(i);e[r]=e[r].append(J.from(s))}return{height:e.length,width:o,rows:e}}function Gx(t,e){const n=t.createAndFill();return new E_(n).replace(0,n.content.size,e).doc}function uW({width:t,height:e,rows:n},o,r){if(t!=o){const i=[],s=[];for(let l=0;l<n.length;l++){const c=n[l],d=[];for(let f=i[l]||0,p=0;f<o;p++){let m=c.child(p%c.childCount);f+m.attrs.colspan>o&&(m=m.type.createChecked(fc(m.attrs,m.attrs.colspan,f+m.attrs.colspan-o),m.content)),d.push(m),f+=m.attrs.colspan;for(let b=1;b<m.attrs.rowspan;b++)i[l+b]=(i[l+b]||0)+m.attrs.colspan}s.push(J.from(d))}n=s,t=o}if(e!=r){const i=[];for(let s=0,l=0;s<r;s++,l++){const c=[],d=n[l%e];for(let f=0;f<d.childCount;f++){let p=d.child(f);s+p.attrs.rowspan>r&&(p=p.type.create({...p.attrs,rowspan:Math.max(1,r-p.attrs.rowspan)},p.content)),c.push(p)}i.push(J.from(c))}n=i,e=r}return{width:t,height:e,rows:n}}function dW(t,e,n,o,r,i,s){const l=t.doc.type.schema,c=lo(l);let d,f;if(r>e.width)for(let p=0,m=0;p<e.height;p++){const b=n.child(p);m+=b.nodeSize;const y=[];let w;b.lastChild==null||b.lastChild.type==c.cell?w=d||(d=c.cell.createAndFill()):w=f||(f=c.header_cell.createAndFill());for(let x=e.width;x<r;x++)y.push(w);t.insert(t.mapping.slice(s).map(m-1+o),y)}if(i>e.height){const p=[];for(let y=0,w=(e.height-1)*e.width;y<Math.max(e.width,r);y++){const x=y>=e.width?!1:n.nodeAt(e.map[w+y]).type==c.header_cell;p.push(x?f||(f=c.header_cell.createAndFill()):d||(d=c.cell.createAndFill()))}const m=c.row.create(null,J.from(p)),b=[];for(let y=e.height;y<i;y++)b.push(m);t.insert(t.mapping.slice(s).map(o+n.nodeSize-2),b)}return!!(d||f)}function XO(t,e,n,o,r,i,s,l){if(s==0||s==e.height)return!1;let c=!1;for(let d=r;d<i;d++){const f=s*e.width+d,p=e.map[f];if(e.map[f-e.width]==p){c=!0;const m=n.nodeAt(p),{top:b,left:y}=e.findCell(p);t.setNodeMarkup(t.mapping.slice(l).map(p+o),null,{...m.attrs,rowspan:s-b}),t.insert(t.mapping.slice(l).map(e.positionAt(s,y,n)),m.type.createAndFill({...m.attrs,rowspan:b+m.attrs.rowspan-s})),d+=m.attrs.colspan-1}}return c}function YO(t,e,n,o,r,i,s,l){if(s==0||s==e.width)return!1;let c=!1;for(let d=r;d<i;d++){const f=d*e.width+s,p=e.map[f];if(e.map[f-1]==p){c=!0;const m=n.nodeAt(p),b=e.colCount(p),y=t.mapping.slice(l).map(p+o);t.setNodeMarkup(y,null,fc(m.attrs,s-b,m.attrs.colspan-(s-b))),t.insert(y+m.nodeSize,m.type.createAndFill(fc(m.attrs,0,s-b))),d+=m.attrs.rowspan-1}}return c}function JO(t,e,n,o,r){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let s=Zt.get(i);const{top:l,left:c}=o,d=c+r.width,f=l+r.height,p=t.tr;let m=0;function b(){if(i=n?p.doc.nodeAt(n-1):p.doc,!i)throw new Error("No table found");s=Zt.get(i),m=p.mapping.maps.length}dW(p,s,i,n,d,f,m)&&b(),XO(p,s,i,n,c,d,l,m)&&b(),XO(p,s,i,n,c,d,f,m)&&b(),YO(p,s,i,n,l,f,c,m)&&b(),YO(p,s,i,n,l,f,d,m)&&b();for(let y=l;y<f;y++){const w=s.positionAt(y,c,i),x=s.positionAt(y,d,i);p.replace(p.mapping.slice(m).map(w+n),p.mapping.slice(m).map(x+n),new ye(r.rows[y-l],0,0))}b(),p.setSelection(new Nt(p.doc.resolve(n+s.positionAt(l,c,i)),p.doc.resolve(n+s.positionAt(f-1,d-1,i)))),e(p)}var fW=j_({ArrowLeft:cg("horiz",-1),ArrowRight:cg("horiz",1),ArrowUp:cg("vert",-1),ArrowDown:cg("vert",1),"Shift-ArrowLeft":ug("horiz",-1),"Shift-ArrowRight":ug("horiz",1),"Shift-ArrowUp":ug("vert",-1),"Shift-ArrowDown":ug("vert",1),Backspace:ag,"Mod-Backspace":ag,Delete:ag,"Mod-Delete":ag});function Hg(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function cg(t,e){return(n,o,r)=>{if(!r)return!1;const i=n.selection;if(i instanceof Nt)return Hg(n,o,je.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const s=LI(r,t,e);if(s==null)return!1;if(t=="horiz")return Hg(n,o,je.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(s),c=MI(l,t,e);let d;return c?d=je.near(c,1):e<0?d=je.near(n.doc.resolve(l.before(-1)),-1):d=je.near(n.doc.resolve(l.after(-1)),1),Hg(n,o,d)}}}function ug(t,e){return(n,o,r)=>{if(!r)return!1;const i=n.selection;let s;if(i instanceof Nt)s=i;else{const c=LI(r,t,e);if(c==null)return!1;s=new Nt(n.doc.resolve(c))}const l=MI(s.$headCell,t,e);return l?Hg(n,o,new Nt(s.$anchorCell,l)):!1}}function hW(t,e){const n=t.state.doc,o=yd(n.resolve(e));return o?(t.dispatch(t.state.tr.setSelection(new Nt(o))),!0):!1}function pW(t,e,n){if(!$i(t.state))return!1;let o=aW(n);const r=t.state.selection;if(r instanceof Nt){o||(o={width:1,height:1,rows:[J.from(Gx(lo(t.state.schema).cell,n))]});const i=r.$anchorCell.node(-1),s=r.$anchorCell.start(-1),l=Zt.get(i).rectBetween(r.$anchorCell.pos-s,r.$headCell.pos-s);return o=uW(o,l.right-l.left,l.bottom-l.top),JO(t.state,t.dispatch,s,l,o),!0}else if(o){const i=K_(t.state),s=i.start(-1);return JO(t.state,t.dispatch,s,Zt.get(i.node(-1)).findCell(i.pos-s),o),!0}else return!1}function mW(t,e){var n;if(e.ctrlKey||e.metaKey)return;const o=QO(t,e.target);let r;if(e.shiftKey&&t.state.selection instanceof Nt)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&o&&(r=yd(t.state.selection.$anchor))!=null&&((n=ek(t,e))==null?void 0:n.pos)!=r.pos)i(r,e),e.preventDefault();else if(!o)return;function i(c,d){let f=ek(t,d);const p=Ol.getState(t.state)==null;if(!f||!W_(c,f))if(p)f=c;else return;const m=new Nt(c,f);if(p||!t.state.selection.eq(m)){const b=t.state.tr.setSelection(m);p&&b.setMeta(Ol,c.pos),t.dispatch(b)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",l),Ol.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Ol,-1))}function l(c){const d=c,f=Ol.getState(t.state);let p;if(f!=null)p=t.state.doc.resolve(f);else if(QO(t,d.target)!=o&&(p=ek(t,e),!p))return s();p&&i(p,d)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",l)}function LI(t,e,n){if(!(t.state.selection instanceof Re))return null;const{$head:o}=t.state.selection;for(let r=o.depth-1;r>=0;r--){const i=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const l=o.before(r),c=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?l:null}}return null}function QO(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function ek(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?yd(t.state.doc.resolve(n.pos)):null}var BI=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),qx(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,qx(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function qx(t,e,n,o,r,i){var s;let l=0,c=!0,d=e.firstChild;const f=t.firstChild;if(f){for(let p=0,m=0;p<f.childCount;p++){const{colspan:b,colwidth:y}=f.child(p).attrs;for(let w=0;w<b;w++,m++){const x=r==m?i:y&&y[w],_=x?x+"px":"";if(l+=x||o,x||(c=!1),d)d.style.width!=_&&(d.style.width=_),d=d.nextSibling;else{const T=document.createElement("col");T.style.width=_,e.appendChild(T)}}}for(;d;){const p=d.nextSibling;(s=d.parentNode)==null||s.removeChild(d),d=p}c?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var rr=new ht("tableColumnResizing");function gW({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:o=BI,lastColumnResizable:r=!0}={}){const i=new Qe({key:rr,state:{init(s,l){var c,d;const f=(d=(c=i.spec)==null?void 0:c.props)==null?void 0:d.nodeViews,p=lo(l.schema).table.name;return o&&f&&(f[p]=(m,b)=>new o(m,n,b)),new bW(-1,!1)},apply(s,l){return l.apply(s)}},props:{attributes:s=>{const l=rr.getState(s);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,l)=>{yW(s,l,t,r)},mouseleave:s=>{vW(s)},mousedown:(s,l)=>{wW(s,l,e,n)}},decorations:s=>{const l=rr.getState(s);if(l&&l.activeHandle>-1)return SW(s,l.activeHandle)},nodeViews:{}}});return i}var bW=class zg{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,o=e.getMeta(rr);if(o&&o.setHandle!=null)return new zg(o.setHandle,!1);if(o&&o.setDragging!==void 0)return new zg(n.activeHandle,o.setDragging);if(n.activeHandle>-1&&e.docChanged){let r=e.mapping.map(n.activeHandle,-1);return Fx(e.doc.resolve(r))||(r=-1),new zg(r,n.dragging)}return n}};function yW(t,e,n,o){if(!t.editable)return;const r=rr.getState(t.state);if(r&&!r.dragging){const i=xW(e.target);let s=-1;if(i){const{left:l,right:c}=i.getBoundingClientRect();e.clientX-l<=n?s=eN(t,e,"left",n):c-e.clientX<=n&&(s=eN(t,e,"right",n))}if(s!=r.activeHandle){if(!o&&s!==-1){const l=t.state.doc.resolve(s),c=l.node(-1),d=Zt.get(c),f=l.start(-1);if(d.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==d.width-1)return}II(t,s)}}}function vW(t){if(!t.editable)return;const e=rr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&II(t,-1)}function wW(t,e,n,o){var r;if(!t.editable)return!1;const i=(r=t.dom.ownerDocument.defaultView)!=null?r:window,s=rr.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const l=t.state.doc.nodeAt(s.activeHandle),c=kW(t,s.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(rr,{setDragging:{startX:e.clientX,startWidth:c}}));function d(p){i.removeEventListener("mouseup",d),i.removeEventListener("mousemove",f);const m=rr.getState(t.state);m!=null&&m.dragging&&(CW(t,m.activeHandle,tN(m.dragging,p,n)),t.dispatch(t.state.tr.setMeta(rr,{setDragging:null})))}function f(p){if(!p.which)return d(p);const m=rr.getState(t.state);if(m&&m.dragging){const b=tN(m.dragging,p,n);nN(t,m.activeHandle,b,o)}}return nN(t,s.activeHandle,c,o),i.addEventListener("mouseup",d),i.addEventListener("mousemove",f),e.preventDefault(),!0}function kW(t,e,{colspan:n,colwidth:o}){const r=o&&o[o.length-1];if(r)return r;const i=t.domAtPos(e);let l=i.node.childNodes[i.offset].offsetWidth,c=n;if(o)for(let d=0;d<n;d++)o[d]&&(l-=o[d],c--);return l/c}function xW(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function eN(t,e,n,o){const r=n=="right"?-o:o,i=t.posAtCoords({left:e.clientX+r,top:e.clientY});if(!i)return-1;const{pos:s}=i,l=yd(t.state.doc.resolve(s));if(!l)return-1;if(n=="right")return l.pos;const c=Zt.get(l.node(-1)),d=l.start(-1),f=c.map.indexOf(l.pos-d);return f%c.width==0?-1:d+c.map[f-1]}function tN(t,e,n){const o=e.clientX-t.startX;return Math.max(n,t.startWidth+o)}function II(t,e){t.dispatch(t.state.tr.setMeta(rr,{setHandle:e}))}function CW(t,e,n){const o=t.state.doc.resolve(e),r=o.node(-1),i=Zt.get(r),s=o.start(-1),l=i.colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let d=0;d<i.height;d++){const f=d*i.width+l;if(d&&i.map[f]==i.map[f-i.width])continue;const p=i.map[f],m=r.nodeAt(p).attrs,b=m.colspan==1?0:l-i.colCount(p);if(m.colwidth&&m.colwidth[b]==n)continue;const y=m.colwidth?m.colwidth.slice():_W(m.colspan);y[b]=n,c.setNodeMarkup(s+p,null,{...m,colwidth:y})}c.docChanged&&t.dispatch(c)}function nN(t,e,n,o){const r=t.state.doc.resolve(e),i=r.node(-1),s=r.start(-1),l=Zt.get(i).colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1;let c=t.domAtPos(r.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&qx(i,c.firstChild,c,o,l,n)}function _W(t){return Array(t).fill(0)}function SW(t,e){var n;const o=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return ct.empty;const s=Zt.get(i),l=r.start(-1),c=s.colCount(r.pos-l)+r.nodeAfter.attrs.colspan-1;for(let d=0;d<s.height;d++){const f=c+d*s.width;if((c==s.width-1||s.map[f]!=s.map[f+1])&&(d==0||s.map[f]!=s.map[f-s.width])){const p=s.map[f],m=l+p+i.nodeAt(p).nodeSize-1,b=document.createElement("div");b.className="column-resize-handle",(n=rr.getState(t))!=null&&n.dragging&&o.push(_t.node(l+p,l+p+i.nodeAt(p).nodeSize,{class:"column-resize-dragging"})),o.push(_t.widget(m,b))}}return ct.create(t.doc,o)}function EW({allowTableNodeSelection:t=!1}={}){return new Qe({key:Ol,state:{init(){return null},apply(e,n){const o=e.getMeta(Ol);if(o!=null)return o==-1?null:o;if(n==null||!e.docChanged)return n;const{deleted:r,pos:i}=e.mapping.mapResult(n);return r?null:i}},props:{decorations:HK,handleDOMEvents:{mousedown:mW},createSelectionBetween(e){return Ol.getState(e.state)!=null?e.state.selection:null},handleTripleClick:hW,handleKeyDown:fW,handlePaste:pW},appendTransaction(e,n,o){return UK(o,GK(o,n),t)}})}const TW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,MW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,AW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,RW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,OW=zo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[sd({find:TW,type:this.type}),sd({find:AW,type:this.type})]},addPasteRules(){return[dc({find:MW,type:this.type}),dc({find:RW,type:this.type})]}}),NW=/(^|[^`])`([^`]+)`(?!`)/,DW=/(^|[^`])`([^`]+)`(?!`)/g,LW=zo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[sd({find:NW,type:this.type})]},addPasteRules(){return[dc({find:DW,type:this.type})]}}),BW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,IW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,jW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,PW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,$W=zo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[sd({find:BW,type:this.type}),sd({find:jW,type:this.type})]},addPasteRules(){return[dc({find:IW,type:this.type}),dc({find:PW,type:this.type})]}}),HW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,zW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,VW=zo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[sd({find:HW,type:this.type})]},addPasteRules(){return[dc({find:zW,type:this.type})]}}),UW=zo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),FW=Pi.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",lr(this.options.HTMLAttributes,t),0]}}),GW=Pi.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",lr(this.options.HTMLAttributes,t),0]}}),qW=Pi.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",lr(this.options.HTMLAttributes,t),0]}});class nn extends je{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return nn.valid(o)?new nn(o):je.near(o)}content(){return ye.empty}eq(e){return e instanceof nn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new nn(e.resolve(n.pos))}getBookmark(){return new X_(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!KW(e)||!WW(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&nn.valid(e))return e;let r=e.pos,i=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){i=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;r+=n;let c=e.doc.resolve(r);if(nn.valid(c))return c}for(;;){let s=n>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!Oe.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),o=!1;continue e}break}i=s,r+=n;let l=e.doc.resolve(r);if(nn.valid(l))return l}return null}}}nn.prototype.visible=!1;nn.findFrom=nn.findGapCursorFrom;je.jsonID("gapcursor",nn);class X_{constructor(e){this.pos=e}map(e){return new X_(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return nn.valid(n)?new nn(n):je.near(n)}}function KW(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function WW(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function ZW(){return new Qe({props:{decorations:QW,createSelectionBetween(t,e,n){return e.pos==n.pos&&nn.valid(n)?new nn(n):null},handleClick:YW,handleKeyDown:XW,handleDOMEvents:{beforeinput:JW}}})}const XW=j_({ArrowLeft:dg("horiz",-1),ArrowRight:dg("horiz",1),ArrowUp:dg("vert",-1),ArrowDown:dg("vert",1)});function dg(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,r,i){let s=o.selection,l=e>0?s.$to:s.$from,c=s.empty;if(s instanceof Re){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=o.doc.resolve(e>0?l.after():l.before())}let d=nn.findGapCursorFrom(l,e,c);return d?(r&&r(o.tr.setSelection(new nn(d))),!0):!1}}function YW(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!nn.valid(o))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&Oe.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new nn(o))),!0)}function JW(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof nn))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let r=J.empty;for(let s=o.length-1;s>=0;s--)r=J.from(o[s].createAndFill(null,r));let i=t.state.tr.replace(n.pos,n.pos,new ye(r,0,0));return i.setSelection(Re.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function QW(t){if(!(t.selection instanceof nn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ct.create(t.doc,[_t.widget(t.selection.head,e,{key:"gapcursor"})])}const eZ=Mt.create({name:"gapCursor",addProseMirrorPlugins(){return[ZW()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ft(Me(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var Tb=200,Bn=function(){};Bn.prototype.append=function(e){return e.length?(e=Bn.from(e),!this.length&&e||e.length<Tb&&this.leafAppend(e)||this.length<Tb&&e.leafPrepend(this)||this.appendInner(e)):this};Bn.prototype.prepend=function(e){return e.length?Bn.from(e).append(this):this};Bn.prototype.appendInner=function(e){return new tZ(this,e)};Bn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Bn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Bn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Bn.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)};Bn.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var r=[];return this.forEach(function(i,s){return r.push(e(i,s))},n,o),r};Bn.from=function(e){return e instanceof Bn?e:e&&e.length?new jI(e):Bn.empty};var jI=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,s,l){for(var c=i;c<s;c++)if(r(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){for(var c=i-1;c>=s;c--)if(r(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Tb)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Tb)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Bn);Bn.empty=new jI([]);var tZ=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,r,i,s){var l=this.left.length;if(r<l&&this.left.forEachInner(o,r,Math.min(i,l),s)===!1||i>l&&this.right.forEachInner(o,Math.max(r-l,0),Math.min(this.length,i)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,r,i,s){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(o,r-l,Math.max(i,l)-l,s+l)===!1||i<l&&this.left.forEachInvertedInner(o,Math.min(r,l),i,s)===!1)return!1},e.prototype.sliceInner=function(o,r){if(o==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(o,r):o>=i?this.right.slice(o-i,r-i):this.left.slice(o,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(o){var r=this.right.leafAppend(o);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(o){var r=this.left.leafPrepend(o);if(r)return new e(r,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(Bn);const nZ=500;class Gr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,i;n&&(r=this.remapping(o,this.items.length),i=r.maps.length);let s=e.tr,l,c,d=[],f=[];return this.items.forEach((p,m)=>{if(!p.step){r||(r=this.remapping(o,m+1),i=r.maps.length),i--,f.push(p);return}if(r){f.push(new vl(p.map));let b=p.step.map(r.slice(i)),y;b&&s.maybeStep(b).doc&&(y=s.mapping.maps[s.mapping.maps.length-1],d.push(new vl(y,void 0,void 0,d.length+f.length))),i--,y&&r.appendMap(y,i)}else s.maybeStep(p.step);if(p.selection)return l=r?p.selection.map(r.slice(i)):p.selection,c=new Gr(this.items.slice(0,o).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:s,selection:l}}addTransform(e,n,o,r){let i=[],s=this.eventCount,l=this.items,c=!r&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),m=new vl(e.mapping.maps[f],p,n),b;(b=c&&c.merge(m))&&(m=b,f?i.pop():l=l.slice(0,l.length-1)),i.push(m),n&&(s++,n=void 0),r||(c=m)}let d=s-o.depth;return d>rZ&&(l=oZ(l,d),s-=d),new Gr(l.append(i),s)}remapping(e,n){let o=new ed;return this.items.forEach((r,i)=>{let s=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,s)},e,n),o}addMaps(e){return this.eventCount==0?this:new Gr(this.items.append(e.map(n=>new vl(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(m=>{m.selection&&l--},r);let c=n;this.items.forEach(m=>{let b=i.getMirror(--c);if(b==null)return;s=Math.min(s,b);let y=i.maps[b];if(m.step){let w=e.steps[b].invert(e.docs[b]),x=m.selection&&m.selection.map(i.slice(c+1,b));x&&l++,o.push(new vl(y,w,x))}else o.push(new vl(y))},r);let d=[];for(let m=n;m<s;m++)d.push(new vl(i.maps[m]));let f=this.items.slice(0,r).append(d).append(o),p=new Gr(f,l);return p.emptyItemCount()>nZ&&(p=p.compress(this.items.length-o.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,r=[],i=0;return this.items.forEach((s,l)=>{if(l>=e)r.push(s),s.selection&&i++;else if(s.step){let c=s.step.map(n.slice(o)),d=c&&c.getMap();if(o--,d&&n.appendMap(d,o),c){let f=s.selection&&s.selection.map(n.slice(o));f&&i++;let p=new vl(d.invert(),c,f),m,b=r.length-1;(m=r.length&&r[b].merge(p))?r[b]=m:r.push(p)}}else s.map&&o--},this.items.length,0),new Gr(Bn.from(r.reverse()),i)}}Gr.empty=new Gr(Bn.empty,0);function oZ(t,e){let n;return t.forEach((o,r)=>{if(o.selection&&e--==0)return n=r,!1}),t.slice(n)}let vl=class PI{constructor(e,n,o,r){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new PI(n.getMap().invert(),n,this.selection)}}};class Tl{constructor(e,n,o,r,i){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=i}}const rZ=20;function iZ(t,e,n,o){let r=n.getMeta(ic),i;if(r)return r.historyState;n.getMeta(aZ)&&(t=new Tl(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(ic))return s.getMeta(ic).redo?new Tl(t.done.addTransform(n,void 0,o,Vg(e)),t.undone,oN(n.mapping.maps),t.prevTime,t.prevComposition):new Tl(t.done,t.undone.addTransform(n,void 0,o,Vg(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-o.newGroupDelay||!sZ(n,t.prevRanges)),d=s?tk(t.prevRanges,n.mapping):oN(n.mapping.maps);return new Tl(t.done.addTransform(n,c?e.selection.getBookmark():void 0,o,Vg(e)),Gr.empty,d,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Tl(t.done.rebased(n,i),t.undone.rebased(n,i),tk(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Tl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),tk(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function sZ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,r)=>{for(let i=0;i<e.length;i+=2)o<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function oN(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,r,i,s)=>e.push(i,s));return e}function tk(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),i=e.map(t[o+1],-1);r<=i&&n.push(r,i)}return n}function lZ(t,e,n){let o=Vg(e),r=ic.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,o);if(!i)return null;let s=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),r,o),c=new Tl(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(s).setMeta(ic,{redo:n,historyState:c})}let nk=!1,rN=null;function Vg(t){let e=t.plugins;if(rN!=e){nk=!1,rN=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){nk=!0;break}}return nk}const ic=new ht("history"),aZ=new ht("closeHistory");function cZ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Qe({key:ic,state:{init(){return new Tl(Gr.empty,Gr.empty,null,0,-1)},apply(e,n,o){return iZ(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,r=o=="historyUndo"?HI:o=="historyRedo"?zI:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function $I(t,e){return(n,o)=>{let r=ic.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(o){let i=lZ(r,n,t);i&&o(e?i.scrollIntoView():i)}return!0}}const HI=$I(!1,!0),zI=$I(!0,!0),uZ=Mt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>HI(t,e),redo:()=>({state:t,dispatch:e})=>zI(t,e)}},addProseMirrorPlugins(){return[cZ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),dZ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",fZ="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ld=(t,e)=>{for(const n in e)t[n]=e[n];return t},Kx="numeric",Wx="ascii",Zx="alpha",dh="asciinumeric",Yf="alphanumeric",Xx="domain",VI="emoji",hZ="scheme",pZ="slashscheme",ok="whitespace";function mZ(t,e){return t in e||(e[t]=[]),e[t]}function qa(t,e,n){e[Kx]&&(e[dh]=!0,e[Yf]=!0),e[Wx]&&(e[dh]=!0,e[Zx]=!0),e[dh]&&(e[Yf]=!0),e[Zx]&&(e[Yf]=!0),e[Yf]&&(e[Xx]=!0),e[VI]&&(e[Xx]=!0);for(const o in e){const r=mZ(o,n);r.indexOf(t)<0&&r.push(t)}}function gZ(t,e){const n={};for(const o in e)e[o].indexOf(t)>=0&&(n[o]=!0);return n}function Lo(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Lo.groups={};Lo.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let o=0;o<e.jr.length;o++){const r=e.jr[o][0],i=e.jr[o][1];if(i&&r.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,o){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,o)},tr(t,e,n,o){o=o||Lo.groups;let r;return e&&e.j?r=e:(r=new Lo(e),n&&o&&qa(e,n,o)),this.jr.push([t,r]),r},ts(t,e,n,o){let r=this;const i=t.length;if(!i)return r;for(let s=0;s<i-1;s++)r=r.tt(t[s]);return r.tt(t[i-1],e,n,o)},tt(t,e,n,o){o=o||Lo.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const i=e;let s,l=r.go(t);if(l?(s=new Lo,ld(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new Lo,i){if(o)if(s.t&&typeof s.t=="string"){const c=ld(gZ(s.t,o),n);qa(i,c,o)}else n&&qa(i,n,o);s.t=i}return r.j[t]=s,s}};const st=(t,e,n,o,r)=>t.ta(e,n,o,r),tn=(t,e,n,o,r)=>t.tr(e,n,o,r),iN=(t,e,n,o,r)=>t.ts(e,n,o,r),me=(t,e,n,o,r)=>t.tt(e,n,o,r),ms="WORD",Yx="UWORD",UI="ASCIINUMERICAL",FI="ALPHANUMERICAL",$h="LOCALHOST",Jx="TLD",Qx="UTLD",Ug="SCHEME",Ru="SLASH_SCHEME",Y_="NUM",eC="WS",J_="NL",fh="OPENBRACE",hh="CLOSEBRACE",Mb="OPENBRACKET",Ab="CLOSEBRACKET",Rb="OPENPAREN",Ob="CLOSEPAREN",Nb="OPENANGLEBRACKET",Db="CLOSEANGLEBRACKET",Lb="FULLWIDTHLEFTPAREN",Bb="FULLWIDTHRIGHTPAREN",Ib="LEFTCORNERBRACKET",jb="RIGHTCORNERBRACKET",Pb="LEFTWHITECORNERBRACKET",$b="RIGHTWHITECORNERBRACKET",Hb="FULLWIDTHLESSTHAN",zb="FULLWIDTHGREATERTHAN",Vb="AMPERSAND",Q_="APOSTROPHE",Ub="ASTERISK",Ml="AT",Fb="BACKSLASH",Gb="BACKTICK",qb="CARET",Nl="COLON",eS="COMMA",Kb="DOLLAR",vi="DOT",Wb="EQUALS",tS="EXCLAMATION",Cr="HYPHEN",ph="PERCENT",Zb="PIPE",Xb="PLUS",Yb="POUND",mh="QUERY",nS="QUOTE",GI="FULLWIDTHMIDDLEDOT",oS="SEMI",wi="SLASH",gh="TILDE",Jb="UNDERSCORE",qI="EMOJI",Qb="SYM";var KI=Object.freeze({__proto__:null,WORD:ms,UWORD:Yx,ASCIINUMERICAL:UI,ALPHANUMERICAL:FI,LOCALHOST:$h,TLD:Jx,UTLD:Qx,SCHEME:Ug,SLASH_SCHEME:Ru,NUM:Y_,WS:eC,NL:J_,OPENBRACE:fh,CLOSEBRACE:hh,OPENBRACKET:Mb,CLOSEBRACKET:Ab,OPENPAREN:Rb,CLOSEPAREN:Ob,OPENANGLEBRACKET:Nb,CLOSEANGLEBRACKET:Db,FULLWIDTHLEFTPAREN:Lb,FULLWIDTHRIGHTPAREN:Bb,LEFTCORNERBRACKET:Ib,RIGHTCORNERBRACKET:jb,LEFTWHITECORNERBRACKET:Pb,RIGHTWHITECORNERBRACKET:$b,FULLWIDTHLESSTHAN:Hb,FULLWIDTHGREATERTHAN:zb,AMPERSAND:Vb,APOSTROPHE:Q_,ASTERISK:Ub,AT:Ml,BACKSLASH:Fb,BACKTICK:Gb,CARET:qb,COLON:Nl,COMMA:eS,DOLLAR:Kb,DOT:vi,EQUALS:Wb,EXCLAMATION:tS,HYPHEN:Cr,PERCENT:ph,PIPE:Zb,PLUS:Xb,POUND:Yb,QUERY:mh,QUOTE:nS,FULLWIDTHMIDDLEDOT:GI,SEMI:oS,SLASH:wi,TILDE:gh,UNDERSCORE:Jb,EMOJI:qI,SYM:Qb});const cs=/[a-z]/,$f=new RegExp("\\p{L}","u"),rk=new RegExp("\\p{Emoji}","u"),us=/\d/,ik=/\s/,sN="\r",sk=`
`,bZ="",yZ="",lk="";let fg=null,hg=null;function vZ(t=[]){const e={};Lo.groups=e;const n=new Lo;fg==null&&(fg=lN(dZ)),hg==null&&(hg=lN(fZ)),me(n,"'",Q_),me(n,"{",fh),me(n,"}",hh),me(n,"[",Mb),me(n,"]",Ab),me(n,"(",Rb),me(n,")",Ob),me(n,"<",Nb),me(n,">",Db),me(n,"",Lb),me(n,"",Bb),me(n,"",Ib),me(n,"",jb),me(n,"",Pb),me(n,"",$b),me(n,"",Hb),me(n,"",zb),me(n,"&",Vb),me(n,"*",Ub),me(n,"@",Ml),me(n,"`",Gb),me(n,"^",qb),me(n,":",Nl),me(n,",",eS),me(n,"$",Kb),me(n,".",vi),me(n,"=",Wb),me(n,"!",tS),me(n,"-",Cr),me(n,"%",ph),me(n,"|",Zb),me(n,"+",Xb),me(n,"#",Yb),me(n,"?",mh),me(n,'"',nS),me(n,"/",wi),me(n,";",oS),me(n,"~",gh),me(n,"_",Jb),me(n,"\\",Fb),me(n,"",GI);const o=tn(n,us,Y_,{[Kx]:!0});tn(o,us,o);const r=tn(o,cs,UI,{[dh]:!0}),i=tn(o,$f,FI,{[Yf]:!0}),s=tn(n,cs,ms,{[Wx]:!0});tn(s,us,r),tn(s,cs,s),tn(r,us,r),tn(r,cs,r);const l=tn(n,$f,Yx,{[Zx]:!0});tn(l,cs),tn(l,us,i),tn(l,$f,l),tn(i,us,i),tn(i,cs),tn(i,$f,i);const c=me(n,sk,J_,{[ok]:!0}),d=me(n,sN,eC,{[ok]:!0}),f=tn(n,ik,eC,{[ok]:!0});me(n,lk,f),me(d,sk,c),me(d,lk,f),tn(d,ik,f),me(f,sN),me(f,sk),tn(f,ik,f),me(f,lk,f);const p=tn(n,rk,qI,{[VI]:!0});me(p,"#"),tn(p,rk,p),me(p,bZ,p);const m=me(p,yZ);me(m,"#"),tn(m,rk,p);const b=[[cs,s],[us,r]],y=[[cs,null],[$f,l],[us,i]];for(let w=0;w<fg.length;w++)wl(n,fg[w],Jx,ms,b);for(let w=0;w<hg.length;w++)wl(n,hg[w],Qx,Yx,y);qa(Jx,{tld:!0,ascii:!0},e),qa(Qx,{utld:!0,alpha:!0},e),wl(n,"file",Ug,ms,b),wl(n,"mailto",Ug,ms,b),wl(n,"http",Ru,ms,b),wl(n,"https",Ru,ms,b),wl(n,"ftp",Ru,ms,b),wl(n,"ftps",Ru,ms,b),qa(Ug,{scheme:!0,ascii:!0},e),qa(Ru,{slashscheme:!0,ascii:!0},e),t=t.sort((w,x)=>w[0]>x[0]?1:-1);for(let w=0;w<t.length;w++){const x=t[w][0],T=t[w][1]?{[hZ]:!0}:{[pZ]:!0};x.indexOf("-")>=0?T[Xx]=!0:cs.test(x)?us.test(x)?T[dh]=!0:T[Wx]=!0:T[Kx]=!0,iN(n,x,x,T)}return iN(n,"localhost",$h,{ascii:!0}),n.jd=new Lo(Qb),{start:n,tokens:ld({groups:e},KI)}}function WI(t,e){const n=wZ(e.replace(/[A-Z]/g,l=>l.toLowerCase())),o=n.length,r=[];let i=0,s=0;for(;s<o;){let l=t,c=null,d=0,f=null,p=-1,m=-1;for(;s<o&&(c=l.go(n[s]));)l=c,l.accepts()?(p=0,m=0,f=l):p>=0&&(p+=n[s].length,m++),d+=n[s].length,i+=n[s].length,s++;i-=p,s-=m,d-=p,r.push({t:f.t,v:e.slice(i-d,i),s:i-d,e:i})}return r}function wZ(t){const e=[],n=t.length;let o=0;for(;o<n;){let r=t.charCodeAt(o),i,s=r<55296||r>56319||o+1===n||(i=t.charCodeAt(o+1))<56320||i>57343?t[o]:t.slice(o,o+2);e.push(s),o+=s.length}return e}function wl(t,e,n,o,r){let i;const s=e.length;for(let l=0;l<s-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new Lo(o),i.jr=r.slice(),t.j[c]=i),t=i}return i=new Lo(n),i.jr=r.slice(),t.j[e[s-1]]=i,i}function lN(t){const e=[],n=[];let o=0,r="0123456789";for(;o<t.length;){let i=0;for(;r.indexOf(t[o+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let s=parseInt(t.substring(o,o+i),10);s>0;s--)n.pop();o+=i}else n.push(t[o]),o++}return e}const Hh={defaultProtocol:"http",events:null,format:aN,formatHref:aN,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function rS(t,e=null){let n=ld({},Hh);t&&(n=ld(n,t instanceof rS?t.o:t));const o=n.ignoreTags,r=[];for(let i=0;i<o.length;i++)r.push(o[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}rS.prototype={o:Hh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const o=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Hh[t],typeof r=="function"&&o&&(r=r(e,n))):typeof r=="function"&&o&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let o=this.o[t];return typeof o=="function"&&e!=null&&(o=o(e,n.t,n)),o},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function aN(t){return t}function ZI(t,e){this.t="token",this.v=t,this.tk=e}ZI.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),o=t.get("format",e,this);return n&&o.length>n?o.substring(0,n)+"":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Hh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),o=t.get("formatHref",n,this),r=t.get("tagName",n,e),i=this.toFormattedString(t),s={},l=t.get("className",n,e),c=t.get("target",n,e),d=t.get("rel",n,e),f=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return s.href=o,l&&(s.class=l),c&&(s.target=c),d&&(s.rel=d),f&&ld(s,f),{tagName:r,attributes:s,content:i,eventListeners:p}}};function d0(t,e){class n extends ZI{constructor(r,i){super(r,i),this.t=t}}for(const o in e)n.prototype[o]=e[o];return n.t=t,n}const cN=d0("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),uN=d0("text"),kZ=d0("nl"),pg=d0("url",{isLink:!0,toHref(t=Hh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==$h&&t[1].t===Nl}}),kr=t=>new Lo(t);function xZ({groups:t}){const e=t.domain.concat([Vb,Ub,Ml,Fb,Gb,qb,Kb,Wb,Cr,Y_,ph,Zb,Xb,Yb,wi,Qb,gh,Jb]),n=[Nl,eS,vi,tS,ph,mh,nS,oS,Nb,Db,fh,hh,Ab,Mb,Rb,Ob,Lb,Bb,Ib,jb,Pb,$b,Hb,zb],o=[Vb,Q_,Ub,Fb,Gb,qb,Kb,Wb,Cr,fh,hh,ph,Zb,Xb,Yb,mh,wi,Qb,gh,Jb],r=kr(),i=me(r,gh);st(i,o,i),st(i,t.domain,i);const s=kr(),l=kr(),c=kr();st(r,t.domain,s),st(r,t.scheme,l),st(r,t.slashscheme,c),st(s,o,i),st(s,t.domain,s);const d=me(s,Ml);me(i,Ml,d),me(l,Ml,d),me(c,Ml,d);const f=me(i,vi);st(f,o,i),st(f,t.domain,i);const p=kr();st(d,t.domain,p),st(p,t.domain,p);const m=me(p,vi);st(m,t.domain,p);const b=kr(cN);st(m,t.tld,b),st(m,t.utld,b),me(d,$h,b);const y=me(p,Cr);me(y,Cr,y),st(y,t.domain,p),st(b,t.domain,p),me(b,vi,m),me(b,Cr,y);const w=me(b,Nl);st(w,t.numeric,cN);const x=me(s,Cr),_=me(s,vi);me(x,Cr,x),st(x,t.domain,s),st(_,o,i),st(_,t.domain,s);const T=kr(pg);st(_,t.tld,T),st(_,t.utld,T),st(T,t.domain,s),st(T,o,i),me(T,vi,_),me(T,Cr,x),me(T,Ml,d);const M=me(T,Nl),R=kr(pg);st(M,t.numeric,R);const O=kr(pg),B=kr();st(O,e,O),st(O,n,B),st(B,e,O),st(B,n,B),me(T,wi,O),me(R,wi,O);const I=me(l,Nl),H=me(c,Nl),q=me(H,wi),Q=me(q,wi);st(l,t.domain,s),me(l,vi,_),me(l,Cr,x),st(c,t.domain,s),me(c,vi,_),me(c,Cr,x),st(I,t.domain,O),me(I,wi,O),me(I,mh,O),st(Q,t.domain,O),st(Q,e,O),me(Q,wi,O);const ve=[[fh,hh],[Mb,Ab],[Rb,Ob],[Nb,Db],[Lb,Bb],[Ib,jb],[Pb,$b],[Hb,zb]];for(let ue=0;ue<ve.length;ue++){const[xe,be]=ve[ue],pe=me(O,xe);me(B,xe,pe),me(pe,be,O);const j=kr(pg);st(pe,e,j);const z=kr();st(pe,n),st(j,e,j),st(j,n,z),st(z,e,j),st(z,n,z),me(j,be,O),me(z,be,O)}return me(r,$h,T),me(r,J_,kZ),{start:r,tokens:KI}}function CZ(t,e,n){let o=n.length,r=0,i=[],s=[];for(;r<o;){let l=t,c=null,d=null,f=0,p=null,m=-1;for(;r<o&&!(c=l.go(n[r].t));)s.push(n[r++]);for(;r<o&&(d=c||l.go(n[r].t));)c=null,l=d,l.accepts()?(m=0,p=l):m>=0&&m++,r++,f++;if(m<0)r-=f,r<o&&(s.push(n[r]),r++);else{s.length>0&&(i.push(ak(uN,e,s)),s=[]),r-=m,f-=m;const b=p.t,y=n.slice(r-f,r);i.push(ak(b,e,y))}}return s.length>0&&i.push(ak(uN,e,s)),i}function ak(t,e,n){const o=n[0].s,r=n[n.length-1].e,i=e.slice(o,r);return new t(i,n)}const _Z=typeof console<"u"&&console&&console.warn||(()=>{}),SZ="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",qt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function EZ(){return Lo.groups={},qt.scanner=null,qt.parser=null,qt.tokenQueue=[],qt.pluginQueue=[],qt.customSchemes=[],qt.initialized=!1,qt}function dN(t,e=!1){if(qt.initialized&&_Z(`linkifyjs: already initialized - will not register custom scheme "${t}" ${SZ}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);qt.customSchemes.push([t,e])}function TZ(){qt.scanner=vZ(qt.customSchemes);for(let t=0;t<qt.tokenQueue.length;t++)qt.tokenQueue[t][1]({scanner:qt.scanner});qt.parser=xZ(qt.scanner.tokens);for(let t=0;t<qt.pluginQueue.length;t++)qt.pluginQueue[t][1]({scanner:qt.scanner,parser:qt.parser});return qt.initialized=!0,qt}function iS(t){return qt.initialized||TZ(),CZ(qt.parser.start,t,WI(qt.scanner.start,t))}iS.scan=WI;function XI(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const o=new rS(n),r=iS(t),i=[];for(let s=0;s<r.length;s++){const l=r[s];l.isLink&&(!e||l.t===e)&&o.check(l)&&i.push(l.toFormattedObject(o))}return i}function MZ(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function AZ(t){return new Qe({key:new ht("autolink"),appendTransaction:(e,n,o)=>{const r=e.some(d=>d.docChanged)&&!n.doc.eq(o.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!r||i)return;const{tr:s}=o,l=pI(n.doc,[...e]);if(bI(l).forEach(({newRange:d})=>{const f=mI(o.doc,d,b=>b.isTextblock);let p,m;if(f.length>1?(p=f[0],m=o.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ")):f.length&&o.doc.textBetween(d.from,d.to," "," ").endsWith(" ")&&(p=f[0],m=o.doc.textBetween(p.pos,d.to,void 0," ")),p&&m){const b=m.split(" ").filter(_=>_!=="");if(b.length<=0)return!1;const y=b[b.length-1],w=p.pos+m.lastIndexOf(y);if(!y)return!1;const x=iS(y).map(_=>_.toObject(t.defaultProtocol));if(!MZ(x))return!1;x.filter(_=>_.isLink).map(_=>({..._,from:w+_.start+1,to:w+_.end+1})).filter(_=>o.schema.marks.code?!o.doc.rangeHasMark(_.from,_.to,o.schema.marks.code):!0).filter(_=>t.validate(_.value)).filter(_=>t.shouldAutoLink(_.value)).forEach(_=>{G_(_.from,_.to,o.doc).some(T=>T.mark.type===t.type)||s.addMark(_.from,_.to,t.type.create({href:_.href}))})}}),!!s.steps.length)return s}})}function RZ(t){return new Qe({key:new ht("handleClickLink"),props:{handleClick:(e,n,o)=>{var r,i;if(o.button!==0||!e.editable)return!1;let s=o.target;const l=[];for(;s.nodeName!=="DIV";)l.push(s),s=s.parentNode;if(!l.find(m=>m.nodeName==="A"))return!1;const c=gI(e.state,t.type.name),d=o.target,f=(r=d==null?void 0:d.href)!==null&&r!==void 0?r:c.href,p=(i=d==null?void 0:d.target)!==null&&i!==void 0?i:c.target;return d&&f?(window.open(f,p),!0):!1}}})}function OZ(t){return new Qe({key:new ht("handlePasteLink"),props:{handlePaste:(e,n,o)=>{const{state:r}=e,{selection:i}=r,{empty:s}=i;if(s)return!1;let l="";o.content.forEach(d=>{l+=d.textContent});const c=XI(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}const NZ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function La(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(o=>{const r=typeof o=="string"?o:o.scheme;r&&n.push(r)}),!t||t.replace(NZ,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const DZ=zo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){dN(t);return}dN(t.scheme,t.optionalSlashes)})},onDestroy(){EZ()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!La(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!La(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!La(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",lr(this.options.HTMLAttributes,t),0]:["a",lr(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!La(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!La(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[dc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:o}=this.options,r=XI(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:s=>!!La(s,n),protocols:n,defaultProtocol:o}));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(AZ({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o=>this.options.isAllowedUri(o,{defaultValidate:r=>!!La(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(RZ({type:this.type})),this.options.linkOnPaste&&t.push(OZ({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),LZ=Pi.create({name:"text",group:"inline"}),Br=()=>new Map,tC=t=>{const e=Br();return t.forEach((n,o)=>{e.set(o,n)}),e},zi=(t,e,n)=>{let o=t.get(e);return o===void 0&&t.set(e,o=n()),o},BZ=(t,e)=>{const n=[];for(const[o,r]of t)n.push(e(r,o));return n},IZ=(t,e)=>{for(const[n,o]of t)if(e(o,n))return!0;return!1},hc=()=>new Set,ck=t=>t[t.length-1],jZ=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},pc=Array.from,PZ=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},nC=Array.isArray;class YI{constructor(){this._observers=Br()}on(e,n){return zi(this._observers,e,hc).add(n),n}once(e,n){const o=(...r)=>{this.off(e,o),n(...r)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return pc((this._observers.get(e)||Br()).values()).forEach(o=>o(...n))}destroy(){this._observers=Br()}}const Is=Math.floor,Fg=Math.abs,Os=(t,e)=>t<e?t:e,Ni=(t,e)=>t>e?t:e,JI=t=>t!==0?t<0:1/t<0,fN=1,hN=2,uk=4,dk=8,zh=32,Ns=64,vo=128,$Z=1<<29,f0=31,oC=63,sc=127,HZ=2147483647,QI=Number.MAX_SAFE_INTEGER,zZ=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Is(t)===t),VZ=String.fromCharCode,UZ=t=>t.toLowerCase(),FZ=/^\s*/g,GZ=t=>t.replace(FZ,""),qZ=/([A-Z])/g,pN=(t,e)=>GZ(t.replace(qZ,n=>`${e}${UZ(n)}`)),KZ=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.codePointAt(r);return o},Vh=typeof TextEncoder<"u"?new TextEncoder:null,WZ=t=>Vh.encode(t),ZZ=Vh?WZ:KZ;let bh=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});bh&&bh.decode(new Uint8Array).length===1&&(bh=null);class gp{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const bp=()=>new gp,XZ=t=>{const e=bp();return t(e),Wr(e)},YZ=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Wr=t=>{const e=new Uint8Array(YZ(t));let n=0;for(let o=0;o<t.bufs.length;o++){const r=t.bufs[o];e.set(r,n),n+=r.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},JZ=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ni(n,e)*2),t.cpos=0)},Rn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},rC=Rn,bt=(t,e)=>{for(;e>sc;)Rn(t,vo|sc&e),e=Is(e/128);Rn(t,sc&e)},sS=(t,e)=>{const n=JI(e);for(n&&(e=-e),Rn(t,(e>oC?vo:0)|(n?Ns:0)|oC&e),e=Is(e/64);e>0;)Rn(t,(e>sc?vo:0)|sc&e),e=Is(e/128)},iC=new Uint8Array(3e4),QZ=iC.length/3,eX=(t,e)=>{if(e.length<QZ){const n=Vh.encodeInto(e,iC).written||0;bt(t,n);for(let o=0;o<n;o++)Rn(t,iC[o])}else tr(t,ZZ(e))},tX=(t,e)=>{const n=unescape(encodeURIComponent(e)),o=n.length;bt(t,o);for(let r=0;r<o;r++)Rn(t,n.codePointAt(r))},Gu=Vh&&Vh.encodeInto?eX:tX,h0=(t,e)=>{const n=t.cbuf.length,o=t.cpos,r=Os(n-o,e.length),i=e.length-r;t.cbuf.set(e.subarray(0,r),o),t.cpos+=r,i>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ni(n*2,i)),t.cbuf.set(e.subarray(r)),t.cpos=i)},tr=(t,e)=>{bt(t,e.byteLength),h0(t,e)},lS=(t,e)=>{JZ(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},nX=(t,e)=>lS(t,4).setFloat32(0,e,!1),oX=(t,e)=>lS(t,8).setFloat64(0,e,!1),rX=(t,e)=>lS(t,8).setBigInt64(0,e,!1),mN=new DataView(new ArrayBuffer(4)),iX=t=>(mN.setFloat32(0,t),mN.getFloat32(0)===t),ad=(t,e)=>{switch(typeof e){case"string":Rn(t,119),Gu(t,e);break;case"number":zZ(e)&&Fg(e)<=HZ?(Rn(t,125),sS(t,e)):iX(e)?(Rn(t,124),nX(t,e)):(Rn(t,123),oX(t,e));break;case"bigint":Rn(t,122),rX(t,e);break;case"object":if(e===null)Rn(t,126);else if(nC(e)){Rn(t,117),bt(t,e.length);for(let n=0;n<e.length;n++)ad(t,e[n])}else if(e instanceof Uint8Array)Rn(t,116),tr(t,e);else{Rn(t,118);const n=Object.keys(e);bt(t,n.length);for(let o=0;o<n.length;o++){const r=n[o];Gu(t,r),ad(t,e[r])}}break;case"boolean":Rn(t,e?120:121);break;default:Rn(t,127)}};class gN extends gp{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&bt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const bN=t=>{t.count>0&&(sS(t.encoder,t.count===1?t.s:-t.s),t.count>1&&bt(t.encoder,t.count-2))};class Gg{constructor(){this.encoder=new gp,this.s=0,this.count=0}write(e){this.s===e?this.count++:(bN(this),this.count=1,this.s=e)}toUint8Array(){return bN(this),Wr(this.encoder)}}const yN=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);sS(t.encoder,e),t.count>1&&bt(t.encoder,t.count-2)}};class fk{constructor(){this.encoder=new gp,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(yN(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return yN(this),Wr(this.encoder)}}class sX{constructor(){this.sarr=[],this.s="",this.lensE=new Gg}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new gp;return this.sarr.push(this.s),this.s="",Gu(e,this.sarr.join("")),h0(e,this.lensE.toUint8Array()),Wr(e)}}const Zl=t=>new Error(t),Jr=()=>{throw Zl("Method unimplemented")},Vo=()=>{throw Zl("Unexpected case")},e5=Zl("Unexpected end of array"),t5=Zl("Integer out of Range");class p0{constructor(e){this.arr=e,this.pos=0}}const aS=t=>new p0(t),lX=t=>t.pos!==t.arr.length,aX=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},_r=t=>aX(t,Kt(t)),Uh=t=>t.arr[t.pos++],Kt=t=>{let e=0,n=1;const o=t.arr.length;for(;t.pos<o;){const r=t.arr[t.pos++];if(e=e+(r&sc)*n,n*=128,r<vo)return e;if(e>QI)throw t5}throw e5},cS=t=>{let e=t.arr[t.pos++],n=e&oC,o=64;const r=(e&Ns)>0?-1:1;if((e&vo)===0)return r*n;const i=t.arr.length;for(;t.pos<i;){if(e=t.arr[t.pos++],n=n+(e&sc)*o,o*=128,e<vo)return r*n;if(n>QI)throw t5}throw e5},cX=t=>{let e=Kt(t);if(e===0)return"";{let n=String.fromCodePoint(Uh(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Uh(t));else for(;e>0;){const o=e<1e4?e:1e4,r=t.arr.subarray(t.pos,t.pos+o);t.pos+=o,n+=String.fromCodePoint.apply(null,r),e-=o}return decodeURIComponent(escape(n))}},uX=t=>bh.decode(_r(t)),sC=bh?uX:cX,uS=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},dX=t=>uS(t,4).getFloat32(0,!1),fX=t=>uS(t,8).getFloat64(0,!1),hX=t=>uS(t,8).getBigInt64(0,!1),pX=[t=>{},t=>null,cS,dX,fX,hX,t=>!1,t=>!0,sC,t=>{const e=Kt(t),n={};for(let o=0;o<e;o++){const r=sC(t);n[r]=ey(t)}return n},t=>{const e=Kt(t),n=[];for(let o=0;o<e;o++)n.push(ey(t));return n},_r],ey=t=>pX[127-Uh(t)](t);class vN extends p0{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),lX(this)?this.count=Kt(this)+1:this.count=-1),this.count--,this.s}}class qg extends p0{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=cS(this);const e=JI(this.s);this.count=1,e&&(this.s=-this.s,this.count=Kt(this)+2)}return this.count--,this.s}}class hk extends p0{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=cS(this),n=e&1;this.diff=Is(e/2),this.count=1,n&&(this.count=Kt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class mX{constructor(e){this.decoder=new qg(e),this.str=sC(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const gX=crypto.getRandomValues.bind(crypto),bX=Math.random,n5=()=>gX(new Uint32Array(1))[0],yX=t=>t[Is(bX()*t.length)],vX="10000000-1000-4000-8000"+-1e11,wX=()=>vX.replace(/[018]/g,t=>(t^n5()&15>>t/4).toString(16)),kX=Date.now,wN=t=>new Promise(t);Promise.all.bind(Promise);const kN=t=>t===void 0?null:t;class xX{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let o5=new xX,CX=!0;try{typeof localStorage<"u"&&localStorage&&(o5=localStorage,CX=!1)}catch{}const _X=o5,SX=Object.assign,r5=Object.keys,EX=(t,e)=>{for(const n in t)e(t[n],n)},xN=t=>r5(t).length,TX=t=>{for(const e in t)return!1;return!0},i5=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},MX=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),AX=(t,e)=>t===e||xN(t)===xN(e)&&i5(t,(n,o)=>(n!==void 0||MX(e,o))&&e[o]===n),RX=Object.freeze,s5=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&s5(t[e])}return RX(t)},dS=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&dS(t,e,n+1)}},OX=(t,e)=>e.includes(t);var l5={};const cd=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",a5=typeof window<"u"&&typeof document<"u"&&!cd;let gi;const NX=()=>{if(gi===void 0)if(cd){gi=Br();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const o=t[n];o[0]==="-"?(e!==null&&gi.set(e,""),e=o):e!==null&&(gi.set(e,o),e=null)}e!==null&&gi.set(e,"")}else typeof location=="object"?(gi=Br(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");gi.set(`--${pN(e,"-")}`,n),gi.set(`-${pN(e,"-")}`,n)}})):gi=Br();return gi},lC=t=>NX().has(t),ty=t=>kN(cd?l5[t.toUpperCase().replaceAll("-","_")]:_X.getItem(t)),c5=t=>lC("--"+t)||ty(t)!==null;c5("production");const DX=cd&&OX(l5.FORCE_COLOR,["true","1","2"]),LX=DX||!lC("--no-colors")&&!c5("no-color")&&(!cd||process.stdout.isTTY)&&(!cd||lC("--color")||ty("COLORTERM")!==null||(ty("TERM")||"").includes("color")),BX=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=VZ(t[n]);return btoa(e)},IX=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),jX=a5?BX:IX,PX=t=>XZ(e=>ad(e,t));class $X{constructor(e,n){this.left=e,this.right=n}}const ds=(t,e)=>new $X(t,e),HX=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const zX=t=>BZ(t,(e,n)=>`${n}:${e};`).join(""),VX=t=>class{constructor(n){this._=n}destroy(){t(this._)}},UX=VX(clearTimeout),fS=(t,e)=>new UX(setTimeout(e,t)),Fs=Symbol,u5=Fs(),d5=Fs(),FX=Fs(),GX=Fs(),qX=Fs(),f5=Fs(),KX=Fs(),hS=Fs(),WX=Fs(),ZX=t=>{var r;t.length===1&&((r=t[0])==null?void 0:r.constructor)===Function&&(t=t[0]());const e=[],n=[];let o=0;for(;o<t.length;o++){const i=t[o];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)e.push(i);else if(i.constructor===Object)break}for(o>0&&n.push(e.join(""));o<t.length;o++){const i=t[o];i instanceof Symbol||n.push(i)}return n},XX={[u5]:ds("font-weight","bold"),[d5]:ds("font-weight","normal"),[FX]:ds("color","blue"),[qX]:ds("color","green"),[GX]:ds("color","grey"),[f5]:ds("color","red"),[KX]:ds("color","purple"),[hS]:ds("color","orange"),[WX]:ds("color","black")},YX=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[],o=Br();let r=[],i=0;for(;i<t.length;i++){const l=t[i],c=XX[l];if(c!==void 0)o.set(c.left,c.right);else{if(l===void 0)break;if(l.constructor===String||l.constructor===Number){const d=zX(o);i>0||d.length>0?(e.push("%c"+l),n.push(d)):e.push(l)}else break}}for(i>0&&(r=n,r.unshift(e.join("")));i<t.length;i++){const l=t[i];l instanceof Symbol||r.push(l)}return r},h5=LX?YX:ZX,JX=(...t)=>{console.log(...h5(t)),m5.forEach(e=>e.print(t))},p5=(...t)=>{console.warn(...h5(t)),t.unshift(hS),m5.forEach(e=>e.print(t))},m5=hc(),g5=t=>({[Symbol.iterator](){return this},next:t}),QX=(t,e)=>g5(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),pk=(t,e)=>g5(()=>{const{done:n,value:o}=t.next();return{done:n,value:n?void 0:e(o)}});class pS{constructor(e,n){this.clock=e,this.len=n}}class vd{constructor(){this.clients=new Map}}const Xl=(t,e,n)=>e.clients.forEach((o,r)=>{const i=t.doc.store.clients.get(r);for(let s=0;s<o.length;s++){const l=o[s];_5(t,i,l.clock,l.len,n)}}),eY=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const r=Is((n+o)/2),i=t[r],s=i.clock;if(s<=e){if(e<s+i.len)return r;n=r+1}else o=r-1}return null},wd=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&eY(n,e.clock)!==null},mS=t=>{t.clients.forEach(e=>{e.sort((r,i)=>r.clock-i.clock);let n,o;for(n=1,o=1;n<e.length;n++){const r=e[o-1],i=e[n];r.clock+r.len>=i.clock?r.len=Ni(r.len,i.clock+i.len-r.clock):(o<n&&(e[o]=i),o++)}e.length=o})},aC=t=>{const e=new vd;for(let n=0;n<t.length;n++)t[n].clients.forEach((o,r)=>{if(!e.clients.has(r)){const i=o.slice();for(let s=n+1;s<t.length;s++)jZ(i,t[s].clients.get(r)||[]);e.clients.set(r,i)}});return mS(e),e},Fh=(t,e,n,o)=>{zi(t.clients,e,()=>[]).push(new pS(n,o))},b5=()=>new vd,tY=t=>{const e=b5();return t.clients.forEach((n,o)=>{const r=[];for(let i=0;i<n.length;i++){const s=n[i];if(s.deleted){const l=s.id.clock;let c=s.length;if(i+1<n.length)for(let d=n[i+1];i+1<n.length&&d.deleted;d=n[++i+1])c+=d.length;r.push(new pS(l,c))}}r.length>0&&e.clients.set(o,r)}),e},gS=(t,e)=>{bt(t.restEncoder,e.clients.size),pc(e.clients.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{t.resetDsCurVal(),bt(t.restEncoder,n);const r=o.length;bt(t.restEncoder,r);for(let i=0;i<r;i++){const s=o[i];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},nY=t=>{const e=new vd,n=Kt(t.restDecoder);for(let o=0;o<n;o++){t.resetDsCurVal();const r=Kt(t.restDecoder),i=Kt(t.restDecoder);if(i>0){const s=zi(e.clients,r,()=>[]);for(let l=0;l<i;l++)s.push(new pS(t.readDsClock(),t.readDsLen()))}}return e},CN=(t,e,n)=>{const o=new vd,r=Kt(t.restDecoder);for(let i=0;i<r;i++){t.resetDsCurVal();const s=Kt(t.restDecoder),l=Kt(t.restDecoder),c=n.clients.get(s)||[],d=un(n,s);for(let f=0;f<l;f++){const p=t.readDsClock(),m=p+t.readDsLen();if(p<d){d<m&&Fh(o,s,d,m-d);let b=Di(c,p),y=c[b];for(!y.deleted&&y.id.clock<p&&(c.splice(b+1,0,ly(e,y,p-y.id.clock)),b++);b<c.length&&(y=c[b++],y.id.clock<m);)y.deleted||(m<y.id.clock+y.length&&c.splice(b,0,ly(e,y,m-y.id.clock)),y.delete(e))}else Fh(o,s,p,m-p)}}if(o.clients.size>0){const i=new m0;return bt(i.restEncoder,0),gS(i,o),i.toUint8Array()}return null},y5=n5;class _c extends YI{constructor({guid:e=wX(),collectionid:n=null,gc:o=!0,gcFilter:r=()=>!0,meta:i=null,autoLoad:s=!1,shouldLoad:l=!0}={}){super(),this.gc=o,this.gcFilter=r,this.clientID=y5(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new x5,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=s,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=wN(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const c=()=>wN(d=>{const f=p=>{(p===void 0||p===!0)&&(this.off("sync",f),d())};this.on("sync",f)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=c()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=c()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Bt(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(pc(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Bt(this,e,n)}get(e,n=In){const o=zi(this.share,e,()=>{const i=new n;return i._integrate(this,null),i}),r=o.constructor;if(n!==In&&r!==n)if(r===In){const i=new n;i._map=o._map,o._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=i}),i._start=o._start;for(let s=i._start;s!==null;s=s.right)s.parent=i;return i._length=o._length,this.share.set(e,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,Wu)}getText(e=""){return this.get(e,Yl)}getMap(e=""){return this.get(e,ud)}getXmlElement(e=""){return this.get(e,oo)}getXmlFragment(e=""){return this.get(e,mc)}toJSON(){const e={};return this.share.forEach((n,o)=>{e[o]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,pc(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new _c({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Bt(e.parent.doc,o=>{const r=n.doc;e.deleted||o.subdocsAdded.add(r),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class oY{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Kt(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Kt(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class ny extends oY{constructor(e){super(e),this.keys=[],Kt(e),this.keyClockDecoder=new hk(_r(e)),this.clientDecoder=new qg(_r(e)),this.leftClockDecoder=new hk(_r(e)),this.rightClockDecoder=new hk(_r(e)),this.infoDecoder=new vN(_r(e),Uh),this.stringDecoder=new mX(_r(e)),this.parentInfoDecoder=new vN(_r(e),Uh),this.typeRefDecoder=new qg(_r(e)),this.lenDecoder=new qg(_r(e))}readLeftID(){return new qu(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new qu(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return ey(this.restDecoder)}readBuf(){return _r(this.restDecoder)}readJSON(){return ey(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class rY{constructor(){this.restEncoder=bp()}toUint8Array(){return Wr(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){bt(this.restEncoder,e)}writeDsLen(e){bt(this.restEncoder,e)}}class iY extends rY{writeLeftID(e){bt(this.restEncoder,e.client),bt(this.restEncoder,e.clock)}writeRightID(e){bt(this.restEncoder,e.client),bt(this.restEncoder,e.clock)}writeClient(e){bt(this.restEncoder,e)}writeInfo(e){rC(this.restEncoder,e)}writeString(e){Gu(this.restEncoder,e)}writeParentInfo(e){bt(this.restEncoder,e?1:0)}writeTypeRef(e){bt(this.restEncoder,e)}writeLen(e){bt(this.restEncoder,e)}writeAny(e){ad(this.restEncoder,e)}writeBuf(e){tr(this.restEncoder,e)}writeJSON(e){Gu(this.restEncoder,JSON.stringify(e))}writeKey(e){Gu(this.restEncoder,e)}}class sY{constructor(){this.restEncoder=bp(),this.dsCurrVal=0}toUint8Array(){return Wr(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,bt(this.restEncoder,n)}writeDsLen(e){e===0&&Vo(),bt(this.restEncoder,e-1),this.dsCurrVal+=e}}class m0 extends sY{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new fk,this.clientEncoder=new Gg,this.leftClockEncoder=new fk,this.rightClockEncoder=new fk,this.infoEncoder=new gN(rC),this.stringEncoder=new sX,this.parentInfoEncoder=new gN(rC),this.typeRefEncoder=new Gg,this.lenEncoder=new Gg}toUint8Array(){const e=bp();return bt(e,0),tr(e,this.keyClockEncoder.toUint8Array()),tr(e,this.clientEncoder.toUint8Array()),tr(e,this.leftClockEncoder.toUint8Array()),tr(e,this.rightClockEncoder.toUint8Array()),tr(e,Wr(this.infoEncoder)),tr(e,this.stringEncoder.toUint8Array()),tr(e,Wr(this.parentInfoEncoder)),tr(e,this.typeRefEncoder.toUint8Array()),tr(e,this.lenEncoder.toUint8Array()),h0(e,Wr(this.restEncoder)),Wr(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){ad(this.restEncoder,e)}writeBuf(e){tr(this.restEncoder,e)}writeJSON(e){ad(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const lY=(t,e,n,o)=>{o=Ni(o,e[0].id.clock);const r=Di(e,o);bt(t.restEncoder,e.length-r),t.writeClient(n),bt(t.restEncoder,o);const i=e[r];i.write(t,o-i.id.clock);for(let s=r+1;s<e.length;s++)e[s].write(t,0)},v5=(t,e,n)=>{const o=new Map;n.forEach((r,i)=>{un(e,i)>r&&o.set(i,r)}),g0(e).forEach((r,i)=>{n.has(i)||o.set(i,0)}),bt(t.restEncoder,o.size),pc(o.entries()).sort((r,i)=>i[0]-r[0]).forEach(([r,i])=>{lY(t,e.clients.get(r),r,i)})},aY=(t,e)=>{const n=Br(),o=Kt(t.restDecoder);for(let r=0;r<o;r++){const i=Kt(t.restDecoder),s=new Array(i),l=t.readClient();let c=Kt(t.restDecoder);n.set(l,{i:0,refs:s});for(let d=0;d<i;d++){const f=t.readInfo();switch(f0&f){case 0:{const p=t.readLen();s[d]=new Rr(ot(l,c),p),c+=p;break}case 10:{const p=Kt(t.restDecoder);s[d]=new qr(ot(l,c),p),c+=p;break}default:{const p=(f&(Ns|vo))===0,m=new Tt(ot(l,c),null,(f&vo)===vo?t.readLeftID():null,null,(f&Ns)===Ns?t.readRightID():null,p?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,p&&(f&zh)===zh?t.readString():null,q5(t,f));s[d]=m,c+=m.length}}}}return n},cY=(t,e,n)=>{const o=[];let r=pc(n.keys()).sort((b,y)=>b-y);if(r.length===0)return null;const i=()=>{if(r.length===0)return null;let b=n.get(r[r.length-1]);for(;b.refs.length===b.i;)if(r.pop(),r.length>0)b=n.get(r[r.length-1]);else return null;return b};let s=i();if(s===null)return null;const l=new x5,c=new Map,d=(b,y)=>{const w=c.get(b);(w==null||w>y)&&c.set(b,y)};let f=s.refs[s.i++];const p=new Map,m=()=>{for(const b of o){const y=b.id.client,w=n.get(y);w?(w.i--,l.clients.set(y,w.refs.slice(w.i)),n.delete(y),w.i=0,w.refs=[]):l.clients.set(y,[b]),r=r.filter(x=>x!==y)}o.length=0};for(;;){if(f.constructor!==qr){const y=zi(p,f.id.client,()=>un(e,f.id.client))-f.id.clock;if(y<0)o.push(f),d(f.id.client,f.id.clock-1),m();else{const w=f.getMissing(t,e);if(w!==null){o.push(f);const x=n.get(w)||{refs:[],i:0};if(x.refs.length===x.i)d(w,un(e,w)),m();else{f=x.refs[x.i++];continue}}else(y===0||y<f.length)&&(f.integrate(t,y),p.set(f.id.client,f.id.clock+f.length))}}if(o.length>0)f=o.pop();else if(s!==null&&s.i<s.refs.length)f=s.refs[s.i++];else{if(s=i(),s===null)break;f=s.refs[s.i++]}}if(l.clients.size>0){const b=new m0;return v5(b,l,new Map),bt(b.restEncoder,0),{missing:c,update:b.toUint8Array()}}return null},uY=(t,e)=>v5(t,e.doc.store,e.beforeState),dY=(t,e,n,o=new ny(t))=>Bt(e,r=>{r.local=!1;let i=!1;const s=r.doc,l=s.store,c=aY(o,s),d=cY(r,l,c),f=l.pendingStructs;if(f){for(const[m,b]of f.missing)if(b<un(l,m)){i=!0;break}if(d){for(const[m,b]of d.missing){const y=f.missing.get(m);(y==null||y>b)&&f.missing.set(m,b)}f.update=DN([f.update,d.update])}}else l.pendingStructs=d;const p=CN(o,r,l);if(l.pendingDs){const m=new ny(aS(l.pendingDs));Kt(m.restDecoder);const b=CN(m,r,l);p&&b?l.pendingDs=DN([p,b]):l.pendingDs=p||b}else l.pendingDs=p;if(i){const m=l.pendingStructs.update;l.pendingStructs=null,cC(r.doc,m)}},n,!1),cC=(t,e,n,o=ny)=>{const r=aS(e);dY(r,t,n,new o(r))};class fY{constructor(){this.l=[]}}const _N=()=>new fY,SN=(t,e)=>t.l.push(e),EN=(t,e)=>{const n=t.l,o=n.length;t.l=n.filter(r=>e!==r),o===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},w5=(t,e,n)=>dS(t.l,[e,n]);class qu{constructor(e,n){this.client=e,this.clock=n}}const Lu=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,ot=(t,e)=>new qu(t,e),Gh=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Vo()},qh=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Kh{constructor(e,n,o,r=0){this.type=e,this.tname=n,this.item=o,this.assoc=r}}const yh=t=>new Kh(t.type==null?null:ot(t.type.client,t.type.clock),t.tname??null,t.item==null?null:ot(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class hY{constructor(e,n,o=0){this.type=e,this.index=n,this.assoc=o}}const pY=(t,e,n=0)=>new hY(t,e,n),mg=(t,e,n)=>{let o=null,r=null;return t._item===null?r=Gh(t):o=ot(t._item.id.client,t._item.id.clock),new Kh(o,r,e,n)},mk=(t,e,n=0)=>{let o=t._start;if(n<0){if(e===0)return mg(t,null,n);e--}for(;o!==null;){if(!o.deleted&&o.countable){if(o.length>e)return mg(t,ot(o.id.client,o.id.clock+e),n);e-=o.length}if(o.right===null&&n<0)return mg(t,o.lastId,n);o=o.right}return mg(t,null,n)},mY=(t,e)=>{const n=Ku(t,e),o=e.clock-n.id.clock;return{item:n,diff:o}},gY=(t,e,n=!0)=>{const o=e.store,r=t.item,i=t.type,s=t.tname,l=t.assoc;let c=null,d=0;if(r!==null){if(un(o,r.client)<=r.clock)return null;const f=n?hC(o,r):mY(o,r),p=f.item;if(!(p instanceof Tt))return null;if(c=p.parent,c._item===null||!c._item.deleted){d=p.deleted||!p.countable?0:f.diff+(l>=0?0:1);let m=p.left;for(;m!==null;)!m.deleted&&m.countable&&(d+=m.length),m=m.left}}else{if(s!==null)c=e.get(s);else if(i!==null){if(un(o,i.client)<=i.clock)return null;const{item:f}=n?hC(o,i):{item:Ku(o,i)};if(f instanceof Tt&&f.content instanceof si)c=f.content.type;else return null}else throw Vo();l>=0?d=c._length:d=0}return pY(c,d,t.assoc)},TN=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Lu(t.item,e.item)&&Lu(t.type,e.type)&&t.assoc===e.assoc;class bS{constructor(e,n){this.ds=e,this.sv=n}}const k5=(t,e)=>new bS(t,e),gk=t=>k5(tY(t.store),g0(t.store)),$a=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!wd(e.ds,t.id),uC=(t,e)=>{const n=zi(t.meta,uC,hc),o=t.doc.store;n.has(e)||(e.sv.forEach((r,i)=>{r<un(o,i)&&Bo(t,ot(i,r))}),Xl(t,e.ds,r=>{}),n.add(e))};class x5{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const g0=t=>{const e=new Map;return t.clients.forEach((n,o)=>{const r=n[n.length-1];e.set(o,r.id.clock+r.length)}),e},un=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const o=n[n.length-1];return o.id.clock+o.length},C5=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const o=n[n.length-1];if(o.id.clock+o.length!==e.id.clock)throw Vo()}n.push(e)},Di=(t,e)=>{let n=0,o=t.length-1,r=t[o],i=r.id.clock;if(i===e)return o;let s=Is(e/(i+r.length-1)*o);for(;n<=o;){if(r=t[s],i=r.id.clock,i<=e){if(e<i+r.length)return s;n=s+1}else o=s-1;s=Is((n+o)/2)}throw Vo()},bY=(t,e)=>{const n=t.clients.get(e.client);return n[Di(n,e.clock)]},Ku=bY,dC=(t,e,n)=>{const o=Di(e,n),r=e[o];return r.id.clock<n&&r instanceof Tt?(e.splice(o+1,0,ly(t,r,n-r.id.clock)),o+1):o},Bo=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[dC(t,n,e.clock)]},MN=(t,e,n)=>{const o=e.clients.get(n.client),r=Di(o,n.clock),i=o[r];return n.clock!==i.id.clock+i.length-1&&i.constructor!==Rr&&o.splice(r+1,0,ly(t,i,n.clock-i.id.clock+1)),i},yY=(t,e,n)=>{const o=t.clients.get(e.id.client);o[Di(o,e.id.clock)]=n},_5=(t,e,n,o,r)=>{if(o===0)return;const i=n+o;let s=dC(t,e,n),l;do l=e[s++],i<l.id.clock+l.length&&dC(t,e,i),r(l);while(s<e.length&&e[s].id.clock<i)};class vY{constructor(e,n,o){this.doc=e,this.deleteSet=new vd,this.beforeState=g0(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const AN=(t,e)=>e.deleteSet.clients.size===0&&!IZ(e.afterState,(n,o)=>e.beforeState.get(o)!==n)?!1:(mS(e.deleteSet),uY(t,e),gS(t,e.deleteSet),!0),RN=(t,e,n)=>{const o=e._item;(o===null||o.id.clock<(t.beforeState.get(o.id.client)||0)&&!o.deleted)&&zi(t.changed,e,hc).add(n)},Kg=(t,e)=>{let n=t[e],o=t[e-1],r=e;for(;r>0;n=o,o=t[--r-1]){if(o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)){n instanceof Tt&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o);continue}break}const i=e-r;return i&&t.splice(e+1-i,i),i},wY=(t,e,n)=>{for(const[o,r]of t.clients.entries()){const i=e.clients.get(o);for(let s=r.length-1;s>=0;s--){const l=r[s],c=l.clock+l.len;for(let d=Di(i,l.clock),f=i[d];d<i.length&&f.id.clock<c;f=i[++d]){const p=i[d];if(l.clock+l.len<=p.id.clock)break;p instanceof Tt&&p.deleted&&!p.keep&&n(p)&&p.gc(e,!1)}}}},kY=(t,e)=>{t.clients.forEach((n,o)=>{const r=e.clients.get(o);for(let i=n.length-1;i>=0;i--){const s=n[i],l=Os(r.length-1,1+Di(r,s.clock+s.len-1));for(let c=l,d=r[c];c>0&&d.id.clock>=s.clock;d=r[c])c-=1+Kg(r,c)}})},S5=(t,e)=>{if(e<t.length){const n=t[e],o=n.doc,r=o.store,i=n.deleteSet,s=n._mergeStructs;try{mS(i),n.afterState=g0(n.doc.store),o.emit("beforeObserverCalls",[n,o]);const l=[];n.changed.forEach((c,d)=>l.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(n,c)})),l.push(()=>{n.changedParentTypes.forEach((c,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(c=c.filter(f=>f.target._item===null||!f.target._item.deleted),c.forEach(f=>{f.currentTarget=d,f._path=null}),c.sort((f,p)=>f.path.length-p.path.length),w5(d._dEH,c,n))})}),l.push(()=>o.emit("afterTransaction",[n,o])),dS(l,[]),n._needFormattingCleanup&&zY(n)}finally{o.gc&&wY(i,r,o.gcFilter),kY(i,r),n.afterState.forEach((f,p)=>{const m=n.beforeState.get(p)||0;if(m!==f){const b=r.clients.get(p),y=Ni(Di(b,m),1);for(let w=b.length-1;w>=y;)w-=1+Kg(b,w)}});for(let f=s.length-1;f>=0;f--){const{client:p,clock:m}=s[f].id,b=r.clients.get(p),y=Di(b,m);y+1<b.length&&Kg(b,y+1)>1||y>0&&Kg(b,y)}if(!n.local&&n.afterState.get(o.clientID)!==n.beforeState.get(o.clientID)&&(JX(hS,u5,"[yjs] ",d5,f5,"Changed the client-id because another client seems to be using it."),o.clientID=y5()),o.emit("afterTransactionCleanup",[n,o]),o._observers.has("update")){const f=new iY;AN(f,n)&&o.emit("update",[f.toUint8Array(),n.origin,o,n])}if(o._observers.has("updateV2")){const f=new m0;AN(f,n)&&o.emit("updateV2",[f.toUint8Array(),n.origin,o,n])}const{subdocsAdded:l,subdocsLoaded:c,subdocsRemoved:d}=n;(l.size>0||d.size>0||c.size>0)&&(l.forEach(f=>{f.clientID=o.clientID,f.collectionid==null&&(f.collectionid=o.collectionid),o.subdocs.add(f)}),d.forEach(f=>o.subdocs.delete(f)),o.emit("subdocs",[{loaded:c,added:l,removed:d},o,n]),d.forEach(f=>f.destroy())),t.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,t])):S5(t,e+1)}}},Bt=(t,e,n=null,o=!0)=>{const r=t._transactionCleanups;let i=!1,s=null;t._transaction===null&&(i=!0,t._transaction=new vY(t,n,o),r.push(t._transaction),r.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{s=e(t._transaction)}finally{if(i){const l=t._transaction===r[0];t._transaction=null,l&&S5(r,0)}}return s};class xY{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const ON=(t,e,n)=>{Xl(t,n.deletions,o=>{o instanceof Tt&&e.scope.some(r=>r===t.doc||qh(r,o))&&xS(o,!1)})},NN=(t,e,n)=>{let o=null;const r=t.doc,i=t.scope;Bt(r,l=>{for(;e.length>0&&t.currStackItem===null;){const c=r.store,d=e.pop(),f=new Set,p=[];let m=!1;Xl(l,d.insertions,b=>{if(b instanceof Tt){if(b.redone!==null){let{item:y,diff:w}=hC(c,b.id);w>0&&(y=Bo(l,ot(y.id.client,y.id.clock+w))),b=y}!b.deleted&&i.some(y=>y===l.doc||qh(y,b))&&p.push(b)}}),Xl(l,d.deletions,b=>{b instanceof Tt&&i.some(y=>y===l.doc||qh(y,b))&&!wd(d.insertions,b.id)&&f.add(b)}),f.forEach(b=>{m=G5(l,b,f,d.insertions,t.ignoreRemoteMapChanges,t)!==null||m});for(let b=p.length-1;b>=0;b--){const y=p[b];t.deleteFilter(y)&&(y.delete(l),m=!0)}t.currStackItem=m?d:null}l.changed.forEach((c,d)=>{c.has(null)&&d._searchMarker&&(d._searchMarker.length=0)}),o=l},t);const s=t.currStackItem;if(s!=null){const l=o.changedParentTypes;t.emit("stack-item-popped",[{stackItem:s,type:n,changedParentTypes:l,origin:t},t]),t.currStackItem=null}return s};class E5 extends YI{constructor(e,{captureTimeout:n=500,captureTransaction:o=c=>!0,deleteFilter:r=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:s=!1,doc:l=nC(e)?e[0].doc:e instanceof _c?e:e.doc}={}){super(),this.scope=[],this.doc=l,this.addToScope(e),this.deleteFilter=r,i.add(this),this.trackedOrigins=i,this.captureTransaction=o,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=s,this.captureTimeout=n,this.afterTransactionHandler=c=>{if(!this.captureTransaction(c)||!this.scope.some(x=>c.changedParentTypes.has(x)||x===this.doc)||!this.trackedOrigins.has(c.origin)&&(!c.origin||!this.trackedOrigins.has(c.origin.constructor)))return;const d=this.undoing,f=this.redoing,p=d?this.redoStack:this.undoStack;d?this.stopCapturing():f||this.clear(!1,!0);const m=new vd;c.afterState.forEach((x,_)=>{const T=c.beforeState.get(_)||0,M=x-T;M>0&&Fh(m,_,T,M)});const b=kX();let y=!1;if(this.lastChange>0&&b-this.lastChange<this.captureTimeout&&p.length>0&&!d&&!f){const x=p[p.length-1];x.deletions=aC([x.deletions,c.deleteSet]),x.insertions=aC([x.insertions,m])}else p.push(new xY(c.deleteSet,m)),y=!0;!d&&!f&&(this.lastChange=b),Xl(c,c.deleteSet,x=>{x instanceof Tt&&this.scope.some(_=>_===c.doc||qh(_,x))&&xS(x,!0)});const w=[{stackItem:p[p.length-1],origin:c.origin,type:d?"redo":"undo",changedParentTypes:c.changedParentTypes},this];y?this.emit("stack-item-added",w):this.emit("stack-item-updated",w)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=nC(e)?e:[e],e.forEach(o=>{n.has(o)||(n.add(o),(o instanceof In?o.doc!==this.doc:o!==this.doc)&&p5("[yjs#509] Not same Y.Doc"),this.scope.push(o))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(o=>{e&&(this.undoStack.forEach(r=>ON(o,this,r)),this.undoStack=[]),n&&(this.redoStack.forEach(r=>ON(o,this,r)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=NN(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=NN(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*CY(t){const e=Kt(t.restDecoder);for(let n=0;n<e;n++){const o=Kt(t.restDecoder),r=t.readClient();let i=Kt(t.restDecoder);for(let s=0;s<o;s++){const l=t.readInfo();if(l===10){const c=Kt(t.restDecoder);yield new qr(ot(r,i),c),i+=c}else if((f0&l)!==0){const c=(l&(Ns|vo))===0,d=new Tt(ot(r,i),null,(l&vo)===vo?t.readLeftID():null,null,(l&Ns)===Ns?t.readRightID():null,c?t.readParentInfo()?t.readString():t.readLeftID():null,c&&(l&zh)===zh?t.readString():null,q5(t,l));yield d,i+=d.length}else{const c=t.readLen();yield new Rr(ot(r,i),c),i+=c}}}}class _Y{constructor(e,n){this.gen=CY(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===qr);return this.curr}}class SY{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const EY=(t,e)=>{if(t.constructor===Rr){const{client:n,clock:o}=t.id;return new Rr(ot(n,o+e),t.length-e)}else if(t.constructor===qr){const{client:n,clock:o}=t.id;return new qr(ot(n,o+e),t.length-e)}else{const n=t,{client:o,clock:r}=n.id;return new Tt(ot(o,r+e),null,ot(o,r+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},DN=(t,e=ny,n=m0)=>{if(t.length===1)return t[0];const o=t.map(f=>new e(aS(f)));let r=o.map(f=>new _Y(f,!0)),i=null;const s=new n,l=new SY(s);for(;r=r.filter(m=>m.curr!==null),r.sort((m,b)=>{if(m.curr.id.client===b.curr.id.client){const y=m.curr.id.clock-b.curr.id.clock;return y===0?m.curr.constructor===b.curr.constructor?0:m.curr.constructor===qr?1:-1:y}else return b.curr.id.client-m.curr.id.client}),r.length!==0;){const f=r[0],p=f.curr.id.client;if(i!==null){let m=f.curr,b=!1;for(;m!==null&&m.id.clock+m.length<=i.struct.id.clock+i.struct.length&&m.id.client>=i.struct.id.client;)m=f.next(),b=!0;if(m===null||m.id.client!==p||b&&m.id.clock>i.struct.id.clock+i.struct.length)continue;if(p!==i.struct.id.client)Hf(l,i.struct,i.offset),i={struct:m,offset:0},f.next();else if(i.struct.id.clock+i.struct.length<m.id.clock)if(i.struct.constructor===qr)i.struct.length=m.id.clock+m.length-i.struct.id.clock;else{Hf(l,i.struct,i.offset);const y=m.id.clock-i.struct.id.clock-i.struct.length;i={struct:new qr(ot(p,i.struct.id.clock+i.struct.length),y),offset:0}}else{const y=i.struct.id.clock+i.struct.length-m.id.clock;y>0&&(i.struct.constructor===qr?i.struct.length-=y:m=EY(m,y)),i.struct.mergeWith(m)||(Hf(l,i.struct,i.offset),i={struct:m,offset:0},f.next())}}else i={struct:f.curr,offset:0},f.next();for(let m=f.curr;m!==null&&m.id.client===p&&m.id.clock===i.struct.id.clock+i.struct.length&&m.constructor!==qr;m=f.next())Hf(l,i.struct,i.offset),i={struct:m,offset:0}}i!==null&&(Hf(l,i.struct,i.offset),i=null),TY(l);const c=o.map(f=>nY(f)),d=aC(c);return gS(s,d),s.toUint8Array()},T5=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Wr(t.encoder.restEncoder)}),t.encoder.restEncoder=bp(),t.written=0)},Hf=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&T5(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),bt(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},TY=t=>{T5(t);const e=t.encoder.restEncoder;bt(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const o=t.clientStructs[n];bt(e,o.written),h0(e,o.restEncoder)}},LN="You must not compute changes after the event-handler fired.";class b0{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=MY(this.currentTarget,this.target))}deletes(e){return wd(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Zl(LN);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(r=>{if(r!==null){const i=n._map.get(r);let s,l;if(this.adds(i)){let c=i.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(i))if(c!==null&&this.deletes(c))s="delete",l=ck(c.content.getContent());else return;else c!==null&&this.deletes(c)?(s="update",l=ck(c.content.getContent())):(s="add",l=void 0)}else if(this.deletes(i))s="delete",l=ck(i.content.getContent());else return;e.set(r,{action:s,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Zl(LN);const n=this.target,o=hc(),r=hc(),i=[];if(e={added:o,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const c=()=>{l&&i.push(l)};for(let d=n._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((l===null||l.delete===void 0)&&(c(),l={delete:0}),l.delete+=d.length,r.add(d)):this.adds(d)?((l===null||l.insert===void 0)&&(c(),l={insert:[]}),l.insert=l.insert.concat(d.content.getContent()),o.add(d)):((l===null||l.retain===void 0)&&(c(),l={retain:0}),l.retain+=d.length);l!==null&&l.retain===void 0&&c()}this._changes=e}return e}}const MY=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let o=0,r=e._item.parent._start;for(;r!==e._item&&r!==null;)!r.deleted&&r.countable&&(o+=r.length),r=r.right;n.unshift(o)}e=e._item.parent}return n},ro=()=>{p5("Invalid access: Add Yjs type to a document before reading data.")},M5=80;let yS=0;class AY{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=yS++}}const RY=t=>{t.timestamp=yS++},A5=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=yS++},OY=(t,e,n)=>{if(t.length>=M5){const o=t.reduce((r,i)=>r.timestamp<i.timestamp?r:i);return A5(o,e,n),o}else{const o=new AY(e,n);return t.push(o),o}},y0=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((i,s)=>Fg(e-i.index)<Fg(e-s.index)?i:s);let o=t._start,r=0;for(n!==null&&(o=n.p,r=n.index,RY(n));o.right!==null&&r<e;){if(!o.deleted&&o.countable){if(e<r+o.length)break;r+=o.length}o=o.right}for(;o.left!==null&&r>e;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);return n!==null&&Fg(n.index-r)<o.parent.length/M5?(A5(n,o,r),n):OY(t._searchMarker,o,r)},Wh=(t,e,n)=>{for(let o=t.length-1;o>=0;o--){const r=t[o];if(n>0){let i=r.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(r.index-=i.length);if(i===null||i.marker===!0){t.splice(o,1);continue}r.p=i,i.marker=!0}(e<r.index||n>0&&e===r.index)&&(r.index=Ni(e,r.index+n))}},v0=(t,e,n)=>{const o=t,r=e.changedParentTypes;for(;zi(r,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;w5(o._eH,n,e)};class In{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=_N(),this._dEH=_N(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Jr()}clone(){throw Jr()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){SN(this._eH,e)}observeDeep(e){SN(this._dEH,e)}unobserve(e){EN(this._eH,e)}unobserveDeep(e){EN(this._dEH,e)}toJSON(){}}const R5=(t,e,n)=>{t.doc??ro(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let o=n-e;const r=[];let i=t._start;for(;i!==null&&o>0;){if(i.countable&&!i.deleted){const s=i.content.getContent();if(s.length<=e)e-=s.length;else{for(let l=e;l<s.length&&o>0;l++)r.push(s[l]),o--;e=0}}i=i.right}return r},O5=t=>{t.doc??ro();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let r=0;r<o.length;r++)e.push(o[r])}n=n.right}return e},N5=(t,e)=>{const n=[];let o=t._start;for(;o!==null;){if(o.countable&&$a(o,e)){const r=o.content.getContent();for(let i=0;i<r.length;i++)n.push(r[i])}o=o.right}return n},Zh=(t,e)=>{let n=0,o=t._start;for(t.doc??ro();o!==null;){if(o.countable&&!o.deleted){const r=o.content.getContent();for(let i=0;i<r.length;i++)e(r[i],n++,t)}o=o.right}},D5=(t,e)=>{const n=[];return Zh(t,(o,r)=>{n.push(e(o,r,t))}),n},NY=t=>{let e=t._start,n=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),o=0,e=e.right}const r=n[o++];return n.length<=o&&(n=null),{done:!1,value:r}}}},L5=(t,e)=>{t.doc??ro();const n=y0(t,e);let o=t._start;for(n!==null&&(o=n.p,e-=n.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},oy=(t,e,n,o)=>{let r=n;const i=t.doc,s=i.clientID,l=i.store,c=n===null?e._start:n.right;let d=[];const f=()=>{d.length>0&&(r=new Tt(ot(s,un(l,s)),r,r&&r.lastId,c,c&&c.id,e,null,new gc(d)),r.integrate(t,0),d=[])};o.forEach(p=>{if(p===null)d.push(p);else switch(p.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(p);break;default:switch(f(),p.constructor){case Uint8Array:case ArrayBuffer:r=new Tt(ot(s,un(l,s)),r,r&&r.lastId,c,c&&c.id,e,null,new yp(new Uint8Array(p))),r.integrate(t,0);break;case _c:r=new Tt(ot(s,un(l,s)),r,r&&r.lastId,c,c&&c.id,e,null,new vp(p)),r.integrate(t,0);break;default:if(p instanceof In)r=new Tt(ot(s,un(l,s)),r,r&&r.lastId,c,c&&c.id,e,null,new si(p)),r.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},B5=()=>Zl("Length exceeded!"),I5=(t,e,n,o)=>{if(n>e._length)throw B5();if(n===0)return e._searchMarker&&Wh(e._searchMarker,n,o.length),oy(t,e,null,o);const r=n,i=y0(e,n);let s=e._start;for(i!==null&&(s=i.p,n-=i.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&Bo(t,ot(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&Wh(e._searchMarker,r,o.length),oy(t,e,s,o)},DY=(t,e,n)=>{let r=(e._searchMarker||[]).reduce((i,s)=>s.index>i.index?s:i,{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;return oy(t,e,r,n)},j5=(t,e,n,o)=>{if(o===0)return;const r=n,i=o,s=y0(e,n);let l=e._start;for(s!==null&&(l=s.p,n-=s.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Bo(t,ot(l.id.client,l.id.clock+n)),n-=l.length);for(;o>0&&l!==null;)l.deleted||(o<l.length&&Bo(t,ot(l.id.client,l.id.clock+o)),l.delete(t),o-=l.length),l=l.right;if(o>0)throw B5();e._searchMarker&&Wh(e._searchMarker,r,-i+o)},ry=(t,e,n)=>{const o=e._map.get(n);o!==void 0&&o.delete(t)},vS=(t,e,n,o)=>{const r=e._map.get(n)||null,i=t.doc,s=i.clientID;let l;if(o==null)l=new gc([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:l=new gc([o]);break;case Uint8Array:l=new yp(o);break;case _c:l=new vp(o);break;default:if(o instanceof In)l=new si(o);else throw new Error("Unexpected content type")}new Tt(ot(s,un(i.store,s)),r,r&&r.lastId,null,null,e,n,l).integrate(t,0)},wS=(t,e)=>{t.doc??ro();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},P5=t=>{const e={};return t.doc??ro(),t._map.forEach((n,o)=>{n.deleted||(e[o]=n.content.getContent()[n.length-1])}),e},$5=(t,e)=>{t.doc??ro();const n=t._map.get(e);return n!==void 0&&!n.deleted},LY=(t,e)=>{const n={};return t._map.forEach((o,r)=>{let i=o;for(;i!==null&&(!e.sv.has(i.id.client)||i.id.clock>=(e.sv.get(i.id.client)||0));)i=i.left;i!==null&&$a(i,e)&&(n[r]=i.content.getContent()[i.length-1])}),n},gg=t=>(t.doc??ro(),QX(t._map.entries(),e=>!e[1].deleted));class BY extends b0{}class Wu extends In{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Wu;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Wu}clone(){const e=new Wu;return e.insert(0,this.toArray().map(n=>n instanceof In?n.clone():n)),e}get length(){return this.doc??ro(),this._length}_callObserver(e,n){super._callObserver(e,n),v0(this,e,new BY(this,e))}insert(e,n){this.doc!==null?Bt(this.doc,o=>{I5(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Bt(this.doc,n=>{DY(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Bt(this.doc,o=>{j5(o,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return L5(this,e)}toArray(){return O5(this)}slice(e=0,n=this.length){return R5(this,e,n)}toJSON(){return this.map(e=>e instanceof In?e.toJSON():e)}map(e){return D5(this,e)}forEach(e){Zh(this,e)}[Symbol.iterator](){return NY(this)}_write(e){e.writeTypeRef(sJ)}}const IY=t=>new Wu;class jY extends b0{constructor(e,n,o){super(e,n),this.keysChanged=o}}class ud extends In{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((o,r)=>{this.set(r,o)}),this._prelimContent=null}_copy(){return new ud}clone(){const e=new ud;return this.forEach((n,o)=>{e.set(o,n instanceof In?n.clone():n)}),e}_callObserver(e,n){v0(this,e,new jY(this,e,n))}toJSON(){this.doc??ro();const e={};return this._map.forEach((n,o)=>{if(!n.deleted){const r=n.content.getContent()[n.length-1];e[o]=r instanceof In?r.toJSON():r}}),e}get size(){return[...gg(this)].length}keys(){return pk(gg(this),e=>e[0])}values(){return pk(gg(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return pk(gg(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??ro(),this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Bt(this.doc,n=>{ry(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Bt(this.doc,o=>{vS(o,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return wS(this,e)}has(e){return $5(this,e)}clear(){this.doc!==null?Bt(this.doc,e=>{this.forEach(function(n,o,r){ry(e,r,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(lJ)}}const PY=t=>new ud,$l=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&AX(t,e);class fC{constructor(e,n,o,r){this.left=e,this.right=n,this.index=o,this.currentAttributes=r}forward(){switch(this.right===null&&Vo(),this.right.content.constructor){case yn:this.right.deleted||kd(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const BN=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case yn:e.right.deleted||kd(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Bo(t,ot(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},bg=(t,e,n,o)=>{const r=new Map,i=o?y0(e,n):null;if(i){const s=new fC(i.p.left,i.p,i.index,r);return BN(t,s,n-i.index)}else{const s=new fC(null,e._start,0,r);return BN(t,s,n)}},H5=(t,e,n,o)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===yn&&$l(o.get(n.right.content.key),n.right.content.value));)n.right.deleted||o.delete(n.right.content.key),n.forward();const r=t.doc,i=r.clientID;o.forEach((s,l)=>{const c=n.left,d=n.right,f=new Tt(ot(i,un(r.store,i)),c,c&&c.lastId,d,d&&d.id,e,null,new yn(l,s));f.integrate(t,0),n.right=f,n.forward()})},kd=(t,e)=>{const{key:n,value:o}=e;o===null?t.delete(n):t.set(n,o)},z5=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===yn&&$l(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},V5=(t,e,n,o)=>{const r=t.doc,i=r.clientID,s=new Map;for(const l in o){const c=o[l],d=n.currentAttributes.get(l)??null;if(!$l(d,c)){s.set(l,d);const{left:f,right:p}=n;n.right=new Tt(ot(i,un(r.store,i)),f,f&&f.lastId,p,p&&p.id,e,null,new yn(l,c)),n.right.integrate(t,0),n.forward()}}return s},bk=(t,e,n,o,r)=>{n.currentAttributes.forEach((m,b)=>{r[b]===void 0&&(r[b]=null)});const i=t.doc,s=i.clientID;z5(n,r);const l=V5(t,e,n,r),c=o.constructor===String?new ei(o):o instanceof In?new si(o):new Sc(o);let{left:d,right:f,index:p}=n;e._searchMarker&&Wh(e._searchMarker,n.index,c.getLength()),f=new Tt(ot(s,un(i.store,s)),d,d&&d.lastId,f,f&&f.id,e,null,c),f.integrate(t,0),n.right=f,n.index=p,n.forward(),H5(t,e,n,l)},IN=(t,e,n,o,r)=>{const i=t.doc,s=i.clientID;z5(n,r);const l=V5(t,e,n,r);e:for(;n.right!==null&&(o>0||l.size>0&&(n.right.deleted||n.right.content.constructor===yn));){if(!n.right.deleted)switch(n.right.content.constructor){case yn:{const{key:c,value:d}=n.right.content,f=r[c];if(f!==void 0){if($l(f,d))l.delete(c);else{if(o===0)break e;l.set(c,d)}n.right.delete(t)}else n.currentAttributes.set(c,d);break}default:o<n.right.length&&Bo(t,ot(n.right.id.client,n.right.id.clock+o)),o-=n.right.length;break}n.forward()}if(o>0){let c="";for(;o>0;o--)c+=`
`;n.right=new Tt(ot(s,un(i.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new ei(c)),n.right.integrate(t,0),n.forward()}H5(t,e,n,l)},U5=(t,e,n,o,r)=>{let i=e;const s=Br();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===yn){const d=i.content;s.set(d.key,d)}i=i.right}let l=0,c=!1;for(;e!==i;){if(n===e&&(c=!0),!e.deleted){const d=e.content;switch(d.constructor){case yn:{const{key:f,value:p}=d,m=o.get(f)??null;(s.get(f)!==d||m===p)&&(e.delete(t),l++,!c&&(r.get(f)??null)===p&&m!==p&&(m===null?r.delete(f):r.set(f,m))),!c&&!e.deleted&&kd(r,d);break}}}e=e.right}return l},$Y=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===yn){const o=e.content.key;n.has(o)?e.delete(t):n.add(o)}e=e.left}},HY=t=>{let e=0;return Bt(t.doc,n=>{let o=t._start,r=t._start,i=Br();const s=tC(i);for(;r;){if(r.deleted===!1)switch(r.content.constructor){case yn:kd(s,r.content);break;default:e+=U5(n,o,r,i,s),i=tC(s),o=r;break}r=r.right}}),e},zY=t=>{const e=new Set,n=t.doc;for(const[o,r]of t.afterState.entries()){const i=t.beforeState.get(o)||0;r!==i&&_5(t,n.store.clients.get(o),i,r,s=>{!s.deleted&&s.content.constructor===yn&&s.constructor!==Rr&&e.add(s.parent)})}Bt(n,o=>{Xl(t,t.deleteSet,r=>{if(r instanceof Rr||!r.parent._hasFormatting||e.has(r.parent))return;const i=r.parent;r.content.constructor===yn?e.add(i):$Y(o,r)});for(const r of e)HY(r)})},jN=(t,e,n)=>{const o=n,r=tC(e.currentAttributes),i=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case si:case Sc:case ei:n<e.right.length&&Bo(t,ot(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}i&&U5(t,i,e.right,r,e.currentAttributes);const s=(e.left||e.right).parent;return s._searchMarker&&Wh(s._searchMarker,e.index,-o+n),e};class VY extends b0{constructor(e,n,o){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Bt(e,o=>{const r=new Map,i=new Map;let s=this.target._start,l=null;const c={};let d="",f=0,p=0;const m=()=>{if(l!==null){let b=null;switch(l){case"delete":p>0&&(b={delete:p}),p=0;break;case"insert":(typeof d=="object"||d.length>0)&&(b={insert:d},r.size>0&&(b.attributes={},r.forEach((y,w)=>{y!==null&&(b.attributes[w]=y)}))),d="";break;case"retain":f>0&&(b={retain:f},TX(c)||(b.attributes=SX({},c))),f=0;break}b&&n.push(b),l=null}};for(;s!==null;){switch(s.content.constructor){case si:case Sc:this.adds(s)?this.deletes(s)||(m(),l="insert",d=s.content.getContent()[0],m()):this.deletes(s)?(l!=="delete"&&(m(),l="delete"),p+=1):s.deleted||(l!=="retain"&&(m(),l="retain"),f+=1);break;case ei:this.adds(s)?this.deletes(s)||(l!=="insert"&&(m(),l="insert"),d+=s.content.str):this.deletes(s)?(l!=="delete"&&(m(),l="delete"),p+=s.length):s.deleted||(l!=="retain"&&(m(),l="retain"),f+=s.length);break;case yn:{const{key:b,value:y}=s.content;if(this.adds(s)){if(!this.deletes(s)){const w=r.get(b)??null;$l(w,y)?y!==null&&s.delete(o):(l==="retain"&&m(),$l(y,i.get(b)??null)?delete c[b]:c[b]=y)}}else if(this.deletes(s)){i.set(b,y);const w=r.get(b)??null;$l(w,y)||(l==="retain"&&m(),c[b]=w)}else if(!s.deleted){i.set(b,y);const w=c[b];w!==void 0&&($l(w,y)?w!==null&&s.delete(o):(l==="retain"&&m(),y===null?delete c[b]:c[b]=y))}s.deleted||(l==="insert"&&m(),kd(r,s.content));break}}s=s.right}for(m();n.length>0;){const b=n[n.length-1];if(b.retain!==void 0&&b.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Yl extends In{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??ro(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new Yl}clone(){const e=new Yl;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const o=new VY(this,e,n);v0(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??ro();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===ei&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Bt(this.doc,o=>{const r=new fC(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const s=e[i];if(s.insert!==void 0){const l=!n&&typeof s.insert=="string"&&i===e.length-1&&r.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof l!="string"||l.length>0)&&bk(o,this,r,l,s.attributes||{})}else s.retain!==void 0?IN(o,this,r,s.retain,s.attributes||{}):s.delete!==void 0&&jN(o,r,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,o){this.doc??ro();const r=[],i=new Map,s=this.doc;let l="",c=this._start;function d(){if(l.length>0){const p={};let m=!1;i.forEach((y,w)=>{m=!0,p[w]=y});const b={insert:l};m&&(b.attributes=p),r.push(b),l=""}}const f=()=>{for(;c!==null;){if($a(c,e)||n!==void 0&&$a(c,n))switch(c.content.constructor){case ei:{const p=i.get("ychange");e!==void 0&&!$a(c,e)?(p===void 0||p.user!==c.id.client||p.type!=="removed")&&(d(),i.set("ychange",o?o("removed",c.id):{type:"removed"})):n!==void 0&&!$a(c,n)?(p===void 0||p.user!==c.id.client||p.type!=="added")&&(d(),i.set("ychange",o?o("added",c.id):{type:"added"})):p!==void 0&&(d(),i.delete("ychange")),l+=c.content.str;break}case si:case Sc:{d();const p={insert:c.content.getContent()[0]};if(i.size>0){const m={};p.attributes=m,i.forEach((b,y)=>{m[y]=b})}r.push(p);break}case yn:$a(c,e)&&(d(),kd(i,c.content));break}c=c.right}d()};return e||n?Bt(s,p=>{e&&uC(p,e),n&&uC(p,n),f()},"cleanup"):f(),r}insert(e,n,o){if(n.length<=0)return;const r=this.doc;r!==null?Bt(r,i=>{const s=bg(i,this,e,!o);o||(o={},s.currentAttributes.forEach((l,c)=>{o[c]=l})),bk(i,this,s,n,o)}):this._pending.push(()=>this.insert(e,n,o))}insertEmbed(e,n,o){const r=this.doc;r!==null?Bt(r,i=>{const s=bg(i,this,e,!o);bk(i,this,s,n,o||{})}):this._pending.push(()=>this.insertEmbed(e,n,o||{}))}delete(e,n){if(n===0)return;const o=this.doc;o!==null?Bt(o,r=>{jN(r,bg(r,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,o){if(n===0)return;const r=this.doc;r!==null?Bt(r,i=>{const s=bg(i,this,e,!1);s.right!==null&&IN(i,this,s,n,o)}):this._pending.push(()=>this.format(e,n,o))}removeAttribute(e){this.doc!==null?Bt(this.doc,n=>{ry(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Bt(this.doc,o=>{vS(o,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return wS(this,e)}getAttributes(){return P5(this)}_write(e){e.writeTypeRef(aJ)}}const UY=t=>new Yl;class yk{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??ro()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===oo||n.constructor===mc)&&n._start!==null)e=n._start;else for(;e!==null;){const o=e.next;if(o!==null){e=o;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class mc extends In{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new mc}clone(){const e=new mc;return e.insert(0,this.toArray().map(n=>n instanceof In?n.clone():n)),e}get length(){return this.doc??ro(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new yk(this,e)}querySelector(e){e=e.toUpperCase();const o=new yk(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),pc(new yk(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){v0(this,e,new qY(this,n,e))}toString(){return D5(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},o){const r=e.createDocumentFragment();return o!==void 0&&o._createAssociation(r,this),Zh(this,i=>{r.insertBefore(i.toDOM(e,n,o),null)}),r}insert(e,n){this.doc!==null?Bt(this.doc,o=>{I5(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Bt(this.doc,o=>{const r=e&&e instanceof In?e._item:e;oy(o,this,r,n)});else{const o=this._prelimContent,r=e===null?0:o.findIndex(i=>i===e)+1;if(r===0&&e!==null)throw Zl("Reference item not found");o.splice(r,0,...n)}}delete(e,n=1){this.doc!==null?Bt(this.doc,o=>{j5(o,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return O5(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return L5(this,e)}slice(e=0,n=this.length){return R5(this,e,n)}forEach(e){Zh(this,e)}_write(e){e.writeTypeRef(uJ)}}const FY=t=>new mc;class oo extends mc{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((o,r)=>{this.setAttribute(r,o)}),this._prelimAttrs=null}_copy(){return new oo(this.nodeName)}clone(){const e=new oo(this.nodeName),n=this.getAttributes();return EX(n,(o,r)=>{typeof o=="string"&&e.setAttribute(r,o)}),e.insert(0,this.toArray().map(o=>o instanceof In?o.clone():o)),e}toString(){const e=this.getAttributes(),n=[],o=[];for(const l in e)o.push(l);o.sort();const r=o.length;for(let l=0;l<r;l++){const c=o[l];n.push(c+'="'+e[c]+'"')}const i=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${i}${s}>${super.toString()}</${i}>`}removeAttribute(e){this.doc!==null?Bt(this.doc,n=>{ry(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Bt(this.doc,o=>{vS(o,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return wS(this,e)}hasAttribute(e){return $5(this,e)}getAttributes(e){return e?LY(this,e):P5(this)}toDOM(e=document,n={},o){const r=e.createElement(this.nodeName),i=this.getAttributes();for(const s in i){const l=i[s];typeof l=="string"&&r.setAttribute(s,l)}return Zh(this,s=>{r.appendChild(s.toDOM(e,n,o))}),o!==void 0&&o._createAssociation(r,this),r}_write(e){e.writeTypeRef(cJ),e.writeKey(this.nodeName)}}const GY=t=>new oo(t.readKey());class qY extends b0{constructor(e,n,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class iy extends ud{constructor(e){super(),this.hookName=e}_copy(){return new iy(this.hookName)}clone(){const e=new iy(this.hookName);return this.forEach((n,o)=>{e.set(o,n)}),e}toDOM(e=document,n={},o){const r=n[this.hookName];let i;return r!==void 0?i=r.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),o!==void 0&&o._createAssociation(i,this),i}_write(e){e.writeTypeRef(dJ),e.writeKey(this.hookName)}}const KY=t=>new iy(t.readKey());class Po extends Yl{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Po}clone(){const e=new Po;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,o){const r=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{const n=[];for(const r in e.attributes){const i=[];for(const s in e.attributes[r])i.push({key:s,value:e.attributes[r][s]});i.sort((s,l)=>s.key<l.key?-1:1),n.push({nodeName:r,attrs:i})}n.sort((r,i)=>r.nodeName<i.nodeName?-1:1);let o="";for(let r=0;r<n.length;r++){const i=n[r];o+=`<${i.nodeName}`;for(let s=0;s<i.attrs.length;s++){const l=i.attrs[s];o+=` ${l.key}="${l.value}"`}o+=">"}o+=e.insert;for(let r=n.length-1;r>=0;r--)o+=`</${n[r].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(fJ)}}const WY=t=>new Po;class kS{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Jr()}mergeWith(e){return!1}write(e,n,o){throw Jr()}integrate(e,n){throw Jr()}}const ZY=0;class Rr extends kS{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),C5(e.doc.store,this)}write(e,n){e.writeInfo(ZY),e.writeLen(this.length-n)}getMissing(e,n){return null}}class yp{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new yp(this.content)}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const XY=t=>new yp(t.readBuf());class Xh{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Xh(this.len)}splice(e){const n=new Xh(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Fh(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const YY=t=>new Xh(t.readLen()),F5=(t,e)=>new _c({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class vp{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new vp(F5(this.doc.guid,this.opts))}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const JY=t=>new vp(F5(t.readString(),t.readAny()));class Sc{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Sc(this.embed)}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const QY=t=>new Sc(t.readJSON());class yn{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new yn(this.key,this.value)}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,n){const o=n.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const eJ=t=>new yn(t.readKey(),t.readJSON());class sy{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new sy(this.arr)}splice(e){const n=new sy(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let r=n;r<o;r++){const i=this.arr[r];e.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}}const tJ=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++){const r=t.readString();r==="undefined"?n.push(void 0):n.push(JSON.parse(r))}return new sy(n)},nJ=ty("node_env")==="development";class gc{constructor(e){this.arr=e,nJ&&s5(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new gc(this.arr)}splice(e){const n=new gc(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let r=n;r<o;r++){const i=this.arr[r];e.writeAny(i)}}getRef(){return 8}}const oJ=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++)n.push(t.readAny());return new gc(n)};class ei{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ei(this.str)}splice(e){const n=new ei(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const rJ=t=>new ei(t.readString()),iJ=[IY,PY,UY,GY,FY,KY,WY],sJ=0,lJ=1,aJ=2,cJ=3,uJ=4,dJ=5,fJ=6;class si{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new si(this.type._copy())}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const hJ=t=>new si(iJ[t.readTypeRef()](t)),hC=(t,e)=>{let n=e,o=0,r;do o>0&&(n=ot(n.client,n.clock+o)),r=Ku(t,n),o=n.clock-r.id.clock,n=r.redone;while(n!==null&&r instanceof Tt);return{item:r,diff:o}},xS=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},ly=(t,e,n)=>{const{client:o,clock:r}=e.id,i=new Tt(ot(o,r+n),e,ot(o,r+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),e.redone!==null&&(i.redone=ot(e.redone.client,e.redone.clock+n)),e.right=i,i.right!==null&&(i.right.left=i),t._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),e.length=n,i},PN=(t,e)=>PZ(t,n=>wd(n.deletions,e)),G5=(t,e,n,o,r,i)=>{const s=t.doc,l=s.store,c=s.clientID,d=e.redone;if(d!==null)return Bo(t,d);let f=e.parent._item,p=null,m;if(f!==null&&f.deleted===!0){if(f.redone===null&&(!n.has(f)||G5(t,f,n,o,r,i)===null))return null;for(;f.redone!==null;)f=Bo(t,f.redone)}const b=f===null?e.parent:f.content.type;if(e.parentSub===null){for(p=e.left,m=e;p!==null;){let _=p;for(;_!==null&&_.parent._item!==f;)_=_.redone===null?null:Bo(t,_.redone);if(_!==null&&_.parent._item===f){p=_;break}p=p.left}for(;m!==null;){let _=m;for(;_!==null&&_.parent._item!==f;)_=_.redone===null?null:Bo(t,_.redone);if(_!==null&&_.parent._item===f){m=_;break}m=m.right}}else if(m=null,e.right&&!r){for(p=e;p!==null&&p.right!==null&&(p.right.redone||wd(o,p.right.id)||PN(i.undoStack,p.right.id)||PN(i.redoStack,p.right.id));)for(p=p.right;p.redone;)p=Bo(t,p.redone);if(p&&p.right!==null)return null}else p=b._map.get(e.parentSub)||null;const y=un(l,c),w=ot(c,y),x=new Tt(w,p,p&&p.lastId,m,m&&m.id,b,e.parentSub,e.content.copy());return e.redone=w,xS(x,!0),x.integrate(t,0),x};class Tt extends kS{constructor(e,n,o,r,i,s,l,c){super(e,c.getLength()),this.origin=o,this.left=n,this.right=r,this.rightOrigin=i,this.parent=s,this.parentSub=l,this.redone=null,this.content=c,this.info=this.content.isCountable()?hN:0}set marker(e){(this.info&dk)>0!==e&&(this.info^=dk)}get marker(){return(this.info&dk)>0}get keep(){return(this.info&fN)>0}set keep(e){this.keep!==e&&(this.info^=fN)}get countable(){return(this.info&hN)>0}get deleted(){return(this.info&uk)>0}set deleted(e){this.deleted!==e&&(this.info^=uk)}markDeleted(){this.info|=uk}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=un(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=un(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===qu&&this.id.client!==this.parent.client&&this.parent.clock>=un(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=MN(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Bo(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Rr||this.right&&this.right.constructor===Rr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Tt?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Tt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===qu){const o=Ku(n,this.parent);o.constructor===Rr?this.parent=null:this.parent=o.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=MN(e,e.doc.store,ot(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,r;if(o!==null)r=o.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const i=new Set,s=new Set;for(;r!==null&&r!==this.right;){if(s.add(r),i.add(r),Lu(this.origin,r.origin)){if(r.id.client<this.id.client)o=r,i.clear();else if(Lu(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&s.has(Ku(e.doc.store,r.origin)))i.has(Ku(e.doc.store,r.origin))||(o=r,i.clear());else break;r=r.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),C5(e.doc.store,this),this.content.integrate(e,this),RN(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Rr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:ot(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Lu(e.origin,this.lastId)&&this.right===e&&Lu(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Fh(e.deleteSet,this.id.client,this.id.clock,this.length),RN(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Vo();this.content.gc(e),n?yY(e,this,new Rr(this.id,this.length)):this.content=new Xh(this.length)}write(e,n){const o=n>0?ot(this.id.client,this.id.clock+n-1):this.origin,r=this.rightOrigin,i=this.parentSub,s=this.content.getRef()&f0|(o===null?0:vo)|(r===null?0:Ns)|(i===null?0:zh);if(e.writeInfo(s),o!==null&&e.writeLeftID(o),r!==null&&e.writeRightID(r),o===null&&r===null){const l=this.parent;if(l._item!==void 0){const c=l._item;if(c===null){const d=Gh(l);e.writeParentInfo(!0),e.writeString(d)}else e.writeParentInfo(!1),e.writeLeftID(c.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===qu?(e.writeParentInfo(!1),e.writeLeftID(l)):Vo();i!==null&&e.writeString(i)}this.content.write(e,n)}}const q5=(t,e)=>pJ[e&f0](t),pJ=[()=>{Vo()},YY,tJ,XY,rJ,QY,eJ,hJ,oJ,JY,()=>{Vo()}],mJ=10;class qr extends kS{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){Vo()}write(e,n){e.writeInfo(mJ),bt(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const K5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},W5="__ $YJS$ __";K5[W5]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");K5[W5]=!0;const gJ=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},bJ=/[\uD800-\uDBFF]/,yJ=/[\uDC00-\uDFFF]/,vJ=(t,e)=>{let n=0,o=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&bJ.test(t[n-1])&&n--;o+n<t.length&&o+n<e.length&&t[t.length-o-1]===e[e.length-o-1];)o++;return o>0&&yJ.test(t[t.length-o])&&o--,{index:n,remove:t.length-n-o,insert:e.slice(n,e.length-o)}},wJ=vJ,It=new ht("y-sync"),Ds=new ht("y-undo"),yg=new ht("yjs-cursor"),Ei=(t,e)=>t>>>e|t<<32-e,kJ=t=>Ei(t,2)^Ei(t,13)^Ei(t,22),xJ=t=>Ei(t,6)^Ei(t,11)^Ei(t,25),CJ=t=>Ei(t,7)^Ei(t,18)^t>>>3,_J=t=>Ei(t,17)^Ei(t,19)^t>>>10,SJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),EJ=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class TJ{constructor(){const e=new ArrayBuffer(320);this._H=new Uint32Array(e,0,8),this._H.set(EJ),this._W=new Uint32Array(e,64,64)}_updateHash(){const e=this._H,n=this._W;for(let p=16;p<64;p++)n[p]=_J(n[p-2])+n[p-7]+CJ(n[p-15])+n[p-16];let o=e[0],r=e[1],i=e[2],s=e[3],l=e[4],c=e[5],d=e[6],f=e[7];for(let p=0,m,b;p<64;p++)m=f+xJ(l)+(l&c^~l&d)+SJ[p]+n[p]>>>0,b=kJ(o)+(o&r^o&i^r&i)>>>0,f=d,d=c,c=l,l=s+m>>>0,s=i,i=r,r=o,o=m+b>>>0;e[0]+=o,e[1]+=r,e[2]+=i,e[3]+=s,e[4]+=l,e[5]+=c,e[6]+=d,e[7]+=f}digest(e){let n=0;for(;n+56<=e.length;){let s=0;for(;s<16&&n+3<e.length;s++)this._W[s]=e[n++]<<24|e[n++]<<16|e[n++]<<8|e[n++];if(n%64!==0){for(this._W.fill(0,s,16);n<e.length;)this._W[s]|=e[n]<<(3-n%4)*8,n++;this._W[s]|=vo<<(3-n%4)*8}this._updateHash()}const o=n%64!==0;this._W.fill(0,0,16);let r=0;for(;n<e.length;r++)for(let s=3;s>=0&&n<e.length;s--)this._W[r]|=e[n++]<<s*8;o||(this._W[r-(n%4===0?0:1)]|=vo<<(3-n%4)*8),this._W[14]=e.byteLength/$Z,this._W[15]=e.byteLength*8,this._updateHash();const i=new Uint8Array(32);for(let s=0;s<this._H.length;s++)for(let l=0;l<4;l++)i[s*4+l]=this._H[s]>>>(3-l)*8;return i}}const MJ=t=>new TJ().digest(t),AJ=t=>{for(let n=6;n<t.length;n++)t[n%6]=t[n%6]^t[n];return t.slice(0,6)},RJ=t=>jX(AJ(MJ(PX(t)))),ay=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!wd(e.ds,t.id),OJ=[{light:"#ecd44433",dark:"#ecd444"}],NJ=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const o=hc();t.forEach(r=>o.add(r)),e=e.filter(r=>!o.has(r))}t.set(n,yX(e))}return t.get(n)},DJ=(t,{colors:e=OJ,colorMapping:n=new Map,permanentUserData:o=null,onFirstRender:r=()=>{},mapping:i}={})=>{let s=!1;const l=new BJ(t,i),c=new Qe({props:{editable:d=>{const f=It.getState(d);return f.snapshot==null&&f.prevSnapshot==null}},key:It,state:{init:(d,f)=>({type:t,doc:t.doc,binding:l,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:o}),apply:(d,f)=>{const p=d.getMeta(It);if(p!==void 0){f=Object.assign({},f);for(const m in p)f[m]=p[m]}return f.addToHistory=d.getMeta("addToHistory")!==!1,f.isChangeOrigin=p!==void 0&&!!p.isChangeOrigin,f.isUndoRedoOperation=p!==void 0&&!!p.isChangeOrigin&&!!p.isUndoRedoOperation,l.prosemirrorView!==null&&p!==void 0&&(p.snapshot!=null||p.prevSnapshot!=null)&&fS(0,()=>{l.prosemirrorView!=null&&(p.restore==null?l._renderSnapshot(p.snapshot,p.prevSnapshot,f):(l._renderSnapshot(p.snapshot,p.snapshot,f),delete f.restore,delete f.snapshot,delete f.prevSnapshot,l.mux(()=>{l._prosemirrorChanged(l.prosemirrorView.state.doc)})))}),f}},view:d=>(l.initView(d),i==null&&l._forceRerender(),r(),{update:()=>{const f=c.getState(d.state);if(f.snapshot==null&&f.prevSnapshot==null&&(s||d.state.doc.content.findDiffStart(d.state.doc.type.createAndFill().content)!==null)){if(s=!0,f.addToHistory===!1&&!f.isChangeOrigin){const p=Ds.getState(d.state),m=p&&p.undoManager;m&&m.stopCapturing()}l.mux(()=>{f.doc.transact(p=>{p.meta.set("addToHistory",f.addToHistory),l._prosemirrorChanged(d.state.doc)},It)})}},destroy:()=>{l.destroy()}})});return c},LJ=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null)if(e.type==="all")t.setSelection(new Io(t.doc));else{const o=dd(n.doc,n.type,e.anchor,n.mapping),r=dd(n.doc,n.type,e.head,n.mapping);o!==null&&r!==null&&(t=t.setSelection(Re.create(t.doc,o,r)))}},cy=(t,e)=>({type:e.selection.jsonID,anchor:Jh(e.selection.anchor,t.type,t.mapping),head:Jh(e.selection.head,t.type,t.mapping)});class BJ{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=gJ(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=cy(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(a5&&this._domSelectionInView===null&&(fS(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const r=n.getBoundingClientRect(),i=HX.documentElement;return r.bottom>=0&&r.right>=0&&r.left<=(window.innerWidth||i.clientWidth||0)&&r.top<=(window.innerHeight||i.clientHeight||0)}renderSnapshot(e,n){n||(n=k5(b5(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(It,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(o=>Wg(o,this.prosemirrorView.state.schema,this)).filter(o=>o!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new ye(J.from(e),0,0));n.setMeta(It,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(r=>Wg(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new ye(J.from(n),0,0));if(e){const r=Os(Ni(e.anchor,0),o.doc.content.size),i=Os(Ni(e.head,0),o.doc.content.size);o.setSelection(Re.create(o.doc,r,i))}this.prosemirrorView.dispatch(o.setMeta(It,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,o){let r=this.doc;e||(e=gk(this.doc)),(e instanceof Uint8Array||n instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&Vo(),r=new _c({gc:!1}),cC(r,n),n=gk(r),cC(r,e),e=gk(r)),this.mapping.clear(),this.mux(()=>{r.transact(i=>{const s=o.permanentUserData;s&&s.dss.forEach(f=>{Xl(i,f,p=>{})});const l=(f,p)=>{const m=f==="added"?s.getUserByClientId(p.client):s.getUserByDeletedId(p);return{user:m,type:f,color:NJ(o.colorMapping,o.colors,m)}},c=N5(this.type,new bS(n.ds,e.sv)).map(f=>!f._item.deleted||ay(f._item,e)||ay(f._item,n)?Wg(f,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},e,n,l):null).filter(f=>f!==null),d=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new ye(J.from(c),0,0));this.prosemirrorView.dispatch(d.setMeta(It,{isChangeOrigin:!0}))},It)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const o=It.getState(this.prosemirrorView.state);if(e.length===0||o.snapshot!=null||o.prevSnapshot!=null){this.renderSnapshot(o.snapshot,o.prevSnapshot);return}this.mux(()=>{const r=(l,c)=>this.mapping.delete(c);Xl(n,n.deleteSet,l=>{if(l.constructor===Tt){const c=l.content.type;c&&this.mapping.delete(c)}}),n.changed.forEach(r),n.changedParentTypes.forEach(r);const i=this.type.toArray().map(l=>Z5(l,this.prosemirrorView.state.schema,this)).filter(l=>l!==null);let s=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new ye(J.from(i),0,0));LJ(s,this.beforeTransactionSelection,this),s=s.setMeta(It,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof E5}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&s.scrollIntoView(),this.prosemirrorView.dispatch(s)})}_prosemirrorChanged(e){this.doc.transact(()=>{mC(this.doc,this.type,e,this),this.beforeTransactionSelection=cy(this,this.prosemirrorView.state)},It)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const Z5=(t,e,n,o,r,i)=>{const s=n.mapping.get(t);if(s===void 0){if(t instanceof oo)return Wg(t,e,n,o,r,i);throw Jr()}return s},Wg=(t,e,n,o,r,i)=>{const s=[],l=c=>{var d,f;if(c instanceof oo){const p=Z5(c,e,n,o,r,i);p!==null&&s.push(p)}else{const p=(f=(d=c._item.right)==null?void 0:d.content)==null?void 0:f.type;p instanceof Yl&&!p._item.deleted&&p._item.id.client===p.doc.clientID&&(c.applyDelta([{retain:c.length},...p.toDelta()]),p.doc.transact(b=>{p._item.delete(b)}));const m=IJ(c,e,n,o,r,i);m!==null&&m.forEach(b=>{b!==null&&s.push(b)})}};o===void 0||r===void 0?t.toArray().forEach(l):N5(t,new bS(r.ds,o.sv)).forEach(l);try{const c=t.getAttributes(o);o!==void 0&&(ay(t._item,o)?ay(t._item,r)||(c.ychange=i?i("added",t._item.id):{type:"added"}):c.ychange=i?i("removed",t._item.id):{type:"removed"});const d=e.node(t.nodeName,c,s);return n.mapping.set(t,d),d}catch{return t.doc.transact(d=>{t._item.delete(d)},It),n.mapping.delete(t),null}},IJ=(t,e,n,o,r,i)=>{const s=[],l=t.toDelta(o,r,i);try{for(let c=0;c<l.length;c++){const d=l[c];s.push(e.text(d.insert,VJ(d.attributes,e)))}}catch{return t.doc.transact(d=>{t._item.delete(d)},It),null}return s},jJ=(t,e)=>{const n=new Po,o=t.map(r=>({insert:r.text,attributes:Y5(r.marks,e)}));return n.applyDelta(o),e.mapping.set(n,t),n},PJ=(t,e)=>{const n=new oo(t.type.name);for(const o in t.attrs){const r=t.attrs[o];r!==null&&o!=="ychange"&&n.setAttribute(o,r)}return n.insert(0,w0(t).map(o=>pC(o,e))),e.mapping.set(n,t),n},pC=(t,e)=>t instanceof Array?jJ(t,e):PJ(t,e),$N=t=>typeof t=="object"&&t!==null,CS=(t,e)=>{const n=Object.keys(t).filter(r=>t[r]!==null);let o=n.length===Object.keys(e).filter(r=>e[r]!==null).length;for(let r=0;r<n.length&&o;r++){const i=n[r],s=t[i],l=e[i];o=i==="ychange"||s===l||$N(s)&&$N(l)&&CS(s,l)}return o},w0=t=>{const e=t.content.content,n=[];for(let o=0;o<e.length;o++){const r=e[o];if(r.isText){const i=[];for(let s=e[o];o<e.length&&s.isText;s=e[++o])i.push(s);o--,n.push(i)}else n.push(r)}return n},X5=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((o,r)=>o.insert===e[r].text&&r5(o.attributes||{}).length===e[r].marks.length&&i5(o.attributes,(i,s)=>{var d;const l=_S(s),c=e[r].marks;return CS(i,(d=c.find(f=>f.type.name===l))==null?void 0:d.attrs)}))},Yh=(t,e)=>{if(t instanceof oo&&!(e instanceof Array)&&gC(t,e)){const n=w0(e);return t._length===n.length&&CS(t.getAttributes(),e.attrs)&&t.toArray().every((o,r)=>Yh(o,n[r]))}return t instanceof Po&&e instanceof Array&&X5(t,e)},uy=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,o)=>e[o]===n),HN=(t,e,n)=>{const o=t.toArray(),r=w0(e),i=r.length,s=o.length,l=Os(s,i);let c=0,d=0,f=!1;for(;c<l;c++){const p=o[c],m=r[c];if(uy(n.mapping.get(p),m))f=!0;else if(!Yh(p,m))break}for(;c+d<l;d++){const p=o[s-d-1],m=r[i-d-1];if(uy(n.mapping.get(p),m))f=!0;else if(!Yh(p,m))break}return{equalityFactor:c+d,foundMappedChild:f}},$J=t=>{let e="",n=t._start;const o={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof ei?e+=n.content.str:n.content instanceof yn&&(o[n.content.key]=null)),n=n.right;return{str:e,nAttrs:o}},HJ=(t,e,n)=>{n.mapping.set(t,e);const{nAttrs:o,str:r}=$J(t),i=e.map(d=>({insert:d.text,attributes:Object.assign({},o,Y5(d.marks,n))})),{insert:s,remove:l,index:c}=wJ(r,i.map(d=>d.insert).join(""));t.delete(c,l),t.insert(c,s),t.applyDelta(i.map(d=>({retain:d.insert.length,attributes:d.attributes})))},zJ=/(.*)(--[a-zA-Z0-9+/=]{8})$/,_S=t=>{var e;return((e=zJ.exec(t))==null?void 0:e[1])??t},VJ=(t,e)=>{const n=[];for(const o in t)n.push(e.mark(_S(o),t[o]));return n},Y5=(t,e)=>{const n={};return t.forEach(o=>{if(o.type.name!=="ychange"){const r=zi(e.isOMark,o.type,()=>!o.type.excludes(o.type));n[r?`${o.type.name}--${RJ(o.toJSON())}`:o.type.name]=o.attrs}}),n},mC=(t,e,n,o)=>{if(e instanceof oo&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(o.mapping.set(e,n),e instanceof oo){const p=e.getAttributes(),m=n.attrs;for(const b in m)m[b]!==null?p[b]!==m[b]&&b!=="ychange"&&e.setAttribute(b,m[b]):e.removeAttribute(b);for(const b in p)m[b]===void 0&&e.removeAttribute(b)}const r=w0(n),i=r.length,s=e.toArray(),l=s.length,c=Os(i,l);let d=0,f=0;for(;d<c;d++){const p=s[d],m=r[d];if(!uy(o.mapping.get(p),m))if(Yh(p,m))o.mapping.set(p,m);else break}for(;f+d+1<c;f++){const p=s[l-f-1],m=r[i-f-1];if(!uy(o.mapping.get(p),m))if(Yh(p,m))o.mapping.set(p,m);else break}t.transact(()=>{for(;l-d-f>0&&i-d-f>0;){const m=s[d],b=r[d],y=s[l-f-1],w=r[i-f-1];if(m instanceof Po&&b instanceof Array)X5(m,b)||HJ(m,b,o),d+=1;else{let x=m instanceof oo&&gC(m,b),_=y instanceof oo&&gC(y,w);if(x&&_){const T=HN(m,b,o),M=HN(y,w,o);T.foundMappedChild&&!M.foundMappedChild?_=!1:!T.foundMappedChild&&M.foundMappedChild||T.equalityFactor<M.equalityFactor?x=!1:_=!1}x?(mC(t,m,b,o),d+=1):_?(mC(t,y,w,o),f+=1):(o.mapping.delete(e.get(d)),e.delete(d,1),e.insert(d,[pC(b,o)]),d+=1)}}const p=l-d-f;if(l===1&&i===0&&s[0]instanceof Po?(o.mapping.delete(s[0]),s[0].delete(0,s[0].length)):p>0&&(e.slice(d,d+p).forEach(m=>o.mapping.delete(m)),e.delete(d,p)),d+f<i){const m=[];for(let b=d;b<i-f;b++)m.push(pC(r[b],o));e.insert(d,m)}},It)},gC=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;let vh=null;const UJ=()=>{const t=vh;vh=null,t.forEach((e,n)=>{const o=n.state.tr,r=It.getState(n.state);r&&r.binding&&!r.binding.isDestroyed&&(e.forEach((i,s)=>{o.setMeta(s,i)}),n.dispatch(o))})},FJ=(t,e,n)=>{vh||(vh=new Map,fS(0,UJ)),zi(vh,t,Br).set(e,n)},Jh=(t,e,n)=>{if(t===0)return mk(e,0,-1);let o=e._first===null?null:e._first.content.type;for(;o!==null&&e!==o;){if(o instanceof Po){if(o._length>=t)return mk(o,t,-1);if(t-=o._length,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{do o=o._item===null?null:o._item.parent,t--;while(o!==e&&o!==null&&o._item!==null&&o._item.next===null);o!==null&&o!==e&&(o=o._item===null?null:o._item.next.content.type)}}else{const r=(n.get(o)||{nodeSize:0}).nodeSize;if(o._first!==null&&t<r)o=o._first.content.type,t--;else{if(t===1&&o._length===0&&r>1)return new Kh(o._item===null?null:o._item.id,o._item===null?Gh(o):null,null);if(t-=r,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{if(t===0)return o=o._item===null?o:o._item.parent,new Kh(o._item===null?null:o._item.id,o._item===null?Gh(o):null,null);do o=o._item.parent,t--;while(o!==e&&o._item.next===null);o!==e&&(o=o._item.next.content.type)}}}if(o===null)throw Vo();if(t===0&&o.constructor!==Po&&o!==e)return GJ(o._item.parent,o._item)}return mk(e,e._length,-1)},GJ=(t,e)=>{let n=null,o=null;return t._item===null?o=Gh(t):n=ot(t._item.id.client,t._item.id.clock),new Kh(n,o,e.id)},dd=(t,e,n,o)=>{const r=gY(n,t);if(r===null||r.type!==e&&!qh(e,r.type._item))return null;let i=r.type,s=0;if(i.constructor===Po)s=r.index;else if(i._item===null||!i._item.deleted){let l=i._first,c=0;for(;c<i._length&&c<r.index&&l!==null;){if(!l.deleted){const d=l.content.type;c++,d instanceof Po?s+=d._length:s+=o.get(d).nodeSize}l=l.right}s+=1}for(;i!==e&&i._item!==null;){const l=i._item.parent;if(l._item===null||!l._item.deleted){s+=1;let c=l._first;for(;c!==null;){const d=c.content.type;if(d===i)break;c.deleted||(d instanceof Po?s+=d._length:s+=o.get(d).nodeSize),c=c.right}}i=l}return s-1};function qJ(t){const e=t.toArray(),n=o=>{let r;if(o instanceof Po)r=o.toDelta().map(s=>{const l={type:"text",text:s.insert};return s.attributes&&(l.marks=Object.keys(s.attributes).map(c=>{const d=s.attributes[c],p={type:_S(c)};return Object.keys(d)&&(p.attrs=d),p})),l});else if(o instanceof oo){r={type:o.nodeName};const i=o.getAttributes();Object.keys(i).length&&(r.attrs=i);const s=o.toArray();s.length&&(r.content=s.map(n).flat())}else Vo();return r};return{type:"doc",content:e.map(n)}}const KJ=(t,e,n)=>t!==e,WJ=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null);const o=document.createTextNode(""),r=document.createTextNode("");return e.insertBefore(o,null),e.insertBefore(n,null),e.insertBefore(r,null),e},J5=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),ZJ=/^#[0-9a-fA-F]{6}$/,zN=(t,e,n,o,r)=>{const i=It.getState(t),s=i.doc,l=[];return i.snapshot!=null||i.prevSnapshot!=null||i.binding.mapping.size===0?ct.create(t.doc,[]):(e.getStates().forEach((c,d)=>{if(n(s.clientID,d,c)&&c.cursor!=null){const f=c.user||{};f.color==null?f.color="#ffa500":ZJ.test(f.color)||console.warn("A user uses an unsupported color format",f),f.name==null&&(f.name=`User: ${d}`);let p=dd(s,i.type,yh(c.cursor.anchor),i.binding.mapping),m=dd(s,i.type,yh(c.cursor.head),i.binding.mapping);if(p!==null&&m!==null){const b=Ni(t.doc.content.size-1,0);p=Os(p,b),m=Os(m,b),l.push(_t.widget(m,()=>o(f,d),{key:d+"",side:10}));const y=Os(p,m),w=Ni(p,m);l.push(_t.inline(y,w,r(f,d),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),ct.create(t.doc,l))},XJ=(t,{awarenessStateFilter:e=KJ,cursorBuilder:n=WJ,selectionBuilder:o=J5,getSelection:r=s=>s.selection}={},i="cursor")=>new Qe({key:yg,state:{init(s,l){return zN(l,t,e,n,o)},apply(s,l,c,d){const f=It.getState(d),p=s.getMeta(yg);return f&&f.isChangeOrigin||p&&p.awarenessUpdated?zN(d,t,e,n,o):l.map(s.mapping,s.doc)}},props:{decorations:s=>yg.getState(s)},view:s=>{const l=()=>{s.docView&&FJ(s,yg,{awarenessUpdated:!0})},c=()=>{const d=It.getState(s.state),f=t.getLocalState()||{};if(s.hasFocus()){const p=r(s.state),m=Jh(p.anchor,d.type,d.binding.mapping),b=Jh(p.head,d.type,d.binding.mapping);(f.cursor==null||!TN(yh(f.cursor.anchor),m)||!TN(yh(f.cursor.head),b))&&t.setLocalStateField(i,{anchor:m,head:b})}else f.cursor!=null&&dd(d.doc,d.type,yh(f.cursor.anchor),d.binding.mapping)!==null&&t.setLocalStateField(i,null)};return t.on("change",l),s.dom.addEventListener("focusin",c),s.dom.addEventListener("focusout",c),{update:c,destroy:()=>{s.dom.removeEventListener("focusin",c),s.dom.removeEventListener("focusout",c),t.off("change",l),t.setLocalStateField(i,null)}}}}),YJ=t=>{const e=Ds.getState(t).undoManager;if(e!=null)return e.undo(),!0},JJ=t=>{const e=Ds.getState(t).undoManager;if(e!=null)return e.redo(),!0},QJ=new Set(["paragraph"]),eQ=(t,e)=>!(t instanceof Tt)||!(t.content instanceof si)||!(t.content.type instanceof Yl||t.content.type instanceof oo&&e.has(t.content.type.nodeName))||t.content.type._length===0,tQ=({protectedNodes:t=QJ,trackedOrigins:e=[],undoManager:n=null}={})=>new Qe({key:Ds,state:{init:(o,r)=>{const i=It.getState(r),s=n||new E5(i.type,{trackedOrigins:new Set([It].concat(e)),deleteFilter:l=>eQ(l,t),captureTransaction:l=>l.meta.get("addToHistory")!==!1});return{undoManager:s,prevSel:null,hasUndoOps:s.undoStack.length>0,hasRedoOps:s.redoStack.length>0}},apply:(o,r,i,s)=>{const l=It.getState(s).binding,c=r.undoManager,d=c.undoStack.length>0,f=c.redoStack.length>0;return l?{undoManager:c,prevSel:cy(l,i),hasUndoOps:d,hasRedoOps:f}:d!==r.hasUndoOps||f!==r.hasRedoOps?Object.assign({},r,{hasUndoOps:c.undoStack.length>0,hasRedoOps:c.redoStack.length>0}):r}},view:o=>{const r=It.getState(o.state),i=Ds.getState(o.state).undoManager;return i.on("stack-item-added",({stackItem:s})=>{const l=r.binding;l&&s.meta.set(l,Ds.getState(o.state).prevSel)}),i.on("stack-item-popped",({stackItem:s})=>{const l=r.binding;l&&(l.beforeTransactionSelection=s.meta.get(l)||l.beforeTransactionSelection)}),{destroy:()=>{i.destroy()}}}}),nQ=Mt.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Ds.getState(e).undoManager.undoStack.length===0?!1:n?YJ(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Ds.getState(e).undoManager.redoStack.length===0?!1:n?JJ(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=tQ(this.options.yUndoOptions),o=n.spec.view;n.spec.view=s=>{const{undoManager:l}=Ds.getState(s.state);l.restore&&(l.restore(),l.restore=()=>{});const c=o?o(s):void 0;return{destroy:()=>{const d=l.trackedOrigins.has(l),f=l._observers;l.restore=()=>{d&&l.trackedOrigins.add(l),l.doc.on("afterTransaction",l.afterTransactionHandler),l._observers=f},c!=null&&c.destroy&&c.destroy()}}};const r={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},i=DJ(e,r);return this.editor.options.enableContentCheck&&((t=e.doc)===null||t===void 0||t.on("beforeTransaction",()=>{try{const s=qJ(e);if(s.content.length===0)return;this.editor.schema.nodeFromJSON(s).check()}catch(s){return this.editor.emit("contentError",{error:s,editor:this.editor,disableCollaboration:()=>{var l;(l=e.doc)===null||l===void 0||l.destroy(),this.storage.isDisabled=!0}}),!1}})),[i,n,this.editor.options.enableContentCheck&&new Qe({key:new ht("filterInvalidContent"),filterTransaction:()=>{var s;return this.storage.isDisabled&&((s=e.doc)===null||s===void 0||s.destroy()),!0}})].filter(Boolean)}}),VN=t=>Array.from(t.entries()).map(([e,n])=>({clientId:e,...n.user})),UN=()=>null,oQ=Mt.create({name:"collaborationCursor",priority:999,addOptions(){return{provider:null,user:{name:null,color:null},render:t=>{const e=document.createElement("span");e.classList.add("collaboration-cursor__caret"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");return n.classList.add("collaboration-cursor__label"),n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null),e.insertBefore(n,null),e},selectionRender:J5,onUpdate:UN}},onCreate(){if(this.options.onUpdate!==UN&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),!this.options.provider)throw new Error('The "provider" option is required for the CollaborationCursor extension')},addStorage(){return{users:[]}},addCommands(){return{updateUser:t=>()=>(this.options.user=t,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:t=>({editor:e})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),e.commands.updateUser(t))}},addProseMirrorPlugins(){return[XJ((this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=VN(this.options.provider.awareness.states),this.options.provider.awareness.on("update",()=>{this.storage.users=VN(this.options.provider.awareness.states)}),this.options.provider.awareness),{cursorBuilder:this.options.render,selectionBuilder:this.options.selectionRender})]}});function rQ(t={}){return new Qe({view(e){return new iQ(e,t)}})}class iQ{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o;if(n){let l=e.nodeBefore,c=e.nodeAfter;if(l||c){let d=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(d){let f=d.getBoundingClientRect(),p=l?f.bottom:f.top;l&&c&&(p=(p+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:f.left,right:f.right,top:p-this.width/2,bottom:p+this.width/2}}}}if(!o){let l=this.editorView.coordsAtPos(this.cursorPos);o={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,s;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,s=-pageYOffset;else{let l=r.getBoundingClientRect();i=l.left-r.scrollLeft,s=l.top-r.scrollTop}this.element.style.left=o.left-i+"px",this.element.style.top=o.top-s+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=S_(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Q5={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{image:{add_button_text:"Add image"},video:{add_button_text:"Add video"},audio:{add_button_text:"Add audio"},file:{add_button_text:"Add file"}},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found",loading:"Loading"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:t=>`${t} more replies`}},generic:{ctrl_shortcut:"Ctrl"}};var sQ=Object.defineProperty,lQ=(t,e,n)=>e in t?sQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G=(t,e,n)=>lQ(t,typeof e!="symbol"?e+"":e,n);let Li=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}};function rt(t,e=!0){const{"data-test":n,...o}=t;if(Object.keys(o).length>0&&e)throw new Error("Object must be empty "+JSON.stringify(t))}function js(t,e){const n=t.resolve(e);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let o=n.depth,r=n.node(o);for(;o>0;){if(r.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(o),node:r};o--,r=n.node(o)}const i=[];t.descendants((l,c)=>{l.type.isInGroup("bnBlock")&&i.push(c)}),console.warn(`Position ${e} is not within a blockContainer node.`);const s=t.resolve(i.find(l=>l>=e)||i[i.length-1]);return{posBeforeNode:s.pos,node:s.nodeAfter}}function SS(t,e){if(!t.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${t.type}`);const n=t,o=e,r=o+n.nodeSize,i={node:n,beforePos:o,afterPos:r};if(n.type.name==="blockContainer"){let s,l;if(n.forEach((c,d)=>{if(c.type.spec.group==="blockContent"){const f=c,p=o+d+1,m=p+c.nodeSize;s={node:f,beforePos:p,afterPos:m}}else if(c.type.name==="blockGroup"){const f=c,p=o+d+1,m=p+c.nodeSize;l={node:f,beforePos:p,afterPos:m}}}),!s)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:i,blockContent:s,childContainer:l,blockNoteType:s.node.type.name}}else{if(!i.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${i.node}`);return{isBlockContainer:!1,bnBlock:i,childContainer:i,blockNoteType:i.node.type.name}}}function Jl(t){return SS(t.node,t.posBeforeNode)}function wp(t){if(!t.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${t.pos} but a node at this position does not exist`);return SS(t.nodeAfter,t.pos)}function Ct(t){const e=js(t.doc,t.selection.anchor);return Jl(e)}function aQ(t,e=JSON.stringify){const n={};return t.filter(o=>{const r=e(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function cQ(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return aQ(e)}const kp=Mt.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const t=window.__TEST_OPTIONS;return t.mockID===void 0?t.mockID=0:t.mockID++,t.mockID.toString()}return EI()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:t=>t.getAttribute(`data-${this.options.attributeName}`),renderHTML:t=>{const e={[`data-${this.options.attributeName}`]:t[this.options.attributeName]};return this.options.setIdAttribute?{...e,id:t[this.options.attributeName]}:e}}}}]},addProseMirrorPlugins(){let t=null,e=!1;return[new Qe({key:new ht("uniqueID"),appendTransaction:(n,o,r)=>{const i=n.some(b=>b.docChanged)&&!o.doc.eq(r.doc),s=this.options.filterTransaction&&n.some(b=>{let y,w;return!(!((w=(y=this.options).filterTransaction)===null||w===void 0)&&w.call(y,b))});if(!i||s)return;const{tr:l}=r,{types:c,attributeName:d,generateID:f}=this.options,p=pI(o.doc,n),{mapping:m}=p;if(bI(p).forEach(({newRange:b})=>{const y=mI(r.doc,b,_=>c.includes(_.type.name)),w=y.map(({node:_})=>_.attrs[d]).filter(_=>_!==null),x=cQ(w);y.forEach(({node:_,pos:T})=>{let M;const R=(M=l.doc.nodeAt(T))===null||M===void 0?void 0:M.attrs[d];if(R===null){const B=o.doc.type.createAndFill().content;if(o.doc.content.findDiffStart(B)===null){const I=JSON.parse(JSON.stringify(r.doc.toJSON()));if(I.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(I.content)===JSON.stringify(B.toJSON())){l.setNodeMarkup(T,void 0,{..._.attrs,[d]:"initialBlockId"});return}}l.setNodeMarkup(T,void 0,{..._.attrs,[d]:f()});return}const{deleted:O}=m.invert().mapResult(T);O&&x.includes(R)&&l.setNodeMarkup(T,void 0,{..._.attrs,[d]:f()})})}),!!l.steps.length)return l},view(n){const o=r=>{let i;t=!((i=n.dom.parentElement)===null||i===void 0)&&i.contains(r.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",o),{destroy(){window.removeEventListener("dragstart",o)}}},props:{handleDOMEvents:{drop:(n,o)=>{let r;return t!==n.dom.parentElement||((r=o.dataTransfer)===null||r===void 0?void 0:r.effectAllowed)==="copy"?e=!0:e=!1,t=null,!1},paste:()=>(e=!0,!1)},transformPasted:n=>{if(!e)return n;const{types:o,attributeName:r}=this.options,i=s=>{const l=[];return s.forEach(c=>{if(c.isText){l.push(c);return}if(!o.includes(c.type.name)){l.push(c.copy(i(c.content)));return}const d=c.type.create({...c.attrs,[r]:null},i(c.content),c.marks);l.push(d)}),J.from(l)};return e=!1,new ye(i(n.content),n.openStart,n.openEnd)}}})]}});function FN(t){return t.type==="link"}function ej(t){return typeof t!="string"&&t.type==="link"}function bc(t){return typeof t!="string"&&t.type==="text"}function Ql(t){var e,n,o,r,i;return ea(t)?{...t}:Qh(t)?{type:"tableCell",content:[].concat(t.content),props:{backgroundColor:((e=t.props)==null?void 0:e.backgroundColor)??"default",textColor:((n=t.props)==null?void 0:n.textColor)??"default",textAlignment:((o=t.props)==null?void 0:o.textAlignment)??"left",colspan:((r=t.props)==null?void 0:r.colspan)??1,rowspan:((i=t.props)==null?void 0:i.rowspan)??1}}:{type:"tableCell",content:[].concat(t),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function Qh(t){return t!=null&&typeof t!="string"&&!Array.isArray(t)&&t.type==="tableCell"}function ea(t){return Qh(t)&&t.props!==void 0&&t.content!==void 0}function yc(t){return ea(t)?t.props.colspan??1:1}function ep(t){return ea(t)?t.props.rowspan??1:1}const uQ=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function Er(t,e="Ctrl"){return uQ()?t.replace("Mod",""):t.replace("Mod",e)}function dn(...t){return t.filter(e=>e).join(" ")}const bC=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function Bi(t,e,n,o){const r=document.createElement("div");r.className=dn("bn-block-content",n.class),r.setAttribute("data-content-type",t);for(const[s,l]of Object.entries(n))s!=="class"&&r.setAttribute(s,l);const i=document.createElement(e);i.className=dn("bn-inline-content",o.class);for(const[s,l]of Object.entries(o))s!=="class"&&i.setAttribute(s,l);return r.appendChild(i),{dom:r,contentDOM:i}}const GN=(t,e)=>{let n=Ec(t,e.pmSchema,e.schema.styleSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const o=e.pmSchema.nodes[n.type.name].spec.toDOM;if(o===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const r=o(n);if(typeof r!="object"||!("dom"in r))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return r},bn={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},ES=["backgroundColor","textColor"];function dy(t){return"data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qN(t){const e=t.split("/");return!e.length||e[e.length-1]===""?t:e[e.length-1]}function xp(t){const e={};return Object.entries(t).filter(([n,o])=>!ES.includes(n)).forEach(([n,o])=>{e[n]={default:o.default,keepOnSplit:!0,parseHTML:r=>{const i=r.getAttribute(dy(n));if(i===null)return null;if(o.default===void 0&&o.type==="boolean"||o.default!==void 0&&typeof o.default=="boolean")return i==="true"?!0:i==="false"?!1:null;if(o.default===void 0&&o.type==="number"||o.default!==void 0&&typeof o.default=="number"){const s=parseFloat(i);return!Number.isNaN(s)&&Number.isFinite(s)?s:null}return i},renderHTML:r=>r[n]!==o.default?{[dy(n)]:r[n]}:{}}}),e}function tj(t,e,n,o){if(typeof t=="boolean")throw new Error("Cannot find node position as getPos is a boolean, not a function.");const r=t(),i=n.state.doc.resolve(r).node().attrs.id;if(!i)throw new Error("Block doesn't have id");const s=e.getBlock(i);if(s.type!==o)throw new Error("Block type does not match");return s}function Jf(t,e,n,o,r=!1,i){const s=document.createElement("div");if(i!==void 0)for(const[l,c]of Object.entries(i))l!=="class"&&s.setAttribute(l,c);s.className=dn("bn-block-content",(i==null?void 0:i.class)||""),s.setAttribute("data-content-type",e);for(const[l,c]of Object.entries(n)){const d=o[l].default;!ES.includes(l)&&c!==d&&s.setAttribute(dy(l),c)}return r&&s.setAttribute("data-file-block",""),s.appendChild(t.dom),t.contentDOM!==void 0&&(t.contentDOM.className=dn("bn-inline-content",t.contentDOM.className),t.contentDOM.setAttribute("data-editable","")),{...t,dom:s}}function Uo(t){return Pi.create(t)}function TS(t,e){return{config:t,implementation:e}}function li(t,e,n){return TS({type:t.name,content:t.config.content==="inline*"?"inline":t.config.content==="tableRow+"?"table":"none",propSchema:e},{node:t,requiredExtensions:n,toInternalHTML:GN,toExternalHTML:GN})}function nj(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function oj(t,e){t.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{e.view.dom.blur()},10),!0)}function rj(t,e){const n=[{tag:"[data-content-type="+t.type+"]",contentElement:"[data-editable]"}];return e&&n.push({tag:"*",getAttrs(o){if(typeof o=="string")return!1;const r=e==null?void 0:e(o);return r===void 0?!1:r}}),n}function Cp(t,e){const n=Uo({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return xp(t.propSchema)},parseHTML(){return rj(t,e.parse)},renderHTML({HTMLAttributes:o}){const r=document.createElement("div");return Jf({dom:r,contentDOM:t.content==="inline"?r:void 0},t.type,{},t.propSchema,t.isFileBlock,o)},addNodeView(){return({getPos:o})=>{var r;const i=this.options.editor,s=tj(o,i,this.editor,t.type),l=((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},c=e.render(s,i),d=Jf(c,s.type,s.props,t.propSchema,l);return t.isSelectable===!1&&oj(d,this.editor),d}}});if(n.name!==t.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return TS(t,{node:n,toInternalHTML:(o,r)=>{var i;const s=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.render(o,r);return Jf(l,o.type,o.props,t.propSchema,t.isFileBlock,s)},toExternalHTML:(o,r)=>{var i,s;const l=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{};let c=(s=e.toExternalHTML)==null?void 0:s.call(e,o,r);return c===void 0&&(c=e.render(o,r)),Jf(c,o.type,o.props,t.propSchema,l)}})}function ij(t,e,n){var o,r;const i={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},s=[];t.content.forEach((l,c,d)=>{const f={cells:[]};d===0&&l.content.forEach(p=>{let m=p.attrs.colwidth;m==null&&(m=new Array(p.attrs.colspan??1).fill(void 0)),i.columnWidths.push(...m)}),f.cells=l.content.content.map((p,m)=>(s[d]||(s[d]=[]),s[d][m]=p.type.name==="tableHeader",{type:"tableCell",content:p.content.content.map(b=>k0(b,e,n)).reduce((b,y)=>{if(!b.length)return y;const w=b[b.length-1],x=y[0];return x&&bc(w)&&bc(x)&&JSON.stringify(w.styles)===JSON.stringify(x.styles)?(w.text+=`
`+x.text,b.push(...y.slice(1)),b):(b.push(...y),b)},[]),props:{colspan:p.attrs.colspan,rowspan:p.attrs.rowspan,backgroundColor:p.attrs.backgroundColor,textColor:p.attrs.textColor,textAlignment:p.attrs.textAlignment}})),i.rows.push(f)});for(let l=0;l<s.length;l++)(o=s[l])!=null&&o.every(c=>c)&&(i.headerRows=(i.headerRows??0)+1);for(let l=0;l<((r=s[0])==null?void 0:r.length);l++)s!=null&&s.every(c=>c[l])&&(i.headerCols=(i.headerCols??0)+1);return i}function k0(t,e,n){const o=[];let r;return t.content.forEach(i=>{if(i.type.name==="hardBreak"){if(r)if(bc(r))r.text+=`
`;else if(FN(r))r.content[r.content.length-1].text+=`
`;else throw new Error("unexpected");else r={type:"text",text:`
`,styles:{}};return}if(i.type.name!=="link"&&i.type.name!=="text"){if(!e[i.type.name]){console.warn("unrecognized inline content type",i.type.name);return}r&&(o.push(r),r=void 0),o.push(dQ(i,e,n));return}const s={};let l;for(const c of i.marks)if(c.type.name==="link")l=c;else{const d=n[c.type.name];if(!d){if(c.type.spec.blocknoteIgnore)continue;throw new Error(`style ${c.type.name} not found in styleSchema`)}if(d.propSchema==="boolean")s[d.type]=!0;else if(d.propSchema==="string")s[d.type]=c.attrs.stringValue;else throw new Li(d.propSchema)}r?bc(r)?l?(o.push(r),r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}):JSON.stringify(r.styles)===JSON.stringify(s)?r.text+=i.textContent:(o.push(r),r={type:"text",text:i.textContent,styles:s}):FN(r)&&(l?r.href===l.attrs.href?JSON.stringify(r.content[r.content.length-1].styles)===JSON.stringify(s)?r.content[r.content.length-1].text+=i.textContent:r.content.push({type:"text",text:i.textContent,styles:s}):(o.push(r),r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}):(o.push(r),r={type:"text",text:i.textContent,styles:s})):l?r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}:r={type:"text",text:i.textContent,styles:s}}),r&&o.push(r),o}function dQ(t,e,n){if(t.type.name==="text"||t.type.name==="link")throw new Error("unexpected");const o={},r=e[t.type.name];for(const[s,l]of Object.entries(t.attrs)){if(!r)throw Error("ic node is of an unrecognized type: "+t.type.name);const c=r.propSchema;s in c&&(o[s]=l)}let i;return r.content==="styled"?i=k0(t,e,n):i=void 0,{type:t.type.name,props:o,content:i}}function Xt(t,e,n,o,r){var i;if(!t.type.isInGroup("bnBlock"))throw Error("Node must be in bnBlock group, but is of type"+t.type.name);const s=r==null?void 0:r.get(t);if(s)return s;const l=SS(t,0);let c=l.bnBlock.node.attrs.id;c===null&&(c=kp.options.generateID());const d=e[l.blockNoteType];if(!d)throw Error("Block is of an unrecognized type: "+l.blockNoteType);const f={};for(const[w,x]of Object.entries({...t.attrs,...l.isBlockContainer?l.blockContent.node.attrs:{}})){const _=d.propSchema;w in _&&!(_[w].default===void 0&&x===void 0)&&(f[w]=x)}const p=e[l.blockNoteType],m=[];(i=l.childContainer)==null||i.node.forEach(w=>{m.push(Xt(w,e,n,o,r))});let b;if(p.content==="inline"){if(!l.isBlockContainer)throw new Error("impossible");b=k0(l.blockContent.node,n,o)}else if(p.content==="table"){if(!l.isBlockContainer)throw new Error("impossible");b=ij(l.blockContent.node,n,o)}else if(p.content==="none")b=void 0;else throw new Li(p.content);const y={id:c,type:p.type,props:f,content:b,children:m};return r==null||r.set(t,y),y}function sj(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function fQ(t,e){return{config:t,implementation:e}}function Ha(t,e){return fQ({type:t.name,propSchema:e},{mark:t})}function lj(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function la(t){const{height:e,width:n}=MS(t),o=new Array(e).fill(!1).map(()=>new Array(n).fill(null)),r=(i,s)=>{for(let l=i;l<e;l++)for(let c=s;c<n;c++)if(!o[l][c])return{row:l,col:c};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let i=0;i<t.content.rows.length;i++)for(let s=0;s<t.content.rows[i].cells.length;s++){const l=Ql(t.content.rows[i].cells[s]),c=ep(l),d=yc(l),{row:f,col:p}=r(i,s);for(let m=f;m<f+c;m++)for(let b=p;b<p+d;b++){if(o[m][b])throw new Error(`Unable to create occupancy grid for table, cell at ${m},${b} is already occupied`);o[m][b]={row:i,col:s,rowspan:c,colspan:d,cell:l}}}return o}function tp(t){const e=new Set;return t.map(n=>({cells:n.map(o=>e.has(o.row+":"+o.col)?!1:(e.add(o.row+":"+o.col),o.cell)).filter(o=>o!==!1)}))}function vc(t,e,n=la(e)){for(let o=0;o<n.length;o++)for(let r=0;r<n[o].length;r++){const i=n[o][r];if(i.row===t.row&&i.col===t.col)return{row:o,col:r,cell:i.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${t.row},${t.col} is not occupied`)}function MS(t){const e=t.content.rows.length;let n=0;return t.content.rows.forEach(o=>{let r=0;o.cells.forEach(i=>{r+=yc(i)}),n=Math.max(n,r)}),{height:e,width:n}}function aj(t,e,n=la(e)){var o;const r=(o=n[t.row])==null?void 0:o[t.col];if(r)return{row:r.row,col:r.col,cell:r.cell}}function yC(t,e){var n;const o=la(t);if(e<0||e>=o.length)return[];let r=0;for(let s=0;s<e;s++){const l=(n=o[r])==null?void 0:n[0];if(!l)return[];r+=l.rowspan}const i=new Array(o[0].length).fill(!1).map((s,l)=>aj({row:r,col:l},t,o)).filter(s=>s!==void 0);return i.filter((s,l)=>i.findIndex(c=>c.row===s.row&&c.col===s.col)===l)}function vC(t,e){var n;const o=la(t);if(e<0||e>=o[0].length)return[];let r=0;for(let s=0;s<e;s++){const l=(n=o[0])==null?void 0:n[r];if(!l)return[];r+=l.colspan}const i=new Array(o.length).fill(!1).map((s,l)=>aj({row:l,col:r},t,o)).filter(s=>s!==void 0);return i.filter((s,l)=>i.findIndex(c=>c.row===s.row&&c.col===s.col)===l)}function hQ(t,e,n,o=la(t)){const{col:r}=vc({row:0,col:e},t,o),{col:i}=vc({row:0,col:n},t,o);return o.forEach(s=>{const[l]=s.splice(r,1);s.splice(i,0,l)}),tp(o)}function pQ(t,e,n,o=la(t)){const{row:r}=vc({row:e,col:0},t,o),{row:i}=vc({row:n,col:0},t,o),[s]=o.splice(r,1);return o.splice(i,0,s),tp(o)}function wC(t){return t?Qh(t)?wC(t.content):typeof t=="string"?t.length===0:Array.isArray(t)?t.every(e=>typeof e=="string"?e.length===0:bc(e)?e.text.length===0:ej(e)?typeof e.content=="string"?e.content.length===0:e.content.every(n=>n.text.length===0):!1):!1:!0}function mQ(t,e,n=la(t)){if(e==="columns"){let i=0;for(let s=n[0].length-1;s>=0&&n.every(l=>wC(l[s].cell)&&l[s].colspan===1);s--)i++;for(let s=n.length-1;s>=0;s--){const l=Math.max(n[s].length-i,1);n[s]=n[s].slice(0,l)}return tp(n)}let o=0;for(let i=n.length-1;i>=0&&n[i].every(s=>wC(s.cell)&&s.rowspan===1);i--)o++;const r=Math.min(o,n.length-1);return n.splice(n.length-r,r),tp(n)}function gQ(t,e,n,o=la(t)){const{width:r,height:i}=MS(t);if(e==="columns")o.forEach((s,l)=>{if(n>=0)for(let c=0;c<n;c++)s.push({row:l,col:Math.max(...s.map(d=>d.col))+1,rowspan:1,colspan:1,cell:Ql("")});else s.splice(r+n,-1*n)});else if(n>0)for(let s=0;s<n;s++){const l=new Array(r).fill(null).map((c,d)=>({row:i+s,col:d,rowspan:1,colspan:1,cell:Ql("")}));o.push(l)}else n<0&&o.splice(i+n,-1*n);return tp(o)}function cj(t,e,n){const o=yC(t,n);if(!o.some(s=>ep(s.cell)>1))return!0;let r=n,i=n;return o.forEach(s=>{const l=ep(s.cell);r=Math.max(r,s.row+l-1),i=Math.min(i,s.row)}),e<n?n===r:n===i}function uj(t,e,n){const o=vC(t,n);if(!o.some(s=>yc(s.cell)>1))return!0;let r=n,i=n;return o.forEach(s=>{const l=yc(s.cell);r=Math.max(r,s.col+l-1),i=Math.min(i,s.col)}),e<n?n===r:n===i}function bQ(t,e,n){const o=vc(t,n),r=vc(e,n);return o.col===r.col}function KN(t,e,n,o){const r=[];for(const[i,s]of Object.entries(t.styles)){const l=n[i];if(!l)throw new Error(`style ${i} not found in styleSchema`);if(l.propSchema==="boolean")r.push(e.mark(i));else if(l.propSchema==="string")r.push(e.mark(i,{stringValue:s}));else throw new Li(l.propSchema)}return!o||!e.nodes[o].spec.code?t.text.split(/(\n)/g).filter(i=>i.length>0).map(i=>i===`
`?e.nodes.hardBreak.createChecked():e.text(i,r)):[e.text(t.text,r)]}function yQ(t,e,n){const o=e.marks.link.create({href:t.href});return kC(t.content,e,n).map(r=>{if(r.type.name==="text")return r.mark([...r.marks,o]);if(r.type.name==="hardBreak")return r;throw new Error("unexpected node type")})}function kC(t,e,n,o){const r=[];if(typeof t=="string")return r.push(...KN({text:t,styles:{}},e,n,o)),r;for(const i of t)r.push(...KN(i,e,n,o));return r}function ti(t,e,n,o){const r=[];for(const i of t)typeof i=="string"?r.push(...kC(i,e,n,o)):ej(i)?r.push(...yQ(i,e,n)):bc(i)?r.push(...kC([i],e,n,o)):r.push(dj(i,e,n));return r}function x0(t,e,n){const o=[],r=new Array(t.headerRows??0).fill(!0),i=new Array(t.headerCols??0).fill(!0),s=t.columnWidths??[];for(let l=0;l<t.rows.length;l++){const c=t.rows[l],d=[],f=r[l];for(let m=0;m<c.cells.length;m++){const b=c.cells[m],y=i[m],w=void 0;let x=null;const _=vc({row:l,col:m},{content:t});let T=s[_.col]?[s[_.col]]:null;if(b)if(typeof b=="string")x=e.text(b);else if(Qh(b)){b.content&&(x=ti(b.content,e,n));const R=yc(b);R>1&&(T=new Array(R).fill(!1).map((O,B)=>s[_.col+B]??void 0))}else x=ti(b,e,n);const M=e.nodes[y||f?"tableHeader":"tableCell"].createChecked({...Qh(b)?b.props:{},colwidth:T},e.nodes.tableParagraph.createChecked(w,x));d.push(M)}const p=e.nodes.tableRow.createChecked({},d);o.push(p)}return o}function dj(t,e,n){let o,r=t.type;if(r===void 0&&(r="paragraph"),!e.nodes[r])throw new Error(`node type ${r} not found in schema`);if(!t.content)o=e.nodes[r].createChecked(t.props);else if(typeof t.content=="string"){const i=ti([t.content],e,n,r);o=e.nodes[r].createChecked(t.props,i)}else if(Array.isArray(t.content)){const i=ti(t.content,e,n,r);o=e.nodes[r].createChecked(t.props,i)}else if(t.content.type==="tableContent"){const i=x0(t.content,e,n);o=e.nodes[r].createChecked(t.props,i)}else throw new Li(t.content.type);return o}function Ec(t,e,n){let o=t.id;o===void 0&&(o=kp.options.generateID());const r=[];if(t.children)for(const i of t.children)r.push(Ec(i,e,n));if(!t.type||e.nodes[t.type].isInGroup("blockContent")){const i=dj(t,e,n),s=r.length>0?e.nodes.blockGroup.createChecked({},r):void 0;return e.nodes.blockContainer.createChecked({id:o,...t.props},s?[i,s]:i)}else{if(e.nodes[t.type].isInGroup("bnBlock"))return e.nodes[t.type].createChecked({id:o,...t.props},r);throw new Error(`block type ${t.type} doesn't match blockContent or bnBlock group`)}}function Co(t,e){let n,o;if(e.firstChild.descendants((r,i)=>n?!1:!r.type.isInGroup("bnBlock")||r.attrs.id!==t?!0:(n=r,o=i+1,!1)),!(n===void 0||o===void 0))return{node:n,posBeforeNode:o}}const Dn=(t,e,n)=>({state:o,dispatch:r})=>{const i=wp(o.doc.resolve(e));if(r){const s=o.schema.nodes[i.blockNoteType],l=o.schema.nodes[n.type||i.blockNoteType],c=l.isInGroup("bnBlock")?l:o.schema.nodes.blockContainer;if(i.isBlockContainer&&l.isInGroup("blockContent"))WN(n,o,t,i),vQ(n,o,t,s,l,i);else if(!i.isBlockContainer&&l.isInGroup("bnBlock"))WN(n,o,t,i);else{const d=Xt(i.bnBlock.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache);return o.tr.replaceWith(i.bnBlock.beforePos,i.bnBlock.afterPos,Ec({children:d.children,...n},o.schema,t.schema.styleSchema)),!0}o.tr.setNodeMarkup(i.bnBlock.beforePos,c,{...i.bnBlock.node.attrs,...n.props})}return!0};function vQ(t,e,n,o,r,i){let s="keep";if(t.content)if(typeof t.content=="string")s=ti([t.content],e.schema,n.schema.styleSchema,r.name);else if(Array.isArray(t.content))s=ti(t.content,e.schema,n.schema.styleSchema,r.name);else if(t.content.type==="tableContent")s=x0(t.content,e.schema,n.schema.styleSchema);else throw new Li(t.content.type);else o.spec.content===""||r.spec.content!==o.spec.content&&(s=[]);s==="keep"?e.tr.setNodeMarkup(i.blockContent.beforePos,t.type===void 0?void 0:e.schema.nodes[t.type],{...i.blockContent.node.attrs,...t.props}):e.tr.replaceWith(i.blockContent.beforePos,i.blockContent.afterPos,r.createChecked({...i.blockContent.node.attrs,...t.props},s))}function WN(t,e,n,o){if(t.children!==void 0&&t.children.length>0){const r=t.children.map(i=>Ec(i,e.schema,n.schema.styleSchema));if(o.childContainer)e.tr.step(new Cn(o.childContainer.beforePos+1,o.childContainer.afterPos-1,new ye(J.from(r),0,0)));else{if(!o.isBlockContainer)throw new Error("impossible");e.tr.insert(o.blockContent.afterPos,e.schema.nodes.blockGroup.createChecked({},r))}}}function wQ(t,e,n){const o=t._tiptapEditor,r=typeof e=="string"?e:e.id,i=Co(r,o.state.doc);if(!i)throw new Error(`Block with ID ${r} not found`);o.commands.command(({state:l,dispatch:c})=>(Dn(t,i.posBeforeNode,n)({state:l,dispatch:c}),!0));const s=o.state.doc.resolve(i.posBeforeNode+1).node();return Xt(s,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function fj(t){const e=Array.from(t.classList).filter(n=>!n.startsWith("bn-"))||[];e.length>0?t.className=e.join(" "):t.removeAttribute("class")}function hj(t,e,n,o){let r;if(e)if(typeof e=="string")r=ti([e],t.pmSchema,t.schema.styleSchema);else if(Array.isArray(e))r=ti(e,t.pmSchema,t.schema.styleSchema);else if(e.type==="tableContent")r=x0(e,t.pmSchema,t.schema.styleSchema);else throw new Li(e.type);else throw new Error("blockContent is required");const i=n.serializeFragment(J.from(r),o);return i.nodeType===1&&fj(i),i}function kQ(t,e,n,o,r,i,s){var l,c,d,f,p,m,b,y;const w=(s==null?void 0:s.document)??document,x=e.pmSchema.nodes.blockContainer;let _=n.props;if(!n.props){_={};for(const[I,H]of Object.entries(e.schema.blockSchema[n.type].propSchema))H.default!==void 0&&(_[I]=H.default)}const T=(c=(l=x.spec)==null?void 0:l.toDOM)==null?void 0:c.call(l,x.create({id:n.id,..._})),M=Array.from(T.dom.attributes),R=e.blockImplementations[n.type].implementation.toExternalHTML({...n,props:_},e),O=w.createDocumentFragment();if(R.dom.classList.contains("bn-block-content")){const I=[...M,...Array.from(R.dom.attributes)].filter(H=>H.name.startsWith("data")&&H.name!=="data-content-type"&&H.name!=="data-file-block"&&H.name!=="data-node-view-wrapper"&&H.name!=="data-node-type"&&H.name!=="data-id"&&H.name!=="data-index"&&H.name!=="data-editable");for(const H of I)R.dom.firstChild.setAttribute(H.name,H.value);fj(R.dom.firstChild),O.append(...Array.from(R.dom.childNodes))}else O.append(R.dom);if(R.contentDOM&&n.content){const I=hj(e,n.content,o,s);R.contentDOM.appendChild(I)}let B;if(r.has(n.type)?B="OL":i.has(n.type)&&(B="UL"),B){if(((d=t.lastChild)==null?void 0:d.nodeName)!==B){const H=w.createElement(B);B==="OL"&&_!=null&&_.start&&(_==null?void 0:_.start)!==1&&H.setAttribute("start",_.start+""),t.append(H)}const I=w.createElement("li");I.append(O),t.lastChild.appendChild(I)}else t.append(O);if(n.children&&n.children.length>0){const I=w.createDocumentFragment();if(pj(I,e,n.children,o,r,i,s),((f=t.lastChild)==null?void 0:f.nodeName)==="UL"||((p=t.lastChild)==null?void 0:p.nodeName)==="OL")for(;((m=I.firstChild)==null?void 0:m.nodeName)==="UL"||((b=I.firstChild)==null?void 0:b.nodeName)==="OL";)t.lastChild.lastChild.appendChild(I.firstChild);e.pmSchema.nodes[n.type].isInGroup("blockContent")?t.append(I):(y=R.contentDOM)==null||y.append(I)}}const pj=(t,e,n,o,r,i,s)=>{for(const l of n)kQ(t,e,l,o,r,i,s)},xQ=(t,e,n,o,r,i)=>{const s=((i==null?void 0:i.document)??document).createDocumentFragment();return pj(s,t,e,n,o,r,i),s},C0=(t,e)=>{const n=Us.fromSchema(t);return{exportBlocks:(o,r)=>{const i=xQ(e,o,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem"]),r),s=document.createElement("div");return s.append(i),s.innerHTML},exportInlineContent:(o,r)=>{const i=hj(e,o,n,r),s=document.createElement("div");return s.append(i.cloneNode(!0)),s.innerHTML}}};function CQ(t,e,n,o,r){let i;if(e)if(typeof e=="string")i=ti([e],t.pmSchema,t.schema.styleSchema,o);else if(Array.isArray(e))i=ti(e,t.pmSchema,t.schema.styleSchema,o);else if(e.type==="tableContent")i=x0(e,t.pmSchema,t.schema.styleSchema);else throw new Li(e.type);else throw new Error("blockContent is required");return n.serializeFragment(J.from(i),r)}function _Q(t,e,n,o,r){var i,s,l,c,d;const f=t.pmSchema.nodes.blockContainer;let p=e.props;if(!e.props){p={};for(const[y,w]of Object.entries(t.schema.blockSchema[e.type].propSchema))w.default!==void 0&&(p[y]=w.default)}const m=t.blockImplementations[e.type].implementation.toInternalHTML({...e,props:p},t);if(e.type==="numberedListItem"&&m.dom.setAttribute("data-index",o.toString()),m.contentDOM&&e.content){const y=CQ(t,e.content,n,e.type,r);m.contentDOM.appendChild(y)}if(t.pmSchema.nodes[e.type].isInGroup("bnBlock")){if(e.children&&e.children.length>0){const y=mj(t,e.children,n,r);(i=m.contentDOM)==null||i.append(y)}return m.dom}const b=(l=(s=f.spec)==null?void 0:s.toDOM)==null?void 0:l.call(s,f.create({id:e.id,...p}));return(c=b.contentDOM)==null||c.appendChild(m.dom),e.children&&e.children.length>0&&((d=b.contentDOM)==null||d.appendChild(gj(t,e.children,n,r))),b.dom}function mj(t,e,n,o){const r=((o==null?void 0:o.document)??document).createDocumentFragment();let i=0;for(const s of e){s.type==="numberedListItem"?i++:i=0;const l=_Q(t,s,n,i,o);r.appendChild(l)}return r}const gj=(t,e,n,o)=>{var r;const i=t.pmSchema.nodes.blockGroup,s=i.spec.toDOM(i.create({})),l=mj(t,e,n,o);return(r=s.contentDOM)==null||r.appendChild(l),s.dom},SQ=(t,e)=>{const n=Us.fromSchema(t);return{serializeBlocks:(o,r)=>gj(e,o,n,r).outerHTML}},_0=(t,e)=>{const n=t.querySelector(e);if(!n)return;const o=t.querySelector("figcaption"),r=(o==null?void 0:o.textContent)??void 0;return{targetElement:n,caption:r}},EQ=(t,e,n,o)=>{const r=document.createElement("div");r.className="bn-add-file-button";const i=document.createElement("div");i.className="bn-add-file-button-icon",o?i.appendChild(o):i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',r.appendChild(i);const s=document.createElement("p");s.className="bn-add-file-button-text",s.innerHTML=n||e.dictionary.file_blocks.file.add_button_text,r.appendChild(s);const l=d=>{d.preventDefault()},c=()=>{e.dispatch(e._tiptapEditor.state.tr.setMeta(e.filePanel.plugin,{block:t}))};return r.addEventListener("mousedown",l,!0),r.addEventListener("click",c,!0),{dom:r,destroy:()=>{r.removeEventListener("mousedown",l,!0),r.removeEventListener("click",c,!0)}}},TQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',MQ=t=>{const e=document.createElement("div");e.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=TQ,e.appendChild(n);const o=document.createElement("p");return o.className="bn-file-name",o.textContent=t.props.name,e.appendChild(o),{dom:e}},AS=(t,e,n,o,r)=>{const i=document.createElement("div");if(i.className="bn-file-block-content-wrapper",t.props.url===""){const l=EQ(t,e,o,r);i.appendChild(l.dom);const c=e.onUploadStart(d=>{if(d===t.id){i.removeChild(l.dom);const f=document.createElement("div");f.className="bn-file-loading-preview",f.textContent="Loading...",i.appendChild(f)}});return{dom:i,destroy:()=>{c(),l.destroy()}}}const s={dom:i};if(t.props.showPreview===!1||!n){const l=MQ(t);i.appendChild(l.dom),s.destroy=()=>{var c;(c=l.destroy)==null||c.call(l)}}else i.appendChild(n.dom);if(t.props.caption){const l=document.createElement("p");l.className="bn-file-caption",l.textContent=t.props.caption,i.appendChild(l)}return s},RS=(t,e)=>{const n=document.createElement("figure"),o=document.createElement("figcaption");return o.textContent=e,n.appendChild(t),n.appendChild(o),{dom:n}},S0=(t,e)=>{const n=document.createElement("div"),o=document.createElement("p");return o.textContent=e,n.appendChild(t),n.appendChild(o),{dom:n}},ZN=t=>({url:t.src||void 0}),AQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',RQ={backgroundColor:bn.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},bj={type:"audio",propSchema:RQ,content:"none",isFileBlock:!0,fileBlockAccept:["audio/*"]},OQ=(t,e)=>{const n=document.createElement("div");n.innerHTML=AQ;const o=document.createElement("audio");return o.className="bn-audio",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(r=>{o.src=r}):o.src=t.props.url,o.controls=!0,o.contentEditable="false",o.draggable=!1,AS(t,e,{dom:o},e.dictionary.file_blocks.audio.add_button_text,n.firstElementChild)},yj=t=>{if(t.tagName==="AUDIO")return ZN(t);if(t.tagName==="FIGURE"){const e=_0(t,"audio");if(!e)return;const{targetElement:n,caption:o}=e;return{...ZN(n),caption:o}}},NQ=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add audio",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("audio"),e.src=t.props.url):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?RS(e,t.props.caption):S0(e,t.props.caption):{dom:e}},DQ=Cp(bj,{render:OQ,parse:yj,toExternalHTML:NQ}),XN=Symbol.for("blocknote.shikiParser"),vk=Symbol.for("blocknote.shikiHighlighterPromise"),LQ={language:{default:"text"}},BQ=Uo({name:"codeBlock",content:"inline*",group:"blockContent",marks:"",code:!0,defining:!0,addOptions(){return{defaultLanguage:"text",indentLineWithTab:!0,supportedLanguages:{}}},addAttributes(){const t=this.options;return{language:{default:t.editor.settings.codeBlock.defaultLanguage,parseHTML:e=>{let n=e,o=null;(n==null?void 0:n.tagName)==="DIV"&&(n==null?void 0:n.dataset.contentType)==="codeBlock"&&(n=n.children[0]),(n==null?void 0:n.tagName)==="PRE"&&(n=n==null?void 0:n.children[0]);const r=n==null?void 0:n.getAttribute("data-language");if(r)o=r.toLowerCase();else{const i=[...(n==null?void 0:n.className.split(" "))||[]].filter(s=>s.startsWith("language-")).map(s=>s.replace("language-",""));i.length>0&&(o=i[0].toLowerCase())}return o?YN(t.editor.settings.codeBlock,o):null},renderHTML:e=>e.language?{class:`language-${e.language}`,"data-language":e.language}:{}}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:"code"},{tag:"pre",contentElement:"code",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:t}){var e,n;const o=document.createElement("pre"),{dom:r,contentDOM:i}=Bi(this.name,"code",((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},{...((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{},...t});return r.removeChild(i),r.appendChild(o),o.appendChild(i),{dom:r,contentDOM:i}},addNodeView(){const t=this.options;return({editor:e,node:n,getPos:o,HTMLAttributes:r})=>{var i,s;const l=document.createElement("pre"),c=document.createElement("select"),d=document.createElement("div"),{dom:f,contentDOM:p}=Bi(this.name,"code",{...((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},...r},((s=this.options.domAttributes)==null?void 0:s.inlineContent)||{}),m=b=>{const y=b.target.value;e.commands.command(({tr:w})=>(w.setNodeAttribute(o(),"language",y),!0))};return Object.entries(t.editor.settings.codeBlock.supportedLanguages).forEach(([b,{name:y}])=>{const w=document.createElement("option");w.value=b,w.text=y,c.appendChild(w)}),d.contentEditable="false",c.value=n.attrs.language||t.editor.settings.codeBlock.defaultLanguage,f.removeChild(p),f.appendChild(d),f.appendChild(l),l.appendChild(p),d.appendChild(c),c.addEventListener("change",m),{dom:f,contentDOM:p,update:b=>b.type===this.type,destroy:()=>{c.removeEventListener("change",m)}}}},addProseMirrorPlugins(){const t=this.options,e=globalThis;let n,o;return[MK({parser:r=>{if(!t.editor.settings.codeBlock.createHighlighter)return[];if(!n)return e[vk]=e[vk]||t.editor.settings.codeBlock.createHighlighter(),e[vk].then(s=>{n=s});const i=r.language;return i&&i!=="text"&&!n.getLoadedLanguages().includes(i)&&i in t.editor.settings.codeBlock.supportedLanguages?n.loadLanguage(i):(o||(o=e[XN]||AK(n),e[XN]=o),o(r))},languageExtractor:r=>r.attrs.language,nodeTypes:[this.name]})]},addInputRules(){const t=this.options;return[new Wl({find:/^```(.*?)\s$/,handler:({state:e,range:n,match:o})=>{const r=e.doc.resolve(n.from),i=o[1].trim(),s={language:YN(t.editor.settings.codeBlock,i)};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),this.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,this.type,s).setSelection(Re.create(e.tr.doc,n.from))}})]},addKeyboardShortcuts(){return{Delete:({editor:t})=>{const{selection:e}=t.state,{$from:n}=e;if(t.isActive(this.name)&&!n.parent.textContent&&l0(e)){const o=n.pos-n.parentOffset-2;return t.chain().setNodeSelection(o).deleteSelection().run(),!0}return!1},Tab:({editor:t})=>this.options.indentLineWithTab&&t.isActive(this.name)?(t.commands.insertContent("  "),!0):!1,Enter:({editor:t})=>{const{$from:e}=t.state.selection;if(!t.isActive(this.name))return!1;const n=e.parentOffset===e.parent.nodeSize-2,o=e.parent.textContent.endsWith(`

`);return!n||!o?(t.commands.insertContent(`
`),!0):t.chain().command(({tr:r})=>(r.delete(e.pos-2,e.pos),!0)).exitCode().run()},"Shift-Enter":({editor:t})=>{const{$from:e}=t.state.selection;return t.isActive(this.name)?(t.chain().insertContentAt(e.pos-e.parentOffset+e.parent.nodeSize,{type:"paragraph"}).run(),!0):!1}}}}),IQ=li(BQ,LQ);function YN(t,e){var n;return((n=Object.entries(t.supportedLanguages).find(([o,{aliases:r}])=>(r==null?void 0:r.includes(e))||o===e))==null?void 0:n[0])||e}const JN=t=>({url:t.src||void 0}),jQ={backgroundColor:bn.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},vj={type:"file",propSchema:jQ,content:"none",isFileBlock:!0},PQ=(t,e)=>AS(t,e),wj=t=>{if(t.tagName==="EMBED")return JN(t);if(t.tagName==="FIGURE"){const e=_0(t,"embed");if(!e)return;const{targetElement:n,caption:o}=e;return{...JN(n),caption:o}}},$Q=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const e=document.createElement("a");return e.href=t.props.url,e.textContent=t.props.name||t.props.url,t.props.caption?S0(e,t.props.caption):{dom:e}},HQ=Cp(vj,{render:PQ,parse:wj,toExternalHTML:$Q}),kj=(t,e,n,o,r,i)=>{const{dom:s,destroy:l}=AS(t,e,n,r,i),c=s;t.props.url&&t.props.showPreview&&(c.style.width=`${t.props.previewWidth}px`);const d=document.createElement("div");d.className="bn-resize-handle",d.style.left="4px";const f=document.createElement("div");f.className="bn-resize-handle",f.style.right="4px";let p,m=t.props.previewWidth;const b=M=>{if(!p){!e.isEditable&&o.contains(d)&&o.contains(f)&&(o.removeChild(d),o.removeChild(f));return}let R;t.props.textAlignment==="center"?p.handleUsed==="left"?R=p.initialWidth+(p.initialClientX-M.clientX)*2:R=p.initialWidth+(M.clientX-p.initialClientX)*2:p.handleUsed==="left"?R=p.initialWidth+p.initialClientX-M.clientX:R=p.initialWidth+M.clientX-p.initialClientX,m=Math.max(R,64),c.style.width=`${m}px`},y=M=>{(!M.target||!c.contains(M.target)||!e.isEditable)&&o.contains(d)&&o.contains(f)&&(o.removeChild(d),o.removeChild(f)),p&&(p=void 0,e.updateBlock(t,{props:{previewWidth:m}}))},w=()=>{e.isEditable&&(o.appendChild(d),o.appendChild(f))},x=M=>{M.relatedTarget===d||M.relatedTarget===f||p||e.isEditable&&o.contains(d)&&o.contains(f)&&(o.removeChild(d),o.removeChild(f))},_=M=>{M.preventDefault(),p={handleUsed:"left",initialWidth:c.clientWidth,initialClientX:M.clientX}},T=M=>{M.preventDefault(),p={handleUsed:"right",initialWidth:c.clientWidth,initialClientX:M.clientX}};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",y),c.addEventListener("mouseenter",w),c.addEventListener("mouseleave",x),d.addEventListener("mousedown",_),f.addEventListener("mousedown",T),{dom:c,destroy:()=>{l==null||l(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",y),c.removeEventListener("mouseenter",w),c.removeEventListener("mouseleave",x),d.removeEventListener("mousedown",_),f.removeEventListener("mousedown",T)}}},QN=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},zQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',VQ={textAlignment:bn.textAlignment,backgroundColor:bn.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},xj={type:"image",propSchema:VQ,content:"none",isFileBlock:!0,fileBlockAccept:["image/*"]},UQ=(t,e)=>{const n=document.createElement("div");n.innerHTML=zQ;const o=document.createElement("div");o.className="bn-visual-media-wrapper";const r=document.createElement("img");return r.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{r.src=i}):r.src=t.props.url,r.alt=t.props.name||t.props.caption||"BlockNote image",r.contentEditable="false",r.draggable=!1,o.appendChild(r),kj(t,e,{dom:o},o,e.dictionary.file_blocks.image.add_button_text,n.firstElementChild)},Cj=t=>{if(t.tagName==="IMG")return QN(t);if(t.tagName==="FIGURE"){const e=_0(t,"img");if(!e)return;const{targetElement:n,caption:o}=e;return{...QN(n),caption:o}}},FQ=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add image",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("img"),e.src=t.props.url,e.alt=t.props.name||t.props.caption||"BlockNote image",e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?RS(e,t.props.caption):S0(e,t.props.caption):{dom:e}},GQ=Cp(xj,{render:UQ,parse:Cj,toExternalHTML:FQ}),qQ={type:"pageBreak",propSchema:{},content:"none",isFileBlock:!1,isSelectable:!1},KQ=()=>{const t=document.createElement("div");return t.className="bn-page-break",t.setAttribute("data-page-break",""),{dom:t}},WQ=t=>{if(t.tagName==="DIV"&&t.hasAttribute("data-page-break"))return{type:"pageBreak"}},ZQ=()=>{const t=document.createElement("div");return t.setAttribute("data-page-break",""),{dom:t}},XQ=Cp(qQ,{render:KQ,parse:WQ,toExternalHTML:ZQ}),YQ=zo.create({name:"backgroundColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-background-color"),renderHTML:t=>({"data-background-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-background-color")?{stringValue:t.getAttribute("data-background-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),JQ=Ha(YQ,"string"),QQ=zo.create({name:"textColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-text-color"),renderHTML:t=>({"data-text-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-text-color")?{stringValue:t.getAttribute("data-text-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),eee=Ha(QQ,"string"),_j={...bn,level:{default:1,values:[1,2,3]}},tee=Uo({name:"heading",content:"inline*",group:"blockContent",addAttributes(){return xp(_j)},addInputRules(){return[...[1,2,3].map(t=>new Wl({find:new RegExp(`^(#{${t}})\\s$`),handler:({state:e,chain:n,range:o})=>{const r=Ct(e);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||n().command(Dn(this.options.editor,r.bnBlock.beforePos,{type:"heading",props:{level:t}})).deleteRange({from:o.from,to:o.to}).run()}}))]},addKeyboardShortcuts(){return{"Mod-Alt-1":()=>{const t=Ct(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Dn(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:1}}))},"Mod-Alt-2":()=>{const t=Ct(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Dn(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:2}}))},"Mod-Alt-3":()=>{const t=Ct(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Dn(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:3}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"h1",attrs:{level:1},node:"heading"},{tag:"h2",attrs:{level:2},node:"heading"},{tag:"h3",attrs:{level:3},node:"heading"}]},renderHTML({node:t,HTMLAttributes:e}){var n,o;return Bi(this.name,`h${t.attrs.level}`,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{})}}),nee=li(tee,_j),Sj=(t,e,n)=>({state:o,dispatch:r})=>{const i=js(o.doc,t),s=Jl(i);if(!s.isBlockContainer)throw new Error(`BlockContainer expected when calling splitBlock, position ${t}`);const l=[{type:s.bnBlock.node.type,attrs:n?{...s.bnBlock.node.attrs,id:void 0}:{}},{type:e?s.blockContent.node.type:o.schema.nodes.paragraph,attrs:n?{...s.blockContent.node.attrs}:{}}];return r&&o.tr.split(t,2,l),!0},OS=t=>{const e=t._tiptapEditor,n=Ct(e.state);if(!n.isBlockContainer)return!1;const{bnBlock:o,blockContent:r}=n,i=e.state.selection.anchor===e.state.selection.head;return!(r.node.type.name==="bulletListItem"||r.node.type.name==="numberedListItem"||r.node.type.name==="checkListItem")||!i?!1:e.commands.first(({state:s,chain:l,commands:c})=>[()=>c.command(()=>r.node.childCount===0?c.command(Dn(t,o.beforePos,{type:"paragraph",props:{}})):!1),()=>c.command(()=>r.node.childCount>0?(l().deleteSelection().command(Sj(s.selection.from,!0)).run(),!0):!1)])},oee={...bn},ree=Uo({name:"bulletListItem",content:"inline*",group:"blockContent",priority:90,addInputRules(){return[new Wl({find:new RegExp("^[-+*]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=Ct(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(Dn(this.options.editor,o.bnBlock.beforePos,{type:"bulletListItem",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>OS(this.options.editor),"Mod-Shift-8":()=>{const t=Ct(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Dn(this.options.editor,t.bnBlock.beforePos,{type:"bulletListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"?{}:!1},node:"bulletListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="bulletListItem"?{}:!1},priority:300,node:"bulletListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return Bi(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),iee=li(ree,oee),Ej={...bn,checked:{default:!1}},see=Uo({name:"checkListItem",content:"inline*",group:"blockContent",addAttributes(){return xp(Ej)},addInputRules(){return[new Wl({find:new RegExp("\\[\\s*\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=Ct(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(Dn(this.options.editor,o.bnBlock.beforePos,{type:"checkListItem",props:{checked:!1}})).deleteRange({from:n.from,to:n.to})}}),new Wl({find:new RegExp("\\[[Xx]\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=Ct(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(Dn(this.options.editor,o.bnBlock.beforePos,{type:"checkListItem",props:{checked:!0}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>OS(this.options.editor),"Mod-Shift-9":()=>{const t=Ct(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Dn(this.options.editor,t.bnBlock.beforePos,{type:"checkListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"input",getAttrs:t=>typeof t=="string"?!1:t.type==="checkbox"?{checked:t.checked}:!1,node:"checkListItem"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"){const n=t.querySelector("input[type=checkbox]")||null;return n===null?!1:{checked:n.checked}}return!1},node:"checkListItem"}]},renderHTML({node:t,HTMLAttributes:e}){var n,o;const r=document.createElement("input");r.type="checkbox",r.checked=t.attrs.checked,t.attrs.checked&&r.setAttribute("checked","");const{dom:i,contentDOM:s}=Bi(this.name,"p",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{});return i.insertBefore(r,s),{dom:i,contentDOM:s}},addNodeView(){return({node:t,getPos:e,editor:n,HTMLAttributes:o})=>{var r,i;const s=document.createElement("div"),l=document.createElement("div");l.contentEditable="false";const c=document.createElement("input");c.type="checkbox",c.checked=t.attrs.checked,t.attrs.checked&&c.setAttribute("checked","");const d=()=>{if(!n.isEditable){c.checked=!c.checked;return}if(typeof e!="boolean"){const m=js(n.state.doc,e());if(m.node.type.name!=="blockContainer")throw new Error(`Expected blockContainer node, got ${m.node.type.name}`);this.editor.commands.command(Dn(this.options.editor,m.posBeforeNode,{type:"checkListItem",props:{checked:c.checked}}))}};c.addEventListener("change",d);const{dom:f,contentDOM:p}=Bi(this.name,"p",{...((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},...o},((i=this.options.domAttributes)==null?void 0:i.inlineContent)||{});if(typeof e!="boolean"){const m="label-"+this.editor.state.doc.resolve(e()).node().attrs.id;c.setAttribute("aria-labelledby",m),p.id=m}return f.removeChild(p),f.appendChild(s),s.appendChild(l),s.appendChild(p),l.appendChild(c),{dom:f,contentDOM:p,destroy:()=>{c.removeEventListener("change",d)}}}}}),lee=li(see,Ej),aee=new ht("numbered-list-indexing"),cee=()=>new Qe({key:aee,appendTransaction:(t,e,n)=>{const o=n.tr;o.setMeta("numberedListIndexing",!0);let r=!1;return n.doc.descendants((i,s)=>{var l;if(i.type.name==="blockContainer"&&i.firstChild.type.name==="numberedListItem"){let c=`${i.firstChild.attrs.start||1}`;const d=Jl({posBeforeNode:s,node:i});if(!d.isBlockContainer)throw new Error("impossible");const f=o.doc.resolve(d.bnBlock.beforePos).nodeBefore;if(f){const y=Jl({posBeforeNode:d.bnBlock.beforePos-f.nodeSize,node:f});if(y.blockNoteType==="numberedListItem"){if(!y.isBlockContainer)throw new Error("impossible");const w=y.blockContent.node.attrs.index;c=(parseInt(w)+1).toString()}}const p=d.blockContent.node,m=p.attrs.index,b=((l=f==null?void 0:f.firstChild)==null?void 0:l.type.name)!=="numberedListItem";if(m!==c||p.attrs.start&&!b){r=!0;const{start:y,...w}=p.attrs;o.setNodeMarkup(d.blockContent.beforePos,void 0,{...w,index:c,...typeof y=="number"&&b&&{start:y}})}}}),r?o:null}}),Tj={...bn,start:{default:void 0,type:"number"}},uee=Uo({name:"numberedListItem",content:"inline*",group:"blockContent",priority:90,addAttributes(){return{...xp(Tj),index:{default:null,parseHTML:t=>t.getAttribute("data-index"),renderHTML:t=>({"data-index":t.index})}}},addInputRules(){return[new Wl({find:new RegExp("^(\\d+)\\.\\s$"),handler:({state:t,chain:e,range:n,match:o})=>{const r=Ct(t);if(!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||r.blockNoteType==="numberedListItem")return;const i=parseInt(o[1]);e().command(Dn(this.options.editor,r.bnBlock.beforePos,{type:"numberedListItem",props:i===1&&{}||{start:i}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>OS(this.options.editor),"Mod-Shift-7":()=>{const t=Ct(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Dn(this.options.editor,t.bnBlock.beforePos,{type:"numberedListItem",props:{}}))}}},addProseMirrorPlugins(){return[cee()]},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="OL"||e.tagName==="DIV"&&e.parentElement.tagName==="OL"){const n=parseInt(e.getAttribute("start")||"1")||1;return t.previousSibling||n===1?{}:{start:n}}return!1},node:"numberedListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="numberedListItem"?{}:!1},priority:300,node:"numberedListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return Bi(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),dee=li(uee,Tj),fee={...bn},hee=Uo({name:"paragraph",content:"inline*",group:"blockContent",addKeyboardShortcuts(){return{"Mod-Alt-0":()=>{const t=Ct(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Dn(this.options.editor,t.bnBlock.beforePos,{type:"paragraph",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"p",priority:200,getAttrs:t=>{var e;return typeof t=="string"||!((e=t.textContent)!=null&&e.trim())?!1:{}},node:"paragraph"}]},renderHTML({HTMLAttributes:t}){var e,n;return Bi(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),pee=li(hee,fee),mee={...bn},gee=Uo({name:"quote",content:"inline*",group:"blockContent",addInputRules(){return[new Wl({find:new RegExp("^>\\s$"),handler:({state:t,chain:e,range:n})=>{const o=Ct(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(Dn(this.options.editor,o.bnBlock.beforePos,{type:"quote",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{"Mod-Alt-q":()=>{const t=Ct(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Dn(this.options.editor,t.bnBlock.beforePos,{type:"quote"}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"blockquote",node:"quote"}]},renderHTML({HTMLAttributes:t}){var e,n;return Bi(this.name,"blockquote",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),bee=li(gee,mee),yee=35,NS=120,vee=31,wee=Mt.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[gW({cellMinWidth:yee,defaultCellMinWidth:NS,View:null}),EW()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const t=this.editor.state.selection,e=t.empty,n=t.$head.parentOffset===0,o=t.$head.node().type.name==="tableParagraph";return e&&n&&o},Tab:()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>ZO(1)(t,e,n)),"Shift-Tab":()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>ZO(-1)(t,e,n))}},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:ft(Me(t,"tableRole",e))}}}),kee={textColor:bn.textColor},xee=Uo({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){var e,n;return Bi(this.name,"table",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})},addNodeView(){return({node:t,HTMLAttributes:e})=>{var n;class o extends BI{constructor(i,s,l){super(i,s),this.node=i,this.cellMinWidth=s,this.blockContentHTMLAttributes=l;const c=document.createElement("div");c.className=dn("bn-block-content",l.class),c.setAttribute("data-content-type","table");for(const[m,b]of Object.entries(l))m!=="class"&&c.setAttribute(m,b);const d=this.dom,f=document.createElement("div");f.className="tableWrapper-inner",f.appendChild(d.firstChild),d.appendChild(f),c.appendChild(d);const p=document.createElement("div");p.className="table-widgets-container",p.style.position="relative",d.appendChild(p),this.dom=c}ignoreMutation(i){return!i.target.closest(".tableWrapper-inner")||super.ignoreMutation(i)}}return new o(t,NS,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e})}}}),Cee=Uo({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{preserveWhitespace:"full",priority:210,context:"tableContent",tag:"p",getAttrs:t=>({})},{tag:"p",getAttrs:t=>{if(typeof t=="string"||!t.textContent)return!1;const e=t.parentElement;return e===null?!1:e.tagName==="TD"?{}:!1}}]},renderHTML({HTMLAttributes:t}){return["p",t,0]}}),_ee=li(xee,kee,[wee,Cee,GW.extend({content:"tableContent+"}),FW.extend({content:"tableContent+"}),qW]),e4=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},See='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',Eee={textAlignment:bn.textAlignment,backgroundColor:bn.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},Mj={type:"video",propSchema:Eee,content:"none",isFileBlock:!0,fileBlockAccept:["video/*"]},Tee=(t,e)=>{const n=document.createElement("div");n.innerHTML=See;const o=document.createElement("div");o.className="bn-visual-media-wrapper";const r=document.createElement("video");return r.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{r.src=i}):r.src=t.props.url,r.controls=!0,r.contentEditable="false",r.draggable=!1,r.width=t.props.previewWidth,o.appendChild(r),kj(t,e,{dom:o},o,e.dictionary.file_blocks.video.add_button_text,n.firstElementChild)},Aj=t=>{if(t.tagName==="VIDEO")return e4(t);if(t.tagName==="FIGURE"){const e=_0(t,"video");if(!e)return;const{targetElement:n,caption:o}=e;return{...e4(n),caption:o}}},Mee=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add video",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("video"),e.src=t.props.url,e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?RS(e,t.props.caption):S0(e,t.props.caption):{dom:e}},Aee=Cp(Mj,{render:Tee,parse:Aj,toExternalHTML:Mee}),DS={paragraph:pee,heading:nee,quote:bee,codeBlock:IQ,bulletListItem:iee,numberedListItem:dee,checkListItem:lee,table:_ee,file:HQ,image:GQ,video:Aee,audio:DQ},Ree=nj(DS),LS={bold:Ha(OW,"boolean"),italic:Ha($W,"boolean"),underline:Ha(UW,"boolean"),strike:Ha(VW,"boolean"),code:Ha(LW,"boolean"),textColor:eee,backgroundColor:JQ};lj(LS);const Rj={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},Oee=sj(Rj);function Oo(t,e){return t in e.schema.blockSchema&&e.schema.blockSchema[t]===Ree[t]}function Nee(t,e){return t in e.schema.inlineContentSchema&&e.schema.inlineContentSchema[t]===Oee[t]}function Dee(t,e,n){return e.type===t&&e.type in n.schema.blockSchema&&Oo(e.type,n)}function _p(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock||!1}function Lee(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock&&"showPreview"in e.schema.blockSchema[t.type].propSchema||!1}function Sp(t,e){return e.schema.blockSchema[t.type].isFileBlock&&!t.props.url}function Bu(t,e,n){return e in n.schema.blockSchema&&t in n.schema.blockSchema[e].propSchema&&n.schema.blockSchema[e].propSchema[t]===bn[t]}function xC(t,e,n){return Bu(t,e.type,n)}function CC(t){return t instanceof Nt}function Bee(t){let e=t.getTextCursorPosition().block,n=t.schema.blockSchema[e.type].content;for(;n==="none";){if(e=t.getTextCursorPosition().nextBlock,e===void 0)return;n=t.schema.blockSchema[e.type].content,t.setTextCursorPosition(e,"end")}}function Yn(t,e){const n=t.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let o;return Array.isArray(n.content)&&(n.content.length===1&&bc(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(o=t.updateBlock(n,e),t.setTextCursorPosition(o)):(o=t.insertBlocks([e],n,"after")[0],t.setTextCursorPosition(t.getTextCursorPosition().nextBlock)),Bee(t),o}function Iee(t){const e=[];return Oo("heading",t)&&e.push({onItemClick:()=>{Yn(t,{type:"heading",props:{level:1}})},badge:Er("Mod-Alt-1"),key:"heading",...t.dictionary.slash_menu.heading},{onItemClick:()=>{Yn(t,{type:"heading",props:{level:2}})},badge:Er("Mod-Alt-2"),key:"heading_2",...t.dictionary.slash_menu.heading_2},{onItemClick:()=>{Yn(t,{type:"heading",props:{level:3}})},badge:Er("Mod-Alt-3"),key:"heading_3",...t.dictionary.slash_menu.heading_3}),Oo("quote",t)&&e.push({onItemClick:()=>{Yn(t,{type:"quote"})},key:"quote",...t.dictionary.slash_menu.quote}),Oo("numberedListItem",t)&&e.push({onItemClick:()=>{Yn(t,{type:"numberedListItem"})},badge:Er("Mod-Shift-7"),key:"numbered_list",...t.dictionary.slash_menu.numbered_list}),Oo("bulletListItem",t)&&e.push({onItemClick:()=>{Yn(t,{type:"bulletListItem"})},badge:Er("Mod-Shift-8"),key:"bullet_list",...t.dictionary.slash_menu.bullet_list}),Oo("checkListItem",t)&&e.push({onItemClick:()=>{Yn(t,{type:"checkListItem"})},badge:Er("Mod-Shift-9"),key:"check_list",...t.dictionary.slash_menu.check_list}),Oo("paragraph",t)&&e.push({onItemClick:()=>{Yn(t,{type:"paragraph"})},badge:Er("Mod-Alt-0"),key:"paragraph",...t.dictionary.slash_menu.paragraph}),Oo("codeBlock",t)&&e.push({onItemClick:()=>{Yn(t,{type:"codeBlock"})},badge:Er("Mod-Alt-c"),key:"code_block",...t.dictionary.slash_menu.code_block}),Oo("table",t)&&e.push({onItemClick:()=>{Yn(t,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...t.dictionary.slash_menu.table}),Oo("image",t)&&e.push({onItemClick:()=>{const n=Yn(t,{type:"image"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"image",...t.dictionary.slash_menu.image}),Oo("video",t)&&e.push({onItemClick:()=>{const n=Yn(t,{type:"video"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"video",...t.dictionary.slash_menu.video}),Oo("audio",t)&&e.push({onItemClick:()=>{const n=Yn(t,{type:"audio"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"audio",...t.dictionary.slash_menu.audio}),Oo("file",t)&&e.push({onItemClick:()=>{const n=Yn(t,{type:"file"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"file",...t.dictionary.slash_menu.file}),e.push({onItemClick:()=>{t.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...t.dictionary.slash_menu.emoji}),e}function Oj(t,e){return t.filter(({title:n,aliases:o})=>n.toLowerCase().includes(e.toLowerCase())||o&&o.filter(r=>r.toLowerCase().includes(e.toLowerCase())).length!==0)}function wk(t){return t&&Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0))}let xd=class Nj{constructor(e){G(this,"blockSpecs"),G(this,"inlineContentSpecs"),G(this,"styleSpecs"),G(this,"blockSchema"),G(this,"inlineContentSchema"),G(this,"styleSchema"),G(this,"BlockNoteEditor","only for types"),G(this,"Block","only for types"),G(this,"PartialBlock","only for types"),this.blockSpecs=wk(e==null?void 0:e.blockSpecs)||DS,this.inlineContentSpecs=wk(e==null?void 0:e.inlineContentSpecs)||Rj,this.styleSpecs=wk(e==null?void 0:e.styleSpecs)||LS,this.blockSchema=nj(this.blockSpecs),this.inlineContentSchema=sj(this.inlineContentSpecs),this.styleSchema=lj(this.styleSpecs)}static create(e){return new Nj(e)}};xd.create({blockSpecs:{pageBreak:XQ}});function jee(t,e,n,o="before"){const r=typeof n=="string"?n:n.id,i=[];for(const c of e)i.push(Ec(c,t.pmSchema,t.schema.styleSchema));const s=Co(r,t._tiptapEditor.state.doc);if(!s)throw new Error(`Block with ID ${r} not found`);o==="before"&&t.dispatch(t._tiptapEditor.state.tr.insert(s.posBeforeNode,i)),o==="after"&&t.dispatch(t._tiptapEditor.state.tr.insert(s.posBeforeNode+s.node.nodeSize,i));const l=[];for(const c of i)l.push(Xt(c,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));return l}function Pee(t){const e=t._tiptapEditor.state,n=e.selection,o=js(e.doc,n.anchor);if(n instanceof Nt)return{type:"cell",anchorBlockId:o.node.attrs.id,anchorCellOffset:n.$anchorCell.pos-o.posBeforeNode,headCellOffset:n.$headCell.pos-o.posBeforeNode};if(t._tiptapEditor.state.selection instanceof Oe)return{type:"node",anchorBlockId:o.node.attrs.id};{const r=js(e.doc,n.head);return{type:"text",anchorBlockId:o.node.attrs.id,headBlockId:r.node.attrs.id,anchorOffset:n.anchor-o.posBeforeNode,headOffset:n.head-r.posBeforeNode}}}function $ee(t,e){var n,o;const r=(n=Co(e.anchorBlockId,t._tiptapEditor.state.doc))==null?void 0:n.posBeforeNode;if(r===void 0)throw new Error(`Could not find block with ID ${e.anchorBlockId} to update selection`);let i;if(e.type==="cell")i=Nt.create(t._tiptapEditor.state.doc,r+e.anchorCellOffset,r+e.headCellOffset);else if(e.type==="node")i=Oe.create(t._tiptapEditor.state.doc,r+1);else{const s=(o=Co(e.headBlockId,t._tiptapEditor.state.doc))==null?void 0:o.posBeforeNode;if(s===void 0)throw new Error(`Could not find block with ID ${e.headBlockId} to update selection`);i=Re.create(t._tiptapEditor.state.doc,r+e.anchorOffset,s+e.headOffset)}t.dispatch(t._tiptapEditor.state.tr.setSelection(i))}function _C(t){return t.map(e=>e.type==="columnList"?e.children.map(n=>_C(n.children)).flat():{...e,children:_C(e.children)}).flat()}function Dj(t,e,n){var o;const r=((o=t.getSelection())==null?void 0:o.blocks)||[t.getTextCursorPosition().block],i=Pee(t);t.removeBlocks(r),t.insertBlocks(_C(r),e,n),$ee(t,i)}function Lj(t){return!t||t.type!=="columnList"}function Bj(t,e,n){let o,r;if(e?e.children.length>0?(o=e.children[e.children.length-1],r="after"):(o=e,r="before"):n&&(o=n,r="before"),!o||!r)return;const i=t.getParentBlock(o);return Lj(i)?{referenceBlock:o,placement:r}:Bj(t,r==="after"?o:t.getPrevBlock(o),i)}function Ij(t,e,n){let o,r;if(e?e.children.length>0?(o=e.children[0],r="before"):(o=e,r="after"):n&&(o=n,r="after"),!o||!r)return;const i=t.getParentBlock(o);return Lj(i)?{referenceBlock:o,placement:r}:Ij(t,r==="before"?o:t.getNextBlock(o),i)}function Hee(t){const e=t.getSelection(),n=(e==null?void 0:e.blocks[0])||t.getTextCursorPosition().block,o=Bj(t,t.getPrevBlock(n),t.getParentBlock(n));o&&Dj(t,o.referenceBlock,o.placement)}function zee(t){const e=t.getSelection(),n=(e==null?void 0:e.blocks[(e==null?void 0:e.blocks.length)-1])||t.getTextCursorPosition().block,o=Ij(t,t.getNextBlock(n),t.getParentBlock(n));o&&Dj(t,o.referenceBlock,o.placement)}function Vee(t,e){return function({state:n,dispatch:o}){const{$from:r,$to:i}=n.selection,s=r.blockRange(i,d=>d.childCount>0&&(d.type.name==="blockGroup"||d.type.name==="column"));if(!s)return!1;const l=s.startIndex;if(l===0)return!1;const c=s.parent.child(l-1);if(c.type!==t)return!1;if(o){const d=c.lastChild&&c.lastChild.type===e,f=J.from(d?t.create():null),p=new ye(J.from(t.create(null,J.from(e.create(null,f)))),d?3:1,0),m=s.start,b=s.end;o(n.tr.step(new fn(m-(d?3:1),b,m,b,p,1,!0)).scrollIntoView())}return!0}}function jj(t){return t._tiptapEditor.commands.command(Vee(t._tiptapEditor.schema.nodes.blockContainer,t._tiptapEditor.schema.nodes.blockGroup))}function Uee(t){t._tiptapEditor.commands.liftListItem("blockContainer")}function Fee(t){const{bnBlock:e}=Ct(t._tiptapEditor.state);return t._tiptapEditor.state.doc.resolve(e.beforePos).nodeBefore!==null}function Gee(t){const{bnBlock:e}=Ct(t._tiptapEditor.state);return t._tiptapEditor.state.doc.resolve(e.beforePos).depth>1}function Pj(t,e,n){const o=t._tiptapEditor;let r=o.state.tr;const i=[];for(const p of n)i.push(Ec(p,t.pmSchema,t.schema.styleSchema));const s=new Set(e.map(p=>typeof p=="string"?p:p.id)),l=[],c=typeof e[0]=="string"?e[0]:e[0].id;let d=0;if(o.state.doc.descendants((p,m)=>{if(s.size===0)return!1;if(!p.type.isInGroup("bnBlock")||!s.has(p.attrs.id))return!0;if(l.push(Xt(p,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)),s.delete(p.attrs.id),n.length>0&&p.attrs.id===c){const x=r.doc.nodeSize;r=r.insert(m,i);const _=r.doc.nodeSize;d+=x-_}const b=r.doc.nodeSize,y=r.doc.resolve(m-d);y.node().type.name==="blockGroup"&&y.node(y.depth-1).type.name!=="doc"&&y.node().childCount===1?r=r.delete(y.before(),y.after()):r=r.delete(m-d,m-d+p.nodeSize);const w=r.doc.nodeSize;return d+=b-w,!1}),s.size>0){const p=[...s].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+p)}t.dispatch(r);const f=[];for(const p of i)f.push(Xt(p,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));return{insertedBlocks:f,removedBlocks:l}}function qee(t,e,n){return Pj(t,e,n)}function Kee(t,e){return Pj(t,e,[]).removedBlocks}function Wee(t,e){const n=typeof e=="string"?e:e.id,o=Co(n,t._tiptapEditor.state.doc);if(o)return Xt(o.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function Zee(t,e){const n=typeof e=="string"?e:e.id,o=Co(n,t._tiptapEditor.state.doc);if(!o)return;const r=t._tiptapEditor.state.doc.resolve(o.posBeforeNode).nodeBefore;if(r)return Xt(r,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function Xee(t,e){const n=typeof e=="string"?e:e.id,o=Co(n,t._tiptapEditor.state.doc);if(!o)return;const r=t._tiptapEditor.state.doc.resolve(o.posBeforeNode+o.node.nodeSize).nodeAfter;if(r)return Xt(r,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function Yee(t,e){const n=typeof e=="string"?e:e.id,o=Co(n,t._tiptapEditor.state.doc);if(!o)return;const r=t._tiptapEditor.state.doc.resolve(o.posBeforeNode),i=r.node(),s=r.node(-1),l=s.type.name!=="doc"?i.type.name==="blockGroup"?s:i:void 0;if(l)return Xt(l,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function Jee(t,e,n,o={updateSelection:!0}){const r=n._tiptapEditor.state.tr;let{from:i,to:s}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},l=!0,c=!0,d="";if(e.forEach(f=>{f.check(),l&&f.isText&&f.marks.length===0?d+=f.text:l=!1,c=c?f.isBlock:!1}),i===s&&c){const{parent:f}=r.doc.resolve(i);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(i-=1,s+=1)}return l?r.insertText(d,i,s):r.replaceWith(i,s,e),o.updateSelection&&dI(r,r.steps.length-1,-1),n.dispatch(r),!0}function Qee(t){const e=t._tiptapEditor.state;if(e.selection.empty||"node"in e.selection)return;const n=e.doc.resolve(js(e.doc,e.selection.from).posBeforeNode),o=e.doc.resolve(js(e.doc,e.selection.to).posBeforeNode),r=(d,f)=>{const p=n.posAtIndex(d,f),m=e.doc.resolve(p).nodeAfter;if(!m)throw new Error(`Error getting selection - node not found at position ${p}`);return Xt(m,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)},i=[],s=n.sharedDepth(o.pos),l=n.index(s),c=o.index(s);if(n.depth>s){i.push(Xt(n.nodeAfter,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));for(let d=n.depth;d>s;d--)if(n.node(d).type.isInGroup("childContainer")){const f=n.index(d)+1,p=n.node(d).childCount;for(let m=f;m<p;m++)i.push(r(m,d))}}else i.push(r(l,s));for(let d=l+1;d<=c;d++)i.push(r(d,s));if(i.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${e.selection})`);return{blocks:i}}function ete(t,e,n){const o=typeof e=="string"?e:e.id,r=typeof n=="string"?n:n.id;if(o===r)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${o})`);const i=t._tiptapEditor.state.doc,s=Co(o,i);if(!s)throw new Error(`Block with ID ${o} not found`);const l=Co(r,i);if(!l)throw new Error(`Block with ID ${r} not found`);const c=Jl(s),d=Jl(l),f=t.schema.blockSchema[c.blockNoteType],p=t.schema.blockSchema[d.blockNoteType];if(!c.isBlockContainer||f.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${o})`);if(!d.isBlockContainer||p.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);let m,b;if(f.content==="table"){const y=Zt.get(c.blockContent.node);m=c.blockContent.beforePos+y.positionAt(0,0,c.blockContent.node)+1+2}else m=c.blockContent.beforePos+1;if(p.content==="table"){const y=Zt.get(d.blockContent.node),w=d.blockContent.beforePos+y.positionAt(y.height-1,y.width-1,d.blockContent.node)+1,x=i.resolve(w).nodeAfter.nodeSize;b=w+x-2}else b=d.blockContent.afterPos-1;t._tiptapEditor.dispatch(t._tiptapEditor.state.tr.setSelection(Re.create(t._tiptapEditor.state.doc,m,b)))}function tte(t){const{bnBlock:e}=Ct(t._tiptapEditor.state),n=t._tiptapEditor.state.doc.resolve(e.beforePos),o=n.nodeBefore,r=t._tiptapEditor.state.doc.resolve(e.afterPos).nodeAfter;let i;return n.depth>1&&(i=n.node(),i.type.isInGroup("bnBlock")||(i=n.node(n.depth-1))),{block:Xt(e.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),prevBlock:o===null?void 0:Xt(o,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),nextBlock:r===null?void 0:Xt(r,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),parentBlock:i===void 0?void 0:Xt(i,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}}function $j(t,e,n="start"){const o=typeof e=="string"?e:e.id,r=Co(o,t._tiptapEditor.state.doc);if(!r)throw new Error(`Block with ID ${o} not found`);const i=Jl(r),s=t.schema.blockSchema[i.blockNoteType].content;if(i.isBlockContainer){const l=i.blockContent;if(s==="none"){t._tiptapEditor.commands.setNodeSelection(l.beforePos);return}if(s==="inline")n==="start"?t._tiptapEditor.commands.setTextSelection(l.beforePos+1):t._tiptapEditor.commands.setTextSelection(l.afterPos-1);else if(s==="table")n==="start"?t._tiptapEditor.commands.setTextSelection(l.beforePos+4):t._tiptapEditor.commands.setTextSelection(l.afterPos-4);else throw new Li(s)}else{const l=n==="start"?i.childContainer.node.firstChild:i.childContainer.node.lastChild;$j(t,l.attrs.id,n)}}let Iu;async function BS(){if(Iu)return Iu;const t=await Promise.all([we(()=>import("./index-CXi2U7cX.js"),__vite__mapDeps([0,1,2,3,4])),we(()=>import("./index-BjJi1ekp.js"),[]),we(()=>import("./index-C7HKSPqU.js"),__vite__mapDeps([5,1,2])),we(()=>import("./index-8UYiSU-K.js"),__vite__mapDeps([6,4])),we(()=>import("./index-Dk7q6Jnb.js"),__vite__mapDeps([7,8,9,10,11,12,13])),we(()=>import("./index-CSo6AjcB.js"),__vite__mapDeps([14,15,16,17,3,10,18,12,13,11])),we(()=>import("./index-B_nwhUZ5.js"),__vite__mapDeps([19,18,17,16,12,10,13,11,20])),we(()=>import("./index-BxE2facF.js"),__vite__mapDeps([21,20,15,16,17,2,13])),we(()=>import("./index-Dw8e9nLW.js"),__vite__mapDeps([22,8,16,12,10])),we(()=>import("./index-DeIb_MMP.js"),__vite__mapDeps([23,9,10]))]);return Iu={rehypeParse:t[0],rehypeStringify:t[1],unified:t[2],hastUtilFromDom:t[3],rehypeRemark:t[4],remarkGfm:t[5],remarkStringify:t[6],remarkParse:t[7],remarkRehype:t[8],rehypeFormat:t[9]},Iu}function nte(){const t=e=>{let n=e.children.length;for(let o=0;o<n;o++){const r=e.children[o];if(r.type==="element"&&(t(r),r.tagName==="u"))if(r.children.length>0){e.children.splice(o,1,...r.children);const i=r.children.length-1;n+=i,o+=i}else e.children.splice(o,1),n--,o--}};return t}function ote(){const t=Iu;if(!t)throw new Error("addSpacesToCheckboxes requires ESM dependencies to be initialized");const e=n=>{var o;if(n.children&&"length"in n.children&&n.children.length)for(let r=n.children.length-1;r>=0;r--){const i=n.children[r],s=r+1<n.children.length?n.children[r+1]:void 0;i.type==="element"&&i.tagName==="input"&&((o=i.properties)==null?void 0:o.type)==="checkbox"&&(s==null?void 0:s.type)==="element"&&s.tagName==="p"?(s.tagName="span",s.children.splice(0,0,t.hastUtilFromDom.fromDom(document.createTextNode(" ")))):e(i)}};return e}function IS(t){const e=Iu;if(!e)throw new Error("cleanHTMLToMarkdown requires ESM dependencies to be initialized");return e.unified.unified().use(e.rehypeParse.default,{fragment:!0}).use(nte).use(ote).use(e.rehypeRemark.default).use(e.remarkGfm.default).use(e.remarkStringify.default,{handlers:{text:n=>n.value}}).processSync(t).value}async function rte(t,e,n,o){await BS();const r=C0(e,n).exportBlocks(t,o);return IS(r)}function ite(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function ste(t){return t.nodeType===3&&!/\S/.test(t.nodeValue||"")}function lte(t){t.querySelectorAll("li > ul, li > ol").forEach(e=>{const n=ite(e),o=e.parentElement,r=Array.from(o.childNodes).slice(n+1);e.remove(),r.forEach(i=>{i.remove()}),o.insertAdjacentElement("afterend",e),r.reverse().forEach(i=>{if(ste(i))return;const s=document.createElement("li");s.append(i),e.insertAdjacentElement("afterend",s)}),o.childNodes.length===0&&o.remove()})}function ate(t){t.querySelectorAll("li + ul, li + ol").forEach(e=>{var n,o;const r=e.previousElementSibling,i=document.createElement("div");r.insertAdjacentElement("afterend",i),i.append(r);const s=document.createElement("div");for(s.setAttribute("data-node-type","blockGroup"),i.append(s);((n=i.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((o=i.nextElementSibling)==null?void 0:o.nodeName)==="OL";)s.append(i.nextElementSibling)})}let t4=null;function cte(){return t4||(t4=document.implementation.createHTMLDocument("title"))}function Hj(t){if(typeof t=="string"){const e=cte().createElement("div");e.innerHTML=t,t=e}return lte(t),ate(t),t}async function zj(t,e,n,o,r){const i=Hj(t),s=nc.fromSchema(r).parse(i,{topNode:r.nodes.blockGroup.create()}),l=[];for(let c=0;c<s.childCount;c++)l.push(Xt(s.child(c),e,n,o));return l}function ute(t,e){const n=e.value?e.value:"",o={};e.lang&&(o["data-language"]=e.lang);let r={type:"element",tagName:"code",properties:o,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}async function Vj(t){const e=await BS();return e.unified.unified().use(e.remarkParse.default).use(e.remarkGfm.default).use(e.remarkRehype.default,{handlers:{...e.remarkRehype.defaultHandlers,code:ute}}).use(e.rehypeStringify.default).processSync(t).value}async function dte(t,e,n,o,r){const i=await Vj(t);return zj(i,e,n,o,r)}const jS=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function fte(t,e){if(!t.startsWith(".")||!e.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return t===e}function hte(t,e){const n=t.split("/"),o=e.split("/");if(n.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);if(o.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);return n[1]==="*"||o[1]==="*"?n[0]===o[0]:(n[0]==="*"||o[0]==="*"||n[0]===o[0])&&n[1]===o[1]}function n4(t,e,n){let o;return Array.isArray(e.content)&&e.content.length===0?o=t.updateBlock(e,n).id:o=t.insertBlocks([n],e,"after")[0].id,o}async function Uj(t,e){var n;if(!e.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const o="dataTransfer"in t?t.dataTransfer:t.clipboardData;if(o===null)return;let r=null;for(const l of jS)if(o.types.includes(l)){r=l;break}if(r!=="Files")return;const i=o.items;if(!i)return;t.preventDefault();const s=Object.values(e.schema.blockSchema).filter(l=>l.isFileBlock);for(let l=0;l<i.length;l++){let c="file";for(const f of s)for(const p of f.fileBlockAccept||[]){const m=p.startsWith("."),b=i[l].getAsFile();if(b&&(!m&&b.type&&hte(i[l].type,p)||m&&fte("."+b.name.split(".").pop(),p))){c=f.type;break}}const d=i[l].getAsFile();if(d){const f={type:c,props:{name:d.name}};let p;if(t.type==="paste"){const y=e.getTextCursorPosition().block;p=n4(e,y,f)}else if(t.type==="drop"){const y={left:t.clientX,top:t.clientY},w=(n=e.prosemirrorView)==null?void 0:n.posAtCoords(y);if(!w)return;const x=js(e._tiptapEditor.state.doc,w.pos);p=n4(e,e.getBlock(x.node.attrs.id),f)}else return;const m=await e.uploadFile(d,p),b=typeof m=="string"?{props:{url:m}}:{...m};e.updateBlock(p,b)}}}const pte=t=>Mt.create({name:"dropFile",addProseMirrorPlugins(){return[new Qe({props:{handleDOMEvents:{drop(e,n){if(!t.isEditable)return;let o=null;for(const r of jS)if(n.dataTransfer.types.includes(r)){o=r;break}return o===null?!0:o==="Files"?(Uj(n,t),!0):!1}}}})]}});async function mte(t,e){const{schema:n}=e.state;if(!t.clipboardData)return!1;const o=t.clipboardData.getData("text/plain");if(!o)return!1;if(!n.nodes.codeBlock)return e.pasteText(o),!0;const r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;return s?(e.pasteHTML(`<pre><code class="language-${s}">${o.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}const gte=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,bte=new RegExp("(?:\\s|^)(_|__|\\*|\\*\\*|~~|==|\\+\\+)(?!\\s).{1,64}(?<!\\s)(?=\\1)"),yte=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,vte=new RegExp("(?:\\s|^)`(?!\\s)[^`]{1,48}(?<!\\s)`([^\\w]|$)"),wte=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,kte=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,xte=/\n{2} {0,3}-{2,48}\n{2}/,Cte=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,_te=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,Ste=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,Ete=/^\s*\|(.+\|)+\s*$/m,Tte=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,Mte=/^\s*\|(.+\|)+\s*$/m,Ate=t=>gte.test(t)||bte.test(t)||yte.test(t)||vte.test(t)||wte.test(t)||kte.test(t)||xte.test(t)||Cte.test(t)||_te.test(t)||Ste.test(t)||Ete.test(t)||Tte.test(t)||Mte.test(t);function Rte({event:t,editor:e,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:o}){let r;for(const s of jS)if(t.clipboardData.types.includes(s)){r=s;break}if(!r)return!0;if(r==="vscode-editor-data")return mte(t,e.prosemirrorView),!0;if(r==="Files")return Uj(t,e),!0;const i=t.clipboardData.getData(r);if(r==="blocknote/html")return e.pasteHTML(i,!0),!0;if(r==="text/markdown")return e.pasteMarkdown(i),!0;if(n){const s=t.clipboardData.getData("text/plain");if(Ate(s))return e.pasteMarkdown(s),!0}return r==="text/html"?(e.pasteHTML(i),!0):o?(e.pasteMarkdown(i),!0):(e.pasteText(i),!0)}const Ote=(t,e)=>Mt.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new Qe({props:{handleDOMEvents:{paste(n,o){if(o.preventDefault(),!!t.isEditable)return e({event:o,editor:t,defaultPasteHandler:({prioritizeMarkdownOverHTML:r=!0,plainTextAsMarkdown:i=!0}={})=>Rte({event:o,editor:t,prioritizeMarkdownOverHTML:r,plainTextAsMarkdown:i})})}}}})]}});function Fj(t,e){const n=[];return t.descendants(o=>{var r,i;return o.type.name==="blockContainer"&&((r=o.firstChild)==null?void 0:r.type.name)==="blockGroup"?!0:o.type.name==="columnList"&&o.childCount===1?((i=o.firstChild)==null||i.forEach(s=>{n.push(Xt(s,e.blockSchema,e.inlineContentSchema,e.styleSchema))}),!1):o.type.isInGroup("bnBlock")?(n.push(Xt(o,e.blockSchema,e.inlineContentSchema,e.styleSchema)),!1):!0}),n}function Nte(t,e,n){var o;let r=!1;const i=t.state.selection instanceof Nt;if(!i){const c=t.state.doc.slice(t.state.selection.from,t.state.selection.to,!1).content,d=[];for(let f=0;f<c.childCount;f++)d.push(c.child(f));r=d.find(f=>f.type.isInGroup("bnBlock")||f.type.name==="blockGroup"||f.type.spec.group==="blockContent")===void 0,r&&(e=c)}let s;const l=C0(t.state.schema,n);if(i){((o=e.firstChild)==null?void 0:o.type.name)==="table"&&(e=e.firstChild.content);const c=ij(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=`<table>${l.exportInlineContent(c,{})}</table>`}else if(r){const c=k0(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=l.exportInlineContent(c,{})}else{const c=Fj(e,n.schema);s=l.exportBlocks(c,{})}return s}function Gj(t,e){"node"in t.state.selection&&t.state.selection.node.type.spec.group==="blockContent"&&e.dispatch(e._tiptapEditor.state.tr.setSelection(new Oe(t.state.doc.resolve(t.state.selection.from-1))));const n=t.serializeForClipboard(t.state.selection.content()).dom.innerHTML,o=t.state.selection.content().content,r=Nte(t,o,e),i=IS(r);return{clipboardHTML:n,externalHTML:r,markdown:i}}const o4=()=>{const t=window.getSelection();if(!t||t.isCollapsed)return!0;let e=t.focusNode;for(;e;){if(e instanceof HTMLElement&&e.getAttribute("contenteditable")==="false")return!0;e=e.parentElement}return!1},r4=(t,e,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:o,externalHTML:r,markdown:i}=Gj(e,t);n.clipboardData.setData("blocknote/html",o),n.clipboardData.setData("text/html",r),n.clipboardData.setData("text/plain",i)},Dte=t=>Mt.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new Qe({props:{handleDOMEvents:{copy(e,n){return o4()||r4(t,e,n),!0},cut(e,n){return o4()||(r4(t,e,n),e.editable&&e.dispatch(e.state.tr.deleteSelection())),!0},dragstart(e,n){if(!("node"in e.state.selection)||e.state.selection.node.type.spec.group!=="blockContent")return;t.dispatch(t._tiptapEditor.state.tr.setSelection(new Oe(e.state.doc.resolve(e.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:o,externalHTML:r,markdown:i}=Gj(e,t);return n.dataTransfer.setData("blocknote/html",o),n.dataTransfer.setData("text/html",r),n.dataTransfer.setData("text/plain",i),!0}}}})]}}),Lte=Mt.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{backgroundColor:{default:bn.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):bn.backgroundColor.default,renderHTML:t=>t.backgroundColor===bn.backgroundColor.default?{}:{"data-background-color":t.backgroundColor}}}}]}}),Bte=t=>{var e;const n=[];n.push(nQ.configure({fragment:t.fragment}));const o=(e=t.provider)==null?void 0:e.awareness;if(o){const r=new Map;t.showCursorLabels!=="always"&&o.on("change",({updated:l})=>{for(const c of l){const d=r.get(c);d&&(d.element.setAttribute("data-active",""),d.hideTimeout&&clearTimeout(d.hideTimeout),r.set(c,{element:d.element,hideTimeout:setTimeout(()=>{d.element.removeAttribute("data-active")},2e3)}))}});const i=l=>{const c=document.createElement("span");c.classList.add("bn-collaboration-cursor__base");const d=document.createElement("span");d.setAttribute("contentedEditable","false"),d.classList.add("bn-collaboration-cursor__caret"),d.setAttribute("style",`background-color: ${l.color}`);const f=document.createElement("span");return f.classList.add("bn-collaboration-cursor__label"),f.setAttribute("style",`background-color: ${l.color}`),f.insertBefore(document.createTextNode(l.name),null),d.insertBefore(f,null),c.insertBefore(document.createTextNode(""),null),c.insertBefore(d,null),c.insertBefore(document.createTextNode(""),null),c},s=(l,c)=>{var d;let f=r.get(c);if(!f){const p=((d=t==null?void 0:t.renderCursor)==null?void 0:d.call(t,l))||i(l);(t==null?void 0:t.showCursorLabels)!=="always"&&(p.addEventListener("mouseenter",()=>{const m=r.get(c);m.element.setAttribute("data-active",""),m.hideTimeout&&(clearTimeout(m.hideTimeout),r.set(c,{element:m.element,hideTimeout:void 0}))}),p.addEventListener("mouseleave",()=>{const m=r.get(c);r.set(c,{element:m.element,hideTimeout:setTimeout(()=>{m.element.removeAttribute("data-active")},2e3)})})),f={element:p,hideTimeout:void 0},r.set(c,f)}return f.element};n.push(oQ.configure({user:t.user,render:s,provider:t.provider}))}return n},qj=zo.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:t=>!!t.getAttribute("data-orphan"),renderHTML:t=>t.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:t=>t.getAttribute("data-bn-thread-id"),renderHTML:t=>({"data-bn-thread-id":t.threadId}),default:""}}},renderHTML({HTMLAttributes:t}){return["span",lr(t,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(t){return t.name==="comment"?{blocknoteIgnore:!0}:{}}});let Gs=class{constructor(){G(this,"callbacks",{})}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),()=>this.off(e,n)}emit(e,...n){const o=this.callbacks[e];o&&o.forEach(r=>r.apply(this,n))}off(e,n){const o=this.callbacks[e];o&&(n?this.callbacks[e]=o.filter(r=>r!==n):delete this.callbacks[e])}removeAllListeners(){this.callbacks={}}};class Ite extends Gs{constructor(e){super(),G(this,"userCache",new Map),G(this,"loadingUsers",new Set),this.resolveUsers=e}async loadUsers(e){const n=e.filter(o=>!this.userCache.has(o)&&!this.loadingUsers.has(o));if(n.length!==0){for(const o of n)this.loadingUsers.add(o);try{const o=await this.resolveUsers(n);for(const r of o)this.userCache.set(r.id,r);this.emit("update",this.userCache)}finally{for(const o of n)this.loadingUsers.delete(o)}}}getUser(e){return this.userCache.get(e)}subscribe(e){return this.on("update",e)}}const vg=new ht("blocknote-comments"),jte="SET_SELECTED_THREAD_ID";function Pte(t,e){const n=new Map;return t.descendants((o,r)=>{o.marks.forEach(i=>{if(i.type.name===e){const s=i.attrs.threadId;if(!s)return;const l=r,c=l+o.nodeSize,d=n.get(s)??{from:1/0,to:0};n.set(s,{from:Math.min(l,d.from),to:Math.max(c,d.to)})}})}),n}class $te extends Gs{constructor(e,n,o){if(super(),G(this,"plugin"),G(this,"userStore"),G(this,"pendingComment",!1),G(this,"selectedThreadId"),G(this,"threadPositions",new Map),G(this,"updateMarksFromThreads",i=>{const s=this.editor._tiptapEditor;s.state.doc.descendants((l,c)=>{l.marks.forEach(d=>{if(d.type.name===this.markType){const f=d.type,p=d.attrs.threadId,m=i.get(p),b=!!(!m||m.resolved||m.deletedAt);if(b!==d.attrs.orphan){const{tr:y}=s.state,w=Math.max(c,0),x=Math.min(c+l.nodeSize,s.state.doc.content.size-1);y.removeMark(w,x,d),y.addMark(w,x,f.create({...d.attrs,orphan:b})),s.dispatch(y),b&&this.selectedThreadId===p&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})}),this.editor=e,this.threadStore=n,this.markType=o,!e.resolveUsers)throw new Error("resolveUsers is required for comments");this.userStore=new Ite(e.resolveUsers),this.threadStore.subscribe(this.updateMarksFromThreads),e.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),e.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const r=this;this.plugin=new Qe({key:vg,state:{init(){return{decorations:ct.empty}},apply(i,s){const l=i.getMeta(vg);if(!i.docChanged&&!l)return s;const c=i.docChanged?Pte(i.doc,r.markType):r.threadPositions;(c.size>0||r.threadPositions.size>0)&&(r.threadPositions=c,r.emitStateUpdate());const d=[];if(r.selectedThreadId){const f=c.get(r.selectedThreadId);f&&d.push(_t.inline(f.from,f.to,{class:"bn-thread-mark-selected"}))}return{decorations:ct.create(i.doc,d)}}},props:{decorations(i){var s;return((s=vg.getState(i))==null?void 0:s.decorations)??ct.empty},handleClick:(i,s,l)=>{if(l.button!==0)return;const c=i.state.doc.nodeAt(s);if(!c){r.selectThread(void 0);return}const d=c.marks.find(p=>p.type.name===o&&p.attrs.orphan!==!0),f=d==null?void 0:d.attrs.threadId;r.selectThread(f,!1)}}})}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(e){return this.on("update",e)}selectThread(e,n=!0){var o,r;if(this.selectedThreadId!==e&&(this.selectedThreadId=e,this.emitStateUpdate(),this.editor.dispatch(this.editor.prosemirrorView.state.tr.setMeta(vg,{name:jte})),e&&n)){const i=this.threadPositions.get(e);if(!i)return;(r=(o=this.editor.prosemirrorView)==null?void 0:o.domAtPos(i.from).node)==null||r.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(e){const n=await this.threadStore.createThread(e);if(this.threadStore.addThreadToDocument){const o=this.editor.prosemirrorView,r=o.state.selection,i=It.getState(o.state),s={prosemirror:{head:r.head,anchor:r.anchor},yjs:i?cy(i.binding,o.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:s})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}}class Hte{constructor(e,n,o,r){G(this,"state"),G(this,"emitUpdate"),G(this,"mouseDownHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),G(this,"dragstartHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),G(this,"scrollHandler",()=>{var i;if((i=this.state)!=null&&i.show){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!s)return;this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate()}}),G(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pluginKey=n,this.pmView=o,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");r(this.state)},o.dom.addEventListener("mousedown",this.mouseDownHandler),o.dom.addEventListener("dragstart",this.dragstartHandler),o.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var o,r;const i=this.pluginKey.getState(e.state);if(!((o=this.state)!=null&&o.show)&&i.block&&this.editor.isEditable){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${i.block.id}"]`);if(!s)return;this.state={show:!0,referencePos:s.getBoundingClientRect(),block:i.block},this.emitUpdate();return}(!e.state.selection.eq(n.selection)||!e.state.doc.eq(n.doc)||!this.editor.isEditable)&&(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const kk=new ht("FilePanelPlugin");class zte extends Gs{constructor(e){super(),G(this,"view"),G(this,"plugin"),G(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.plugin=new Qe({key:kk,view:n=>(this.view=new Hte(e,kk,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>{var r;return o.key==="Escape"&&this.shown?((r=this.view)==null||r.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:n=>{var o;return{block:(o=n.getMeta(kk))==null?void 0:o.block}}}})}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}class Vte{constructor(e,n,o){G(this,"state"),G(this,"emitUpdate"),G(this,"preventHide",!1),G(this,"preventShow",!1),G(this,"shouldShow",({state:r,from:i,to:s})=>{const{doc:l,selection:c}=r,{empty:d}=c,f=!l.textBetween(i,s).length&&l0(r.selection);return c.$from.parent.type.spec.code||Hx(c)&&c.node.type.spec.code?!1:!(d||f)}),G(this,"blurHandler",r=>{var i;if(this.preventHide){this.preventHide=!1;return}const s=this.pmView.dom.parentElement;r&&r.relatedTarget&&(s===r.relatedTarget||s.contains(r.relatedTarget)||r.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),G(this,"viewMousedownHandler",()=>{this.preventShow=!0}),G(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),G(this,"dragHandler",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),G(this,"scrollHandler",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),G(this,"closeMenu",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");o(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var o;const{state:r,composing:i}=e,{selection:s}=r,l=n&&n.selection.from===r.selection.from&&n.selection.to===r.selection.to;if(i||l)return;const{ranges:c}=s,d=Math.min(...c.map(b=>b.$from.pos)),f=Math.max(...c.map(b=>b.$to.pos)),p=this.shouldShow({view:e,state:r,from:d,to:f}),m=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(p||this.preventHide)&&!m){this.state={show:!0,referencePos:this.getSelectionBoundingBox()},this.emitUpdate();return}if((o=this.state)!=null&&o.show&&!this.preventHide&&(!p||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:e}=this.pmView,{selection:n}=e,{ranges:o}=n,r=Math.min(...o.map(s=>s.$from.pos)),i=Math.max(...o.map(s=>s.$to.pos));if(Hx(n)){const s=this.pmView.nodeDOM(r);if(s)return s.getBoundingClientRect()}return Eb(this.pmView,r,i)}}const Ute=new ht("FormattingToolbarPlugin");class Fte extends Gs{constructor(e){super(),G(this,"view"),G(this,"plugin"),G(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Qe({key:Ute,view:n=>(this.view=new Vte(e,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>o.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}const Gte=Pi.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",lr(this.options.HTMLAttributes,t)]},renderText(){return`
`}}),i4=(t,e)=>{const n=t.resolve(e);if(n.depth<=1)return;const o=n.posAtIndex(n.index(n.depth-1),n.depth-1);return wp(t.resolve(o))},Zg=(t,e)=>{const n=t.resolve(e),o=n.index();if(o===0)return;const r=n.posAtIndex(o-1);return wp(t.resolve(r))},Kj=(t,e)=>{for(;e.childContainer;){const n=e.childContainer.node,o=t.resolve(e.childContainer.beforePos+1).posAtIndex(n.childCount-1);e=wp(t.resolve(o))}return e},qte=(t,e)=>t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*"&&t.blockContent.node.childCount>0&&e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*",Kte=(t,e,n,o)=>{if(!o.isBlockContainer)throw new Error(`Attempted to merge block at position ${o.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(o.childContainer){const r=t.doc.resolve(o.childContainer.beforePos+1),i=t.doc.resolve(o.childContainer.afterPos-1),s=r.blockRange(i);if(e){const l=t.doc.resolve(o.bnBlock.beforePos);t.tr.lift(s,l.depth)}}if(e){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${o.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);e(t.tr.delete(n.blockContent.afterPos-1,o.blockContent.beforePos+1))}return!0},s4=t=>({state:e,dispatch:n})=>{const o=e.doc.resolve(t),r=wp(o),i=Zg(e.doc,r.bnBlock.beforePos);if(!i)return!1;const s=Kj(e.doc,i);return qte(s,r)?Kte(e,n,s,r):!1},Wte=Mt.create({priority:50,addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({chain:o,commands:r})=>[()=>r.deleteSelection(),()=>r.undoInputRule(),()=>r.command(({state:i})=>{const s=Ct(i);if(!s.isBlockContainer)return!1;const l=i.selection.from===s.blockContent.beforePos+1,c=s.blockContent.node.type.name==="paragraph";return l&&!c?r.command(Dn(this.options.editor,s.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>r.command(({state:i})=>{const s=Ct(i);if(!s.isBlockContainer)return!1;const{blockContent:l}=s;return i.selection.from===l.beforePos+1?r.liftListItem("blockContainer"):!1}),()=>r.command(({state:i})=>{const s=Ct(i);if(!s.isBlockContainer)return!1;const{bnBlock:l,blockContent:c}=s,d=i.selection.from===c.beforePos+1,f=i.selection.empty,p=l.beforePos;return d&&f?o().command(s4(p)).scrollIntoView().run():!1}),()=>r.command(({state:i,dispatch:s})=>{const l=Ct(i);if(!l.isBlockContainer||i.selection.from!==l.blockContent.beforePos+1||Zg(i.doc,l.bnBlock.beforePos))return!1;const c=i4(i.doc,l.bnBlock.beforePos);if((c==null?void 0:c.blockNoteType)!=="column")return!1;const d=c,f=i4(i.doc,d.bnBlock.beforePos);if((f==null?void 0:f.blockNoteType)!=="columnList")throw new Error("parent of column is not a column list");const p=d.childContainer.node.childCount===1,m=p&&f.childContainer.node.childCount===2,b=f.childContainer.node.firstChild===d.bnBlock.node;if(s){const y=i.doc.slice(l.bnBlock.beforePos,l.bnBlock.afterPos,!1);if(m)if(b){i.tr.step(new fn(f.bnBlock.beforePos,f.bnBlock.afterPos,d.bnBlock.afterPos+1,f.bnBlock.afterPos-2,y,y.size,!1));const w=i.tr.doc.resolve(d.bnBlock.beforePos);i.tr.setSelection(Re.between(w,w))}else{i.tr.step(new fn(f.bnBlock.beforePos,f.bnBlock.afterPos,f.bnBlock.beforePos+2,d.bnBlock.beforePos-1,y,0,!1));const w=i.tr.doc.resolve(i.tr.mapping.map(d.bnBlock.beforePos-1));i.tr.setSelection(Re.between(w,w))}else if(p)if(b){i.tr.delete(d.bnBlock.beforePos,d.bnBlock.afterPos),i.tr.insert(f.bnBlock.beforePos,y.content);const w=i.tr.doc.resolve(f.bnBlock.beforePos);i.tr.setSelection(Re.between(w,w))}else i.tr.delete(d.bnBlock.beforePos-1,d.bnBlock.beforePos+1);else{i.tr.delete(l.bnBlock.beforePos,l.bnBlock.afterPos),b?i.tr.insert(f.bnBlock.beforePos-1,y.content):i.tr.insert(d.bnBlock.beforePos-1,y.content);const w=i.tr.doc.resolve(d.bnBlock.beforePos-1);i.tr.setSelection(Re.between(w,w))}}return!0}),()=>r.command(({state:i})=>{const s=Ct(i);if(!s.isBlockContainer)return!1;if(s.blockContent.node.childCount===0&&s.blockContent.node.type.spec.content==="inline*"){const l=Zg(i.doc,s.bnBlock.beforePos);if(!l||!l.isBlockContainer)return!1;let c=o();if(l.blockContent.node.type.spec.content==="tableRow+"){const d=s.bnBlock.beforePos-1-1-1-1-1;c=c.setTextSelection(d)}else if(l.blockContent.node.type.spec.content===""){const d=l.blockContent.afterPos-l.blockContent.node.nodeSize;c=c.setNodeSelection(d)}else{const d=l.blockContent.afterPos-l.blockContent.node.nodeSize;c=c.setTextSelection(d)}return c.deleteRange({from:s.bnBlock.beforePos,to:s.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>r.command(({state:i})=>{const s=Ct(i);if(!s.isBlockContainer)throw new Error("todo");const l=i.selection.from===s.blockContent.beforePos+1,c=i.selection.empty,d=Zg(i.doc,s.bnBlock.beforePos);if(d&&l&&c){const f=Kj(i.doc,d);if(!f.isBlockContainer)throw new Error("todo");if(f.blockContent.node.type.spec.content===""||f.blockContent.node.type.spec.content==="inline*"&&f.blockContent.node.childCount===0)return o().cut({from:s.bnBlock.beforePos,to:s.bnBlock.afterPos},f.bnBlock.afterPos).deleteRange({from:f.bnBlock.beforePos,to:f.bnBlock.afterPos}).run()}return!1})]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.command(({state:r})=>{const i=Ct(r);if(!i.isBlockContainer)return!1;const{bnBlock:s,blockContent:l,childContainer:c}=i,{depth:d}=r.doc.resolve(s.beforePos),f=s.afterPos===r.doc.nodeSize-3,p=r.selection.from===l.afterPos-1,m=r.selection.empty;if(!f&&p&&m&&c===void 0){let b=d,y=s.afterPos+1,w=r.doc.resolve(y).depth;for(;w<b;)b=w,y+=2,w=r.doc.resolve(y).depth;return o.command(s4(y-1))}return!1})]),n=(o=!1)=>this.editor.commands.first(({commands:r})=>[()=>r.command(({state:i})=>{const s=Ct(i);if(!s.isBlockContainer)return!1;const{bnBlock:l,blockContent:c}=s,{depth:d}=i.doc.resolve(l.beforePos),f=i.selection.$anchor.parentOffset===0,p=i.selection.anchor===i.selection.head,m=c.node.childCount===0,b=d>1;return f&&p&&m&&b?r.liftListItem("blockContainer"):!1}),()=>r.command(({state:i})=>{const s=Ct(i),l=this.options.editor.schema.blockSchema[s.blockNoteType].hardBreakShortcut??"shift+enter";return l==="none"?!1:l==="shift+enter"&&o||l==="enter"?r.insertContent({type:"hardBreak"}):!1}),()=>r.command(({state:i,dispatch:s})=>{const l=Ct(i);if(!l.isBlockContainer)return!1;const{bnBlock:c,blockContent:d}=l,f=i.selection.$anchor.parentOffset===0,p=i.selection.anchor===i.selection.head,m=d.node.childCount===0;if(f&&p&&m){const b=c.afterPos,y=b+2;if(s){const w=i.schema.nodes.blockContainer.createAndFill();i.tr.insert(b,w).scrollIntoView(),i.tr.setSelection(new Re(i.doc.resolve(y)))}return!0}return!1}),()=>r.command(({state:i,chain:s})=>{const l=Ct(i);if(!l.isBlockContainer)return!1;const{blockContent:c}=l,d=i.selection.$anchor.parentOffset===0;return c.node.childCount===0?!1:(s().deleteSelection().command(Sj(i.selection.from,d,d)).run(),!0)})]);return{Backspace:t,Delete:e,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var o,r,i;return this.options.tabBehavior!=="prefer-indent"&&((o=this.options.editor.formattingToolbar)!=null&&o.shown||(r=this.options.editor.linkToolbar)!=null&&r.shown||(i=this.options.editor.filePanel)!=null&&i.shown)?!1:jj(this.options.editor)},"Shift-Tab":()=>{var o,r,i;return this.options.tabBehavior!=="prefer-indent"&&((o=this.options.editor.formattingToolbar)!=null&&o.shown||(r=this.options.editor.linkToolbar)!=null&&r.shown||(i=this.options.editor.filePanel)!=null&&i.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0)}}});class Zte{constructor(e,n,o){G(this,"state"),G(this,"emitUpdate"),G(this,"menuUpdateTimer"),G(this,"startMenuUpdateTimer"),G(this,"stopMenuUpdateTimer"),G(this,"mouseHoveredLinkMark"),G(this,"mouseHoveredLinkMarkRange"),G(this,"keyboardHoveredLinkMark"),G(this,"keyboardHoveredLinkMarkRange"),G(this,"linkMark"),G(this,"linkMarkRange"),G(this,"mouseOverHandler",r=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),r.target instanceof HTMLAnchorElement&&r.target.nodeName==="A"){const i=r.target,s=this.pmView.posAtDOM(i,0)+1,l=this.pmView.state.doc.resolve(s),c=l.marks();for(const d of c)if(d.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=d,this.mouseHoveredLinkMarkRange=jh(l,d.type,d.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),G(this,"clickHandler",r=>{var i;const s=this.pmView.dom.parentElement;this.linkMark&&r&&r.target&&!(s===r.target||s.contains(r.target))&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),G(this,"scrollHandler",()=>{var r;this.linkMark!==void 0&&(r=this.state)!=null&&r.show&&(this.state.referencePos=Eb(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),G(this,"closeMenu",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");o(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(e,n){var o;const r=this.pmView.state.tr.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to);r.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,this.pmView.state.schema.mark("link",{href:e})),this.editor.dispatch(r),this.pmView.focus(),(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var e;this.editor.dispatch(this.pmView.state.tr.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate())}update(e,n,o=!1){var r;const{state:i}=e;if(n&&n.selection.from===i.selection.from&&n.selection.to===i.selection.to||!this.pmView.hasFocus())return;const s=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const l=this.pmView.state.selection.$from.marks();for(const c of l)if(c.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=c,this.keyboardHoveredLinkMarkRange=jh(this.pmView.state.selection.$from,c.type,c.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&o&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:Eb(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((r=this.state)!=null&&r.show&&s&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}}const Xte=new ht("LinkToolbarPlugin");class Yte extends Gs{constructor(e){super(),G(this,"view"),G(this,"plugin"),G(this,"editLink",(n,o)=>{this.view.editLink(n,o)}),G(this,"deleteLink",()=>{this.view.deleteLink()}),G(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),G(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),G(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Qe({key:Xte,view:n=>(this.view=new Zte(e,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>o.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}onUpdate(e){return this.on("update",e)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}const Wj=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],Zj="https",Jte=new ht("node-selection-keyboard");class Qte{constructor(){G(this,"plugin"),this.plugin=new Qe({key:Jte,props:{handleKeyDown:(e,n)=>{if("node"in e.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const o=e.state.tr;return e.dispatch(o.insert(e.state.tr.selection.$to.after(),e.state.schema.nodes.paragraph.createChecked()).setSelection(new Re(o.doc.resolve(e.state.tr.selection.$to.after()+1)))),!0}}return!1}}})}}const ene=new ht("blocknote-placeholder");class tne{constructor(e,n){G(this,"plugin"),this.plugin=new Qe({key:ene,view:o=>{var r,i;const s=`placeholder-selector-${EI()}`;o.dom.classList.add(s);const l=document.createElement("style"),c=e._tiptapEditor.options.injectNonce;c&&l.setAttribute("nonce",c),((r=e.prosemirrorView)==null?void 0:r.root)instanceof ShadowRoot?e.prosemirrorView.root.append(l):(i=e.prosemirrorView)==null||i.root.head.appendChild(l);const d=l.sheet,f=(p="")=>`.${s} .bn-block-content${p} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:p,emptyDocument:m,...b}=n;for(const[x,_]of Object.entries(b)){const T=`[data-content-type="${x}"]`;d.insertRule(`${f(T)} { content: ${JSON.stringify(_)}; }`)}d.insertRule(`${f("[data-is-only-empty-block]")} { content: ${JSON.stringify(m)}; }`),d.insertRule(`${f("[data-is-empty-and-focused]")} { content: ${JSON.stringify(p)}; }`)}catch(p){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",p)}return{destroy:()=>{var p,m;((p=e.prosemirrorView)==null?void 0:p.root)instanceof ShadowRoot?e.prosemirrorView.root.removeChild(l):(m=e.prosemirrorView)==null||m.root.head.removeChild(l)}}},props:{decorations:o=>{const{doc:r,selection:i}=o;if(!e.isEditable||!i.empty||i.$from.parent.type.spec.code)return;const s=[];o.doc.content.size===6&&s.push(_t.node(2,4,{"data-is-only-empty-block":"true"}));const l=i.$anchor,c=l.parent;if(c.content.size===0){const d=l.before();s.push(_t.node(d,d+c.nodeSize,{"data-is-empty-and-focused":"true"}))}return ct.create(r,s)}}})}}const l4=new ht("previous-blocks"),nne={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};class one{constructor(){G(this,"plugin");let e;this.plugin=new Qe({key:l4,view(n){return{update:async(o,r)=>{var i;((i=this.key)==null?void 0:i.getState(o.state).updatedBlocks.size)>0&&(e=setTimeout(()=>{o.dispatch(o.state.tr.setMeta(l4,{clearUpdate:!0}))},0))},destroy:()=>{e&&clearTimeout(e)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,o,r,i){if(o.currentTransactionOldBlockAttrs={},o.updatedBlocks.clear(),!n.docChanged||r.doc.eq(i.doc))return o;const s={},l=UO(r.doc,f=>f.attrs.id),c=new Map(l.map(f=>[f.node.attrs.id,f])),d=UO(i.doc,f=>f.attrs.id);for(const f of d){const p=c.get(f.node.attrs.id),m=p==null?void 0:p.node.firstChild,b=f.node.firstChild;if(p&&m&&b){const y={index:b.attrs.index,level:b.attrs.level,type:b.type.name,depth:i.doc.resolve(f.pos).depth};let w={index:m.attrs.index,level:m.attrs.level,type:m.type.name,depth:r.doc.resolve(p.pos).depth};s[f.node.attrs.id]=w,n.getMeta("numberedListIndexing")&&(f.node.attrs.id in o.prevTransactionOldBlockAttrs&&(w=o.prevTransactionOldBlockAttrs[f.node.attrs.id]),y.type==="numberedListItem"&&(w.index=y.index)),o.currentTransactionOldBlockAttrs[f.node.attrs.id]=w,JSON.stringify(w)!==JSON.stringify(y)&&(w["depth-change"]=w.depth-y.depth,o.updatedBlocks.add(f.node.attrs.id))}}return o.prevTransactionOldBlockAttrs=s,o}},props:{decorations(n){const o=this.getState(n);if(o.updatedBlocks.size===0)return;const r=[];return n.doc.descendants((i,s)=>{if(!i.attrs.id||!o.updatedBlocks.has(i.attrs.id))return;const l=o.currentTransactionOldBlockAttrs[i.attrs.id],c={};for(const[f,p]of Object.entries(l))c["data-prev-"+nne[f]]=p||"none";const d=_t.node(s,s+i.nodeSize,{...c});r.push(d)}),ct.create(n.doc,r)}}})}}const a4=new ht("blocknote-show-selection");class rne{constructor(e){G(this,"plugin"),G(this,"enabled",!1),this.editor=e,this.plugin=new Qe({key:a4,props:{decorations:n=>{const{doc:o,selection:r}=n;if(!this.enabled)return ct.empty;const i=_t.inline(r.from,r.to,{"data-show-selection":"true"});return ct.create(o,[i])}}})}setEnabled(e){var n,o;this.enabled!==e&&(this.enabled=e,(o=this.editor.prosemirrorView)==null||o.dispatch((n=this.editor.prosemirrorView)==null?void 0:n.state.tr.setMeta(a4,{})))}getEnabled(){return this.enabled}}function Xj(t,e){for(var n,o;t&&t.parentElement&&t.parentElement!==e.dom&&((n=t.getAttribute)==null?void 0:n.call(t,"data-node-type"))!=="blockContainer";)t=t.parentElement;if(((o=t.getAttribute)==null?void 0:o.call(t,"data-node-type"))==="blockContainer")return{node:t,id:t.getAttribute("data-id")}}let c4=class Xg extends je{constructor(e,n){super(e,n),G(this,"nodes");const o=e.node();this.nodes=[],e.doc.nodesBetween(e.pos,n.pos,(r,i,s)=>{if(s!==null&&s.eq(o))return this.nodes.push(r),!1})}static create(e,n,o=n){return new Xg(e.resolve(n),e.resolve(o))}content(){return new ye(J.from(this.nodes),0,0)}eq(e){if(!(e instanceof Xg)||this.nodes.length!==e.nodes.length||this.from!==e.from||this.to!==e.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(e.nodes[n]))return!1;return!0}map(e,n){const o=n.mapResult(this.from),r=n.mapResult(this.to);return r.deleted?je.near(e.resolve(o.pos)):o.deleted?je.near(e.resolve(r.pos)):new Xg(e.resolve(o.pos),e.resolve(r.pos))}toJSON(){return{type:"node",anchor:this.anchor,head:this.head}}},Fr;function ine(t,e){let n,o;const r=e.resolve(t.from).node().type.spec.group==="blockContent",i=e.resolve(t.to).node().type.spec.group==="blockContent",s=Math.min(t.$anchor.depth,t.$head.depth);if(r&&i){const l=t.$from.start(s-1),c=t.$to.end(s-1);n=e.resolve(l-1).pos,o=e.resolve(c+1).pos}else n=t.from,o=t.to;return{from:n,to:o}}function u4(t,e,n=e){e===n&&(n+=t.state.doc.resolve(e+1).node().nodeSize);const o=t.domAtPos(e).node.cloneNode(!0),r=t.domAtPos(e).node,i=(f,p)=>Array.prototype.indexOf.call(f.children,p),s=i(r,t.domAtPos(e+1).node.parentElement),l=i(r,t.domAtPos(n-1).node.parentElement);for(let f=r.childElementCount-1;f>=0;f--)(f>l||f<s)&&o.removeChild(o.children[f]);Yj(t.root),Fr=o;const c=Fr.getElementsByTagName("iframe");for(let f=0;f<c.length;f++){const p=c[f],m=p.parentElement;m&&m.removeChild(p)}const d=t.dom.className.split(" ").filter(f=>f!=="ProseMirror"&&f!=="bn-root"&&f!=="bn-editor").join(" ");Fr.className=Fr.className+" bn-drag-preview "+d,t.root instanceof ShadowRoot?t.root.appendChild(Fr):t.root.body.appendChild(Fr)}function Yj(t){Fr!==void 0&&(t instanceof ShadowRoot?t.removeChild(Fr):t.body.removeChild(Fr),Fr=void 0)}function sne(t,e,n){if(!t.dataTransfer)return;const o=n.prosemirrorView;if(!o)return;const r=Co(e.id,o.state.doc);if(!r)throw new Error(`Block with ID ${e.id} not found`);const i=r.posBeforeNode;if(i!=null){const s=o.state.selection,l=o.state.doc,{from:c,to:d}=ine(s,l),f=c<=i&&i<d,p=s.$anchor.node()!==s.$head.node()||s instanceof c4;f&&p?(o.dispatch(o.state.tr.setSelection(c4.create(l,c,d))),u4(o,c,d)):(o.dispatch(o.state.tr.setSelection(Oe.create(o.state.doc,i))),u4(o,i));const m=o.state.selection.content(),b=n.pmSchema,y=o.serializeForClipboard(m).dom.innerHTML,w=C0(b,n),x=Fj(m.content,n.schema),_=w.exportBlocks(x,{}),T=IS(_);t.dataTransfer.clearData(),t.dataTransfer.setData("blocknote/html",y),t.dataTransfer.setData("text/html",_),t.dataTransfer.setData("text/plain",T),t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(Fr,0,0)}}const zf=.1;function SC(t,e,n,o=!0){const r=t.root.elementsFromPoint(e.left+(n==="editor"?50:0),e.top);for(const i of r)if(t.dom.contains(i))return o&&i.closest("[data-node-type=columnList]")?SC(t,{left:e.left+50,top:e.top},n,!1):Xj(i,t)}function lne(t,e,n){if(!e.dom.firstChild)return;const o=e.dom.firstChild.getBoundingClientRect(),r={left:t.x,top:t.y},i=r.left<o.left,s=r.left>o.right;n==="viewport"&&(i&&(r.left=o.left+10),s&&(r.left=o.right-10));let l=SC(e,r,n);if(!s&&l){const c=l.node.getBoundingClientRect();r.left=c.right-10,l=SC(e,r,"viewport",!1)}return l}let ane=class{constructor(e,n,o,r){G(this,"state"),G(this,"emitUpdate"),G(this,"mousePos"),G(this,"hoveredBlock"),G(this,"menuFrozen",!1),G(this,"isDragOrigin",!1),G(this,"updateState",i=>{this.state=i,this.emitUpdate(this.state)}),G(this,"updateStateFromMousePos",()=>{var i,s,l,c;if(this.menuFrozen||!this.mousePos)return;const d=lne(this.mousePos,this.pmView,this.sideMenuDetection);if(!d||!this.editor.isEditable){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.updateState(this.state));return}if((s=this.state)!=null&&s.show&&(l=this.hoveredBlock)!=null&&l.hasAttribute("data-id")&&((c=this.hoveredBlock)==null?void 0:c.getAttribute("data-id"))===d.id)return;this.hoveredBlock=d.node;const f=d.node.firstChild;if(f&&this.editor.isEditable){const p=f.getBoundingClientRect(),m=d.node.closest("[data-node-type=column]");this.updateState({show:!0,referencePos:new DOMRect(m?m.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,p.y,p.width,p.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))})}}),G(this,"onDrop",i=>{var s,l;if(this.pmView.dragging===null)return;this.editor._tiptapEditor.commands.blur();const c=i.target instanceof Node&&((s=i.target instanceof HTMLElement?i.target:i.target.parentElement)==null?void 0:s.closest(".bn-editor"))||null;if(c&&(!this.isDragOrigin&&this.pmView.dom===c?this.pmView.dispatch(this.pmView.state.tr.setSelection(Re.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.to))):this.isDragOrigin&&this.pmView.dom!==c&&setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0)),this.sideMenuDetection==="editor"||i.synthetic||!((l=i.dataTransfer)!=null&&l.types.includes("blocknote/html")))return;const d=this.pmView.posAtCoords({left:i.clientX,top:i.clientY});if(!d||d.inside===-1){const f=this.createSyntheticEvent(i);this.pmView.dom.dispatchEvent(f)}}),G(this,"onDragEnd",()=>{this.pmView.dragging=null}),G(this,"onDragStart",i=>{var s;const l=(s=i.dataTransfer)==null?void 0:s.getData("blocknote/html");if(!l)return;if(this.pmView.dragging)throw new Error("New drag was started while an existing drag is ongoing");const c=document.createElement("div");c.innerHTML=l;const d=nc.fromSchema(this.pmView.state.schema).parse(c,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new ye(d.content,0,0),move:!0}}),G(this,"onDragOver",i=>{var s;if(this.sideMenuDetection==="editor"||i.synthetic||!((s=i.dataTransfer)!=null&&s.types.includes("blocknote/html")))return;const l=this.pmView.posAtCoords({left:i.clientX,top:i.clientY});if(!l||l.inside===-1&&this.pmView.dom.firstChild){const c=this.createSyntheticEvent(i);this.pmView.dom.dispatchEvent(c)}}),G(this,"onKeyDown",i=>{var s;(s=this.state)!=null&&s.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),G(this,"onMouseMove",i=>{var s;if(this.menuFrozen)return;this.mousePos={x:i.clientX,y:i.clientY};const l=this.pmView.dom.getBoundingClientRect(),c=this.mousePos.x>l.left&&this.mousePos.x<l.right&&this.mousePos.y>l.top&&this.mousePos.y<l.bottom,d=this.pmView.dom.parentElement;if(c&&i&&i.target&&!(d===i.target||d.contains(i.target))){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),G(this,"onScroll",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state))}),this.editor=e,this.sideMenuDetection=n,this.pmView=o,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");r(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),BS(),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),o.root.addEventListener("scroll",this.onScroll,!0)}createSyntheticEvent(e){const n=new Event(e.type,e),o=this.pmView.dom.firstChild.getBoundingClientRect();return n.clientX=e.clientX,n.clientY=e.clientY,e.clientX<o.left&&e.clientX>o.left-o.width*zf?n.clientX=o.left+o.width*zf/2:e.clientX>o.right&&e.clientX<o.right+o.width*zf?n.clientX=o.right-o.width*zf/2:(e.clientX<o.left||e.clientX>o.right)&&(n.clientX=o.left+zf*o.width*2),n.clientY=Math.min(Math.max(e.clientY,o.top),o.top+o.height),n.dataTransfer=e.dataTransfer,n.preventDefault=()=>e.preventDefault(),n.synthetic=!0,n}update(e,n){var o;!n.doc.eq(this.pmView.state.doc)&&(o=this.state)!=null&&o.show&&this.updateStateFromMousePos()}destroy(){var e;(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}};const cne=new ht("SideMenuPlugin");class une extends Gs{constructor(e,n){super(),G(this,"view"),G(this,"plugin"),G(this,"blockDragStart",(o,r)=>{this.view&&(this.view.isDragOrigin=!0),sne(o,r,this.editor)}),G(this,"blockDragEnd",()=>{this.editor.prosemirrorView&&Yj(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1)}),G(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),G(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=e,this.plugin=new Qe({key:cne,view:o=>(this.view=new ane(e,n,o,r=>{this.emit("update",r)}),this.view)})}onUpdate(e){return this.on("update",e)}}const wg=new Map;function dne(t){if(wg.has(t))return wg.get(t);const e=new ed;return t._tiptapEditor.on("transaction",({transaction:n})=>{e.appendMapping(n.mapping)}),t._tiptapEditor.on("destroy",()=>{wg.delete(t)}),wg.set(t,e),e}function fne(t,e,n="left"){const o=It.getState(t.prosemirrorState);if(!o){const i=dne(t),s=i.maps.length;return()=>i.slice(s).map(e,n==="left"?-1:1)}const r=Jh(e+(n==="right"?1:0),o.binding.type,o.binding.mapping);return()=>{const i=It.getState(t.prosemirrorState),s=dd(i.doc,i.binding.type,r,i.binding.mapping);if(s===null)throw new Error("Position not found, cannot track positions");return s+(n==="right"?-1:0)}}const hne=u0(t=>t.type.name==="blockContainer");class pne{constructor(e,n){G(this,"state"),G(this,"emitUpdate"),G(this,"rootEl"),G(this,"pluginState"),G(this,"handleScroll",()=>{var i,s;if((i=this.state)!=null&&i.show){const l=(s=this.rootEl)==null?void 0:s.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!l)return;this.state.referencePos=l.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),G(this,"closeMenu",()=>{this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Zu,null))}),G(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor._tiptapEditor.state.selection.from}).run()});var o,r;this.editor=e,this.pluginState=void 0,this.emitUpdate=i=>{var s;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(i,{...this.state,ignoreQueryLength:(s=this.pluginState)==null?void 0:s.ignoreQueryLength})},this.rootEl=(o=this.editor.prosemirrorView)==null?void 0:o.root,(r=this.rootEl)==null||r.addEventListener("scroll",this.handleScroll,!0)}update(e,n){var o;const r=Zu.getState(n),i=Zu.getState(e.state),s=r===void 0&&i!==void 0,l=r!==void 0&&i===void 0;if(!s&&!(r!==void 0&&i!==void 0)&&!l)return;if(this.pluginState=l?r:i,l||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const c=(o=this.rootEl)==null?void 0:o.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&c&&(this.state={show:!0,referencePos:c.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var e;(e=this.rootEl)==null||e.removeEventListener("scroll",this.handleScroll,!0)}}const Zu=new ht("SuggestionMenuPlugin");class mne extends Gs{constructor(e){super(),G(this,"view"),G(this,"plugin"),G(this,"triggerCharacters",[]),G(this,"addTriggerCharacter",o=>{this.triggerCharacters.push(o)}),G(this,"removeTriggerCharacter",o=>{this.triggerCharacters=this.triggerCharacters.filter(r=>r!==o)}),G(this,"closeMenu",()=>this.view.closeMenu()),G(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.plugin=new Qe({key:Zu,view:()=>(this.view=new pne(e,(o,r)=>{this.emit(`update ${o}`,r)}),this.view),state:{init(){},apply(o,r,i,s){if(o.getMeta("orderedListIndexing")!==void 0||o.selection.$from.parent.type.spec.code)return r;const l=o.getMeta(Zu);if(typeof l=="object"&&l!==null&&r===void 0){const d=fne(e,s.selection.from-l.triggerCharacter.length);return{triggerCharacter:l.triggerCharacter,deleteTriggerCharacter:l.deleteTriggerCharacter!==!1,queryStartPos:()=>d()+l.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:l==null?void 0:l.ignoreQueryLength}}if(r===void 0)return r;if(s.selection.from!==s.selection.to||l===null||o.getMeta("focus")||o.getMeta("blur")||o.getMeta("pointer")||r.triggerCharacter!==void 0&&s.selection.from<r.queryStartPos())return;const c={...r};return c.query=s.doc.textBetween(r.queryStartPos(),s.selection.from),c}},props:{handleTextInput(o,r,i,s){const l=this.getState(o.state);return n.includes(s)&&l===void 0?(o.dispatch(o.state.tr.insertText(s).scrollIntoView().setMeta(Zu,{triggerCharacter:s})),!0):!1},decorations(o){const r=this.getState(o);if(r===void 0)return null;if(!r.deleteTriggerCharacter){const i=hne(o.selection);if(i)return ct.create(o.doc,[_t.node(i.pos,i.pos+i.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":r.decorationId})])}return ct.create(o.doc,[_t.inline(r.queryStartPos()-r.triggerCharacter.length,r.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":r.decorationId})])}}})}onUpdate(e,n){return this.triggerCharacters.includes(e)||this.addTriggerCharacter(e),this.on(`update ${e}`,n)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}let No;function d4(t){No||(No=document.createElement("div"),No.innerHTML="_",No.style.opacity="0",No.style.height="1px",No.style.width="1px",t instanceof Document?t.body.appendChild(No):t.appendChild(No))}function gne(t){No&&(t instanceof Document?t.body.removeChild(No):t.removeChild(No),No=void 0)}function kg(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function bne(t){let e=t;for(;e&&e.nodeName!=="TD"&&e.nodeName!=="TH"&&!e.classList.contains("tableWrapper");){if(e.classList.contains("ProseMirror"))return;const n=e.parentNode;if(!n||!(n instanceof Element))return;e=n}return e.nodeName==="TD"||e.nodeName==="TH"?{type:"cell",domNode:e,tbodyNode:e.closest("tbody")}:{type:"wrapper",domNode:e,tbodyNode:e.querySelector("tbody")}}function yne(t,e){const n=e.querySelectorAll(t);for(let o=0;o<n.length;o++)n[o].style.visibility="hidden"}class vne{constructor(e,n,o){G(this,"state"),G(this,"emitUpdate"),G(this,"tableId"),G(this,"tablePos"),G(this,"tableElement"),G(this,"menuFrozen",!1),G(this,"mouseState","up"),G(this,"prevWasEditable",null),G(this,"viewMousedownHandler",()=>{this.mouseState="down"}),G(this,"mouseUpHandler",r=>{this.mouseState="up",this.mouseMoveHandler(r)}),G(this,"mouseMoveHandler",r=>{var i,s,l,c,d,f,p;if(this.menuFrozen||this.mouseState==="selecting"||!(r.target instanceof Element)||!this.pmView.dom.contains(r.target))return;const m=bne(r.target);if((m==null?void 0:m.type)==="cell"&&this.mouseState==="down"&&!((i=this.state)!=null&&i.draggingState)){this.mouseState="selecting",(s=this.state)!=null&&s.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!m||!this.editor.isEditable){(l=this.state)!=null&&l.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!m.tbodyNode)return;const b=m.tbodyNode.getBoundingClientRect(),y=Xj(m.domNode,this.pmView);if(!y)return;this.tableElement=y.node;let w;const x=Co(y.id,this.editor._tiptapEditor.state.doc);if(!x)throw new Error(`Block with ID ${y.id} not found`);const _=Xt(x.node,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema,this.editor.blockCache);if(Dee("table",_,this.editor)&&(this.tablePos=x.posBeforeNode+1,w=_),!w)return;this.tableId=y.id;const T=(c=m.domNode.closest(".tableWrapper"))==null?void 0:c.querySelector(".table-widgets-container");if((m==null?void 0:m.type)==="wrapper"){const M=r.clientY>=b.bottom-1&&r.clientY<b.bottom+20,R=r.clientX>=b.right-1&&r.clientX<b.right+20,O=r.clientX>b.right||r.clientY>b.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:M,showAddOrRemoveColumnsButton:R,referencePosTable:b,block:w,widgetContainer:T,colIndex:O||(d=this.state)==null?void 0:d.colIndex,rowIndex:O||(f=this.state)==null?void 0:f.rowIndex,referencePosCell:O||(p=this.state)==null?void 0:p.referencePosCell}}else{const M=kg(m.domNode),R=kg(m.domNode.parentElement),O=m.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===y.id&&this.state.rowIndex===R&&this.state.colIndex===M)return;this.state={show:!0,showAddOrRemoveColumnsButton:M===w.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:R===w.content.rows.length-1,referencePosTable:b,block:w,draggingState:void 0,referencePosCell:O,colIndex:M,rowIndex:R,widgetContainer:T}}return this.emitUpdate(),!1}),G(this,"dragOverHandler",r=>{var i;if(((i=this.state)==null?void 0:i.draggingState)===void 0)return;r.preventDefault(),r.dataTransfer.dropEffect="move",yne(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const s={left:Math.min(Math.max(r.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(r.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},l=this.pmView.root.elementsFromPoint(s.left,s.top).filter(w=>w.tagName==="TD"||w.tagName==="TH");if(l.length===0)return;const c=l[0];let d=!1;const f=kg(c.parentElement),p=kg(c),m=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,b=(this.state.draggingState.draggedCellOrientation==="row"?f:p)!==m;(this.state.rowIndex!==f||this.state.colIndex!==p)&&(this.state.rowIndex=f,this.state.colIndex=p,this.state.referencePosCell=c.getBoundingClientRect(),d=!0);const y=this.state.draggingState.draggedCellOrientation==="row"?s.top:s.left;this.state.draggingState.mousePos!==y&&(this.state.draggingState.mousePos=y,d=!0),d&&this.emitUpdate(),b&&this.editor.dispatch(this.pmView.state.tr.setMeta(Qf,!0))}),G(this,"dropHandler",r=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");r.preventDefault();const{draggingState:i,colIndex:s,rowIndex:l}=this.state,c=this.state.block.content.columnWidths;if(i.draggedCellOrientation==="row"){if(!cj(this.state.block,i.originalIndex,l))return!1;const d=pQ(this.state.block,i.originalIndex,l);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:d}})}else{if(!uj(this.state.block,i.originalIndex,s))return!1;const d=hQ(this.state.block,i.originalIndex,s),[f]=c.splice(i.originalIndex,1);c.splice(s,0,f),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:c,rows:d}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");o(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var e;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||!((e=this.tableElement)!=null&&e.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:o}=MS(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=o&&(this.state.colIndex=o-1));const r=this.tableElement.querySelector("tbody");if(!r)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const i=r.children[this.state.rowIndex].children[this.state.colIndex];i?this.state.referencePosCell=i.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=r.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}}const Qf=new ht("TableHandlesPlugin");class wne extends Gs{constructor(e){super(),G(this,"view"),G(this,"plugin"),G(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Qf,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");d4(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(No,0,0),n.dataTransfer.effectAllowed="move"}),G(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Qf,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");d4(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(No,0,0),n.dataTransfer.effectAllowed="copyMove"}),G(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Qf,null)),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");gne(this.editor.prosemirrorView.root)}),G(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),G(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),G(this,"getCellsAtRowHandle",(n,o)=>yC(n,o)),G(this,"getCellsAtColumnHandle",(n,o)=>vC(n,o)),G(this,"setCellSelection",(n,o=n)=>{const r=this.view;if(!r)throw new Error("Table handles view not initialized");const i=this.editor.prosemirrorState,s=i.doc.resolve(r.tablePos+1),l=i.doc.resolve(s.posAtIndex(n.row)+1),c=i.doc.resolve(l.posAtIndex(n.col)),d=i.doc.resolve(s.posAtIndex(o.row)+1),f=i.doc.resolve(d.posAtIndex(o.col)),p=i.tr;return p.setSelection(new Nt(c,f)),i.apply(p)}),G(this,"addRowOrColumn",(n,o)=>{const r=this.setCellSelection(o.orientation==="row"?{row:n,col:0}:{row:0,col:n});return o.orientation==="row"?o.side==="above"?JK(r,this.editor.dispatch):QK(r,this.editor.dispatch):o.side==="left"?KK(r,this.editor.dispatch):WK(r,this.editor.dispatch)}),G(this,"removeRowOrColumn",(n,o)=>{const r=this.setCellSelection(o==="row"?{row:n,col:0}:{row:0,col:n});return o==="row"?tW(r,this.editor.dispatch):XK(r,this.editor.dispatch)}),G(this,"mergeCells",n=>{const o=n?this.setCellSelection(n.relativeStartCell,n.relativeEndCell):this.editor.prosemirrorState;return oW(o,this.editor.dispatch)}),G(this,"splitCell",n=>{const o=n?this.setCellSelection(n):this.editor.prosemirrorState;return rW(o,this.editor.dispatch)}),G(this,"getCellSelection",()=>{const n=this.editor.prosemirrorState,o=n.selection;let r=o.$from,i=o.$to;if(CC(o)){const{ranges:y}=o;y.forEach(w=>{r=w.$from.min(r??w.$from),i=w.$to.max(i??w.$to)})}else if(r=n.doc.resolve(o.$from.pos-o.$from.parentOffset-1),i=n.doc.resolve(o.$to.pos-o.$to.parentOffset-1),r.pos===0||i.pos===0)return;const s=n.doc.resolve(r.pos-r.parentOffset-1),l=n.doc.resolve(i.pos-i.parentOffset-1),c=n.doc.resolve(s.pos-s.parentOffset-1),d=r.index(s.depth),f=s.index(c.depth),p=i.index(l.depth),m=l.index(c.depth),b=[];for(let y=f;y<=m;y++)for(let w=d;w<=p;w++)b.push({row:y,col:w});return{from:{row:f,col:d},to:{row:m,col:p},cells:b}}),G(this,"getMergeDirection",n=>{const o=CC(this.editor.prosemirrorState.selection)?this.editor.prosemirrorState.selection:void 0;if(!o||!n||o.ranges.length<=1)return;const r=this.getCellSelection();if(r)return bQ(r.from,r.to,n)?"vertical":"horizontal"}),G(this,"cropEmptyRowsOrColumns",(n,o)=>mQ(n,o)),G(this,"addRowsOrColumns",(n,o,r)=>gQ(n,o,r)),this.editor=e,this.plugin=new Qe({key:Qf,view:n=>(this.view=new vne(e,n,o=>{this.emit("update",o)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const o=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(o===void 0)return;const r=[],{block:i,draggingState:s}=this.view.state,{originalIndex:l,draggedCellOrientation:c}=s;if(o===l||!i||c==="row"&&!cj(i,l,o)||c==="col"&&!uj(i,l,o))return ct.create(n.doc,r);const d=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?yC(this.view.state.block,o).forEach(({row:f,col:p})=>{const m=n.doc.resolve(d.posAtIndex(f)+1),b=n.doc.resolve(m.posAtIndex(p)+1),y=b.node(),w=b.pos+(o>l?y.nodeSize-2:0);r.push(_t.widget(w,()=>{const x=document.createElement("div");return x.className="bn-table-drop-cursor",x.style.left="0",x.style.right="0",o>l?x.style.bottom="-2px":x.style.top="-3px",x.style.height="4px",x}))}):vC(this.view.state.block,o).forEach(({row:f,col:p})=>{const m=n.doc.resolve(d.posAtIndex(f)+1),b=n.doc.resolve(m.posAtIndex(p)+1),y=b.node(),w=b.pos+(o>l?y.nodeSize-2:0);r.push(_t.widget(w,()=>{const x=document.createElement("div");return x.className="bn-table-drop-cursor",x.style.top="0",x.style.bottom="0",o>l?x.style.right="-2px":x.style.left="-3px",x.style.width="4px",x}))}),ct.create(n.doc,r)}}})}onUpdate(e){return this.on("update",e)}}const kne=Mt.create({name:"textAlignment",addGlobalAttributes(){return[{types:["paragraph","heading","bulletListItem","numberedListItem","checkListItem","tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:t=>t.getAttribute("data-text-alignment"),renderHTML:t=>t.textAlignment==="left"?{}:{"data-text-alignment":t.textAlignment}}}}]}}),xne=Mt.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{textColor:{default:bn.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):bn.textColor.default,renderHTML:t=>t.textColor===bn.textColor.default?{}:{"data-text-color":t.textColor}}}}]}}),Cne=Mt.create({name:"trailingNode",addProseMirrorPlugins(){const t=new ht(this.name);return[new Qe({key:t,appendTransaction:(e,n,o)=>{const{doc:r,tr:i,schema:s}=o,l=t.getState(o),c=r.content.size-2,d=s.nodes.blockContainer,f=s.nodes.paragraph;if(l)return i.insert(c,d.create(void 0,f.create()))},state:{init:(e,n)=>{},apply:(e,n)=>{if(!e.docChanged)return n;let o=e.doc.lastChild;if(!o||o.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(o=o.lastChild,!o||o.type.name!=="blockContainer")return!0;const r=o.firstChild;if(!r)throw new Error("Expected blockContent");return o.nodeSize>4||r.type.spec.content!=="inline*"}}})]}}),_ne={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},Sne=Pi.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,parseHTML(){return[{tag:"div",getAttrs:t=>{if(typeof t=="string")return!1;const e={};for(const[n,o]of Object.entries(_ne))t.getAttribute(o)&&(e[n]=t.getAttribute(o));return t.getAttribute("data-node-type")==="blockContainer"?e:!1}}]},renderHTML({HTMLAttributes:t}){var e;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[i,s]of Object.entries(t))i!=="class"&&n.setAttribute(i,s);const o={...((e=this.options.domAttributes)==null?void 0:e.block)||{},...t},r=document.createElement("div");r.className=dn("bn-block",o.class),r.setAttribute("data-node-type",this.name);for(const[i,s]of Object.entries(o))i!=="class"&&r.setAttribute(i,s);return n.appendChild(r),{dom:n,contentDOM:r}}}),Ene=Pi.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:t}){var e;const n={...((e=this.options.domAttributes)==null?void 0:e.blockGroup)||{},...t},o=document.createElement("div");o.className=dn("bn-block-group",n.class),o.setAttribute("data-node-type","blockGroup");for(const[r,i]of Object.entries(n))r!=="class"&&o.setAttribute(r,i);return{dom:o,contentDOM:o}}}),Tne=Pi.create({name:"doc",topNode:!0,content:"blockGroup"}),Mne=t=>{const e={},n=Ane(t);for(const r of n)e[r.name]=r;e.formattingToolbar=new Fte(t.editor),e.linkToolbar=new Yte(t.editor),e.sideMenu=new une(t.editor,t.sideMenuDetection),e.suggestionMenus=new mne(t.editor),e.filePanel=new zte(t.editor),e.placeholder=new tne(t.editor,t.placeholders),(t.animations??!0)&&(e.animations=new one),t.tableHandles&&(e.tableHandles=new wne(t.editor)),e.dropCursor={plugin:t.dropCursor({width:5,color:"#ddeeff",editor:t.editor})},e.nodeSelectionKeyboard=new Qte,e.showSelection=new rne(t.editor),t.comments&&(e.comments=new $te(t.editor,t.comments.threadStore,qj.name));const o=t.disableExtensions||[];for(const r of o)delete e[r];return e};let f4=!1;const Ane=t=>{const e=[Pf.ClipboardTextSerializer,Pf.Commands,Pf.Editable,Pf.FocusEvents,Pf.Tabindex,eZ,kp.configure({types:["blockContainer","columnList","column"],setIdAttribute:t.setIdAttribute}),Gte,LZ,DZ.extend({inclusive:!1}).configure({defaultProtocol:Zj,protocols:f4?[]:Wj}),...Object.values(t.styleSpecs).map(n=>n.implementation.mark.configure({editor:t.editor})),xne,Lte,kne,Mt.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>t.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),Tne,Sne.configure({editor:t.editor,domAttributes:t.domAttributes}),Wte.configure({editor:t.editor,tabBehavior:t.tabBehavior}),Ene.configure({domAttributes:t.domAttributes}),...Object.values(t.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:t.editor})),...Object.values(t.blockSpecs).flatMap(n=>[...(n.implementation.requiredExtensions||[]).map(o=>o.configure({editor:t.editor,domAttributes:t.domAttributes})),n.implementation.node.configure({editor:t.editor,domAttributes:t.domAttributes})]),Dte(t.editor),Ote(t.editor,t.pasteHandler||(n=>n.defaultPasteHandler())),pte(t.editor),...t.trailingBlock===void 0||t.trailingBlock?[Cne]:[],...t.comments?[qj]:[]];return f4=!0,t.collaboration?e.push(...Bte(t.collaboration)):e.push(uZ),e};function Rne(t,e){const n=[];return t.forEach((o,r,i)=>{i!==e&&n.push(o)}),J.from(n)}function One(t,e){const n=[];for(let o=0;o<t.childCount;o++)if(t.child(o).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const r=n[n.length-1],i=r.copy(r.content.addToEnd(t.child(o)));n[n.length-1]=i}else{const r=e.nodes.table.createChecked(void 0,t.child(o));n.push(r)}else n.push(t.child(o));return t=J.from(n),t}function Nne(t,e){let n=J.from(t.content);if(n=One(n,e.state.schema),!Dne(n,e))return new ye(n,t.openStart,t.openEnd);for(let o=0;o<n.childCount;o++)if(n.child(o).type.spec.group==="blockContent"){const r=[n.child(o)];if(o+1<n.childCount&&n.child(o+1).type.name==="blockGroup"){const s=n.child(o+1).child(0).child(0);(s.type.name==="bulletListItem"||s.type.name==="numberedListItem"||s.type.name==="checkListItem")&&(r.push(n.child(o+1)),n=Rne(n,o+1))}const i=e.state.schema.nodes.blockContainer.createChecked(void 0,r);n=n.replaceChild(o,i)}return new ye(n,t.openStart,t.openEnd)}function Dne(t,e){var n,o;const r=t.childCount===1,i=((n=t.firstChild)==null?void 0:n.type.spec.content)==="inline*",s=((o=t.firstChild)==null?void 0:o.type.spec.content)==="tableRow+";if(r){if(i)return!1;if(s){const l=Ct(e.state);if(l.isBlockContainer)return l.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const EC=class extends wK{constructor(e,n){super({...e,content:void 0}),G(this,"_state"),G(this,"mount",(l,c,d)=>{c?(this.options.element=c,this.createViewAlternative(l,d)):this.destroy()});const o=this.schema;let r;const i=o.nodes.doc.createAndFill;o.nodes.doc.createAndFill=(...l)=>{if(r)return r;const c=i.apply(o.nodes.doc,l),d=JSON.parse(JSON.stringify(c.toJSON()));return d.content[0].content[0].attrs.id="initialBlockId",r=Ms.fromJSON(o,d),r};let s;try{const l=e==null?void 0:e.content.map(c=>Ec(c,this.schema,n).toJSON());s=Sb({type:"doc",content:[{type:"blockGroup",content:l}]},this.schema,this.options.parseOptions)}catch(l){throw console.error("Error creating document from blocks passed as `initialContent`. Caused by exception: ",l),new Error("Error creating document from blocks passed as `initialContent`:\n"+ +JSON.stringify(e.content))}this._state=Va.create({doc:s,schema:this.schema})}get state(){return this.view&&(this._state=this.view.state),this._state}dispatch(e){this.view?this.view.dispatch(e):this._state=this.state.apply(e)}createViewAlternative(e,n){this.contentComponent=n;const o={};this.extensionManager.extensions.forEach(i=>{i.type==="mark"&&i.config.addMarkView&&(o[i.name]=i.config.addMarkView(e))}),this.view=new VB({mount:this.options.element},{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:this.state,markViews:o,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.commands.focus(this.options.autofocus||this.options.element.getAttribute("data-bn-autofocus")==="true",{scrollIntoView:!1}),this.emit("create",{editor:this}),this.isInitialized=!0}};G(EC,"create",(t,e)=>{var n,o;const r=(n=globalThis==null?void 0:globalThis.window)==null?void 0:n.setTimeout;typeof((o=globalThis==null?void 0:globalThis.window)==null?void 0:o.setTimeout)<"u"&&(globalThis.window.setTimeout=()=>0);try{return new EC(t,e)}finally{r&&(globalThis.window.setTimeout=r)}});let Jj=EC;Jj.prototype.createView=function(){this.options.onPaste=this.options.onDrop=void 0};const Lne={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let Bne=class Qj extends Gs{constructor(e){var n,o,r,i,s,l,c,d,f,p,m,b,y,w,x;super(),G(this,"pmSchema"),G(this,"extensions",{}),G(this,"headless",!1),G(this,"_tiptapEditor"),G(this,"elementRenderer",null),G(this,"blockCache",new WeakMap),G(this,"dictionary"),G(this,"schema"),G(this,"blockImplementations"),G(this,"inlineContentImplementations"),G(this,"styleImplementations"),G(this,"formattingToolbar"),G(this,"linkToolbar"),G(this,"sideMenu"),G(this,"suggestionMenus"),G(this,"filePanel"),G(this,"tableHandles"),G(this,"comments"),G(this,"showSelectionPlugin"),G(this,"uploadFile"),G(this,"onUploadStartCallbacks",[]),G(this,"onUploadEndCallbacks",[]),G(this,"resolveFileUrl"),G(this,"resolveUsers"),G(this,"settings"),G(this,"dispatch",I=>{this._tiptapEditor.dispatch(I)}),G(this,"mount",(I,H)=>{this._tiptapEditor.mount(this,I,H)}),this.options=e;const _=e;if(_.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(_.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(_.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(_.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=e.dictionary||Q5,this.settings={tables:{splitCells:((n=e==null?void 0:e.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((o=e==null?void 0:e.tables)==null?void 0:o.cellBackgroundColor)??!1,cellTextColor:((r=e==null?void 0:e.tables)==null?void 0:r.cellTextColor)??!1,headers:((i=e==null?void 0:e.tables)==null?void 0:i.headers)??!1},codeBlock:{indentLineWithTab:((s=e==null?void 0:e.codeBlock)==null?void 0:s.indentLineWithTab)??!0,defaultLanguage:((l=e==null?void 0:e.codeBlock)==null?void 0:l.defaultLanguage)??"text",supportedLanguages:((c=e==null?void 0:e.codeBlock)==null?void 0:c.supportedLanguages)??{},createHighlighter:((d=e==null?void 0:e.codeBlock)==null?void 0:d.createHighlighter)??void 0}};const T={defaultStyles:!0,schema:e.schema||xd.create(),_headless:!1,...e,placeholders:{...this.dictionary.placeholders,...e.placeholders}};if(T.comments&&!T.resolveUsers)throw new Error("resolveUsers is required when using comments");if(this.resolveUsers=T.resolveUsers,this.schema=T.schema,this.blockImplementations=T.schema.blockSpecs,this.inlineContentImplementations=T.schema.inlineContentSpecs,this.styleImplementations=T.schema.styleSpecs,this.extensions=Mne({editor:this,domAttributes:T.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:T.collaboration,trailingBlock:T.trailingBlock,disableExtensions:T.disableExtensions,setIdAttribute:T.setIdAttribute,animations:T.animations??!0,tableHandles:Oo("table",this),dropCursor:this.options.dropCursor??rQ,placeholders:T.placeholders,tabBehavior:T.tabBehavior,sideMenuDetection:T.sideMenuDetection||"viewport",comments:T.comments,pasteHandler:T.pasteHandler}),(((f=T._tiptapOptions)==null?void 0:f.extensions)||[]).forEach(I=>{this.extensions[I.name]=I}),Object.entries(T._extensions||{}).forEach(([I,H])=>{typeof H=="function"&&(H=H(this)),this.extensions[I]=H}),this.formattingToolbar=this.extensions.formattingToolbar,this.linkToolbar=this.extensions.linkToolbar,this.sideMenu=this.extensions.sideMenu,this.suggestionMenus=this.extensions.suggestionMenus,this.filePanel=this.extensions.filePanel,this.tableHandles=this.extensions.tableHandles,this.comments=this.extensions.comments,this.showSelectionPlugin=this.extensions.showSelection,T.uploadFile){const I=T.uploadFile;this.uploadFile=async(H,q)=>{this.onUploadStartCallbacks.forEach(Q=>Q.apply(this,[q]));try{return await I(H,q)}finally{this.onUploadEndCallbacks.forEach(Q=>Q.apply(this,[q]))}}}this.resolveFileUrl=T.resolveFileUrl,this.headless=T._headless;const M="collaboration"in this.extensions||"liveblocksExtension"in this.extensions;M&&T.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const R=T.initialContent||(M?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:kp.options.generateID()}]);if(!Array.isArray(R)||R.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+R);const O=[...Object.entries(this.extensions).map(([I,H])=>{if(H instanceof Mt||H instanceof Pi||H instanceof zo)return H;if(!H.plugin)throw new Error("Extension should either be a TipTap extension or a ProseMirror plugin in a plugin property");return Mt.create({name:I,addProseMirrorPlugins:()=>[H.plugin]})})],B={...Lne,...T._tiptapOptions,content:R,extensions:O,editorProps:{...(p=T._tiptapOptions)==null?void 0:p.editorProps,attributes:{tabIndex:"0",...(b=(m=T._tiptapOptions)==null?void 0:m.editorProps)==null?void 0:b.attributes,...(y=T.domAttributes)==null?void 0:y.editor,class:dn("bn-editor",T.defaultStyles?"bn-default-styles":"",((x=(w=T.domAttributes)==null?void 0:w.editor)==null?void 0:x.class)||"")},transformPasted:Nne}};this.headless?this.pmSchema=qq(B.extensions):(this._tiptapEditor=Jj.create(B,this.schema.styleSchema),this.pmSchema=this._tiptapEditor.schema),this.emit("create")}static create(e={}){return new Qj(e)}get prosemirrorView(){return this._tiptapEditor.view}get prosemirrorState(){return this._tiptapEditor.state}get domElement(){var e;return(e=this.prosemirrorView)==null?void 0:e.dom}isFocused(){var e;return((e=this.prosemirrorView)==null?void 0:e.hasFocus())||!1}focus(){var e;(e=this.prosemirrorView)==null||e.focus()}onUploadStart(e){return this.onUploadStartCallbacks.push(e),()=>{const n=this.onUploadStartCallbacks.indexOf(e);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(e){return this.onUploadEndCallbacks.push(e),()=>{const n=this.onUploadEndCallbacks.indexOf(e);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){const e=[];return this.prosemirrorState.doc.firstChild.descendants(n=>(e.push(Xt(n,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)),!1)),e}getBlock(e){return Wee(this,e)}getPrevBlock(e){return Zee(this,e)}getNextBlock(e){return Xee(this,e)}getParentBlock(e){return Yee(this,e)}forEachBlock(e,n=!1){const o=this.document.slice();n&&o.reverse();function r(i){for(const s of i){if(e(s)===!1)return!1;const l=n?s.children.slice().reverse():s.children;if(!r(l))return!1}return!0}r(o)}onEditorContentChange(e){this._tiptapEditor.on("update",e)}onEditorSelectionChange(e){this._tiptapEditor.on("selectionUpdate",e)}getTextCursorPosition(){return tte(this)}setTextCursorPosition(e,n="start"){$j(this,e,n)}getSelection(){return Qee(this)}setSelection(e,n){ete(this,e,n)}get isEditable(){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return!1}return this._tiptapEditor.isEditable===void 0?!0:this._tiptapEditor.isEditable}set isEditable(e){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return}this._tiptapEditor.options.editable!==e&&this._tiptapEditor.setEditable(e)}insertBlocks(e,n,o="before"){return jee(this,e,n,o)}updateBlock(e,n){return wQ(this,e,n)}removeBlocks(e){return Kee(this,e)}replaceBlocks(e,n){return qee(this,e,n)}insertInlineContent(e){const n=ti(e,this.pmSchema,this.schema.styleSchema);Jee({from:this._tiptapEditor.state.selection.from,to:this._tiptapEditor.state.selection.to},n,this)}getActiveStyles(){const e={},n=this._tiptapEditor.state.selection.$to.marks();for(const o of n){const r=this.schema.styleSchema[o.type.name];if(!r){o.type.name!=="link"&&!o.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",o.type.name);continue}r.propSchema==="boolean"?e[r.type]=!0:e[r.type]=o.attrs.stringValue}return e}addStyles(e){for(const[n,o]of Object.entries(e)){const r=this.schema.styleSchema[n];if(!r)throw new Error(`style ${n} not found in styleSchema`);if(r.propSchema==="boolean")this._tiptapEditor.commands.setMark(n);else if(r.propSchema==="string")this._tiptapEditor.commands.setMark(n,{stringValue:o});else throw new Li(r.propSchema)}}removeStyles(e){for(const n of Object.keys(e))this._tiptapEditor.commands.unsetMark(n)}toggleStyles(e){for(const[n,o]of Object.entries(e)){const r=this.schema.styleSchema[n];if(!r)throw new Error(`style ${n} not found in styleSchema`);if(r.propSchema==="boolean")this._tiptapEditor.commands.toggleMark(n);else if(r.propSchema==="string")this._tiptapEditor.commands.toggleMark(n,{stringValue:o});else throw new Li(r.propSchema)}}getSelectedText(){return this._tiptapEditor.state.doc.textBetween(this._tiptapEditor.state.selection.from,this._tiptapEditor.state.selection.to)}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(e,n){if(e==="")return;const{from:o,to:r}=this._tiptapEditor.state.selection,i=this.pmSchema.mark("link",{href:e});this.dispatch(n?this._tiptapEditor.state.tr.insertText(n,o,r).addMark(o,o+n.length,i):this._tiptapEditor.state.tr.setSelection(Re.create(this._tiptapEditor.state.tr.doc,r)).addMark(o,r,i))}canNestBlock(){return Fee(this)}nestBlock(){jj(this)}canUnnestBlock(){return Gee(this)}unnestBlock(){Uee(this)}moveBlocksUp(){Hee(this)}moveBlocksDown(){zee(this)}async blocksToHTMLLossy(e=this.document){return C0(this.pmSchema,this).exportBlocks(e,{})}async blocksToFullHTML(e){return SQ(this.pmSchema,this).serializeBlocks(e,{})}async tryParseHTMLToBlocks(e){return zj(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}async blocksToMarkdownLossy(e=this.document){return rte(e,this.pmSchema,this,{})}async tryParseMarkdownToBlocks(e){return dte(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}updateCollaborationUserInfo(e){if(!this.options.collaboration)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this._tiptapEditor.commands.updateUser(e)}onChange(e){if(this.headless)return;const n=()=>{e(this)};return this._tiptapEditor.on("update",n),()=>{this._tiptapEditor.off("update",n)}}onSelectionChange(e,n){if(this.headless)return;const o=r=>{r.transaction.getMeta(It)&&!n||e(this)};return this._tiptapEditor.on("selectionUpdate",o),()=>{this._tiptapEditor.off("selectionUpdate",o)}}onCreate(e){return this.on("create",e),()=>{this.off("create",e)}}getSelectionBoundingBox(){var e;if(!this.prosemirrorView)return;const n=(e=this.prosemirrorView)==null?void 0:e.state,{selection:o}=n,{ranges:r}=o,i=Math.min(...r.map(l=>l.$from.pos)),s=Math.max(...r.map(l=>l.$to.pos));if(Hx(o)){const l=this.prosemirrorView.nodeDOM(i);if(l)return l.getBoundingClientRect()}return Eb(this.prosemirrorView,i,s)}get isEmpty(){const e=this.document;return e.length===0||e.length===1&&e[0].type==="paragraph"&&e[0].content.length===0}openSuggestionMenu(e,n){var o;const r=(o=this.prosemirrorView)==null?void 0:o.state.tr;if(!r)return;const i=n&&n.deleteTriggerCharacter?r.insertText(e):r;this.prosemirrorView.focus(),this.prosemirrorView.dispatch(i.scrollIntoView().setMeta(this.suggestionMenus.plugin,{triggerCharacter:e,deleteTriggerCharacter:(n==null?void 0:n.deleteTriggerCharacter)||!1,ignoreQueryLength:(n==null?void 0:n.ignoreQueryLength)||!1}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(e){this.showSelectionPlugin.setEnabled(e)}convertHtmlToBlockNoteHtml(e){return Hj(e.trim()).innerHTML}pasteHTML(e,n=!1){var o;let r=e;n||(r=this.convertHtmlToBlockNoteHtml(e)),r&&((o=this.prosemirrorView)==null||o.pasteHTML(r))}pasteText(e){var n;return(n=this.prosemirrorView)==null?void 0:n.pasteText(e)}async pasteMarkdown(e){return this.pasteHTML(await Vj(e))}},xk;async function Ine(){return xk||(xk=(async()=>{const[t,e]=await Promise.all([we(()=>import("./module-BvCTiNll.js"),[]),we(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in t?t.default:t,o="default"in e?e.default:e;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),xk)}async function jne(t,e){if(!Nee("text",t))return[];const{emojiData:n,emojiMart:o}=await Ine();return(e.trim()===""?Object.values(n.emojis):await o.SearchIndex.search(e)).map(r=>({id:r.skins[0].native,onItemClick:()=>t.insertInlineContent(r.skins[0].native+" ")}))}function Pne(t,...e){const n=[...t];for(const o of e)for(const r of o){const i=n.findLastIndex(s=>s.group===r.group);i===-1?n.push(r):n.splice(i+1,0,r)}return n}function E0(){return typeof window<"u"}function Cd(t){return e8(t)?(t.nodeName||"").toLowerCase():"#document"}function $o(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vi(t){var e;return(e=(e8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function e8(t){return E0()?t instanceof Node||t instanceof $o(t).Node:!1}function Ut(t){return E0()?t instanceof Element||t instanceof $o(t).Element:!1}function ar(t){return E0()?t instanceof HTMLElement||t instanceof $o(t).HTMLElement:!1}function TC(t){return!E0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $o(t).ShadowRoot}function Ep(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function $ne(t){return["table","td","th"].includes(Cd(t))}function T0(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function PS(t){const e=M0(),n=Ut(t)?jr(t):t;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Hne(t){let e=Ps(t);for(;ar(e)&&!ta(e);){if(PS(e))return e;if(T0(e))return null;e=Ps(e)}return null}function M0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ta(t){return["html","body","#document"].includes(Cd(t))}function jr(t){return $o(t).getComputedStyle(t)}function A0(t){return Ut(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ps(t){if(Cd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TC(t)&&t.host||Vi(t);return TC(e)?e.host:e}function t8(t){const e=Ps(t);return ta(e)?t.ownerDocument?t.ownerDocument.body:t.body:ar(e)&&Ep(e)?e:t8(e)}function Ls(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=t8(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=$o(r);if(i){const l=MC(s);return e.concat(s,s.visualViewport||[],Ep(r)?r:[],l&&n?Ls(l):[])}return e.concat(r,Ls(r,[],n))}function MC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function AC(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function fd(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&TC(n)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function n8(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function o8(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:o}=e;return n+"/"+o}).join(" "):navigator.userAgent}function zne(t){return Une()?!1:!h4()&&t.width===0&&t.height===0||h4()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function r8(){return/apple/i.test(navigator.vendor)}function h4(){const t=/android/i;return t.test(n8())||t.test(o8())}function Vne(){return n8().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Une(){return o8().includes("jsdom/")}function RC(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function Fne(t){return"nativeEvent"in t}function Gne(t){return t.matches("html,body")}function Hl(t){return(t==null?void 0:t.ownerDocument)||document}function Ck(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Ou(t){return"composedPath"in t?t.composedPath()[0]:t.target}const qne="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Kne(t){return ar(t)&&t.matches(qne)}const ni=Math.min,eo=Math.max,fy=Math.round,xg=Math.floor,Ti=t=>({x:t,y:t}),Wne={left:"right",right:"left",bottom:"top",top:"bottom"},Zne={start:"end",end:"start"};function OC(t,e,n){return eo(t,ni(e,n))}function $s(t,e){return typeof t=="function"?t(e):t}function oi(t){return t.split("-")[0]}function _d(t){return t.split("-")[1]}function $S(t){return t==="x"?"y":"x"}function HS(t){return t==="y"?"height":"width"}function Hs(t){return["top","bottom"].includes(oi(t))?"y":"x"}function zS(t){return $S(Hs(t))}function Xne(t,e,n){n===void 0&&(n=!1);const o=_d(t),r=zS(t),i=HS(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=hy(s)),[s,hy(s)]}function Yne(t){const e=hy(t);return[NC(t),e,NC(e)]}function NC(t){return t.replace(/start|end/g,e=>Zne[e])}function Jne(t,e,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?i:s;default:return[]}}function Qne(t,e,n,o){const r=_d(t);let i=Jne(oi(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(NC)))),i}function hy(t){return t.replace(/left|right|bottom|top/g,e=>Wne[e])}function eoe(t){return{top:0,right:0,bottom:0,left:0,...t}}function VS(t){return typeof t!="number"?eoe(t):{top:t,right:t,bottom:t,left:t}}function hd(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var toe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],DC=toe.join(","),i8=typeof Element>"u",np=i8?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,py=!i8&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},my=function t(e,n){var o;n===void 0&&(n=!0);var r=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),i=r===""||r==="true",s=i||n&&e&&t(e.parentNode);return s},noe=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},ooe=function(e,n,o){if(my(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(DC));return n&&np.call(e,DC)&&r.unshift(e),r=r.filter(o),r},roe=function t(e,n,o){for(var r=[],i=Array.from(e);i.length;){var s=i.shift();if(!my(s,!1))if(s.tagName==="SLOT"){var l=s.assignedElements(),c=l.length?l:s.children,d=t(c,!0,o);o.flatten?r.push.apply(r,d):r.push({scopeParent:s,candidates:d})}else{var f=np.call(s,DC);f&&o.filter(s)&&(n||!e.includes(s))&&r.push(s);var p=s.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(s),m=!my(p,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(s));if(p&&m){var b=t(p===!0?s.children:p.children,!0,o);o.flatten?r.push.apply(r,b):r.push({scopeParent:s,candidates:b})}else i.unshift.apply(i,s.children)}}return r},s8=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},l8=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||noe(e))&&!s8(e)?0:e.tabIndex},ioe=function(e,n){var o=l8(e);return o<0&&n&&!s8(e)?0:o},soe=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},a8=function(e){return e.tagName==="INPUT"},loe=function(e){return a8(e)&&e.type==="hidden"},aoe=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},coe=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},uoe=function(e){if(!e.name)return!0;var n=e.form||py(e),o=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=o(window.CSS.escape(e.name));else try{r=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=coe(r,e.form);return!i||i===e},doe=function(e){return a8(e)&&e.type==="radio"},foe=function(e){return doe(e)&&!uoe(e)},hoe=function(e){var n,o=e&&py(e),r=(n=o)===null||n===void 0?void 0:n.host,i=!1;if(o&&o!==e){var s,l,c;for(i=!!((s=r)!==null&&s!==void 0&&(l=s.ownerDocument)!==null&&l!==void 0&&l.contains(r)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!i&&r;){var d,f,p;o=py(r),r=(d=o)===null||d===void 0?void 0:d.host,i=!!((f=r)!==null&&f!==void 0&&(p=f.ownerDocument)!==null&&p!==void 0&&p.contains(r))}}return i},p4=function(e){var n=e.getBoundingClientRect(),o=n.width,r=n.height;return o===0&&r===0},poe=function(e,n){var o=n.displayCheck,r=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=np.call(e,"details>summary:first-of-type"),s=i?e.parentElement:e;if(np.call(s,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof r=="function"){for(var l=e;e;){var c=e.parentElement,d=py(e);if(c&&!c.shadowRoot&&r(c)===!0)return p4(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=l}if(hoe(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return p4(e);return!1},moe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var r=n.children.item(o);if(r.tagName==="LEGEND")return np.call(n,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}n=n.parentElement}return!1},goe=function(e,n){return!(n.disabled||my(n)||loe(n)||poe(n,e)||aoe(n)||moe(n))},m4=function(e,n){return!(foe(n)||l8(n)<0||!goe(e,n))},boe=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},yoe=function t(e){var n=[],o=[];return e.forEach(function(r,i){var s=!!r.scopeParent,l=s?r.scopeParent:r,c=ioe(l,s),d=s?t(r.candidates):l;c===0?s?n.push.apply(n,d):n.push(l):o.push({documentOrder:i,tabIndex:c,item:r,isScope:s,content:d})}),o.sort(soe).reduce(function(r,i){return i.isScope?r.push.apply(r,i.content):r.push(i.content),r},[]).concat(n)},c8=function(e,n){n=n||{};var o;return n.getShadowRoot?o=roe([e],n.includeContainer,{filter:m4.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:boe}):o=ooe(e,n.includeContainer,m4.bind(null,n)),yoe(o)},ri=TL();const u8=EL(ri);function g4(t,e,n){let{reference:o,floating:r}=t;const i=Hs(e),s=zS(e),l=HS(s),c=oi(e),d=i==="y",f=o.x+o.width/2-r.width/2,p=o.y+o.height/2-r.height/2,m=o[l]/2-r[l]/2;let b;switch(c){case"top":b={x:f,y:o.y-r.height};break;case"bottom":b={x:f,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:p};break;case"left":b={x:o.x-r.width,y:p};break;default:b={x:o.x,y:o.y}}switch(_d(e)){case"start":b[s]-=m*(n&&d?-1:1);break;case"end":b[s]+=m*(n&&d?-1:1);break}return b}const voe=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let d=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:p}=g4(d,o,c),m=o,b={},y=0;for(let w=0;w<l.length;w++){const{name:x,fn:_}=l[w],{x:T,y:M,data:R,reset:O}=await _({x:f,y:p,initialPlacement:o,placement:m,strategy:r,middlewareData:b,rects:d,platform:s,elements:{reference:t,floating:e}});f=T??f,p=M??p,b={...b,[x]:{...b[x],...R}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(d=O.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):O.rects),{x:f,y:p}=g4(d,m,c)),w=-1)}return{x:f,y:p,placement:m,strategy:r,middlewareData:b}};async function US(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:b=0}=$s(e,t),y=VS(b),x=l[m?p==="floating"?"reference":"floating":p],_=hd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),T=p==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),R=await(i.isElement==null?void 0:i.isElement(M))?await(i.getScale==null?void 0:i.getScale(M))||{x:1,y:1}:{x:1,y:1},O=hd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:M,strategy:c}):T);return{top:(_.top-O.top+y.top)/R.y,bottom:(O.bottom-_.bottom+y.bottom)/R.y,left:(_.left-O.left+y.left)/R.x,right:(O.right-_.right+y.right)/R.x}}const woe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:s,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=$s(t,e)||{};if(d==null)return{};const p=VS(f),m={x:n,y:o},b=zS(r),y=HS(b),w=await s.getDimensions(d),x=b==="y",_=x?"top":"left",T=x?"bottom":"right",M=x?"clientHeight":"clientWidth",R=i.reference[y]+i.reference[b]-m[b]-i.floating[y],O=m[b]-i.reference[b],B=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let I=B?B[M]:0;(!I||!await(s.isElement==null?void 0:s.isElement(B)))&&(I=l.floating[M]||i.floating[y]);const H=R/2-O/2,q=I/2-w[y]/2-1,Q=ni(p[_],q),ve=ni(p[T],q),ue=Q,xe=I-w[y]-ve,be=I/2-w[y]/2+H,pe=OC(ue,be,xe),j=!c.arrow&&_d(r)!=null&&be!==pe&&i.reference[y]/2-(be<ue?Q:ve)-w[y]/2<0,z=j?be<ue?be-ue:be-xe:0;return{[b]:m[b]+z,data:{[b]:pe,centerOffset:be-pe-z,...j&&{alignmentOffset:z}},reset:j}}}),koe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...x}=$s(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=oi(r),T=Hs(l),M=oi(l)===l,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),O=m||(M||!w?[hy(l)]:Yne(l)),B=y!=="none";!m&&B&&O.push(...Qne(l,w,y,R));const I=[l,...O],H=await US(e,x),q=[];let Q=((o=i.flip)==null?void 0:o.overflows)||[];if(f&&q.push(H[_]),p){const be=Xne(r,s,R);q.push(H[be[0]],H[be[1]])}if(Q=[...Q,{placement:r,overflows:q}],!q.every(be=>be<=0)){var ve,ue;const be=(((ve=i.flip)==null?void 0:ve.index)||0)+1,pe=I[be];if(pe)return{data:{index:be,overflows:Q},reset:{placement:pe}};let j=(ue=Q.filter(z=>z.overflows[0]<=0).sort((z,U)=>z.overflows[1]-U.overflows[1])[0])==null?void 0:ue.placement;if(!j)switch(b){case"bestFit":{var xe;const z=(xe=Q.filter(U=>{if(B){const re=Hs(U.placement);return re===T||re==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(re=>re>0).reduce((re,N)=>re+N,0)]).sort((U,re)=>U[1]-re[1])[0])==null?void 0:xe[0];z&&(j=z);break}case"initialPlacement":j=l;break}if(r!==j)return{reset:{placement:j}}}return{}}}};function d8(t){const e=ni(...t.map(i=>i.left)),n=ni(...t.map(i=>i.top)),o=eo(...t.map(i=>i.right)),r=eo(...t.map(i=>i.bottom));return{x:e,y:n,width:o-e,height:r-n}}function xoe(t){const e=t.slice().sort((r,i)=>r.y-i.y),n=[];let o=null;for(let r=0;r<e.length;r++){const i=e[r];!o||i.y-o.y>o.height/2?n.push([i]):n[n.length-1].push(i),o=i}return n.map(r=>hd(d8(r)))}const Coe=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:o,rects:r,platform:i,strategy:s}=e,{padding:l=2,x:c,y:d}=$s(t,e),f=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(o.reference))||[]),p=xoe(f),m=hd(d8(f)),b=VS(l);function y(){if(p.length===2&&p[0].left>p[1].right&&c!=null&&d!=null)return p.find(x=>c>x.left-b.left&&c<x.right+b.right&&d>x.top-b.top&&d<x.bottom+b.bottom)||m;if(p.length>=2){if(Hs(n)==="y"){const Q=p[0],ve=p[p.length-1],ue=oi(n)==="top",xe=Q.top,be=ve.bottom,pe=ue?Q.left:ve.left,j=ue?Q.right:ve.right,z=j-pe,U=be-xe;return{top:xe,bottom:be,left:pe,right:j,width:z,height:U,x:pe,y:xe}}const x=oi(n)==="left",_=eo(...p.map(Q=>Q.right)),T=ni(...p.map(Q=>Q.left)),M=p.filter(Q=>x?Q.left===T:Q.right===_),R=M[0].top,O=M[M.length-1].bottom,B=T,I=_,H=I-B,q=O-R;return{top:R,bottom:O,left:B,right:I,width:H,height:q,x:B,y:R}}return m}const w=await i.getElementRects({reference:{getBoundingClientRect:y},floating:o.floating,strategy:s});return r.reference.x!==w.reference.x||r.reference.y!==w.reference.y||r.reference.width!==w.reference.width||r.reference.height!==w.reference.height?{reset:{rects:w}}:{}}}};async function _oe(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=oi(n),l=_d(n),c=Hs(n)==="y",d=["left","top"].includes(s)?-1:1,f=i&&c?-1:1,p=$s(e,t);let{mainAxis:m,crossAxis:b,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof y=="number"&&(b=l==="end"?y*-1:y),c?{x:b*f,y:m*d}:{x:m*d,y:b*f}}const Soe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=e,c=await _oe(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:s}}}}},Eoe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:_,y:T}=x;return{x:_,y:T}}},...c}=$s(t,e),d={x:n,y:o},f=await US(e,c),p=Hs(oi(r)),m=$S(p);let b=d[m],y=d[p];if(i){const x=m==="y"?"top":"left",_=m==="y"?"bottom":"right",T=b+f[x],M=b-f[_];b=OC(T,b,M)}if(s){const x=p==="y"?"top":"left",_=p==="y"?"bottom":"right",T=y+f[x],M=y-f[_];y=OC(T,y,M)}const w=l.fn({...e,[m]:b,[p]:y});return{...w,data:{x:w.x-n,y:w.y-o,enabled:{[m]:i,[p]:s}}}}}},Toe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:i,middlewareData:s}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=$s(t,e),f={x:n,y:o},p=Hs(r),m=$S(p);let b=f[m],y=f[p];const w=$s(l,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const M=m==="y"?"height":"width",R=i.reference[m]-i.floating[M]+x.mainAxis,O=i.reference[m]+i.reference[M]-x.mainAxis;b<R?b=R:b>O&&(b=O)}if(d){var _,T;const M=m==="y"?"width":"height",R=["top","left"].includes(oi(r)),O=i.reference[p]-i.floating[M]+(R&&((_=s.offset)==null?void 0:_[p])||0)+(R?0:x.crossAxis),B=i.reference[p]+i.reference[M]+(R?0:((T=s.offset)==null?void 0:T[p])||0)-(R?x.crossAxis:0);y<O?y=O:y>B&&(y=B)}return{[m]:b,[p]:y}}}},Moe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:i,platform:s,elements:l}=e,{apply:c=()=>{},...d}=$s(t,e),f=await US(e,d),p=oi(r),m=_d(r),b=Hs(r)==="y",{width:y,height:w}=i.floating;let x,_;p==="top"||p==="bottom"?(x=p,_=m===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(_=p,x=m==="end"?"top":"bottom");const T=w-f.top-f.bottom,M=y-f.left-f.right,R=ni(w-f[x],T),O=ni(y-f[_],M),B=!e.middlewareData.shift;let I=R,H=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(H=M),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(I=T),B&&!m){const Q=eo(f.left,0),ve=eo(f.right,0),ue=eo(f.top,0),xe=eo(f.bottom,0);b?H=y-2*(Q!==0||ve!==0?Q+ve:eo(f.left,f.right)):I=w-2*(ue!==0||xe!==0?ue+xe:eo(f.top,f.bottom))}await c({...e,availableWidth:H,availableHeight:I});const q=await s.getDimensions(l.floating);return y!==q.width||w!==q.height?{reset:{rects:!0}}:{}}}};function f8(t){const e=jr(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=ar(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,l=fy(n)!==i||fy(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function FS(t){return Ut(t)?t:t.contextElement}function Xu(t){const e=FS(t);if(!ar(e))return Ti(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=f8(e);let s=(i?fy(n.width):n.width)/o,l=(i?fy(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Aoe=Ti(0);function h8(t){const e=$o(t);return!M0()||!e.visualViewport?Aoe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Roe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$o(t)?!1:e}function wc(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=FS(t);let s=Ti(1);e&&(o?Ut(o)&&(s=Xu(o)):s=Xu(t));const l=Roe(i,n,o)?h8(i):Ti(0);let c=(r.left+l.x)/s.x,d=(r.top+l.y)/s.y,f=r.width/s.x,p=r.height/s.y;if(i){const m=$o(i),b=o&&Ut(o)?$o(o):o;let y=m,w=MC(y);for(;w&&o&&b!==y;){const x=Xu(w),_=w.getBoundingClientRect(),T=jr(w),M=_.left+(w.clientLeft+parseFloat(T.paddingLeft))*x.x,R=_.top+(w.clientTop+parseFloat(T.paddingTop))*x.y;c*=x.x,d*=x.y,f*=x.x,p*=x.y,c+=M,d+=R,y=$o(w),w=MC(y)}}return hd({width:f,height:p,x:c,y:d})}function GS(t,e){const n=A0(t).scrollLeft;return e?e.left+n:wc(Vi(t)).left+n}function p8(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),r=o.left+e.scrollLeft-(n?0:GS(t,o)),i=o.top+e.scrollTop;return{x:r,y:i}}function Ooe(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const i=r==="fixed",s=Vi(o),l=e?T0(e.floating):!1;if(o===s||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Ti(1);const f=Ti(0),p=ar(o);if((p||!p&&!i)&&((Cd(o)!=="body"||Ep(s))&&(c=A0(o)),ar(o))){const b=wc(o);d=Xu(o),f.x=b.x+o.clientLeft,f.y=b.y+o.clientTop}const m=s&&!p&&!i?p8(s,c,!0):Ti(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-c.scrollTop*d.y+f.y+m.y}}function Noe(t){return Array.from(t.getClientRects())}function Doe(t){const e=Vi(t),n=A0(t),o=t.ownerDocument.body,r=eo(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=eo(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+GS(t);const l=-n.scrollTop;return jr(o).direction==="rtl"&&(s+=eo(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function Loe(t,e){const n=$o(t),o=Vi(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,c=0;if(r){i=r.width,s=r.height;const d=M0();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:s,x:l,y:c}}function Boe(t,e){const n=wc(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=ar(t)?Xu(t):Ti(1),s=t.clientWidth*i.x,l=t.clientHeight*i.y,c=r*i.x,d=o*i.y;return{width:s,height:l,x:c,y:d}}function b4(t,e,n){let o;if(e==="viewport")o=Loe(t,n);else if(e==="document")o=Doe(Vi(t));else if(Ut(e))o=Boe(e,n);else{const r=h8(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return hd(o)}function m8(t,e){const n=Ps(t);return n===e||!Ut(n)||ta(n)?!1:jr(n).position==="fixed"||m8(n,e)}function Ioe(t,e){const n=e.get(t);if(n)return n;let o=Ls(t,[],!1).filter(l=>Ut(l)&&Cd(l)!=="body"),r=null;const i=jr(t).position==="fixed";let s=i?Ps(t):t;for(;Ut(s)&&!ta(s);){const l=jr(s),c=PS(s);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ep(s)&&!c&&m8(t,s))?o=o.filter(f=>f!==s):r=l,s=Ps(s)}return e.set(t,o),o}function joe(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?T0(e)?[]:Ioe(e,this._c):[].concat(n),o],l=s[0],c=s.reduce((d,f)=>{const p=b4(e,f,r);return d.top=eo(p.top,d.top),d.right=ni(p.right,d.right),d.bottom=ni(p.bottom,d.bottom),d.left=eo(p.left,d.left),d},b4(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Poe(t){const{width:e,height:n}=f8(t);return{width:e,height:n}}function $oe(t,e,n){const o=ar(e),r=Vi(e),i=n==="fixed",s=wc(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Ti(0);if(o||!o&&!i)if((Cd(e)!=="body"||Ep(r))&&(l=A0(e)),o){const m=wc(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else r&&(c.x=GS(r));const d=r&&!o&&!i?p8(r,l):Ti(0),f=s.left+l.scrollLeft-c.x-d.x,p=s.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:s.width,height:s.height}}function _k(t){return jr(t).position==="static"}function y4(t,e){if(!ar(t)||jr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vi(t)===n&&(n=n.ownerDocument.body),n}function g8(t,e){const n=$o(t);if(T0(t))return n;if(!ar(t)){let r=Ps(t);for(;r&&!ta(r);){if(Ut(r)&&!_k(r))return r;r=Ps(r)}return n}let o=y4(t,e);for(;o&&$ne(o)&&_k(o);)o=y4(o,e);return o&&ta(o)&&_k(o)&&!PS(o)?n:o||Hne(t)||n}const Hoe=async function(t){const e=this.getOffsetParent||g8,n=this.getDimensions,o=await n(t.floating);return{reference:$oe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function zoe(t){return jr(t).direction==="rtl"}const Voe={convertOffsetParentRelativeRectToViewportRelativeRect:Ooe,getDocumentElement:Vi,getClippingRect:joe,getOffsetParent:g8,getElementRects:Hoe,getClientRects:Noe,getDimensions:Poe,getScale:Xu,isElement:Ut,isRTL:zoe};function b8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Uoe(t,e){let n=null,o;const r=Vi(t);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:f,top:p,width:m,height:b}=d;if(l||e(),!m||!b)return;const y=xg(p),w=xg(r.clientWidth-(f+m)),x=xg(r.clientHeight-(p+b)),_=xg(f),M={rootMargin:-y+"px "+-w+"px "+-x+"px "+-_+"px",threshold:eo(0,ni(1,c))||1};let R=!0;function O(B){const I=B[0].intersectionRatio;if(I!==c){if(!R)return s();I?s(!1,I):o=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!b8(d,t.getBoundingClientRect())&&s(),R=!1}try{n=new IntersectionObserver(O,{...M,root:r.ownerDocument})}catch{n=new IntersectionObserver(O,M)}n.observe(t)}return s(!0),i}function Foe(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,d=FS(t),f=r||i?[...d?Ls(d):[],...Ls(e)]:[];f.forEach(_=>{r&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const p=d&&l?Uoe(d,n):null;let m=-1,b=null;s&&(b=new ResizeObserver(_=>{let[T]=_;T&&T.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var M;(M=b)==null||M.observe(e)})),n()}),d&&!c&&b.observe(d),b.observe(e));let y,w=c?wc(t):null;c&&x();function x(){const _=wc(t);w&&!b8(w,_)&&n(),w=_,y=requestAnimationFrame(x)}return n(),()=>{var _;f.forEach(T=>{r&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),p==null||p(),(_=b)==null||_.disconnect(),b=null,c&&cancelAnimationFrame(y)}}const Goe=Soe,qoe=Eoe,Koe=koe,Woe=Moe,v4=woe,Zoe=Coe,Xoe=Toe,Yoe=(t,e,n)=>{const o=new Map,r={platform:Voe,...n},i={...r.platform,_c:o};return voe(t,e,{...r,platform:i})};var Yg=typeof document<"u"?S.useLayoutEffect:S.useEffect;function gy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!gy(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!gy(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function y8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function w4(t,e){const n=y8(t);return Math.round(e*n)/n}function Sk(t){const e=S.useRef(t);return Yg(()=>{e.current=t}),e}function Joe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,p]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,b]=S.useState(o);gy(m,o)||b(o);const[y,w]=S.useState(null),[x,_]=S.useState(null),T=S.useCallback(U=>{U!==B.current&&(B.current=U,w(U))},[]),M=S.useCallback(U=>{U!==I.current&&(I.current=U,_(U))},[]),R=i||y,O=s||x,B=S.useRef(null),I=S.useRef(null),H=S.useRef(f),q=c!=null,Q=Sk(c),ve=Sk(r),ue=Sk(d),xe=S.useCallback(()=>{if(!B.current||!I.current)return;const U={placement:e,strategy:n,middleware:m};ve.current&&(U.platform=ve.current),Yoe(B.current,I.current,U).then(re=>{const N={...re,isPositioned:ue.current!==!1};be.current&&!gy(H.current,N)&&(H.current=N,ri.flushSync(()=>{p(N)}))})},[m,e,n,ve,ue]);Yg(()=>{d===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[d]);const be=S.useRef(!1);Yg(()=>(be.current=!0,()=>{be.current=!1}),[]),Yg(()=>{if(R&&(B.current=R),O&&(I.current=O),R&&O){if(Q.current)return Q.current(R,O,xe);xe()}},[R,O,xe,Q,q]);const pe=S.useMemo(()=>({reference:B,floating:I,setReference:T,setFloating:M}),[T,M]),j=S.useMemo(()=>({reference:R,floating:O}),[R,O]),z=S.useMemo(()=>{const U={position:n,left:0,top:0};if(!j.floating)return U;const re=w4(j.floating,f.x),N=w4(j.floating,f.y);return l?{...U,transform:"translate("+re+"px, "+N+"px)",...y8(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:N}},[n,l,j.floating,f.x,f.y]);return S.useMemo(()=>({...f,update:xe,refs:pe,elements:j,floatingStyles:z}),[f,xe,pe,j,z])}const Qoe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?v4({element:o.current,padding:r}).fn(n):{}:o?v4({element:o,padding:r}).fn(n):{}}}},Ui=(t,e)=>({...Goe(t),options:[t,e]}),Tc=(t,e)=>({...qoe(t),options:[t,e]}),k4=(t,e)=>({...Xoe(t),options:[t,e]}),ii=(t,e)=>({...Koe(t),options:[t,e]}),R0=(t,e)=>({...Woe(t),options:[t,e]}),wh=(t,e)=>({...Zoe(t),options:[t,e]}),v8=(t,e)=>({...Qoe(t),options:[t,e]}),w8={...OV},ere=w8.useInsertionEffect,tre=ere||(t=>t());function ws(t){const e=S.useRef(()=>{});return tre(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}var io=typeof document<"u"?S.useLayoutEffect:S.useEffect;function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},LC.apply(this,arguments)}let x4=!1,nre=0;const C4=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+nre++;function ore(){const[t,e]=S.useState(()=>x4?C4():void 0);return io(()=>{t==null&&e(C4())},[]),S.useEffect(()=>{x4=!0},[]),t}const rre=w8.useId,qS=rre||ore;function ire(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(r=>r!==n))||[])}}}const sre=S.createContext(null),lre=S.createContext(null),KS=()=>{var t;return((t=S.useContext(sre))==null?void 0:t.id)||null},WS=()=>S.useContext(lre);function Tp(t){return"data-floating-ui-"+t}function Ka(t){const e=S.useRef(t);return io(()=>{e.current=t}),e}const _4=Tp("safe-polygon");function Jg(t,e,n){return n&&!RC(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function are(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,dataRef:r,events:i,elements:s}=t,{enabled:l=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:p=0,move:m=!0}=e,b=WS(),y=KS(),w=Ka(d),x=Ka(c),_=Ka(n),T=S.useRef(),M=S.useRef(-1),R=S.useRef(),O=S.useRef(-1),B=S.useRef(!0),I=S.useRef(!1),H=S.useRef(()=>{}),q=S.useRef(!1),Q=S.useCallback(()=>{var z;const U=(z=r.current.openEvent)==null?void 0:z.type;return(U==null?void 0:U.includes("mouse"))&&U!=="mousedown"},[r]);S.useEffect(()=>{if(!l)return;function z(U){let{open:re}=U;re||(clearTimeout(M.current),clearTimeout(O.current),B.current=!0,q.current=!1)}return i.on("openchange",z),()=>{i.off("openchange",z)}},[l,i]),S.useEffect(()=>{if(!l||!w.current||!n)return;function z(re){Q()&&o(!1,re,"hover")}const U=Hl(s.floating).documentElement;return U.addEventListener("mouseleave",z),()=>{U.removeEventListener("mouseleave",z)}},[s.floating,n,o,l,w,Q]);const ve=S.useCallback(function(z,U,re){U===void 0&&(U=!0),re===void 0&&(re="hover");const N=Jg(x.current,"close",T.current);N&&!R.current?(clearTimeout(M.current),M.current=window.setTimeout(()=>o(!1,z,re),N)):U&&(clearTimeout(M.current),o(!1,z,re))},[x,o]),ue=ws(()=>{H.current(),R.current=void 0}),xe=ws(()=>{if(I.current){const z=Hl(s.floating).body;z.style.pointerEvents="",z.removeAttribute(_4),I.current=!1}}),be=ws(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);S.useEffect(()=>{if(!l)return;function z(F){if(clearTimeout(M.current),B.current=!1,f&&!RC(T.current)||p>0&&!Jg(x.current,"open"))return;const ne=Jg(x.current,"open",T.current);ne?M.current=window.setTimeout(()=>{_.current||o(!0,F,"hover")},ne):n||o(!0,F,"hover")}function U(F){if(be())return;H.current();const ne=Hl(s.floating);if(clearTimeout(O.current),q.current=!1,w.current&&r.current.floatingContext){n||clearTimeout(M.current),R.current=w.current({...r.current.floatingContext,tree:b,x:F.clientX,y:F.clientY,onClose(){xe(),ue(),be()||ve(F,!0,"safe-polygon")}});const Ee=R.current;ne.addEventListener("mousemove",Ee),H.current=()=>{ne.removeEventListener("mousemove",Ee)};return}(T.current==="touch"?!fd(s.floating,F.relatedTarget):!0)&&ve(F)}function re(F){be()||r.current.floatingContext&&(w.current==null||w.current({...r.current.floatingContext,tree:b,x:F.clientX,y:F.clientY,onClose(){xe(),ue(),be()||ve(F)}})(F))}if(Ut(s.domReference)){var N;const F=s.domReference;return n&&F.addEventListener("mouseleave",re),(N=s.floating)==null||N.addEventListener("mouseleave",re),m&&F.addEventListener("mousemove",z,{once:!0}),F.addEventListener("mouseenter",z),F.addEventListener("mouseleave",U),()=>{var ne;n&&F.removeEventListener("mouseleave",re),(ne=s.floating)==null||ne.removeEventListener("mouseleave",re),m&&F.removeEventListener("mousemove",z),F.removeEventListener("mouseenter",z),F.removeEventListener("mouseleave",U)}}},[s,l,t,f,p,m,ve,ue,xe,o,n,_,b,x,w,r,be]),io(()=>{var z;if(l&&n&&(z=w.current)!=null&&z.__options.blockPointerEvents&&Q()){I.current=!0;const re=s.floating;if(Ut(s.domReference)&&re){var U;const N=Hl(s.floating).body;N.setAttribute(_4,"");const F=s.domReference,ne=b==null||(U=b.nodesRef.current.find(le=>le.id===y))==null||(U=U.context)==null?void 0:U.elements.floating;return ne&&(ne.style.pointerEvents=""),N.style.pointerEvents="none",F.style.pointerEvents="auto",re.style.pointerEvents="auto",()=>{N.style.pointerEvents="",F.style.pointerEvents="",re.style.pointerEvents=""}}}},[l,n,y,s,b,w,Q]),io(()=>{n||(T.current=void 0,q.current=!1,ue(),xe())},[n,ue,xe]),S.useEffect(()=>()=>{ue(),clearTimeout(M.current),clearTimeout(O.current),xe()},[l,s.domReference,ue,xe]);const pe=S.useMemo(()=>{function z(U){T.current=U.pointerType}return{onPointerDown:z,onPointerEnter:z,onMouseMove(U){const{nativeEvent:re}=U;function N(){!B.current&&!_.current&&o(!0,re,"hover")}f&&!RC(T.current)||n||p===0||q.current&&U.movementX**2+U.movementY**2<2||(clearTimeout(O.current),T.current==="touch"?N():(q.current=!0,O.current=window.setTimeout(N,p)))}}},[f,o,n,_,p]),j=S.useMemo(()=>({onMouseEnter(){clearTimeout(M.current)},onMouseLeave(z){be()||ve(z.nativeEvent,!1)}}),[ve,be]);return S.useMemo(()=>l?{reference:pe,floating:j}:{},[l,pe,j])}const BC=()=>{},k8=S.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:BC,setState:BC,isInstantPhase:!1}),cre=()=>S.useContext(k8);function ure(t){const{children:e,delay:n,timeoutMs:o=0}=t,[r,i]=S.useReducer((c,d)=>({...c,...d}),{delay:n,timeoutMs:o,initialDelay:n,currentId:null,isInstantPhase:!1}),s=S.useRef(null),l=S.useCallback(c=>{i({currentId:c})},[]);return io(()=>{r.currentId?s.current===null?s.current=r.currentId:r.isInstantPhase||i({isInstantPhase:!0}):(r.isInstantPhase&&i({isInstantPhase:!1}),s.current=null)},[r.currentId,r.isInstantPhase]),S.createElement(k8.Provider,{value:S.useMemo(()=>({...r,setState:i,setCurrentId:l}),[r,l])},e)}function dre(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,floatingId:r}=t,{id:i,enabled:s=!0}=e,l=i??r,c=cre(),{currentId:d,setCurrentId:f,initialDelay:p,setState:m,timeoutMs:b}=c;return io(()=>{s&&d&&(m({delay:{open:1,close:Jg(p,"close")}}),d!==l&&o(!1))},[s,l,o,m,d,p]),io(()=>{function y(){o(!1),m({delay:p,currentId:null})}if(s&&d&&!n&&d===l){if(b){const w=window.setTimeout(y,b);return()=>{clearTimeout(w)}}y()}},[s,n,m,d,l,o,p,b]),io(()=>{s&&(f===BC||!n||f(l))},[s,n,f,l]),c}function Ek(t,e){let n=t.filter(r=>{var i;return r.parentId===e&&((i=r.context)==null?void 0:i.open)}),o=n;for(;o.length;)o=t.filter(r=>{var i;return(i=o)==null?void 0:i.some(s=>{var l;return r.parentId===s.id&&((l=r.context)==null?void 0:l.open)})}),n=n.concat(o);return n}const x8=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function C8(t,e){const n=c8(t,x8());e==="prev"&&n.reverse();const o=n.indexOf(AC(Hl(t)));return n.slice(o+1)[0]}function fre(){return C8(document.body,"next")}function hre(){return C8(document.body,"prev")}function Tk(t,e){const n=e||t.currentTarget,o=t.relatedTarget;return!o||!fd(n,o)}function pre(t){c8(t,x8()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function S4(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}const _8={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let mre;function E4(t){t.key==="Tab"&&(t.target,clearTimeout(mre))}const T4=S.forwardRef(function(e,n){const[o,r]=S.useState();io(()=>(r8()&&r("button"),document.addEventListener("keydown",E4),()=>{document.removeEventListener("keydown",E4)}),[]);const i={ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[Tp("focus-guard")]:"",style:_8};return S.createElement("span",LC({},e,i))}),S8=S.createContext(null),M4=Tp("portal");function gre(t){t===void 0&&(t={});const{id:e,root:n}=t,o=qS(),r=yre(),[i,s]=S.useState(null),l=S.useRef(null);return io(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{l.current=null})},[i]),io(()=>{if(!o||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=o,d.setAttribute(M4,""),c.appendChild(d),l.current=d,s(d)},[e,o]),io(()=>{if(n===null||!o||l.current)return;let c=n||(r==null?void 0:r.portalNode);c&&!Ut(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const f=document.createElement("div");f.id=o,f.setAttribute(M4,""),c=d||c,c.appendChild(f),l.current=f,s(f)},[e,n,o,r]),i}function bre(t){const{children:e,id:n,root:o,preserveTabOrder:r=!0}=t,i=gre({id:n,root:o}),[s,l]=S.useState(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),p=S.useRef(null),m=s==null?void 0:s.modal,b=s==null?void 0:s.open,y=!!s&&!s.modal&&s.open&&r&&!!(o||i);return S.useEffect(()=>{if(!i||!r||m)return;function w(x){i&&Tk(x)&&(x.type==="focusin"?S4:pre)(i)}return i.addEventListener("focusin",w,!0),i.addEventListener("focusout",w,!0),()=>{i.removeEventListener("focusin",w,!0),i.removeEventListener("focusout",w,!0)}},[i,r,m]),S.useEffect(()=>{i&&(b||S4(i))},[b,i]),S.createElement(S8.Provider,{value:S.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:p,portalNode:i,setFocusManagerState:l}),[r,i])},y&&i&&S.createElement(T4,{"data-type":"outside",ref:c,onFocus:w=>{if(Tk(w,i)){var x;(x=f.current)==null||x.focus()}else{const _=hre()||(s==null?void 0:s.refs.domReference.current);_==null||_.focus()}}}),y&&i&&S.createElement("span",{"aria-owns":i.id,style:_8}),i&&ri.createPortal(e,i),y&&i&&S.createElement(T4,{"data-type":"outside",ref:d,onFocus:w=>{if(Tk(w,i)){var x;(x=p.current)==null||x.focus()}else{const _=fre()||(s==null?void 0:s.refs.domReference.current);_==null||_.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,w.nativeEvent,"focus-out"))}}}))}const yre=()=>S.useContext(S8),vre="data-floating-ui-focusable",wre={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},kre={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},A4=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function E8(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,elements:r,dataRef:i}=t,{enabled:s=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:p="pointerdown",ancestorScroll:m=!1,bubbles:b,capture:y}=e,w=WS(),x=ws(typeof c=="function"?c:()=>!1),_=typeof c=="function"?x:c,T=S.useRef(!1),M=S.useRef(!1),{escapeKey:R,outsidePress:O}=A4(b),{escapeKey:B,outsidePress:I}=A4(y),H=S.useRef(!1),q=ws(pe=>{var j;if(!n||!s||!l||pe.key!=="Escape"||H.current)return;const z=(j=i.current.floatingContext)==null?void 0:j.nodeId,U=w?Ek(w.nodesRef.current,z):[];if(!R&&(pe.stopPropagation(),U.length>0)){let re=!0;if(U.forEach(N=>{var F;if((F=N.context)!=null&&F.open&&!N.context.dataRef.current.__escapeKeyBubbles){re=!1;return}}),!re)return}o(!1,Fne(pe)?pe.nativeEvent:pe,"escape-key")}),Q=ws(pe=>{var j;const z=()=>{var U;q(pe),(U=Ou(pe))==null||U.removeEventListener("keydown",z)};(j=Ou(pe))==null||j.addEventListener("keydown",z)}),ve=ws(pe=>{var j;const z=T.current;T.current=!1;const U=M.current;if(M.current=!1,d==="click"&&U||z||typeof _=="function"&&!_(pe))return;const re=Ou(pe),N="["+Tp("inert")+"]",F=Hl(r.floating).querySelectorAll(N);let ne=Ut(re)?re:null;for(;ne&&!ta(ne);){const Se=Ps(ne);if(ta(Se)||!Ut(Se))break;ne=Se}if(F.length&&Ut(re)&&!Gne(re)&&!fd(re,r.floating)&&Array.from(F).every(Se=>!fd(ne,Se)))return;if(ar(re)&&be){const Se=re.clientWidth>0&&re.scrollWidth>re.clientWidth,it=re.clientHeight>0&&re.scrollHeight>re.clientHeight;let Xe=it&&pe.offsetX>re.clientWidth;if(it&&jr(re).direction==="rtl"&&(Xe=pe.offsetX<=re.offsetWidth-re.clientWidth),Xe||Se&&pe.offsetY>re.clientHeight)return}const le=(j=i.current.floatingContext)==null?void 0:j.nodeId,Ee=w&&Ek(w.nodesRef.current,le).some(Se=>{var it;return Ck(pe,(it=Se.context)==null?void 0:it.elements.floating)});if(Ck(pe,r.floating)||Ck(pe,r.domReference)||Ee)return;const Pe=w?Ek(w.nodesRef.current,le):[];if(Pe.length>0){let Se=!0;if(Pe.forEach(it=>{var Xe;if((Xe=it.context)!=null&&Xe.open&&!it.context.dataRef.current.__outsidePressBubbles){Se=!1;return}}),!Se)return}o(!1,pe,"outside-press")}),ue=ws(pe=>{var j;const z=()=>{var U;ve(pe),(U=Ou(pe))==null||U.removeEventListener(d,z)};(j=Ou(pe))==null||j.addEventListener(d,z)});S.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=R,i.current.__outsidePressBubbles=O;let pe=-1;function j(F){o(!1,F,"ancestor-scroll")}function z(){window.clearTimeout(pe),H.current=!0}function U(){pe=window.setTimeout(()=>{H.current=!1},M0()?5:0)}const re=Hl(r.floating);l&&(re.addEventListener("keydown",B?Q:q,B),re.addEventListener("compositionstart",z),re.addEventListener("compositionend",U)),_&&re.addEventListener(d,I?ue:ve,I);let N=[];return m&&(Ut(r.domReference)&&(N=Ls(r.domReference)),Ut(r.floating)&&(N=N.concat(Ls(r.floating))),!Ut(r.reference)&&r.reference&&r.reference.contextElement&&(N=N.concat(Ls(r.reference.contextElement)))),N=N.filter(F=>{var ne;return F!==((ne=re.defaultView)==null?void 0:ne.visualViewport)}),N.forEach(F=>{F.addEventListener("scroll",j,{passive:!0})}),()=>{l&&(re.removeEventListener("keydown",B?Q:q,B),re.removeEventListener("compositionstart",z),re.removeEventListener("compositionend",U)),_&&re.removeEventListener(d,I?ue:ve,I),N.forEach(F=>{F.removeEventListener("scroll",j)}),window.clearTimeout(pe)}},[i,r,l,_,d,n,o,m,s,R,O,q,B,Q,ve,I,ue]),S.useEffect(()=>{T.current=!1},[_,d]);const xe=S.useMemo(()=>({onKeyDown:q,[wre[p]]:pe=>{f&&o(!1,pe.nativeEvent,"reference-press")}}),[q,o,f,p]),be=S.useMemo(()=>({onKeyDown:q,onMouseDown(){M.current=!0},onMouseUp(){M.current=!0},[kre[d]]:()=>{T.current=!0}}),[q,d]);return S.useMemo(()=>s?{reference:xe,floating:be}:{},[s,xe,be])}function xre(t){const{open:e=!1,onOpenChange:n,elements:o}=t,r=qS(),i=S.useRef({}),[s]=S.useState(()=>ire()),l=KS()!=null,[c,d]=S.useState(o.reference),f=ws((b,y,w)=>{i.current.openEvent=b?y:void 0,s.emit("openchange",{open:b,event:y,reason:w,nested:l}),n==null||n(b,y,w)}),p=S.useMemo(()=>({setPositionReference:d}),[]),m=S.useMemo(()=>({reference:c||o.reference||null,floating:o.floating||null,domReference:o.reference}),[c,o.reference,o.floating]);return S.useMemo(()=>({dataRef:i,open:e,onOpenChange:f,elements:m,events:s,floatingId:r,refs:p}),[e,f,m,s,r,p])}function Sd(t){t===void 0&&(t={});const{nodeId:e}=t,n=xre({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,r=o.elements,[i,s]=S.useState(null),[l,c]=S.useState(null),f=(r==null?void 0:r.domReference)||i,p=S.useRef(null),m=WS();io(()=>{f&&(p.current=f)},[f]);const b=Joe({...t,elements:{...r,...l&&{reference:l}}}),y=S.useCallback(M=>{const R=Ut(M)?{getBoundingClientRect:()=>M.getBoundingClientRect(),contextElement:M}:M;c(R),b.refs.setReference(R)},[b.refs]),w=S.useCallback(M=>{(Ut(M)||M===null)&&(p.current=M,s(M)),(Ut(b.refs.reference.current)||b.refs.reference.current===null||M!==null&&!Ut(M))&&b.refs.setReference(M)},[b.refs]),x=S.useMemo(()=>({...b.refs,setReference:w,setPositionReference:y,domReference:p}),[b.refs,w,y]),_=S.useMemo(()=>({...b.elements,domReference:f}),[b.elements,f]),T=S.useMemo(()=>({...b,...o,refs:x,elements:_,nodeId:e}),[b,x,_,e,o]);return io(()=>{o.dataRef.current.floatingContext=T;const M=m==null?void 0:m.nodesRef.current.find(R=>R.id===e);M&&(M.context=T)}),S.useMemo(()=>({...b,context:T,refs:x,elements:_}),[b,x,_,T])}function Cre(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,events:r,dataRef:i,elements:s}=t,{enabled:l=!0,visibleOnly:c=!0}=e,d=S.useRef(!1),f=S.useRef(),p=S.useRef(!0);S.useEffect(()=>{if(!l)return;const b=$o(s.domReference);function y(){!n&&ar(s.domReference)&&s.domReference===AC(Hl(s.domReference))&&(d.current=!0)}function w(){p.current=!0}return b.addEventListener("blur",y),b.addEventListener("keydown",w,!0),()=>{b.removeEventListener("blur",y),b.removeEventListener("keydown",w,!0)}},[s.domReference,n,l]),S.useEffect(()=>{if(!l)return;function b(y){let{reason:w}=y;(w==="reference-press"||w==="escape-key")&&(d.current=!0)}return r.on("openchange",b),()=>{r.off("openchange",b)}},[r,l]),S.useEffect(()=>()=>{clearTimeout(f.current)},[]);const m=S.useMemo(()=>({onPointerDown(b){zne(b.nativeEvent)||(p.current=!1)},onMouseLeave(){d.current=!1},onFocus(b){if(d.current)return;const y=Ou(b.nativeEvent);if(c&&Ut(y))try{if(r8()&&Vne())throw Error();if(!y.matches(":focus-visible"))return}catch{if(!p.current&&!Kne(y))return}o(!0,b.nativeEvent,"focus")},onBlur(b){d.current=!1;const y=b.relatedTarget,w=b.nativeEvent,x=Ut(y)&&y.hasAttribute(Tp("focus-guard"))&&y.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var _;const T=AC(s.domReference?s.domReference.ownerDocument:document);!y&&T===s.domReference||fd((_=i.current.floatingContext)==null?void 0:_.refs.floating.current,T)||fd(s.domReference,T)||x||o(!1,w,"focus")})}}),[i,s.domReference,o,c]);return S.useMemo(()=>l?{reference:m}:{},[l,m])}const R4="active",O4="selected";function Mk(t,e,n){const o=new Map,r=n==="item";let i=t;if(r&&t){const{[R4]:s,[O4]:l,...c}=t;i=c}return{...n==="floating"&&{tabIndex:-1,[vre]:""},...i,...e.map(s=>{const l=s?s[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((s,l)=>(l&&Object.entries(l).forEach(c=>{let[d,f]=c;if(!(r&&[R4,O4].includes(d)))if(d.indexOf("on")===0){if(o.has(d)||o.set(d,[]),typeof f=="function"){var p;(p=o.get(d))==null||p.push(f),s[d]=function(){for(var m,b=arguments.length,y=new Array(b),w=0;w<b;w++)y[w]=arguments[w];return(m=o.get(d))==null?void 0:m.map(x=>x(...y)).find(x=>x!==void 0)}}}else s[d]=f}),s),{})}}function T8(t){t===void 0&&(t=[]);const e=t.map(l=>l==null?void 0:l.reference),n=t.map(l=>l==null?void 0:l.floating),o=t.map(l=>l==null?void 0:l.item),r=S.useCallback(l=>Mk(l,t,"reference"),e),i=S.useCallback(l=>Mk(l,t,"floating"),n),s=S.useCallback(l=>Mk(l,t,"item"),o);return S.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}const _re=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Sre(t,e){var n;e===void 0&&(e={});const{open:o,floatingId:r}=t,{enabled:i=!0,role:s="dialog"}=e,l=(n=_re.get(s))!=null?n:s,c=qS(),f=KS()!=null,p=S.useMemo(()=>l==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:o?r:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":l==="alertdialog"?"dialog":l,"aria-controls":o?r:void 0,...l==="listbox"&&{role:"combobox"},...l==="menu"&&{id:c},...l==="menu"&&f&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[l,r,f,o,c,s]),m=S.useMemo(()=>{const y={id:r,...l&&{role:l}};return l==="tooltip"||s==="label"?y:{...y,...l==="menu"&&{"aria-labelledby":c}}},[l,r,c,s]),b=S.useCallback(y=>{let{active:w,selected:x}=y;const _={role:"option",...w&&{id:r+"-option"}};switch(s){case"select":return{..._,"aria-selected":w&&x};case"combobox":return{..._,...w&&{"aria-selected":!0}}}return{}},[r,s]);return S.useMemo(()=>i?{reference:p,floating:m,item:b}:{},[i,p,m,b])}const N4=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function wu(t,e){return typeof t=="function"?t(e):t}function Ere(t,e){const[n,o]=S.useState(t);return t&&!n&&o(!0),S.useEffect(()=>{if(!t&&n){const r=setTimeout(()=>o(!1),e);return()=>clearTimeout(r)}},[t,n,e]),n}function Tre(t,e){e===void 0&&(e={});const{open:n,elements:{floating:o}}=t,{duration:r=250}=e,s=(typeof r=="number"?r:r.close)||0,[l,c]=S.useState("unmounted"),d=Ere(n,s);return!d&&l==="close"&&c("unmounted"),io(()=>{if(o){if(n){c("initial");const f=requestAnimationFrame(()=>{c("open")});return()=>{cancelAnimationFrame(f)}}c("close")}},[n,o]),{isMounted:d,status:l}}function ZS(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:o,close:r,common:i,duration:s=250}=e,l=t.placement,c=l.split("-")[0],d=S.useMemo(()=>({side:c,placement:l}),[c,l]),f=typeof s=="number",p=(f?s:s.open)||0,m=(f?s:s.close)||0,[b,y]=S.useState(()=>({...wu(i,d),...wu(n,d)})),{isMounted:w,status:x}=Tre(t,{duration:s}),_=Ka(n),T=Ka(o),M=Ka(r),R=Ka(i);return io(()=>{const O=wu(_.current,d),B=wu(M.current,d),I=wu(R.current,d),H=wu(T.current,d)||Object.keys(O).reduce((q,Q)=>(q[Q]="",q),{});if(x==="initial"&&y(q=>({transitionProperty:q.transitionProperty,...I,...O})),x==="open"&&y({transitionProperty:Object.keys(H).map(N4).join(","),transitionDuration:p+"ms",...I,...H}),x==="close"){const q=B||O;y({transitionProperty:Object.keys(q).map(N4).join(","),transitionDuration:m+"ms",...I,...q})}},[m,M,_,T,R,p,x,d]),{isMounted:w,styles:b}}var M8={exports:{}},Ak={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4;function Mre(){if(D4)return Ak;D4=1;var t=Fe;function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,r=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function l(p,m){var b=m(),y=o({inst:{value:b,getSnapshot:m}}),w=y[0].inst,x=y[1];return i(function(){w.value=b,w.getSnapshot=m,c(w)&&x({inst:w})},[p,b,m]),r(function(){return c(w)&&x({inst:w}),p(function(){c(w)&&x({inst:w})})},[p]),s(b),b}function c(p){var m=p.getSnapshot;p=p.value;try{var b=m();return!n(p,b)}catch{return!0}}function d(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Ak.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Ak}M8.exports=Mre();var A8=M8.exports;const Are=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Rre=({contentComponent:t})=>{const e=A8.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Fe.createElement(Fe.Fragment,null,Object.values(e))};function Ore(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,o){e={...e,[n]:u8.createPortal(o.reactElement,o.element,n)},t.forEach(r=>r())},removeRenderer(n){const o={...e};delete o[n],e=o,t.forEach(r=>r())}}}class Nre extends Fe.Component{constructor(e){var n;super(e),this.editorContentRef=Fe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Ore(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(o=>o.hasContentComponentInitialized?o:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...o}=this.props;return Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:Are(n,this.editorContentRef),...o}),(e==null?void 0:e.contentComponent)&&Fe.createElement(Rre,{contentComponent:e.contentComponent}))}}const Dre=S.forwardRef((t,e)=>{const n=Fe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Fe.createElement(Nre,{key:n,innerRef:e,...t})});Fe.memo(Dre);var Rk={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4;function Lre(){if(L4)return Rk;L4=1;var t=Fe,e=A8;function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var o=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Rk.useSyncExternalStoreWithSelector=function(d,f,p,m,b){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=l(function(){function _(B){if(!T){if(T=!0,M=B,B=m(B),b!==void 0&&w.hasValue){var I=w.value;if(b(I,B))return R=I}return R=B}if(I=R,o(M,B))return I;var H=m(B);return b!==void 0&&b(I,H)?I:(M=B,R=H)}var T=!1,M,R,O=p===void 0?null:p;return[function(){return _(f())},O===null?void 0:function(){return _(O())}]},[f,p,m,b]);var x=r(d,y[0],y[1]);return s(function(){w.hasValue=!0,w.value=x},[x]),c(x),x},Rk}Lre();const Bre=S.createContext({editor:null});Bre.Consumer;const R8=S.createContext({onDragStart:void 0}),O8=()=>S.useContext(R8),Ire=Fe.forwardRef((t,e)=>{const{onDragStart:n}=O8(),o=t.as||"div";return Fe.createElement(o,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function jre(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function Pre(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class $re{constructor(e,{editor:n,props:o={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=o,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?ri.flushSync(()=>{this.render()}):this.render()}render(){var e;const n=this.component,o=this.props,r=this.editor;(jre(n)||Pre(n))&&(o.ref=i=>{this.ref=i}),this.reactElement=Fe.createElement(n,{...o}),(e=r==null?void 0:r.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class Hre extends kK{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(d={})=>this.updateAttributes(d),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const d=f=>f.charAt(0).toUpperCase()+f.substring(1);this.component.displayName=d(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:d=>{d&&this.contentDOMElement&&d.firstChild!==this.contentDOMElement&&d.appendChild(this.contentDOMElement)}},i=this.component,s=Fe.memo(d=>Fe.createElement(R8.Provider,{value:r},Fe.createElement(i,d)));s.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);const{className:c=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new $re(s,{editor:this.editor,props:e,as:l,className:`node-${this.node.type.name} ${c}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,o=this.getPos();if(typeof o=="number")if(e<=o&&n>=o+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,o){const r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,s=this.decorations,l=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=o,this.options.update({oldNode:i,oldDecorations:s,newNode:e,newDecorations:n,oldInnerDecorations:l,innerDecorations:o,updateProps:()=>r({node:e,decorations:n,innerDecorations:o})})}return e===this.node&&this.decorations===n&&this.innerDecorations===o||(this.node=e,this.decorations=n,this.innerDecorations=o,r({node:e,decorations:n,innerDecorations:o})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,o=xb(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:o})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function zre(t,e){return n=>n.editor.contentComponent?new Hre(t,n,e):{}}const N8=S.createContext(void 0);function Fi(t){return S.useContext(N8)}function Ie(t){const e=Fi();if(!(e!=null&&e.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return e.editor}function XS(t,e,n){const o=Fi();e||(e=o==null?void 0:o.editor),S.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onSelectionChange(t,n)},[t,e,n])}function Vre(t,e){const n=Ie();e=e||n;const[o,r]=S.useState(()=>{if(t)return e.getSelectionBoundingBox()}),i=S.useCallback(()=>{if(!t)return;const s=e.getSelectionBoundingBox();r(s)},[e,t]);return XS(i,e,!0),S.useEffect(()=>{r(t?e.getSelectionBoundingBox():void 0)},[t,e]),o}function aa(t,e,n,o){const{refs:r,update:i,context:s,floatingStyles:l}=Sd({open:t,...o}),{isMounted:c,styles:d}=ZS(s),f=E8(s),{getReferenceProps:p,getFloatingProps:m}=T8([f]);return S.useEffect(()=>{i()},[e,i]),S.useEffect(()=>{e!==null&&r.setReference({getBoundingClientRect:()=>e})},[e,r]),S.useMemo(()=>({isMounted:c,ref:r.setFloating,setReference:r.setReference,style:{display:"flex",...d,...l,zIndex:n},getFloatingProps:m,getReferenceProps:p}),[l,c,r.setFloating,r.setReference,d,n,m,p])}function qs(t){const[e,n]=S.useState();return S.useEffect(()=>t(o=>{n({...o})}),[t]),e}const D8=S.createContext(void 0);function Le(){return S.useContext(D8)}const O0=(t={},e=[])=>S.useMemo(()=>{const n=Bne.create(t);return window&&(window.ProseMirror=n._tiptapEditor),n},e);function et(){return Fi().editor.dictionary}function YS(t,e){const n=Fi();e||(e=n==null?void 0:n.editor),S.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onChange(t)},[t,e])}const JS=t=>{const[e,n]=S.useState(!1),[o,r]=S.useState(t.editor.isEmpty),i=Le();YS(()=>{r(t.editor.isEmpty)},t.editor);const s=S.useCallback(()=>{n(!0)},[]),l=S.useCallback(()=>{n(!1)},[]);return S.useEffect(()=>{t.editable&&t.autoFocus&&t.editor.focus()},[t.autoFocus,t.editable,t.editor]),C.jsxs(C.Fragment,{children:[C.jsx(i.Comments.Editor,{autoFocus:t.autoFocus,className:"bn-comment-editor",editor:t.editor,onFocus:s,onBlur:l,editable:t.editable}),t.actions&&C.jsx("div",{className:"bn-comment-actions-wrapper",children:C.jsx(t.actions,{isFocused:e,isEmpty:o})})]})},Ure=li(Uo(DS.paragraph.implementation.node.config),{}),{textColor:Fye,backgroundColor:Gye,...Fre}=LS,QS=xd.create({blockSpecs:{paragraph:Ure},styleSpecs:Fre});function Gre(){const t=Ie();if(!t.comments)throw new Error("Comments plugin not found");const e=t.comments,n=Le(),o=et(),r=O0({trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.new_comment}},schema:QS,sideMenuDetection:"editor"});return C.jsx(n.Comments.Card,{className:"bn-thread",children:C.jsx(JS,{autoFocus:!0,editable:!0,editor:r,actions:({isEmpty:i})=>C.jsx(n.Generic.Toolbar.Root,{className:dn("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:C.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:i,onClick:async()=>{await e.createThread({initialComment:{body:r.document}}),e.stopPendingComment()},children:"Save"})})})})}const qre=t=>{const e=Ie();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=e.comments;S.useEffect(()=>{const f=n.onUpdate(p=>e.setForceSelectionVisible(p.pendingComment));return()=>f()},[n,e]);const o=qs(n.onUpdate.bind(n)),r=Vre(o==null?void 0:o.pendingComment),{isMounted:i,ref:s,style:l,getFloatingProps:c}=aa((o==null?void 0:o.pendingComment)||!1,r||null,5e3,{placement:"bottom",middleware:[Ui(10),Tc(),ii()],onOpenChange:f=>{f||(n.stopPendingComment(),e.focus())},...t.floatingOptions});if(!i||!o)return null;const d=t.floatingComposer||Gre;return C.jsx("div",{ref:s,style:l,...c(),children:C.jsx(d,{})})};var L8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B4=Fe.createContext&&Fe.createContext(L8),Kre=["attr","size","title"];function Wre(t,e){if(t==null)return{};var n=Zre(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Zre(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},by.apply(this,arguments)}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(o){Xre(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Xre(t,e,n){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Jre(t,"string");return typeof e=="symbol"?e:e+""}function Jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B8(t){return t&&t.map((e,n)=>Fe.createElement(e.tag,yy({key:n},e.attr),B8(e.child)))}function Ve(t){return e=>Fe.createElement(Qre,by({attr:yy({},t.attr)},e),B8(t.child))}function Qre(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=Wre(t,Kre),l=r||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Fe.createElement("svg",by({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:c,style:yy(yy({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Fe.createElement("title",null,i),t.children)};return B4!==void 0?Fe.createElement(B4.Consumer,null,n=>e(n)):e(L8)}function eie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(t)}function I8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(t)}function tie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(t)}function nie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(t)}function eE(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(t)}function oie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(t)}function rie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(t)}function iie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(t)}function sie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(t)}function lie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(t)}function aie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(t)}function j4(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(t)}function j8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(t)}function P8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(t)}function $8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(t)}function cie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(t)}function uie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(t)}function P4(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(t)}function die(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(t)}function fie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(t)}function H8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(t)}function z8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(t)}function V8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function U8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function hie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(t)}function pie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(t)}function F8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(t)}function mie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(t)}function gie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(t)}function tE(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(t)}function bie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(t)}function yie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(t)}function G8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(t)}function vie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(t)}function wie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(t)}function kie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z"},child:[]}]})(t)}function q8(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(t)}function xie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(t)}function Cie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(t)}function _ie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function Sie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function Eie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(t)}function Tie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(t)}function Mie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(t)}function Aie(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(t)}function $4(t){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(t)}let Ok;async function Rie(){return Ok||(Ok=(async()=>{const[t,e]=await Promise.all([we(()=>import("./module-BvCTiNll.js"),[]),we(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in t?t.default:t,o="default"in e?e.default:e;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),Ok)}function Oie(t){const e=S.useRef(null),n=S.useRef(null);return n.current&&n.current.update(t),S.useEffect(()=>((async()=>{const{emojiMart:o}=await Rie();n.current=new o.Picker({...t,ref:e})})(),()=>{n.current=null}),[]),Fe.createElement("div",{ref:e})}const H4=t=>{const[e,n]=S.useState(!1),o=Le(),r=Fi();return C.jsxs(o.Generic.Popover.Root,{opened:e,children:[C.jsx(o.Generic.Popover.Trigger,{children:C.jsx("div",{onClick:i=>{i.preventDefault(),i.stopPropagation(),n(!e)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.children})}),C.jsx(o.Generic.Popover.Content,{variant:"panel-popover",children:C.jsx(Oie,{perLine:7,onClickOutside:()=>n(!1),onEmojiSelect:i=>{t.onEmojiSelect(i),n(!1)},theme:r==null?void 0:r.colorSchemePreference})})]})};function Nie(t,e){return nE(t,[e]).get(e)}function nE(t,e){const n=t.comments;if(!n)throw new Error("Comments plugin not found");const o=n.userStore,r=S.useCallback(()=>{const l=new Map;for(const c of e){const d=o.getUser(c);d&&l.set(c,d)}return l},[o,e]),i=S.useMemo(()=>({current:r()}),[r]),s=S.useCallback(l=>{const c=o.subscribe(d=>{i.current=r(),l()});return o.loadUsers(e),c},[o,r,e,i]);return S.useSyncExternalStore(s,()=>i.current)}const Die=t=>{const e=Le(),n=et(),o=Ie();if(!o.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const r=t.comment.reactions.find(c=>c.emoji===t.emoji);if(!r)throw new Error("Trying to render reaction badge for non-existing reaction");const[i,s]=S.useState([]),l=nE(o,i);return C.jsx(e.Generic.Badge.Root,{className:dn("bn-badge","bn-comment-reaction"),text:r.userIds.length.toString(),icon:r.emoji,isSelected:o.comments.threadStore.auth.canDeleteReaction(t.comment,r.emoji),onClick:()=>t.onReactionSelect(r.emoji),onMouseEnter:()=>s(r.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(l.values()).map(c=>c.username).join(`
`)}`},r.emoji)},Lie=({comment:t,thread:e,showResolveButton:n})=>{const o=et(),r=O0({initialContent:t.body,trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.edit_comment}},schema:QS,sideMenuDetection:"editor"},[t.body]),i=Le(),[s,l]=S.useState(!1),c=Ie();if(!c.comments)throw new Error("Comments plugin not found");const d=c.comments.threadStore,f=S.useCallback(()=>{l(!0)},[]),p=S.useCallback(()=>{r.replaceBlocks(r.document,t.body),l(!1)},[r,t.body]),m=S.useCallback(async H=>{await d.updateComment({commentId:t.id,comment:{body:r.document},threadId:e.id}),l(!1)},[t,e.id,r,d]),b=S.useCallback(async()=>{await d.deleteComment({commentId:t.id,threadId:e.id})},[t,e.id,d]),y=S.useCallback(async H=>{d.auth.canAddReaction(t,H)?await d.addReaction({threadId:e.id,commentId:t.id,emoji:H}):d.auth.canDeleteReaction(t,H)&&await d.deleteReaction({threadId:e.id,commentId:t.id,emoji:H})},[d,t,e.id]),w=S.useCallback(async()=>{await d.resolveThread({threadId:e.id})},[e.id,d]),x=S.useCallback(async()=>{await d.unresolveThread({threadId:e.id})},[e.id,d]),_=Nie(c,t.userId);if(!t.body)return null;let T;const M=d.auth.canAddReaction(t),R=d.auth.canDeleteComment(t),O=d.auth.canUpdateComment(t),B=n&&(e.resolved?d.auth.canUnresolveThread(e):d.auth.canResolveThread(e));s||(T=C.jsxs(i.Generic.Toolbar.Root,{className:dn("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[M&&C.jsx(H4,{onEmojiSelect:H=>y(H.native),children:C.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.add_reaction,variant:"compact",children:C.jsx($4,{size:16})},"add-reaction")}),B&&(e.resolved?C.jsx(i.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:x,children:C.jsx(eie,{size:16})},"reopen"):C.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.resolve,variant:"compact",onClick:w,children:C.jsx(Cie,{size:16})},"resolve")),(R||O)&&C.jsxs(i.Generic.Menu.Root,{position:"bottom-start",children:[C.jsx(i.Generic.Menu.Trigger,{children:C.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.more_actions,variant:"compact",children:C.jsx(Mie,{size:16})},"more-actions")}),C.jsxs(i.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[O&&C.jsx(i.Generic.Menu.Item,{icon:C.jsx(tie,{}),onClick:f,children:o.comments.actions.edit_comment},"edit-comment"),R&&C.jsx(i.Generic.Menu.Item,{icon:C.jsx(Sie,{}),onClick:b,children:o.comments.actions.delete_comment},"delete-comment")]})]})]}));const I=t.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!t.body)throw new Error("soft deletes are not yet supported");return C.jsx(i.Comments.Comment,{authorInfo:_??"loading",timeString:I,edited:t.updatedAt.getTime()!==t.createdAt.getTime(),showActions:"hover",actions:T,className:"bn-thread-comment",children:C.jsx(JS,{autoFocus:s,editor:r,editable:s,actions:t.reactions.length>0||s?({isEmpty:H})=>C.jsxs(C.Fragment,{children:[t.reactions.length>0&&!s&&C.jsxs(i.Generic.Badge.Group,{className:dn("bn-badge-group","bn-comment-reactions"),children:[t.reactions.map(q=>C.jsx(Die,{comment:t,emoji:q.emoji,onReactionSelect:y},q.emoji)),C.jsx(H4,{onEmojiSelect:q=>y(q.native),children:C.jsx(i.Generic.Badge.Root,{className:dn("bn-badge","bn-comment-add-reaction"),text:"+",icon:C.jsx($4,{size:16}),mainTooltip:o.comments.actions.add_reaction})})]}),s&&C.jsxs(i.Generic.Toolbar.Root,{variant:"action-toolbar",className:dn("bn-action-toolbar","bn-comment-actions"),children:[C.jsx(i.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",onClick:m,isDisabled:H,children:"Save"}),C.jsx(i.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Cancel",variant:"compact",onClick:p,children:"Cancel"})]})]}):void 0})})},Bie=({thread:t,maxCommentsBeforeCollapse:e})=>{const n=Le(),o=et(),r=Ie(),i=nE(r,t.resolvedBy?[t.resolvedBy]:[]),s=t.comments.map((l,c)=>C.jsx(Lie,{thread:t,comment:l,showResolveButton:c===0},l.id));if(t.resolved&&t.resolvedUpdatedAt&&t.resolvedBy){if(!i.get(t.resolvedBy))throw new Error(`User ${t.resolvedBy} resolved thread ${t.id}, but their data could not be found.`);const l=t.comments.findLastIndex(c=>t.resolvedUpdatedAt.getTime()>c.createdAt.getTime())+1;s.splice(l,0,C.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:t.resolvedBy&&i.get(t.resolvedBy)||"loading",timeString:t.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:C.jsx("div",{className:"bn-resolved-text",children:o.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return e&&s.length>e&&s.splice(1,s.length-2,C.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:o.comments.sidebar.more_replies(t.comments.length-2)},"expand-prompt")),s},K8=({thread:t,selected:e,referenceText:n,maxCommentsBeforeCollapse:o,onFocus:r,onBlur:i,tabIndex:s})=>{const l=Le(),c=et(),d=Ie().comments;if(!d)throw new Error("Comments plugin not found");const f=O0({trailingBlock:!1,dictionary:{...c,placeholders:{emptyDocument:c.placeholders.comment_reply}},schema:QS,sideMenuDetection:"editor"}),p=S.useCallback(async()=>{await d.threadStore.addComment({comment:{body:f.document},threadId:t.id}),f.removeBlocks(f.document)},[d,f,t.id]);return C.jsxs(l.Comments.Card,{className:"bn-thread",headerText:n,onFocus:r,onBlur:i,selected:e,tabIndex:s,children:[C.jsx(l.Comments.CardSection,{className:"bn-thread-comments",children:C.jsx(Bie,{thread:t,maxCommentsBeforeCollapse:e?void 0:o||5})}),e&&C.jsx(l.Comments.CardSection,{className:"bn-thread-composer",children:C.jsx(JS,{autoFocus:!1,editable:!0,editor:f,actions:({isEmpty:m})=>m?null:C.jsx(l.Generic.Toolbar.Root,{variant:"action-toolbar",className:dn("bn-action-toolbar","bn-comment-actions"),children:C.jsx(l.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",isDisabled:m,onClick:p,children:"Save"})})})})]})};function Iie(t){const e=t.comments;if(!e)throw new Error("Comments plugin not found");const n=e.threadStore,o=S.useRef();o.current||(o.current=n.getThreads());const r=S.useCallback(i=>n.subscribe(s=>{o.current=s,i()}),[n]);return S.useSyncExternalStore(r,()=>o.current)}const jie=t=>{const e=Ie();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=qs(e.comments.onUpdate.bind(e.comments)),{isMounted:o,ref:r,style:i,getFloatingProps:s,setReference:l}=aa(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[Ui(10),Tc(),ii()],onOpenChange:p=>{var m;p||((m=e.comments)==null||m.selectThread(void 0),e.focus())},...t.floatingOptions}),c=S.useCallback(()=>{var p;if(!(n!=null&&n.selectedThreadId))return;const m=(p=e.domElement)==null?void 0:p.querySelector(`[data-bn-thread-id="${n==null?void 0:n.selectedThreadId}"]`);m&&l(m)},[l,e,n==null?void 0:n.selectedThreadId]);S.useEffect(()=>{if(n!=null&&n.selectedThreadId)return e.onChange(()=>{c()})},[e,c,n==null?void 0:n.selectedThreadId]),S.useLayoutEffect(c,[c]);const d=Iie(e);if(!o||!n||!n.selectedThreadId)return null;const f=t.floatingThread||K8;return C.jsx("div",{ref:r,style:i,...s(),children:C.jsx(f,{thread:d.get(n.selectedThreadId),selected:!0})})},Pie=t=>{const e=Le(),n=et(),{block:o}=t,r=Ie(),[i,s]=S.useState(""),l=S.useCallback(f=>{s(f.currentTarget.value)},[]),c=S.useCallback(f=>{f.key==="Enter"&&(f.preventDefault(),r.updateBlock(o,{props:{name:qN(i),url:i}}))},[r,o,i]),d=S.useCallback(()=>{r.updateBlock(o,{props:{name:qN(i),url:i}})},[r,o,i]);return C.jsxs(e.FilePanel.TabPanel,{className:"bn-tab-panel",children:[C.jsx(e.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:i,onChange:l,onKeyDown:c,"data-test":"embed-input"}),C.jsx(e.FilePanel.Button,{className:"bn-button",onClick:d,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[o.type]||n.file_panel.embed.embed_button.file})]})},$ie=t=>{var e;const n=Le(),o=et(),{block:r,setLoading:i}=t,s=Ie(),[l,c]=S.useState(!1);S.useEffect(()=>{l&&setTimeout(()=>{c(!1)},3e3)},[l]);const d=S.useCallback(m=>{if(m===null)return;async function b(y){if(i(!0),s.uploadFile!==void 0)try{let w=await s.uploadFile(y);typeof w=="string"&&(w={props:{name:y.name,url:w}}),s.updateBlock(r,w)}catch{c(!0)}finally{i(!1)}}b(m)},[r,s,i]),f=s.schema.blockSchema[r.type],p=f.isFileBlock&&(e=f.fileBlockAccept)!=null&&e.length?f.fileBlockAccept.join(","):"*/*";return C.jsxs(n.FilePanel.TabPanel,{className:"bn-tab-panel",children:[C.jsx(n.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:p,placeholder:o.file_panel.upload.file_placeholder[r.type]||o.file_panel.upload.file_placeholder.file,value:null,onChange:d}),l&&C.jsx("div",{className:"bn-error-text",children:o.file_panel.upload.upload_error})]})},W8=t=>{const e=Le(),n=et(),o=Ie(),[r,i]=S.useState(!1),s=t.tabs??[...o.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:C.jsx($ie,{block:t.block,setLoading:i})}]:[],{name:n.file_panel.embed.title,tabPanel:C.jsx(Pie,{block:t.block})}],[l,c]=S.useState(t.defaultOpenTab||s[0].name);return C.jsx(e.FilePanel.Root,{className:"bn-panel",defaultOpenTab:l,openTab:l,setOpenTab:c,tabs:s,loading:r})},Hie=t=>{const e=Ie();if(!e.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=qs(e.filePanel.onUpdate.bind(e.filePanel)),{isMounted:o,ref:r,style:i,getFloatingProps:s}=aa((n==null?void 0:n.show)||!1,(n==null?void 0:n.referencePos)||null,5e3,{placement:"bottom",middleware:[Ui(10),ii()],onOpenChange:p=>{p||(e.filePanel.closeMenu(),e.focus())},...t.floatingOptions});if(!o||!n)return null;const{show:l,referencePos:c,...d}=n,f=t.filePanel||W8;return C.jsx("div",{ref:r,style:i,...s(),children:C.jsx(f,{...d})})};function ca(t,e){YS(t,e),XS(t,e)}function oE(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function Fo(t){const e=Fi();if(t||(t=e==null?void 0:e.editor),!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=t,[o,r]=S.useState(()=>{var i;return((i=n.getSelection())==null?void 0:i.blocks)||[n.getTextCursorPosition().block]});return ca(()=>{var i;return r(((i=n.getSelection())==null?void 0:i.blocks)||[n.getTextCursorPosition().block])},n),o}const zie={bold:lie,italic:die,underline:bie,strike:mie,code:nie};function Vie(t,e){return t in e.schema.styleSchema&&e.schema.styleSchema[t].type===t&&e.schema.styleSchema[t].propSchema==="boolean"}const Cg=t=>{const e=et(),n=Le(),o=Ie(),r=Vie(t.basicTextStyle,o),i=Fo(o),[s,l]=S.useState(t.basicTextStyle in o.getActiveStyles());ca(()=>{r&&l(t.basicTextStyle in o.getActiveStyles())},o);const c=f=>{if(o.focus(),!!r){if(o.schema.styleSchema[f].propSchema!=="boolean")throw new Error("can only toggle boolean styles");o.toggleStyles({[f]:!0})}};if(!S.useMemo(()=>r?!!i.find(f=>f.content!==void 0):!1,[r,i])||!o.isEditable)return null;const d=zie[t.basicTextStyle];return C.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":t.basicTextStyle,onClick:()=>c(t.basicTextStyle),isSelected:s,label:e.formatting_toolbar[t.basicTextStyle].tooltip,mainTooltip:e.formatting_toolbar[t.basicTextStyle].tooltip,secondaryTooltip:Er(e.formatting_toolbar[t.basicTextStyle].secondary_tooltip,e.generic.ctrl_shortcut),icon:C.jsx(d,{})})},IC=t=>{const e=t.textColor||"default",n=t.backgroundColor||"default",o=t.size||16,r=S.useMemo(()=>({pointerEvents:"none",fontSize:(o*.75).toString()+"px",height:o.toString()+"px",lineHeight:o.toString()+"px",textAlign:"center",width:o.toString()+"px"}),[o]);return C.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":e,style:r,children:"A"})},z4=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],N0=t=>{const e=Le(),n=et();return C.jsxs(C.Fragment,{children:[C.jsx(()=>t.text?C.jsxs(C.Fragment,{children:[C.jsx(e.Generic.Menu.Label,{children:n.color_picker.text_title}),z4.map(o=>C.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.text.setColor(o)},"data-test":"text-color-"+o,icon:C.jsx(IC,{textColor:o,size:t.iconSize}),checked:t.text.color===o,children:n.color_picker.colors[o]},"text-color-"+o))]}):null,{}),C.jsx(()=>t.background?C.jsxs(C.Fragment,{children:[C.jsx(e.Generic.Menu.Label,{children:n.color_picker.background_title}),z4.map(o=>C.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.background.setColor(o)},"data-test":"background-color-"+o,icon:C.jsx(IC,{backgroundColor:o,size:t.iconSize}),checked:t.background.color===o,children:n.color_picker.colors[o]},"background-color-"+o))]}):null,{})]})};function V4(t,e){return`${t}Color`in e.schema.styleSchema&&e.schema.styleSchema[`${t}Color`].type===`${t}Color`&&e.schema.styleSchema[`${t}Color`].propSchema==="string"}const Uie=()=>{const t=Le(),e=et(),n=Ie(),o=V4("text",n),r=V4("background",n),i=Fo(n),[s,l]=S.useState(o&&n.getActiveStyles().textColor||"default"),[c,d]=S.useState(r&&n.getActiveStyles().backgroundColor||"default");ca(()=>{o&&l(n.getActiveStyles().textColor||"default"),r&&d(n.getActiveStyles().backgroundColor||"default")},n);const f=S.useCallback(m=>{if(!o)throw Error("Tried to set text color, but style does not exist in editor schema.");m==="default"?n.removeStyles({textColor:m}):n.addStyles({textColor:m}),setTimeout(()=>{n.focus()})},[n,o]),p=S.useCallback(m=>{if(!r)throw Error("Tried to set background color, but style does not exist in editor schema.");m==="default"?n.removeStyles({backgroundColor:m}):n.addStyles({backgroundColor:m}),setTimeout(()=>{n.focus()})},[r,n]);return!S.useMemo(()=>{if(!o&&!r)return!1;for(const m of i)if(m.content!==void 0)return!0;return!1},[r,i,o])||!n.isEditable?null:C.jsxs(t.Generic.Menu.Root,{children:[C.jsx(t.Generic.Menu.Trigger,{children:C.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:e.formatting_toolbar.colors.tooltip,mainTooltip:e.formatting_toolbar.colors.tooltip,icon:C.jsx(IC,{textColor:s,backgroundColor:c,size:20})})}),C.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:C.jsx(N0,{text:o?{color:s,setColor:f}:void 0,background:r?{color:c,setColor:p}:void 0})})]})},U4=t=>{for(const e of Wj)if(t.startsWith(e))return t;return`${Zj}://${t}`},Z8=t=>{const e=Le(),n=et(),{url:o,text:r,editLink:i,showTextField:s}=t,[l,c]=S.useState(o),[d,f]=S.useState(r);S.useEffect(()=>{c(o),f(r)},[r,o]);const p=S.useCallback(w=>{w.key==="Enter"&&(w.preventDefault(),i(U4(l),d))},[i,l,d]),m=S.useCallback(w=>c(w.currentTarget.value),[]),b=S.useCallback(w=>f(w.currentTarget.value),[]),y=S.useCallback(()=>i(U4(l),d),[i,l,d]);return C.jsxs(e.Generic.Form.Root,{children:[C.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:C.jsx(H8,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:l,onKeyDown:p,onChange:m,onSubmit:y}),s!==!1&&C.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:C.jsx(tE,{}),placeholder:n.link_toolbar.form.title_placeholder,value:d,onKeyDown:p,onChange:b,onSubmit:y})]})};function Fie(t){return"link"in t.schema.inlineContentSchema&&t.schema.inlineContentSchema.link==="link"}const Gie=()=>{var t;const e=Ie(),n=Le(),o=et(),r=Fie(e),i=Fo(e),[s,l]=S.useState(!1),[c,d]=S.useState(e.getSelectedLinkUrl()||""),[f,p]=S.useState(e.getSelectedText());ca(()=>{l(!1),p(e.getSelectedText()||""),d(e.getSelectedLinkUrl()||"")},e),S.useEffect(()=>{var b;const y=w=>{(w.ctrlKey||w.metaKey)&&w.key==="k"&&(l(!0),w.preventDefault())};return(b=e.prosemirrorView)==null||b.dom.addEventListener("keydown",y),()=>{var w;(w=e.prosemirrorView)==null||w.dom.removeEventListener("keydown",y)}},[(t=e.prosemirrorView)==null?void 0:t.dom]);const m=S.useCallback(b=>{e.createLink(b),e.focus()},[e]);return!S.useMemo(()=>{if(!r)return!1;for(const b of i)if(b.content===void 0)return!1;return!CC(e.prosemirrorState.selection)},[r,i,e.prosemirrorState.selection])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:C.jsxs(n.Generic.Popover.Root,{opened:s,children:[C.jsx(n.Generic.Popover.Trigger,{children:C.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:o.formatting_toolbar.link.tooltip,mainTooltip:o.formatting_toolbar.link.tooltip,secondaryTooltip:Er(o.formatting_toolbar.link.secondary_tooltip,o.generic.ctrl_shortcut),icon:C.jsx(H8,{}),onClick:()=>l(!0)})}),C.jsx(n.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:C.jsx(Z8,{url:c,text:f,editLink:m,showTextField:!1})})]})},qie=()=>{const t=et(),e=Le(),n=Ie(),[o,r]=S.useState(),i=Fo(n),s=S.useMemo(()=>{if(i.length!==1)return;const d=i[0];if(_p(d,n))return r(d.props.caption),d},[n,i]),l=S.useCallback(d=>{s&&d.key==="Enter"&&(d.preventDefault(),n.updateBlock(s,{props:{caption:o}}))},[o,n,s]),c=S.useCallback(d=>r(d.currentTarget.value),[]);return!s||Sp(s,n)||!n.isEditable?null:C.jsxs(e.Generic.Popover.Root,{children:[C.jsx(e.Generic.Popover.Trigger,{children:C.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_caption.tooltip,mainTooltip:t.formatting_toolbar.file_caption.tooltip,icon:C.jsx(P4,{}),isSelected:s.props.caption!==""})}),C.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:C.jsx(e.Generic.Form.Root,{children:C.jsx(e.Generic.Form.TextInput,{name:"file-caption",icon:C.jsx(P4,{}),value:o||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_caption.input_placeholder,onKeyDown:l,onChange:c})})})]})},Kie=()=>{const t=et(),e=Le(),n=Ie(),o=Fo(n),r=S.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(_p(s,n))return s},[n,o]),i=S.useCallback(()=>{n.focus(),n.removeBlocks([r])},[n,r]);return!r||Sp(r,n)||!n.isEditable?null:C.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_delete.tooltip[r.type]||t.formatting_toolbar.file_delete.tooltip.file,mainTooltip:t.formatting_toolbar.file_delete.tooltip[r.type]||t.formatting_toolbar.file_delete.tooltip.file,icon:C.jsx(_ie,{}),onClick:i})},Wie=()=>{const t=et(),e=Le(),n=Ie(),[o,r]=S.useState(),i=Fo(n),s=S.useMemo(()=>{if(i.length!==1)return;const d=i[0];if(_p(d,n))return r(d.props.name),d},[n,i]),l=S.useCallback(d=>{s&&d.key==="Enter"&&(d.preventDefault(),n.updateBlock(s,{props:{name:o}}))},[o,n,s]),c=S.useCallback(d=>r(d.currentTarget.value),[]);return!s||Sp(s,n)||!n.isEditable?null:C.jsxs(e.Generic.Popover.Root,{children:[C.jsx(e.Generic.Popover.Trigger,{children:C.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,mainTooltip:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,icon:C.jsx(j4,{})})}),C.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:C.jsx(e.Generic.Form.Root,{children:C.jsx(e.Generic.Form.TextInput,{name:"file-name",icon:C.jsx(j4,{}),value:o||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_rename.input_placeholder[s.type]||t.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:l,onChange:c})})})]})},Zie=()=>{const t=et(),e=Le(),n=Ie(),o=Fo(n),[r,i]=S.useState(!1);S.useEffect(()=>{i(!1)},[o]);const s=o.length===1?o[0]:void 0;return s===void 0||!_p(s,n)||!n.isEditable?null:C.jsxs(e.Generic.Popover.Root,{opened:r,position:"bottom",children:[C.jsx(e.Generic.Popover.Trigger,{children:C.jsx(e.FormattingToolbar.Button,{className:"bn-button",onClick:()=>i(!r),isSelected:r,mainTooltip:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,label:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,icon:C.jsx(wie,{})})}),C.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:C.jsx(W8,{block:s})})]})},Xie=()=>{const t=et(),e=Le(),n=Ie(),o=Fo(n),[r,i]=S.useState(()=>n.canNestBlock());ca(()=>{i(n.canNestBlock())},n);const s=S.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!S.useMemo(()=>!o.find(l=>n.schema.blockSchema[l.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:C.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:s,isDisabled:!r,label:t.formatting_toolbar.nest.tooltip,mainTooltip:t.formatting_toolbar.nest.tooltip,secondaryTooltip:Er(t.formatting_toolbar.nest.secondary_tooltip,t.generic.ctrl_shortcut),icon:C.jsx(uie,{})})},Yie=()=>{const t=et(),e=Le(),n=Ie(),o=Fo(n),[r,i]=S.useState(()=>n.canUnnestBlock());ca(()=>{i(n.canUnnestBlock())},n);const s=S.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!S.useMemo(()=>!o.find(l=>n.schema.blockSchema[l.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:C.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:s,isDisabled:!r,label:t.formatting_toolbar.unnest.tooltip,mainTooltip:t.formatting_toolbar.unnest.tooltip,secondaryTooltip:Er(t.formatting_toolbar.unnest.secondary_tooltip,t.generic.ctrl_shortcut),icon:C.jsx(cie,{})})},Jie=t=>[{name:t.slash_menu.paragraph.title,type:"paragraph",icon:tE,isSelected:e=>e.type==="paragraph"},{name:t.slash_menu.heading.title,type:"heading",props:{level:1},icon:j8,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===1},{name:t.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:P8,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===2},{name:t.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:$8,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===3},{name:t.slash_menu.quote.title,type:"quote",icon:F8,isSelected:e=>e.type==="quote"},{name:t.slash_menu.bullet_list.title,type:"bulletListItem",icon:U8,isSelected:e=>e.type==="bulletListItem"},{name:t.slash_menu.numbered_list.title,type:"numberedListItem",icon:V8,isSelected:e=>e.type==="numberedListItem"},{name:t.slash_menu.check_list.title,type:"checkListItem",icon:z8,isSelected:e=>e.type==="checkListItem"}],Qie=t=>{const e=Le(),n=et(),o=Ie(),r=Fo(o),[i,s]=S.useState(o.getTextCursorPosition().block),l=S.useMemo(()=>(t.items||Jie(n)).filter(f=>f.type in o.schema.blockSchema),[o,n,t.items]),c=S.useMemo(()=>l.find(f=>f.type===i.type)!==void 0,[i.type,l]),d=S.useMemo(()=>{const f=p=>{o.focus();for(const m of r)o.updateBlock(m,{type:p.type,props:p.props})};return l.map(p=>{const m=p.icon;return{text:p.name,icon:C.jsx(m,{size:16}),onClick:()=>f(p),isSelected:p.isSelected(i)}})},[i,l,o,r]);return ca(()=>{s(o.getTextCursorPosition().block)},o),!c||!o.isEditable?null:C.jsx(e.FormattingToolbar.Select,{className:"bn-select",items:d})},ese=()=>{const t=et(),e=Le(),n=Ie(),o=S.useCallback(()=>{var r;(r=n.comments)==null||r.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?C.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:C.jsx(I8,{}),onClick:o}):null},tse=()=>{const t=et(),e=Le(),n=Ie(),o=S.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:C.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:C.jsx(I8,{}),onClick:o})};function jC(t,e){try{const n=new URL(t,e);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const nse=()=>{const t=et(),e=Le(),n=Ie(),o=Fo(n),r=S.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(_p(s,n))return s},[n,o]),i=S.useCallback(()=>{r&&r.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(r.props.url).then(s=>window.open(jC(s,window.location.href))):window.open(jC(r.props.url,window.location.href)))},[n,r]);return!r||Sp(r,n)?null:C.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_download.tooltip[r.type]||t.formatting_toolbar.file_download.tooltip.file,mainTooltip:t.formatting_toolbar.file_download.tooltip[r.type]||t.formatting_toolbar.file_download.tooltip.file,icon:C.jsx(Eie,{}),onClick:i})},ose=()=>{const t=et(),e=Le(),n=Ie(),o=Fo(n),r=S.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(Lee(s,n))return s},[n,o]),i=S.useCallback(()=>{r&&n.updateBlock(r,{props:{showPreview:!r.props.showPreview}})},[n,r]);return!r||Sp(r,n)||!n.isEditable?null:C.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:t.formatting_toolbar.file_preview_toggle.tooltip,icon:C.jsx(vie,{}),isSelected:r.props.showPreview,onClick:i})},rse=()=>{const t=et(),e=Le(),n=Ie(),o=Fo(n),r=S.useMemo(()=>{var s;if(o.length!==1)return;const l=o[0];if(l.type==="table")return(s=n.tableHandles)==null?void 0:s.getMergeDirection(l)},[n,o]),i=S.useCallback(()=>{var s;(s=n.tableHandles)==null||s.mergeCells()},[n]);return!n.isEditable||r===void 0||!n.settings.tables.splitCells?null:C.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:t.formatting_toolbar.table_cell_merge.tooltip,icon:r==="horizontal"?C.jsx(hie,{}):C.jsx(pie,{}),onClick:i})},ise={left:iie,center:oie,right:sie,justify:rie},Nk=t=>{const e=Le(),n=et(),o=Ie(),r=Fo(o),i=S.useMemo(()=>{var c;const d=r[0];if(xC("textAlignment",d,o))return d.props.textAlignment;if(d.type==="table"){const f=(c=o.tableHandles)==null?void 0:c.getCellSelection();if(!f)return;const p=f.cells.map(({row:b,col:y})=>Ql(d.content.rows[b].cells[y]).props.textAlignment),m=p[0];if(p.every(b=>b===m))return m}},[o,r]),s=S.useCallback(c=>{var d;o.focus();for(const f of r)if(Bu("textAlignment",f.type,o))o.updateBlock(f,{props:{textAlignment:c}});else if(f.type==="table"){const p=(d=o.tableHandles)==null?void 0:d.getCellSelection();if(!p)continue;const m=f.content.rows.map(b=>({...b,cells:b.cells.map(y=>Ql(y))}));p.cells.forEach(({row:b,col:y})=>{m[b].cells[y].props.textAlignment=c}),o.updateBlock(f,{type:"table",content:{...f.content,type:"tableContent",rows:m}}),o.setTextCursorPosition(f)}},[o,r]);if(!S.useMemo(()=>!!r.find(c=>"textAlignment"in c.props||c.type==="table"&&c.children),[r])||!o.isEditable)return null;const l=ise[t.textAlignment];return C.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${t.textAlignment.slice(0,1).toUpperCase()+t.textAlignment.slice(1)}`,onClick:()=>s(t.textAlignment),isSelected:i===t.textAlignment,label:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,icon:C.jsx(l,{})})},X8=t=>[C.jsx(Qie,{items:t},"blockTypeSelect"),C.jsx(rse,{},"tableCellMergeButton"),C.jsx(qie,{},"fileCaptionButton"),C.jsx(Zie,{},"replaceFileButton"),C.jsx(Wie,{},"fileRenameButton"),C.jsx(Kie,{},"fileDeleteButton"),C.jsx(nse,{},"fileDownloadButton"),C.jsx(ose,{},"filePreviewButton"),C.jsx(Cg,{basicTextStyle:"bold"},"boldStyleButton"),C.jsx(Cg,{basicTextStyle:"italic"},"italicStyleButton"),C.jsx(Cg,{basicTextStyle:"underline"},"underlineStyleButton"),C.jsx(Cg,{basicTextStyle:"strike"},"strikeStyleButton"),C.jsx(Nk,{textAlignment:"left"},"textAlignLeftButton"),C.jsx(Nk,{textAlignment:"center"},"textAlignCenterButton"),C.jsx(Nk,{textAlignment:"right"},"textAlignRightButton"),C.jsx(Uie,{},"colorStyleButton"),C.jsx(Xie,{},"nestBlockButton"),C.jsx(Yie,{},"unnestBlockButton"),C.jsx(Gie,{},"createLinkButton"),C.jsx(ese,{},"addCommentButton"),C.jsx(tse,{},"addTiptapCommentButton")],Y8=t=>{const e=Le();return C.jsx(e.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:t.children||X8(t.blockTypeSelectItems)})},F4=t=>{switch(t){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},J8=t=>{const e=S.useRef(null),n=Ie(),[o,r]=S.useState(()=>{const m=n.getTextCursorPosition().block;return"textAlignment"in m.props?F4(m.props.textAlignment):"top-start"});ca(()=>{const m=n.getTextCursorPosition().block;"textAlignment"in m.props?r(F4(m.props.textAlignment)):r("top-start")},n);const i=qs(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:s,ref:l,style:c,getFloatingProps:d}=aa((i==null?void 0:i.show)||!1,(i==null?void 0:i.referencePos)||null,3e3,{placement:o,middleware:[Ui(10),Tc(),ii()],onOpenChange:(m,b)=>{m||(n.formattingToolbar.closeMenu(),n.focus())},...t.floatingOptions}),f=S.useMemo(()=>oE([e,l]),[e,l]);if(!s||!i)return null;if(!i.show&&e.current)return C.jsx("div",{ref:f,style:c,dangerouslySetInnerHTML:{__html:e.current.innerHTML}});const p=t.formattingToolbar||Y8;return C.jsx("div",{ref:f,style:c,...d(),children:C.jsx(p,{})})},sse=t=>{const e=Le(),n=et();return C.jsx(e.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:t.deleteLink,icon:C.jsx(fie,{})})},lse=t=>{const e=Le(),n=et();return C.jsxs(e.Generic.Popover.Root,{children:[C.jsx(e.Generic.Popover.Trigger,{children:C.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),C.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:C.jsx(Z8,{...t})})]})},ase=t=>{const e=Le(),n=et();return C.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(jC(t.url,window.location.href),"_blank")},icon:C.jsx(Tie,{})})},cse=t=>{const e=Le();return t.children?C.jsx(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",children:t.children}):C.jsxs(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:t.stopHideTimer,onMouseLeave:t.startHideTimer,children:[C.jsx(lse,{url:t.url,text:t.text,editLink:t.editLink}),C.jsx(ase,{url:t.url}),C.jsx(sse,{deleteLink:t.deleteLink})]})},use=t=>{const e=Ie(),n={deleteLink:e.linkToolbar.deleteLink,editLink:e.linkToolbar.editLink,startHideTimer:e.linkToolbar.startHideTimer,stopHideTimer:e.linkToolbar.stopHideTimer},o=qs(e.linkToolbar.onUpdate.bind(e.linkToolbar)),{isMounted:r,ref:i,style:s,getFloatingProps:l}=aa((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,4e3,{placement:"top-start",middleware:[Ui(10),ii()],onOpenChange:m=>{m||(e.linkToolbar.closeMenu(),e.focus())},...t.floatingOptions});if(!r||!o)return null;const{show:c,referencePos:d,...f}=o,p=t.linkToolbar||cse;return C.jsx("div",{ref:i,style:s,...l(),children:C.jsx(p,{...f,...n})})};function dse(t){return Ve({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(t)}const fse=t=>{const e=Le(),n=et(),o=Ie(),r=S.useCallback(()=>{const i=t.block.content;if(i!==void 0&&Array.isArray(i)&&i.length===0)o.setTextCursorPosition(t.block),o.openSuggestionMenu("/");else{const s=o.insertBlocks([{type:"paragraph"}],t.block,"after")[0];o.setTextCursorPosition(s),o.openSuggestionMenu("/")}},[o,t.block]);return C.jsx(e.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:C.jsx(dse,{size:24,onClick:r,"data-test":"dragHandleAdd"})})};function Q8(t){return Ve({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function hse(t){return Ve({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}const pse=t=>{const e=Le(),n=Ie();return!Bu("textColor",t.block.type,n)&&!Bu("backgroundColor",t.block.type,n)?null:C.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[C.jsx(e.Generic.Menu.Trigger,{sub:!0,children:C.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children})}),C.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:C.jsx(N0,{iconSize:18,text:Bu("textColor",t.block.type,n)&&xC("textColor",t.block,n)?{color:t.block.props.textColor,setColor:o=>n.updateBlock(t.block,{type:t.block.type,props:{textColor:o}})}:void 0,background:Bu("backgroundColor",t.block.type,n)&&xC("backgroundColor",t.block,n)?{color:t.block.props.backgroundColor,setColor:o=>n.updateBlock(t.block,{props:{backgroundColor:o}})}:void 0})})]})},mse=t=>{const e=Le(),n=Ie();return C.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([t.block]),children:t.children})},gse=t=>{const e=Le(),n=Ie();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!t.block.content.headerRows;return C.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{const r=n.getBlock(t.block.id);r&&n.updateBlock(r,{...r,content:{...r.content,headerRows:o?void 0:1}})},children:t.children})},bse=t=>{const e=Le(),n=Ie();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!t.block.content.headerCols;return C.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{n.updateBlock(t.block,{type:"table",content:{...t.block.content,type:"tableContent",headerCols:o?void 0:1}})},children:t.children})},yse=t=>{const e=Le(),n=et();return C.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||C.jsxs(C.Fragment,{children:[C.jsx(mse,{...t,children:n.drag_handle.delete_menuitem}),C.jsx(pse,{...t,children:n.drag_handle.colors_menuitem}),C.jsx(gse,{...t,children:n.drag_handle.header_row_menuitem}),C.jsx(bse,{...t,children:n.drag_handle.header_column_menuitem})]})})},vse=t=>{const e=Le(),n=et(),o=t.dragHandleMenu||yse;return C.jsxs(e.Generic.Menu.Root,{onOpenChange:r=>{r?t.freezeMenu():t.unfreezeMenu()},position:"left",children:[C.jsx(e.Generic.Menu.Trigger,{children:C.jsx(e.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:r=>t.blockDragStart(r,t.block),onDragEnd:t.blockDragEnd,className:"bn-button",icon:C.jsx(Q8,{size:24,"data-test":"dragHandle"})})}),C.jsx(o,{block:t.block,children:t.children})]})},wse=t=>{const e=Le(),n=S.useMemo(()=>{const o={"data-block-type":t.block.type};return t.block.type==="heading"&&(o["data-level"]=t.block.props.level.toString()),t.editor.schema.blockSchema[t.block.type].isFileBlock&&(t.block.props.url?o["data-url"]="true":o["data-url"]="false"),o},[t.block,t.editor.schema.blockSchema]);return C.jsx(e.SideMenu.Root,{className:"bn-side-menu",...n,children:t.children||C.jsxs(C.Fragment,{children:[C.jsx(fse,{...t}),C.jsx(vse,{...t})]})})},kse=t=>{const e=Ie(),n={blockDragStart:e.sideMenu.blockDragStart,blockDragEnd:e.sideMenu.blockDragEnd,freezeMenu:e.sideMenu.freezeMenu,unfreezeMenu:e.sideMenu.unfreezeMenu},o=qs(e.sideMenu.onUpdate.bind(e.sideMenu)),{isMounted:r,ref:i,style:s,getFloatingProps:l}=aa((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,1e3,{placement:"left-start",...t.floatingOptions});if(!r||!o)return null;const{show:c,referencePos:d,...f}=o,p=t.sideMenu||wse;return C.jsx("div",{ref:i,style:s,...l(),children:C.jsx(p,{...f,...n,editor:e})})};async function xse(t,e){return(await jne(t,e)).map(({id:n,onItemClick:o})=>({id:n,onItemClick:o,icon:n}))}function Cse(t){const e=Le(),n=et(),{items:o,loadingState:r,selectedIndex:i,onItemClick:s,columns:l}=t,c=r==="loading-initial"||r==="loading"?C.jsx(e.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:l,children:n.suggestion_menu.loading}):null,d=S.useMemo(()=>{const f=[];for(let p=0;p<o.length;p++){const m=o[p];f.push(C.jsx(e.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:m,id:`bn-grid-suggestion-menu-item-${p}`,isSelected:p===i,onClick:()=>s==null?void 0:s(m)},m.id))}return f},[e,o,s,i]);return C.jsxs(e.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:l,className:"bn-grid-suggestion-menu",children:[c,d,d.length===0&&t.loadingState==="loaded"&&C.jsx(e.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:l,children:n.suggestion_menu.no_items_title})]})}function eP(t,e,n,o=3){const r=S.useRef(0);S.useEffect(()=>{e!==void 0&&(t.length>0?r.current=e.length:e.length-r.current>o&&n())},[n,o,t.length,e])}function tP(t,e){const[n,o]=S.useState([]),[r,i]=S.useState(!1),s=S.useRef(),l=S.useRef();return S.useEffect(()=>{const c=t;s.current=t,i(!0),e(t).then(d=>{s.current===c&&(o(d),i(!1),l.current=c)})},[t,e]),{items:n||[],usedQuery:l.current,loadingState:l.current===void 0?"loading-initial":r?"loading":"loaded"}}function _se(t,e,n,o,r){const[i,s]=S.useState(0),l=o!==void 0&&o>1;return S.useEffect(()=>{var c;const d=f=>(f.key==="ArrowLeft"&&(f.preventDefault(),n.length&&s((i-1+n.length)%n.length)),f.key==="ArrowRight"&&(f.preventDefault(),n.length&&s((i+1+n.length)%n.length)),f.key==="ArrowUp"?(f.preventDefault(),n.length&&s((i-o+n.length)%n.length),!0):f.key==="ArrowDown"?(f.preventDefault(),n.length&&s((i+o)%n.length),!0):f.key==="Enter"&&!f.isComposing?(f.preventDefault(),n.length&&(r==null||r(n[i])),!0):!1);return(c=t.domElement)==null||c.addEventListener("keydown",d,!0),()=>{var f;(f=t.domElement)==null||f.removeEventListener("keydown",d,!0)}},[t.domElement,n,i,r,o,l]),S.useEffect(()=>{s(0)},[e]),{selectedIndex:n.length===0?void 0:i}}function Sse(t){const e=Fi().setContentEditableProps,n=Ie(),{getItems:o,gridSuggestionMenuComponent:r,query:i,clearQuery:s,closeMenu:l,onItemClick:c,columns:d}=t,f=S.useCallback(w=>{l(),s(),c==null||c(w)},[c,l,s]),{items:p,usedQuery:m,loadingState:b}=tP(i,o);eP(p,m,l);const{selectedIndex:y}=_se(n,i,p,d,f);return S.useEffect(()=>(e(w=>({...w,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(w=>({...w,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),S.useEffect(()=>(e(w=>({...w,"aria-activedescendant":y?"bn-suggestion-menu-item-"+y:void 0})),()=>{e(w=>({...w,"aria-activedescendant":void 0}))}),[e,y]),C.jsx(r,{items:p,onItemClick:f,loadingState:b,selectedIndex:y,columns:d})}function Ese(t){const e=Ie(),{triggerCharacter:n,gridSuggestionMenuComponent:o,columns:r,minQueryLength:i,onItemClick:s,getItems:l,floatingOptions:c}=t,d=S.useMemo(()=>s||(T=>{T.onItemClick(e)}),[e,s]),f=S.useMemo(()=>l||(async T=>await xse(e,T)),[e,l]),p={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},m=S.useCallback(T=>e.suggestionMenus.onUpdate(n,T),[e.suggestionMenus,n]),b=qs(m),{isMounted:y,ref:w,style:x,getFloatingProps:_}=aa((b==null?void 0:b.show)||!1,(b==null?void 0:b.referencePos)||null,2e3,{placement:"bottom-start",middleware:[Ui(10),ii(),R0({apply({availableHeight:T,elements:M}){Object.assign(M.floating.style,{maxHeight:`${T-10}px`})}})],onOpenChange(T){T||e.suggestionMenus.closeMenu()},...c});return!y||!b||!(b!=null&&b.ignoreQueryLength)&&i&&(b.query.startsWith(" ")||b.query.length<i)?null:C.jsx("div",{ref:w,style:x,..._(),children:C.jsx(Sse,{query:b.query,closeMenu:p.closeMenu,clearQuery:p.clearQuery,getItems:f,columns:r,gridSuggestionMenuComponent:o||Cse,onItemClick:d})})}function Tse(t){const e=Le(),n=et(),{items:o,loadingState:r,selectedIndex:i,onItemClick:s}=t,l=r==="loading-initial"||r==="loading"?C.jsx(e.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader",children:n.suggestion_menu.loading}):null,c=S.useMemo(()=>{let d;const f=[];for(let p=0;p<o.length;p++){const m=o[p];m.group!==d&&(d=m.group,f.push(C.jsx(e.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:d},d))),f.push(C.jsx(e.SuggestionMenu.Item,{className:"bn-suggestion-menu-item",item:m,id:`bn-suggestion-menu-item-${p}`,isSelected:p===i,onClick:()=>s==null?void 0:s(m)},m.title))}return f},[e,o,s,i]);return C.jsxs(e.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[c,c.length===0&&(t.loadingState==="loading"||t.loadingState==="loaded")&&C.jsx(e.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),l]})}function Mse(t,e,n,o){const[r,i]=S.useState(0);return S.useEffect(()=>{var s;const l=c=>c.key==="ArrowUp"?(c.preventDefault(),n.length&&i((r-1+n.length)%n.length),!0):c.key==="ArrowDown"?(c.preventDefault(),n.length&&i((r+1)%n.length),!0):c.key==="Enter"&&!c.isComposing?(c.preventDefault(),c.stopPropagation(),n.length&&(o==null||o(n[r])),!0):!1;return(s=t.domElement)==null||s.addEventListener("keydown",l,!0),()=>{var c;(c=t.domElement)==null||c.removeEventListener("keydown",l,!0)}},[t.domElement,n,r,o]),S.useEffect(()=>{i(0)},[e]),{selectedIndex:n.length===0?void 0:r}}function Ase(t){const e=Fi().setContentEditableProps,n=Ie(),{getItems:o,suggestionMenuComponent:r,query:i,clearQuery:s,closeMenu:l,onItemClick:c}=t,d=S.useCallback(y=>{l(),s(),c==null||c(y)},[c,l,s]),{items:f,usedQuery:p,loadingState:m}=tP(i,o);eP(f,p,l);const{selectedIndex:b}=Mse(n,i,f,d);return S.useEffect(()=>(e(y=>({...y,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(y=>({...y,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),S.useEffect(()=>(e(y=>({...y,"aria-activedescendant":b?"bn-suggestion-menu-item-"+b:void 0})),()=>{e(y=>({...y,"aria-activedescendant":void 0}))}),[e,b]),C.jsx(r,{items:f,onItemClick:d,loadingState:m,selectedIndex:b})}const Rse={heading:j8,heading_2:P8,heading_3:$8,quote:F8,numbered_list:V8,bullet_list:U8,check_list:z8,paragraph:tE,table:gie,image:G8,video:yie,audio:q8,file:eE,emoji:Aie,code_block:aie};function nP(t){return Iee(t).map(e=>{const n=Rse[e.key];return{...e,icon:C.jsx(n,{size:18})}})}function oP(t){const e=Ie(),{triggerCharacter:n,suggestionMenuComponent:o,minQueryLength:r,onItemClick:i,getItems:s,floatingOptions:l}=t,c=S.useMemo(()=>i||(_=>{_.onItemClick(e)}),[e,i]),d=S.useMemo(()=>s||(async _=>Oj(nP(e),_)),[e,s]),f={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},p=S.useCallback(_=>e.suggestionMenus.onUpdate(n,_),[e.suggestionMenus,n]),m=qs(p),{isMounted:b,ref:y,style:w,getFloatingProps:x}=aa((m==null?void 0:m.show)||!1,(m==null?void 0:m.referencePos)||null,2e3,{placement:"bottom-start",middleware:[Ui(10),ii({mainAxis:!0,crossAxis:!1}),Tc(),R0({apply({availableHeight:_,elements:T}){Object.assign(T.floating.style,{maxHeight:`${_-10}px`})}})],onOpenChange(_){_||e.suggestionMenus.closeMenu()},...l});return!b||!m||!(m!=null&&m.ignoreQueryLength)&&r&&(m.query.startsWith(" ")||m.query.length<r)?null:C.jsx("div",{ref:y,style:w,...x(),children:C.jsx(Ase,{query:m.query,closeMenu:f.closeMenu,clearQuery:f.clearQuery,getItems:d,suggestionMenuComponent:o||Tse,onItemClick:c})})}const Ose=(t,e=.3)=>{const n=Math.floor(t)+e,o=Math.ceil(t)-e;return t>=n&&t<=o?Math.round(t):t<n?Math.floor(t):Math.ceil(t)},Nse=t=>{const e=Le(),n=S.useRef(!1),[o,r]=S.useState(),i=S.useCallback(l=>{t.onMouseDown(),r({originalContent:t.block.content,originalCroppedContent:{rows:t.editor.tableHandles.cropEmptyRowsOrColumns(t.block,t.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:t.orientation==="addOrRemoveColumns"?l.clientX:l.clientY}),n.current=!1,l.preventDefault()},[t]),s=S.useCallback(()=>{n.current||t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns(t.block,"columns",1):t.editor.tableHandles.addRowsOrColumns(t.block,"rows",1)}})},[t.block,t.orientation,t.editor]);return S.useEffect(()=>{const l=c=>{var d,f;if(!o)throw new Error("editingState is undefined");n.current=!0;const p=(t.orientation==="addOrRemoveColumns"?c.clientX:c.clientY)-o.startPos,m=t.orientation==="addOrRemoveColumns"?((d=o.originalCroppedContent.rows[0])==null?void 0:d.cells.length)??0:o.originalCroppedContent.rows.length,b=t.orientation==="addOrRemoveColumns"?((f=o.originalContent.rows[0])==null?void 0:f.cells.length)??0:o.originalContent.rows.length,y=t.orientation==="addOrRemoveColumns"?t.block.content.rows[0].cells.length:t.block.content.rows.length,w=b+Ose(p/(t.orientation==="addOrRemoveColumns"?NS:vee),.3);w>=m&&w>0&&w!==y&&(t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"columns",w-m):t.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"rows",w-m)}}),t.block.content&&t.editor.setTextCursorPosition(t.block))};return o&&window.addEventListener("mousemove",l),()=>{window.removeEventListener("mousemove",l)}},[o,t.block,t.editor,t.orientation]),S.useEffect(()=>{const l=t.onMouseUp,c=()=>{r(void 0),l()};return o&&window.addEventListener("mouseup",c),()=>{window.removeEventListener("mouseup",c)}},[o,t.onMouseUp]),C.jsx(e.TableHandle.ExtendButton,{className:dn("bn-extend-button",t.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",o!==null?"bn-extend-button-editing":""),onClick:s,onMouseDown:i,children:t.children||C.jsx(xie,{size:18,"data-test":"extendButton"})})},G4=t=>{const e=Le(),n=et(),o=Ie().tableHandles;return o?C.jsx(e.Generic.Menu.Item,{onClick:()=>{o.addRowOrColumn(t.index,t.orientation==="row"?{orientation:"row",side:t.side}:{orientation:"column",side:t.side})},children:n.table_handle[`add_${t.side}_menuitem`]}):null},Dse=t=>{const e=Le(),n=et(),o=Ie().tableHandles;return o?C.jsx(e.Generic.Menu.Item,{onClick:()=>{o.removeRowOrColumn(t.index,t.orientation)},children:t.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},Lse=t=>{const e=Le(),n=et(),o=Ie(),r=o.tableHandles,i=S.useMemo(()=>!r||!t.block?[]:t.orientation==="row"?r.getCellsAtRowHandle(t.block,t.index):r.getCellsAtColumnHandle(t.block,t.index),[t.block,t.index,t.orientation,r]),s=(c,d)=>{const f=t.block.content.rows.map(p=>({...p,cells:p.cells.map(m=>Ql(m))}));i.forEach(({row:p,col:m})=>{d==="text"?f[p].cells[m].props.textColor=c:f[p].cells[m].props.backgroundColor=c}),o.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:f}}),o.setTextCursorPosition(t.block)};if(!i||!i[0]||!r||o.settings.tables.cellTextColor===!1&&o.settings.tables.cellBackgroundColor===!1)return null;const l=Ql(i[0].cell);return C.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[C.jsx(e.Generic.Menu.Trigger,{sub:!0,children:C.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||n.drag_handle.colors_menuitem})}),C.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:C.jsx(N0,{iconSize:18,text:o.settings.tables.cellTextColor?{color:i.every(({cell:c})=>ea(c)&&c.props.textColor===l.props.textColor)?l.props.textColor:"default",setColor:c=>{s(c,"text")}}:void 0,background:o.settings.tables.cellBackgroundColor?{color:i.every(({cell:c})=>ea(c)&&c.props.backgroundColor===l.props.backgroundColor)?l.props.backgroundColor:"default",setColor:c=>s(c,"background")}:void 0})})]})},Bse=t=>{const e=Le(),n=et(),o=Ie();if(!o.tableHandles||t.index!==0||t.orientation!=="row"||!o.settings.tables.headers)return null;const r=!!t.block.content.headerRows;return C.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=o.getBlock(t.block.id);i&&o.updateBlock(i,{...i,content:{...i.content,headerRows:r?void 0:1}})},children:n.drag_handle.header_row_menuitem})},Ise=t=>{const e=Le(),n=et(),o=Ie();if(!o.tableHandles||t.index!==0||t.orientation!=="column"||!o.settings.tables.headers)return null;const r=!!t.block.content.headerCols;return C.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=o.getBlock(t.block.id);i&&o.updateBlock(i,{...i,content:{...i.content,headerCols:r?void 0:1}})},children:n.drag_handle.header_column_menuitem})},jse=t=>{const e=Le();return C.jsx(e.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:t.children||C.jsxs(C.Fragment,{children:[C.jsx(Dse,{orientation:t.orientation,block:t.block,index:t.index}),C.jsx(G4,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"above":"left"}),C.jsx(G4,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"below":"right"}),C.jsx(Bse,{orientation:t.orientation,block:t.block,index:t.index}),C.jsx(Ise,{orientation:t.orientation,block:t.block,index:t.index}),C.jsx(Lse,{orientation:t.orientation,block:t.block,index:t.index})]})})},Pse=t=>{const e=Le(),[n,o]=S.useState(!1),r=t.tableHandleMenu||jse,i=S.useMemo(()=>{const s=t.editor.tableHandles;return!s||!t.block?!1:t.orientation==="column"?s.getCellsAtColumnHandle(t.block,t.index).every(({cell:l})=>yc(l)===1):s.getCellsAtRowHandle(t.block,t.index).every(({cell:l})=>ep(l)===1)},[t.block,t.editor.tableHandles,t.index,t.orientation]);return C.jsxs(e.Generic.Menu.Root,{onOpenChange:s=>{s?(t.freezeHandles(),t.hideOtherSide()):(t.unfreezeHandles(),t.showOtherSide(),t.editor.focus())},position:"right",children:[C.jsx(e.Generic.Menu.Trigger,{children:C.jsx(e.TableHandle.Root,{className:dn("bn-table-handle",n?"bn-table-handle-dragging":"",i?"":"bn-table-handle-not-draggable"),draggable:i,onDragStart:s=>{o(!0),t.dragStart(s)},onDragEnd:()=>{t.dragEnd(),o(!1)},style:t.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:t.children||C.jsx(Q8,{size:24,"data-test":"tableHandle"})})}),ri.createPortal(C.jsx(r,{orientation:t.orientation,block:t.block,index:t.index}),t.menuContainer)]})};function q4(t,e,n){const{refs:o,update:r,context:i,floatingStyles:s}=Sd({open:e,placement:t==="addOrRemoveColumns"?"right":"bottom",middleware:[R0({apply({rects:d,elements:f}){Object.assign(f.floating.style,t==="addOrRemoveColumns"?{height:`${d.reference.height}px`}:{width:`${d.reference.width}px`})}})]}),{isMounted:l,styles:c}=ZS(i);return S.useEffect(()=>{r()},[n,r]),S.useEffect(()=>{n!==null&&o.setReference({getBoundingClientRect:()=>n})},[t,n,o]),S.useMemo(()=>({isMounted:l,ref:o.setFloating,style:{display:"flex",...c,...s}}),[s,l,o.setFloating,c])}function $se(t,e,n){const o=q4("addOrRemoveRows",e,n),r=q4("addOrRemoveColumns",t,n);return S.useMemo(()=>({addOrRemoveRowsButton:o,addOrRemoveColumnsButton:r}),[r,o])}function Hse(t,e,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(e.x,n.mousePos,e.width,0):new DOMRect(e.x,t.y,e.width,t.height)}function zse(t,e,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,e.y,0,e.height):new DOMRect(t.x,e.y,t.width,e.height)}function Vse(t){return new DOMRect(t.x,t.y,t.width,0)}function Dk(t,e,n,o,r){const{refs:i,update:s,context:l,floatingStyles:c}=Sd({open:e,placement:t==="row"?"left":t==="col"?"top":"bottom-end",middleware:[Ui(t==="row"?-10:t==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:d,styles:f}=ZS(l);return S.useEffect(()=>{s()},[n,o,s]),S.useEffect(()=>{n===null||o===null||r&&t==="cell"||i.setReference({getBoundingClientRect:()=>(t==="row"?Hse:t==="col"?zse:Vse)(n,o,r)})},[r,t,n,o,i]),S.useMemo(()=>({isMounted:d,ref:i.setFloating,style:{display:"flex",...f,...c}}),[c,d,i.setFloating,f])}function Use(t,e,n,o){const r=Dk("row",t,e,n,o),i=Dk("col",t,e,n,o),s=Dk("cell",t,e,n,o);return S.useMemo(()=>({rowHandle:r,colHandle:i,cellHandle:s}),[i,r,s])}const Fse=t=>{var e,n;const o=Le(),r=et(),i=Ie(),s=(c,d)=>{const f=t.block.content.rows.map(p=>({...p,cells:p.cells.map(m=>Ql(m))}));d==="text"?f[t.rowIndex].cells[t.colIndex].props.textColor=c:f[t.rowIndex].cells[t.colIndex].props.backgroundColor=c,i.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:f}}),i.setTextCursorPosition(t.block)},l=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!l||i.settings.tables.cellTextColor===!1&&i.settings.tables.cellBackgroundColor===!1?null:C.jsxs(o.Generic.Menu.Root,{position:"right",sub:!0,children:[C.jsx(o.Generic.Menu.Trigger,{sub:!0,children:C.jsx(o.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||r.drag_handle.colors_menuitem})}),C.jsx(o.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:C.jsx(N0,{iconSize:18,text:i.settings.tables.cellTextColor?{color:ea(l)?l.props.textColor:"default",setColor:c=>s(c,"text")}:void 0,background:i.settings.tables.cellBackgroundColor?{color:ea(l)?l.props.backgroundColor:"default",setColor:c=>s(c,"background")}:void 0})})]})},Gse=t=>{var e,n;const o=Le(),r=et(),i=Ie(),s=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!s||!ea(s)||ep(s)===1&&yc(s)===1||!i.settings.tables.splitCells?null:C.jsx(o.Generic.Menu.Item,{onClick:()=>{var l;(l=i.tableHandles)==null||l.splitCell({row:t.rowIndex,col:t.colIndex})},children:r.table_handle.split_cell_menuitem})},qse=t=>{const e=Le();return C.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||C.jsxs(C.Fragment,{children:[C.jsx(Gse,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),C.jsx(Fse,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex})]})})},Kse=t=>{const e=Le(),n=t.tableCellMenu||qse;return!t.editor.settings.tables.splitCells&&!t.editor.settings.tables.cellBackgroundColor&&!t.editor.settings.tables.cellTextColor?null:C.jsxs(e.Generic.Menu.Root,{onOpenChange:o=>{o?t.freezeHandles():(t.unfreezeHandles(),t.editor.focus())},position:"right",children:[C.jsx(e.Generic.Menu.Trigger,{children:C.jsx(e.Generic.Menu.Button,{className:"bn-table-cell-handle",children:t.children||C.jsx(hse,{size:12,"data-test":"tableCellHandle"})})}),ri.createPortal(C.jsx(n,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),t.menuContainer)]})},Wse=t=>{var e,n;const o=Ie(),[r,i]=S.useState(null);if(!o.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const s={rowDragStart:o.tableHandles.rowDragStart,colDragStart:o.tableHandles.colDragStart,dragEnd:o.tableHandles.dragEnd,freezeHandles:o.tableHandles.freezeHandles,unfreezeHandles:o.tableHandles.unfreezeHandles},{freezeHandles:l,unfreezeHandles:c}=s,d=S.useCallback(()=>{l(),O(!0),M(!0)},[l]),f=S.useCallback(()=>{c(),O(!1),M(!1)},[c]),p=qs(o.tableHandles.onUpdate.bind(o.tableHandles)),m=S.useMemo(()=>{var q,Q;return p!=null&&p.draggingState?{draggedCellOrientation:(q=p==null?void 0:p.draggingState)==null?void 0:q.draggedCellOrientation,mousePos:(Q=p==null?void 0:p.draggingState)==null?void 0:Q.mousePos}:void 0},[p==null?void 0:p.draggingState,(e=p==null?void 0:p.draggingState)==null?void 0:e.draggedCellOrientation,(n=p==null?void 0:p.draggingState)==null?void 0:n.mousePos]),{rowHandle:b,colHandle:y,cellHandle:w}=Use((p==null?void 0:p.show)||!1,(p==null?void 0:p.referencePosCell)||null,(p==null?void 0:p.referencePosTable)||null,m),{addOrRemoveColumnsButton:x,addOrRemoveRowsButton:_}=$se((p==null?void 0:p.showAddOrRemoveColumnsButton)||!1,(p==null?void 0:p.showAddOrRemoveRowsButton)||!1,(p==null?void 0:p.referencePosTable)||null),[T,M]=S.useState(!1),[R,O]=S.useState(!1);if(!p)return null;const B=t.tableHandle||Pse,I=t.extendButton||Nse,H=t.tableCellHandle||Kse;return C.jsxs(C.Fragment,{children:[C.jsx("div",{ref:i}),C.jsxs(bre,{root:p.widgetContainer,children:[!T&&r&&b.isMounted&&p.rowIndex!==void 0&&C.jsx("div",{ref:b.ref,style:b.style,children:C.jsx(B,{editor:o,orientation:"row",showOtherSide:()=>O(!1),hideOtherSide:()=>O(!0),index:p.rowIndex,block:p.block,dragStart:s.rowDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:r})}),!R&&r&&y.isMounted&&p.colIndex!==void 0&&C.jsx("div",{ref:y.ref,style:y.style,children:C.jsx(B,{editor:o,orientation:"column",showOtherSide:()=>M(!1),hideOtherSide:()=>M(!0),index:p.colIndex,block:p.block,dragStart:s.colDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:r})}),r&&w.isMounted&&p.colIndex!==void 0&&p.rowIndex!==void 0&&C.jsx("div",{ref:w.ref,style:w.style,children:C.jsx(H,{editor:o,block:p.block,rowIndex:p.rowIndex,colIndex:p.colIndex,menuContainer:r,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles})}),C.jsx("div",{ref:_.ref,style:_.style,children:C.jsx(I,{editor:o,orientation:"addOrRemoveRows",block:p.block,onMouseDown:d,onMouseUp:f})}),C.jsx("div",{ref:x.ref,style:x.style,children:C.jsx(I,{editor:o,orientation:"addOrRemoveColumns",block:p.block,onMouseDown:d,onMouseUp:f})})]})]})};function Zse(t){const e=Ie();if(!e)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return C.jsxs(C.Fragment,{children:[t.formattingToolbar!==!1&&C.jsx(J8,{}),t.linkToolbar!==!1&&C.jsx(use,{}),t.slashMenu!==!1&&C.jsx(oP,{triggerCharacter:"/"}),t.emojiPicker!==!1&&C.jsx(Ese,{triggerCharacter:":",columns:10,minQueryLength:2}),t.sideMenu!==!1&&C.jsx(kse,{}),e.filePanel&&t.filePanel!==!1&&C.jsx(Hie,{}),e.tableHandles&&t.tableHandles!==!1&&C.jsx(Wse,{}),e.comments&&t.comments!==!1&&C.jsxs(C.Fragment,{children:[C.jsx(qre,{}),C.jsx(jie,{})]})]})}const rP=()=>{const t=S.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: dark)")},[]),e=S.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: light)")},[]),n=t==null?void 0:t.matches,o=e==null?void 0:e.matches,[r,i]=S.useState(n?"dark":o?"light":"no-preference");return S.useEffect(()=>{i(n?"dark":o?"light":"no-preference")},[n,o]),S.useEffect(()=>{if(typeof(t==null?void 0:t.addEventListener)=="function"){const s=({matches:c})=>c&&i("dark"),l=({matches:c})=>c&&i("light");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",l),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",l)}}else{const s=()=>i(t.matches?"dark":e.matches?"light":"no-preference");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",s),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",s)}}},[t,e]),r},iP=S.createContext(void 0);function Xse(){return S.useContext(iP)}function Yse(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,o){e={...e,[n]:ri.createPortal(o.reactElement,o.element,n)},t.forEach(r=>r())},removeRenderer(n){const o={...e};delete o[n],e=o,t.forEach(r=>r())}}}const Jse=({contentComponent:t})=>{const e=S.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return C.jsx(C.Fragment,{children:Object.values(e)})},Qse=S.forwardRef((t,e)=>{const[n,o]=S.useState();return S.useImperativeHandle(e,()=>(r,i)=>{ri.flushSync(()=>{o({node:r,container:i})}),o(void 0)},[]),C.jsx(C.Fragment,{children:n&&ri.createPortal(n.node,n.container)})}),K4=()=>{};function ele(t,e){const{editor:n,className:o,theme:r,children:i,editable:s,onSelectionChange:l,onChange:c,formattingToolbar:d,linkToolbar:f,slashMenu:p,emojiPicker:m,sideMenu:b,filePanel:y,tableHandles:w,comments:x,autoFocus:_,renderEditor:T=!n.headless,...M}=t,[R,O]=S.useState(),B=Fi(),I=rP(),H=(B==null?void 0:B.colorSchemePreference)||I,q=r||(H==="dark"?"dark":"light");YS(c||K4,n),XS(l||K4,n),S.useEffect(()=>{n.isEditable=s!==!1},[s,n]);const Q=S.useCallback(be=>{n.elementRenderer=be},[n]),ve=S.useMemo(()=>({...B,editor:n,setContentEditableProps:O}),[B,n]),ue={formattingToolbar:d,linkToolbar:f,slashMenu:p,emojiPicker:m,sideMenu:b,filePanel:y,tableHandles:w,comments:x},xe={autoFocus:_,contentEditableProps:R};return C.jsx(N8.Provider,{value:ve,children:C.jsxs(iP.Provider,{value:{editorProps:xe,defaultUIProps:ue},children:[C.jsx(Qse,{ref:Q}),C.jsx(tle,{className:o,renderEditor:T,editorColorScheme:q,ref:e,...M,children:i})]})})}const tle=Fe.forwardRef(({className:t,renderEditor:e,editorColorScheme:n,children:o,...r},i)=>C.jsx("div",{className:dn("bn-container",n,t),"data-color-scheme":n,...r,ref:i,children:e?C.jsx(ole,{children:o}):o})),nle=Fe.forwardRef(ele),ole=t=>{const e=Xse(),n=Ie(),o=S.useMemo(()=>Yse(),[]),r=S.useCallback(i=>{n.mount(i,o)},[n,o]);return C.jsxs(C.Fragment,{children:[C.jsx(Jse,{contentComponent:o}),C.jsx(rle,{...e.editorProps,...t,mount:r}),C.jsx(Zse,{...e.defaultUIProps}),t.children]})},rle=t=>{const{autoFocus:e,mount:n,contentEditableProps:o}=t;return C.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":e,ref:n,...o})};function W4(t,e){let n;const o=document.createElement("div");let r;if(e!=null&&e.elementRenderer)e.elementRenderer(t(c=>n=c||void 0),o);else{if(!(e!=null&&e.headless))throw new Error("elementRenderer not available, expected headless editor");r=ML.createRoot(o),ri.flushSync(()=>{r.render(t(c=>n=c||void 0))})}if(!o.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n==null||n.setAttribute("data-tmp-find","true");const i=o.cloneNode(!0),s=i.firstElementChild,l=i.querySelector("[data-tmp-find]");return l==null||l.removeAttribute("data-tmp-find"),r==null||r.unmount(),{dom:s,contentDOM:l||void 0}}function Lk(t){var e;return C.jsx(Ire,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(t.domAttributes||{}).filter(([n])=>n!=="class")),className:dn("bn-block-content",((e=t.domAttributes)==null?void 0:e.class)||""),"data-content-type":t.blockType,...Object.fromEntries(Object.entries(t.blockProps).filter(([n,o])=>{const r=t.propSchema[n];return!ES.includes(n)&&o!==r.default}).map(([n,o])=>[dy(n),o])),"data-file-block":t.isFileBlock===!0||void 0,children:t.children})}function D0(t,e){const n=Uo({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return xp(t.propSchema)},parseHTML(){return rj(t,e.parse)},renderHTML({HTMLAttributes:o}){const r=document.createElement("div");return Jf({dom:r,contentDOM:t.content==="inline"?r:void 0},t.type,{},t.propSchema,t.isFileBlock,o)},addNodeView(){return o=>{const r=zre(i=>{var s;const l=this.options.editor,c=tj(i.getPos,l,this.editor,t.type),d=((s=this.options.domAttributes)==null?void 0:s.blockContent)||{},f=O8().nodeViewContentRef;if(!f)throw new Error("nodeViewContentRef is not set");const p=e.render;return C.jsx(Lk,{blockType:c.type,blockProps:c.props,propSchema:t.propSchema,isFileBlock:t.isFileBlock,domAttributes:d,children:C.jsx(p,{block:c,editor:l,contentRef:f})})},{className:"bn-react-node-view-renderer"})(o);return t.isSelectable===!1&&oj(r,this.editor),r}}});return TS(t,{node:n,toInternalHTML:(o,r)=>{var i,s;const l=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},c=e.render,d=W4(f=>C.jsx(Lk,{blockType:o.type,blockProps:o.props,propSchema:t.propSchema,domAttributes:l,children:C.jsx(c,{block:o,editor:r,contentRef:f})}),r);return(s=d.contentDOM)==null||s.setAttribute("data-editable",""),d},toExternalHTML:(o,r)=>{var i,s;const l=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},c=e.toExternalHTML||e.render,d=W4(f=>C.jsx(Lk,{blockType:o.type,blockProps:o.props,propSchema:t.propSchema,domAttributes:l,children:C.jsx(c,{block:o,editor:r,contentRef:f})}),r);return(s=d.contentDOM)==null||s.setAttribute("data-editable",""),d}})}function rE(t){const e=Ie(),[n,o]=S.useState("loading"),[r,i]=S.useState();if(S.useEffect(()=>{let s=!0;return(async()=>{let l="";o("loading");try{l=e.resolveFileUrl?await e.resolveFileUrl(t):t}catch{o("error");return}s&&(o("loaded"),i(l))})(),()=>{s=!1}},[e,t]),n!=="loaded")return{loadingState:n};if(!r)throw new Error("Finished fetching file but did not get download URL.");return{loadingState:n,downloadUrl:r}}const iE=t=>C.jsxs("figure",{children:[t.children,C.jsx("figcaption",{children:t.caption})]});function ile(t){const e=Ie();S.useEffect(()=>e.onUploadEnd(t),[t,e])}function sle(t){const e=Ie();S.useEffect(()=>e.onUploadStart(t),[t,e])}function sP(t){const[e,n]=S.useState(!1);return sle(o=>{o===t&&n(!0)}),ile(o=>{o===t&&n(!1)}),e}const lle=t=>{const e=et(),n=S.useCallback(r=>{r.preventDefault()},[]),o=S.useCallback(()=>{t.editor.dispatch(t.editor._tiptapEditor.state.tr.setMeta(t.editor.filePanel.plugin,{block:t.block}))},[t.block,t.editor]);return C.jsxs("div",{className:"bn-add-file-button",onMouseDown:n,onClick:o,children:[C.jsx("div",{className:"bn-add-file-button-icon",children:t.buttonIcon||C.jsx(eE,{size:24})}),C.jsx("div",{className:"bn-add-file-button-text",children:t.buttonText||e.file_blocks.file.add_button_text})]})},ale=t=>C.jsxs("div",{className:"bn-file-name-with-icon",contentEditable:!1,draggable:!1,children:[C.jsx("div",{className:"bn-file-icon",children:C.jsx(eE,{size:24})}),C.jsx("p",{className:"bn-file-name",children:t.block.props.name})]}),sE=t=>{const e=sP(t.block.id);return C.jsx("div",{className:"bn-file-block-content-wrapper",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:t.style,children:e?C.jsx("div",{className:"bn-file-loading-preview",children:"Loading..."}):t.block.props.url===""?C.jsx(lle,{...t}):C.jsxs(C.Fragment,{children:[t.block.props.showPreview===!1||!t.children?C.jsx(ale,{...t}):t.children,t.block.props.caption&&C.jsx("p",{className:"bn-file-caption",children:t.block.props.caption})]})})},L0=t=>C.jsxs("div",{children:[t.children,C.jsx("p",{children:t.caption})]}),cle=t=>{const e=rE(t.block.props.url);return C.jsx("audio",{className:"bn-audio",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},ule=t=>{if(!t.block.props.url)return C.jsx("p",{children:"Add audio"});const e=t.block.props.showPreview?C.jsx("audio",{src:t.block.props.url}):C.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?C.jsx(iE,{caption:t.block.props.caption,children:e}):C.jsx(L0,{caption:t.block.props.caption,children:e}):e},dle=t=>C.jsx(sE,{...t,buttonText:t.editor.dictionary.file_blocks.audio.add_button_text,buttonIcon:C.jsx(q8,{size:24}),children:C.jsx(cle,{...t})});D0(bj,{render:dle,parse:yj,toExternalHTML:ule});const fle=t=>{if(!t.block.props.url)return C.jsx("p",{children:"Add file"});const e=C.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?C.jsx(L0,{caption:t.block.props.caption,children:e}):e},hle=t=>C.jsx(sE,{...t});D0(vj,{render:hle,parse:wj,toExternalHTML:fle});const lP=t=>{const[e,n]=S.useState(void 0),[o,r]=S.useState(t.block.props.previewWidth),[i,s]=S.useState(!1),l=S.useRef(null);S.useEffect(()=>{const b=w=>{let x;t.block.props.textAlignment==="center"?e.handleUsed==="left"?x=e.initialWidth+(e.initialClientX-w.clientX)*2:x=e.initialWidth+(w.clientX-e.initialClientX)*2:e.handleUsed==="left"?x=e.initialWidth+e.initialClientX-w.clientX:x=e.initialWidth+w.clientX-e.initialClientX;const _=64;x<_?r(_):r(x)},y=()=>{n(void 0),t.editor.updateBlock(t.block,{props:{previewWidth:o}})};return e&&(window.addEventListener("mousemove",b),window.addEventListener("mouseup",y)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",y)}},[t,e,o]);const c=S.useCallback(()=>{t.editor.isEditable&&s(!0)},[t.editor.isEditable]),d=S.useCallback(()=>{s(!1)},[]),f=S.useCallback(b=>{b.preventDefault(),n({handleUsed:"left",initialWidth:l.current.clientWidth,initialClientX:b.clientX})},[]),p=S.useCallback(b=>{b.preventDefault(),n({handleUsed:"right",initialWidth:l.current.clientWidth,initialClientX:b.clientX})},[]),m=sP(t.block.id);return C.jsx(sE,{...t,onMouseEnter:c,onMouseLeave:d,style:t.block.props.url&&!m&&t.block.props.showPreview?{width:`${o}px`}:void 0,children:C.jsxs("div",{className:"bn-visual-media-wrapper",ref:l,children:[t.children,(i||e)&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"bn-resize-handle",style:{left:"4px"},onMouseDown:f}),C.jsx("div",{className:"bn-resize-handle",style:{right:"4px"},onMouseDown:p})]})]})})},ple=t=>{const e=rE(t.block.props.url);return C.jsx("img",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,alt:t.block.props.caption||"BlockNote image",contentEditable:!1,draggable:!1})},mle=t=>{if(!t.block.props.url)return C.jsx("p",{children:"Add image"});const e=t.block.props.showPreview?C.jsx("img",{src:t.block.props.url,alt:t.block.props.name||t.block.props.caption||"BlockNote image",width:t.block.props.previewWidth}):C.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?C.jsx(iE,{caption:t.block.props.caption,children:e}):C.jsx(L0,{caption:t.block.props.caption,children:e}):e},gle=t=>C.jsx(lP,{...t,buttonText:t.editor.dictionary.file_blocks.image.add_button_text,buttonIcon:C.jsx(G8,{size:24}),children:C.jsx(ple,{...t})});D0(xj,{render:gle,parse:Cj,toExternalHTML:mle});const ble=t=>{const e=rE(t.block.props.url);return C.jsx("video",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},yle=t=>{if(!t.block.props.url)return C.jsx("p",{children:"Add video"});const e=t.block.props.showPreview?C.jsx("video",{src:t.block.props.url}):C.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?C.jsx(iE,{caption:t.block.props.caption,children:e}):C.jsx(L0,{caption:t.block.props.caption,children:e}):e},vle=t=>C.jsx(lP,{...t,buttonText:t.editor.dictionary.file_blocks.video.add_button_text,buttonIcon:C.jsx(kie,{size:24}),children:C.jsx(ble,{...t})});D0(Mj,{render:vle,parse:Aj,toExternalHTML:yle});Fe.memo(({thread:t,selectedThreadId:e,editor:n,maxCommentsBeforeCollapse:o,referenceText:r})=>{const i=S.useCallback(l=>{var c;l.target.closest(".bn-action-toolbar")||(c=n.comments)==null||c.selectThread(t.id)},[n.comments,t.id]),s=S.useCallback(l=>{var c;if(!l.relatedTarget||l.relatedTarget.closest(".bn-action-toolbar"))return;const d=l.target instanceof Node?l.target:null,f=l.relatedTarget instanceof Node?l.relatedTarget.closest(".bn-thread"):null;(!d||!f||!f.contains(d))&&((c=n.comments)==null||c.selectThread(void 0))},[n.comments]);return C.jsx(K8,{thread:t,selected:t.id===e,referenceText:r,maxCommentsBeforeCollapse:o,onFocus:i,onBlur:s,tabIndex:0})});function aP(t,e){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect(),r=n.top<o.top,i=n.bottom>o.bottom;return r&&i?"both":r?"top":i?"bottom":"none"}function cP(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),r,i=[],s;try{for(;(e===void 0||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(l){s={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i}function wle(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))}function Mi(t){return Object.keys(t)}function Bk(t){return t&&typeof t=="object"&&!Array.isArray(t)}function lE(t,e){const n={...t},o=e;return Bk(t)&&Bk(e)&&Object.keys(e).forEach(r=>{Bk(o[r])&&r in t?n[r]=lE(n[r],o[r]):n[r]=o[r]}),n}function kle(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function xle(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function Cle(t){const e=xle(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function Ik(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function uP(t,{shouldScale:e=!1}={}){function n(o){if(o===0||o==="0")return`0${t}`;if(typeof o=="number"){const r=`${o/16}${t}`;return e?Ik(r):r}if(typeof o=="string"){if(o===""||o.startsWith("calc(")||o.startsWith("clamp(")||o.includes("rgba("))return o;if(o.includes(","))return o.split(",").map(i=>n(i)).join(",");if(o.includes(" "))return o.split(" ").map(i=>n(i)).join(" ");if(o.includes(t))return e?Ik(o):o;const r=o.replace("px","");if(!Number.isNaN(Number(r))){const i=`${Number(r)/16}${t}`;return e?Ik(i):i}}return o}return n}const ce=uP("rem",{shouldScale:!0}),Z4=uP("em");function B0(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function dP(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(o=>e.test(o))}return!1}function Mp(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==S.Fragment:!1}function I0(t){const e=S.createContext(null);return[({children:r,value:i})=>C.jsx(e.Provider,{value:i,children:r}),()=>{const r=S.useContext(e);if(r===null)throw new Error(t);return r}]}function aE(t=null){const e=S.createContext(t);return[({children:r,value:i})=>C.jsx(e.Provider,{value:i,children:r}),()=>S.useContext(e)]}function X4(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function vy(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function _le(t,e,n){for(let o=t-1;o>=0;o-=1)if(!e[o].disabled)return o;if(n){for(let o=e.length-1;o>-1;o-=1)if(!e[o].disabled)return o}return t}function Sle(t,e,n){for(let o=t+1;o<e.length;o+=1)if(!e[o].disabled)return o;if(n){for(let o=0;o<e.length;o+=1)if(!e[o].disabled)return o}return t}function Ele(t,e,n){return vy(t,n)===vy(e,n)}function fP({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:o=!0,activateOnFocus:r=!1,dir:i="rtl",orientation:s}){return l=>{var y;n==null||n(l);const c=Array.from(((y=vy(l.currentTarget,t))==null?void 0:y.querySelectorAll(e))||[]).filter(w=>Ele(l.currentTarget,w,t)),d=c.findIndex(w=>l.currentTarget===w),f=Sle(d,c,o),p=_le(d,c,o),m=i==="rtl"?p:f,b=i==="rtl"?f:p;switch(l.key){case"ArrowRight":{s==="horizontal"&&(l.stopPropagation(),l.preventDefault(),c[m].focus(),r&&c[m].click());break}case"ArrowLeft":{s==="horizontal"&&(l.stopPropagation(),l.preventDefault(),c[b].focus(),r&&c[b].click());break}case"ArrowUp":{s==="vertical"&&(l.stopPropagation(),l.preventDefault(),c[p].focus(),r&&c[p].click());break}case"ArrowDown":{s==="vertical"&&(l.stopPropagation(),l.preventDefault(),c[f].focus(),r&&c[f].click());break}case"Home":{l.stopPropagation(),l.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const w=c.length-1;!c[w].disabled&&c[w].focus();break}}}}const Tle={app:100,modal:200,popover:300,overlay:400,max:9999};function Ap(t){return Tle[t]}const Mle=()=>{};function Ale(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||Mle:n=>{var o;n.key==="Escape"&&(t(n),(o=e.onTrigger)==null||o.call(e))}}function Ft(t,e="size",n=!0){if(t!==void 0)return dP(t)?n?ce(t):t:`var(--${e}-${t})`}function Rp(t){return Ft(t,"mantine-spacing")}function co(t){return t===void 0?"var(--mantine-radius-default)":Ft(t,"mantine-radius")}function Ho(t){return Ft(t,"mantine-font-size")}function Rle(t){return Ft(t,"mantine-line-height",!1)}function hP(t){if(t)return Ft(t,"mantine-shadow",!1)}function _i(t,e){return n=>{t==null||t(n),e==null||e(n)}}function Ole(t,e,n){var o;return n?Array.from(((o=vy(n,e))==null?void 0:o.querySelectorAll(t))||[]).findIndex(r=>r===n):null}function Nle(){const[t,e]=S.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function Dle(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}const Y4=["mousedown","touchstart"];function Lle(t,e,n){const o=S.useRef(null);return S.useEffect(()=>{const r=i=>{const{target:s}=i??{};if(Array.isArray(n)){const l=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(d=>!!d&&!i.composedPath().includes(d))&&!l&&t()}else o.current&&!o.current.contains(s)&&t()};return(e||Y4).forEach(i=>document.addEventListener(i,r)),()=>{(e||Y4).forEach(i=>document.removeEventListener(i,r))}},[o,t,n]),o}function Ble(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function Ile(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function jle(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[o,r]=S.useState(n?e:Ile(t)),i=S.useRef(null);return S.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(t),r(i.current.matches),Ble(i.current,s=>r(s.matches))},[t]),o}const j0=typeof document<"u"?S.useLayoutEffect:S.useEffect;function na(t,e){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function Ple({opened:t,shouldReturnFocus:e=!0}){const n=S.useRef(null),o=()=>{var r;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((r=n.current)==null||r.focus({preventScroll:!0}))};return na(()=>{let r=-1;const i=s=>{s.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",i),t?n.current=document.activeElement:e&&(r=window.setTimeout(o,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",i)}},[t,e]),o}const $le=/input|select|textarea|button|object/,pP="a, input, select, textarea, button, object, [tabindex]";function Hle(t){return t.style.display==="none"}function zle(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(Hle(n))return!1;n=n.parentNode}return!0}function mP(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function PC(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(mP(t));return($le.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&zle(t)}function gP(t){const e=mP(t);return(Number.isNaN(e)||e>=0)&&PC(t)}function Vle(t){return Array.from(t.querySelectorAll(pP)).filter(gP)}function Ule(t,e){const n=Vle(t);if(!n.length){e.preventDefault();return}const o=n[e.shiftKey?0:n.length-1],r=t.getRootNode();let i=o===r.activeElement||t===r.activeElement;const s=r.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(i=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===s.getAttribute("name")).includes(o)),!i)return;e.preventDefault();const c=n[e.shiftKey?n.length-1:0];c&&c.focus()}function bP(t=!0){const e=S.useRef(null),n=r=>{let i=r.querySelector("[data-autofocus]");if(!i){const s=Array.from(r.querySelectorAll(pP));i=s.find(gP)||s.find(PC)||null,!i&&PC(r)&&(i=r)}i&&i.focus({preventScroll:!0})},o=S.useCallback(r=>{t&&r!==null&&e.current!==r&&(r?(setTimeout(()=>{r.getRootNode()&&n(r)}),e.current=r):e.current=null)},[t]);return S.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const r=i=>{i.key==="Tab"&&e.current&&Ule(e.current,i)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]),o}const Fle=Fe.useId||(()=>{});function Gle(){const t=Fle();return t?`mantine-${t.replace(/:/g,"")}`:""}function Op(t){const e=Gle(),[n,o]=S.useState(e);return j0(()=>{o(Dle())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function wy(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function Np(...t){const e=new Map;return n=>{if(t.forEach(o=>{const r=wy(o,n);r&&e.set(o,r)}),e.size>0)return()=>{t.forEach(o=>{const r=e.get(o);r?r():wy(o,null)}),e.clear()}}}function Ks(...t){return S.useCallback(Np(...t),t)}function Ed({value:t,defaultValue:e,finalValue:n,onChange:o=()=>{}}){const[r,i]=S.useState(e!==void 0?e:n),s=(l,...c)=>{i(l),o==null||o(l,...c)};return t!==void 0?[t,o,!0]:[r,s,!1]}function qle(t,e){return jle("(prefers-reduced-motion: reduce)",t,e)}function Kle(){const[t,e]=S.useState(!1),n=S.useRef(null),o=S.useCallback(()=>e(!0),[]),r=S.useCallback(()=>e(!1),[]);return S.useEffect(()=>{const i=n.current;if(i)return i.addEventListener("mouseenter",o),i.addEventListener("mouseleave",r),()=>{i==null||i.removeEventListener("mouseenter",o),i==null||i.removeEventListener("mouseleave",r)}},[n.current]),{ref:n,hovered:t}}function Wle(t){return t.currentTarget instanceof HTMLElement&&t.relatedTarget instanceof HTMLElement?t.currentTarget.contains(t.relatedTarget):!1}function yP({onBlur:t,onFocus:e}={}){const n=S.useRef(null),[o,r]=S.useState(!1),i=S.useRef(!1),s=d=>{r(d),i.current=d},l=d=>{i.current||(s(!0),e==null||e(d))},c=d=>{i.current&&!Wle(d)&&(s(!1),t==null||t(d))};return S.useEffect(()=>{const d=n.current;if(d)return d.addEventListener("focusin",l),d.addEventListener("focusout",c),()=>{d==null||d.removeEventListener("focusin",l),d==null||d.removeEventListener("focusout",c)}},[l,c]),{ref:n,focused:o}}function cE(t){var n;const e=Fe.version;return typeof Fe.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}function vP(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=vP(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Ws(){for(var t,e,n=0,o="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=vP(t))&&(o&&(o+=" "),o+=e);return o}const Zle={};function Xle(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([o,r])=>{e[o]?e[o]=Ws(e[o],r):e[o]=r})}),e}function P0({theme:t,classNames:e,props:n,stylesCtx:o}){const i=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,o):s||Zle);return Xle(i)}function ky({theme:t,styles:e,props:n,stylesCtx:o}){return(Array.isArray(e)?e:[e]).reduce((i,s)=>typeof s=="function"?{...i,...s(t,n,o)}:{...i,...s},{})}const wP=S.createContext(null);function ua(){const t=S.useContext(wP);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function Yle(){return ua().cssVariablesResolver}function Jle(){return ua().classNamesPrefix}function uE(){return ua().getStyleNonce}function Qle(){return ua().withStaticClasses}function eae(){return ua().headless}function tae(){var t;return(t=ua().stylesTransform)==null?void 0:t.sx}function nae(){var t;return(t=ua().stylesTransform)==null?void 0:t.styles}function kP(){return ua().env||"default"}function oae(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function rae(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),o=n>>16&255,r=n>>8&255,i=n&255;return{r:o,g:r,b:i,a:1}}function iae(t){const[e,n,o,r]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:o,a:r||1}}function sae(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const o=parseInt(n[1],10),r=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,l=(1-Math.abs(2*i-1))*r,c=o/60,d=l*(1-Math.abs(c%2-1)),f=i-l/2;let p,m,b;return c>=0&&c<1?(p=l,m=d,b=0):c>=1&&c<2?(p=d,m=l,b=0):c>=2&&c<3?(p=0,m=l,b=d):c>=3&&c<4?(p=0,m=d,b=l):c>=4&&c<5?(p=d,m=0,b=l):(p=l,m=0,b=d),{r:Math.round((p+f)*255),g:Math.round((m+f)*255),b:Math.round((b+f)*255),a:s||1}}function dE(t){return oae(t)?rae(t):t.startsWith("rgb")?iae(t):t.startsWith("hsl")?sae(t):{r:0,g:0,b:0,a:1}}function _g(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:o,b:r,a:i}=dE(t),s=1-e,l=c=>Math.round(c*s);return`rgba(${l(n)}, ${l(o)}, ${l(r)}, ${i})`}function op(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function jk(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function lae(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function aae(t){if(t.startsWith("oklch("))return(lae(t)||0)/100;const{r:e,g:n,b:o}=dE(t),r=e/255,i=n/255,s=o/255,l=jk(r),c=jk(i),d=jk(s);return .2126*l+.7152*c+.0722*d}function Vf(t,e=.179){return t.startsWith("var(")?!1:aae(t)>e}function Td({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Vf(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Vf(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Vf(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[o,r]=t.split("."),i=r?Number(r):void 0,s=o in e.colors;if(s){const l=i!==void 0?e.colors[o][i]:e.colors[o][op(e,n||"light")];return{color:o,value:l,shade:i,isThemeColor:s,isLight:Vf(l,e.luminanceThreshold),variable:r?`--mantine-color-${o}-${i}`:`--mantine-color-${o}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:Vf(t,e.luminanceThreshold),shade:i,variable:void 0}}function Ii(t,e){const n=Td({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function $C(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},o=Ii(n.from,e),r=Ii(n.to,e);return`linear-gradient(${n.deg}deg, ${o} 0%, ${r} 100%)`}function ki(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const i=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${i}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:o,b:r}=dE(t);return`rgba(${n}, ${o}, ${r}, ${e})`}const ku=ki,cae=({color:t,theme:e,variant:n,gradient:o,autoContrast:r})=>{const i=Td({color:t,theme:e}),s=typeof r=="boolean"?r:e.autoContrast;if(n==="filled"){const l=s&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:l,border:`${ce(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:l,border:`${ce(1)} solid transparent`}:{background:t,hover:_g(t,.1),color:l,border:`${ce(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${ce(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:ki(l,.1),hover:ki(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ce(1)} solid transparent`}}return{background:ki(t,.1),hover:ki(t,.12),color:t,border:`${ce(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${ce(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:ki(e.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${ce(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:ki(t,.05),color:t,border:`${ce(1)} solid ${t}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${ce(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:"transparent",hover:ki(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ce(1)} solid transparent`}}return{background:"transparent",hover:ki(t,.12),color:t,border:`${ce(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${ce(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ce(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${ce(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:_g(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${ce(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:_g(e.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${ce(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:_g(e.white,.01),color:t,border:`${ce(1)} solid transparent`}:n==="gradient"?{background:$C(o,e),hover:$C(o,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${ce(1)} solid var(--mantine-color-default-border)`}:{}},uae={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},J4="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fE={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:uae,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:cae,autoContrast:!1,luminanceThreshold:.3,fontFamily:J4,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:J4,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:ce(34),lineHeight:"1.3"},h2:{fontSize:ce(26),lineHeight:"1.35"},h3:{fontSize:ce(22),lineHeight:"1.4"},h4:{fontSize:ce(18),lineHeight:"1.45"},h5:{fontSize:ce(16),lineHeight:"1.5"},h6:{fontSize:ce(14),lineHeight:"1.5"}}},fontSizes:{xs:ce(12),sm:ce(14),md:ce(16),lg:ce(18),xl:ce(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:ce(2),sm:ce(4),md:ce(8),lg:ce(16),xl:ce(32)},spacing:{xs:ce(10),sm:ce(12),md:ce(16),lg:ce(20),xl:ce(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${ce(1)} ${ce(3)} rgba(0, 0, 0, 0.05), 0 ${ce(1)} ${ce(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${ce(1)} ${ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ce(10)} ${ce(15)} ${ce(-5)}, rgba(0, 0, 0, 0.04) 0 ${ce(7)} ${ce(7)} ${ce(-5)}`,md:`0 ${ce(1)} ${ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ce(20)} ${ce(25)} ${ce(-5)}, rgba(0, 0, 0, 0.04) 0 ${ce(10)} ${ce(10)} ${ce(-5)}`,lg:`0 ${ce(1)} ${ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ce(28)} ${ce(23)} ${ce(-7)}, rgba(0, 0, 0, 0.04) 0 ${ce(12)} ${ce(12)} ${ce(-7)}`,xl:`0 ${ce(1)} ${ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ce(36)} ${ce(28)} ${ce(-7)}, rgba(0, 0, 0, 0.04) 0 ${ce(17)} ${ce(17)} ${ce(-7)}`},other:{},components:{}};function Q4(t){return t==="auto"||t==="dark"||t==="light"}function dae({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const o=window.localStorage.getItem(t);return Q4(o)?o:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(o){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",o)}},subscribe:n=>{e=o=>{o.storageArea===window.localStorage&&o.key===t&&Q4(o.newValue)&&n(o.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const fae="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",e3="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Pk(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function t3(t){if(!(t.primaryColor in t.colors))throw new Error(fae);if(typeof t.primaryShade=="object"&&(!Pk(t.primaryShade.dark)||!Pk(t.primaryShade.light)))throw new Error(e3);if(typeof t.primaryShade=="number"&&!Pk(t.primaryShade))throw new Error(e3)}function hae(t,e){var o;if(!e)return t3(t),t;const n=lE(t,e);return e.fontFamily&&!((o=e.headings)!=null&&o.fontFamily)&&(n.headings.fontFamily=e.fontFamily),t3(n),n}const hE=S.createContext(null),pae=()=>S.useContext(hE)||fE;function ur(){const t=S.useContext(hE);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function xP({theme:t,children:e,inherit:n=!0}){const o=pae(),r=S.useMemo(()=>hae(n?o:fE,t),[t,o,n]);return C.jsx(hE.Provider,{value:r,children:e})}xP.displayName="@mantine/core/MantineThemeProvider";function mae(){const t=ur(),e=uE(),n=Mi(t.breakpoints).reduce((o,r)=>{const i=t.breakpoints[r].includes("px"),s=Cle(t.breakpoints[r]),l=i?`${s-.1}px`:Z4(s-.1),c=i?`${s}px`:Z4(s);return`${o}@media (max-width: ${l}) {.mantine-visible-from-${r} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${r} {display: none !important;}}`},"");return C.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function $k(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Uf(t,e){return(Array.isArray(t)?t:[t]).reduce((o,r)=>`${r}{${o}}`,e)}function gae(t,e){const n=$k(t.variables),o=n?Uf(e,n):"",r=$k(t.dark),i=$k(t.light),s=r?Uf(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,r):"",l=i?Uf(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,i):"";return`${o}${s}${l}`}function CP({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Td({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function n3(t,e){return CP({color:t.colors[t.primaryColor][op(t,e)],theme:t,autoContrast:null})}function Sg({theme:t,color:e,colorScheme:n,name:o=e,withColorValues:r=!0}){if(!t.colors[e])return{};if(n==="light"){const l=op(t,"light"),c={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-filled)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${l===9?8:l+1})`,[`--mantine-color-${o}-light`]:ku(t.colors[e][l],.1),[`--mantine-color-${o}-light-hover`]:ku(t.colors[e][l],.12),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline-hover`]:ku(t.colors[e][l],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...c}:c}const i=op(t,"dark"),s={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-4)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${i})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${i===9?8:i+1})`,[`--mantine-color-${o}-light`]:ku(t.colors[e][Math.max(0,i-2)],.15),[`--mantine-color-${o}-light-hover`]:ku(t.colors[e][Math.max(0,i-2)],.2),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${Math.max(i-5,0)})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${Math.max(i-4,0)})`,[`--mantine-color-${o}-outline-hover`]:ku(t.colors[e][Math.max(i-4,0)],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...s}:s}function bae(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function xu(t,e,n){Mi(e).forEach(o=>Object.assign(t,{[`--mantine-${n}-${o}`]:e[o]}))}const _P=t=>{const e=op(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:ce(t.defaultRadius),o={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":n3(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":n3(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};xu(o.variables,t.breakpoints,"breakpoint"),xu(o.variables,t.spacing,"spacing"),xu(o.variables,t.fontSizes,"font-size"),xu(o.variables,t.lineHeights,"line-height"),xu(o.variables,t.shadows,"shadow"),xu(o.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((i,s)=>{o.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),Mi(t.colors).forEach(i=>{const s=t.colors[i];if(bae(s)){Object.assign(o.light,Sg({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(o.dark,Sg({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((l,c)=>{o.variables[`--mantine-color-${i}-${c}`]=l}),Object.assign(o.light,Sg({theme:t,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(o.dark,Sg({theme:t,color:i,colorScheme:"dark",withColorValues:!1}))});const r=t.headings.sizes;return Mi(r).forEach(i=>{o.variables[`--mantine-${i}-font-size`]=r[i].fontSize,o.variables[`--mantine-${i}-line-height`]=r[i].lineHeight,o.variables[`--mantine-${i}-font-weight`]=r[i].fontWeight||t.headings.fontWeight}),o};function yae({theme:t,generator:e}){const n=_P(t),o=e==null?void 0:e(t);return o?lE(n,o):n}const Hk=_P(fE);function vae(t){const e={variables:{},light:{},dark:{}};return Mi(t.variables).forEach(n=>{Hk.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Mi(t.light).forEach(n=>{Hk.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Mi(t.dark).forEach(n=>{Hk.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function wae(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function SP({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=ur(),o=uE(),r=Yle(),i=yae({theme:n,generator:r}),s=t===":root"&&e,l=s?vae(i):i,c=gae(l,t);return c?C.jsx("style",{"data-mantine-styles":!0,nonce:o==null?void 0:o(),dangerouslySetInnerHTML:{__html:`${c}${s?"":wae(t)}`}}):null}SP.displayName="@mantine/CssVariables";function kae(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Cu(t,e){var r,i;const n=typeof window<"u"&&"matchMedia"in window&&((r=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:r.matches),o=t!=="auto"?t:n?"dark":"light";(i=e())==null||i.setAttribute("data-mantine-color-scheme",o)}function xae({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:o}){const r=S.useRef(null),[i,s]=S.useState(()=>t.get(e)),l=o||i,c=S.useCallback(f=>{o||(Cu(f,n),s(f),t.set(f))},[t.set,l,o]),d=S.useCallback(()=>{s(e),Cu(e,n),t.clear()},[t.clear,e]);return S.useEffect(()=>(t.subscribe(c),t.unsubscribe),[t.subscribe,t.unsubscribe]),j0(()=>{Cu(t.get(e),n)},[]),S.useEffect(()=>{var p;if(o)return Cu(o,n),()=>{};o===void 0&&Cu(i,n),typeof window<"u"&&"matchMedia"in window&&(r.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=m=>{i==="auto"&&Cu(m.matches?"dark":"light",n)};return(p=r.current)==null||p.addEventListener("change",f),()=>{var m;return(m=r.current)==null?void 0:m.removeEventListener("change",f)}},[i,o]),{colorScheme:l,setColorScheme:c,clearColorScheme:d}}function Cae({respectReducedMotion:t,getRootElement:e}){j0(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}kae();function EP({theme:t,children:e,getStyleNonce:n,withStaticClasses:o=!0,withGlobalClasses:r=!0,deduplicateCssVariables:i=!0,withCssVariables:s=!0,cssVariablesSelector:l=":root",classNamesPrefix:c="mantine",colorSchemeManager:d=dae(),defaultColorScheme:f="light",getRootElement:p=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:b,stylesTransform:y,env:w}){const{colorScheme:x,setColorScheme:_,clearColorScheme:T}=xae({defaultColorScheme:f,forceColorScheme:b,manager:d,getRootElement:p});return Cae({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:p}),C.jsx(wP.Provider,{value:{colorScheme:x,setColorScheme:_,clearColorScheme:T,getRootElement:p,classNamesPrefix:c,getStyleNonce:n,cssVariablesResolver:m,cssVariablesSelector:l,withStaticClasses:o,stylesTransform:y,env:w},children:C.jsxs(xP,{theme:t,children:[s&&C.jsx(SP,{cssVariablesSelector:l,deduplicateCssVariables:i}),r&&C.jsx(mae,{}),e]})})}EP.displayName="@mantine/core/MantineProvider";function $0({classNames:t,styles:e,props:n,stylesCtx:o}){const r=ur();return{resolvedClassNames:P0({theme:r,classNames:t,props:n,stylesCtx:o||void 0}),resolvedStyles:ky({theme:r,styles:e,props:n,stylesCtx:o||void 0})}}const _ae={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Sae({theme:t,options:e,unstyled:n}){return Ws((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||_ae[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function Eae({selector:t,stylesCtx:e,options:n,props:o,theme:r}){return P0({theme:r,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||o,stylesCtx:e})[t]}function o3({selector:t,stylesCtx:e,theme:n,classNames:o,props:r}){return P0({theme:n,classNames:o,props:r,stylesCtx:e})[t]}function Tae({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function Mae({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function Aae({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:o}){return o===!1?[]:t.map(r=>`${e}-${r}-${n}`)}function Rae({themeName:t,theme:e,selector:n,props:o,stylesCtx:r}){return t.map(i=>{var s,l;return(l=P0({theme:e,classNames:(s=e.components[i])==null?void 0:s.classNames,props:o,stylesCtx:r}))==null?void 0:l[n]})}function Oae({options:t,classes:e,selector:n,unstyled:o}){return t!=null&&t.variant&&!o?e[`${n}--${t.variant}`]:void 0}function Nae({theme:t,options:e,themeName:n,selector:o,classNamesPrefix:r,classNames:i,classes:s,unstyled:l,className:c,rootSelector:d,props:f,stylesCtx:p,withStaticClasses:m,headless:b,transformedStyles:y}){return Ws(Sae({theme:t,options:e,unstyled:l||b}),Rae({theme:t,themeName:n,selector:o,props:f,stylesCtx:p}),Oae({options:e,classes:s,selector:o,unstyled:l}),o3({selector:o,stylesCtx:p,theme:t,classNames:i,props:f}),o3({selector:o,stylesCtx:p,theme:t,classNames:y,props:f}),Eae({selector:o,stylesCtx:p,options:e,props:f,theme:t}),Tae({rootSelector:d,selector:o,className:c}),Mae({selector:o,classes:s,unstyled:l||b}),m&&!b&&Aae({themeName:n,classNamesPrefix:r,selector:o,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function Dae({theme:t,themeName:e,props:n,stylesCtx:o,selector:r}){return e.map(i=>{var s;return ky({theme:t,styles:(s=t.components[i])==null?void 0:s.styles,props:n,stylesCtx:o})[r]}).reduce((i,s)=>({...i,...s}),{})}function HC({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...HC({style:o,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function Lae(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(o=>{e[o]={...e[o],...B0(n[o])}}),e),{})}function Bae({vars:t,varsResolver:e,theme:n,props:o,stylesCtx:r,selector:i,themeName:s,headless:l}){var c;return(c=Lae([l?{}:e==null?void 0:e(n,o,r),...s.map(d=>{var f,p,m;return(m=(p=(f=n.components)==null?void 0:f[d])==null?void 0:p.vars)==null?void 0:m.call(p,n,o,r)}),t==null?void 0:t(n,o,r)]))==null?void 0:c[i]}function Iae({theme:t,themeName:e,selector:n,options:o,props:r,stylesCtx:i,rootSelector:s,styles:l,style:c,vars:d,varsResolver:f,headless:p,withStylesTransform:m}){return{...!m&&Dae({theme:t,themeName:e,props:r,stylesCtx:i,selector:n}),...!m&&ky({theme:t,styles:l,props:r,stylesCtx:i})[n],...!m&&ky({theme:t,styles:o==null?void 0:o.styles,props:(o==null?void 0:o.props)||r,stylesCtx:i})[n],...Bae({theme:t,props:r,stylesCtx:i,vars:d,varsResolver:f,selector:n,themeName:e,headless:p}),...s===n?HC({style:c,theme:t}):null,...HC({style:o==null?void 0:o.style,theme:t})}}function jae({props:t,stylesCtx:e,themeName:n}){var s;const o=ur(),r=(s=nae())==null?void 0:s();return{getTransformedStyles:l=>r?[...l.map(d=>r(d,{props:t,theme:o,ctx:e})),...n.map(d=>{var f;return r((f=o.components[d])==null?void 0:f.styles,{props:t,theme:o,ctx:e})})].filter(Boolean):[],withStylesTransform:!!r}}function pt({name:t,classes:e,props:n,stylesCtx:o,className:r,style:i,rootSelector:s="root",unstyled:l,classNames:c,styles:d,vars:f,varsResolver:p}){const m=ur(),b=Jle(),y=Qle(),w=eae(),x=(Array.isArray(t)?t:[t]).filter(M=>M),{withStylesTransform:_,getTransformedStyles:T}=jae({props:n,stylesCtx:o,themeName:x});return(M,R)=>({className:Nae({theme:m,options:R,themeName:x,selector:M,classNamesPrefix:b,classNames:c,classes:e,unstyled:l,className:r,rootSelector:s,props:n,stylesCtx:o,withStaticClasses:y,headless:w,transformedStyles:T([R==null?void 0:R.styles,d])}),style:Iae({theme:m,themeName:x,selector:M,options:R,props:n,stylesCtx:o,rootSelector:s,styles:d,style:i,vars:f,varsResolver:p,headless:w,withStylesTransform:_})})}function Pae(t,e){return typeof t=="boolean"?t:e.autoContrast}function Ae(t,e,n){var s;const o=ur(),r=(s=o.components[t])==null?void 0:s.defaultProps,i=typeof r=="function"?r(o):r;return{...e,...i,...B0(n)}}function zk(t){return Mi(t).reduce((e,n)=>t[n]!==void 0?`${e}${kle(n)}:${t[n]};`:e,"").trim()}function $ae({selector:t,styles:e,media:n,container:o}){const r=e?zk(e):"",i=Array.isArray(n)?n.map(l=>`@media${l.query}{${t}{${zk(l.styles)}}}`):[],s=Array.isArray(o)?o.map(l=>`@container ${l.query}{${t}{${zk(l.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${i.join("")}${s.join("")}`.trim()}function TP(t){const e=uE();return C.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:$ae(t)}})}function H0(t){const{m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:c,ms:d,p:f,px:p,py:m,pt:b,pb:y,pl:w,pr:x,pe:_,ps:T,bd:M,bg:R,c:O,opacity:B,ff:I,fz:H,fw:q,lts:Q,ta:ve,lh:ue,fs:xe,tt:be,td:pe,w:j,miw:z,maw:U,h:re,mih:N,mah:F,bgsz:ne,bgp:le,bgr:Ee,bga:Pe,pos:Se,top:it,left:Xe,bottom:Dt,right:Gt,inset:So,display:L,flex:P,hiddenFrom:Y,visibleFrom:de,lightHidden:ae,darkHidden:se,sx:Ce,...ke}=t;return{styleProps:B0({m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:c,ms:d,p:f,px:p,py:m,pt:b,pb:y,pl:w,pr:x,pe:_,ps:T,bd:M,bg:R,c:O,opacity:B,ff:I,fz:H,fw:q,lts:Q,ta:ve,lh:ue,fs:xe,tt:be,td:pe,w:j,miw:z,maw:U,h:re,mih:N,mah:F,bgsz:ne,bgp:le,bgr:Ee,bga:Pe,pos:Se,top:it,left:Xe,bottom:Dt,right:Gt,inset:So,display:L,flex:P,hiddenFrom:Y,visibleFrom:de,lightHidden:ae,darkHidden:se,sx:Ce}),rest:ke}}const Hae={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function pE(t,e){const n=Td({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function zae(t,e){const n=Td({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:pE(t,e)}function Vae(t,e){if(typeof t=="number")return ce(t);if(typeof t=="string"){const[n,o,...r]=t.split(" ").filter(s=>s.trim()!=="");let i=`${ce(n)}`;return o&&(i+=` ${o}`),r.length>0&&(i+=` ${pE(r.join(" "),e)}`),i.trim()}return t}const r3={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Uae(t){return typeof t=="string"&&t in r3?r3[t]:t}const Fae=["h1","h2","h3","h4","h5","h6"];function Gae(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&Fae.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?ce(t):t}function qae(t){return t}const Kae=["h1","h2","h3","h4","h5","h6"];function Wae(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&Kae.includes(t)?`var(--mantine-${t}-line-height)`:t}function Zae(t){return typeof t=="number"?ce(t):t}function Xae(t,e){if(typeof t=="number")return ce(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return ce(t);const o=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${o}) * -1)`:`var(${o})`}return t}const Vk={color:pE,textColor:zae,fontSize:Gae,spacing:Xae,identity:qae,size:Zae,lineHeight:Wae,fontFamily:Uae,border:Vae};function i3(t){return t.replace("(min-width: ","").replace("em)","")}function Yae({media:t,...e}){const o=Object.keys(t).sort((r,i)=>Number(i3(r))-Number(i3(i))).map(r=>({query:r,styles:t[r]}));return{...e,media:o}}function Jae(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function Qae(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function ece(t){return typeof t=="object"&&t!==null?Mi(t).filter(e=>e!=="base"):[]}function tce(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function MP({styleProps:t,data:e,theme:n}){return Yae(Mi(t).reduce((o,r)=>{if(r==="hiddenFrom"||r==="visibleFrom"||r==="sx")return o;const i=e[r],s=Array.isArray(i.property)?i.property:[i.property],l=Qae(t[r]);if(!Jae(t[r]))return s.forEach(d=>{o.inlineStyles[d]=Vk[i.type](l,n)}),o;o.hasResponsiveStyles=!0;const c=ece(t[r]);return s.forEach(d=>{l&&(o.styles[d]=Vk[i.type](l,n)),c.forEach(f=>{const p=`(min-width: ${n.breakpoints[f]})`;o.media[p]={...o.media[p],[d]:Vk[i.type](tce(t[r],f),n)}})}),o},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function AP(){return`__m__-${S.useId().replace(/:/g,"")}`}function RP(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...RP(o,e)}),{}):typeof t=="function"?t(e):t??{}}function OP(t){return t.startsWith("data-")?t:`data-${t}`}function nce(t){return Object.keys(t).reduce((e,n)=>{const o=t[n];return o===void 0||o===""||o===!1||o===null||(e[OP(n)]=t[n]),e},{})}function NP(t){return t?typeof t=="string"?{[OP(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...NP(n)}),{}):nce(t):null}function zC(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...zC(o,e)}),{}):typeof t=="function"?t(e):t??{}}function oce({theme:t,style:e,vars:n,styleProps:o}){const r=zC(e,t),i=zC(n,t);return{...r,...i,...o}}const DP=S.forwardRef(({component:t,style:e,__vars:n,className:o,variant:r,mod:i,size:s,hiddenFrom:l,visibleFrom:c,lightHidden:d,darkHidden:f,renderRoot:p,__size:m,...b},y)=>{var H;const w=ur(),x=t||"div",{styleProps:_,rest:T}=H0(b),M=tae(),R=(H=M==null?void 0:M())==null?void 0:H(_.sx),O=AP(),B=MP({styleProps:_,theme:w,data:Hae}),I={ref:y,style:oce({theme:w,style:e,vars:n,styleProps:B.inlineStyles}),className:Ws(o,R,{[O]:B.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":f,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${c}`]:c}),"data-variant":r,"data-size":dP(s)?void 0:s||void 0,size:m,...NP(i),...T};return C.jsxs(C.Fragment,{children:[B.hasResponsiveStyles&&C.jsx(TP,{selector:`.${O}`,styles:B.styles,media:B.media}),typeof p=="function"?p(I):C.jsx(x,{...I})]})});DP.displayName="@mantine/core/Box";const Ge=DP;function LP(t){return t}function rce(t){const e=t;return n=>{const o=S.forwardRef((r,i)=>C.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o}}function gt(t){const e=S.forwardRef(t);return e.extend=LP,e.withProps=n=>{const o=S.forwardRef((r,i)=>C.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e}function _o(t){const e=S.forwardRef(t);return e.withProps=n=>{const o=S.forwardRef((r,i)=>C.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e.extend=LP,e}const ice=S.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Dp(){return S.useContext(ice)}var BP={root:"m_87cf2631"};const sce={__staticSelector:"UnstyledButton"},Mc=_o((t,e)=>{const n=Ae("UnstyledButton",sce,t),{className:o,component:r="button",__staticSelector:i,unstyled:s,classNames:l,styles:c,style:d,...f}=n,p=pt({name:i,props:n,classes:BP,className:o,style:d,classNames:l,styles:c,unstyled:s});return C.jsx(Ge,{...p("root",{focusable:!0}),component:r,ref:e,type:r==="button"?"button":void 0,...f})});Mc.classes=BP;Mc.displayName="@mantine/core/UnstyledButton";var IP={root:"m_515a97f8"};const lce={},mE=gt((t,e)=>{const n=Ae("VisuallyHidden",lce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,...d}=n,f=pt({name:"VisuallyHidden",classes:IP,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l});return C.jsx(Ge,{component:"span",ref:e,...f("root"),...d})});mE.classes=IP;mE.displayName="@mantine/core/VisuallyHidden";var jP={root:"m_1b7284a3"};const ace={},cce=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:co(e),"--paper-shadow":hP(n)}}),gE=_o((t,e)=>{const n=Ae("Paper",ace,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,withBorder:c,vars:d,radius:f,shadow:p,variant:m,mod:b,...y}=n,w=pt({name:"Paper",props:n,classes:jP,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:d,varsResolver:cce});return C.jsx(Ge,{ref:e,mod:[{"data-with-border":c},b],...w("root"),variant:m,...y})});gE.classes=jP;gE.displayName="@mantine/core/Paper";function PP(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,o]=e.split("-"),r=n==="right"?"left":"right";return o===void 0?r:`${r}-${o}`}return e}function s3(t,e,n,o){return t==="center"||o==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function l3(t,e,n,o,r){return t==="center"||o==="center"?{left:e}:t==="end"?{[r==="ltr"?"right":"left"]:n}:t==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const uce={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function dce({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,arrowX:i,arrowY:s,dir:l}){const[c,d="center"]=t.split("-"),f={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[uce[c]]:o},p=-e/2;return c==="left"?{...f,...s3(d,s,n,r),right:p,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:c==="right"?{...f,...s3(d,s,n,r),left:p,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:c==="top"?{...f,...l3(d,i,n,r,l),bottom:p,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:c==="bottom"?{...f,...l3(d,i,n,r,l),top:p,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const bE=S.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,visible:i,arrowX:s,arrowY:l,style:c,...d},f)=>{const{dir:p}=Dp();return i?C.jsx("div",{...d,ref:f,style:{...c,...dce({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,dir:p,arrowX:s,arrowY:l})}}):null});bE.displayName="@mantine/core/FloatingArrow";var $P={root:"m_9814e45f"};const fce={zIndex:Ap("modal")},hce=(t,{gradient:e,color:n,backgroundOpacity:o,blur:r,radius:i,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||o!==void 0)&&ki(n||"#000",o??.6)||void 0,"--overlay-filter":r?`blur(${ce(r)})`:void 0,"--overlay-radius":i===void 0?void 0:co(i),"--overlay-z-index":s==null?void 0:s.toString()}}),rp=_o((t,e)=>{const n=Ae("Overlay",fce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,fixed:d,center:f,children:p,radius:m,zIndex:b,gradient:y,blur:w,color:x,backgroundOpacity:_,mod:T,...M}=n,R=pt({name:"Overlay",props:n,classes:$P,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:hce});return C.jsx(Ge,{ref:e,...R("root"),mod:[{center:f,fixed:d},T],...M,children:p})});rp.classes=$P;rp.displayName="@mantine/core/Overlay";function Uk(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function pce({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||Uk(n):t;if(e){const o=document.querySelector("[data-mantine-shared-portal-node]");if(o)return o;const r=Uk(n);return r.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(r),r}return Uk(n)}const mce={},HP=gt((t,e)=>{const{children:n,target:o,reuseTargetNode:r,...i}=Ae("Portal",mce,t),[s,l]=S.useState(!1),c=S.useRef(null);return j0(()=>(l(!0),c.current=pce({target:o,reuseTargetNode:r,...i}),wy(e,c.current),!o&&!r&&c.current&&document.body.appendChild(c.current),()=>{!o&&!r&&c.current&&document.body.removeChild(c.current)}),[o]),!s||!c.current?null:ri.createPortal(C.jsx(C.Fragment,{children:n}),c.current)});HP.displayName="@mantine/core/Portal";const Lp=gt(({withinPortal:t=!0,children:e,...n},o)=>kP()==="test"||!t?C.jsx(C.Fragment,{children:e}):C.jsx(HP,{ref:o,...n,children:e}));Lp.displayName="@mantine/core/OptionalPortal";const Ff=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Eg={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Ff("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Ff("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Ff("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Ff("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Ff("top"),common:{transformOrigin:"top right"}}},a3={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function gce({transition:t,state:e,duration:n,timingFunction:o}){const r={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:o};return typeof t=="string"?t in Eg?{transitionProperty:Eg[t].transitionProperty,...r,...Eg[t].common,...Eg[t][a3[e]]}:{}:{transitionProperty:t.transitionProperty,...r,...t.common,...t[a3[e]]}}function bce({duration:t,exitDuration:e,timingFunction:n,mounted:o,onEnter:r,onExit:i,onEntered:s,onExited:l,enterDelay:c,exitDelay:d}){const f=ur(),p=qle(),m=f.respectReducedMotion?p:!1,[b,y]=S.useState(m?0:t),[w,x]=S.useState(o?"entered":"exited"),_=S.useRef(-1),T=S.useRef(-1),M=S.useRef(-1),R=B=>{const I=B?r:i,H=B?s:l;window.clearTimeout(_.current);const q=m?0:B?t:e;y(q),q===0?(typeof I=="function"&&I(),typeof H=="function"&&H(),x(B?"entered":"exited")):M.current=requestAnimationFrame(()=>{u8.flushSync(()=>{x(B?"pre-entering":"pre-exiting")}),M.current=requestAnimationFrame(()=>{typeof I=="function"&&I(),x(B?"entering":"exiting"),_.current=window.setTimeout(()=>{typeof H=="function"&&H(),x(B?"entered":"exited")},q)})})},O=B=>{if(window.clearTimeout(T.current),typeof(B?c:d)!="number"){R(B);return}T.current=window.setTimeout(()=>{R(B)},B?c:d)};return na(()=>{O(o)},[o]),S.useEffect(()=>()=>{window.clearTimeout(_.current),cancelAnimationFrame(M.current)},[]),{transitionDuration:b,transitionStatus:w,transitionTimingFunction:n||"ease"}}function Ac({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:o=n,mounted:r,children:i,timingFunction:s="ease",onExit:l,onEntered:c,onEnter:d,onExited:f,enterDelay:p,exitDelay:m}){const b=kP(),{transitionDuration:y,transitionStatus:w,transitionTimingFunction:x}=bce({mounted:r,exitDuration:o,duration:n,timingFunction:s,onExit:l,onEntered:c,onEnter:d,onExited:f,enterDelay:p,exitDelay:m});return y===0||b==="test"?r?C.jsx(C.Fragment,{children:i({})}):t?i({display:"none"}):null:w==="exited"?t?i({display:"none"}):null:C.jsx(C.Fragment,{children:i(gce({transition:e,duration:y,state:w,timingFunction:x}))})}Ac.displayName="@mantine/core/Transition";const[yce,zP]=I0("Popover component was not found in the tree");function yE({children:t,active:e=!0,refProp:n="ref",innerRef:o}){const r=bP(e),i=Ks(r,o);return Mp(t)?S.cloneElement(t,{[n]:i}):t}function VP(t){return C.jsx(mE,{tabIndex:-1,"data-autofocus":!0,...t})}yE.displayName="@mantine/core/FocusTrap";VP.displayName="@mantine/core/FocusTrapInitialFocus";yE.InitialFocus=VP;var UP={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const vce={},z0=gt((t,e)=>{var x,_,T,M;const n=Ae("PopoverDropdown",vce,t),{className:o,style:r,vars:i,children:s,onKeyDownCapture:l,variant:c,classNames:d,styles:f,...p}=n,m=zP(),b=Ple({opened:m.opened,shouldReturnFocus:m.returnFocus}),y=m.withRoles?{"aria-labelledby":m.getTargetId(),id:m.getDropdownId(),role:"dialog",tabIndex:-1}:{},w=Ks(e,m.floating);return m.disabled?null:C.jsx(Lp,{...m.portalProps,withinPortal:m.withinPortal,children:C.jsx(Ac,{mounted:m.opened,...m.transitionProps,transition:((x=m.transitionProps)==null?void 0:x.transition)||"fade",duration:((_=m.transitionProps)==null?void 0:_.duration)??150,keepMounted:m.keepMounted,exitDuration:typeof((T=m.transitionProps)==null?void 0:T.exitDuration)=="number"?m.transitionProps.exitDuration:(M=m.transitionProps)==null?void 0:M.duration,children:R=>C.jsx(yE,{active:m.trapFocus&&m.opened,innerRef:w,children:C.jsxs(Ge,{...y,...p,variant:c,onKeyDownCapture:Ale(()=>{var O,B;(O=m.onClose)==null||O.call(m),(B=m.onDismiss)==null||B.call(m)},{active:m.closeOnEscape,onTrigger:b,onKeyDown:l}),"data-position":m.placement,"data-fixed":m.floatingStrategy==="fixed"||void 0,...m.getStyles("dropdown",{className:o,props:n,classNames:d,styles:f,style:[{...R,zIndex:m.zIndex,top:m.y??0,left:m.x??0,width:m.width==="target"?void 0:ce(m.width)},m.resolvedStyles.dropdown,f==null?void 0:f.dropdown,r]}),children:[s,C.jsx(bE,{ref:m.arrowRef,arrowX:m.arrowX,arrowY:m.arrowY,visible:m.withArrow,position:m.placement,arrowSize:m.arrowSize,arrowRadius:m.arrowRadius,arrowOffset:m.arrowOffset,arrowPosition:m.arrowPosition,...m.getStyles("arrow",{props:n,classNames:d,styles:f})})]})})})})});z0.classes=UP;z0.displayName="@mantine/core/PopoverDropdown";const wce={refProp:"ref",popupType:"dialog"},vE=gt((t,e)=>{const{children:n,refProp:o,popupType:r,...i}=Ae("PopoverTarget",wce,t);if(!Mp(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=i,l=zP(),c=Ks(l.reference,cE(n),e),d=l.withRoles?{"aria-haspopup":r,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return S.cloneElement(n,{...s,...d,...l.targetProps,className:Ws(l.targetProps.className,s.className,n.props.className),[o]:c,...l.controlled?null:{onClick:l.onToggle}})});vE.displayName="@mantine/core/PopoverTarget";function FP({opened:t,floating:e,position:n,positionDependencies:o}){const[r,i]=S.useState(0);S.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return Foe(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,r,n]),na(()=>{e.update()},o),na(()=>{i(s=>s+1)},[t])}function kce(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function xce(t,e){const n=kce(t.middlewares),o=[Ui(t.offset)];return n.shift&&o.push(Tc(typeof n.shift=="boolean"?{limiter:k4(),padding:5}:{limiter:k4(),padding:5,...n.shift})),n.flip&&o.push(typeof n.flip=="boolean"?ii():ii(n.flip)),n.inline&&o.push(typeof n.inline=="boolean"?wh():wh(n.inline)),o.push(v8({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&o.push(R0({...typeof n.size=="boolean"?{}:n.size,apply({rects:r,availableWidth:i,availableHeight:s,...l}){var f;const d=((f=e().refs.floating.current)==null?void 0:f.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:r,availableWidth:i,availableHeight:s,...l}):Object.assign(d,{maxWidth:`${i}px`,maxHeight:`${s}px`})),t.width==="target"&&Object.assign(d,{width:`${r.reference.width}px`})}})),o}function Cce(t){const[e,n]=Ed({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),o=S.useRef(e),r=()=>{e&&n(!1)},i=()=>n(!e),s=Sd({strategy:t.strategy,placement:t.position,middleware:xce(t,()=>s)});return FP({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:s}),na(()=>{var l;(l=t.onPositionChange)==null||l.call(t,s.placement)},[s.placement]),na(()=>{var l,c;e!==o.current&&(e?(c=t.onOpen)==null||c.call(t):(l=t.onClose)==null||l.call(t)),o.current=e},[e,t.onClose,t.onOpen]),{floating:s,controlled:typeof t.opened=="boolean",opened:e,onClose:r,onToggle:i}}const _ce={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ap("popover"),__staticSelector:"Popover",width:"max-content"},Sce=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:co(e),"--popover-shadow":hP(n)}});function da(t){var He,Ke,We,tt,kt,vn;const e=Ae("Popover",_ce,t),{children:n,position:o,offset:r,onPositionChange:i,positionDependencies:s,opened:l,transitionProps:c,onExitTransitionEnd:d,onEnterTransitionEnd:f,width:p,middlewares:m,withArrow:b,arrowSize:y,arrowOffset:w,arrowRadius:x,arrowPosition:_,unstyled:T,classNames:M,styles:R,closeOnClickOutside:O,withinPortal:B,portalProps:I,closeOnEscape:H,clickOutsideEvents:q,trapFocus:Q,onClose:ve,onDismiss:ue,onOpen:xe,onChange:be,zIndex:pe,radius:j,shadow:z,id:U,defaultOpened:re,__staticSelector:N,withRoles:F,disabled:ne,returnFocus:le,variant:Ee,keepMounted:Pe,vars:Se,floatingStrategy:it,withOverlay:Xe,overlayProps:Dt,...Gt}=e,So=pt({name:N,props:e,classes:UP,classNames:M,styles:R,unstyled:T,rootSelector:"dropdown",vars:Se,varsResolver:Sce}),{resolvedStyles:L}=$0({classNames:M,styles:R,props:e}),P=S.useRef(null),[Y,de]=S.useState(null),[ae,se]=S.useState(null),{dir:Ce}=Dp(),ke=Op(U),fe=Cce({middlewares:m,width:p,position:PP(Ce,o),offset:typeof r=="number"?r+(b?y/2:0):r,arrowRef:P,arrowOffset:w,onPositionChange:i,positionDependencies:s,opened:l,defaultOpened:re,onChange:be,onOpen:xe,onClose:ve,onDismiss:ue,strategy:it});Lle(()=>{O&&(fe.onClose(),ue==null||ue())},q,[Y,ae]);const he=S.useCallback(Pt=>{de(Pt),fe.floating.refs.setReference(Pt)},[fe.floating.refs.setReference]),Be=S.useCallback(Pt=>{se(Pt),fe.floating.refs.setFloating(Pt)},[fe.floating.refs.setFloating]),_e=S.useCallback(()=>{var Pt;(Pt=c==null?void 0:c.onExited)==null||Pt.call(c),d==null||d()},[c==null?void 0:c.onExited,d]),De=S.useCallback(()=>{var Pt;(Pt=c==null?void 0:c.onEntered)==null||Pt.call(c),f==null||f()},[c==null?void 0:c.onEntered,f]);return C.jsxs(yce,{value:{returnFocus:le,disabled:ne,controlled:fe.controlled,reference:he,floating:Be,x:fe.floating.x,y:fe.floating.y,arrowX:(We=(Ke=(He=fe.floating)==null?void 0:He.middlewareData)==null?void 0:Ke.arrow)==null?void 0:We.x,arrowY:(vn=(kt=(tt=fe.floating)==null?void 0:tt.middlewareData)==null?void 0:kt.arrow)==null?void 0:vn.y,opened:fe.opened,arrowRef:P,transitionProps:{...c,onExited:_e,onEntered:De},width:p,withArrow:b,arrowSize:y,arrowOffset:w,arrowRadius:x,arrowPosition:_,placement:fe.floating.placement,trapFocus:Q,withinPortal:B,portalProps:I,zIndex:pe,radius:j,shadow:z,closeOnEscape:H,onDismiss:ue,onClose:fe.onClose,onToggle:fe.onToggle,getTargetId:()=>`${ke}-target`,getDropdownId:()=>`${ke}-dropdown`,withRoles:F,targetProps:Gt,__staticSelector:N,classNames:M,styles:R,unstyled:T,variant:Ee,keepMounted:Pe,getStyles:So,resolvedStyles:L,floatingStrategy:it},children:[n,Xe&&C.jsx(Ac,{transition:"fade",mounted:fe.opened,duration:(c==null?void 0:c.duration)||250,exitDuration:(c==null?void 0:c.exitDuration)||250,children:Pt=>C.jsx(Lp,{withinPortal:B,children:C.jsx(rp,{...Dt,...So("overlay",{className:Dt==null?void 0:Dt.className,style:[Pt,Dt==null?void 0:Dt.style]})})})})]})}da.Target=vE;da.Dropdown=z0;da.displayName="@mantine/core/Popover";da.extend=t=>t;var Zr={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const GP=S.forwardRef(({className:t,...e},n)=>C.jsxs(Ge,{component:"span",className:Ws(Zr.barsLoader,t),...e,ref:n,children:[C.jsx("span",{className:Zr.bar}),C.jsx("span",{className:Zr.bar}),C.jsx("span",{className:Zr.bar})]}));GP.displayName="@mantine/core/Bars";const qP=S.forwardRef(({className:t,...e},n)=>C.jsxs(Ge,{component:"span",className:Ws(Zr.dotsLoader,t),...e,ref:n,children:[C.jsx("span",{className:Zr.dot}),C.jsx("span",{className:Zr.dot}),C.jsx("span",{className:Zr.dot})]}));qP.displayName="@mantine/core/Dots";const KP=S.forwardRef(({className:t,...e},n)=>C.jsx(Ge,{component:"span",className:Ws(Zr.ovalLoader,t),...e,ref:n}));KP.displayName="@mantine/core/Oval";const WP={bars:GP,oval:KP,dots:qP},Ece={loaders:WP,type:"oval"},Tce=(t,{size:e,color:n})=>({root:{"--loader-size":Ft(e,"loader-size"),"--loader-color":n?Ii(n,t):void 0}}),fa=gt((t,e)=>{const n=Ae("Loader",Ece,t),{size:o,color:r,type:i,vars:s,className:l,style:c,classNames:d,styles:f,unstyled:p,loaders:m,variant:b,children:y,...w}=n,x=pt({name:"Loader",props:n,classes:Zr,className:l,style:c,classNames:d,styles:f,unstyled:p,vars:s,varsResolver:Tce});return y?C.jsx(Ge,{...x("root"),ref:e,...w,children:y}):C.jsx(Ge,{...x("root"),ref:e,component:m[i],variant:b,size:o,...w})});fa.defaultLoaders=WP;fa.classes=Zr;fa.displayName="@mantine/core/Loader";var Md={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const c3={orientation:"horizontal"},Mce=(t,{borderWidth:e})=>({group:{"--ai-border-width":ce(e)}}),wE=gt((t,e)=>{const n=Ae("ActionIconGroup",c3,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,orientation:c,vars:d,borderWidth:f,variant:p,mod:m,...b}=Ae("ActionIconGroup",c3,t),y=pt({name:"ActionIconGroup",props:n,classes:Md,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:d,varsResolver:Mce,rootSelector:"group"});return C.jsx(Ge,{...y("group"),ref:e,variant:p,mod:[{"data-orientation":c},m],role:"group",...b})});wE.classes=Md;wE.displayName="@mantine/core/ActionIconGroup";const u3={},Ace=(t,{radius:e,color:n,gradient:o,variant:r,autoContrast:i,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:i});return{groupSection:{"--section-height":Ft(s,"section-height"),"--section-padding-x":Ft(s,"section-padding-x"),"--section-fz":Ho(s),"--section-radius":e===void 0?void 0:co(e),"--section-bg":n||r?l.background:void 0,"--section-color":l.color,"--section-bd":n||r?l.border:void 0}}},kE=gt((t,e)=>{const n=Ae("ActionIconGroupSection",u3,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,vars:c,variant:d,gradient:f,radius:p,autoContrast:m,...b}=Ae("ActionIconGroupSection",u3,t),y=pt({name:"ActionIconGroupSection",props:n,classes:Md,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:c,varsResolver:Ace,rootSelector:"groupSection"});return C.jsx(Ge,{...y("groupSection"),ref:e,variant:d,...b})});kE.classes=Md;kE.displayName="@mantine/core/ActionIconGroupSection";const Rce={},Oce=(t,{size:e,radius:n,variant:o,gradient:r,color:i,autoContrast:s})=>{const l=t.variantColorResolver({color:i||t.primaryColor,theme:t,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--ai-size":Ft(e,"ai-size"),"--ai-radius":n===void 0?void 0:co(n),"--ai-bg":i||o?l.background:void 0,"--ai-hover":i||o?l.hover:void 0,"--ai-hover-color":i||o?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":i||o?l.border:void 0}}},Rc=_o((t,e)=>{const n=Ae("ActionIcon",Rce,t),{className:o,unstyled:r,variant:i,classNames:s,styles:l,style:c,loading:d,loaderProps:f,size:p,color:m,radius:b,__staticSelector:y,gradient:w,vars:x,children:_,disabled:T,"data-disabled":M,autoContrast:R,mod:O,...B}=n,I=pt({name:["ActionIcon",y],props:n,className:o,style:c,classes:Md,classNames:s,styles:l,unstyled:r,vars:x,varsResolver:Oce});return C.jsxs(Mc,{...I("root",{active:!T&&!d&&!M}),...B,unstyled:r,variant:i,size:p,disabled:T||d,ref:e,mod:[{loading:d,disabled:T||M},O],children:[C.jsx(Ac,{mounted:!!d,transition:"slide-down",duration:150,children:H=>C.jsx(Ge,{component:"span",...I("loader",{style:H}),"aria-hidden":!0,children:C.jsx(fa,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),C.jsx(Ge,{component:"span",mod:{loading:d},...I("icon"),children:_})]})});Rc.classes=Md;Rc.displayName="@mantine/core/ActionIcon";Rc.Group=wE;Rc.GroupSection=kE;const ZP=S.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},o)=>C.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:o,...n,children:C.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));ZP.displayName="@mantine/core/CloseIcon";var XP={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Nce={variant:"subtle"},Dce=(t,{size:e,radius:n,iconSize:o})=>({root:{"--cb-size":Ft(e,"cb-size"),"--cb-radius":n===void 0?void 0:co(n),"--cb-icon-size":ce(o)}}),V0=_o((t,e)=>{const n=Ae("CloseButton",Nce,t),{iconSize:o,children:r,vars:i,radius:s,className:l,classNames:c,style:d,styles:f,unstyled:p,"data-disabled":m,disabled:b,variant:y,icon:w,mod:x,__staticSelector:_,...T}=n,M=pt({name:_||"CloseButton",props:n,className:l,style:d,classes:XP,classNames:c,styles:f,unstyled:p,vars:i,varsResolver:Dce});return C.jsxs(Mc,{ref:e,...T,unstyled:p,variant:y,disabled:b,mod:[{disabled:b||m},x],...M("root",{variant:y,active:!b&&!m}),children:[w||C.jsx(ZP,{}),r]})});V0.classes=XP;V0.displayName="@mantine/core/CloseButton";function Lce(t){return S.Children.toArray(t).filter(Boolean)}var YP={root:"m_4081bf90"};const Bce={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Ice=(t,{grow:e,preventGrowOverflow:n,gap:o,align:r,justify:i,wrap:s},{childWidth:l})=>({root:{"--group-child-width":e&&n?l:void 0,"--group-gap":Rp(o),"--group-align":r,"--group-justify":i,"--group-wrap":s}}),qn=gt((t,e)=>{const n=Ae("Group",Bce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,children:c,gap:d,align:f,justify:p,wrap:m,grow:b,preventGrowOverflow:y,vars:w,variant:x,__size:_,mod:T,...M}=n,R=Lce(c),O=R.length,B=Rp(d??"md"),H={childWidth:`calc(${100/O}% - (${B} - ${B} / ${O}))`},q=pt({name:"Group",props:n,stylesCtx:H,className:r,style:i,classes:YP,classNames:o,styles:s,unstyled:l,vars:w,varsResolver:Ice});return C.jsx(Ge,{...q("root"),ref:e,variant:x,mod:[{grow:b},T],size:_,...M,children:R})});qn.classes=YP;qn.displayName="@mantine/core/Group";const[jce,Pce]=aE({size:"sm"}),$ce={},JP=gt((t,e)=>{const n=Ae("InputClearButton",$ce,t),{size:o,variant:r,vars:i,classNames:s,styles:l,...c}=n,d=Pce(),{resolvedClassNames:f,resolvedStyles:p}=$0({classNames:s,styles:l,props:n});return C.jsx(V0,{variant:r||"transparent",ref:e,size:o||(d==null?void 0:d.size)||"sm",classNames:f,styles:p,__staticSelector:"InputClearButton",...c})});JP.displayName="@mantine/core/InputClearButton";const[Hce,U0]=aE({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Pr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const d3={},zce=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${Ho(e)} - ${ce(2)})`}}),F0=gt((t,e)=>{const n=Ae("InputDescription",d3,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,size:d,__staticSelector:f,__inheritStyles:p=!0,variant:m,...b}=Ae("InputDescription",d3,n),y=U0(),w=pt({name:["InputWrapper",f],props:n,classes:Pr,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"description",vars:c,varsResolver:zce}),x=p&&(y==null?void 0:y.getStyles)||w;return C.jsx(Ge,{component:"p",ref:e,variant:m,size:d,...x("description",y!=null&&y.getStyles?{className:r,style:i}:void 0),...b})});F0.classes=Pr;F0.displayName="@mantine/core/InputDescription";const Vce={},Uce=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${Ho(e)} - ${ce(2)})`}}),G0=gt((t,e)=>{const n=Ae("InputError",Vce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,size:d,__staticSelector:f,__inheritStyles:p=!0,variant:m,...b}=n,y=pt({name:["InputWrapper",f],props:n,classes:Pr,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"error",vars:c,varsResolver:Uce}),w=U0(),x=p&&(w==null?void 0:w.getStyles)||y;return C.jsx(Ge,{component:"p",ref:e,variant:m,size:d,...x("error",w!=null&&w.getStyles?{className:r,style:i}:void 0),...b})});G0.classes=Pr;G0.displayName="@mantine/core/InputError";const f3={labelElement:"label"},Fce=(t,{size:e})=>({label:{"--input-label-size":Ho(e),"--input-asterisk-color":void 0}}),q0=gt((t,e)=>{const n=Ae("InputLabel",f3,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,labelElement:d,size:f,required:p,htmlFor:m,onMouseDown:b,children:y,__staticSelector:w,variant:x,mod:_,...T}=Ae("InputLabel",f3,n),M=pt({name:["InputWrapper",w],props:n,classes:Pr,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"label",vars:c,varsResolver:Fce}),R=U0(),O=(R==null?void 0:R.getStyles)||M;return C.jsxs(Ge,{...O("label",R!=null&&R.getStyles?{className:r,style:i}:void 0),component:d,variant:x,size:f,ref:e,htmlFor:d==="label"?m:void 0,mod:[{required:p},_],onMouseDown:B=>{b==null||b(B),!B.defaultPrevented&&B.detail>1&&B.preventDefault()},...T,children:[y,p&&C.jsx("span",{...O("required"),"aria-hidden":!0,children:" *"})]})});q0.classes=Pr;q0.displayName="@mantine/core/InputLabel";const h3={},xE=gt((t,e)=>{const n=Ae("InputPlaceholder",h3,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,__staticSelector:d,variant:f,error:p,mod:m,...b}=Ae("InputPlaceholder",h3,n),y=pt({name:["InputPlaceholder",d],props:n,classes:Pr,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"placeholder"});return C.jsx(Ge,{...y("placeholder"),mod:[{error:!!p},m],component:"span",variant:f,ref:e,...b})});xE.classes=Pr;xE.displayName="@mantine/core/InputPlaceholder";function Gce(t,{hasDescription:e,hasError:n}){const o=t.findIndex(c=>c==="input"),r=t.slice(0,o),i=t.slice(o+1),s=e&&r.includes("description")||n&&r.includes("error");return{offsetBottom:e&&i.includes("description")||n&&i.includes("error"),offsetTop:s}}const qce={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},Kce=(t,{size:e})=>({label:{"--input-label-size":Ho(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${Ho(e)} - ${ce(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${Ho(e)} - ${ce(2)})`}}),CE=gt((t,e)=>{const n=Ae("InputWrapper",qce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,size:d,variant:f,__staticSelector:p,inputContainer:m,inputWrapperOrder:b,label:y,error:w,description:x,labelProps:_,descriptionProps:T,errorProps:M,labelElement:R,children:O,withAsterisk:B,id:I,required:H,__stylesApiProps:q,mod:Q,...ve}=n,ue=pt({name:["InputWrapper",p],props:q||n,classes:Pr,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:Kce}),xe={size:d,variant:f,__staticSelector:p},be=Op(I),pe=typeof B=="boolean"?B:H,j=(M==null?void 0:M.id)||`${be}-error`,z=(T==null?void 0:T.id)||`${be}-description`,U=be,re=!!w&&typeof w!="boolean",N=!!x,F=`${re?j:""} ${N?z:""}`,ne=F.trim().length>0?F.trim():void 0,le=(_==null?void 0:_.id)||`${be}-label`,Ee=y&&C.jsx(q0,{labelElement:R,id:le,htmlFor:U,required:pe,...xe,..._,children:y},"label"),Pe=N&&C.jsx(F0,{...T,...xe,size:(T==null?void 0:T.size)||xe.size,id:(T==null?void 0:T.id)||z,children:x},"description"),Se=C.jsx(S.Fragment,{children:m(O)},"input"),it=re&&S.createElement(G0,{...M,...xe,size:(M==null?void 0:M.size)||xe.size,key:"error",id:(M==null?void 0:M.id)||j},w),Xe=b.map(Dt=>{switch(Dt){case"label":return Ee;case"input":return Se;case"description":return Pe;case"error":return it;default:return null}});return C.jsx(Hce,{value:{getStyles:ue,describedBy:ne,inputId:U,labelId:le,...Gce(b,{hasDescription:N,hasError:re})},children:C.jsx(Ge,{ref:e,variant:f,size:d,mod:[{error:!!w},Q],...ue("root"),...ve,children:Xe})})});CE.classes=Pr;CE.displayName="@mantine/core/InputWrapper";const Wce={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Zce=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ft(e.size,"input-height"),"--input-fz":Ho(e.size),"--input-radius":e.radius===void 0?void 0:co(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?ce(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?ce(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Ft(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),cr=_o((t,e)=>{const n=Ae("Input",Wce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,required:c,__staticSelector:d,__stylesApiProps:f,size:p,wrapperProps:m,error:b,disabled:y,leftSection:w,leftSectionProps:x,leftSectionWidth:_,rightSection:T,rightSectionProps:M,rightSectionWidth:R,rightSectionPointerEvents:O,leftSectionPointerEvents:B,variant:I,vars:H,pointer:q,multiline:Q,radius:ve,id:ue,withAria:xe,withErrorStyles:be,mod:pe,inputSize:j,__clearSection:z,__clearable:U,__defaultRightSection:re,...N}=n,{styleProps:F,rest:ne}=H0(N),le=U0(),Ee={offsetBottom:le==null?void 0:le.offsetBottom,offsetTop:le==null?void 0:le.offsetTop},Pe=pt({name:["Input",d],props:f||n,classes:Pr,className:r,style:i,classNames:o,styles:s,unstyled:l,stylesCtx:Ee,rootSelector:"wrapper",vars:H,varsResolver:Zce}),Se=xe?{required:c,disabled:y,"aria-invalid":!!b,"aria-describedby":le==null?void 0:le.describedBy,id:(le==null?void 0:le.inputId)||ue}:{},it=T||U&&z||re;return C.jsx(jce,{value:{size:p||"sm"},children:C.jsxs(Ge,{...Pe("wrapper"),...F,...m,mod:[{error:!!b&&be,pointer:q,disabled:y,multiline:Q,"data-with-right-section":!!it,"data-with-left-section":!!w},pe],variant:I,size:p,children:[w&&C.jsx("div",{...x,"data-position":"left",...Pe("section",{className:x==null?void 0:x.className,style:x==null?void 0:x.style}),children:w}),C.jsx(Ge,{component:"input",...ne,...Se,ref:e,required:c,mod:{disabled:y,error:!!b&&be},variant:I,__size:j,...Pe("input")}),it&&C.jsx("div",{...M,"data-position":"right",...Pe("section",{className:M==null?void 0:M.className,style:M==null?void 0:M.style}),children:it})]})})});cr.classes=Pr;cr.Wrapper=CE;cr.Label=q0;cr.Error=G0;cr.Description=F0;cr.Placeholder=xE;cr.ClearButton=JP;cr.displayName="@mantine/core/Input";function Xce(t,e,n){const o=Ae(t,e,n),{label:r,description:i,error:s,required:l,classNames:c,styles:d,className:f,unstyled:p,__staticSelector:m,__stylesApiProps:b,errorProps:y,labelProps:w,descriptionProps:x,wrapperProps:_,id:T,size:M,style:R,inputContainer:O,inputWrapperOrder:B,withAsterisk:I,variant:H,vars:q,mod:Q,...ve}=o,{styleProps:ue,rest:xe}=H0(ve),be={label:r,description:i,error:s,required:l,classNames:c,className:f,__staticSelector:m,__stylesApiProps:b||o,errorProps:y,labelProps:w,descriptionProps:x,unstyled:p,styles:d,size:M,style:R,inputContainer:O,inputWrapperOrder:B,withAsterisk:I,variant:H,id:T,mod:Q,..._};return{...xe,classNames:c,styles:d,unstyled:p,wrapperProps:{...be,...ue},inputProps:{required:l,classNames:c,styles:d,unstyled:p,size:M,__staticSelector:m,__stylesApiProps:b||o,error:s,variant:H,id:T}}}const Yce={__staticSelector:"InputBase",withAria:!0},Ad=_o((t,e)=>{const{inputProps:n,wrapperProps:o,...r}=Xce("InputBase",Yce,t);return C.jsx(cr.Wrapper,{...o,children:C.jsx(cr,{...n,...r,ref:e})})});Ad.classes={...cr.classes,...cr.Wrapper.classes};Ad.displayName="@mantine/core/InputBase";const Jce={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var QP={root:"m_8bffd616"};const Qce={},_E=_o((t,e)=>{const n=Ae("Flex",Qce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,gap:d,rowGap:f,columnGap:p,align:m,justify:b,wrap:y,direction:w,...x}=n,_=pt({name:"Flex",classes:QP,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c}),T=ur(),M=AP(),R=MP({styleProps:{gap:d,rowGap:f,columnGap:p,align:m,justify:b,wrap:y,direction:w},theme:T,data:Jce});return C.jsxs(C.Fragment,{children:[R.hasResponsiveStyles&&C.jsx(TP,{selector:`.${M}`,styles:R.styles,media:R.media}),C.jsx(Ge,{ref:e,..._("root",{className:M,style:B0(R.inlineStyles)}),...x})]})});_E.classes=QP;_E.displayName="@mantine/core/Flex";var e7={root:"m_b6d8b162"};function eue(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const tue={inherit:!1},nue=(t,{variant:e,lineClamp:n,gradient:o,size:r,color:i})=>({root:{"--text-fz":Ho(r),"--text-lh":Rle(r),"--text-gradient":e==="gradient"?$C(o,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?Ii(i,t):void 0}}),ji=_o((t,e)=>{const n=Ae("Text",tue,t),{lineClamp:o,truncate:r,inline:i,inherit:s,gradient:l,span:c,__staticSelector:d,vars:f,className:p,style:m,classNames:b,styles:y,unstyled:w,variant:x,mod:_,size:T,...M}=n,R=pt({name:["Text",d],props:n,classes:e7,className:p,style:m,classNames:b,styles:y,unstyled:w,vars:f,varsResolver:nue});return C.jsx(Ge,{...R("root",{focusable:!0}),ref:e,component:c?"span":"p",variant:x,mod:[{"data-truncate":eue(r),"data-line-clamp":typeof o=="number","data-inline":i,"data-inherit":s},_],size:T,...M})});ji.classes=e7;ji.displayName="@mantine/core/Text";function SE({size:t,style:e,...n}){const o=t!==void 0?{width:ce(t),height:ce(t),...e}:e;return C.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o,"aria-hidden":!0,...n,children:C.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const t7=S.createContext(null),oue=t7.Provider;function rue(){return{withinGroup:!!S.useContext(t7)}}var K0={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const iue={},sue=(t,{spacing:e})=>({group:{"--ag-spacing":Rp(e)}}),EE=gt((t,e)=>{const n=Ae("AvatarGroup",iue,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,spacing:d,...f}=n,p=pt({name:"AvatarGroup",classes:K0,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:sue,rootSelector:"group"});return C.jsx(oue,{value:!0,children:C.jsx(Ge,{ref:e,...p("group"),...f})})});EE.classes=K0;EE.displayName="@mantine/core/AvatarGroup";function lue(t){return C.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function aue(t){let e=0;for(let n=0;n<t.length;n+=1){const o=t.charCodeAt(n);e=(e<<5)-e+o,e|=0}return e}const cue=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function uue(t,e=cue){const n=aue(t),o=Math.abs(n)%e.length;return e[o]}function due(t,e=2){const n=t.split(" ");return n.length===1?t.slice(0,e).toUpperCase():n.map(o=>o[0]).slice(0,e).join("").toUpperCase()}const fue={},hue=(t,{size:e,radius:n,variant:o,gradient:r,color:i,autoContrast:s,name:l,allowedInitialsColors:c})=>{const d=i==="initials"&&typeof l=="string"?uue(l,c):i,f=t.variantColorResolver({color:d||"gray",theme:t,gradient:r,variant:o||"light",autoContrast:s});return{root:{"--avatar-size":Ft(e,"avatar-size"),"--avatar-radius":n===void 0?void 0:co(n),"--avatar-bg":d||o?f.background:void 0,"--avatar-color":d||o?f.color:void 0,"--avatar-bd":d||o?f.border:void 0}}},W0=_o((t,e)=>{const n=Ae("Avatar",fue,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,src:d,alt:f,radius:p,color:m,gradient:b,imageProps:y,children:w,autoContrast:x,mod:_,name:T,allowedInitialsColors:M,...R}=n,O=rue(),[B,I]=S.useState(!d),H=pt({name:"Avatar",props:n,classes:K0,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:hue});return S.useEffect(()=>I(!d),[d]),C.jsx(Ge,{...H("root"),mod:[{"within-group":O.withinGroup},_],ref:e,...R,children:B?C.jsx("span",{...H("placeholder"),title:f,children:w||typeof T=="string"&&due(T)||C.jsx(lue,{})}):C.jsx("img",{...y,...H("image"),src:d,alt:f,onError:q=>{var Q;I(!0),(Q=y==null?void 0:y.onError)==null||Q.call(y,q)}})})});W0.classes=K0;W0.displayName="@mantine/core/Avatar";W0.Group=EE;var n7={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const pue={},mue=(t,{radius:e,color:n,gradient:o,variant:r,size:i,autoContrast:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:s});return{root:{"--badge-height":Ft(i,"badge-height"),"--badge-padding-x":Ft(i,"badge-padding-x"),"--badge-fz":Ft(i,"badge-fz"),"--badge-radius":e===void 0?void 0:co(e),"--badge-bg":n||r?l.background:void 0,"--badge-color":n||r?l.color:void 0,"--badge-bd":n||r?l.border:void 0,"--badge-dot-color":r==="dot"?Ii(n,t):void 0}}},TE=_o((t,e)=>{const n=Ae("Badge",pue,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,radius:d,color:f,gradient:p,leftSection:m,rightSection:b,children:y,variant:w,fullWidth:x,autoContrast:_,circle:T,mod:M,...R}=n,O=pt({name:"Badge",props:n,classes:n7,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:mue});return C.jsxs(Ge,{variant:w,mod:[{block:x,circle:T,"with-right-section":!!b,"with-left-section":!!m},M],...O("root",{variant:w}),ref:e,...R,children:[m&&C.jsx("span",{...O("section"),"data-position":"left",children:m}),C.jsx("span",{...O("label"),children:y}),b&&C.jsx("span",{...O("section"),"data-position":"right",children:b})]})});TE.classes=n7;TE.displayName="@mantine/core/Badge";var Rd={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const p3={orientation:"horizontal"},gue=(t,{borderWidth:e})=>({group:{"--button-border-width":ce(e)}}),ME=gt((t,e)=>{const n=Ae("ButtonGroup",p3,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,orientation:c,vars:d,borderWidth:f,variant:p,mod:m,...b}=Ae("ButtonGroup",p3,t),y=pt({name:"ButtonGroup",props:n,classes:Rd,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:d,varsResolver:gue,rootSelector:"group"});return C.jsx(Ge,{...y("group"),ref:e,variant:p,mod:[{"data-orientation":c},m],role:"group",...b})});ME.classes=Rd;ME.displayName="@mantine/core/ButtonGroup";const m3={},bue=(t,{radius:e,color:n,gradient:o,variant:r,autoContrast:i,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:i});return{groupSection:{"--section-height":Ft(s,"section-height"),"--section-padding-x":Ft(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?Ho(s.replace("compact-","")):Ho(s),"--section-radius":e===void 0?void 0:co(e),"--section-bg":n||r?l.background:void 0,"--section-color":l.color,"--section-bd":n||r?l.border:void 0}}},AE=gt((t,e)=>{const n=Ae("ButtonGroupSection",m3,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,vars:c,variant:d,gradient:f,radius:p,autoContrast:m,...b}=Ae("ButtonGroupSection",m3,t),y=pt({name:"ButtonGroupSection",props:n,classes:Rd,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:c,varsResolver:bue,rootSelector:"groupSection"});return C.jsx(Ge,{...y("groupSection"),ref:e,variant:d,...b})});AE.classes=Rd;AE.displayName="@mantine/core/ButtonGroupSection";const yue={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${ce(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},vue={},wue=(t,{radius:e,color:n,gradient:o,variant:r,size:i,justify:s,autoContrast:l})=>{const c=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:l});return{root:{"--button-justify":s,"--button-height":Ft(i,"button-height"),"--button-padding-x":Ft(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?Ho(i.replace("compact-","")):Ho(i),"--button-radius":e===void 0?void 0:co(e),"--button-bg":n||r?c.background:void 0,"--button-hover":n||r?c.hover:void 0,"--button-color":c.color,"--button-bd":n||r?c.border:void 0,"--button-hover-color":n||r?c.hoverColor:void 0}}},ai=_o((t,e)=>{const n=Ae("Button",vue,t),{style:o,vars:r,className:i,color:s,disabled:l,children:c,leftSection:d,rightSection:f,fullWidth:p,variant:m,radius:b,loading:y,loaderProps:w,gradient:x,classNames:_,styles:T,unstyled:M,"data-disabled":R,autoContrast:O,mod:B,...I}=n,H=pt({name:"Button",props:n,classes:Rd,className:i,style:o,classNames:_,styles:T,unstyled:M,vars:r,varsResolver:wue}),q=!!d,Q=!!f;return C.jsxs(Mc,{ref:e,...H("root",{active:!l&&!y&&!R}),unstyled:M,variant:m,disabled:l||y,mod:[{disabled:l||R,loading:y,block:p,"with-left-section":q,"with-right-section":Q},B],...I,children:[C.jsx(Ac,{mounted:!!y,transition:yue,duration:150,children:ve=>C.jsx(Ge,{component:"span",...H("loader",{style:ve}),"aria-hidden":!0,children:C.jsx(fa,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...w})})}),C.jsxs("span",{...H("inner"),children:[d&&C.jsx(Ge,{component:"span",...H("section"),mod:{position:"left"},children:d}),C.jsx(Ge,{component:"span",mod:{loading:y},...H("label"),children:c}),f&&C.jsx(Ge,{component:"span",...H("section"),mod:{position:"right"},children:f})]})]})});ai.classes=Rd;ai.displayName="@mantine/core/Button";ai.Group=ME;ai.GroupSection=AE;const[kue,xue]=I0("Card component was not found in tree");var RE={root:"m_e615b15f",section:"m_599a2148"};const Cue={},Z0=_o((t,e)=>{const n=Ae("CardSection",Cue,t),{classNames:o,className:r,style:i,styles:s,vars:l,withBorder:c,inheritPadding:d,mod:f,...p}=n,m=xue();return C.jsx(Ge,{ref:e,mod:[{"with-border":c,"inherit-padding":d},f],...m.getStyles("section",{className:r,style:i,styles:s,classNames:o}),...p})});Z0.classes=RE;Z0.displayName="@mantine/core/CardSection";const _ue={},Sue=(t,{padding:e})=>({root:{"--card-padding":Rp(e)}}),Bp=_o((t,e)=>{const n=Ae("Card",_ue,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,children:d,padding:f,...p}=n,m=pt({name:"Card",props:n,classes:RE,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:Sue}),b=S.Children.toArray(d),y=b.map((w,x)=>typeof w=="object"&&w&&"type"in w&&w.type===Z0?S.cloneElement(w,{"data-first-section":x===0||void 0,"data-last-section":x===b.length-1||void 0}):w);return C.jsx(kue,{value:{getStyles:m},children:C.jsx(gE,{ref:e,unstyled:l,...m("root"),...p,children:y})})});Bp.classes=RE;Bp.displayName="@mantine/core/Card";Bp.Section=Z0;const[Eue,Tue]=aE(),Mue={};function o7(t){const{value:e,defaultValue:n,onChange:o,multiple:r,children:i}=Ae("ChipGroup",Mue,t),[s,l]=Ed({value:e,defaultValue:n,finalValue:r?[]:null,onChange:o}),c=f=>Array.isArray(s)?s.includes(f):f===s,d=f=>{const p=f.currentTarget.value;Array.isArray(s)?l(s.includes(p)?s.filter(m=>m!==p):[...s,p]):l(p)};return C.jsx(Eue,{value:{isChipSelected:c,onChange:d,multiple:r},children:i})}o7.displayName="@mantine/core/ChipGroup";var r7={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const Aue={type:"checkbox"},Rue=(t,{size:e,radius:n,variant:o,color:r,autoContrast:i})=>{const s=t.variantColorResolver({color:r||t.primaryColor,theme:t,variant:o||"filled",autoContrast:i});return{root:{"--chip-fz":Ho(e),"--chip-size":Ft(e,"chip-size"),"--chip-radius":n===void 0?void 0:co(n),"--chip-checked-padding":Ft(e,"chip-checked-padding"),"--chip-padding":Ft(e,"chip-padding"),"--chip-icon-size":Ft(e,"chip-icon-size"),"--chip-bg":r||o?s.background:void 0,"--chip-hover":r||o?s.hover:void 0,"--chip-color":r||o?s.color:void 0,"--chip-bd":r||o?s.border:void 0,"--chip-spacing":Ft(e,"chip-spacing")}}},X0=gt((t,e)=>{const n=Ae("Chip",Aue,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,id:d,checked:f,defaultChecked:p,onChange:m,value:b,wrapperProps:y,type:w,disabled:x,children:_,size:T,variant:M,icon:R,rootRef:O,autoContrast:B,mod:I,...H}=n,q=pt({name:"Chip",classes:r7,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:Rue}),Q=Tue(),ve=Op(d),{styleProps:ue,rest:xe}=H0(H),[be,pe]=Ed({value:f,defaultValue:p,finalValue:!1,onChange:m}),j=Q?{checked:Q.isChipSelected(b),onChange:U=>{Q.onChange(U),m==null||m(U.currentTarget.checked)},type:Q.multiple?"checkbox":"radio"}:{},z=j.checked||be;return C.jsxs(Ge,{size:T,variant:M,ref:O,mod:I,...q("root"),...ue,...y,children:[C.jsx("input",{type:w,...q("input"),checked:z,onChange:U=>pe(U.currentTarget.checked),id:ve,disabled:x,ref:e,value:b,...j,...xe}),C.jsxs("label",{htmlFor:ve,"data-checked":z||void 0,"data-disabled":x||void 0,...q("label",{variant:M||"filled"}),children:[z&&C.jsx("span",{...q("iconWrapper"),children:R||C.jsx(SE,{...q("checkIcon")})}),C.jsx("span",{children:_})]})]})});X0.classes=r7;X0.displayName="@mantine/core/Chip";X0.Group=o7;var i7={root:"m_3eebeb36",label:"m_9e365f20"};const Oue={orientation:"horizontal"},Nue=(t,{color:e,variant:n,size:o})=>({root:{"--divider-color":e?Ii(e,t):void 0,"--divider-border-style":n,"--divider-size":Ft(o,"divider-size")}}),OE=gt((t,e)=>{const n=Ae("Divider",Oue,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,color:d,orientation:f,label:p,labelPosition:m,mod:b,...y}=n,w=pt({name:"Divider",classes:i7,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:Nue});return C.jsx(Ge,{ref:e,mod:[{orientation:f,"with-label":!!p},b],...w("root"),...y,role:"separator",children:p&&C.jsx(Ge,{component:"span",mod:{position:m},...w("label"),children:p})})});OE.classes=i7;OE.displayName="@mantine/core/Divider";const Due={multiple:!1},s7=S.forwardRef((t,e)=>{const{onChange:n,children:o,multiple:r,accept:i,name:s,form:l,resetRef:c,disabled:d,capture:f,inputProps:p,...m}=Ae("FileButton",Due,t),b=S.useRef(null),y=()=>{var _;!d&&((_=b.current)==null||_.click())},w=_=>{n(r?Array.from(_.currentTarget.files):_.currentTarget.files[0]||null)};return wy(c,()=>{b.current&&(b.current.value="")}),C.jsxs(C.Fragment,{children:[o({onClick:y,...m}),C.jsx("input",{style:{display:"none"},type:"file",accept:i,multiple:r,onChange:w,ref:Ks(e,b),name:s,form:l,capture:f,...p})]})});s7.displayName="@mantine/core/FileButton";const Lue=({value:t})=>C.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t==null?void 0:t.name}),Bue={valueComponent:Lue},NE=gt((t,e)=>{const n=Ae("FileInput",Bue,t),{unstyled:o,vars:r,onChange:i,value:s,defaultValue:l,multiple:c,accept:d,name:f,form:p,valueComponent:m,clearable:b,clearButtonProps:y,readOnly:w,capture:x,fileInputProps:_,rightSection:T,size:M,placeholder:R,component:O,resetRef:B,classNames:I,styles:H,...q}=n,Q=S.useRef(null),{resolvedClassNames:ve,resolvedStyles:ue}=$0({classNames:I,styles:H,props:n}),[xe,be]=Ed({value:s,defaultValue:l,onChange:i,finalValue:c?[]:null}),pe=Array.isArray(xe)?xe.length!==0:xe!==null,j=T||(b&&pe&&!w?C.jsx(V0,{...y,variant:"subtle",onClick:()=>be(c?[]:null),size:M,unstyled:o}):null);S.useEffect(()=>{var U;(Array.isArray(xe)&&xe.length===0||xe===null)&&((U=Q.current)==null||U.call(Q))},[xe]);const z=m;return C.jsx(s7,{onChange:be,multiple:c,accept:d,name:f,form:p,resetRef:Ks(Q,B),disabled:w,capture:x,inputProps:_,children:U=>C.jsx(Ad,{component:O||"button",ref:e,rightSection:j,...U,...q,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:o,size:M,classNames:I,styles:H,children:pe?C.jsx(z,{value:xe}):C.jsx(cr.Placeholder,{__staticSelector:"FileInput",classNames:ve,styles:ue,children:R})})})});NE.classes=Ad.classes;NE.displayName="@mantine/core/FileInput";const Iue=NE;function jue({open:t,close:e,openDelay:n,closeDelay:o}){const r=S.useRef(-1),i=S.useRef(-1),s=()=>{window.clearTimeout(r.current),window.clearTimeout(i.current)},l=()=>{s(),n===0||n===void 0?t():r.current=window.setTimeout(t,n)},c=()=>{s(),o===0||o===void 0?e():i.current=window.setTimeout(e,o)};return S.useEffect(()=>s,[]),{openDropdown:l,closeDropdown:c}}var l7={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const g3={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Ap("overlay")},Pue=(t,{zIndex:e})=>({root:{"--lo-z-index":e==null?void 0:e.toString()}}),DE=gt((t,e)=>{const n=Ae("LoadingOverlay",g3,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,transitionProps:d,loaderProps:f,overlayProps:p,visible:m,zIndex:b,...y}=n,w=ur(),x=pt({name:"LoadingOverlay",classes:l7,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:Pue}),_={...g3.overlayProps,...p};return C.jsx(Ac,{transition:"fade",...d,mounted:!!m,children:T=>C.jsxs(Ge,{...x("root",{style:T}),ref:e,...y,children:[C.jsx(fa,{...x("loader"),unstyled:l,...f}),C.jsx(rp,{..._,...x("overlay"),darkHidden:!0,unstyled:l,color:(p==null?void 0:p.color)||w.white}),C.jsx(rp,{..._,...x("overlay"),lightHidden:!0,unstyled:l,color:(p==null?void 0:p.color)||w.colors.dark[5]})]})})});DE.classes=l7;DE.displayName="@mantine/core/LoadingOverlay";const[$ue,Ip]=I0("Menu component was not found in the tree");var Od={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Hue={},LE=gt((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=Ae("MenuDivider",Hue,t),c=Ip();return C.jsx(Ge,{ref:e,...c.getStyles("divider",{className:o,style:r,styles:i,classNames:n}),...l})});LE.classes=Od;LE.displayName="@mantine/core/MenuDivider";const zue={},BE=gt((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,onMouseEnter:l,onMouseLeave:c,onKeyDown:d,children:f,...p}=Ae("MenuDropdown",zue,t),m=S.useRef(null),b=Ip(),y=_i(d,_=>{var T,M;(_.key==="ArrowUp"||_.key==="ArrowDown")&&(_.preventDefault(),(M=(T=m.current)==null?void 0:T.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||M.focus())}),w=_i(l,()=>(b.trigger==="hover"||b.trigger==="click-hover")&&b.openDropdown()),x=_i(c,()=>(b.trigger==="hover"||b.trigger==="click-hover")&&b.closeDropdown());return C.jsxs(da.Dropdown,{...p,onMouseEnter:w,onMouseLeave:x,role:"menu","aria-orientation":"vertical",ref:Ks(e,m),...b.getStyles("dropdown",{className:o,style:r,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:y,children:[b.withInitialFocusPlaceholder&&C.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),f]})});BE.classes=Od;BE.displayName="@mantine/core/MenuDropdown";const Vue={},IE=_o((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,color:l,closeMenuOnClick:c,leftSection:d,rightSection:f,children:p,disabled:m,"data-disabled":b,...y}=Ae("MenuItem",Vue,t),w=Ip(),x=ur(),{dir:_}=Dp(),T=S.useRef(null),M=w.getItemIndex(T.current),R=y,O=_i(R.onMouseLeave,()=>w.setHovered(-1)),B=_i(R.onMouseEnter,()=>w.setHovered(w.getItemIndex(T.current))),I=_i(R.onClick,()=>{b||(typeof c=="boolean"?c&&w.closeDropdownImmediately():w.closeOnItemClick&&w.closeDropdownImmediately())}),H=_i(R.onFocus,()=>w.setHovered(w.getItemIndex(T.current))),q=l?x.variantColorResolver({color:l,theme:x,variant:"light"}):void 0,Q=l?Td({color:l,theme:x}):null;return C.jsxs(Mc,{...y,unstyled:w.unstyled,tabIndex:w.menuItemTabIndex,onFocus:H,...w.getStyles("item",{className:o,style:r,styles:i,classNames:n}),ref:Ks(T,e),role:"menuitem",disabled:m,"data-menu-item":!0,"data-disabled":m||b||void 0,"data-hovered":w.hovered===M?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:B,onMouseLeave:O,onClick:I,onKeyDown:fP({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:w.loop,dir:_,orientation:"vertical",onKeyDown:R.onKeyDown}),__vars:{"--menu-item-color":Q!=null&&Q.isThemeColor&&(Q==null?void 0:Q.shade)===void 0?`var(--mantine-color-${Q.color}-6)`:q==null?void 0:q.color,"--menu-item-hover":q==null?void 0:q.hover},children:[d&&C.jsx("div",{...w.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:d}),p&&C.jsx("div",{...w.getStyles("itemLabel",{styles:i,classNames:n}),children:p}),f&&C.jsx("div",{...w.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:f})]})});IE.classes=Od;IE.displayName="@mantine/core/MenuItem";const Uue={},jE=gt((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=Ae("MenuLabel",Uue,t),c=Ip();return C.jsx(Ge,{ref:e,...c.getStyles("label",{className:o,style:r,styles:i,classNames:n}),...l})});jE.classes=Od;jE.displayName="@mantine/core/MenuLabel";const Fue={refProp:"ref"},a7=S.forwardRef((t,e)=>{const{children:n,refProp:o,...r}=Ae("MenuTarget",Fue,t);if(!Mp(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=Ip(),s=n.props,l=_i(s.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),c=_i(s.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),d=_i(s.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return C.jsx(da.Target,{refProp:o,popupType:"menu",ref:e,...r,children:S.cloneElement(n,{onClick:l,onMouseEnter:c,onMouseLeave:d,"data-expanded":i.opened?!0:void 0})})});a7.displayName="@mantine/core/MenuTarget";const Gue={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function rn(t){const e=Ae("Menu",Gue,t),{children:n,onOpen:o,onClose:r,opened:i,defaultOpened:s,trapFocus:l,onChange:c,closeOnItemClick:d,loop:f,closeOnEscape:p,trigger:m,openDelay:b,closeDelay:y,classNames:w,styles:x,unstyled:_,variant:T,vars:M,menuItemTabIndex:R,keepMounted:O,withInitialFocusPlaceholder:B,...I}=e,H=pt({name:"Menu",classes:Od,props:e,classNames:w,styles:x,unstyled:_}),[q,{setHovered:Q,resetHovered:ve}]=Nle(),[ue,xe]=Ed({value:i,defaultValue:s,finalValue:!1,onChange:c}),[be,pe]=S.useState(!1),j=()=>{xe(!1),pe(!1),ue&&(r==null||r())},z=()=>{xe(!0),!ue&&(o==null||o())},U=()=>{ue?j():z()},{openDropdown:re,closeDropdown:N}=jue({open:z,close:j,closeDelay:y,openDelay:b}),F=Ee=>Ole("[data-menu-item]","[data-menu-dropdown]",Ee),{resolvedClassNames:ne,resolvedStyles:le}=$0({classNames:w,styles:x,props:e});return na(()=>{ve()},[ue]),C.jsx($ue,{value:{getStyles:H,opened:ue,toggleDropdown:U,getItemIndex:F,hovered:q,setHovered:Q,openedViaClick:be,setOpenedViaClick:pe,closeOnItemClick:d,closeDropdown:m==="click"?j:N,openDropdown:m==="click"?z:re,closeDropdownImmediately:j,loop:f,trigger:m,unstyled:_,menuItemTabIndex:R,withInitialFocusPlaceholder:B},children:C.jsx(da,{...I,opened:ue,onChange:U,defaultOpened:s,trapFocus:O?!1:l,closeOnEscape:p,__staticSelector:"Menu",classNames:ne,styles:le,unstyled:_,variant:T,keepMounted:O,children:n})})}rn.extend=t=>t;rn.withProps=rce(rn);rn.classes=Od;rn.displayName="@mantine/core/Menu";rn.Item=IE;rn.Label=jE;rn.Dropdown=BE;rn.Target=a7;rn.Divider=LE;const que={duration:100,transition:"fade"};function Kue(t,e){return{...que,...e,...t}}function Wue({offset:t,position:e,defaultOpened:n}){const[o,r]=S.useState(n),i=S.useRef(null),{x:s,y:l,elements:c,refs:d,update:f,placement:p}=Sd({placement:e,middleware:[Tc({crossAxis:!0,padding:5,rootBoundary:"document"})]}),m=p.includes("right")?t:e.includes("left")?t*-1:0,b=p.includes("bottom")?t:e.includes("top")?t*-1:0,y=S.useCallback(({clientX:w,clientY:x})=>{d.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:w,y:x,left:w+m,top:x+b,right:w,bottom:x}}})},[c.reference]);return S.useEffect(()=>{if(d.floating.current){const w=i.current;w.addEventListener("mousemove",y);const x=Ls(d.floating.current);return x.forEach(_=>{_.addEventListener("scroll",f)}),()=>{w.removeEventListener("mousemove",y),x.forEach(_=>{_.removeEventListener("scroll",f)})}}},[c.reference,d.floating.current,f,y,o]),{handleMouseMove:y,x:s,y:l,opened:o,setOpened:r,boundaryRef:i,floating:d.setFloating}}var Y0={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Zue={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Ap("popover")},Xue=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:co(e),"--tooltip-bg":n?Ii(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),PE=gt((t,e)=>{const n=Ae("TooltipFloating",Zue,t),{children:o,refProp:r,withinPortal:i,style:s,className:l,classNames:c,styles:d,unstyled:f,radius:p,color:m,label:b,offset:y,position:w,multiline:x,zIndex:_,disabled:T,defaultOpened:M,variant:R,vars:O,portalProps:B,...I}=n,H=ur(),q=pt({name:"TooltipFloating",props:n,classes:Y0,className:l,style:s,classNames:c,styles:d,unstyled:f,rootSelector:"tooltip",vars:O,varsResolver:Xue}),{handleMouseMove:Q,x:ve,y:ue,opened:xe,boundaryRef:be,floating:pe,setOpened:j}=Wue({offset:y,position:w,defaultOpened:M});if(!Mp(o))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const z=Ks(be,cE(o),e),U=o.props,re=F=>{var ne;(ne=U.onMouseEnter)==null||ne.call(U,F),Q(F),j(!0)},N=F=>{var ne;(ne=U.onMouseLeave)==null||ne.call(U,F),j(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(Lp,{...B,withinPortal:i,children:C.jsx(Ge,{...I,...q("tooltip",{style:{...RP(s,H),zIndex:_,display:!T&&xe?"block":"none",top:(ue&&Math.round(ue))??"",left:(ve&&Math.round(ve))??""}}),variant:R,ref:pe,mod:{multiline:x},children:b})}),S.cloneElement(o,{...U,[r]:z,onMouseEnter:re,onMouseLeave:N})]})});PE.classes=Y0;PE.displayName="@mantine/core/TooltipFloating";const c7=S.createContext(!1),Yue=c7.Provider,Jue=()=>S.useContext(c7),Que={openDelay:0,closeDelay:0};function $E(t){const{openDelay:e,closeDelay:n,children:o}=Ae("TooltipGroup",Que,t);return C.jsx(Yue,{value:!0,children:C.jsx(ure,{delay:{open:e,close:n},children:o})})}$E.displayName="@mantine/core/TooltipGroup";$E.extend=t=>t;function ede(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function tde(t){const e=ede(t.middlewares),n=[Ui(t.offset)];return e.shift&&n.push(Tc(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?ii():ii(e.flip)),n.push(v8({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?wh():wh(e.inline)):t.inline&&n.push(wh()),n}function nde(t){var B,I,H;const[e,n]=S.useState(t.defaultOpened),r=typeof t.opened=="boolean"?t.opened:e,i=Jue(),s=Op(),l=S.useCallback(q=>{n(q),q&&T(s)},[s]),{x:c,y:d,context:f,refs:p,update:m,placement:b,middlewareData:{arrow:{x:y,y:w}={}}}=Sd({strategy:t.strategy,placement:t.position,open:r,onOpenChange:l,middleware:tde(t)}),{delay:x,currentId:_,setCurrentId:T}=dre(f,{id:s}),{getReferenceProps:M,getFloatingProps:R}=T8([are(f,{enabled:(B=t.events)==null?void 0:B.hover,delay:i?x:{open:t.openDelay,close:t.closeDelay},mouseOnly:!((I=t.events)!=null&&I.touch)}),Cre(f,{enabled:(H=t.events)==null?void 0:H.focus,visibleOnly:!0}),Sre(f,{role:"tooltip"}),E8(f,{enabled:typeof t.opened>"u"})]);FP({opened:r,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:p,update:m}}),na(()=>{var q;(q=t.onPositionChange)==null||q.call(t,b)},[b]);const O=r&&_&&_!==s;return{x:c,y:d,arrowX:y,arrowY:w,reference:p.setReference,floating:p.setFloating,getFloatingProps:R,getReferenceProps:M,isGroupPhase:O,opened:r,placement:b}}const b3={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Ap("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},ode=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:co(e),"--tooltip-bg":n?Ii(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Nd=gt((t,e)=>{const n=Ae("Tooltip",b3,t),{children:o,position:r,refProp:i,label:s,openDelay:l,closeDelay:c,onPositionChange:d,opened:f,defaultOpened:p,withinPortal:m,radius:b,color:y,classNames:w,styles:x,unstyled:_,style:T,className:M,withArrow:R,arrowSize:O,arrowOffset:B,arrowRadius:I,arrowPosition:H,offset:q,transitionProps:Q,multiline:ve,events:ue,zIndex:xe,disabled:be,positionDependencies:pe,onClick:j,onMouseEnter:z,onMouseLeave:U,inline:re,variant:N,keepMounted:F,vars:ne,portalProps:le,mod:Ee,floatingStrategy:Pe,middlewares:Se,...it}=Ae("Tooltip",b3,n),{dir:Xe}=Dp(),Dt=S.useRef(null),Gt=nde({position:PP(Xe,r),closeDelay:c,openDelay:l,onPositionChange:d,opened:f,defaultOpened:p,events:ue,arrowRef:Dt,arrowOffset:B,offset:typeof q=="number"?q+(R?O/2:0):q,positionDependencies:[...pe,o],inline:re,strategy:Pe,middlewares:Se}),So=pt({name:"Tooltip",props:n,classes:Y0,className:M,style:T,classNames:w,styles:x,unstyled:_,rootSelector:"tooltip",vars:ne,varsResolver:ode});if(!Mp(o))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const L=Ks(Gt.reference,cE(o),e),P=Kue(Q,{duration:100,transition:"fade"}),Y=o.props;return C.jsxs(C.Fragment,{children:[C.jsx(Lp,{...le,withinPortal:m,children:C.jsx(Ac,{...P,keepMounted:F,mounted:!be&&!!Gt.opened,duration:Gt.isGroupPhase?10:P.duration,children:de=>C.jsxs(Ge,{...it,"data-fixed":Pe==="fixed"||void 0,variant:N,mod:[{multiline:ve},Ee],...Gt.getFloatingProps({ref:Gt.floating,className:So("tooltip").className,style:{...So("tooltip").style,...de,zIndex:xe,top:Gt.y??0,left:Gt.x??0}}),children:[s,C.jsx(bE,{ref:Dt,arrowX:Gt.arrowX,arrowY:Gt.arrowY,visible:R,position:Gt.placement,arrowSize:O,arrowOffset:B,arrowRadius:I,arrowPosition:H,...So("arrow")})]})})}),S.cloneElement(o,Gt.getReferenceProps({onClick:j,onMouseEnter:z,onMouseLeave:U,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Ws(M,Y.className),...Y,[i]:L}))]})});Nd.classes=Y0;Nd.displayName="@mantine/core/Tooltip";Nd.Floating=PE;Nd.Group=$E;var u7={root:"m_18320242","skeleton-fade":"m_299c329c"};const rde={visible:!0,animate:!0},ide=(t,{width:e,height:n,radius:o,circle:r})=>({root:{"--skeleton-height":ce(n),"--skeleton-width":ce(r?n:e),"--skeleton-radius":r?"1000px":o===void 0?void 0:co(o)}}),xy=gt((t,e)=>{const n=Ae("Skeleton",rde,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,width:d,height:f,circle:p,visible:m,radius:b,animate:y,mod:w,...x}=n,_=pt({name:"Skeleton",classes:u7,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:ide});return C.jsx(Ge,{ref:e,..._("root"),mod:[{visible:m,animate:y},w],...x})});xy.classes=u7;xy.displayName="@mantine/core/Skeleton";var d7={root:"m_6d731127"};const sde={gap:"md",align:"stretch",justify:"flex-start"},lde=(t,{gap:e,align:n,justify:o})=>({root:{"--stack-gap":Rp(e),"--stack-align":n,"--stack-justify":o}}),jp=gt((t,e)=>{const n=Ae("Stack",sde,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:c,align:d,justify:f,gap:p,variant:m,...b}=n,y=pt({name:"Stack",props:n,classes:d7,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:lde});return C.jsx(Ge,{ref:e,...y("root"),variant:m,...b})});jp.classes=d7;jp.displayName="@mantine/core/Stack";const[ade,HE]=I0("Tabs component was not found in the tree");var Pp={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const cde={},zE=gt((t,e)=>{const n=Ae("TabsList",cde,t),{children:o,className:r,grow:i,justify:s,classNames:l,styles:c,style:d,mod:f,...p}=n,m=HE();return C.jsx(Ge,{...p,...m.getStyles("list",{className:r,style:d,classNames:l,styles:c,props:n,variant:m.variant}),ref:e,role:"tablist",variant:m.variant,mod:[{grow:i,orientation:m.orientation,placement:m.orientation==="vertical"&&m.placement,inverted:m.inverted},f],"aria-orientation":m.orientation,__vars:{"--tabs-justify":s},children:o})});zE.classes=Pp;zE.displayName="@mantine/core/TabsList";const ude={},VE=gt((t,e)=>{const n=Ae("TabsPanel",ude,t),{children:o,className:r,value:i,classNames:s,styles:l,style:c,mod:d,keepMounted:f,...p}=n,m=HE(),b=m.value===i,y=m.keepMounted||f||b?o:null;return C.jsx(Ge,{...p,...m.getStyles("panel",{className:r,classNames:s,styles:l,style:[c,b?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:m.orientation},d],role:"tabpanel",id:m.getPanelId(i),"aria-labelledby":m.getTabId(i),children:y})});VE.classes=Pp;VE.displayName="@mantine/core/TabsPanel";const dde={},UE=gt((t,e)=>{const n=Ae("TabsTab",dde,t),{className:o,children:r,rightSection:i,leftSection:s,value:l,onClick:c,onKeyDown:d,disabled:f,color:p,style:m,classNames:b,styles:y,vars:w,mod:x,tabIndex:_,...T}=n,M=ur(),{dir:R}=Dp(),O=HE(),B=l===O.value,I=q=>{O.onChange(O.allowTabDeactivation&&l===O.value?null:l),c==null||c(q)},H={classNames:b,styles:y,props:n};return C.jsxs(Mc,{...T,...O.getStyles("tab",{className:o,style:m,variant:O.variant,...H}),disabled:f,unstyled:O.unstyled,variant:O.variant,mod:[{active:B,disabled:f,orientation:O.orientation,inverted:O.inverted,placement:O.orientation==="vertical"&&O.placement},x],ref:e,role:"tab",id:O.getTabId(l),"aria-selected":B,tabIndex:_!==void 0?_:B||O.value===null?0:-1,"aria-controls":O.getPanelId(l),onClick:I,__vars:{"--tabs-color":p?Ii(p,M):void 0},onKeyDown:fP({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:O.activateTabWithKeyboard,loop:O.loop,orientation:O.orientation||"horizontal",dir:R,onKeyDown:d}),children:[s&&C.jsx("span",{...O.getStyles("tabSection",H),"data-position":"left",children:s}),r&&C.jsx("span",{...O.getStyles("tabLabel",H),children:r}),i&&C.jsx("span",{...O.getStyles("tabSection",H),"data-position":"right",children:i})]})});UE.classes=Pp;UE.displayName="@mantine/core/TabsTab";const y3="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",fde={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},hde=(t,{radius:e,color:n,autoContrast:o})=>({root:{"--tabs-radius":co(e),"--tabs-color":Ii(n,t),"--tabs-text-color":Pae(o,t)?CP({color:n,theme:t,autoContrast:o}):void 0}}),Es=gt((t,e)=>{const n=Ae("Tabs",fde,t),{defaultValue:o,value:r,onChange:i,orientation:s,children:l,loop:c,id:d,activateTabWithKeyboard:f,allowTabDeactivation:p,variant:m,color:b,radius:y,inverted:w,placement:x,keepMounted:_,classNames:T,styles:M,unstyled:R,className:O,style:B,vars:I,autoContrast:H,mod:q,...Q}=n,ve=Op(d),[ue,xe]=Ed({value:r,defaultValue:o,finalValue:null,onChange:i}),be=pt({name:"Tabs",props:n,classes:Pp,className:O,style:B,classNames:T,styles:M,unstyled:R,vars:I,varsResolver:hde});return C.jsx(ade,{value:{placement:x,value:ue,orientation:s,id:ve,loop:c,activateTabWithKeyboard:f,getTabId:X4(`${ve}-tab`,y3),getPanelId:X4(`${ve}-panel`,y3),onChange:xe,allowTabDeactivation:p,variant:m,color:b,radius:y,inverted:w,keepMounted:_,unstyled:R,getStyles:be},children:C.jsx(Ge,{ref:e,id:ve,variant:m,mod:[{orientation:s,inverted:s==="horizontal"&&w,placement:s==="vertical"&&x},q],...be("root"),...Q,children:l})})});Es.classes=Pp;Es.displayName="@mantine/core/Tabs";Es.Tab=UE;Es.Panel=VE;Es.List=zE;const pde={},J0=gt((t,e)=>{const n=Ae("TextInput",pde,t);return C.jsx(Ad,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});J0.classes=Ad.classes;J0.displayName="@mantine/core/TextInput";const f7=(t,e,n=!1)=>{const o=[];function r(i,s="--bn"){for(const l in i){const c=l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),d=`${s}-${c}`;typeof i[l]!="object"?(typeof i[l]=="number"&&(i[l]=`${i[l]}px`),n?e.style.removeProperty(d):e.style.setProperty(d,i[l].toString())):r(i[l],d)}}return r(t),o},v3=(t,e)=>f7(t,e),mde={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},gde=t=>f7(mde,t,!0),h7=t=>C.jsxs(jp,{gap:0,className:"bn-tooltip",children:[C.jsx(ji,{size:"sm",lineClamp:5,children:t.mainTooltip}),t.secondaryTooltip&&C.jsx(ji,{size:"xs",lineClamp:5,children:t.secondaryTooltip})]}),Fk=S.forwardRef((t,e)=>{const{className:n,children:o,mainTooltip:r,secondaryTooltip:i,icon:s,isSelected:l,isDisabled:c,onClick:d,label:f,variant:p,...m}=t;rt(m,!1);const[b,y]=S.useState(!1),w=o?C.jsx(ai,{"aria-label":f,className:n,onMouseDown:x=>{bC()&&x.currentTarget.focus()},onClick:x=>{y(!0),d==null||d(x)},onPointerLeave:()=>y(!1),"aria-pressed":l,"data-selected":l||void 0,"data-test":r?r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1):void 0,size:p==="compact"?"compact-xs":"xs",disabled:c||!1,ref:e,...m,children:o}):C.jsx(Rc,{className:n,"aria-label":f,onMouseDown:x=>{bC()&&x.currentTarget.focus()},onClick:x=>{y(!0),d==null||d(x)},onPointerLeave:()=>y(!1),"aria-pressed":l,"data-selected":l||void 0,"data-test":r?r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1):void 0,size:p==="compact"?20:30,disabled:c||!1,ref:e,...m,children:s});return r?C.jsx(Nd,{disabled:b,withinPortal:!1,label:C.jsx(h7,{mainTooltip:r,secondaryTooltip:i}),children:w}):w}),bde=S.forwardRef((t,e)=>{const{className:n,text:o,icon:r,isSelected:i,mainTooltip:s,secondaryTooltip:l,onClick:c,onMouseEnter:d,...f}=t;rt(f,!1);const[p,m]=S.useState(!1),b=C.jsxs(X0,{className:n,checked:i===!0,wrapperProps:{onMouseEnter:d,onMouseLeave:()=>m(!1),onClick:y=>{m(!0),c==null||c(y)}},variant:"light",icon:null,ref:e,children:[C.jsx("span",{children:r}),C.jsx("span",{children:o})]});return!s||p?b:C.jsx(Nd,{refProp:"rootRef",withinPortal:!1,label:C.jsx(h7,{mainTooltip:s,secondaryTooltip:l}),children:b})}),yde=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r),C.jsx(qn,{className:n,ref:e,children:o})}),vde=S.forwardRef((t,e)=>{const{className:n,children:o,headerText:r,selected:i,onFocus:s,onBlur:l,tabIndex:c,...d}=t;rt(d,!1);const f=S.useRef(null);return S.useEffect(()=>{var p;i&&((p=f.current)==null||p.scrollIntoView({behavior:"smooth",block:"center"}))},[i]),C.jsxs(Bp,{className:dn(n,i?"selected":""),onFocus:s,onBlur:l,tabIndex:c,ref:oE([e,f]),children:[r&&C.jsx(ji,{className:"bn-header-text",children:r}),o]})}),wde=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r,!1),C.jsx(Bp.Section,{className:n,ref:e,children:o})}),kde=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r,!1),C.jsx(OE,{className:n,label:C.jsx(ji,{children:o}),ref:e})}),xde=S.forwardRef((t,e)=>{const{authorInfo:n,timeString:o,edited:r,...i}=t;return rt(i,!1),n==="loading"?C.jsxs(qn,{children:[C.jsx(xy,{height:24,width:24}),C.jsx("div",{children:C.jsx(xy,{height:12,width:100})})]}):C.jsxs(qn,{children:[C.jsx(W0,{src:n.avatarUrl,alt:n.username,radius:"xl",size:"sm",color:"initials"}),C.jsxs(ji,{fz:"sm",fw:"bold",children:[n.username,C.jsxs(ji,{fz:"xs",c:"dimmed",span:!0,ml:"xs",children:[o," ",r&&"(edited)"]})]})]})}),Cde=S.forwardRef((t,e)=>{const{className:n,showActions:o,authorInfo:r,timeString:i,edited:s,actions:l,children:c,...d}=t,{hovered:f,ref:p}=Kle(),{focused:m,ref:b}=yP(),y=oE([e,p]);return rt(d,!1),C.jsxs(qn,{pos:"relative",ref:y,className:n,children:[l&&(o===!0||o===void 0||o==="hover"&&f||m)?C.jsx(qn,{ref:b,style:{position:"absolute",right:0,top:0,zIndex:10},children:l}):null,C.jsx(xde,{...t}),c]})}),_de=S.forwardRef((t,e)=>{const{className:n,autoFocus:o,onFocus:r,onBlur:i,editor:s,editable:l,...c}=t;return rt(c,!1),C.jsx(y7,{autoFocus:o,className:n,editor:t.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:l,ref:e,onFocus:r,onBlur:i,children:C.jsx(J8,{formattingToolbar:Sde})})}),Sde=()=>{const t=X8([]).filter(e=>e.key!=="nestBlockButton"&&e.key!=="unnestBlockButton");return C.jsx(Y8,{blockTypeSelectItems:[],children:t})},Ede=S.forwardRef((t,e)=>{const{className:n,name:o,label:r,icon:i,value:s,autoFocus:l,placeholder:c,onKeyDown:d,onChange:f,onSubmit:p,...m}=t;return rt(m),C.jsx(J0,{size:"xs",className:n,ref:e,name:o,label:r,leftSection:i,value:s,autoFocus:l,"data-autofocus":l?"true":void 0,placeholder:c,onKeyDown:d,onChange:f,onSubmit:p})});var p7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w3=Fe.createContext&&Fe.createContext(p7),Tde=["attr","size","title"];function Mde(t,e){if(t==null)return{};var n=Ade(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Ade(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Cy.apply(this,arguments)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(o){Rde(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Rde(t,e,n){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m7(t){return t&&t.map((e,n)=>Fe.createElement(e.tag,_y({key:n},e.attr),m7(e.child)))}function g7(t){return e=>Fe.createElement(Dde,Cy({attr:_y({},t.attr)},e),m7(t.child))}function Dde(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=Mde(t,Tde),l=r||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Fe.createElement("svg",Cy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:c,style:_y(_y({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Fe.createElement("title",null,i),t.children)};return w3!==void 0?Fe.createElement(w3.Consumer,null,n=>e(n)):e(p7)}function Lde(t){return g7({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function Bde(t){return g7({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}const b7=S.createContext(void 0),Ide=S.forwardRef((t,e)=>{const{children:n,onOpenChange:o,position:r,sub:i,...s}=t;rt(s);const[l,c]=S.useState(!1),d=S.useRef(null),f=S.useRef(),p=S.useCallback(()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{c(!1)},250)},[]),m=S.useCallback(()=>{f.current&&clearTimeout(f.current),c(!0)},[]);return C.jsx(b7.Provider,{value:{onMenuMouseOver:m,onMenuMouseLeave:p},children:C.jsx(rn.Item,{className:"bn-menu-item bn-mt-sub-menu-item",ref:Np(e,d),onMouseOver:m,onMouseLeave:p,children:C.jsx(rn,{portalProps:{target:d.current?d.current.parentElement:void 0},middlewares:{flip:!0,shift:!0,inline:!1,size:!0},trigger:"hover",opened:l,onChange:o,position:r,children:n})})})}),jde=t=>{const{children:e,onOpenChange:n,position:o,sub:r,...i}=t;return rt(i),r?C.jsx(Ide,{...t}):C.jsx(rn,{withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:o,children:e})},Pde=S.forwardRef((t,e)=>{const{className:n,children:o,icon:r,checked:i,subTrigger:s,onClick:l,...c}=t;return rt(c,!1),s?C.jsxs("div",{onClick:d=>{d.preventDefault(),d.stopPropagation()},ref:e,...c,children:[o,C.jsx(Bde,{size:15})]}):C.jsx(rn.Item,{className:n,ref:e,leftSection:r,rightSection:i?C.jsx(SE,{size:10}):i===!1?C.jsx("div",{className:"bn-tick-space"}):null,onClick:l,...c,children:o})}),$de=t=>{const{children:e,sub:n,...o}=t;return rt(o),C.jsx(rn.Target,{children:e})},Hde=S.forwardRef((t,e)=>{const{className:n,children:o,sub:r,...i}=t;rt(i);const s=S.useContext(b7);return C.jsx(rn.Dropdown,{className:n,ref:e,onMouseOver:s==null?void 0:s.onMenuMouseOver,onMouseLeave:s==null?void 0:s.onMenuMouseLeave,children:o})}),zde=S.forwardRef((t,e)=>{const{className:n,...o}=t;return rt(o),C.jsx(rn.Divider,{className:n,ref:e})}),Vde=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r),C.jsx(rn.Label,{className:n,ref:e,children:o})}),Ude=S.forwardRef((t,e)=>{const{className:n,children:o,icon:r,onClick:i,onDragEnd:s,onDragStart:l,draggable:c,label:d,...f}=t;return rt(f,!1),r?C.jsx(Rc,{size:24,className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:c,"aria-label":d,...f,children:r}):C.jsx(ai,{className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:c,"aria-label":d,...f,children:o})}),Fde=S.forwardRef((t,e)=>{const{className:n,tabs:o,defaultOpenTab:r,openTab:i,setOpenTab:s,loading:l,...c}=t;return rt(c),C.jsx(qn,{className:n,ref:e,children:C.jsxs(Es,{value:i,defaultValue:r,onChange:s,children:[l&&C.jsx(DE,{visible:l}),C.jsx(Es.List,{children:o.map(d=>C.jsx(Es.Tab,{"data-test":`${d.name.toLowerCase()}-tab`,value:d.name,children:d.name},d.name))}),o.map(d=>C.jsx(Es.Panel,{value:d.name,children:d.tabPanel},d.name))]})})}),Gde=S.forwardRef((t,e)=>{const{className:n,children:o,onClick:r,label:i,...s}=t;return rt(s),C.jsx(ai,{size:"xs","aria-label":i,className:n,ref:e,onClick:r,...s,children:o})}),qde=S.forwardRef((t,e)=>{const{className:n,accept:o,value:r,placeholder:i,onChange:s,...l}=t;return rt(l),C.jsx(Iue,{size:"xs",className:n,ref:e,accept:o,value:r,placeholder:i,onChange:s,...l})}),Kde=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r),C.jsx("div",{className:n,ref:e,children:o})}),Wde=S.forwardRef((t,e)=>{const{className:n,value:o,placeholder:r,onKeyDown:i,onChange:s,...l}=t;return rt(l),C.jsx(J0,{size:"xs","data-test":"embed-input",className:n,ref:e,value:o,placeholder:r,onKeyDown:i,onChange:s})}),Zde=t=>{const{opened:e,position:n,children:o,...r}=t;return rt(r),C.jsx(da,{withinPortal:!1,opened:e,position:n,children:o})},Xde=t=>{const{children:e,...n}=t;return rt(n),C.jsx(vE,{children:e})},Yde=S.forwardRef((t,e)=>{const{className:n,children:o,variant:r,...i}=t;return rt(i),C.jsx(z0,{className:n,ref:e,children:o})}),Jde=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r,!1),C.jsx(qn,{align:"center",gap:0,className:n,ref:e,...r,children:o})}),Qde=S.forwardRef((t,e)=>{const{className:n,children:o,icon:r,onClick:i,onDragEnd:s,onDragStart:l,draggable:c,label:d,...f}=t;return rt(f,!1),r?C.jsx(Rc,{size:24,className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:c,"aria-label":d,...f,children:r}):C.jsx(ai,{className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:c,"aria-label":d,...f,children:o})}),efe=S.forwardRef((t,e)=>{const{className:n,children:o,id:r,...i}=t;return rt(i),C.jsx(jp,{gap:0,className:n,ref:e,id:r,role:"listbox",children:o})}),tfe=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r),C.jsx(qn,{className:n,ref:e,children:C.jsx(qn,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),nfe=S.forwardRef((t,e)=>{const{className:n,isSelected:o,onClick:r,item:i,id:s,...l}=t;rt(l);const c=S.useRef(null);return S.useEffect(()=>{if(!c.current||!o)return;const d=aP(c.current,document.querySelector(".bn-suggestion-menu"));d==="top"?c.current.scrollIntoView(!0):d==="bottom"&&c.current.scrollIntoView(!1)},[o]),C.jsxs(qn,{gap:0,className:n,ref:Np(e,c),id:s,role:"option",onClick:r,"aria-selected":o||void 0,children:[i.icon&&C.jsx(qn,{className:"bn-mt-suggestion-menu-item-section","data-position":"left",children:i.icon}),C.jsxs(jp,{gap:0,className:"bn-mt-suggestion-menu-item-body",children:[C.jsx(ji,{className:"bn-mt-suggestion-menu-item-title",children:i.title}),C.jsx(ji,{className:"bn-mt-suggestion-menu-item-subtitle",children:i.subtext})]}),i.badge&&C.jsx(qn,{"data-position":"right",className:"bn-mt-suggestion-menu-item-section",children:C.jsx(TE,{size:"xs",children:i.badge})})]})}),ofe=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r),C.jsx(qn,{className:n,ref:e,children:o})}),rfe=S.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return rt(r),C.jsx(fa,{className:n,type:"dots",ref:e})}),ife=S.forwardRef((t,e)=>{const{className:n,children:o,id:r,columns:i,...s}=t;return rt(s),C.jsx("div",{className:n,style:{gridTemplateColumns:`repeat(${i}, 1fr)`},ref:e,id:r,role:"grid",children:o})}),sfe=S.forwardRef((t,e)=>{const{className:n,children:o,columns:r,...i}=t;return rt(i),C.jsx(qn,{className:n,style:{gridColumn:`1 / ${r+1}`},ref:e,children:C.jsx(qn,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),lfe=S.forwardRef((t,e)=>{const{className:n,isSelected:o,onClick:r,item:i,id:s,...l}=t;rt(l);const c=S.useRef(null);return S.useEffect(()=>{if(!c.current||!o)return;const d=aP(c.current,document.querySelector(".bn-grid-suggestion-menu"));d==="top"?c.current.scrollIntoView(!0):d==="bottom"&&c.current.scrollIntoView(!1)},[o]),C.jsx("div",{className:n,ref:Np(e,c),id:s,role:"option",onClick:r,"aria-selected":o||void 0,children:i.icon})}),afe=S.forwardRef((t,e)=>{const{className:n,children:o,columns:r,...i}=t;return rt(i),C.jsx(fa,{className:n,style:{gridColumn:`1 / ${r+1}`},type:"dots",ref:e})}),cfe=S.forwardRef((t,e)=>{const{children:n,className:o,onMouseDown:r,onClick:i,...s}=t;return rt(s,!1),C.jsx(ai,{className:o,ref:e,onMouseDown:r,onClick:i,...s,children:n})}),ufe=S.forwardRef((t,e)=>{const{className:n,children:o,draggable:r,onDragStart:i,onDragEnd:s,style:l,label:c,...d}=t;return rt(d,!1),C.jsx(ai,{className:n,ref:e,"aria-label":c,draggable:r,onDragStart:i,onDragEnd:s,style:l,...d,children:o})}),Gk=S.forwardRef((t,e)=>{const{className:n,children:o,onMouseEnter:r,onMouseLeave:i,variant:s,...l}=t;rt(l);const{ref:c,focused:d}=yP(),f=bP(d),p=Np(e,c,f);return C.jsx(_E,{className:n,ref:p,role:"toolbar",onMouseEnter:r,onMouseLeave:i,gap:s==="action-toolbar"?2:void 0,children:o})}),qk=S.forwardRef((t,e)=>{const{className:n,items:o,isDisabled:r,...i}=t;rt(i);const s=o.filter(l=>l.isSelected)[0];return s?C.jsxs(rn,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:r,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},children:[C.jsx(rn.Target,{children:C.jsx(ai,{onMouseDown:l=>{bC()&&l.currentTarget.focus()},leftSection:s.icon,rightSection:C.jsx(Lde,{}),size:"xs",variant:"subtle",disabled:r,children:s.text})}),C.jsx(rn.Dropdown,{className:n,ref:e,children:o.map(l=>C.jsx(rn.Item,{onClick:l.onClick,leftSection:l.icon,rightSection:l.isSelected?C.jsx(SE,{size:10,className:"bn-tick-icon"}):C.jsx("div",{className:"bn-tick-space"}),disabled:l.isDisabled,children:l.text},l.text))})]}):null}),dfe={FormattingToolbar:{Root:Gk,Button:Fk,Select:qk},FilePanel:{Root:Fde,Button:Gde,FileInput:qde,TabPanel:Kde,TextInput:Wde},GridSuggestionMenu:{Root:ife,Item:lfe,EmptyItem:sfe,Loader:afe},LinkToolbar:{Root:Gk,Button:Fk,Select:qk},SideMenu:{Root:Jde,Button:Qde},SuggestionMenu:{Root:efe,Item:nfe,EmptyItem:tfe,Label:ofe,Loader:rfe},TableHandle:{Root:ufe,ExtendButton:cfe},Generic:{Badge:{Root:bde,Group:yde},Form:{Root:t=>C.jsx("div",{children:t.children}),TextInput:Ede},Menu:{Root:jde,Trigger:$de,Dropdown:Hde,Divider:zde,Label:Vde,Item:Pde,Button:Ude},Popover:{Root:Zde,Trigger:Xde,Content:Yde},Toolbar:{Root:Gk,Button:Fk,Select:qk}},Comments:{Comment:Cde,Editor:_de,Card:vde,CardSection:wde,ExpandSectionsPrompt:kde}},ffe={activeClassName:""},y7=t=>{const{className:e,theme:n,...o}=t,r=Fi(),i=rP(),s=(r==null?void 0:r.colorSchemePreference)||i,l=S.useCallback(d=>{if(d&&(gde(d),typeof n=="object")){if("light"in n&&"dark"in n){v3(n[s==="dark"?"dark":"light"],d);return}v3(n,d);return}},[s,n]),c=typeof n=="string"?n:s!=="no-preference"?s:"light";return C.jsx(D8.Provider,{value:dfe,children:C.jsx(EP,{theme:ffe,cssVariablesSelector:".bn-mantine",getRootElement:()=>{},children:C.jsx(nle,{"data-mantine-color-scheme":c,className:dn("bn-mantine",e||""),theme:typeof n=="object"?void 0:n,...o,ref:l})})})},hfe={slash_menu:{heading:{title:" 1",subtext:"   ",aliases:["","1","1"],group:""},heading_2:{title:" 2",subtext:"  ",aliases:["2","2"," "],group:""},heading_3:{title:" 3",subtext:"    ",aliases:["3","3"," "],group:""},quote:{title:"",subtext:"  ",aliases:["quotation","blockquote","bq"],group:" "},numbered_list:{title:" ",subtext:"   ",aliases:[""," ",""," "],group:" "},bullet_list:{title:" ",subtext:"    ",aliases:[""," ",""," "],group:" "},check_list:{title:" ",subtext:"    ",aliases:["  "," ",""," "," "," "," "],group:" "},paragraph:{title:"",subtext:"   ",aliases:["",""],group:" "},code_block:{title:"",subtext:"     ",aliases:["",""],group:" "},page_break:{title:" ",subtext:" ",aliases:["page","break","separator","",""],group:" "},table:{title:"",subtext:" ",aliases:[""],group:""},image:{title:"",subtext:" ",aliases:[""," ","","","","",""],group:""},video:{title:"",subtext:" ",aliases:[""," ","","","","",""],group:""},audio:{title:"",subtext:" ",aliases:[""," ","","","","",""],group:""},file:{title:"",subtext:" ",aliases:["","","","",""],group:""},emoji:{title:" ",subtext:"   ",aliases:[" ","","","",""],group:""}},placeholders:{default:"    '/' ",heading:"",bulletListItem:"",numberedListItem:"",checkListItem:"",new_comment:" ...",edit_comment:" ...",comment_reply:" ..."},file_blocks:{image:{add_button_text:" "},video:{add_button_text:" "},audio:{add_button_text:" "},file:{add_button_text:" "}},side_menu:{add_block_label:" ",drag_handle_label:"  "},drag_handle:{delete_menuitem:"",colors_menuitem:"",header_row_menuitem:" ",header_column_menuitem:" "},table_handle:{delete_column_menuitem:" ",delete_row_menuitem:" ",add_left_menuitem:"   ",add_right_menuitem:"   ",add_above_menuitem:"  ",add_below_menuitem:"  ",split_cell_menuitem:" ",merge_cells_menuitem:" ",background_color_menuitem:" "},suggestion_menu:{no_items_title:"    ",loading:" "},color_picker:{text_title:"",background_title:"",colors:{default:"",gray:"",brown:"",red:"",orange:"",yellow:"",green:"",blue:"",purple:"",pink:""}},formatting_toolbar:{bold:{tooltip:"",secondary_tooltip:"Mod+B"},italic:{tooltip:"",secondary_tooltip:"Mod+I"},underline:{tooltip:" ",secondary_tooltip:"Mod+U"},strike:{tooltip:"",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"",secondary_tooltip:""},colors:{tooltip:""},link:{tooltip:" ",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"  ",input_placeholder:"  "},file_replace:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_rename:{tooltip:{image:"  ",video:"  ",audio:"  ",file:"  "},input_placeholder:{image:"  ",video:"  ",audio:"  ",file:"  "}},file_download:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_delete:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_preview_toggle:{tooltip:" "},nest:{tooltip:" ",secondary_tooltip:"Tab"},unnest:{tooltip:" ",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"   "},align_center:{tooltip:"   "},align_right:{tooltip:"   "},align_justify:{tooltip:" "},table_cell_merge:{tooltip:" "},comment:{tooltip:" "}},file_panel:{upload:{title:"",file_placeholder:{image:" ",video:" ",audio:" ",file:" "},upload_error:":  "},embed:{title:"",embed_button:{image:" ",video:" ",audio:" ",file:" "},url_placeholder:" "}},link_toolbar:{delete:{tooltip:" "},edit:{text:" ",tooltip:""},open:{tooltip:"   "},form:{title_placeholder:" ",url_placeholder:" "}},comments:{actions:{add_reaction:" ",resolve:"",edit_comment:" ",delete_comment:" ",more_actions:"  "},reactions:{reacted_by:" "},sidebar:{marked_as_resolved:"    ",more_replies:t=>`${t}  `}},generic:{ctrl_shortcut:"Ctrl"}},pfe={slash_menu:{heading:{title:"berschrift 1",subtext:"Hauptebene berschrift",aliases:["h","berschrift1","h1"],group:"berschriften"},heading_2:{title:"berschrift 2",subtext:"Wichtige Abschnittsberschrift",aliases:["h2","berschrift2","unterberschrift"],group:"berschriften"},heading_3:{title:"berschrift 3",subtext:"Unterabschnitts- und Gruppenberschrift",aliases:["h3","berschrift3","unterberschrift"],group:"berschriften"},quote:{title:"Zitat",subtext:"Zitat oder Auszug",aliases:["quotation","blockquote","bq"],group:"Grundlegende Blcke"},numbered_list:{title:"Nummerierte Liste",subtext:"Liste mit nummerierten Elementen",aliases:["ol","li","liste","nummerierteliste","nummerierte liste"],group:"Grundlegende Blcke"},bullet_list:{title:"Aufzhlungsliste",subtext:"Liste mit unnummerierten Elementen",aliases:["ul","li","liste","aufzhlungsliste","aufzhlung liste"],group:"Grundlegende Blcke"},check_list:{title:"Checkliste",subtext:"Liste mit Kontrollkstchen",aliases:["ul","li","liste","checkliste","check liste","geprfte liste","kontrollkstchen"],group:"Grundlegende Blcke"},paragraph:{title:"Absatz",subtext:"Der Hauptteil Ihres Dokuments",aliases:["p","absatz"],group:"Grundlegende Blcke"},code_block:{title:"Codeblock",subtext:"Codeblock mit Syntaxhervorhebung",aliases:["code","pre"],group:"Grundlegende Blcke"},page_break:{title:"Seitenumbruch",subtext:"Seitentrenner",aliases:["page","break","separator","seitenumbruch","trenner"],group:"Grundlegende Blcke"},table:{title:"Tabelle",subtext:"Tabelle mit editierbaren Zellen",aliases:["tabelle"],group:"Erweitert"},image:{title:"Bild",subtext:"Grenvernderbares Bild mit Beschriftung",aliases:["bild","bildhochladen","hochladen","img","bild","medien","url"],group:"Medien"},video:{title:"Video",subtext:"Grenvernderbares Video mit Beschriftung",aliases:["video","videoupload","hochladen","mp4","film","medien","url"],group:"Medien"},audio:{title:"Audio",subtext:"Eingebettetes Audio mit Beschriftung",aliases:["audio","audioupload","hochladen","mp3","ton","medien","url"],group:"Medien"},file:{title:"Datei",subtext:"Eingebettete Datei",aliases:["datei","hochladen","einbetten","medien","url"],group:"Medien"},emoji:{title:"Emoji",subtext:"Nach Emoji suchen und einfgen",aliases:["emoji","emote","emotion","gesicht"],group:"Andere"}},placeholders:{default:"Text eingeben oder '/' fr Befehle tippen",heading:"berschrift",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Einen Kommentar schreiben ",edit_comment:"Kommentar bearbeiten ",comment_reply:"Kommentar hinzufgen "},file_blocks:{image:{add_button_text:"Bild hinzufgen"},video:{add_button_text:"Video hinzufgen"},audio:{add_button_text:"Audio hinzufgen"},file:{add_button_text:"Datei hinzufgen"}},side_menu:{add_block_label:"Block hinzufgen",drag_handle_label:"Blockmen ffnen"},drag_handle:{delete_menuitem:"Lschen",colors_menuitem:"Farben",header_row_menuitem:"Kopfzeile",header_column_menuitem:"Kopfspalte"},table_handle:{delete_column_menuitem:"Spalte lschen",delete_row_menuitem:"Zeile lschen",add_left_menuitem:"Spalte links hinzufgen",add_right_menuitem:"Spalte rechts hinzufgen",add_above_menuitem:"Zeile oberhalb hinzufgen",add_below_menuitem:"Zeile unterhalb hinzufgen",split_cell_menuitem:"Zelle teilen",merge_cells_menuitem:"Zellen zusammenfhren",background_color_menuitem:"Hintergrundfarbe"},suggestion_menu:{no_items_title:"Keine Elemente gefunden",loading:"Laden "},color_picker:{text_title:"Text",background_title:"Hintergrund",colors:{default:"Standard",gray:"Grau",brown:"Braun",red:"Rot",orange:"Orange",yellow:"Gelb",green:"Grn",blue:"Blau",purple:"Lila",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fett",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Unterstrichen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Durchgestrichen",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Farben"},link:{tooltip:"Link erstellen",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Beschriftung bearbeiten",input_placeholder:"Beschriftung bearbeiten"},file_replace:{tooltip:{image:"Bild ersetzen",video:"Video ersetzen",audio:"Audio ersetzen",file:"Datei ersetzen"}},file_rename:{tooltip:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"},input_placeholder:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"}},file_download:{tooltip:{image:"Bild herunterladen",video:"Video herunterladen",audio:"Audio herunterladen",file:"Datei herunterladen"}},file_delete:{tooltip:{image:"Bild lschen",video:"Video lschen",audio:"Audio lschen",file:"Datei lschen"}},file_preview_toggle:{tooltip:"Vorschau umschalten"},nest:{tooltip:"Block verschachteln",secondary_tooltip:"Tab"},unnest:{tooltip:"Block entnesten",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Text linksbndig"},align_center:{tooltip:"Text zentrieren"},align_right:{tooltip:"Text rechtsbndig"},align_justify:{tooltip:"Text Blocksatz"},table_cell_merge:{tooltip:"Zellen zusammenfhren"},comment:{tooltip:"Kommentar hinzufgen"}},file_panel:{upload:{title:"Hochladen",file_placeholder:{image:"Bild hochladen",video:"Video hochladen",audio:"Audio hochladen",file:"Datei hochladen"},upload_error:"Fehler: Hochladen fehlgeschlagen"},embed:{title:"Einbetten",embed_button:{image:"Bild einbetten",video:"Video einbetten",audio:"Audio einbetten",file:"Datei einbetten"},url_placeholder:"URL eingeben"}},link_toolbar:{delete:{tooltip:"Link entfernen"},edit:{text:"Link bearbeiten",tooltip:"Bearbeiten"},open:{tooltip:"In neuem Tab ffnen"},form:{title_placeholder:"Titel bearbeiten",url_placeholder:"URL bearbeiten"}},comments:{actions:{add_reaction:"Reaktion hinzufgen",resolve:"Lsen",edit_comment:"Kommentar bearbeiten",delete_comment:"Kommentar lschen",more_actions:"Weitere Aktionen"},reactions:{reacted_by:"Reagiert von"},sidebar:{marked_as_resolved:"Als gelst markiert",more_replies:t=>`${t} weitere Antworten`}},generic:{ctrl_shortcut:"Strg"}},mfe={slash_menu:{heading:{title:"Encabezado 1",subtext:"Encabezado de primer nivel",aliases:["h","encabezado1","h1"],group:"Encabezados"},heading_2:{title:"Encabezado 2",subtext:"Encabezado de seccin principal",aliases:["h2","encabezado2","subencabezado"],group:"Encabezados"},heading_3:{title:"Encabezado 3",subtext:"Encabezado de subseccin y grupo",aliases:["h3","encabezado3","subencabezado"],group:"Encabezados"},quote:{title:"Cita",subtext:"Cita o extracto",aliases:["quotation","blockquote","bq"],group:"Bloques bsicos"},numbered_list:{title:"Lista Numerada",subtext:"Lista con elementos ordenados",aliases:["ol","li","lista","lista numerada"],group:"Bloques bsicos"},bullet_list:{title:"Lista con Vietas",subtext:"Lista con elementos no ordenados",aliases:["ul","li","lista","lista con vietas"],group:"Bloques bsicos"},check_list:{title:"Lista de Verificacin",subtext:"Lista con casillas de verificacin",aliases:["ul","li","lista","lista de verificacin","lista de chequeo","checkbox"],group:"Bloques bsicos"},paragraph:{title:"Prrafo",subtext:"El cuerpo de tu documento",aliases:["p","prrafo"],group:"Bloques bsicos"},code_block:{title:"Bloque de Cdigo",subtext:"Bloque de cdigo con resaltado de sintaxis",aliases:["code","pre"],group:"Bloques bsicos"},page_break:{title:"Salto de pgina",subtext:"Separador de pgina",aliases:["page","break","separator","salto","separador"],group:"Bloques bsicos"},table:{title:"Tabla",subtext:"Tabla con celdas editables",aliases:["tabla"],group:"Avanzado"},image:{title:"Imagen",subtext:"Imagen redimensionable con leyenda",aliases:["imagen","subir imagen","cargar","img","foto","media","url"],group:"Medios"},video:{title:"Vdeo",subtext:"Vdeo redimensionable con leyenda",aliases:["video","subir vdeo","cargar","mp4","pelcula","media","url"],group:"Medios"},audio:{title:"Audio",subtext:"Audio incrustado con leyenda",aliases:["audio","subir audio","cargar","mp3","sonido","media","url"],group:"Medios"},file:{title:"Archivo",subtext:"Archivo incrustado",aliases:["archivo","cargar","incrustar","media","url"],group:"Medios"},emoji:{title:"Emoji",subtext:"Busca e inserta un emoji",aliases:["emoji","emoticono","emocin","cara"],group:"Otros"}},placeholders:{default:"Escribe o teclea '/' para comandos",heading:"Encabezado",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escribe un comentario...",edit_comment:"Editar comentario...",comment_reply:"Agregar comentario..."},file_blocks:{image:{add_button_text:"Agregar imagen"},video:{add_button_text:"Agregar vdeo"},audio:{add_button_text:"Agregar audio"},file:{add_button_text:"Agregar archivo"}},side_menu:{add_block_label:"Agregar bloque",drag_handle_label:"Abrir men de bloque"},drag_handle:{delete_menuitem:"Eliminar",colors_menuitem:"Colores",header_row_menuitem:"Fila de encabezado",header_column_menuitem:"Columna de encabezado"},table_handle:{delete_column_menuitem:"Eliminar columna",delete_row_menuitem:"Eliminar fila",add_left_menuitem:"Agregar columna a la izquierda",add_right_menuitem:"Agregar columna a la derecha",add_above_menuitem:"Agregar fila arriba",add_below_menuitem:"Agregar fila abajo",split_cell_menuitem:"Dividir celda",merge_cells_menuitem:"Combinar celdas",background_color_menuitem:"Color de fondo"},suggestion_menu:{no_items_title:"No se encontraron elementos",loading:"Cargando"},color_picker:{text_title:"Texto",background_title:"Fondo",colors:{default:"Por defecto",gray:"Gris",brown:"Marrn",red:"Rojo",orange:"Naranja",yellow:"Amarillo",green:"Verde",blue:"Azul",purple:"Morado",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrita",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursiva",secondary_tooltip:"Mod+I"},underline:{tooltip:"Subrayado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Tachado",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Cdigo",secondary_tooltip:""},colors:{tooltip:"Colores"},link:{tooltip:"Crear enlace",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar leyenda",input_placeholder:"Editar leyenda"},file_replace:{tooltip:{image:"Reemplazar imagen",video:"Reemplazar vdeo",audio:"Reemplazar audio",file:"Reemplazar archivo"}},file_rename:{tooltip:{image:"Renombrar imagen",video:"Renombrar vdeo",audio:"Renombrar audio",file:"Renombrar archivo"},input_placeholder:{image:"Renombrar imagen",video:"Renombrar vdeo",audio:"Renombrar audio",file:"Renombrar archivo"}},file_download:{tooltip:{image:"Descargar imagen",video:"Descargar vdeo",audio:"Descargar audio",file:"Descargar archivo"}},file_delete:{tooltip:{image:"Eliminar imagen",video:"Eliminar vdeo",audio:"Eliminar audio",file:"Eliminar archivo"}},file_preview_toggle:{tooltip:"Alternar vista previa"},nest:{tooltip:"Anidar bloque",secondary_tooltip:"Tab"},unnest:{tooltip:"Desanidar bloque",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinear texto a la izquierda"},align_center:{tooltip:"Alinear texto al centro"},align_right:{tooltip:"Alinear texto a la derecha"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Combinar celdas"},comment:{tooltip:"Aadir comentario"}},file_panel:{upload:{title:"Subir",file_placeholder:{image:"Subir imagen",video:"Subir vdeo",audio:"Subir audio",file:"Subir archivo"},upload_error:"Error: Fallo en la subida"},embed:{title:"Incrustar",embed_button:{image:"Incrustar imagen",video:"Incrustar vdeo",audio:"Incrustar audio",file:"Incrustar archivo"},url_placeholder:"Introduce la URL"}},link_toolbar:{delete:{tooltip:"Eliminar enlace"},edit:{text:"Editar enlace",tooltip:"Editar"},open:{tooltip:"Abrir en nueva pestaa"},form:{title_placeholder:"Editar ttulo",url_placeholder:"Editar URL"}},comments:{actions:{add_reaction:"Agregar reaccin",resolve:"Resolver",edit_comment:"Editar comentario",delete_comment:"Eliminar comentario",more_actions:"Ms acciones"},reactions:{reacted_by:"Reaccionado por"},sidebar:{marked_as_resolved:"Marcado como resuelto",more_replies:t=>`${t} respuestas ms`}},generic:{ctrl_shortcut:"Ctrl"}},gfe={slash_menu:{heading:{title:"Titre 1",subtext:"Utilis pour un titre de premier niveau",aliases:["h","titre1","h1"],group:"Titres"},heading_2:{title:"Titre 2",subtext:"Titre de deuxime niveau Utilis pour les sections cls",aliases:["h2","titre2","sous-titre"],group:"Titres"},heading_3:{title:"Titre 3",subtext:"Titre de troisime niveau utilis pour les sous-sections et les titres de groupe",aliases:["h3","titre3","sous-titre"],group:"Titres"},quote:{title:"Citation",subtext:"Citation ou extrait",aliases:["quotation","blockquote","bq"],group:"Blocs de base"},numbered_list:{title:"Liste Numrote",subtext:"Utilis pour afficher une liste numrote",aliases:["ol","li","liste","listenumrote","liste numrote"],group:"Blocs de base"},bullet_list:{title:"Liste  puces",subtext:"Utilis pour afficher une liste  puce non numrote",aliases:["ul","li","liste","listepuces","liste  puces","bullet points","bulletpoints"],group:"Blocs de base"},check_list:{title:"Liste de tches",subtext:"Utilis pour afficher une liste avec des cases  cocher",aliases:["ul","li","liste","liste de vrification","liste coche","case  cocher","checklist","checkbox","check box","to do","todo"],group:"Blocs de base"},paragraph:{title:"Paragraphe",subtext:"Utilis pour le corps de votre document",aliases:["p","paragraphe","texte"],group:"Blocs de base"},code_block:{title:"Bloc de code",subtext:"Bloc de code avec coloration syntaxique",aliases:["code","pre"],group:"Blocs de base"},page_break:{title:"Saut de page",subtext:"Sparateur de page",aliases:["page","break","separator","saut","sparateur"],group:"Blocs de base"},table:{title:"Tableau",subtext:"Utilis pour les tableaux",aliases:["tableau","grille"],group:"Avanc"},image:{title:"Image",subtext:"Insrer une image",aliases:["image","uploadImage","tlcharger image","tlverser image","uploader image","img","photo","mdia","url"],group:"Mdias"},video:{title:"Vido",subtext:"Insrer une vido",aliases:["vido","tlcharger vido","tlverser vido","mp4","film","mdia","url"],group:"Mdia"},audio:{title:"Audio",subtext:"Insrer un audio",aliases:["audio","tlcharger audio","tlverser audio","mp3","son","mdia","url"],group:"Mdia"},file:{title:"Fichier",subtext:"Insrer un fichier",aliases:["fichier","tlverser fichier","intgrer fichier","insrer fichier","mdia","url"],group:"Mdia"},emoji:{title:"Emoji",subtext:"Utilis pour insrer un emoji",aliases:["emoji","moticne","motion","visage","smiley"],group:"Autres"}},placeholders:{default:"Entrez du texte ou tapez '/' pour faire apparatre les options de mise en page",heading:"Titre",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"crire un commentaire...",edit_comment:"Modifier le commentaire...",comment_reply:"Ajouter un commentaire..."},file_blocks:{image:{add_button_text:"Ajouter une image"},video:{add_button_text:"Ajouter une vido"},audio:{add_button_text:"Ajouter un audio"},file:{add_button_text:"Ajouter un fichier"}},side_menu:{add_block_label:"Ajouter un bloc",drag_handle_label:"Ouvrir le menu du bloc"},drag_handle:{delete_menuitem:"Supprimer",colors_menuitem:"Couleurs",header_row_menuitem:"En-tte de ligne",header_column_menuitem:"En-tte de colonne"},table_handle:{delete_column_menuitem:"Supprimer la colonne",delete_row_menuitem:"Supprimer la ligne",add_left_menuitem:"Ajouter une colonne  gauche",add_right_menuitem:"Ajouter une colonne  droite",add_above_menuitem:"Ajouter une ligne au-dessus",add_below_menuitem:"Ajouter une ligne en dessous",split_cell_menuitem:"Diviser la cellule",merge_cells_menuitem:"Fusionner les cellules",background_color_menuitem:"Couleur de fond"},suggestion_menu:{no_items_title:"Aucun lment trouv",loading:"Chargement"},color_picker:{text_title:"Texte",background_title:"Fond",colors:{default:"Dfaut",gray:"Gris",brown:"Marron",red:"Rouge",orange:"Orange",yellow:"Jaune",green:"Vert",blue:"Bleu",purple:"Violet",pink:"Rose"}},formatting_toolbar:{bold:{tooltip:"Gras",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italique",secondary_tooltip:"Mod+I"},underline:{tooltip:"Souligner",secondary_tooltip:"Mod+U"},strike:{tooltip:"Barr",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Couleurs"},link:{tooltip:"Crer un lien",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Modifier la lgende",input_placeholder:"Modifier la lgende"},file_replace:{tooltip:{image:"Remplacer l'image",video:"Remplacer la vido",audio:"Remplacer l'audio",file:"Remplacer le fichier"}},file_rename:{tooltip:{image:"Renommer l'image",video:"Renommer la vido",audio:"Renommer l'audio",file:"Renommer le fichier"},input_placeholder:{image:"Renommer l'image",video:"Renommer la vido",audio:"Renommer l'audio",file:"Renommer le fichier"}},file_download:{tooltip:{image:"Tlcharger l'image",video:"Tlcharger la vido",audio:"Tlcharger l'audio",file:"Tlcharger le fichier"}},file_delete:{tooltip:{image:"Supprimer l'image",video:"Supprimer la vido",audio:"Supprimer l'audio",file:"Supprimer le fichier"}},file_preview_toggle:{tooltip:"Basculer l'aperu"},nest:{tooltip:"Augmenter le retrait du bloc",secondary_tooltip:"Tab"},unnest:{tooltip:"Diminuer le retait du bloc",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Aligner le texte  gauche"},align_center:{tooltip:"Aligner le texte au centre"},align_right:{tooltip:"Aligner le texte  droite"},align_justify:{tooltip:"Justifier le texte"},table_cell_merge:{tooltip:"Fusionner les cellules"},comment:{tooltip:"Ajouter un commentaire"}},file_panel:{upload:{title:"Tlcharger",file_placeholder:{image:"Tlcharger une image",video:"Tlcharger une vido",audio:"Tlcharger un fichier audio",file:"Tlcharger un fichier"},upload_error:"Erreur : chec du tlchargement"},embed:{title:"Intgrer",embed_button:{image:"Intgrer une image",video:"Intgrer une vido",audio:"Intgrer un fichier audio",file:"Intgrer un fichier"},url_placeholder:"Entrez l'URL"}},link_toolbar:{delete:{tooltip:"Supprimer le lien"},edit:{text:"Modifier le lien",tooltip:"Modifier"},open:{tooltip:"Ouvrir dans un nouvel onglet"},form:{title_placeholder:"Modifier le titre",url_placeholder:"Modifier l'URL"}},comments:{actions:{add_reaction:"Ajouter une raction",resolve:"Rsoudre",edit_comment:"Modifier le commentaire",delete_comment:"Supprimer le commentaire",more_actions:"Plus d'actions"},reactions:{reacted_by:"Ragi par"},sidebar:{marked_as_resolved:"Marqu comme rsolu",more_replies:t=>`${t} rponses de plus`}},generic:{ctrl_shortcut:"Ctrl"}},bfe={slash_menu:{heading:{title:"Naslov 1",subtext:"Glavni naslov",aliases:["h","naslov1","h1"],group:"Naslovi"},heading_2:{title:"Naslov 2",subtext:"Naslov poglavlja",aliases:["h2","naslov2","podnaslov"],group:"Naslovi"},heading_3:{title:"Naslov 3",subtext:"Naslov podpoglavlja",aliases:["h3","naslov3","podnaslov"],group:"Naslovi"},quote:{title:"Citat",subtext:"Citat ili izvadak",aliases:["quotation","blockquote","bq"],group:"Osnovni blokovi"},numbered_list:{title:"Numerirani popis",subtext:"Popis s numeriranim stavkama",aliases:["poredaniPopis","stavkaPopisa","popis","numeriraniPopis","numerirani popis"],group:"Osnovni blokovi"},bullet_list:{title:"Popis s oznakama",subtext:"Popis s grafikim oznakama",aliases:["neporedaniPopis","stavkaPopisa","popis","popisSOznakama","popis s oznakama"],group:"Osnovni blokovi"},check_list:{title:"Check lista",subtext:"Popis s kuicama za oznaavanje",aliases:["neporedaniPopis","stavkaPopisa","popis","popisZaProvjeru","check lista","oznaeni popis","kuicaZaOznaavanje"],group:"Osnovni blokovi"},paragraph:{title:"Normalan tekst",subtext:"Tekst paragrafa",aliases:["p","paragraf"],group:"Osnovni blokovi"},table:{title:"Tablica",subtext:"Tablica s podesivim elijama",aliases:["tablica"],group:"Napredno"},code_block:{title:"Blok koda",subtext:"Blok koda sa sintaksnim isticanjem",aliases:["code","pre"],group:"Osnovni blokovi"},page_break:{title:"Prijelom stranice",subtext:"Razdjelnik stranice",aliases:["page","break","separator","prijelom","razdjelnik"],group:"Osnovni blokovi"},image:{title:"Slika",subtext:"Slika s podesivom veliinom i natpisom",aliases:["slika","uitavanjeSlike","uitaj","img","fotografija","medij","url"],group:"Mediji"},video:{title:"Video",subtext:"Video s podesivom veliinom i natpisom",aliases:["video","uitavanjeVidea","uitaj","mp4","film","medij","url"],group:"Mediji"},audio:{title:"Audio",subtext:"Audio s natpisom",aliases:["audio","uitavanjeAudija","uitaj","mp3","zvuk","medij","url"],group:"Mediji"},file:{title:"Datoteka",subtext:"Ugraena datoteka",aliases:["datoteka","uitaj","ugradi","medij","url"],group:"Mediji"},emoji:{title:"Emoji",subtext:"Pretrai i umetni emoji",aliases:["emoji","emotikon","emocija","lice"],group:"Ostalo"}},placeholders:{default:"Unesi tekst ili upii / za naredbe",heading:"Naslov",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napiite komentar...",edit_comment:"Uredi komentar...",comment_reply:"Dodaj komentar..."},file_blocks:{image:{add_button_text:"Dodaj sliku"},video:{add_button_text:"Dodaj video"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj datoteku"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Meni za dodavanje bloka"},drag_handle:{delete_menuitem:"Ukloni",colors_menuitem:"Boje",header_row_menuitem:"Zaglavni redak",header_column_menuitem:"Zaglavni stupac"},table_handle:{delete_column_menuitem:"Ukloni stupac",delete_row_menuitem:"Ukloni redak",add_left_menuitem:"Dodaj stupac lijevo",add_right_menuitem:"Dodaj stupac desno",add_above_menuitem:"Dodaj redak iznad",add_below_menuitem:"Dodaj redak ispod",split_cell_menuitem:"Podijeli eliju",merge_cells_menuitem:"Spoji elije",background_color_menuitem:"Boja pozadine"},suggestion_menu:{no_items_title:"Stavke nisu pronaene",loading:"Uitavanje"},color_picker:{text_title:"Tekst",background_title:"Pozadina",colors:{default:"Zadano",gray:"Siva",brown:"Smea",red:"Crvena",orange:"Naranasta",yellow:"uta",green:"Zelena",blue:"Plava",purple:"Ljubiasta",pink:"Ruiasta"}},formatting_toolbar:{bold:{tooltip:"Podebljano",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kurziv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podcrtano",secondary_tooltip:"Mod+U"},strike:{tooltip:"Precrtano",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Boja"},link:{tooltip:"Kreiraj poveznicu",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Uredi natpis",input_placeholder:"Uredi natpis"},file_replace:{tooltip:{image:"Zamijeni sliku",video:"Zamijeni video",audio:"Zamijeni audio",file:"Zamijeni datoteku"}},file_rename:{tooltip:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"},input_placeholder:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"}},file_download:{tooltip:{image:"Preuzmi sliku",video:"Preuzmi video",audio:"Preuzmi audio",file:"Preuzmi datoteku"}},file_delete:{tooltip:{image:"Ukloni sliku",video:"Ukloni video",audio:"Ukloni audio",file:"Ukloni datoteku"}},file_preview_toggle:{tooltip:"Prikai/sakrij pregled"},nest:{tooltip:"Ugnijezdi blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Razgnijezdi blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Poravnaj tekst lijevo"},align_center:{tooltip:"Poravnaj tekst po sredini"},align_right:{tooltip:"Poravnaj tekst desno"},align_justify:{tooltip:"Poravnaj tekst obostrano"},table_cell_merge:{tooltip:"Spoji elije"},comment:{tooltip:"Dodaj komentar"}},file_panel:{upload:{title:"Uitaj",file_placeholder:{image:"Uitaj sliku",video:"Uitaj video",audio:"Uitaj audio",file:"Uitaj datoteku"},upload_error:"Pogreka: Uitavanje nije uspjelo"},embed:{title:"Ugradi",embed_button:{image:"Ugradi sliku",video:"Ugradi video",audio:"Ugradi audio",file:"Ugradi datoteku"},url_placeholder:"Dodaj URL"}},link_toolbar:{delete:{tooltip:"Ukloni poveznicu"},edit:{text:"Uredi poveznicu",tooltip:"Uredi"},open:{tooltip:"Otvori u novoj kartici"},form:{title_placeholder:"Uredi naslov",url_placeholder:"Uredi URL"}},comments:{actions:{add_reaction:"Dodaj reakciju",resolve:"Rijei",edit_comment:"Uredi komentar",delete_comment:"Obrii komentar",more_actions:"Vie radnji"},reactions:{reacted_by:"Reagirao/la"},sidebar:{marked_as_resolved:"Oznaeno kao rijeeno",more_replies:t=>`${t} dodatnih odgovora`}},generic:{ctrl_shortcut:"Ctrl"}},yfe={slash_menu:{heading:{title:"Fyrirsgn 1",subtext:"Nota fyrir efstu fyrirsgn",aliases:["h","fyrirsogn1","h1"],group:"Fyrirsagnir"},heading_2:{title:"Fyrirsgn 2",subtext:"Nota fyrir lykilhluta",aliases:["h2","fyrirsogn2","undirfyrirsogn"],group:"Fyrirsagnir"},heading_3:{title:"Fyrirsgn 3",subtext:"Nota fyrir undirhluta og hpfyrirsagnir",aliases:["h3","fyrirsogn3","undirfyrirsogn"],group:"Fyrirsagnir"},quote:{title:"Tilvitnun",subtext:"Tilvitnun ea tdrttur",aliases:["quotation","blockquote","bq"],group:"Grunnblokkar"},numbered_list:{title:"Nmeru listi",subtext:"Nota til a birta nmeraan lista",aliases:["ol","li","listi","numeradurlisti"],group:"Grunnblokkar"},bullet_list:{title:"Punktalisti",subtext:"Nota til a birta raaan lista",aliases:["ul","li","listi","punktalisti"],group:"Grunnblokkar"},check_list:{title:"Athugunarlisti",subtext:"Nota til a sna lista me gtreitum",aliases:["ul","li","listi","athugunarlisti","merktur listi"],group:"Grunnblokkar"},paragraph:{title:"Mlsgrein",subtext:"Nota fyrir meginml skjalsins",aliases:["p","malsgrein"],group:"Grunnblokkar"},code_block:{title:"Kablokk",subtext:"Kablokkur me litskiptingu",aliases:["ki","pre"],group:"Grunnblokkar"},page_break:{title:"Subrot",subtext:"Suskil",aliases:["page","break","separator","subrot","suskil"],group:"Grunnblokkir"},table:{title:"Tafla",subtext:"Nota fyrir tflur",aliases:["tafla"],group:"tarlegt"},image:{title:"Mynd",subtext:"Settu inn mynd",aliases:["mynd","myndaupphlaed","upphlaed","img","mynd","media","url"],group:"Milar"},video:{title:"Myndband",subtext:"Setja inn myndband",aliases:["myndband","videoUpphala","hlaa upp","mp4","kvikmynd","miill","url"],group:"Miill"},audio:{title:"Hlj",subtext:"Setja inn hlj",aliases:["hlj","audioUpphala","hlaa upp","mp3","hlj","miill","url"],group:"Milar"},file:{title:"Skr",subtext:"Setja inn skr",aliases:["skr","hlaa upp","fella inn","miill","url"],group:"Milar"},emoji:{title:"Emoji",subtext:"Nota til a setja inn smmynd",aliases:["emoji","andlitsvsun","tilfinningar","andlit"],group:"Anna"}},placeholders:{default:"Slu inn texta ea skrifau '/' fyrir skipanir",heading:"Fyrirsgn",bulletListItem:"Listi",numberedListItem:"Listi",checkListItem:"Listi",new_comment:"Skrifau athugasemd...",edit_comment:"Breyta athugasemd...",comment_reply:"Bta vi athugasemd..."},file_blocks:{image:{add_button_text:"Bta vi mynd"},video:{add_button_text:"Bta vi myndbandi"},audio:{add_button_text:"Bta vi hlji"},file:{add_button_text:"Bta vi skr"}},side_menu:{add_block_label:"Bta vi blokki",drag_handle_label:"Opna blokkarvalmynd"},drag_handle:{delete_menuitem:"Eya",colors_menuitem:"Litir",header_row_menuitem:"Hfur",header_column_menuitem:"Hfudlkur"},table_handle:{delete_column_menuitem:"Eya dlki",delete_row_menuitem:"Eya r",add_left_menuitem:"Bta dlki vi til vinstri",add_right_menuitem:"Bta dlki vi til hgri",add_above_menuitem:"Bta r vi fyrir ofan",add_below_menuitem:"Bta r vi fyrir nean",split_cell_menuitem:"Splita dlk",merge_cells_menuitem:"Sameina dlka",background_color_menuitem:"Breyta bakgrunni"},suggestion_menu:{no_items_title:"Engir hlutir fundust",loading:"Hleur"},color_picker:{text_title:"Texti",background_title:"Bakgrunnur",colors:{default:"Sjlfgefi",gray:"Grr",brown:"Brnn",red:"Rauur",orange:"Appelsnugulur",yellow:"Gulur",green:"Grnn",blue:"Blr",purple:"Fjlublr",pink:"Bleikur"}},formatting_toolbar:{bold:{tooltip:"Feitletra",secondary_tooltip:"Mod+B"},italic:{tooltip:"Skletra",secondary_tooltip:"Mod+I"},underline:{tooltip:"Undirstrika",secondary_tooltip:"Mod+U"},strike:{tooltip:"Yfirstrika",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Ki",secondary_tooltip:""},colors:{tooltip:"Litir"},link:{tooltip:"Ba til tengil",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Breyta myndatexta",input_placeholder:"Breyta myndatexta"},file_replace:{tooltip:{image:"Skipta um mynd",video:"Skipta um myndband",audio:"Skipta um hlj",file:"Skipta um skr"}},file_rename:{tooltip:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hlj",file:"Endurnefna skr"},input_placeholder:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hlj",file:"Endurnefna skr"}},file_download:{tooltip:{image:"Skja mynd",video:"Skja myndband",audio:"Skja hlj",file:"Skja skr"}},file_delete:{tooltip:{image:"Eya mynd",video:"Eya myndbandi",audio:"Eya hlji",file:"Eya skr"}},file_preview_toggle:{tooltip:"Skipta um forskoun"},nest:{tooltip:"Fella blokk saman",secondary_tooltip:"Tab"},unnest:{tooltip:"Afa blokk",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Vinstrijafna texta"},align_center:{tooltip:"Mijustilla texta"},align_right:{tooltip:"Hgrijafna texta"},align_justify:{tooltip:"Jafna texta"},table_cell_merge:{tooltip:"Sameina dlka"},comment:{tooltip:"Bta vi athugasemd"}},file_panel:{upload:{title:"Hlaa upp",file_placeholder:{image:"Hlaa upp mynd",video:"Hlaa upp myndband",audio:"Hlaa upp hlj",file:"Hlaa upp skr"},upload_error:"Villa: Upphlesla mistkst"},embed:{title:"Innsetja",embed_button:{image:"Innsetja mynd",video:"Innsetja myndband",audio:"Innsetja hlj",file:"Innsetja skr"},url_placeholder:"Slu inn URL"}},link_toolbar:{delete:{tooltip:"Fjarlgja tengil"},edit:{text:"Breyta tengli",tooltip:"Breyta"},open:{tooltip:"Opna  njum flipa"},form:{title_placeholder:"Breyta titli",url_placeholder:"Breyta URL"}},comments:{actions:{add_reaction:"Bta vi vibrgum",resolve:"Leysa",edit_comment:"Breyta athugasemd",delete_comment:"Eya athugasemd",more_actions:"Fleiri agerir"},reactions:{reacted_by:"Brst vi af"},sidebar:{marked_as_resolved:"Merkt sem leyst",more_replies:t=>`${t} fleiri svr`}},generic:{ctrl_shortcut:"Ctrl"}},vfe={slash_menu:{heading:{title:"Intestazione 1",subtext:"Intestazione di primo livello",aliases:["h","intestazione1","h1"],group:"Intestazioni"},heading_2:{title:"Intestazione 2",subtext:"Intestazione di sezione chiave",aliases:["h2","intestazione2","sottotitolo"],group:"Intestazioni"},heading_3:{title:"Intestazione 3",subtext:"Intestazione di sottosezione e gruppo",aliases:["h3","intestazione3","sottotitolo"],group:"Intestazioni"},quote:{title:"Citazione",subtext:"Citazione o estratto",aliases:["quotation","blockquote","bq"],group:"Blocchi Base"},numbered_list:{title:"Elenco Numerato",subtext:"Elenco con elementi ordinati",aliases:["ol","li","elenco","elenconumerato","elenco numerato"],group:"Blocchi Base"},bullet_list:{title:"Elenco Puntato",subtext:"Elenco con elementi non ordinati",aliases:["ul","li","elenco","elencopuntato","elenco puntato"],group:"Blocchi Base"},check_list:{title:"Elenco di Controllo",subtext:"Elenco con caselle di controllo",aliases:["ul","li","elenco","elencocontrollo","elenco controllo","elenco verificato","casella di controllo"],group:"Blocchi Base"},paragraph:{title:"Paragrafo",subtext:"Il corpo del tuo documento",aliases:["p","paragrafo"],group:"Blocchi Base"},code_block:{title:"Blocco di Codice",subtext:"Blocco di codice con evidenziazione della sintassi",aliases:["code","pre"],group:"Blocchi Base"},page_break:{title:"Interruzione di Pagina",subtext:"Separatore di pagina",aliases:["pagina","interruzione","separatore"],group:"Blocchi base"},table:{title:"Tabella",subtext:"Tabella con celle modificabili",aliases:["tabella"],group:"Avanzato"},image:{title:"Immagine",subtext:"Immagine ridimensionabile con didascalia",aliases:["immagine","caricaImmagine","carica","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Video ridimensionabile con didascalia",aliases:["video","caricaVideo","carica","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Audio incorporato con didascalia",aliases:["audio","caricaAudio","carica","mp3","suono","media","url"],group:"Media"},file:{title:"File",subtext:"File incorporato",aliases:["file","carica","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Cerca e inserisci un'emoji",aliases:["emoji","emote","emozione","faccia"],group:"Altri"}},placeholders:{default:"Inserisci testo o digita '/' per i comandi",heading:"Intestazione",bulletListItem:"Elenco",numberedListItem:"Elenco",checkListItem:"Elenco",new_comment:"Scrivi un commento...",edit_comment:"Modifica commento...",comment_reply:"Aggiungi commento..."},file_blocks:{image:{add_button_text:"Aggiungi immagine"},video:{add_button_text:"Aggiungi video"},audio:{add_button_text:"Aggiungi audio"},file:{add_button_text:"Aggiungi file"}},side_menu:{add_block_label:"Aggiungi blocco",drag_handle_label:"Apri menu blocco"},drag_handle:{delete_menuitem:"Elimina",colors_menuitem:"Colori",header_row_menuitem:"Riga intestazione",header_column_menuitem:"Colonna intestazione"},table_handle:{delete_column_menuitem:"Elimina colonna",delete_row_menuitem:"Elimina riga",add_left_menuitem:"Aggiungi colonna a sinistra",add_right_menuitem:"Aggiungi colonna a destra",add_above_menuitem:"Aggiungi riga sopra",add_below_menuitem:"Aggiungi riga sotto",split_cell_menuitem:"Dividi cella",merge_cells_menuitem:"Unisci celle",background_color_menuitem:"Colore di sfondo"},suggestion_menu:{no_items_title:"Nessun elemento trovato",loading:"Caricamento"},color_picker:{text_title:"Testo",background_title:"Sfondo",colors:{default:"Predefinito",gray:"Grigio",brown:"Marrone",red:"Rosso",orange:"Arancione",yellow:"Giallo",green:"Verde",blue:"Blu",purple:"Viola",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Grassetto",secondary_tooltip:"Cmd+B"},italic:{tooltip:"Corsivo",secondary_tooltip:"Cmd+I"},underline:{tooltip:"Sottolineato",secondary_tooltip:"Cmd+U"},strike:{tooltip:"Barrato",secondary_tooltip:"Cmd+Shift+S"},code:{tooltip:"Codice",secondary_tooltip:""},colors:{tooltip:"Colori"},link:{tooltip:"Crea link",secondary_tooltip:"Cmd+K"},file_caption:{tooltip:"Modifica didascalia",input_placeholder:"Modifica didascalia"},file_replace:{tooltip:{image:"Sostituisci immagine",video:"Sostituisci video",audio:"Sostituisci audio",file:"Sostituisci file"}},file_rename:{tooltip:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"},input_placeholder:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"}},file_download:{tooltip:{image:"Scarica immagine",video:"Scarica video",audio:"Scarica audio",file:"Scarica file"}},file_delete:{tooltip:{image:"Elimina immagine",video:"Elimina video",audio:"Elimina audio",file:"Elimina file"}},file_preview_toggle:{tooltip:"Attiva/disattiva anteprima"},nest:{tooltip:"Annida blocco",secondary_tooltip:"Tab"},unnest:{tooltip:"Disannida blocco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Allinea testo a sinistra"},align_center:{tooltip:"Allinea testo al centro"},align_right:{tooltip:"Allinea testo a destra"},align_justify:{tooltip:"Giustifica testo"},table_cell_merge:{tooltip:"Unisci celle"},comment:{tooltip:"Aggiungi commento"}},file_panel:{upload:{title:"Carica",file_placeholder:{image:"Carica immagine",video:"Carica video",audio:"Carica audio",file:"Carica file"},upload_error:"Errore: Caricamento fallito"},embed:{title:"Incorpora",embed_button:{image:"Incorpora immagine",video:"Incorpora video",audio:"Incorpora audio",file:"Incorpora file"},url_placeholder:"Inserisci URL"}},link_toolbar:{delete:{tooltip:"Rimuovi link"},edit:{text:"Modifica link",tooltip:"Modifica"},open:{tooltip:"Apri in una nuova scheda"},form:{title_placeholder:"Modifica titolo",url_placeholder:"Modifica URL"}},comments:{actions:{add_reaction:"Aggiungi reazione",resolve:"Risolvi",edit_comment:"Modifica commento",delete_comment:"Elimina commento",more_actions:"Altre azioni"},reactions:{reacted_by:"Reagito da"},sidebar:{marked_as_resolved:"Contrassegnato come risolto",more_replies:t=>`${t} altre risposte`}},generic:{ctrl_shortcut:"Ctrl"}},wfe={slash_menu:{heading:{title:"",subtext:"",aliases:["h","","h1",""],group:""},heading_2:{title:"",subtext:"",aliases:["h2","2","subheading",""],group:""},heading_3:{title:"",subtext:"",aliases:["h3","3","subheading",""],group:""},quote:{title:"",subtext:"",aliases:["quotation","blockquote","bq"],group:""},numbered_list:{title:"",subtext:"",aliases:["ol","li","numberedlist","numbered list","",""," "],group:""},bullet_list:{title:"",subtext:"",aliases:["ul","li","bulletlist","bullet list","",""],group:""},check_list:{title:"",subtext:"",aliases:["ul","li","list","checklist","checked list","","",""],group:""},paragraph:{title:"",subtext:"",aliases:["p","paragraph",""],group:""},code_block:{title:"",subtext:"",aliases:["code","pre","",""],group:""},page_break:{title:"",subtext:"",aliases:["page","break","separator","",""],group:""},table:{title:"",subtext:"",aliases:["table","",""],group:""},image:{title:"",subtext:"",aliases:["image","imageUpload","upload","img","picture","media","url",""],group:""},video:{title:"",subtext:"",aliases:["video","videoUpload","upload","mp4","film","media","url",""],group:""},audio:{title:"",subtext:"",aliases:["audio","audioUpload","upload","mp3","sound","media","url",""],group:""},file:{title:"",subtext:"",aliases:["file","upload","embed","media","url",""],group:""},emoji:{title:"",subtext:"",aliases:["","","",""],group:""}},placeholders:{default:"'/' ",heading:"",bulletListItem:"",numberedListItem:"",checkListItem:"",new_comment:"...",edit_comment:"...",comment_reply:"..."},file_blocks:{image:{add_button_text:""},video:{add_button_text:""},audio:{add_button_text:""},file:{add_button_text:""}},side_menu:{add_block_label:"",drag_handle_label:""},drag_handle:{delete_menuitem:"",colors_menuitem:"",header_row_menuitem:"",header_column_menuitem:""},table_handle:{delete_column_menuitem:"",delete_row_menuitem:"",add_left_menuitem:"",add_right_menuitem:"",add_above_menuitem:"",add_below_menuitem:"",split_cell_menuitem:"",merge_cells_menuitem:"",background_color_menuitem:""},suggestion_menu:{no_items_title:"",loading:""},color_picker:{text_title:"",background_title:"",colors:{default:"",gray:"",brown:"",red:"",orange:"",yellow:"",green:"",blue:"",purple:"",pink:""}},formatting_toolbar:{bold:{tooltip:"",secondary_tooltip:"Mod+B"},italic:{tooltip:"",secondary_tooltip:"Mod+I"},underline:{tooltip:"",secondary_tooltip:"Mod+U"},strike:{tooltip:"",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"",secondary_tooltip:""},colors:{tooltip:""},link:{tooltip:"",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"",input_placeholder:""},file_replace:{tooltip:{image:"",video:"",audio:"",file:""}},file_rename:{tooltip:{image:"",video:"",audio:"",file:""},input_placeholder:{image:"",video:"",audio:"",file:""}},file_download:{tooltip:{image:"",video:"",audio:"",file:""}},file_delete:{tooltip:{image:"",video:"",audio:"",file:""}},file_preview_toggle:{tooltip:""},nest:{tooltip:"",secondary_tooltip:"Tab"},unnest:{tooltip:"",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:""},align_center:{tooltip:""},align_right:{tooltip:""},align_justify:{tooltip:""},table_cell_merge:{tooltip:""},comment:{tooltip:""}},file_panel:{upload:{title:"",file_placeholder:{image:"",video:"",audio:"",file:""},upload_error:": "},embed:{title:"",embed_button:{image:"",video:"",audio:"",file:""},url_placeholder:"URL"}},link_toolbar:{delete:{tooltip:""},edit:{text:"",tooltip:""},open:{tooltip:""},form:{title_placeholder:"",url_placeholder:"URL"}},comments:{actions:{add_reaction:"",resolve:"",edit_comment:"",delete_comment:"",more_actions:""},reactions:{reacted_by:""},sidebar:{marked_as_resolved:"",more_replies:t=>`${t} `}},generic:{ctrl_shortcut:"Ctrl"}},kfe={slash_menu:{heading:{title:"1",subtext:" ()",aliases:["h","1","h1",""],group:""},heading_2:{title:"2",subtext:" ()",aliases:["h2","2",""],group:""},heading_3:{title:"3",subtext:" ()",aliases:["h3","3","subheading"],group:""},quote:{title:"",subtext:"  ",aliases:["quotation","blockquote","bq"],group:" "},numbered_list:{title:"  ",subtext:"   .",aliases:["ol","li","","  "," "],group:" "},bullet_list:{title:"  ",subtext:"   .",aliases:["ul","li","","  "," "],group:" "},check_list:{title:"",subtext:"     ",aliases:["ul","li","",""," "," ",""],group:" "},paragraph:{title:"",subtext:" ",aliases:["p","paragraph",""],group:" "},code_block:{title:" ",subtext:"    ",aliases:["code","pre"],group:" "},page_break:{title:" ",subtext:" ",aliases:["page","break","separator","",""],group:" "},table:{title:"",subtext:"  .",aliases:[""],group:""},image:{title:"",subtext:"  .",aliases:["image","imageUpload","upload","img","picture","media","","url"],group:""},video:{title:"",subtext:" ",aliases:["video","videoUpload","upload","mp4","film","media","","url"],group:""},audio:{title:"",subtext:" ",aliases:["audio","audioUpload","upload","mp3","sound","media","","url"],group:""},file:{title:"",subtext:" ",aliases:["file","upload","embed","media","","url"],group:""},emoji:{title:"",subtext:"  ",aliases:["","emoji"," ","emotion expression","","face expression","","face"],group:""}},placeholders:{default:"  /   .",heading:"",bulletListItem:"",numberedListItem:"",checkListItem:"",new_comment:" ...",edit_comment:" ...",comment_reply:" ..."},file_blocks:{image:{add_button_text:" "},video:{add_button_text:" "},audio:{add_button_text:" "},file:{add_button_text:" "}},side_menu:{add_block_label:" ",drag_handle_label:"  "},drag_handle:{delete_menuitem:"",colors_menuitem:"",header_row_menuitem:" ",header_column_menuitem:" "},table_handle:{delete_column_menuitem:" 1 ",delete_row_menuitem:" ",add_left_menuitem:"  1 ",add_right_menuitem:"  1 ",add_above_menuitem:"  1 ",add_below_menuitem:"  1 ",split_cell_menuitem:" ",merge_cells_menuitem:" ",background_color_menuitem:" "},suggestion_menu:{no_items_title:"   ",loading:" "},color_picker:{text_title:"",background_title:"",colors:{default:"",gray:"",brown:"",red:"",orange:"",yellow:"",green:"",blue:"",purple:"",pink:""}},formatting_toolbar:{bold:{tooltip:"",secondary_tooltip:"Mod+B"},italic:{tooltip:"",secondary_tooltip:"Mod+I"},underline:{tooltip:"",secondary_tooltip:"Mod+U"},strike:{tooltip:"",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"",secondary_tooltip:""},colors:{tooltip:""},link:{tooltip:" ",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"  ",input_placeholder:"  "},file_replace:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_rename:{tooltip:{image:"  ",video:"  ",audio:"  ",file:"  "},input_placeholder:{image:"  ",video:"  ",audio:"  ",file:"  "}},file_download:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_delete:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_preview_toggle:{tooltip:" "},nest:{tooltip:" ",secondary_tooltip:"Tab"},unnest:{tooltip:" ",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"  "},align_center:{tooltip:"  "},align_right:{tooltip:"  "},align_justify:{tooltip:"  "},table_cell_merge:{tooltip:" "},comment:{tooltip:" "}},file_panel:{upload:{title:"",file_placeholder:{image:" ",video:" ",audio:" ",file:" "},upload_error:":  "},embed:{title:"",embed_button:{image:" ",video:" ",audio:" ",file:" "},url_placeholder:"URL ."}},link_toolbar:{delete:{tooltip:" "},edit:{text:" ",tooltip:""},open:{tooltip:"  "},form:{title_placeholder:" ",url_placeholder:"URL "}},comments:{actions:{add_reaction:" ",resolve:"",edit_comment:" ",delete_comment:" ",more_actions:"  "},reactions:{reacted_by:" "},sidebar:{marked_as_resolved:" ",more_replies:t=>`${t}  `}},generic:{ctrl_shortcut:"Ctrl"}},xfe={slash_menu:{heading:{title:"Kop 1",subtext:"Gebruikt voor een hoofdkop",aliases:["h","kop1","h1"],group:"Koppen"},heading_2:{title:"Kop 2",subtext:"Gebruikt voor belangrijke secties",aliases:["h2","kop2","subkop"],group:"Koppen"},heading_3:{title:"Kop 3",subtext:"Gebruikt voor subsecties en groepskoppen",aliases:["h3","kop3","subkop"],group:"Koppen"},quote:{title:"Citaat",subtext:"Citaat of uittreksel",aliases:["quotation","blockquote","bq"],group:"Basisblokken"},numbered_list:{title:"Genummerde Lijst",subtext:"Gebruikt om een genummerde lijst weer te geven",aliases:["ol","li","lijst","genummerdelijst","genummerde lijst"],group:"Basisblokken"},bullet_list:{title:"Puntenlijst",subtext:"Gebruikt om een ongeordende lijst weer te geven",aliases:["ul","li","lijst","puntenlijst","punten lijst"],group:"Basisblokken"},check_list:{title:"Controlelijst",subtext:"Gebruikt om een lijst met selectievakjes weer te geven",aliases:["ul","li","lijst","aangevinkte lijst","selectievakje"],group:"Basisblokken"},paragraph:{title:"Paragraaf",subtext:"Gebruikt voor de hoofdtekst van uw document",aliases:["p","paragraaf"],group:"Basisblokken"},code_block:{title:"Codeblok",subtext:"Codeblok met syntax highlighting",aliases:["code","pre"],group:"Basisblokken"},page_break:{title:"Pagina-einde",subtext:"Paginascheiding",aliases:["page","break","separator","pagina","scheiding"],group:"Basisblokken"},table:{title:"Tabel",subtext:"Gebruikt voor tabellen",aliases:["tabel"],group:"Geavanceerd"},image:{title:"Afbeelding",subtext:"Voeg een afbeelding in",aliases:["afbeelding","imageUpload","upload","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Voeg een video in",aliases:["video","videoUploaden","upload","mp4","film","media","url","drive","dropbox"],group:"Media"},audio:{title:"Audio",subtext:"Voeg audio in",aliases:["audio","audioUploaden","upload","mp3","geluid","media","url"],group:"Media"},file:{title:"Bestand",subtext:"Voeg een bestand in",aliases:["bestand","upload","insluiten","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Gebruikt voor het invoegen van een emoji",aliases:["emoji","emotie-uitdrukking","gezichtsuitdrukking","gezicht"],group:"Overig"}},placeholders:{default:"Voer tekst in of type '/' voor commando's",heading:"Kop",bulletListItem:"Lijst",numberedListItem:"Lijst",checkListItem:"Lijst",new_comment:"Schrijf een reactie...",edit_comment:"Reactie bewerken...",comment_reply:"Reactie toevoegen..."},file_blocks:{image:{add_button_text:"Afbeelding toevoegen"},video:{add_button_text:"Video toevoegen"},audio:{add_button_text:"Audio toevoegen"},file:{add_button_text:"Bestand toevoegen"}},side_menu:{add_block_label:"Nieuw blok",drag_handle_label:"Open blok menu"},drag_handle:{delete_menuitem:"Verwijder",colors_menuitem:"Kleuren",header_row_menuitem:"Kopregel",header_column_menuitem:"Kopkolom"},table_handle:{delete_column_menuitem:"Verwijder kolom",delete_row_menuitem:"Verwijder rij",add_left_menuitem:"Voeg kolom links toe",add_right_menuitem:"Voeg kolom rechts toe",add_above_menuitem:"Voeg rij boven toe",add_below_menuitem:"Voeg rij onder toe",split_cell_menuitem:"Splits cel",merge_cells_menuitem:"Voeg cellen samen",background_color_menuitem:"Achtergrondkleur wijzigen"},suggestion_menu:{no_items_title:"Geen items gevonden",loading:"Laden"},color_picker:{text_title:"Tekst",background_title:"Achtergrond",colors:{default:"Standaard",gray:"Grijs",brown:"Bruin",red:"Rood",orange:"Oranje",yellow:"Geel",green:"Groen",blue:"Blauw",purple:"Paars",pink:"Roze"}},formatting_toolbar:{bold:{tooltip:"Vet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursief",secondary_tooltip:"Mod+I"},underline:{tooltip:"Onderstrepen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Doorstrepen",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Kleuren"},link:{tooltip:"Maak link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Bewerk onderschrift",input_placeholder:"Bewerk onderschrift"},file_replace:{tooltip:{image:"Afbeelding vervangen",video:"Video vervangen",audio:"Audio vervangen",file:"Bestand vervangen"}},file_rename:{tooltip:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"},input_placeholder:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"}},file_download:{tooltip:{image:"Afbeelding downloaden",video:"Video downloaden",audio:"Audio downloaden",file:"Bestand downloaden"}},file_delete:{tooltip:{image:"Afbeelding verwijderen",video:"Video verwijderen",audio:"Audio verwijderen",file:"Bestand verwijderen"}},file_preview_toggle:{tooltip:"Voorbeeldschakelaar"},nest:{tooltip:"Nest blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Ontnest blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Tekst links uitlijnen"},align_center:{tooltip:"Tekst centreren"},align_right:{tooltip:"Tekst rechts uitlijnen"},align_justify:{tooltip:"Tekst uitvullen"},table_cell_merge:{tooltip:"Voeg cellen samen"},comment:{tooltip:"Commentaar toevoegen"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Afbeelding uploaden",video:"Video uploaden",audio:"Audio uploaden",file:"Bestand uploaden"},upload_error:"Fout: Upload mislukt"},embed:{title:"Insluiten",embed_button:{image:"Afbeelding insluiten",video:"Video insluiten",audio:"Audio insluiten",file:"Bestand insluiten"},url_placeholder:"Voer URL in"}},link_toolbar:{delete:{tooltip:"Verwijder link"},edit:{text:"Bewerk link",tooltip:"Bewerk"},open:{tooltip:"Open in nieuw tabblad"},form:{title_placeholder:"Bewerk titel",url_placeholder:"Bewerk URL"}},comments:{actions:{add_reaction:"Reactie toevoegen",resolve:"Oplossen",edit_comment:"Reactie bewerken",delete_comment:"Reactie verwijderen",more_actions:"Meer acties"},reactions:{reacted_by:"Gereageerd door"},sidebar:{marked_as_resolved:"Gemarkeerd als opgelost",more_replies:t=>`${t} extra reacties`}},generic:{ctrl_shortcut:"Ctrl"}},Cfe={slash_menu:{heading:{title:"Overskrift 1",subtext:"Toppnivoverskrift",aliases:["h","overskrift1","h1"],group:"Overskrifter"},heading_2:{title:"Overskrift 2",subtext:"Hovedseksjonsoverskrift",aliases:["h2","overskrift2","underoverskrift"],group:"Overskrifter"},heading_3:{title:"Overskrift 3",subtext:"Underseksjon og gruppeoverskrift",aliases:["h3","overskrift3","underoverskrift"],group:"Overskrifter"},quote:{title:"Sitat",subtext:"Sitat eller utdrag",aliases:["quotation","blockquote","bq"],group:"Grunnleggende blokker"},numbered_list:{title:"Nummerert liste",subtext:"Liste med ordnede elementer",aliases:["ol","li","liste","nummerertliste","nummerert liste"],group:"Grunnleggende blokker"},bullet_list:{title:"Punktliste",subtext:"Liste med uordnede elementer",aliases:["ul","li","liste","punktliste","punkt liste"],group:"Grunnleggende blokker"},check_list:{title:"Sjekkliste",subtext:"Liste med avmerkingsbokser",aliases:["ul","li","liste","sjekkliste","sjekk liste","avmerket liste","avmerkingsboks"],group:"Grunnleggende blokker"},paragraph:{title:"Avsnitt",subtext:"Hoveddelen av dokumentet ditt",aliases:["p","avsnitt"],group:"Grunnleggende blokker"},code_block:{title:"Kodeblokk",subtext:"Kodeblokk med syntaksfremheving",aliases:["kode","pre"],group:"Grunnleggende blokker"},page_break:{title:"Sideskift",subtext:"Sideskilletegn",aliases:["side","skift","skilletegn"],group:"Grunnleggende blokker"},table:{title:"Tabell",subtext:"Tabell med redigerbare celler",aliases:["tabell"],group:"Avansert"},image:{title:"Bilde",subtext:"Justerbart bilde med bildetekst",aliases:["bilde","bildeopplasting","opplasting","img","bilde","media","url"],group:"Media"},video:{title:"Video",subtext:"Justerbar video med bildetekst",aliases:["video","videoopplasting","opplasting","mp4","film","media","url"],group:"Media"},audio:{title:"Lyd",subtext:"legg til lyd med bildetekst",aliases:["lyd","lydopplasting","opplasting","mp3","lyd","media","url"],group:"Media"},file:{title:"Fil",subtext:"Innebygd fil",aliases:["fil","opplasting","innebygd","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Sk etter og legg til en emoji",aliases:["emoji","emote","emosjon","ansikt"],group:"Andre"}},placeholders:{default:"Skriv tekst eller skriv '/' for  vise kommandoer",heading:"Overskrift",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Skriv en kommentar...",edit_comment:"Rediger kommentar...",comment_reply:"Legg til kommentar..."},file_blocks:{image:{add_button_text:"Legg til bilde"},video:{add_button_text:"Legg til video"},audio:{add_button_text:"Legg til lyd"},file:{add_button_text:"Legg til fil"}},side_menu:{add_block_label:"Legg til blokk",drag_handle_label:"pne blokkmeny"},drag_handle:{delete_menuitem:"Slett",colors_menuitem:"Farger",header_row_menuitem:"Rad overskrift",header_column_menuitem:"Kolonne overskrift"},table_handle:{delete_column_menuitem:"Slett kolonne",delete_row_menuitem:"Slett rad",add_left_menuitem:"Legg til kolonne til venstre",add_right_menuitem:"Legg til kolonne til hyre",add_above_menuitem:"Legg til rad over",add_below_menuitem:"Legg til rad under",split_cell_menuitem:"Del celle",merge_cells_menuitem:"Sl sammen celler",background_color_menuitem:"Bakgrunnsfarge"},suggestion_menu:{no_items_title:"Ingen elementer funnet",loading:"Laster"},color_picker:{text_title:"Tekst",background_title:"Bakgrunn",colors:{default:"Standard",gray:"Gr",brown:"Brun",red:"Rd",orange:"Oransje",yellow:"Gul",green:"Grnn",blue:"Bl",purple:"Lilla",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Understrek",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gjennomstrek",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kode",secondary_tooltip:""},colors:{tooltip:"Farger"},link:{tooltip:"Opprett lenke",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Rediger bildetekst",input_placeholder:"Rediger bildetekst"},file_replace:{tooltip:{image:"Bytt ut bilde",video:"Bytt ut video",audio:"Bytt ut lyd",file:"Bytt ut fil"}},file_rename:{tooltip:{image:"Endre navn p bilde",video:"Endre navn p video",audio:"Endre navn p lyd",file:"Endre navn p fil"},input_placeholder:{image:"Endre navn p bilde",video:"Endre navn p video",audio:"Endre navn p lyd",file:"Endre navn p fil"}},file_download:{tooltip:{image:"Last ned bilde",video:"Last ned video",audio:"Last ned lyd",file:"Last ned fil"}},file_delete:{tooltip:{image:"Slett bilde",video:"Slett video",audio:"Slett lyd",file:"Slett fil"}},file_preview_toggle:{tooltip:"Veksle forhndsvisning"},nest:{tooltip:"Plasser blokk inni",secondary_tooltip:"Tab"},unnest:{tooltip:"Ta blokk ut",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Venstrejuster tekst"},align_center:{tooltip:"Midtstill tekst"},align_right:{tooltip:"Hyrejuster tekst"},align_justify:{tooltip:"Juster tekst"},comment:{tooltip:"Legg til kommentar"},table_cell_merge:{tooltip:"Sl sammen celler"}},file_panel:{upload:{title:"Last opp",file_placeholder:{image:"Last opp bilde",video:"Last opp video",audio:"Last opp lyd",file:"Last opp fil"},upload_error:"Feil: Opplasting mislyktes"},embed:{title:"Bygg inn",embed_button:{image:"Bygg inn bilde",video:"Bygg inn video",audio:"Bygg inn lyd",file:"Bygg inn fil"},url_placeholder:"Skriv inn URL"}},link_toolbar:{delete:{tooltip:"Fjern lenke"},edit:{text:"Rediger lenke",tooltip:"Rediger"},open:{tooltip:"pne i ny fane"},form:{title_placeholder:"Rediger tittel",url_placeholder:"Rediger URL"}},comments:{actions:{add_reaction:"Legg til reaksjon",resolve:"Ls",edit_comment:"Rediger kommentar",delete_comment:"Slett kommentar",more_actions:"Flere handlinger"},reactions:{reacted_by:"Reagert av"},sidebar:{marked_as_resolved:"Merket som lst",more_replies:t=>`${t} flere svar`}},generic:{ctrl_shortcut:"Ctrl"}},_fe={slash_menu:{heading:{title:"Nagwek 1",subtext:"Uywany dla nagwka najwyszego poziomu",aliases:["h","naglowek1","h1"],group:"Nagwki"},heading_2:{title:"Nagwek 2",subtext:"Uywany dla kluczowych sekcji",aliases:["h2","naglowek2","podnaglowek"],group:"Nagwki"},heading_3:{title:"Nagwek 3",subtext:"Uywany dla podsekcji i grup nagwkw",aliases:["h3","naglowek3","podnaglowek"],group:"Nagwki"},quote:{title:"Cytat",subtext:"Cytat lub fragment",aliases:["quotation","blockquote","bq"],group:"Podstawowe bloki"},numbered_list:{title:"Lista numerowana",subtext:"Uywana do wywietlania listy numerowanej",aliases:["ol","li","lista","numerowana lista"],group:"Podstawowe bloki"},bullet_list:{title:"Lista punktowana",subtext:"Uywana do wywietlania listy bez numeracji",aliases:["ul","li","lista","punktowana lista"],group:"Podstawowe bloki"},check_list:{title:"Lista z polami wyboru",subtext:"Uywana do wywietlania listy z polami wyboru",aliases:["ul","li","lista","lista z polami wyboru","pole wyboru"],group:"Podstawowe bloki"},paragraph:{title:"Akapit",subtext:"Uywany dla treci dokumentu",aliases:["p","akapit"],group:"Podstawowe bloki"},code_block:{title:"Blok kodu",subtext:"Blok kodu z podwietleniem skadni",aliases:["kod","pre"],group:"Podstawowe bloki"},page_break:{title:"Podzia strony",subtext:"Separator strony",aliases:["page","break","separator","podzia","separator"],group:"Podstawowe bloki"},table:{title:"Tabela",subtext:"Uywana do tworzenia tabel",aliases:["tabela"],group:"Zaawansowane"},image:{title:"Zdjcie",subtext:"Wstaw zdjcie",aliases:["obraz","wrzuZdjcie","wrzu","img","zdjcie","media","url"],group:"Media"},video:{title:"Wideo",subtext:"Wstaw wideo",aliases:["wideo","wrzuWideo","wrzu","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Wstaw audio",aliases:["audio","wrzuAudio","wrzu","mp3","dwik","media","url"],group:"Media"},file:{title:"Plik",subtext:"Wstaw plik",aliases:["plik","wrzu","wstaw","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Uywane do wstawiania emoji",aliases:["emoji","emotka","wyraenie emocji","twarz"],group:"Inne"}},placeholders:{default:"Wprowad tekst lub wpisz '/' aby uy polece",heading:"Nagwek",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napisz komentarz...",edit_comment:"Edytuj komentarz...",comment_reply:"Dodaj komentarz..."},file_blocks:{image:{add_button_text:"Dodaj zdjcie"},video:{add_button_text:"Dodaj wideo"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj plik"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Otwrz menu blokw"},drag_handle:{delete_menuitem:"Usu",colors_menuitem:"Kolory",header_row_menuitem:"Nagwek wiersza",header_column_menuitem:"Nagwek kolumny"},table_handle:{delete_column_menuitem:"Usu kolumn",delete_row_menuitem:"Usu wiersz",add_left_menuitem:"Dodaj kolumn po lewej",add_right_menuitem:"Dodaj kolumn po prawej",add_above_menuitem:"Dodaj wiersz powyej",add_below_menuitem:"Dodaj wiersz poniej",split_cell_menuitem:"Podziel komrk",merge_cells_menuitem:"Pocz komrki",background_color_menuitem:"Zmie kolor ta"},suggestion_menu:{no_items_title:"Nie znaleziono elementw",loading:"adowanie"},color_picker:{text_title:"Tekst",background_title:"To",colors:{default:"Domylny",gray:"Szary",brown:"Brzowy",red:"Czerwony",orange:"Pomaraczowy",yellow:"ty",green:"Zielony",blue:"Niebieski",purple:"Fioletowy",pink:"Rowy"}},formatting_toolbar:{bold:{tooltip:"Pogrubienie",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursywa",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podkrelenie",secondary_tooltip:"Mod+U"},strike:{tooltip:"Przekrelenie",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Kolory"},link:{tooltip:"Utwrz link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Zmie podpis",input_placeholder:"Zmie podpis"},file_replace:{tooltip:{image:"Zmie obraz",video:"Zmie wideo",audio:"Zmie audio",file:"Zmie plik"}},file_rename:{tooltip:{image:"Zmie nazw zdjcia",video:"Zmie nazw wideo",audio:"Zmie nazw audio",file:"Zmie nazw pliku"},input_placeholder:{image:"Zmie nazw zdjcia",video:"Zmie nazw wideo",audio:"Zmie nazw audio",file:"Zmie nazw pliku"}},file_download:{tooltip:{image:"Pobierz zdjcie",video:"Pobierz wideo",audio:"Pobierz audio",file:"Pobierz plik"}},file_delete:{tooltip:{image:"Usu zdjcie",video:"Usu wideo",audio:"Usu audio",file:"Usu plik"}},file_preview_toggle:{tooltip:"Przecz podgld"},nest:{tooltip:"Zagnied blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Odgagnied blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Wyrwnaj tekst do lewej"},align_center:{tooltip:"Wyrodkuj tekst"},align_right:{tooltip:"Wyrwnaj tekst do prawej"},align_justify:{tooltip:"Wyjustuj tekst"},table_cell_merge:{tooltip:"Pocz komrki"},comment:{tooltip:"Dodaj komentarz"}},file_panel:{upload:{title:"Wrzu",file_placeholder:{image:"Wrzu zdjcie",video:"Wrzu wideo",audio:"Wrzu audio",file:"Wrzu plik"},upload_error:"Bd: Przesyanie nie powiodo si"},embed:{title:"Wstaw",embed_button:{image:"Wstaw zdjice",video:"Wstaw wideo",audio:"Wstaw audio",file:"Wstaw plik"},url_placeholder:"Wprowad URL"}},link_toolbar:{delete:{tooltip:"Usu link"},edit:{text:"Edytuj link",tooltip:"Edytuj"},open:{tooltip:"Otwrz w nowej karcie"},form:{title_placeholder:"Edytuj tytu",url_placeholder:"Edytuj URL"}},comments:{actions:{add_reaction:"Dodaj reakcj",resolve:"Rozwi",edit_comment:"Edytuj komentarz",delete_comment:"Usu komentarz",more_actions:"Wicej akcji"},reactions:{reacted_by:"Zareagowali"},sidebar:{marked_as_resolved:"Oznaczone jako rozwizane",more_replies:t=>`${t} wicej odpowiedzi`}},generic:{ctrl_shortcut:"Ctrl"}},Sfe={slash_menu:{heading:{title:"Ttulo",subtext:"Usado para um ttulo de nvel superior",aliases:["h","titulo1","h1"],group:"Ttulos"},heading_2:{title:"Ttulo 2",subtext:"Usado para sees principais",aliases:["h2","titulo2","subtitulo"],group:"Ttulos"},heading_3:{title:"Ttulo 3",subtext:"Usado para subsees e ttulos de grupo",aliases:["h3","titulo3","subtitulo"],group:"Ttulos"},quote:{title:"Citao",subtext:"Citao ou trecho",aliases:["quotation","blockquote","bq"],group:"Blocos bsicos"},numbered_list:{title:"Lista Numerada",subtext:"Usado para exibir uma lista numerada",aliases:["ol","li","lista","listanumerada","lista numerada"],group:"Blocos bsicos"},bullet_list:{title:"Lista com Marcadores",subtext:"Usado para exibir uma lista no ordenada",aliases:["ul","li","lista","listamarcadores","lista com marcadores"],group:"Blocos bsicos"},check_list:{title:"Lista de verificao",subtext:"Usado para exibir uma lista com caixas de seleo",aliases:["ul","li","lista","lista de verificao","lista marcada","caixa de seleo"],group:"Blocos bsicos"},paragraph:{title:"Pargrafo",subtext:"Usado para o corpo do seu documento",aliases:["p","paragrafo"],group:"Blocos bsicos"},code_block:{title:"Bloco de Cdigo",subtext:"Usado para exibir cdigo com destaque de sintaxe",aliases:["codigo","pre"],group:"Blocos bsicos"},page_break:{title:"Quebra de pgina",subtext:"Separador de pgina",aliases:["page","break","separator","quebra","separador"],group:"Blocos bsicos"},table:{title:"Tabela",subtext:"Usado para tabelas",aliases:["tabela"],group:"Avanado"},image:{title:"Imagem",subtext:"Inserir uma imagem",aliases:["imagem","uploadImagem","upload","img","foto","media","url"],group:"Mdia"},video:{title:"Vdeo",subtext:"Inserir um vdeo",aliases:["vdeo","uploadVdeo","upload","mp4","filme","mdia","url"],group:"Mdia"},audio:{title:"udio",subtext:"Inserir um udio",aliases:["udio","uploadudio","upload","mp3","som","mdia","url"],group:"Mdia"},file:{title:"Arquivo",subtext:"Inserir um arquivo",aliases:["arquivo","upload","incorporar","mdia","url"],group:"Mdia"},emoji:{title:"Emoji",subtext:"Usado para inserir um emoji",aliases:["emoji","emoticon","expresso emocional","rosto"],group:"Outros"}},placeholders:{default:"Digite texto ou use '/' para comandos",heading:"Ttulo",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escreva um comentrio...",edit_comment:"Editar comentrio...",comment_reply:"Adicionar comentrio..."},file_blocks:{image:{add_button_text:"Adicionar imagem"},video:{add_button_text:"Adicionar vdeo"},audio:{add_button_text:"Adicionar udio"},file:{add_button_text:"Adicionar arquivo"}},side_menu:{add_block_label:"Adicionar bloco",drag_handle_label:"Abrir menu do bloco"},drag_handle:{delete_menuitem:"Excluir",colors_menuitem:"Cores",header_row_menuitem:"Cabealho de linha",header_column_menuitem:"Cabealho de coluna"},table_handle:{delete_column_menuitem:"Excluir coluna",delete_row_menuitem:"Excluir linha",add_left_menuitem:"Adicionar coluna  esquerda",add_right_menuitem:"Adicionar coluna  direita",add_above_menuitem:"Adicionar linha acima",add_below_menuitem:"Adicionar linha abaixo",split_cell_menuitem:"Dividir clula",merge_cells_menuitem:"Juntar clulas",background_color_menuitem:"Alterar cor de fundo"},suggestion_menu:{no_items_title:"Nenhum item encontrado",loading:"Carregando"},color_picker:{text_title:"Texto",background_title:"Fundo",colors:{default:"Padro",gray:"Cinza",brown:"Marrom",red:"Vermelho",orange:"Laranja",yellow:"Amarelo",green:"Verde",blue:"Azul",purple:"Roxo",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrito",secondary_tooltip:"Mod+B"},italic:{tooltip:"Itlico",secondary_tooltip:"Mod+I"},underline:{tooltip:"Sublinhado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Riscado",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Cdigo",secondary_tooltip:""},colors:{tooltip:"Cores"},link:{tooltip:"Criar link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar legenda",input_placeholder:"Editar legenda"},file_replace:{tooltip:{image:"Substituir imagem",video:"Substituir vdeo",audio:"Substituir udio",file:"Substituir arquivo"}},file_rename:{tooltip:{image:"Renomear imagem",video:"Renomear vdeo",audio:"Renomear udio",file:"Renomear arquivo"},input_placeholder:{image:"Renomear imagem",video:"Renomear vdeo",audio:"Renomear udio",file:"Renomear arquivo"}},file_download:{tooltip:{image:"Baixar imagem",video:"Baixar vdeo",audio:"Baixar udio",file:"Baixar arquivo"}},file_delete:{tooltip:{image:"Excluir imagem",video:"Excluir vdeo",audio:"Excluir udio",file:"Excluir arquivo"}},file_preview_toggle:{tooltip:"Alternar visualizao"},nest:{tooltip:"Aninhar bloco",secondary_tooltip:"Tab"},unnest:{tooltip:"Desaninhar bloco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinhar  esquerda"},align_center:{tooltip:"Alinhar ao centro"},align_right:{tooltip:"Alinhar  direita"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Juntar clulas"},comment:{tooltip:"Adicionar comentrio"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload de imagem",video:"Upload de vdeo",audio:"Upload de udio",file:"Upload de arquivo"},upload_error:"Erro: Falha no upload"},embed:{title:"Incorporar",embed_button:{image:"Incorporar imagem",video:"Incorporar vdeo",audio:"Incorporar udio",file:"Incorporar arquivo"},url_placeholder:"Insira a URL"}},link_toolbar:{delete:{tooltip:"Remover link"},edit:{text:"Editar link",tooltip:"Editar"},open:{tooltip:"Abrir em nova aba"},form:{title_placeholder:"Editar ttulo",url_placeholder:"Editar URL"}},comments:{actions:{add_reaction:"Adicionar reao",resolve:"Resolver",edit_comment:"Editar comentrio",delete_comment:"Excluir comentrio",more_actions:"Mais aes"},reactions:{reacted_by:"Reagido por"},sidebar:{marked_as_resolved:"Marcado como resolvido",more_replies:t=>`${t} respostas a mais`}},generic:{ctrl_shortcut:"Ctrl"}},Efe={slash_menu:{heading:{title:" 1 ",subtext:"    ",aliases:["h","heading1","h1","1"],group:""},heading_2:{title:" 2 ",subtext:"   ",aliases:["h2","heading2","subheading","2",""],group:""},heading_3:{title:" 3 ",subtext:"    ",aliases:["h3","heading3","subheading","3",""],group:""},quote:{title:"",subtext:"  ",aliases:["quotation","blockquote","bq"],group:" "},numbered_list:{title:" ",subtext:"    ",aliases:["ol","li","list","numberedlist","numbered list",""," "],group:" "},bullet_list:{title:" ",subtext:"   .",aliases:["ul","li","list","bulletlist","bullet list",""," "],group:" "},check_list:{title:" ",subtext:"    ",aliases:["ul","li","list","checklist","check list","checked list","checkbox",""],group:" "},paragraph:{title:"",subtext:" ",aliases:["p","paragraph",""],group:" "},code_block:{title:" ",subtext:"    ",aliases:["code","pre"," "],group:" "},page_break:{title:" ",subtext:" ",aliases:["page","break","separator","",""],group:" "},table:{title:"",subtext:"  ",aliases:["table",""],group:""},image:{title:"",subtext:" ",aliases:["image","imageUpload","upload","img","picture","media","url","","",""],group:""},video:{title:"",subtext:" ",aliases:["video","videoUpload","upload","mp4","film","media","url","",""],group:""},audio:{title:"",subtext:" ",aliases:["audio","audioUpload","upload","mp3","sound","media","url","","","",""],group:""},file:{title:"",subtext:" ",aliases:["file","upload","embed","media","url","",""],group:""},emoji:{title:"",subtext:"   ",aliases:["",""," ",""],group:""}},placeholders:{default:"    /  ",heading:"",bulletListItem:"",numberedListItem:"",checkListItem:"",new_comment:" ...",edit_comment:" ...",comment_reply:" ..."},file_blocks:{image:{add_button_text:" "},video:{add_button_text:" "},audio:{add_button_text:" "},file:{add_button_text:" "}},side_menu:{add_block_label:" ",drag_handle_label:"  "},drag_handle:{delete_menuitem:"",colors_menuitem:"",header_row_menuitem:" ",header_column_menuitem:" "},table_handle:{delete_column_menuitem:" ",delete_row_menuitem:" ",add_left_menuitem:"  ",add_right_menuitem:"  ",add_above_menuitem:"  ",add_below_menuitem:"  ",split_cell_menuitem:" ",merge_cells_menuitem:" ",background_color_menuitem:" "},suggestion_menu:{no_items_title:"  ",loading:""},color_picker:{text_title:"",background_title:" ",colors:{default:" ",gray:"",brown:"",red:"",orange:"",yellow:"",green:"",blue:"",purple:"",pink:""}},formatting_toolbar:{bold:{tooltip:"",secondary_tooltip:"Mod+B"},italic:{tooltip:"",secondary_tooltip:"Mod+I"},underline:{tooltip:"",secondary_tooltip:"Mod+U"},strike:{tooltip:"",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"",secondary_tooltip:""},colors:{tooltip:""},link:{tooltip:" ",secondary_tooltip:"Mod+K"},file_caption:{tooltip:" ",input_placeholder:" "},file_replace:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_rename:{tooltip:{image:" ",video:" ",audio:" ",file:" "},input_placeholder:{image:" ",video:" ",audio:" ",file:" "}},file_download:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_delete:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_preview_toggle:{tooltip:"  "},nest:{tooltip:" ",secondary_tooltip:"Tab"},unnest:{tooltip:" ",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"   "},align_center:{tooltip:"  "},align_right:{tooltip:"   "},align_justify:{tooltip:"  "},table_cell_merge:{tooltip:" "},comment:{tooltip:" "}},file_panel:{upload:{title:"",file_placeholder:{image:" ",video:" ",audio:" ",file:" "},upload_error:":   "},embed:{title:"",embed_button:{image:" ",video:" ",audio:" ",file:" "},url_placeholder:" URL"}},link_toolbar:{delete:{tooltip:" "},edit:{text:" ",tooltip:""},open:{tooltip:"   "},form:{title_placeholder:" ",url_placeholder:" URL"}},comments:{actions:{add_reaction:" ",resolve:"",edit_comment:" ",delete_comment:" ",more_actions:" "},reactions:{reacted_by:"()"},sidebar:{marked_as_resolved:"  ",more_replies:t=>`${t}  `}},generic:{ctrl_shortcut:"Ctrl"}},Tfe={slash_menu:{heading:{title:" 1",subtext:"  ",aliases:["h","heading1","h1","1"],group:""},heading_2:{title:" 2",subtext:"  ",aliases:["h2","heading2","subheading","2"],group:""},heading_3:{title:" 3",subtext:"   ",aliases:["h3","heading3","subheading","3"],group:""},quote:{title:"",subtext:"  ",aliases:["quotation","blockquote","bq"],group:" "},numbered_list:{title:" ",subtext:"   ",aliases:["ol","li","list","numberedlist","numbered list",""," "],group:" "},bullet_list:{title:" ",subtext:"   ",aliases:["ul","li","list","bulletlist","bullet list",""," "],group:" "},check_list:{title:"-",subtext:"  ",aliases:["ul","li","list","checklist","check list","checked list","checkbox","","-"],group:" "},paragraph:{title:"",subtext:"  ",aliases:["p","paragraph",""],group:" "},code_block:{title:" ",subtext:"    ",aliases:["code","pre"," "],group:" "},page_break:{title:" ",subtext:" ",aliases:["page","break","separator"," ",""],group:" "},table:{title:"",subtext:"   ",aliases:["table",""],group:""},image:{title:"",subtext:"   ",aliases:["image","imageUpload","upload","img","picture","media","url","",""],group:""},video:{title:"",subtext:"   ",aliases:["video","videoUpload","upload","mp4","film","media","url","",""],group:""},audio:{title:"",subtext:"   ",aliases:["audio","audioUpload","upload","mp3","sound","media","url","",""],group:""},file:{title:"",subtext:" ",aliases:["file","upload","embed","media","url","",""],group:""},emoji:{title:"",subtext:"   ",aliases:["emoji","emote","emotion","face","",""],group:""}},placeholders:{default:"    '/'  ",heading:"",bulletListItem:"",numberedListItem:"",checkListItem:"",new_comment:" ...",edit_comment:" ...",comment_reply:" ..."},file_blocks:{image:{add_button_text:" "},video:{add_button_text:" "},audio:{add_button_text:" "},file:{add_button_text:" "}},side_menu:{add_block_label:" ",drag_handle_label:"  "},drag_handle:{delete_menuitem:"",colors_menuitem:"",header_row_menuitem:" ",header_column_menuitem:" "},table_handle:{delete_column_menuitem:" ",delete_row_menuitem:" ",add_left_menuitem:"  ",add_right_menuitem:"  ",add_above_menuitem:"  ",add_below_menuitem:"  ",split_cell_menuitem:" ",merge_cells_menuitem:"' ",background_color_menuitem:"  "},suggestion_menu:{no_items_title:"  ",loading:""},color_picker:{text_title:"",background_title:"",colors:{default:" ",gray:"",brown:"",red:"",orange:"",yellow:"",green:"",blue:"",purple:"",pink:""}},formatting_toolbar:{bold:{tooltip:"",secondary_tooltip:"Mod+B"},italic:{tooltip:"",secondary_tooltip:"Mod+I"},underline:{tooltip:"",secondary_tooltip:"Mod+U"},strike:{tooltip:"",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"",secondary_tooltip:""},colors:{tooltip:""},link:{tooltip:" ",secondary_tooltip:"Mod+K"},file_caption:{tooltip:" ",input_placeholder:" "},file_replace:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_rename:{tooltip:{image:" ",video:" ",audio:" ",file:" "},input_placeholder:{image:" ",video:" ",audio:" ",file:" "}},file_download:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_delete:{tooltip:{image:" ",video:" ",audio:" ",file:" "}},file_preview_toggle:{tooltip:"  "},nest:{tooltip:" ",secondary_tooltip:"Tab"},unnest:{tooltip:" ",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"   "},align_center:{tooltip:"  "},align_right:{tooltip:"   "},align_justify:{tooltip:"  "},table_cell_merge:{tooltip:"' "},comment:{tooltip:" "}},file_panel:{upload:{title:"",file_placeholder:{image:" ",video:" ",audio:" ",file:" "},upload_error:":   "},embed:{title:"",embed_button:{image:" ",video:" ",audio:" ",file:" "},url_placeholder:" URL"}},link_toolbar:{delete:{tooltip:" "},edit:{text:" ",tooltip:""},open:{tooltip:"   "},form:{title_placeholder:" ",url_placeholder:" URL"}},comments:{actions:{add_reaction:" ",resolve:"",edit_comment:" ",delete_comment:" ",more_actions:" "},reactions:{reacted_by:"()"},sidebar:{marked_as_resolved:"  ",more_replies:t=>`${t}  `}},generic:{ctrl_shortcut:"Ctrl"}},Mfe={slash_menu:{heading:{title:"Tiu  H1",subtext:"S dng cho tiu  cp cao nht",aliases:["h","tieude1","dd1"],group:"Tiu "},heading_2:{title:"Tiu  H2",subtext:"S dng cho cc phn chnh",aliases:["h2","tieude2","tieudephu"],group:"Tiu "},heading_3:{title:"Tiu  H3",subtext:"S dng cho ph  v tiu  nhm",aliases:["h3","tieude3","tieudephu"],group:"Tiu "},quote:{title:"Trch dn",subtext:"Trch dn hoc on trch",aliases:["quotation","blockquote","bq"],group:"Khi c bn"},numbered_list:{title:"Danh sch nh s",subtext:"S dng  hin th danh sch c nh s",aliases:["ol","li","ds","danhsachdso","danh sach danh so"],group:"Khi c bn"},bullet_list:{title:"Danh sch",subtext:"S dng  hin th danh sch khng nh s",aliases:["ul","li","ds","danhsach","danh sach"],group:"Khi c bn"},check_list:{title:"Danh sch kim tra",subtext:"Dng  hin th danh sch c hp kim",aliases:["ul","li","danh sach","danh sach kiem tra","danh sach da kiem tra","hop kiem"],group:"Khi c bn"},paragraph:{title:"on vn",subtext:"S dng cho ni dung chnh ca ti liu",aliases:["p","doanvan"],group:"Khi c bn"},code_block:{title:"M",subtext:"S dng  hin th m vi c php",aliases:["code","pre"],group:"Khi c bn"},page_break:{title:"Ngt trang",subtext:"Phn cch trang",aliases:["page","break","separator","ngt","phn cch"],group:"Khi c bn"},table:{title:"Bng",subtext:"S dng  to bng",aliases:["bang"],group:"Nng cao"},image:{title:"Hnh nh",subtext:"Chn hnh nh",aliases:["anh","tai-len-anh","tai-len","img","hinh","media","url"],group:"Phng tin"},video:{title:"Video",subtext:"Chn video",aliases:["video","tai-len-video","tai-len","mp4","phim","media","url"],group:"Phng tin"},audio:{title:"m thanh",subtext:"Chn m thanh",aliases:["m thanh","tai-len-am-thanh","tai-len","mp3","am thanh","media","url"],group:"Phng tin"},file:{title:"Tp",subtext:"Chn tp",aliases:["tep","tai-len","nhung","media","url"],group:"Phng tin"},emoji:{title:"Biu tng cm xc",subtext:"Dng  chn biu tng cm xc",aliases:["biu tng cm xc","emoji","emoticon","cm xc expression","khun mt","face"],group:"Khc"}},placeholders:{default:"Nhp vn bn hoc g '/'  thm nh dng",heading:"Tiu ",bulletListItem:"Danh sch",numberedListItem:"Danh sch",checkListItem:"Danh sch",new_comment:"Vit bnh lun...",edit_comment:"Chnh sa bnh lun...",comment_reply:"Thm bnh lun..."},file_blocks:{image:{add_button_text:"Thm nh"},video:{add_button_text:"Thm video"},audio:{add_button_text:"Thm m thanh"},file:{add_button_text:"Thm tp"}},side_menu:{add_block_label:"Thm khi",drag_handle_label:"M trnh n khi"},drag_handle:{delete_menuitem:"Xa",colors_menuitem:"Mu sc",header_row_menuitem:"Tiu  hng",header_column_menuitem:"Tiu  ct"},table_handle:{delete_column_menuitem:"Xa ct",delete_row_menuitem:"Xa hng",add_left_menuitem:"Thm ct bn tri",add_right_menuitem:"Thm ct bn phi",add_above_menuitem:"Thm hng pha trn",add_below_menuitem:"Thm hng pha di",split_cell_menuitem:"Chia ",merge_cells_menuitem:"Gp ",background_color_menuitem:"Mu nn"},suggestion_menu:{no_items_title:"Khng tm thy mc no",loading:"ang ti..."},color_picker:{text_title:"Vn bn",background_title:"Nn",colors:{default:"Mc nh",gray:"Xm",brown:"Nu",red:"",orange:"Cam",yellow:"Vng",green:"Xanh l",blue:"Xanh dng",purple:"Tm",pink:"Hng"}},formatting_toolbar:{bold:{tooltip:"In m",secondary_tooltip:"Mod+B"},italic:{tooltip:"In nghing",secondary_tooltip:"Mod+I"},underline:{tooltip:"Gch di",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gch ngang",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Mu sc"},link:{tooltip:"To lin kt",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Chnh sa ch thch",input_placeholder:"Chnh sa ch thch"},file_replace:{tooltip:{image:"Thay th hnh nh",video:"Thay th video",audio:"Thay th m thanh",file:"Thay th tp"}},file_rename:{tooltip:{image:"i tn hnh nh",video:"i tn video",audio:"i tn m thanh",file:"i tn tp"},input_placeholder:{image:"i tn hnh nh",video:"i tn video",audio:"i tn m thanh",file:"i tn tp"}},file_download:{tooltip:{image:"Ti xung hnh nh",video:"Ti xung video",audio:"Ti xung m thanh",file:"Ti xung tp"}},file_delete:{tooltip:{image:"Xa hnh nh",video:"Xa video",audio:"Xa m thanh",file:"Xa tp"}},file_preview_toggle:{tooltip:"Chuyn i xem trc"},nest:{tooltip:"Lng khi",secondary_tooltip:"Tab"},unnest:{tooltip:"B lng khi",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Cn tri vn bn"},align_center:{tooltip:"Cn gia vn bn"},align_right:{tooltip:"Cn phi vn bn"},align_justify:{tooltip:"Cn u vn bn"},table_cell_merge:{tooltip:"Gp cc "},comment:{tooltip:"Thm bnh lun"}},file_panel:{upload:{title:"Ti ln",file_placeholder:{image:"Ti ln hnh nh",video:"Ti ln video",audio:"Ti ln m thanh",file:"Ti ln tp"},upload_error:"Li: Ti ln tht bi"},embed:{title:"Nhng",embed_button:{image:"Nhng hnh nh",video:"Nhng video",audio:"Nhng m thanh",file:"Nhng tp"},url_placeholder:"Nhp URL"}},link_toolbar:{delete:{tooltip:"Xa lin kt"},edit:{text:"Chnh sa lin kt",tooltip:"Chnh sa"},open:{tooltip:"M trong tab mi"},form:{title_placeholder:"Chnh sa tiu ",url_placeholder:"Chnh sa URL"}},comments:{actions:{add_reaction:"Thm phn ng",resolve:"Gii quyt",edit_comment:"Chnh sa bnh lun",delete_comment:"Xa bnh lun",more_actions:"Thm hnh ng"},reactions:{reacted_by:"Phn ng bi"},sidebar:{marked_as_resolved:" nh du l  gii quyt",more_replies:t=>`${t} cu tr li na`}},generic:{ctrl_shortcut:"Ctrl"}},Afe={slash_menu:{heading:{title:"",subtext:"",aliases:["h","heading1","h1","",""],group:""},heading_2:{title:"",subtext:"",aliases:["h2","heading2","subheading","","",""],group:""},heading_3:{title:"",subtext:"",aliases:["h3","heading3","subheading","",""],group:""},quote:{title:"",subtext:"",aliases:["quotation","blockquote","bq"],group:""},numbered_list:{title:"",subtext:"",aliases:["ol","li","list","numberedlist","numbered list","",""],group:""},bullet_list:{title:"",subtext:"",aliases:["ul","li","list","bulletlist","bullet list","",""],group:""},check_list:{title:"",subtext:"",aliases:["ul","li","checklist","checked list","","","",""],group:""},paragraph:{title:"",subtext:"",aliases:["p","paragraph","text",""],group:""},code_block:{title:"",subtext:"",aliases:["code","pre","",""],group:""},page_break:{title:"",subtext:"",aliases:["page","break","separator","",""],group:""},table:{title:"",subtext:"",aliases:["table",""],group:""},image:{title:"",subtext:"",aliases:["","","","image","img","","","url"],group:""},video:{title:"",subtext:"",aliases:["","","","video","mp4","","","url","","dropbox"],group:""},audio:{title:"",subtext:"",aliases:["","","","audio","mp3","","","url","","dropbox"],group:""},file:{title:"",subtext:"",aliases:["","","file","","","url"],group:""},emoji:{title:"",subtext:"",aliases:["","emoji","face","emote","","",""],group:""}},placeholders:{default:" '/' ",heading:"",bulletListItem:"",numberedListItem:"",checkListItem:"",new_comment:"...",edit_comment:"...",comment_reply:"..."},file_blocks:{image:{add_button_text:""},video:{add_button_text:""},audio:{add_button_text:""},file:{add_button_text:""}},side_menu:{add_block_label:"",drag_handle_label:""},drag_handle:{delete_menuitem:"",colors_menuitem:"",header_row_menuitem:"",header_column_menuitem:""},table_handle:{delete_column_menuitem:"",delete_row_menuitem:"",add_left_menuitem:"",add_right_menuitem:"",add_above_menuitem:"",add_below_menuitem:"",split_cell_menuitem:"",merge_cells_menuitem:"",background_color_menuitem:""},suggestion_menu:{no_items_title:"",loading:""},color_picker:{text_title:"",background_title:"",colors:{default:"",gray:"",brown:"",red:"",orange:"",yellow:"",green:"",blue:"",purple:"",pink:""}},formatting_toolbar:{bold:{tooltip:"",secondary_tooltip:"Mod+B"},italic:{tooltip:"",secondary_tooltip:"Mod+I"},underline:{tooltip:"",secondary_tooltip:"Mod+U"},strike:{tooltip:"",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"",secondary_tooltip:""},colors:{tooltip:""},link:{tooltip:"",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"",input_placeholder:""},file_replace:{tooltip:{image:"",video:"",audio:"",file:""}},file_rename:{tooltip:{image:"",video:"",audio:"",file:""},input_placeholder:{image:"",video:"",audio:"",file:""}},file_download:{tooltip:{image:"",video:"",audio:"",file:""}},file_delete:{tooltip:{image:"",video:"",audio:"",file:""}},file_preview_toggle:{tooltip:""},nest:{tooltip:"",secondary_tooltip:"Tab"},unnest:{tooltip:"",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:""},align_center:{tooltip:""},align_right:{tooltip:""},align_justify:{tooltip:""},table_cell_merge:{tooltip:""},comment:{tooltip:""}},file_panel:{upload:{title:"",file_placeholder:{image:"",video:"",audio:"",file:""},upload_error:"Error"},embed:{title:"",embed_button:{image:"",video:"",audio:"",file:""},url_placeholder:""}},link_toolbar:{delete:{tooltip:""},edit:{text:"",tooltip:""},open:{tooltip:""},form:{title_placeholder:"",url_placeholder:""}},comments:{actions:{add_reaction:"",resolve:"",edit_comment:"",delete_comment:"",more_actions:""},reactions:{reacted_by:""},sidebar:{marked_as_resolved:"",more_replies:t=>` ${t} `}},generic:{ctrl_shortcut:"Ctrl"}},Rfe=Object.freeze(Object.defineProperty({__proto__:null,ar:hfe,de:pfe,en:Q5,es:mfe,fr:gfe,hr:bfe,is:yfe,it:vfe,ja:wfe,ko:kfe,nl:xfe,no:Cfe,pl:_fe,pt:Sfe,ru:Efe,uk:Tfe,vi:Mfe,zh:Afe},Symbol.toStringTag,{value:"Module"}));var Ofe=Object.defineProperty,Nfe=(t,e,n)=>e in t?Ofe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mo=(t,e,n)=>Nfe(t,typeof e!="symbol"?e+"":e,n);const Dfe={slash_menu:{two_columns:{title:"",subtext:"   ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"    ",aliases:["","",""],group:" "}}},Lfe={slash_menu:{two_columns:{title:"Zwei Spalten",subtext:"Zwei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blcke"},three_columns:{title:"Drei Spalten",subtext:"Drei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blcke"}}},Bfe={slash_menu:{two_columns:{title:"Two Columns",subtext:"Two columns side by side",aliases:["columns","row","split"],group:"Basic blocks"},three_columns:{title:"Three Columns",subtext:"Three columns side by side",aliases:["columns","row","split"],group:"Basic blocks"}}},Ife={slash_menu:{two_columns:{title:"Dos Columnas",subtext:"Dos columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques bsicos"},three_columns:{title:"Tres Columnas",subtext:"Tres columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques bsicos"}}},jfe={slash_menu:{two_columns:{title:"Deux Colonnes",subtext:"Deux colonnes cte  cte",aliases:["colonnes","range","partager"],group:"Blocs de base"},three_columns:{title:"Trois Colonnes",subtext:"Trois colonnes cte  cte",aliases:["colonnes","range","partager"],group:"Blocs de base"}}},Pfe={slash_menu:{two_columns:{title:"Dva Stupca",subtext:"Dva stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"},three_columns:{title:"Tri Stupca",subtext:"Tri stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"}}},$fe={slash_menu:{two_columns:{title:"Tvr Dlkar",subtext:"Tvr dlkar hli vi hli",aliases:["dlkar","r","skipta"],group:"Grunnblokkar"},three_columns:{title:"rr Dlkar",subtext:"rr dlkar hli vi hli",aliases:["dlkar","r","skipta"],group:"Grunnblokkar"}}},Hfe={slash_menu:{two_columns:{title:"",subtext:"",aliases:["","",""],group:""},three_columns:{title:"",subtext:"",aliases:["","",""],group:""}}},zfe={slash_menu:{two_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "}}},Vfe={slash_menu:{two_columns:{title:"Twee Kolommen",subtext:"Twee kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"},three_columns:{title:"Drie Kolommen",subtext:"Drie kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"}}},Ufe={slash_menu:{two_columns:{title:"Dwie Kolumny",subtext:"Dwie kolumny obok siebie",aliases:["kolumny","rzd","podzieli"],group:"Podstawowe bloki"},three_columns:{title:"Trzy Kolumny",subtext:"Trzy kolumny obok siebie",aliases:["kolumny","rzd","podzieli"],group:"Podstawowe bloki"}}},Ffe={slash_menu:{two_columns:{title:"Duas Colunas",subtext:"Duas colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos bsicos"},three_columns:{title:"Trs Colunas",subtext:"Trs colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos bsicos"}}},Gfe={slash_menu:{two_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "}}},qfe={slash_menu:{two_columns:{title:"Hai Ct",subtext:"Hai ct cnh nhau",aliases:["ct","hng","chia"],group:"Khi c bn"},three_columns:{title:"Ba Ct",subtext:"Ba ct cnh nhau",aliases:["ct","hng","chia"],group:"Khi c bn"}}},Kfe={slash_menu:{two_columns:{title:"",subtext:"",aliases:["","",""],group:""},three_columns:{title:"",subtext:"",aliases:["","",""],group:""}}},Wfe=Object.freeze(Object.defineProperty({__proto__:null,ar:Dfe,de:Lfe,en:Bfe,es:Ife,fr:jfe,hr:Pfe,is:$fe,ja:Hfe,ko:zfe,nl:Vfe,pl:Ufe,pt:Ffe,ru:Gfe,vi:qfe,zh:Kfe},Symbol.toStringTag,{value:"Module"}));function x3(t){if(!t.dictionary.multi_column)throw new Error("Multi-column dictionary not found");return t.dictionary.multi_column}const Dl=new ht("ColumnResizePlugin");class Zfe{constructor(e,n){mo(this,"editor"),mo(this,"view"),mo(this,"RESIZE_MARGIN_WIDTH_PX",20),mo(this,"COLUMN_MIN_WIDTH_PERCENT",.5),mo(this,"getColumnHoverOrDefaultState",o=>{if(!this.editor.isEditable)return{type:"default"};const r=o.target;if(!this.view.dom.contains(r))return{type:"default"};const i=r.closest(".bn-block-column");if(!i)return{type:"default"};const s=o.clientX,l=i.getBoundingClientRect(),c=s<l.left+this.RESIZE_MARGIN_WIDTH_PX?"left":s>l.right-this.RESIZE_MARGIN_WIDTH_PX?"right":"none",d=c==="left"?i.previousElementSibling:c==="right"?i.nextElementSibling:void 0;if(!d)return{type:"default"};const f=c==="left"?d:i,p=c==="left"?i:d,m=f.getAttribute("data-id"),b=p.getAttribute("data-id"),y=Co(m,this.view.state.doc),w=Co(b,this.view.state.doc);if(!y||!w||!y.posBeforeNode)throw new Error("Column not found");return{type:"hover",leftColumn:{element:f,id:m,...y},rightColumn:{element:p,id:b,...w}}}),mo(this,"mouseDownHandler",o=>{let r=this.getColumnHoverOrDefaultState(o);if(r.type==="default")return;o.preventDefault();const i=o.clientX,s=r.leftColumn.element.getBoundingClientRect().width,l=r.rightColumn.element.getBoundingClientRect().width,c=r.leftColumn.node.attrs.width,d=r.rightColumn.node.attrs.width;r={type:"resize",startPos:i,leftColumn:{...r.leftColumn,widthPx:s,widthPercent:c},rightColumn:{...r.rightColumn,widthPx:l,widthPercent:d}},this.view.dispatch(this.view.state.tr.setMeta(Dl,r)),this.editor.sideMenu.freezeMenu()}),mo(this,"mouseMoveHandler",o=>{var r,i;const s=Dl.getState(this.view.state);if(!s)return;if(s.type!=="resize"){const p=this.getColumnHoverOrDefaultState(o),m=s.type==="default"&&p.type==="default",b=s.type!=="default"&&p.type!=="default"&&s.leftColumn.id===p.leftColumn.id&&s.rightColumn.id===p.rightColumn.id;if(m||b||p.type==="hover"&&(i=(r=this.editor.sideMenu.view)==null?void 0:r.state)!=null&&i.show)return;this.view.dispatch(this.view.state.tr.setMeta(Dl,p));return}const l=(o.clientX-s.startPos)*s.leftColumn.widthPercent,c=(s.leftColumn.widthPx+l)/s.leftColumn.widthPx-1;let d=s.leftColumn.widthPercent+c,f=s.rightColumn.widthPercent-c;d<this.COLUMN_MIN_WIDTH_PERCENT?(f-=this.COLUMN_MIN_WIDTH_PERCENT-d,d=this.COLUMN_MIN_WIDTH_PERCENT):f<this.COLUMN_MIN_WIDTH_PERCENT&&(d-=this.COLUMN_MIN_WIDTH_PERCENT-f,f=this.COLUMN_MIN_WIDTH_PERCENT),this.view.dispatch(this.view.state.tr.setNodeAttribute(s.leftColumn.posBeforeNode,"width",d).setNodeAttribute(s.rightColumn.posBeforeNode,"width",f).setMeta("addToHistory",!1))}),mo(this,"mouseUpHandler",o=>{const r=Dl.getState(this.view.state);if(!r||r.type!=="resize")return;const i=this.getColumnHoverOrDefaultState(o);this.view.dispatch(this.view.state.tr.setMeta(Dl,i)),this.editor.sideMenu.unfreezeMenu()}),this.editor=e,this.view=n,this.view.dom.addEventListener("mousedown",this.mouseDownHandler),document.body.addEventListener("mousemove",this.mouseMoveHandler),document.body.addEventListener("mouseup",this.mouseUpHandler)}destroy(){this.view.dom.removeEventListener("mousedown",this.mouseDownHandler),document.body.removeEventListener("mousemove",this.mouseMoveHandler),document.body.removeEventListener("mouseup",this.mouseUpHandler)}}const Xfe=t=>new Qe({key:Dl,props:{decorations:e=>{const n=Dl.getState(e);return!n||n.type==="default"?ct.empty:ct.create(e.doc,[_t.node(n.leftColumn.posBeforeNode,n.leftColumn.posBeforeNode+n.leftColumn.node.nodeSize,{style:"box-shadow: 4px 0 0 #ccc; cursor: col-resize"}),_t.node(n.rightColumn.posBeforeNode,n.rightColumn.posBeforeNode+n.rightColumn.node.nodeSize,{style:"cursor: col-resize"})])}},state:{init:()=>({type:"default"}),apply:(e,n)=>{const o=e.getMeta(Dl);return o===void 0?n:o}},view:e=>new Zfe(t,e)}),Yfe=t=>Mt.create({name:"columnResize",addProseMirrorPlugins(){return[Xfe(t)]}}),Jfe=Uo({name:"column",group:"bnBlock childContainer",content:"blockContainer+",priority:40,defining:!0,addAttributes(){return{width:{default:1,parseHTML:t=>{const e=t.getAttribute("data-width");if(e===null)return null;const n=parseFloat(e);return isFinite(n)?n:null},renderHTML:t=>({"data-width":t.width.toString(),style:`flex-grow: ${t.width};`})}}},parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column",e.setAttribute("data-node-type",this.name);for(const[n,o]of Object.entries(t))e.setAttribute(n,o);return{dom:e,contentDOM:e}},addExtensions(){return[Yfe(this.options.editor)]}}),Qfe=Uo({name:"columnList",group:"childContainer bnBlock blockGroupChild",content:"column column+",priority:40,defining:!0,parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column-list",e.setAttribute("data-node-type",this.name);for(const[n,o]of Object.entries(t))e.setAttribute(n,o);return e.style.display="flex",{dom:e,contentDOM:e}}}),v7=li(Jfe,{width:{default:1}}),w7=li(Qfe,{}),C3=xd.create({blockSpecs:{column:v7,columnList:w7}}),ehe=t=>xd.create({blockSpecs:{...t.blockSpecs,column:v7,columnList:w7},inlineContentSpecs:t.inlineContentSpecs,styleSpecs:t.styleSpecs}),Sy=.1;function the(t){return{left:t.clientX,top:t.clientY}}function nhe(t){const e=t.editor;return new Qe({view(n){return new ohe(n,t)},props:{handleDrop(n,o,r,i){const s=n.posAtCoords(the(o));if(!s)throw new Error("Could not get event position");const l=k7(n.state,s),c=Jl(l),d=n.nodeDOM(l.posBeforeNode).getBoundingClientRect();let f="regular";if(o.clientX<=d.left+d.width*Sy&&(f="left"),o.clientX>=d.right-d.width*Sy&&(f="right"),f==="regular")return!1;const p=Xt(r.content.child(0),e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);if(c.blockNoteType==="column"){const m=n.state.doc.resolve(c.bnBlock.beforePos).node(),b=Xt(m,e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);let y=0;b.children.forEach(T=>{y+=T.props.width});const w=y/b.children.length;if(w<.99||w>1.01){const T=1/w;b.children.forEach(M=>{M.props.width=M.props.width*T})}const x=b.children.findIndex(T=>T.id===c.bnBlock.node.attrs.id),_=b.children.map(T=>({...T,children:T.children.filter(M=>M.id!==p.id)})).filter(T=>T.children.length>0).toSpliced(f==="left"?x:x+1,0,{type:"column",children:[p],props:{},content:void 0,id:kp.options.generateID()});e.removeBlocks([p]),e.updateBlock(b,{children:_})}else{const m=Xt(c.bnBlock.node,e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);if(m.id===p.id)return;const b=f==="left"?[p,m]:[m,p];e.removeBlocks([p]),e.replaceBlocks([m],[{type:"columnList",children:b.map(y=>({type:"column",children:[y]}))}])}return!0}}})}class ohe{constructor(e,n){mo(this,"width"),mo(this,"color"),mo(this,"class"),mo(this,"cursorPos"),mo(this,"element",null),mo(this,"timeout"),mo(this,"handlers"),this.editorView=e,this.width=n.width??1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{const r=i=>{this[o](i)};return e.dom.addEventListener(o,r,o==="drop"?!0:void 0),{name:o,handler:r}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n,e==="drop"?!0:void 0))}update(e,n){this.cursorPos!=null&&n.doc!==e.state.doc&&(this.cursorPos.pos>e.state.doc.content.size?this.setCursor(void 0):this.updateOverlay())}setCursor(e){var n,o;e===this.cursorPos||(e==null?void 0:e.pos)===((n=this.cursorPos)==null?void 0:n.pos)&&(e==null?void 0:e.position)===((o=this.cursorPos)==null?void 0:o.position)||(this.cursorPos=e,e?this.updateOverlay():(this.element.parentNode.removeChild(this.element),this.element=null))}updateOverlay(){if(!this.cursorPos)throw new Error("updateOverlay called with no cursor position");const e=this.editorView.state.doc.resolve(this.cursorPos.pos),n=!e.parent.inlineContent;let o;const r=this.editorView.dom,i=r.getBoundingClientRect(),s=i.width/r.offsetWidth,l=i.height/r.offsetHeight;if(n){const p=e.nodeBefore,m=e.nodeAfter;if(p||m)if(this.cursorPos.position==="left"||this.cursorPos.position==="right"){const b=this.editorView.nodeDOM(this.cursorPos.pos);if(!b)throw new Error("nodeDOM returned null in updateOverlay");const y=b.getBoundingClientRect(),w=this.width/2*l,x=this.cursorPos.position==="left"?y.left:y.right;o={left:x-w,right:x+w,top:y.top,bottom:y.bottom}}else{const b=this.editorView.nodeDOM(this.cursorPos.pos-(p?p.nodeSize:0));if(b){const y=b.getBoundingClientRect();let w=p?y.bottom:y.top;p&&m&&(w=(w+this.editorView.nodeDOM(this.cursorPos.pos).getBoundingClientRect().top)/2);const x=this.width/2*l;this.cursorPos.position==="regular"&&(o={left:y.left,right:y.right,top:w-x,bottom:w+x})}}}if(!o){const p=this.editorView.coordsAtPos(this.cursorPos.pos),m=this.width/2*s;o={left:p.left-m,right:p.left+m,top:p.top,bottom:p.bottom}}const c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-vertical",this.cursorPos.position!=="regular"),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,f;if(!c||c===document.body&&getComputedStyle(c).position==="static")d=-window.scrollX,f=-window.scrollY;else{const p=c.getBoundingClientRect(),m=p.width/c.offsetWidth,b=p.height/c.offsetHeight;d=p.left-c.scrollLeft*m,f=p.top-c.scrollTop*b}this.element.style.left=(o.left-d)/s+"px",this.element.style.top=(o.top-f)/l+"px",this.element.style.width=(o.right-o.left)/s+"px",this.element.style.height=(o.bottom-o.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(void 0),e)}dragover(e){if(!this.editorView.editable)return;const n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let s="regular",l=n.pos;const c=k7(this.editorView.state,n),d=this.editorView.nodeDOM(c.posBeforeNode).getBoundingClientRect();if(e.clientX<=d.left+d.width*Sy&&(s="left",l=c.posBeforeNode),e.clientX>=d.right-d.width*Sy&&(s="right",l=c.posBeforeNode),s==="regular"&&this.editorView.dragging&&this.editorView.dragging.slice){const f=S_(this.editorView.state.doc,l,this.editorView.dragging.slice);f!=null&&(l=f)}this.setCursor({pos:l,position:s}),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.setCursor(void 0)}dragleave(e){(e.target===this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(void 0)}}function k7(t,e){const n=js(t.doc,e.pos);let o=t.doc.resolve(n.posBeforeNode);return o.parent.type.name==="column"&&(o=t.doc.resolve(o.before())),{posBeforeNode:o.pos,node:o.nodeAfter}}var x7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_3=Fe.createContext&&Fe.createContext(x7),rhe=["attr","size","title"];function ihe(t,e){if(t==null)return{};var n=she(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function she(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Ey(){return Ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ey.apply(this,arguments)}function S3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(n),!0).forEach(function(o){lhe(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function lhe(t,e,n){return e=ahe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ahe(t){var e=che(t,"string");return typeof e=="symbol"?e:e+""}function che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C7(t){return t&&t.map((e,n)=>Fe.createElement(e.tag,Ty({key:n},e.attr),C7(e.child)))}function _7(t){return e=>Fe.createElement(uhe,Ey({attr:Ty({},t.attr)},e),C7(t.child))}function uhe(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=ihe(t,rhe),l=r||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Fe.createElement("svg",Ey({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:c,style:Ty(Ty({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Fe.createElement("title",null,i),t.children)};return _3!==void 0?Fe.createElement(_3.Consumer,null,n=>e(n)):e(x7)}function dhe(t){return _7({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"},child:[]}]})(t)}function fhe(t){return _7({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm6 -1v18m6 -18v18"},child:[]}]})(t)}function hhe(t){return"column"in t.schema.blockSchema&&t.schema.blockSchema.columnList===C3.blockSchema.columnList&&"column"in t.schema.blockSchema&&t.schema.blockSchema.column===C3.blockSchema.column}function phe(t){const e=[];return hhe(t)&&e.push({...x3(t).slash_menu.two_columns,icon:C.jsx(dhe,{size:18}),onItemClick:()=>{Yn(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}},{...x3(t).slash_menu.three_columns,icon:C.jsx(fhe,{size:18}),onItemClick:()=>{Yn(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}}),e}var mhe=function(t){return typeof t=="function"};function ghe(t){var e=S.useRef(t);e.current=S.useMemo(function(){return t},[t]);var n=S.useRef();return n.current||(n.current=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return e.current.apply(this,o)}),n.current}function bhe(t){var e=S.useRef(t);return e.current=t,e}var S7=function(t){var e=bhe(t);S.useEffect(function(){return function(){e.current()}},[])},yhe=function(t){S.useEffect(function(){t==null||t()},[])},vhe=function(){var t=cP(S.useState({}),2),e=t[1];return S.useCallback(function(){return e({})},[])};function whe(t,e){e===void 0&&(e={});var n=t??{},o=e.defaultValue,r=e.defaultValuePropName,i=r===void 0?"defaultValue":r,s=e.valuePropName,l=s===void 0?"value":s,c=e.trigger,d=c===void 0?"onChange":c,f=n[l],p=Object.prototype.hasOwnProperty.call(n,l),m=S.useMemo(function(){return p?f:Object.prototype.hasOwnProperty.call(n,i)?n[i]:o},[]),b=S.useRef(m);p&&(b.current=f);var y=vhe();function w(x){for(var _=[],T=1;T<arguments.length;T++)_[T-1]=arguments[T];var M=mhe(x)?x(b.current):x;p||(b.current=M,y()),n[d]&&n[d].apply(n,wle([M],cP(_),!1))}return[b.current,ghe(w)]}let On=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function khe(t){return FE(t)}function FE(t){return Array.isArray(t)?xhe(t):t instanceof RegExp?t:typeof t=="object"?Che(t):t}function xhe(t){let e=[];for(let n=0,o=t.length;n<o;n++)e[n]=FE(t[n]);return e}function Che(t){let e={};for(let n in t)e[n]=FE(t[n]);return e}function E7(t,...e){return e.forEach(n=>{for(let o in n)t[o]=n[o]}),t}function T7(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?T7(t.substring(0,t.length-1)):t.substr(~e+1)}var Kk=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Tg=class{static hasCaptures(t){return t===null?!1:(Kk.lastIndex=0,Kk.test(t))}static replaceCaptures(t,e,n){return t.replace(Kk,(o,r,i,s)=>{let l=n[parseInt(r||i,10)];if(l){let c=e.substring(l.start,l.end);for(;c[0]===".";)c=c.substring(1);switch(s){case"downcase":return c.toLowerCase();case"upcase":return c.toUpperCase();default:return c}}else return o})}};function M7(t,e){return t<e?-1:t>e?1:0}function A7(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,o=e.length;if(n===o){for(let r=0;r<n;r++){let i=M7(t[r],e[r]);if(i!==0)return i}return 0}return n-o}function E3(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function R7(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var O7=class{constructor(t){te(this,"cache",new Map);this.fn=t}get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},My=class{constructor(t,e,n){te(this,"_cachedMatchRoot",new O7(t=>this._root.match(t)));this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(Ehe(t),e)}static createFromParsedTheme(t,e){return Mhe(t,e)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,o=this._cachedMatchRoot.get(e).find(r=>_he(t.parent,r.parentScopes));return o?new N7(o.fontStyle,o.foreground,o.background):null}},Wk=class Qg{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const o of n)e=new Qg(e,o);return e}static from(...e){let n=null;for(let o=0;o<e.length;o++)n=new Qg(n,e[o]);return n}push(e){return new Qg(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let o=this;for(;o&&o!==e;)n.push(o.scopeName),o=o.parent;return o===e?n.reverse():void 0}};function _he(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let o=e[n],r=!1;if(o===">"){if(n===e.length-1)return!1;o=e[++n],r=!0}for(;t&&!She(t.scopeName,o);){if(r)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function She(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var N7=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function Ehe(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],o=0;for(let r=0,i=e.length;r<i;r++){let s=e[r];if(!s.settings)continue;let l;if(typeof s.scope=="string"){let p=s.scope;p=p.replace(/^[,]+/,""),p=p.replace(/[,]+$/,""),l=p.split(",")}else Array.isArray(s.scope)?l=s.scope:l=[""];let c=-1;if(typeof s.settings.fontStyle=="string"){c=0;let p=s.settings.fontStyle.split(" ");for(let m=0,b=p.length;m<b;m++)switch(p[m]){case"italic":c=c|1;break;case"bold":c=c|2;break;case"underline":c=c|4;break;case"strikethrough":c=c|8;break}}let d=null;typeof s.settings.foreground=="string"&&E3(s.settings.foreground)&&(d=s.settings.foreground);let f=null;typeof s.settings.background=="string"&&E3(s.settings.background)&&(f=s.settings.background);for(let p=0,m=l.length;p<m;p++){let y=l[p].trim().split(" "),w=y[y.length-1],x=null;y.length>1&&(x=y.slice(0,y.length-1),x.reverse()),n[o++]=new The(w,x,r,c,d,f)}}return n}var The=class{constructor(t,e,n,o,r,i){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=o,this.foreground=r,this.background=i}},Or=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Or||{});function Mhe(t,e){t.sort((c,d)=>{let f=M7(c.scope,d.scope);return f!==0||(f=A7(c.parentScopes,d.parentScopes),f!==0)?f:c.index-d.index});let n=0,o="#000000",r="#ffffff";for(;t.length>=1&&t[0].scope==="";){let c=t.shift();c.fontStyle!==-1&&(n=c.fontStyle),c.foreground!==null&&(o=c.foreground),c.background!==null&&(r=c.background)}let i=new Ahe(e),s=new N7(n,i.getId(o),i.getId(r)),l=new Ohe(new VC(0,null,-1,0,0),[]);for(let c=0,d=t.length;c<d;c++){let f=t[c];l.insert(0,f.scope,f.parentScopes,f.fontStyle,i.getId(f.foreground),i.getId(f.background))}return new My(i,s,l)}var Ahe=class{constructor(t){te(this,"_isFrozen");te(this,"_lastColorId");te(this,"_id2color");te(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},Rhe=Object.freeze([]),VC=class D7{constructor(e,n,o,r,i){te(this,"scopeDepth");te(this,"parentScopes");te(this,"fontStyle");te(this,"foreground");te(this,"background");this.scopeDepth=e,this.parentScopes=n||Rhe,this.fontStyle=o,this.foreground=r,this.background=i}clone(){return new D7(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o].clone();return n}acceptOverwrite(e,n,o,r){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),o!==0&&(this.foreground=o),r!==0&&(this.background=r)}},Ohe=class UC{constructor(e,n=[],o={}){te(this,"_rulesWithParentScopes");this._mainRule=e,this._children=o,this._rulesWithParentScopes=n}static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let o=0,r=0;for(;e.parentScopes[o]===">"&&o++,n.parentScopes[r]===">"&&r++,!(o>=e.parentScopes.length||r>=n.parentScopes.length);){const i=n.parentScopes[r].length-e.parentScopes[o].length;if(i!==0)return i;o++,r++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let o=e.indexOf("."),r,i;if(o===-1?(r=e,i=""):(r=e.substring(0,o),i=e.substring(o+1)),this._children.hasOwnProperty(r))return this._children[r].match(i)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(UC._cmpBySpecificity),n}insert(e,n,o,r,i,s){if(n===""){this._doInsertHere(e,o,r,i,s);return}let l=n.indexOf("."),c,d;l===-1?(c=n,d=""):(c=n.substring(0,l),d=n.substring(l+1));let f;this._children.hasOwnProperty(c)?f=this._children[c]:(f=new UC(this._mainRule.clone(),VC.cloneArr(this._rulesWithParentScopes)),this._children[c]=f),f.insert(e+1,d,o,r,i,s)}_doInsertHere(e,n,o,r,i){if(n===null){this._mainRule.acceptOverwrite(e,o,r,i);return}for(let s=0,l=this._rulesWithParentScopes.length;s<l;s++){let c=this._rulesWithParentScopes[s];if(A7(c.parentScopes,n)===0){c.acceptOverwrite(e,o,r,i);return}}o===-1&&(o=this._mainRule.fontStyle),r===0&&(r=this._mainRule.foreground),i===0&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new VC(e,n,o,r,i))}},pd=class xr{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=xr.getLanguageId(e),o=xr.getTokenType(e),r=xr.getFontStyle(e),i=xr.getForeground(e),s=xr.getBackground(e);console.log({languageId:n,tokenType:o,fontStyle:r,foreground:i,background:s})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,o,r,i,s,l){let c=xr.getLanguageId(e),d=xr.getTokenType(e),f=xr.containsBalancedBrackets(e)?1:0,p=xr.getFontStyle(e),m=xr.getForeground(e),b=xr.getBackground(e);return n!==0&&(c=n),o!==8&&(d=o),r!==null&&(f=r?1:0),i!==-1&&(p=i),s!==0&&(m=s),l!==0&&(b=l),(c<<0|d<<8|f<<10|p<<11|m<<15|b<<24)>>>0}};function Ay(t,e){const n=[],o=Nhe(t);let r=o.next();for(;r!==null;){let c=0;if(r.length===2&&r.charAt(1)===":"){switch(r.charAt(0)){case"R":c=1;break;case"L":c=-1;break;default:console.log(`Unknown priority ${r} in scope selector`)}r=o.next()}let d=s();if(n.push({matcher:d,priority:c}),r!==",")break;r=o.next()}return n;function i(){if(r==="-"){r=o.next();const c=i();return d=>!!c&&!c(d)}if(r==="("){r=o.next();const c=l();return r===")"&&(r=o.next()),c}if(T3(r)){const c=[];do c.push(r),r=o.next();while(T3(r));return d=>e(c,d)}return null}function s(){const c=[];let d=i();for(;d;)c.push(d),d=i();return f=>c.every(p=>p(f))}function l(){const c=[];let d=s();for(;d&&(c.push(d),r==="|"||r===",");){do r=o.next();while(r==="|"||r===",");d=s()}return f=>c.some(p=>p(f))}}function T3(t){return!!t&&!!t.match(/[\w\.:]+/)}function Nhe(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const o=n[0];return n=e.exec(t),o}}}function L7(t){typeof t.dispose=="function"&&t.dispose()}var ip=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Dhe=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Lhe=class{constructor(){te(this,"_references",[]);te(this,"_seenReferenceKeys",new Set);te(this,"visitedRule",new Set)}get references(){return this._references}add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},Bhe=class{constructor(t,e){te(this,"seenFullScopeRequests",new Set);te(this,"seenPartialScopeRequests",new Set);te(this,"Q");this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new ip(this.initialScopeName)]}processQueue(){const t=this.Q;this.Q=[];const e=new Lhe;for(const n of t)Ihe(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof ip){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function Ihe(t,e,n,o){const r=n.lookup(t.scopeName);if(!r){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const i=n.lookup(e);t instanceof ip?eb({baseGrammar:i,selfGrammar:r},o):FC(t.ruleName,{baseGrammar:i,selfGrammar:r,repository:r.repository},o);const s=n.injections(t.scopeName);if(s)for(const l of s)o.add(new ip(l))}function FC(t,e,n){if(e.repository&&e.repository[t]){const o=e.repository[t];Ry([o],e,n)}}function eb(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&Ry(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&Ry(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function Ry(t,e,n){for(const o of t){if(n.visitedRule.has(o))continue;n.visitedRule.add(o);const r=o.repository?E7({},e.repository,o.repository):e.repository;Array.isArray(o.patterns)&&Ry(o.patterns,{...e,repository:r},n);const i=o.include;if(!i)continue;const s=B7(i);switch(s.kind){case 0:eb({...e,selfGrammar:e.baseGrammar},n);break;case 1:eb(e,n);break;case 2:FC(s.ruleName,{...e,repository:r},n);break;case 3:case 4:const l=s.scopeName===e.selfGrammar.scopeName?e.selfGrammar:s.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(l){const c={baseGrammar:e.baseGrammar,selfGrammar:l,repository:r};s.kind===4?FC(s.ruleName,c,n):eb(c,n)}else s.kind===4?n.add(new Dhe(s.scopeName,s.ruleName)):n.add(new ip(s.scopeName));break}}}var jhe=class{constructor(){te(this,"kind",0)}},Phe=class{constructor(){te(this,"kind",1)}},$he=class{constructor(t){te(this,"kind",2);this.ruleName=t}},Hhe=class{constructor(t){te(this,"kind",3);this.scopeName=t}},zhe=class{constructor(t,e){te(this,"kind",4);this.scopeName=t,this.ruleName=e}};function B7(t){if(t==="$base")return new jhe;if(t==="$self")return new Phe;const e=t.indexOf("#");if(e===-1)return new Hhe(t);if(e===0)return new $he(t.substring(1));{const n=t.substring(0,e),o=t.substring(e+1);return new zhe(n,o)}}var Vhe=/\\(\d+)/,M3=/\\(\d+)/g,Uhe=-1,I7=-2;var $p=class{constructor(t,e,n,o){te(this,"$location");te(this,"id");te(this,"_nameIsCapturing");te(this,"_name");te(this,"_contentNameIsCapturing");te(this,"_contentName");this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=Tg.hasCaptures(this._name),this._contentName=o||null,this._contentNameIsCapturing=Tg.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${T7(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Tg.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Tg.replaceCaptures(this._contentName,t,e)}},Fhe=class extends $p{constructor(e,n,o,r,i){super(e,n,o,r);te(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,n){throw new Error("Not supported!")}compile(e,n){throw new Error("Not supported!")}compileAG(e,n,o,r){throw new Error("Not supported!")}},Ghe=class extends $p{constructor(e,n,o,r,i){super(e,n,o,null);te(this,"_match");te(this,"captures");te(this,"_cachedCompiledPatterns");this._match=new sp(r,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,n){n.push(this._match)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,o,r){return this._getCachedCompiledPatterns(e).compileAG(e,o,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new lp,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},A3=class extends $p{constructor(e,n,o,r,i){super(e,n,o,r);te(this,"hasMissingPatterns");te(this,"patterns");te(this,"_cachedCompiledPatterns");this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,n){for(const o of this.patterns)e.getRule(o).collectPatterns(e,n)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,o,r){return this._getCachedCompiledPatterns(e).compileAG(e,o,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new lp,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},GC=class extends $p{constructor(e,n,o,r,i,s,l,c,d,f){super(e,n,o,r);te(this,"_begin");te(this,"beginCaptures");te(this,"_end");te(this,"endHasBackReferences");te(this,"endCaptures");te(this,"applyEndPatternLast");te(this,"hasMissingPatterns");te(this,"patterns");te(this,"_cachedCompiledPatterns");this._begin=new sp(i,this.id),this.beginCaptures=s,this._end=new sp(l||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=c,this.applyEndPatternLast=d||!1,this.patterns=f.patterns,this.hasMissingPatterns=f.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,n){return this._end.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e,n).compile(e)}compileAG(e,n,o,r){return this._getCachedCompiledPatterns(e,n).compileAG(e,o,r)}_getCachedCompiledPatterns(e,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new lp;for(const o of this.patterns)e.getRule(o).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}},Oy=class extends $p{constructor(e,n,o,r,i,s,l,c,d){super(e,n,o,r);te(this,"_begin");te(this,"beginCaptures");te(this,"whileCaptures");te(this,"_while");te(this,"whileHasBackReferences");te(this,"hasMissingPatterns");te(this,"patterns");te(this,"_cachedCompiledPatterns");te(this,"_cachedCompiledWhilePatterns");this._begin=new sp(i,this.id),this.beginCaptures=s,this.whileCaptures=c,this._while=new sp(l,I7),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=d.patterns,this.hasMissingPatterns=d.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,n){return this._while.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,o,r){return this._getCachedCompiledPatterns(e).compileAG(e,o,r)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new lp;for(const n of this.patterns)e.getRule(n).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,n){return this._getCachedCompiledWhilePatterns(e,n).compile(e)}compileWhileAG(e,n,o,r){return this._getCachedCompiledWhilePatterns(e,n).compileAG(e,o,r)}_getCachedCompiledWhilePatterns(e,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new lp,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||""),this._cachedCompiledWhilePatterns}},j7=class Xn{static createCaptureRule(e,n,o,r,i){return e.registerRule(s=>new Fhe(n,s,o,r,i))}static getCompiledRuleId(e,n,o){return e.id||n.registerRule(r=>{if(e.id=r,e.match)return new Ghe(e.$vscodeTextmateLocation,e.id,e.name,e.match,Xn._compileCaptures(e.captures,n,o));if(typeof e.begin>"u"){e.repository&&(o=E7({},o,e.repository));let i=e.patterns;return typeof i>"u"&&e.include&&(i=[{include:e.include}]),new A3(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,Xn._compilePatterns(i,n,o))}return e.while?new Oy(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Xn._compileCaptures(e.beginCaptures||e.captures,n,o),e.while,Xn._compileCaptures(e.whileCaptures||e.captures,n,o),Xn._compilePatterns(e.patterns,n,o)):new GC(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Xn._compileCaptures(e.beginCaptures||e.captures,n,o),e.end,Xn._compileCaptures(e.endCaptures||e.captures,n,o),e.applyEndPatternLast,Xn._compilePatterns(e.patterns,n,o))}),e.id}static _compileCaptures(e,n,o){let r=[];if(e){let i=0;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const l=parseInt(s,10);l>i&&(i=l)}for(let s=0;s<=i;s++)r[s]=null;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const l=parseInt(s,10);let c=0;e[s].patterns&&(c=Xn.getCompiledRuleId(e[s],n,o)),r[l]=Xn.createCaptureRule(n,e[s].$vscodeTextmateLocation,e[s].name,e[s].contentName,c)}}return r}static _compilePatterns(e,n,o){let r=[];if(e)for(let i=0,s=e.length;i<s;i++){const l=e[i];let c=-1;if(l.include){const d=B7(l.include);switch(d.kind){case 0:case 1:c=Xn.getCompiledRuleId(o[l.include],n,o);break;case 2:let f=o[d.ruleName];f&&(c=Xn.getCompiledRuleId(f,n,o));break;case 3:case 4:const p=d.scopeName,m=d.kind===4?d.ruleName:null,b=n.getExternalGrammar(p,o);if(b)if(m){let y=b.repository[m];y&&(c=Xn.getCompiledRuleId(y,n,b.repository))}else c=Xn.getCompiledRuleId(b.repository.$self,n,b.repository);break}}else c=Xn.getCompiledRuleId(l,n,o);if(c!==-1){const d=n.getRule(c);let f=!1;if((d instanceof A3||d instanceof GC||d instanceof Oy)&&d.hasMissingPatterns&&d.patterns.length===0&&(f=!0),f)continue;r.push(c)}}return{patterns:r,hasMissingPatterns:(e?e.length:0)!==r.length}}},sp=class P7{constructor(e,n){te(this,"source");te(this,"ruleId");te(this,"hasAnchor");te(this,"hasBackReferences");te(this,"_anchorCache");if(e&&typeof e=="string"){const o=e.length;let r=0,i=[],s=!1;for(let l=0;l<o;l++)if(e.charAt(l)==="\\"&&l+1<o){const d=e.charAt(l+1);d==="z"?(i.push(e.substring(r,l)),i.push("$(?!\\n)(?<!\\n)"),r=l+2):(d==="A"||d==="G")&&(s=!0),l++}this.hasAnchor=s,r===0?this.source=e:(i.push(e.substring(r,o)),this.source=i.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=Vhe.test(this.source):this.hasBackReferences=!1}clone(){return new P7(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let o=n.map(r=>e.substring(r.start,r.end));return M3.lastIndex=0,this.source.replace(M3,(r,i)=>R7(o[parseInt(i,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],o=[],r=[],i,s,l,c;for(i=0,s=this.source.length;i<s;i++)l=this.source.charAt(i),e[i]=l,n[i]=l,o[i]=l,r[i]=l,l==="\\"&&i+1<s&&(c=this.source.charAt(i+1),c==="A"?(e[i+1]="",n[i+1]="",o[i+1]="A",r[i+1]="A"):c==="G"?(e[i+1]="",n[i+1]="G",o[i+1]="",r[i+1]="G"):(e[i+1]=c,n[i+1]=c,o[i+1]=c,r[i+1]=c),i++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:o.join(""),A1_G1:r.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},lp=class{constructor(){te(this,"_items");te(this,"_hasAnchors");te(this,"_cached");te(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new R3(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let o=this._items.map(r=>r.resolveAnchors(e,n));return new R3(t,o,this._items.map(r=>r.ruleId))}},R3=class{constructor(t,e,n){te(this,"scanner");this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const o=this.scanner.findNextMatchSync(t,e,n);return o?{ruleId:this.rules[o.index],captureIndices:o.captureIndices}:null}},Zk=class{constructor(t,e){this.languageId=t,this.tokenType=e}},ks,qhe=(ks=class{constructor(e,n){te(this,"_defaultAttributes");te(this,"_embeddedLanguagesMatcher");te(this,"_getBasicScopeAttributes",new O7(e=>{const n=this._scopeToLanguage(e),o=this._toStandardTokenType(e);return new Zk(n,o)}));this._defaultAttributes=new Zk(e,8),this._embeddedLanguagesMatcher=new Khe(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?ks._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(ks.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},te(ks,"_NULL_SCOPE_METADATA",new Zk(0,0)),te(ks,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),ks),Khe=class{constructor(t){te(this,"values");te(this,"scopesRegExp");if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,o])=>R7(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},O3=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function $7(t,e,n,o,r,i,s,l){const c=e.content.length;let d=!1,f=-1;if(s){const b=Whe(t,e,n,o,r,i);r=b.stack,o=b.linePos,n=b.isFirstLine,f=b.anchorPosition}const p=Date.now();for(;!d;){if(l!==0&&Date.now()-p>l)return new O3(r,!0);m()}return new O3(r,!1);function m(){const b=Zhe(t,e,n,o,r,f);if(!b){i.produce(r,c),d=!0;return}const y=b.captureIndices,w=b.matchedRuleId,x=y&&y.length>0?y[0].end>o:!1;if(w===Uhe){const _=r.getRule(t);i.produce(r,y[0].start),r=r.withContentNameScopesList(r.nameScopesList),eh(t,e,n,r,i,_.endCaptures,y),i.produce(r,y[0].end);const T=r;if(r=r.parent,f=T.getAnchorPos(),!x&&T.getEnterPos()===o){r=T,i.produce(r,c),d=!0;return}}else{const _=t.getRule(w);i.produce(r,y[0].start);const T=r,M=_.getName(e.content,y),R=r.contentNameScopesList.pushAttributed(M,t);if(r=r.push(w,o,f,y[0].end===c,null,R,R),_ instanceof GC){const O=_;eh(t,e,n,r,i,O.beginCaptures,y),i.produce(r,y[0].end),f=y[0].end;const B=O.getContentName(e.content,y),I=R.pushAttributed(B,t);if(r=r.withContentNameScopesList(I),O.endHasBackReferences&&(r=r.withEndRule(O.getEndWithResolvedBackReferences(e.content,y))),!x&&T.hasSameRuleAs(r)){r=r.pop(),i.produce(r,c),d=!0;return}}else if(_ instanceof Oy){const O=_;eh(t,e,n,r,i,O.beginCaptures,y),i.produce(r,y[0].end),f=y[0].end;const B=O.getContentName(e.content,y),I=R.pushAttributed(B,t);if(r=r.withContentNameScopesList(I),O.whileHasBackReferences&&(r=r.withEndRule(O.getWhileWithResolvedBackReferences(e.content,y))),!x&&T.hasSameRuleAs(r)){r=r.pop(),i.produce(r,c),d=!0;return}}else if(eh(t,e,n,r,i,_.captures,y),i.produce(r,y[0].end),r=r.pop(),!x){r=r.safePop(),i.produce(r,c),d=!0;return}}y[0].end>o&&(o=y[0].end,n=!1)}}function Whe(t,e,n,o,r,i){let s=r.beginRuleCapturedEOL?0:-1;const l=[];for(let c=r;c;c=c.pop()){const d=c.getRule(t);d instanceof Oy&&l.push({rule:d,stack:c})}for(let c=l.pop();c;c=l.pop()){const{ruleScanner:d,findOptions:f}=Jhe(c.rule,t,c.stack.endRule,n,o===s),p=d.findNextMatchSync(e,o,f);if(p){if(p.ruleId!==I7){r=c.stack.pop();break}p.captureIndices&&p.captureIndices.length&&(i.produce(c.stack,p.captureIndices[0].start),eh(t,e,n,c.stack,i,c.rule.whileCaptures,p.captureIndices),i.produce(c.stack,p.captureIndices[0].end),s=p.captureIndices[0].end,p.captureIndices[0].end>o&&(o=p.captureIndices[0].end,n=!1))}else{r=c.stack.pop();break}}return{stack:r,linePos:o,anchorPosition:s,isFirstLine:n}}function Zhe(t,e,n,o,r,i){const s=Xhe(t,e,n,o,r,i),l=t.getInjections();if(l.length===0)return s;const c=Yhe(l,t,e,n,o,r,i);if(!c)return s;if(!s)return c;const d=s.captureIndices[0].start,f=c.captureIndices[0].start;return f<d||c.priorityMatch&&f===d?c:s}function Xhe(t,e,n,o,r,i){const s=r.getRule(t),{ruleScanner:l,findOptions:c}=H7(s,t,r.endRule,n,o===i),d=l.findNextMatchSync(e,o,c);return d?{captureIndices:d.captureIndices,matchedRuleId:d.ruleId}:null}function Yhe(t,e,n,o,r,i,s){let l=Number.MAX_VALUE,c=null,d,f=0;const p=i.contentNameScopesList.getScopeNames();for(let m=0,b=t.length;m<b;m++){const y=t[m];if(!y.matcher(p))continue;const w=e.getRule(y.ruleId),{ruleScanner:x,findOptions:_}=H7(w,e,null,o,r===s),T=x.findNextMatchSync(n,r,_);if(!T)continue;const M=T.captureIndices[0].start;if(!(M>=l)&&(l=M,c=T.captureIndices,d=T.ruleId,f=y.priority,l===r))break}return c?{priorityMatch:f===-1,captureIndices:c,matchedRuleId:d}:null}function H7(t,e,n,o,r){return{ruleScanner:t.compileAG(e,n,o,r),findOptions:0}}function Jhe(t,e,n,o,r){return{ruleScanner:t.compileWhileAG(e,n,o,r),findOptions:0}}function eh(t,e,n,o,r,i,s){if(i.length===0)return;const l=e.content,c=Math.min(i.length,s.length),d=[],f=s[0].end;for(let p=0;p<c;p++){const m=i[p];if(m===null)continue;const b=s[p];if(b.length===0)continue;if(b.start>f)break;for(;d.length>0&&d[d.length-1].endPos<=b.start;)r.produceFromScopes(d[d.length-1].scopes,d[d.length-1].endPos),d.pop();if(d.length>0?r.produceFromScopes(d[d.length-1].scopes,b.start):r.produce(o,b.start),m.retokenizeCapturedWithRuleId){const w=m.getName(l,s),x=o.contentNameScopesList.pushAttributed(w,t),_=m.getContentName(l,s),T=x.pushAttributed(_,t),M=o.push(m.retokenizeCapturedWithRuleId,b.start,-1,!1,null,x,T),R=t.createOnigString(l.substring(0,b.end));$7(t,R,n&&b.start===0,b.start,M,r,!1,0),L7(R);continue}const y=m.getName(l,s);if(y!==null){const x=(d.length>0?d[d.length-1].scopes:o.contentNameScopesList).pushAttributed(y,t);d.push(new Qhe(x,b.end))}}for(;d.length>0;)r.produceFromScopes(d[d.length-1].scopes,d[d.length-1].endPos),d.pop()}var Qhe=class{constructor(t,e){te(this,"scopes");te(this,"endPos");this.scopes=t,this.endPos=e}};function epe(t,e,n,o,r,i,s,l){return new npe(t,e,n,o,r,i,s,l)}function N3(t,e,n,o,r){const i=Ay(e,Ny),s=j7.getCompiledRuleId(n,o,r.repository);for(const l of i)t.push({debugSelector:e,matcher:l.matcher,ruleId:s,grammar:r,priority:l.priority})}function Ny(t,e){if(e.length<t.length)return!1;let n=0;return t.every(o=>{for(let r=n;r<e.length;r++)if(tpe(e[r],o))return n=r+1,!0;return!1})}function tpe(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var npe=class{constructor(t,e,n,o,r,i,s,l){te(this,"_rootId");te(this,"_lastRuleId");te(this,"_ruleId2desc");te(this,"_includedGrammars");te(this,"_grammarRepository");te(this,"_grammar");te(this,"_injections");te(this,"_basicScopeAttributesProvider");te(this,"_tokenTypeMatchers");if(this._rootScopeName=t,this.balancedBracketSelectors=i,this._onigLib=l,this._basicScopeAttributesProvider=new qhe(n,o),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=s,this._grammar=D3(e,null),this._injections=null,this._tokenTypeMatchers=[],r)for(const c of Object.keys(r)){const d=Ay(c,Ny);for(const f of d)this._tokenTypeMatchers.push({matcher:f.matcher,type:r[c]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:r=>r===this._rootScopeName?this._grammar:this.getExternalGrammar(r),injections:r=>this._grammarRepository.injections(r)},e=[],n=this._rootScopeName,o=t.lookup(n);if(o){const r=o.injections;if(r)for(let s in r)N3(e,s,r[s],this,o);const i=this._grammarRepository.injections(n);i&&i.forEach(s=>{const l=this.getExternalGrammar(s);if(l){const c=l.injectionSelector;c&&N3(e,c,l,this,l)}})}return e.sort((r,i)=>r.priority-i.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=D3(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const o=this._tokenize(t,e,!1,n);return{tokens:o.lineTokens.getResult(o.ruleStack,o.lineLength),ruleStack:o.ruleStack,stoppedEarly:o.stoppedEarly}}tokenizeLine2(t,e,n=0){const o=this._tokenize(t,e,!0,n);return{tokens:o.lineTokens.getBinaryResult(o.ruleStack,o.lineLength),ruleStack:o.ruleStack,stoppedEarly:o.stoppedEarly}}_tokenize(t,e,n,o){this._rootId===-1&&(this._rootId=j7.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let r;if(!e||e===qC.NULL){r=!0;const d=this._basicScopeAttributesProvider.getDefaultAttributes(),f=this.themeProvider.getDefaults(),p=pd.set(0,d.languageId,d.tokenType,null,f.fontStyle,f.foregroundId,f.backgroundId),m=this.getRule(this._rootId).getName(null,null);let b;m?b=kh.createRootAndLookUpScopeName(m,p,this):b=kh.createRoot("unknown",p),e=new qC(null,this._rootId,-1,-1,!1,null,b,b)}else r=!1,e.reset();t=t+`
`;const i=this.createOnigString(t),s=i.content.length,l=new rpe(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),c=$7(this,i,r,0,e,l,!0,o);return L7(i),{lineLength:s,lineTokens:l,ruleStack:c.stack,stoppedEarly:c.stoppedEarly}}};function D3(t,e){return t=khe(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var kh=class bi{constructor(e,n,o){this.parent=e,this.scopePath=n,this.tokenAttributes=o}static fromExtension(e,n){let o=e,r=(e==null?void 0:e.scopePath)??null;for(const i of n)r=Wk.push(r,i.scopeNames),o=new bi(o,r,i.encodedTokenAttributes);return o}static createRoot(e,n){return new bi(null,new Wk(null,e),n)}static createRootAndLookUpScopeName(e,n,o){const r=o.getMetadataForScope(e),i=new Wk(null,e),s=o.themeProvider.themeMatch(i),l=bi.mergeAttributes(n,r,s);return new bi(null,i,l)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return bi.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,o){let r=-1,i=0,s=0;return o!==null&&(r=o.fontStyle,i=o.foregroundId,s=o.backgroundId),pd.set(e,n.languageId,n.tokenType,null,r,i,s)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return bi._pushAttributed(this,e,n);const o=e.split(/ /g);let r=this;for(const i of o)r=bi._pushAttributed(r,i,n);return r}static _pushAttributed(e,n,o){const r=o.getMetadataForScope(n),i=e.scopePath.push(n),s=o.themeProvider.themeMatch(i),l=bi.mergeAttributes(e.tokenAttributes,r,s);return new bi(e,i,l)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){var r;const n=[];let o=this;for(;o&&o!==e;)n.push({encodedTokenAttributes:o.tokenAttributes,scopeNames:o.scopePath.getExtensionIfDefined(((r=o.parent)==null?void 0:r.scopePath)??null)}),o=o.parent;return o===e?n.reverse():void 0}},Mr,qC=(Mr=class{constructor(e,n,o,r,i,s,l,c){te(this,"_stackElementBrand");te(this,"_enterPos");te(this,"_anchorPos");te(this,"depth");this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=i,this.endRule=s,this.nameScopesList=l,this.contentNameScopesList=c,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=o,this._anchorPos=r}equals(e){return e===null?!1:Mr._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?kh.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Mr._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,o,r,i,s,l){return new Mr(this,e,n,o,r,i,s,l)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){var o,r;return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${(o=this.nameScopesList)==null?void 0:o.toString()}, ${(r=this.contentNameScopesList)==null?void 0:r.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Mr(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){var e,n,o;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((n=this.nameScopesList)==null?void 0:n.getExtensionIfDefined(((e=this.parent)==null?void 0:e.nameScopesList)??null))??[],contentNameScopesList:((o=this.contentNameScopesList)==null?void 0:o.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(e,n){const o=kh.fromExtension((e==null?void 0:e.nameScopesList)??null,n.nameScopesList);return new Mr(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,o,kh.fromExtension(o,n.contentNameScopesList))}},te(Mr,"NULL",new Mr(null,0,0,0,!1,null,null,null)),Mr),ope=class{constructor(t,e){te(this,"balancedBracketScopes");te(this,"unbalancedBracketScopes");te(this,"allowAny",!1);this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):Ay(n,Ny).map(o=>o.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>Ay(n,Ny).map(o=>o.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},rpe=class{constructor(t,e,n,o){te(this,"_emitBinaryTokens");te(this,"_lineText");te(this,"_tokens");te(this,"_binaryTokens");te(this,"_lastTokenEndIndex");te(this,"_tokenTypeOverrides");this.balancedBracketSelectors=o,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){var o;if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=(t==null?void 0:t.tokenAttributes)??0,i=!1;if((o=this.balancedBracketSelectors)!=null&&o.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const s=(t==null?void 0:t.getScopeNames())??[];for(const l of this._tokenTypeOverrides)l.matcher(s)&&(r=pd.set(r,0,l.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(s))}if(i&&(r=pd.set(r,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const n=(t==null?void 0:t.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let o=0,r=this._binaryTokens.length;o<r;o++)n[o]=this._binaryTokens[o];return n}},ipe=class{constructor(t,e){te(this,"_grammars",new Map);te(this,"_rawGrammars",new Map);te(this,"_injectionGrammars",new Map);te(this,"_theme");this._onigLib=e,this._theme=t}dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,o,r){if(!this._grammars.has(t)){let i=this._rawGrammars.get(t);if(!i)return null;this._grammars.set(t,epe(t,i,e,n,o,r,this,this._onigLib))}return this._grammars.get(t)}},spe=class{constructor(e){te(this,"_options");te(this,"_syncRegistry");te(this,"_ensureGrammarCache");this._options=e,this._syncRegistry=new ipe(My.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(My.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,o){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:o})}loadGrammarWithConfiguration(e,n,o){return this._loadGrammar(e,n,o.embeddedLanguages,o.tokenTypes,new ope(o.balancedBracketSelectors||[],o.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,o,r,i){const s=new Bhe(this._syncRegistry,e);for(;s.Q.length>0;)s.Q.map(l=>this._loadSingleGrammar(l.scopeName)),s.processQueue();return this._grammarForScopeName(e,n,o,r,i)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const o=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,o)}}addGrammar(e,n=[],o=0,r=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,o,r)}_grammarForScopeName(e,n=0,o=null,r=null,i=null){return this._syncRegistry.grammarForScopeName(e,n,o,r,i)}},KC=qC.NULL;const lpe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Hp{constructor(e,n,o){this.normal=n,this.property=e,o&&(this.space=o)}}Hp.prototype.normal={};Hp.prototype.property={};Hp.prototype.space=void 0;function z7(t,e){const n={},o={};for(const r of t)Object.assign(n,r.property),Object.assign(o,r.normal);return new Hp(n,o,e)}function WC(t){return t.toLowerCase()}class Go{constructor(e,n){this.attribute=n,this.property=e}}Go.prototype.attribute="";Go.prototype.booleanish=!1;Go.prototype.boolean=!1;Go.prototype.commaOrSpaceSeparated=!1;Go.prototype.commaSeparated=!1;Go.prototype.defined=!1;Go.prototype.mustUseProperty=!1;Go.prototype.number=!1;Go.prototype.overloadedBoolean=!1;Go.prototype.property="";Go.prototype.spaceSeparated=!1;Go.prototype.space=void 0;let ape=0;const Ye=Oc(),mn=Oc(),V7=Oc(),ge=Oc(),Ht=Oc(),Yu=Oc(),Qo=Oc();function Oc(){return 2**++ape}const ZC=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:mn,commaOrSpaceSeparated:Qo,commaSeparated:Yu,number:ge,overloadedBoolean:V7,spaceSeparated:Ht},Symbol.toStringTag,{value:"Module"})),Xk=Object.keys(ZC);class GE extends Go{constructor(e,n,o,r){let i=-1;if(super(e,n),L3(this,"space",r),typeof o=="number")for(;++i<Xk.length;){const s=Xk[i];L3(this,Xk[i],(o&ZC[s])===ZC[s])}}}GE.prototype.defined=!0;function L3(t,e,n){n&&(t[e]=n)}function Dd(t){const e={},n={};for(const[o,r]of Object.entries(t.properties)){const i=new GE(o,t.transform(t.attributes||{},o),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(i.mustUseProperty=!0),e[o]=i,n[WC(o)]=o,n[WC(i.attribute)]=o}return new Hp(e,n,t.space)}const U7=Dd({properties:{ariaActiveDescendant:null,ariaAtomic:mn,ariaAutoComplete:null,ariaBusy:mn,ariaChecked:mn,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:Ht,ariaCurrent:null,ariaDescribedBy:Ht,ariaDetails:null,ariaDisabled:mn,ariaDropEffect:Ht,ariaErrorMessage:null,ariaExpanded:mn,ariaFlowTo:Ht,ariaGrabbed:mn,ariaHasPopup:null,ariaHidden:mn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ht,ariaLevel:ge,ariaLive:null,ariaModal:mn,ariaMultiLine:mn,ariaMultiSelectable:mn,ariaOrientation:null,ariaOwns:Ht,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:mn,ariaReadOnly:mn,ariaRelevant:null,ariaRequired:mn,ariaRoleDescription:Ht,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:mn,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function F7(t,e){return e in t?t[e]:e}function G7(t,e){return F7(t,e.toLowerCase())}const cpe=Dd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yu,acceptCharset:Ht,accessKey:Ht,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:Ht,autoFocus:Ye,autoPlay:Ye,blocking:Ht,capture:null,charSet:null,checked:Ye,cite:null,className:Ht,cols:ge,colSpan:null,content:null,contentEditable:mn,controls:Ye,controlsList:Ht,coords:ge|Yu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:V7,draggable:mn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:Ht,height:ge,hidden:Ye,high:ge,href:null,hrefLang:null,htmlFor:Ht,httpEquiv:Ht,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:Ht,itemRef:Ht,itemScope:Ye,itemType:Ht,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:ge,pattern:null,ping:Ht,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:Ht,required:Ye,reversed:Ye,rows:ge,rowSpan:ge,sandbox:Ht,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:mn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:mn,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ht,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:mn,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:G7}),upe=Dd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Qo,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:Ht,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yu,g2:Yu,glyphName:Yu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:Qo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ht,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Qo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Qo,rev:Qo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Qo,requiredFeatures:Qo,requiredFonts:Qo,requiredFormats:Qo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:Qo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Qo,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Qo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:F7}),q7=Dd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),K7=Dd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:G7}),W7=Dd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),dpe=/[A-Z]/g,B3=/-[a-z]/g,fpe=/^data[-\w.:]+$/i;function hpe(t,e){const n=WC(e);let o=e,r=Go;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&fpe.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(B3,mpe);o="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!B3.test(i)){let s=i.replace(dpe,ppe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=GE}return new r(o,e)}function ppe(t){return"-"+t.toLowerCase()}function mpe(t){return t.charAt(1).toUpperCase()}const gpe=z7([U7,cpe,q7,K7,W7],"html"),Z7=z7([U7,upe,q7,K7,W7],"svg"),I3={}.hasOwnProperty;function bpe(t,e){const n=e||{};function o(r,...i){let s=o.invalid;const l=o.handlers;if(r&&I3.call(r,t)){const c=String(r[t]);s=I3.call(l,c)?l[c]:o.unknown}if(s)return s.call(this,r,...i)}return o.handlers=n.handlers||{},o.invalid=n.invalid,o.unknown=n.unknown,o}const ype=/["&'<>`]/g,vpe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wpe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,kpe=/[|\\{}()[\]^$+*?.]/g,j3=new WeakMap;function xpe(t,e){if(t=t.replace(e.subset?Cpe(e.subset):ype,o),e.subset||e.escapeOnly)return t;return t.replace(vpe,n).replace(wpe,o);function n(r,i,s){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,s.charCodeAt(i+2),e)}function o(r,i,s){return e.format(r.charCodeAt(0),s.charCodeAt(i+1),e)}}function Cpe(t){let e=j3.get(t);return e||(e=_pe(t),j3.set(t,e)),e}function _pe(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(kpe,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const Spe=/[\dA-Fa-f]/;function Epe(t,e,n){const o="&#x"+t.toString(16).toUpperCase();return n&&e&&!Spe.test(String.fromCharCode(e))?o:o+";"}const Tpe=/\d/;function Mpe(t,e,n){const o="&#"+String(t);return n&&e&&!Tpe.test(String.fromCharCode(e))?o:o+";"}const Ape=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Yk={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},Rpe=["cent","copy","divide","gt","lt","not","para","times"],X7={}.hasOwnProperty,XC={};let Mg;for(Mg in Yk)X7.call(Yk,Mg)&&(XC[Yk[Mg]]=Mg);const Ope=/[^\dA-Za-z]/;function Npe(t,e,n,o){const r=String.fromCharCode(t);if(X7.call(XC,r)){const i=XC[r],s="&"+i;return n&&Ape.includes(i)&&!Rpe.includes(i)&&(!o||e&&e!==61&&Ope.test(String.fromCharCode(e)))?s:s+";"}return""}function Dpe(t,e,n){let o=Epe(t,e,n.omitOptionalSemicolons),r;if((n.useNamedReferences||n.useShortestReferences)&&(r=Npe(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){const i=Mpe(t,e,n.omitOptionalSemicolons);i.length<o.length&&(o=i)}return r&&(!n.useShortestReferences||r.length<o.length)?r:o}function Ju(t,e){return xpe(t,Object.assign({format:Dpe},e))}const Lpe=/^>|^->|<!--|-->|--!>|<!-$/g,Bpe=[">"],Ipe=["<",">"];function jpe(t,e,n,o){return o.settings.bogusComments?"<?"+Ju(t.value,Object.assign({},o.settings.characterReferences,{subset:Bpe}))+">":"<!--"+t.value.replace(Lpe,r)+"-->";function r(i){return Ju(i,Object.assign({},o.settings.characterReferences,{subset:Ipe}))}}function Ppe(t,e,n,o){return"<!"+(o.settings.upperDoctype?"DOCTYPE":"doctype")+(o.settings.tightDoctype?"":" ")+"html>"}function P3(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let o=0,r=n.indexOf(e);for(;r!==-1;)o++,r=n.indexOf(e,r+e.length);return o}function Wye(t){const e=[],n=String(t||"");let o=n.indexOf(","),r=0,i=!1;for(;!i;){o===-1&&(o=n.length,i=!0);const s=n.slice(r,o).trim();(s||!i)&&e.push(s),r=o+1,o=n.indexOf(",",r)}return e}function $pe(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function Zye(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Hpe(t){return t.join(" ").trim()}const zpe=/[ \t\n\f\r]/g;function qE(t){return typeof t=="object"?t.type==="text"?$3(t.value):!1:$3(t)}function $3(t){return t.replace(zpe,"")===""}const Sn=J7(1),Y7=J7(-1),Vpe=[];function J7(t){return e;function e(n,o,r){const i=n?n.children:Vpe;let s=(o||0)+t,l=i[s];if(!r)for(;l&&qE(l);)s+=t,l=i[s];return l}}const Upe={}.hasOwnProperty;function Q7(t){return e;function e(n,o,r){return Upe.call(t,n.tagName)&&t[n.tagName](n,o,r)}}const KE=Q7({body:Gpe,caption:Jk,colgroup:Jk,dd:Zpe,dt:Wpe,head:Jk,html:Fpe,li:Kpe,optgroup:Xpe,option:Ype,p:qpe,rp:H3,rt:H3,tbody:Qpe,td:z3,tfoot:eme,th:z3,thead:Jpe,tr:tme});function Jk(t,e,n){const o=Sn(n,e,!0);return!o||o.type!=="comment"&&!(o.type==="text"&&qE(o.value.charAt(0)))}function Fpe(t,e,n){const o=Sn(n,e);return!o||o.type!=="comment"}function Gpe(t,e,n){const o=Sn(n,e);return!o||o.type!=="comment"}function qpe(t,e,n){const o=Sn(n,e);return o?o.type==="element"&&(o.tagName==="address"||o.tagName==="article"||o.tagName==="aside"||o.tagName==="blockquote"||o.tagName==="details"||o.tagName==="div"||o.tagName==="dl"||o.tagName==="fieldset"||o.tagName==="figcaption"||o.tagName==="figure"||o.tagName==="footer"||o.tagName==="form"||o.tagName==="h1"||o.tagName==="h2"||o.tagName==="h3"||o.tagName==="h4"||o.tagName==="h5"||o.tagName==="h6"||o.tagName==="header"||o.tagName==="hgroup"||o.tagName==="hr"||o.tagName==="main"||o.tagName==="menu"||o.tagName==="nav"||o.tagName==="ol"||o.tagName==="p"||o.tagName==="pre"||o.tagName==="section"||o.tagName==="table"||o.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function Kpe(t,e,n){const o=Sn(n,e);return!o||o.type==="element"&&o.tagName==="li"}function Wpe(t,e,n){const o=Sn(n,e);return!!(o&&o.type==="element"&&(o.tagName==="dt"||o.tagName==="dd"))}function Zpe(t,e,n){const o=Sn(n,e);return!o||o.type==="element"&&(o.tagName==="dt"||o.tagName==="dd")}function H3(t,e,n){const o=Sn(n,e);return!o||o.type==="element"&&(o.tagName==="rp"||o.tagName==="rt")}function Xpe(t,e,n){const o=Sn(n,e);return!o||o.type==="element"&&o.tagName==="optgroup"}function Ype(t,e,n){const o=Sn(n,e);return!o||o.type==="element"&&(o.tagName==="option"||o.tagName==="optgroup")}function Jpe(t,e,n){const o=Sn(n,e);return!!(o&&o.type==="element"&&(o.tagName==="tbody"||o.tagName==="tfoot"))}function Qpe(t,e,n){const o=Sn(n,e);return!o||o.type==="element"&&(o.tagName==="tbody"||o.tagName==="tfoot")}function eme(t,e,n){return!Sn(n,e)}function tme(t,e,n){const o=Sn(n,e);return!o||o.type==="element"&&o.tagName==="tr"}function z3(t,e,n){const o=Sn(n,e);return!o||o.type==="element"&&(o.tagName==="td"||o.tagName==="th")}const nme=Q7({body:ime,colgroup:sme,head:rme,html:ome,tbody:lme});function ome(t){const e=Sn(t,-1);return!e||e.type!=="comment"}function rme(t){const e=new Set;for(const o of t.children)if(o.type==="element"&&(o.tagName==="base"||o.tagName==="title")){if(e.has(o.tagName))return!1;e.add(o.tagName)}const n=t.children[0];return!n||n.type==="element"}function ime(t){const e=Sn(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&qE(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function sme(t,e,n){const o=Y7(n,e),r=Sn(t,-1,!0);return n&&o&&o.type==="element"&&o.tagName==="colgroup"&&KE(o,n.children.indexOf(o),n)?!1:!!(r&&r.type==="element"&&r.tagName==="col")}function lme(t,e,n){const o=Y7(n,e),r=Sn(t,-1);return n&&o&&o.type==="element"&&(o.tagName==="thead"||o.tagName==="tbody")&&KE(o,n.children.indexOf(o),n)?!1:!!(r&&r.type==="element"&&r.tagName==="tr")}const Ag={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function ame(t,e,n,o){const r=o.schema,i=r.space==="svg"?!1:o.settings.omitOptionalTags;let s=r.space==="svg"?o.settings.closeEmptyElements:o.settings.voids.includes(t.tagName.toLowerCase());const l=[];let c;r.space==="html"&&t.tagName==="svg"&&(o.schema=Z7);const d=cme(o,t.properties),f=o.all(r.space==="html"&&t.tagName==="template"?t.content:t);return o.schema=r,f&&(s=!1),(d||!i||!nme(t,e,n))&&(l.push("<",t.tagName,d?" "+d:""),s&&(r.space==="svg"||o.settings.closeSelfClosing)&&(c=d.charAt(d.length-1),(!o.settings.tightSelfClosing||c==="/"||c&&c!=='"'&&c!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(f),!s&&(!i||!KE(t,e,n))&&l.push("</"+t.tagName+">"),l.join("")}function cme(t,e){const n=[];let o=-1,r;if(e){for(r in e)if(e[r]!==null&&e[r]!==void 0){const i=ume(t,r,e[r]);i&&n.push(i)}}for(;++o<n.length;){const i=t.settings.tightAttributes?n[o].charAt(n[o].length-1):void 0;o!==n.length-1&&i!=='"'&&i!=="'"&&(n[o]+=" ")}return n.join("")}function ume(t,e,n){const o=hpe(t.schema,e),r=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,i=t.settings.allowDangerousCharacters?0:1;let s=t.quote,l;if(o.overloadedBoolean&&(n===o.attribute||n==="")?n=!0:(o.boolean||o.overloadedBoolean)&&(typeof n!="string"||n===o.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const c=Ju(o.attribute,Object.assign({},t.settings.characterReferences,{subset:Ag.name[r][i]}));return n===!0||(n=Array.isArray(n)?(o.commaSeparated?$pe:Hpe)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?c:(t.settings.preferUnquoted&&(l=Ju(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Ag.unquoted[r][i]}))),l!==n&&(t.settings.quoteSmart&&P3(n,s)>P3(n,t.alternative)&&(s=t.alternative),l=s+Ju(n,Object.assign({},t.settings.characterReferences,{subset:(s==="'"?Ag.single:Ag.double)[r][i],attribute:!0}))+s),c+(l&&"="+l))}const dme=["<","&"];function e9(t,e,n,o){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:Ju(t.value,Object.assign({},o.settings.characterReferences,{subset:dme}))}function fme(t,e,n,o){return o.settings.allowDangerousHtml?t.value:e9(t,e,n,o)}function hme(t,e,n,o){return o.all(t)}const pme=bpe("type",{invalid:mme,unknown:gme,handlers:{comment:jpe,doctype:Ppe,element:ame,raw:fme,root:hme,text:e9}});function mme(t){throw new Error("Expected node, not `"+t+"`")}function gme(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const bme={},yme={},vme=[];function wme(t,e){const n=e||bme,o=n.quote||'"',r=o==='"'?"'":'"';if(o!=='"'&&o!=="'")throw new Error("Invalid quote `"+o+"`, expected `'` or `\"`");return{one:kme,all:xme,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||lpe,characterReferences:n.characterReferences||yme,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Z7:gpe,quote:o,alternative:r}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function kme(t,e,n){return pme(t,e,n,this)}function xme(t){const e=[],n=t&&t.children||vme;let o=-1;for(;++o<n.length;)e[o]=this.one(n[o],o,t);return e.join("")}function Dy(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},o=typeof t=="string"?t:t.name;for(const[r,i]of Object.entries((e==null?void 0:e.colorReplacements)||{}))typeof i=="string"?n[r]=i:r===o&&Object.assign(n,i);return n}function Wa(t,e){return t&&((e==null?void 0:e[t==null?void 0:t.toLowerCase()])||t)}function Cme(t){return Array.isArray(t)?t:[t]}async function t9(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function WE(t){return!t||["plaintext","txt","text","plain"].includes(t)}function n9(t){return t==="ansi"||WE(t)}function ZE(t){return t==="none"}function o9(t){return ZE(t)}function r9(t,e){var o;if(!e)return t;t.properties||(t.properties={}),(o=t.properties).class||(o.class=[]),typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const r of n)r&&!t.properties.class.includes(r)&&t.properties.class.push(r);return t}function Q0(t,e=!1){var i;const n=t.split(/(\r?\n)/g);let o=0;const r=[];for(let s=0;s<n.length;s+=2){const l=e?n[s]+(n[s+1]||""):n[s];r.push([l,o]),o+=n[s].length,o+=((i=n[s+1])==null?void 0:i.length)||0}return r}function _me(t){const e=Q0(t,!0).map(([r])=>r);function n(r){if(r===t.length)return{line:e.length-1,character:e[e.length-1].length};let i=r,s=0;for(const l of e){if(i<l.length)break;i-=l.length,s++}return{line:s,character:i}}function o(r,i){let s=0;for(let l=0;l<r;l++)s+=e[l].length;return s+=i,s}return{lines:e,indexToPos:n,posToIndex:o}}function Sme(t,e){let n=0;const o=[];for(const r of e)r>n&&o.push({...t,content:t.content.slice(n,r),offset:t.offset+n}),n=r;return n<t.content.length&&o.push({...t,content:t.content.slice(n),offset:t.offset+n}),o}function Eme(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((o,r)=>o-r);return n.length?t.map(o=>o.flatMap(r=>{const i=n.filter(s=>r.offset<s&&s<r.offset+r.content.length).map(s=>s-r.offset).sort((s,l)=>s-l);return i.length?Sme(r,i):r})):t}function Tme(t,e,n,o){const r={content:t.content,explanation:t.explanation,offset:t.offset},i=e.map(c=>i9(t.variants[c])),s=new Set(i.flatMap(c=>Object.keys(c))),l={};return i.forEach((c,d)=>{for(const f of s){const p=c[f]||"inherit";if(d===0&&o)l[f]=p;else{const m=f==="color"?"":f==="background-color"?"-bg":`-${f}`,b=n+e[d]+(f==="color"?"":m);l[b]=p}}}),r.htmlStyle=l,r}function i9(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&Or.Italic&&(e["font-style"]="italic"),t.fontStyle&Or.Bold&&(e["font-weight"]="bold");const n=[];t.fontStyle&Or.Underline&&n.push("underline"),t.fontStyle&Or.Strikethrough&&n.push("line-through"),n.length&&(e["text-decoration"]=n.join(" "))}return e}function Mme(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const s9=new WeakMap;function e1(t,e){s9.set(t,e)}function ap(t){return s9.get(t)}class Ld{constructor(...e){te(this,"_stacks",{});te(this,"lang");if(e.length===2){const[n,o]=e;this.lang=o,this._stacks=n}else{const[n,o,r]=e;this.lang=o,this._stacks={[r]:n}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Ld(Object.fromEntries(Cme(n).map(o=>[o,KC])),e)}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return Ame(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function Ame(t){const e=[],n=new Set;function o(r){var s;if(n.has(r))return;n.add(r);const i=(s=r==null?void 0:r.nameScopesList)==null?void 0:s.scopeName;i&&e.push(i),r.parent&&o(r.parent)}return o(t),e}function Rme(t,e){if(!(t instanceof Ld))throw new On("Invalid grammar state");return t.getInternalStack(e)}function Ome(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let o=function(s){if(typeof s=="number"){if(s<0||s>n.source.length)throw new On(`Invalid decoration offset: ${s}. Code length: ${n.source.length}`);return{...r.indexToPos(s),offset:s}}else{const l=r.lines[s.line];if(l===void 0)throw new On(`Invalid decoration position ${JSON.stringify(s)}. Lines length: ${r.lines.length}`);if(s.character<0||s.character>l.length)throw new On(`Invalid decoration position ${JSON.stringify(s)}. Line ${s.line} length: ${l.length}`);return{...s,offset:r.posToIndex(s.line,s.character)}}};const r=_me(n.source),i=(n.options.decorations||[]).map(s=>({...s,start:o(s.start),end:o(s.end)}));Nme(i),t.set(n.meta,{decorations:i,converter:r,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){var s;if(!((s=this.options.decorations)!=null&&s.length))return;const r=e(this).decorations.flatMap(l=>[l.start.offset,l.end.offset]);return Eme(n,r)},code(n){var f;if(!((f=this.options.decorations)!=null&&f.length))return;const o=e(this),r=Array.from(n.children).filter(p=>p.type==="element"&&p.tagName==="span");if(r.length!==o.converter.lines.length)throw new On(`Number of lines in code element (${r.length}) does not match the number of lines in the source (${o.converter.lines.length}). Failed to apply decorations.`);function i(p,m,b,y){const w=r[p];let x="",_=-1,T=-1;if(m===0&&(_=0),b===0&&(T=0),b===Number.POSITIVE_INFINITY&&(T=w.children.length),_===-1||T===-1)for(let R=0;R<w.children.length;R++)x+=l9(w.children[R]),_===-1&&x.length===m&&(_=R+1),T===-1&&x.length===b&&(T=R+1);if(_===-1)throw new On(`Failed to find start index for decoration ${JSON.stringify(y.start)}`);if(T===-1)throw new On(`Failed to find end index for decoration ${JSON.stringify(y.end)}`);const M=w.children.slice(_,T);if(!y.alwaysWrap&&M.length===w.children.length)l(w,y,"line");else if(!y.alwaysWrap&&M.length===1&&M[0].type==="element")l(M[0],y,"token");else{const R={type:"element",tagName:"span",properties:{},children:M};l(R,y,"wrapper"),w.children.splice(_,M.length,R)}}function s(p,m){r[p]=l(r[p],m,"line")}function l(p,m,b){var x;const y=m.properties||{},w=m.transform||(_=>_);return p.tagName=m.tagName||"span",p.properties={...p.properties,...y,class:p.properties.class},(x=m.properties)!=null&&x.class&&r9(p,m.properties.class),p=w(p,b)||p,p}const c=[],d=o.decorations.sort((p,m)=>m.start.offset-p.start.offset||p.end.offset-m.end.offset);for(const p of d){const{start:m,end:b}=p;if(m.line===b.line)i(m.line,m.character,b.character,p);else if(m.line<b.line){i(m.line,m.character,Number.POSITIVE_INFINITY,p);for(let y=m.line+1;y<b.line;y++)c.unshift(()=>s(y,p));i(b.line,0,b.character,p)}}c.forEach(p=>p())}}}function Nme(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new On(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let o=e+1;o<t.length;o++){const r=t[o],i=n.start.offset<=r.start.offset&&r.start.offset<n.end.offset,s=n.start.offset<r.end.offset&&r.end.offset<=n.end.offset,l=r.start.offset<=n.start.offset&&n.start.offset<r.end.offset,c=r.start.offset<n.end.offset&&n.end.offset<=r.end.offset;if(i||s||l||c){if(i&&s||l&&c)continue;throw new On(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(r.start)} intersect.`)}}}}function l9(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(l9).join(""):""}const Dme=[Ome()];function Ly(t){return[...t.transformers||[],...Dme]}var Za=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Qk={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function Lme(t,e){const n=t.indexOf("\x1B",e);if(n!==-1&&t[n+1]==="["){const o=t.indexOf("m",n);if(o!==-1)return{sequence:t.substring(n+2,o).split(";"),startPosition:n,position:o+1}}return{position:t.length}}function V3(t){const e=t.shift();if(e==="2"){const n=t.splice(0,3).map(o=>Number.parseInt(o));return n.length!==3||n.some(o=>Number.isNaN(o))?void 0:{type:"rgb",rgb:n}}else if(e==="5"){const n=t.shift();if(n)return{type:"table",index:Number(n)}}}function Bme(t){const e=[];for(;t.length>0;){const n=t.shift();if(!n)continue;const o=Number.parseInt(n);if(!Number.isNaN(o))if(o===0)e.push({type:"resetAll"});else if(o<=9)Qk[o]&&e.push({type:"setDecoration",value:Qk[o]});else if(o<=29){const r=Qk[o-20];r&&(e.push({type:"resetDecoration",value:r}),r==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(o<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Za[o-30]}});else if(o===38){const r=V3(t);r&&e.push({type:"setForegroundColor",value:r})}else if(o===39)e.push({type:"resetForegroundColor"});else if(o<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Za[o-40]}});else if(o===48){const r=V3(t);r&&e.push({type:"setBackgroundColor",value:r})}else o===49?e.push({type:"resetBackgroundColor"}):o===53?e.push({type:"setDecoration",value:"overline"}):o===55?e.push({type:"resetDecoration",value:"overline"}):o>=90&&o<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Za[o-90+8]}}):o>=100&&o<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Za[o-100+8]}})}return e}function Ime(){let t=null,e=null,n=new Set;return{parse(o){const r=[];let i=0;do{const s=Lme(o,i),l=s.sequence?o.substring(i,s.startPosition):o.substring(i);if(l.length>0&&r.push({value:l,foreground:t,background:e,decorations:new Set(n)}),s.sequence){const c=Bme(s.sequence);for(const d of c)d.type==="resetAll"?(t=null,e=null,n.clear()):d.type==="resetForegroundColor"?t=null:d.type==="resetBackgroundColor"?e=null:d.type==="resetDecoration"&&n.delete(d.value);for(const d of c)d.type==="setForegroundColor"?t=d.value:d.type==="setBackgroundColor"?e=d.value:d.type==="setDecoration"&&n.add(d.value)}i=s.position}while(i<o.length);return r}}}var jme={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Pme(t=jme){function e(l){return t[l]}function n(l){return`#${l.map(c=>Math.max(0,Math.min(c,255)).toString(16).padStart(2,"0")).join("")}`}let o;function r(){if(o)return o;o=[];for(let d=0;d<Za.length;d++)o.push(e(Za[d]));let l=[0,95,135,175,215,255];for(let d=0;d<6;d++)for(let f=0;f<6;f++)for(let p=0;p<6;p++)o.push(n([l[d],l[f],l[p]]));let c=8;for(let d=0;d<24;d++,c+=10)o.push(n([c,c,c]));return o}function i(l){return r()[l]}function s(l){switch(l.type){case"named":return e(l.name);case"rgb":return n(l.rgb);case"table":return i(l.index)}}return{value:s}}function $me(t,e,n){const o=Dy(t,n),r=Q0(e),i=Pme(Object.fromEntries(Za.map(l=>{var c;return[l,(c=t.colors)==null?void 0:c[`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`]]}))),s=Ime();return r.map(l=>s.parse(l[0]).map(c=>{let d,f;c.decorations.has("reverse")?(d=c.background?i.value(c.background):t.bg,f=c.foreground?i.value(c.foreground):t.fg):(d=c.foreground?i.value(c.foreground):t.fg,f=c.background?i.value(c.background):void 0),d=Wa(d,o),f=Wa(f,o),c.decorations.has("dim")&&(d=Hme(d));let p=Or.None;return c.decorations.has("bold")&&(p|=Or.Bold),c.decorations.has("italic")&&(p|=Or.Italic),c.decorations.has("underline")&&(p|=Or.Underline),c.decorations.has("strikethrough")&&(p|=Or.Strikethrough),{content:c.value,offset:l[1],color:d,bgColor:f,fontStyle:p}}))}function Hme(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const o=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${o}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(o=>`${o}${o}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function XE(t,e,n={}){const{lang:o="text",theme:r=t.getLoadedThemes()[0]}=n;if(WE(o)||ZE(r))return Q0(e).map(c=>[{content:c[0],offset:c[1]}]);const{theme:i,colorMap:s}=t.setTheme(r);if(o==="ansi")return $me(i,e,n);const l=t.getLanguage(o);if(n.grammarState){if(n.grammarState.lang!==l.name)throw new On(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${l.name}"`);if(!n.grammarState.themes.includes(i.name))throw new On(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${i.name}"`)}return Vme(e,l,i,s,n)}function zme(...t){if(t.length===2)return ap(t[1]);const[e,n,o={}]=t,{lang:r="text",theme:i=e.getLoadedThemes()[0]}=o;if(WE(r)||ZE(i))throw new On("Plain language does not have grammar state");if(r==="ansi")throw new On("ANSI language does not have grammar state");const{theme:s,colorMap:l}=e.setTheme(i),c=e.getLanguage(r);return new Ld(By(n,c,s,l,o).stateStack,c.name,s.name)}function Vme(t,e,n,o,r){const i=By(t,e,n,o,r),s=new Ld(By(t,e,n,o,r).stateStack,e.name,n.name);return e1(i.tokens,s),i.tokens}function By(t,e,n,o,r){const i=Dy(n,r),{tokenizeMaxLineLength:s=0,tokenizeTimeLimit:l=500}=r,c=Q0(t);let d=r.grammarState?Rme(r.grammarState,n.name)??KC:r.grammarContextCode!=null?By(r.grammarContextCode,e,n,o,{...r,grammarState:void 0,grammarContextCode:void 0}).stateStack:KC,f=[];const p=[];for(let m=0,b=c.length;m<b;m++){const[y,w]=c[m];if(y===""){f=[],p.push([]);continue}if(s>0&&y.length>=s){f=[],p.push([{content:y,offset:w,color:"",fontStyle:0}]);continue}let x,_,T;r.includeExplanation&&(x=e.tokenizeLine(y,d,l),_=x.tokens,T=0);const M=e.tokenizeLine2(y,d,l),R=M.tokens.length/2;for(let O=0;O<R;O++){const B=M.tokens[2*O],I=O+1<R?M.tokens[2*O+2]:y.length;if(B===I)continue;const H=M.tokens[2*O+1],q=Wa(o[pd.getForeground(H)],i),Q=pd.getFontStyle(H),ve={content:y.substring(B,I),offset:w+B,color:q,fontStyle:Q};if(r.includeExplanation){const ue=[];if(r.includeExplanation!=="scopeName")for(const be of n.settings){let pe;switch(typeof be.scope){case"string":pe=be.scope.split(/,/).map(j=>j.trim());break;case"object":pe=be.scope;break;default:continue}ue.push({settings:be,selectors:pe.map(j=>j.split(/ /))})}ve.explanation=[];let xe=0;for(;B+xe<I;){const be=_[T],pe=y.substring(be.startIndex,be.endIndex);xe+=pe.length,ve.explanation.push({content:pe,scopes:r.includeExplanation==="scopeName"?Ume(be.scopes):Fme(ue,be.scopes)}),T+=1}}f.push(ve)}p.push(f),f=[],d=M.ruleStack}return{tokens:p,stateStack:d}}function Ume(t){return t.map(e=>({scopeName:e}))}function Fme(t,e){const n=[];for(let o=0,r=e.length;o<r;o++){const i=e[o];n[o]={scopeName:i,themeMatches:qme(t,i,e.slice(0,o))}}return n}function U3(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function Gme(t,e,n){if(!U3(t[t.length-1],e))return!1;let o=t.length-2,r=n.length-1;for(;o>=0&&r>=0;)U3(t[o],n[r])&&(o-=1),r-=1;return o===-1}function qme(t,e,n){const o=[];for(const{selectors:r,settings:i}of t)for(const s of r)if(Gme(s,e,n)){o.push(i);break}return o}function a9(t,e,n){const o=Object.entries(n.themes).filter(c=>c[1]).map(c=>({color:c[0],theme:c[1]})),r=o.map(c=>{const d=XE(t,e,{...n,theme:c.theme}),f=ap(d),p=typeof c.theme=="string"?c.theme:c.theme.name;return{tokens:d,state:f,theme:p}}),i=Kme(...r.map(c=>c.tokens)),s=i[0].map((c,d)=>c.map((f,p)=>{const m={content:f.content,variants:{},offset:f.offset};return"includeExplanation"in n&&n.includeExplanation&&(m.explanation=f.explanation),i.forEach((b,y)=>{const{content:w,explanation:x,offset:_,...T}=b[d][p];m.variants[o[y].color]=T}),m})),l=r[0].state?new Ld(Object.fromEntries(r.map(c=>{var d;return[c.theme,(d=c.state)==null?void 0:d.getInternalStack(c.theme)]})),r[0].state.lang):void 0;return l&&e1(s,l),s}function Kme(...t){const e=t.map(()=>[]),n=t.length;for(let o=0;o<t[0].length;o++){const r=t.map(c=>c[o]),i=e.map(()=>[]);e.forEach((c,d)=>c.push(i[d]));const s=r.map(()=>0),l=r.map(c=>c[0]);for(;l.every(c=>c);){const c=Math.min(...l.map(d=>d.content.length));for(let d=0;d<n;d++){const f=l[d];f.content.length===c?(i[d].push(f),s[d]+=1,l[d]=r[d][s[d]]):(i[d].push({...f,content:f.content.slice(0,c)}),l[d]={...f,content:f.content.slice(c),offset:f.offset+c})}}}return e}function Iy(t,e,n){let o,r,i,s,l,c;if("themes"in n){const{defaultColor:d="light",cssVariablePrefix:f="--shiki-"}=n,p=Object.entries(n.themes).filter(x=>x[1]).map(x=>({color:x[0],theme:x[1]})).sort((x,_)=>x.color===d?-1:_.color===d?1:0);if(p.length===0)throw new On("`themes` option must not be empty");const m=a9(t,e,n);if(c=ap(m),d&&!p.find(x=>x.color===d))throw new On(`\`themes\` option must contain the defaultColor key \`${d}\``);const b=p.map(x=>t.getTheme(x.theme)),y=p.map(x=>x.color);i=m.map(x=>x.map(_=>Tme(_,y,f,d))),c&&e1(i,c);const w=p.map(x=>Dy(x.theme,n));r=p.map((x,_)=>(_===0&&d?"":`${f+x.color}:`)+(Wa(b[_].fg,w[_])||"inherit")).join(";"),o=p.map((x,_)=>(_===0&&d?"":`${f+x.color}-bg:`)+(Wa(b[_].bg,w[_])||"inherit")).join(";"),s=`shiki-themes ${b.map(x=>x.name).join(" ")}`,l=d?void 0:[r,o].join(";")}else if("theme"in n){const d=Dy(n.theme,n);i=XE(t,e,n);const f=t.getTheme(n.theme);o=Wa(f.bg,d),r=Wa(f.fg,d),s=f.name,c=ap(i)}else throw new On("Invalid options, either `theme` or `themes` must be provided");return{tokens:i,fg:r,bg:o,themeName:s,rootStyle:l,grammarState:c}}function jy(t,e,n,o={meta:{},options:n,codeToHast:(r,i)=>jy(t,r,i),codeToTokens:(r,i)=>Iy(t,r,i)}){var b,y;let r=e;for(const w of Ly(n))r=((b=w.preprocess)==null?void 0:b.call(o,r,n))||r;let{tokens:i,fg:s,bg:l,themeName:c,rootStyle:d,grammarState:f}=Iy(t,r,n);const{mergeWhitespaces:p=!0}=n;p===!0?i=Zme(i):p==="never"&&(i=Xme(i));const m={...o,get source(){return r}};for(const w of Ly(n))i=((y=w.tokens)==null?void 0:y.call(m,i))||i;return Wme(i,{...n,fg:s,bg:l,themeName:c,rootStyle:d},m,f)}function Wme(t,e,n,o=ap(t)){var y,w,x;const r=Ly(e),i=[],s={type:"root",children:[]},{structure:l="classic",tabindex:c="0"}=e;let d={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...c!==!1&&c!=null?{tabindex:c.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([_])=>!_.startsWith("_")))},children:[]},f={type:"element",tagName:"code",properties:{},children:i};const p=[],m={...n,structure:l,addClassToHast:r9,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return s},get pre(){return d},get code(){return f},get lines(){return p}};if(t.forEach((_,T)=>{var O,B;T&&(l==="inline"?s.children.push({type:"element",tagName:"br",properties:{},children:[]}):l==="classic"&&i.push({type:"text",value:`
`}));let M={type:"element",tagName:"span",properties:{class:"line"},children:[]},R=0;for(const I of _){let H={type:"element",tagName:"span",properties:{...I.htmlAttrs},children:[{type:"text",value:I.content}]};const q=Mme(I.htmlStyle||i9(I));q&&(H.properties.style=q);for(const Q of r)H=((O=Q==null?void 0:Q.span)==null?void 0:O.call(m,H,T+1,R,M,I))||H;l==="inline"?s.children.push(H):l==="classic"&&M.children.push(H),R+=I.content.length}if(l==="classic"){for(const I of r)M=((B=I==null?void 0:I.line)==null?void 0:B.call(m,M,T+1))||M;p.push(M),i.push(M)}}),l==="classic"){for(const _ of r)f=((y=_==null?void 0:_.code)==null?void 0:y.call(m,f))||f;d.children.push(f);for(const _ of r)d=((w=_==null?void 0:_.pre)==null?void 0:w.call(m,d))||d;s.children.push(d)}let b=s;for(const _ of r)b=((x=_==null?void 0:_.root)==null?void 0:x.call(m,b))||b;return o&&e1(b,o),b}function Zme(t){return t.map(e=>{const n=[];let o="",r=0;return e.forEach((i,s)=>{const c=!(i.fontStyle&&(i.fontStyle&Or.Underline||i.fontStyle&Or.Strikethrough));c&&i.content.match(/^\s+$/)&&e[s+1]?(r||(r=i.offset),o+=i.content):o?(c?n.push({...i,offset:r,content:o+i.content}):n.push({content:o,offset:r},i),r=0,o=""):n.push(i)}),n})}function Xme(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const o=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!o)return n;const[,r,i,s]=o;if(!r&&!s)return n;const l=[{...n,offset:n.offset+r.length,content:i}];return r&&l.unshift({content:r,offset:n.offset}),s&&l.push({content:s,offset:n.offset+r.length+i.length}),l}))}const Yme=wme;function Jme(t,e,n){var i;const o={meta:{},options:n,codeToHast:(s,l)=>jy(t,s,l),codeToTokens:(s,l)=>Iy(t,s,l)};let r=Yme(jy(t,e,n,o));for(const s of Ly(n))r=((i=s.postprocess)==null?void 0:i.call(o,r,n))||r;return r}const F3={light:"#333333",dark:"#bbbbbb"},G3={light:"#fffffe",dark:"#1e1e1e"},q3="__shiki_resolved";function YE(t){var l,c,d,f,p;if(t!=null&&t[q3])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||(e.type="dark"),e.colorReplacements={...e.colorReplacements},e.settings||(e.settings=[]);let{bg:n,fg:o}=e;if(!n||!o){const m=e.settings?e.settings.find(b=>!b.name&&!b.scope):void 0;(l=m==null?void 0:m.settings)!=null&&l.foreground&&(o=m.settings.foreground),(c=m==null?void 0:m.settings)!=null&&c.background&&(n=m.settings.background),!o&&((d=e==null?void 0:e.colors)!=null&&d["editor.foreground"])&&(o=e.colors["editor.foreground"]),!n&&((f=e==null?void 0:e.colors)!=null&&f["editor.background"])&&(n=e.colors["editor.background"]),o||(o=e.type==="light"?F3.light:F3.dark),n||(n=e.type==="light"?G3.light:G3.dark),e.fg=o,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let r=0;const i=new Map;function s(m){var y;if(i.has(m))return i.get(m);r+=1;const b=`#${r.toString(16).padStart(8,"0").toLowerCase()}`;return(y=e.colorReplacements)!=null&&y[`#${b}`]?s(m):(i.set(m,b),b)}e.settings=e.settings.map(m=>{var x,_;const b=((x=m.settings)==null?void 0:x.foreground)&&!m.settings.foreground.startsWith("#"),y=((_=m.settings)==null?void 0:_.background)&&!m.settings.background.startsWith("#");if(!b&&!y)return m;const w={...m,settings:{...m.settings}};if(b){const T=s(m.settings.foreground);e.colorReplacements[T]=m.settings.foreground,w.settings.foreground=T}if(y){const T=s(m.settings.background);e.colorReplacements[T]=m.settings.background,w.settings.background=T}return w});for(const m of Object.keys(e.colors||{}))if((m==="editor.foreground"||m==="editor.background"||m.startsWith("terminal.ansi"))&&!((p=e.colors[m])!=null&&p.startsWith("#"))){const b=s(e.colors[m]);e.colorReplacements[b]=e.colors[m],e.colors[m]=b}return Object.defineProperty(e,q3,{enumerable:!1,writable:!1,value:!0}),e}async function c9(t){return Array.from(new Set((await Promise.all(t.filter(e=>!n9(e)).map(async e=>await t9(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function u9(t){return(await Promise.all(t.map(async n=>o9(n)?null:YE(await t9(n))))).filter(n=>!!n)}let Qme=3;function ege(t,e=3){e>Qme||console.trace(`[SHIKI DEPRECATE]: ${t}`)}class ju extends Error{constructor(e){super(e),this.name="ShikiError"}}class tge extends spe{constructor(n,o,r,i={}){super(n);te(this,"_resolvedThemes",new Map);te(this,"_resolvedGrammars",new Map);te(this,"_langMap",new Map);te(this,"_langGraph",new Map);te(this,"_textmateThemeCache",new WeakMap);te(this,"_loadedThemesCache",null);te(this,"_loadedLanguagesCache",null);this._resolver=n,this._themes=o,this._langs=r,this._alias=i,this._themes.map(s=>this.loadTheme(s)),this.loadLanguages(this._langs)}getTheme(n){return typeof n=="string"?this._resolvedThemes.get(n):this.loadTheme(n)}loadTheme(n){const o=YE(n);return o.name&&(this._resolvedThemes.set(o.name,o),this._loadedThemesCache=null),o}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(n){let o=this._textmateThemeCache.get(n);o||(o=My.createFromRawTheme(n),this._textmateThemeCache.set(n,o)),this._syncRegistry.setTheme(o)}getGrammar(n){if(this._alias[n]){const o=new Set([n]);for(;this._alias[n];){if(n=this._alias[n],o.has(n))throw new ju(`Circular alias \`${Array.from(o).join(" -> ")} -> ${n}\``);o.add(n)}}return this._resolvedGrammars.get(n)}loadLanguage(n){var s,l,c,d;if(this.getGrammar(n.name))return;const o=new Set([...this._langMap.values()].filter(f=>{var p;return(p=f.embeddedLangsLazy)==null?void 0:p.includes(n.name)}));this._resolver.addLanguage(n);const r={balancedBracketSelectors:n.balancedBracketSelectors||["*"],unbalancedBracketSelectors:n.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(n.scopeName,n);const i=this.loadGrammarWithConfiguration(n.scopeName,1,r);if(i.name=n.name,this._resolvedGrammars.set(n.name,i),n.aliases&&n.aliases.forEach(f=>{this._alias[f]=n.name}),this._loadedLanguagesCache=null,o.size)for(const f of o)this._resolvedGrammars.delete(f.name),this._loadedLanguagesCache=null,(l=(s=this._syncRegistry)==null?void 0:s._injectionGrammars)==null||l.delete(f.scopeName),(d=(c=this._syncRegistry)==null?void 0:c._grammars)==null||d.delete(f.scopeName),this.loadLanguage(this._langMap.get(f.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(n){for(const i of n)this.resolveEmbeddedLanguages(i);const o=Array.from(this._langGraph.entries()),r=o.filter(([i,s])=>!s);if(r.length){const i=o.filter(([s,l])=>{var c;return l&&((c=l.embeddedLangs)==null?void 0:c.some(d=>r.map(([f])=>f).includes(d)))}).filter(s=>!r.includes(s));throw new ju(`Missing languages ${r.map(([s])=>`\`${s}\``).join(", ")}, required by ${i.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[i,s]of o)this._resolver.addLanguage(s);for(const[i,s]of o)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(n){if(this._langMap.set(n.name,n),this._langGraph.set(n.name,n),n.embeddedLangs)for(const o of n.embeddedLangs)this._langGraph.set(o,this._langMap.get(o))}}class nge{constructor(e,n){te(this,"_langs",new Map);te(this,"_scopeToLang",new Map);te(this,"_injections",new Map);te(this,"_onigLib");this._onigLib={createOnigScanner:o=>e.createScanner(o),createOnigString:o=>e.createString(o)},n.forEach(o=>this.addLanguage(o))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let o=[];for(let r=1;r<=n.length;r++){const i=n.slice(0,r).join(".");o=[...o,...this._injections.get(i)||[]]}return o}}let Gf=0;function oge(t){Gf+=1,t.warnings!==!1&&Gf>=10&&Gf%10===0&&console.warn(`[Shiki] ${Gf} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new ju("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),o=(t.themes||[]).flat(1).map(YE),r=new nge(t.engine,n),i=new tge(r,o,n,t.langAlias);let s;function l(T){x();const M=i.getGrammar(typeof T=="string"?T:T.name);if(!M)throw new ju(`Language \`${T}\` not found, you may need to load it first`);return M}function c(T){if(T==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};x();const M=i.getTheme(T);if(!M)throw new ju(`Theme \`${T}\` not found, you may need to load it first`);return M}function d(T){x();const M=c(T);s!==T&&(i.setTheme(M),s=T);const R=i.getColorMap();return{theme:M,colorMap:R}}function f(){return x(),i.getLoadedThemes()}function p(){return x(),i.getLoadedLanguages()}function m(...T){x(),i.loadLanguages(T.flat(1))}async function b(...T){return m(await c9(T))}function y(...T){x();for(const M of T.flat(1))i.loadTheme(M)}async function w(...T){return x(),y(await u9(T))}function x(){if(e)throw new ju("Shiki instance has been disposed")}function _(){e||(e=!0,i.dispose(),Gf-=1)}return{setTheme:d,getTheme:c,getLanguage:l,getLoadedThemes:f,getLoadedLanguages:p,loadLanguage:b,loadLanguageSync:m,loadTheme:w,loadThemeSync:y,dispose:_,[Symbol.dispose]:_}}async function rge(t){t.engine||ege("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,n,o]=await Promise.all([u9(t.themes||[]),c9(t.langs||[]),t.engine]);return oge({...t,themes:e,langs:n,engine:o})}async function ige(t){const e=await rge(t);return{getLastGrammarState:(...n)=>zme(e,...n),codeToTokensBase:(n,o)=>XE(e,n,o),codeToTokensWithThemes:(n,o)=>a9(e,n,o),codeToTokens:(n,o)=>Iy(e,n,o),codeToHast:(n,o)=>jy(e,n,o),codeToHtml:(n,o)=>Jme(e,n,o),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function sge(t){const e=t.langs,n=t.themes,o=t.engine;async function r(i){function s(p){if(typeof p=="string"){if(n9(p))return[];const m=e[p];if(!m)throw new On(`Language \`${p}\` is not included in this bundle. You may want to load it from external source.`);return m}return p}function l(p){if(o9(p))return"none";if(typeof p=="string"){const m=n[p];if(!m)throw new On(`Theme \`${p}\` is not included in this bundle. You may want to load it from external source.`);return m}return p}const c=(i.themes??[]).map(p=>l(p)),d=(i.langs??[]).map(p=>s(p)),f=await ige({engine:i.engine??o(),...i,themes:c,langs:d});return{...f,loadLanguage(...p){return f.loadLanguage(...p.map(s))},loadTheme(...p){return f.loadTheme(...p.map(l))},getBundledLanguages(){return e},getBundledThemes(){return n}}}return r}function Bd(t){if([...t].length!==1)throw new Error(`Expected "${t}" to be a single code point`);return t.codePointAt(0)}function lge(t,e,n){return t.has(e)||t.set(e,n),t.get(e)}const JE=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),Nn=String.raw;function Id(t,e){if(t==null)throw new Error(e??"Value expected");return t}const d9=Nn`\[\^?`,f9=`c.? | C(?:-.?)?|${Nn`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${Nn`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${Nn`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${Nn`o\{[^\}]*\}?`}|${Nn`\d{1,3}`}`,QE=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,Rg=new RegExp(Nn`
  \\ (?:
    ${f9}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${QE.source})+
  | ${d9}
  | .
`.replace(/\s+/g,""),"gsu"),ex=new RegExp(Nn`
  \\ (?:
    ${f9}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${d9}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function age(t,e={}){const n={flags:"",...e,rules:{captureGroup:!1,singleline:!1,...e.rules}};if(typeof t!="string")throw new Error("String expected as pattern");const o=Tge(n.flags),r=[o.extended],i={captureGroup:n.rules.captureGroup,getCurrentModX(){return r.at(-1)},numOpenGroups:0,popModX(){r.pop()},pushModX(p){r.push(p)},replaceCurrentModX(p){r[r.length-1]=p},singleline:n.rules.singleline};let s=[],l;for(Rg.lastIndex=0;l=Rg.exec(t);){const p=cge(i,t,l[0],Rg.lastIndex);p.tokens?s.push(...p.tokens):p.token&&s.push(p.token),p.lastIndex!==void 0&&(Rg.lastIndex=p.lastIndex)}const c=[];let d=0;s.filter(p=>p.type==="GroupOpen").forEach(p=>{p.kind==="capturing"?p.number=++d:p.raw==="("&&c.push(p)}),d||c.forEach((p,m)=>{p.kind="capturing",p.number=m+1});const f=d||c.length;return{tokens:s.map(p=>p.type==="EscapedNumber"?Age(p,f):p).flat(),flags:o}}function cge(t,e,n,o){const[r,i]=n;if(n==="["||n==="[^"){const s=uge(e,n,o);return{tokens:s.tokens,lastIndex:s.lastIndex}}if(r==="\\"){if("AbBGyYzZ".includes(i))return{token:K3(n,n)};if(/^\\g[<']/.test(n)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(n))throw new Error(`Invalid group name "${n}"`);return{token:wge(n)}}if(/^\\k[<']/.test(n)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(n))throw new Error(`Invalid group name "${n}"`);return{token:p9(n)}}if(i==="K")return{token:m9("keep",n)};if(i==="N"||i==="R")return{token:Xa("newline",n,{negate:i==="N"})};if(i==="O")return{token:Xa("any",n)};if(i==="X")return{token:Xa("grapheme",n)};const s=h9(n,{inCharClass:!1});return Array.isArray(s)?{tokens:s}:{token:s}}if(r==="("){if(i==="*")return{token:_ge(n)};if(n==="(?{")throw new Error(`Unsupported callout "${n}"`);if(n.startsWith("(?#")){if(e[o]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:o+1}}if(/^\(\?[-imx]+[:)]$/.test(n))return{token:Cge(n,t)};if(t.pushModX(t.getCurrentModX()),t.numOpenGroups++,n==="("&&!t.captureGroup||n==="(?:")return{token:Nu("group",n)};if(n==="(?>")return{token:Nu("atomic",n)};if(n==="(?="||n==="(?!"||n==="(?<="||n==="(?<!")return{token:Nu(n[2]==="<"?"lookbehind":"lookahead",n,{negate:n.endsWith("!")})};if(n==="("&&t.captureGroup||n.startsWith("(?<")&&n.endsWith(">")||n.startsWith("(?'")&&n.endsWith("'"))return{token:Nu("capturing",n,{...n!=="("&&{name:n.slice(3,-1)}})};if(n.startsWith("(?~")){if(n==="(?~|")throw new Error(`Unsupported absence function kind "${n}"`);return{token:Nu("absence_repeater",n)}}throw n==="(?("?new Error(`Unsupported conditional "${n}"`):new Error(`Invalid or unsupported group option "${n}"`)}if(n===")"){if(t.popModX(),t.numOpenGroups--,t.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:bge(n)}}if(t.getCurrentModX()){if(n==="#"){const s=e.indexOf(`
`,o);return{lastIndex:s===-1?e.length:s}}if(/^\s$/.test(n)){const s=/\s+/y;return s.lastIndex=o,{lastIndex:s.exec(e)?s.lastIndex:o}}}if(n===".")return{token:Xa("dot",n)};if(n==="^"||n==="$"){const s=t.singleline?{"^":Nn`\A`,$:Nn`\Z`}[n]:n;return{token:K3(s,n)}}return n==="|"?{token:fge(n)}:QE.test(n)?{tokens:Rge(n)}:{token:Ts(Bd(n),n)}}function uge(t,e,n){const o=[W3(e[1]==="^",e)];let r=1,i;for(ex.lastIndex=n;i=ex.exec(t);){const s=i[0];if(s[0]==="["&&s[1]!==":")r++,o.push(W3(s[1]==="^",s));else if(s==="]"){if(o.at(-1).type==="CharacterClassOpen")o.push(Ts(93,s));else if(r--,o.push(hge(s)),!r)break}else{const l=dge(s);Array.isArray(l)?o.push(...l):o.push(l)}}return{tokens:o,lastIndex:ex.lastIndex||t.length}}function dge(t){if(t[0]==="\\")return h9(t,{inCharClass:!0});if(t[0]==="["){const e=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(t);if(!e||!JE.has(e.groups.name))throw new Error(`Invalid POSIX class "${t}"`);return Xa("posix",t,{value:e.groups.name,negate:!!e.groups.negate})}return t==="-"?pge(t):t==="&&"?mge(t):Ts(Bd(t),t)}function h9(t,{inCharClass:e}){const n=t[1];if(n==="c"||n==="C")return xge(t);if("dDhHsSwW".includes(n))return Sge(t);if(t.startsWith(Nn`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${t}"`);if(/^\\[pP]\{/.test(t)){if(t.length===3)throw new Error(`Incomplete or invalid Unicode property "${t}"`);return Ege(t)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(t))try{const o=t.split(/\\x/).slice(1).map(s=>parseInt(s,16)),r=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(o)),i=new TextEncoder;return[...r].map(s=>{const l=[...i.encode(s)].map(c=>`\\x${c.toString(16)}`).join("");return Ts(Bd(s),l)})}catch{throw new Error(`Multibyte code "${t}" incomplete or invalid in Oniguruma`)}if(n==="u"||n==="x")return Ts(Mge(t),t);if(Z3.has(n))return Ts(Z3.get(n),t);if(/\d/.test(n))return gge(e,t);if(t==="\\")throw new Error(Nn`Incomplete escape "\"`);if(n==="M")throw new Error(`Unsupported meta "${t}"`);if([...t].length===2)return Ts(t.codePointAt(1),t);throw new Error(`Unexpected escape "${t}"`)}function fge(t){return{type:"Alternator",raw:t}}function K3(t,e){return{type:"Assertion",kind:t,raw:e}}function p9(t){return{type:"Backreference",raw:t}}function Ts(t,e){return{type:"Character",value:t,raw:e}}function hge(t){return{type:"CharacterClassClose",raw:t}}function pge(t){return{type:"CharacterClassHyphen",raw:t}}function mge(t){return{type:"CharacterClassIntersector",raw:t}}function W3(t,e){return{type:"CharacterClassOpen",negate:t,raw:e}}function Xa(t,e,n={}){return{type:"CharacterSet",kind:t,...n,raw:e}}function m9(t,e,n={}){return t==="keep"?{type:"Directive",kind:t,raw:e}:{type:"Directive",kind:t,flags:Id(n.flags),raw:e}}function gge(t,e){return{type:"EscapedNumber",inCharClass:t,raw:e}}function bge(t){return{type:"GroupClose",raw:t}}function Nu(t,e,n={}){return{type:"GroupOpen",kind:t,...n,raw:e}}function yge(t,e,n,o){return{type:"NamedCallout",kind:t,tag:e,arguments:n,raw:o}}function vge(t,e,n,o){return{type:"Quantifier",kind:t,min:e,max:n,raw:o}}function wge(t){return{type:"Subroutine",raw:t}}const kge=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),Z3=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function xge(t){const e=t[1]==="c"?t[2]:t[3];if(!e||!/[A-Za-z]/.test(e))throw new Error(`Unsupported control character "${t}"`);return Ts(Bd(e.toUpperCase())-64,t)}function Cge(t,e){let{on:n,off:o}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(t).groups;o??(o="");const r=(e.getCurrentModX()||n.includes("x"))&&!o.includes("x"),i=Y3(n),s=Y3(o),l={};if(i&&(l.enable=i),s&&(l.disable=s),t.endsWith(")"))return e.replaceCurrentModX(r),m9("flags",t,{flags:l});if(t.endsWith(":"))return e.pushModX(r),e.numOpenGroups++,Nu("group",t,{...(i||s)&&{flags:l}});throw new Error(`Unexpected flag modifier "${t}"`)}function _ge(t){const e=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(t);if(!e)throw new Error(`Incomplete or invalid named callout "${t}"`);const{name:n,tag:o,args:r}=e.groups;if(!n)throw new Error(`Invalid named callout "${t}"`);if(o==="")throw new Error(`Named callout tag with empty value not allowed "${t}"`);const i=r?r.split(",").filter(f=>f!=="").map(f=>/^[+-]?\d+$/.test(f)?+f:f):[],[s,l,c]=i,d=kge.has(n)?n.toLowerCase():"custom";switch(d){case"fail":case"mismatch":case"skip":if(i.length>0)throw new Error(`Named callout arguments not allowed "${i}"`);break;case"error":if(i.length>1)throw new Error(`Named callout allows only one argument "${i}"`);if(typeof s=="string")throw new Error(`Named callout argument must be a number "${s}"`);break;case"max":if(!i.length||i.length>2)throw new Error(`Named callout must have one or two arguments "${i}"`);if(typeof s=="string"&&!/^[A-Za-z_]\w*$/.test(s))throw new Error(`Named callout argument one must be a tag or number "${s}"`);if(i.length===2&&(typeof l=="number"||!/^[<>X]$/.test(l)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${l}"`);break;case"count":case"total_count":if(i.length>1)throw new Error(`Named callout allows only one argument "${i}"`);if(i.length===1&&(typeof s=="number"||!/^[<>X]$/.test(s)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${s}"`);break;case"cmp":if(i.length!==3)throw new Error(`Named callout must have three arguments "${i}"`);if(typeof s=="string"&&!/^[A-Za-z_]\w*$/.test(s))throw new Error(`Named callout argument one must be a tag or number "${s}"`);if(typeof l=="number"||!/^(?:[<>!=]=|[<>])$/.test(l))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${l}"`);if(typeof c=="string"&&!/^[A-Za-z_]\w*$/.test(c))throw new Error(`Named callout argument three must be a tag or number "${c}"`);break;case"custom":throw new Error(`Undefined callout name "${n}"`);default:throw new Error(`Unexpected named callout kind "${d}"`)}return yge(d,o??null,(r==null?void 0:r.split(","))??null,t)}function X3(t){let e=null,n,o;if(t[0]==="{"){const{minStr:r,maxStr:i}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(t).groups,s=1e5;if(+r>s||i&&+i>s)throw new Error("Quantifier value unsupported in Oniguruma");if(n=+r,o=i===void 0?+r:i===""?1/0:+i,n>o&&(e="possessive",[n,o]=[o,n]),t.endsWith("?")){if(e==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');e="lazy"}else e||(e="greedy")}else n=t[0]==="+"?1:0,o=t[0]==="?"?1:1/0,e=t[1]==="+"?"possessive":t[1]==="?"?"lazy":"greedy";return vge(e,n,o,t)}function Sge(t){const e=t[1].toLowerCase();return Xa({d:"digit",h:"hex",s:"space",w:"word"}[e],t,{negate:t[1]!==e})}function Ege(t){const{p:e,neg:n,value:o}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(t).groups;return Xa("property",t,{value:o,negate:e==="P"&&!n||e==="p"&&!!n})}function Y3(t){const e={};return t.includes("i")&&(e.ignoreCase=!0),t.includes("m")&&(e.dotAll=!0),t.includes("x")&&(e.extended=!0),Object.keys(e).length?e:null}function Tge(t){if(!/^[imxDPSW]*$/.test(t))throw new Error(`Flags "${t}" includes unsupported value`);const e={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1};for(const n of t)e[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[n]]=!0;return e}function Mge(t){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(t))throw new Error(`Incomplete or invalid escape "${t}"`);const e=t[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(t).groups.hex:t.slice(2);return parseInt(e,16)}function Age(t,e){const{raw:n,inCharClass:o}=t,r=n.slice(1);if(!o&&(r!=="0"&&r.length===1||r[0]!=="0"&&+r<=e))return[p9(n)];const i=[],s=r.match(/^[0-7]+|\d/g);for(let l=0;l<s.length;l++){const c=s[l];let d;if(l===0&&c!=="8"&&c!=="9"){if(d=parseInt(c,8),d>127)throw new Error(Nn`Octal encoded byte above 177 unsupported "${n}"`)}else d=Bd(c);i.push(Ts(d,(l===0?"\\":"")+c))}return i}function Rge(t){const e=[],n=new RegExp(QE,"gy");let o;for(;o=n.exec(t);){const r=o[0];if(r[0]==="{"){const i=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(r);if(i){const{min:s,max:l}=i.groups;if(+s>+l&&r.endsWith("?")){n.lastIndex--,e.push(X3(r.slice(0,-1)));continue}}}e.push(X3(r))}return e}function g9(t,e){if(!Array.isArray(t.body))throw new Error("Expected node with body array");if(t.body.length!==1)return!1;const n=t.body[0];return!e||Object.keys(e).every(o=>e[o]===n[o])}function Oge(t){return Nge.has(t.type)}const Nge=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function b9(t,e={}){const n={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...e,rules:{captureGroup:!1,singleline:!1,...e.rules}},o=age(t,{flags:n.flags,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline}}),r=(m,b)=>{const y=o.tokens[i.nextIndex];switch(i.parent=m,i.nextIndex++,y.type){case"Alternator":return kc();case"Assertion":return Dge(y);case"Backreference":return Lge(y,i);case"Character":return t1(y.value,{useLastValid:!!b.isCheckingRangeEnd});case"CharacterClassHyphen":return Bge(y,i,b);case"CharacterClassOpen":return Ige(y,i,b);case"CharacterSet":return jge(y,i);case"Directive":return Uge(y.kind,{flags:y.flags});case"GroupOpen":return Pge(y,i,b);case"NamedCallout":return Gge(y.kind,y.tag,y.arguments);case"Quantifier":return $ge(y,i);case"Subroutine":return Hge(y,i);default:throw new Error(`Unexpected token type "${y.type}"`)}},i={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:n.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:n.skipBackrefValidation,skipLookbehindValidation:n.skipLookbehindValidation,skipPropertyNameValidation:n.skipPropertyNameValidation,subroutines:[],tokens:o.tokens,unicodePropertyMap:n.unicodePropertyMap,walk:r},s=Kge(Fge(o.flags));let l=s.body[0];for(;i.nextIndex<o.tokens.length;){const m=r(l,{});m.type==="Alternative"?(s.body.push(m),l=m):l.body.push(m)}const{capturingGroups:c,hasNumberedRef:d,namedGroupsByName:f,subroutines:p}=i;if(d&&f.size&&!n.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:m}of p)if(typeof m=="number"){if(m>c.length)throw new Error("Subroutine uses a group number that's not defined");m&&(c[m-1].isSubroutined=!0)}else if(f.has(m)){if(f.get(m).length>1)throw new Error(Nn`Subroutine uses a duplicate group name "\g<${m}>"`);f.get(m)[0].isSubroutined=!0}else throw new Error(Nn`Subroutine uses a group name that's not defined "\g<${m}>"`);return s}function Dge({kind:t}){return YC(Id({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"grapheme_boundary","\\Y":"grapheme_boundary","\\z":"string_end","\\Z":"string_end_newline"}[t],`Unexpected assertion kind "${t}"`),{negate:t===Nn`\B`||t===Nn`\Y`})}function Lge({raw:t},e){const n=/^\\k[<']/.test(t),o=n?t.slice(3,-1):t.slice(1),r=(i,s=!1)=>{const l=e.capturingGroups.length;let c=!1;if(i>l)if(e.skipBackrefValidation)c=!0;else throw new Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,JC(s?l+1-i:i,{orphan:c})};if(n){const i=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(o);if(i)return r(+i.groups.num,!!i.groups.sign);if(/[-+]/.test(o))throw new Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(o))throw new Error(`Group name not defined to the left "${t}"`);return JC(o)}return r(+o)}function Bge(t,e,n){const{tokens:o,walk:r}=e,i=e.parent,s=i.body.at(-1),l=o[e.nextIndex];if(!n.isCheckingRangeEnd&&s&&s.type!=="CharacterClass"&&s.type!=="CharacterClassRange"&&l&&l.type!=="CharacterClassOpen"&&l.type!=="CharacterClassClose"&&l.type!=="CharacterClassIntersector"){const c=r(i,{...n,isCheckingRangeEnd:!0});if(s.type==="Character"&&c.type==="Character")return i.body.pop(),Vge(s,c);throw new Error("Invalid character class range")}return t1(Bd("-"))}function Ige({negate:t},e,n){const{tokens:o,walk:r}=e,i=o[e.nextIndex],s=[tb()];let l=eD(i);for(;l.type!=="CharacterClassClose";){if(l.type==="CharacterClassIntersector")s.push(tb()),e.nextIndex++;else{const d=s.at(-1);d.body.push(r(d,n))}l=eD(o[e.nextIndex],i)}const c=tb({negate:t});return s.length===1?c.body=s[0].body:(c.kind="intersection",c.body=s.map(d=>d.body.length===1?d.body[0]:d)),e.nextIndex++,c}function jge({kind:t,negate:e,value:n},o){const{normalizeUnknownPropertyNames:r,skipPropertyNameValidation:i,unicodePropertyMap:s}=o;if(t==="property"){const l=n1(n);if(JE.has(l)&&!(s!=null&&s.has(l)))t="posix",n=l;else return Du(n,{negate:e,normalizeUnknownPropertyNames:r,skipPropertyNameValidation:i,unicodePropertyMap:s})}return t==="posix"?qge(n,{negate:e}):QC(t,{negate:e})}function Pge(t,e,n){const{tokens:o,capturingGroups:r,namedGroupsByName:i,skipLookbehindValidation:s,walk:l}=e,c=Wge(t),d=c.type==="AbsenceFunction",f=Q3(c),p=f&&c.negate;if(c.type==="CapturingGroup"&&(r.push(c),c.name&&lge(i,c.name,[]).push(c)),d&&n.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let m=tD(o[e.nextIndex]);for(;m.type!=="GroupClose";){if(m.type==="Alternator")c.body.push(kc()),e.nextIndex++;else{const b=c.body.at(-1),y=l(b,{...n,isInAbsenceFunction:n.isInAbsenceFunction||d,isInLookbehind:n.isInLookbehind||f,isInNegLookbehind:n.isInNegLookbehind||p});if(b.body.push(y),(f||n.isInLookbehind)&&!s){const w="Lookbehind includes a pattern not allowed by Oniguruma";if(p||n.isInNegLookbehind){if(J3(y)||y.type==="CapturingGroup")throw new Error(w)}else if(J3(y)||Q3(y)&&y.negate)throw new Error(w)}}m=tD(o[e.nextIndex])}return e.nextIndex++,c}function $ge({kind:t,min:e,max:n},o){const r=o.parent,i=r.body.at(-1);if(!i||!Oge(i))throw new Error("Quantifier requires a repeatable token");const s=v9(t,e,n,i);return r.body.pop(),s}function Hge({raw:t},e){const{capturingGroups:n,subroutines:o}=e;let r=t.slice(3,-1);const i=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(r);if(i){const l=+i.groups.num,c=n.length;if(e.hasNumberedRef=!0,r={"":l,"+":c+l,"-":c+1-l}[i.groups.sign],r<1)throw new Error("Invalid subroutine number")}else r==="0"&&(r=0);const s=w9(r);return o.push(s),s}function zge(t,e){return{type:"AbsenceFunction",kind:t,body:zp(e==null?void 0:e.body)}}function kc(t){return{type:"Alternative",body:k9(t==null?void 0:t.body)}}function YC(t,e){const n={type:"Assertion",kind:t};return(t==="word_boundary"||t==="grapheme_boundary")&&(n.negate=!!(e!=null&&e.negate)),n}function JC(t,e){const n=!!(e!=null&&e.orphan);return{type:"Backreference",ref:t,...n&&{orphan:n}}}function y9(t,e){const n={name:void 0,isSubroutined:!1,...e};if(n.name!==void 0&&!Zge(n.name))throw new Error(`Group name "${n.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:t,...n.name&&{name:n.name},...n.isSubroutined&&{isSubroutined:n.isSubroutined},body:zp(e==null?void 0:e.body)}}function t1(t,e){const n={useLastValid:!1,...e};if(t>1114111){const o=t.toString(16);if(n.useLastValid)t=1114111;else throw t>1310719?new Error(`Invalid code point out of range "\\x{${o}}"`):new Error(`Invalid code point out of range in JS "\\x{${o}}"`)}return{type:"Character",value:t}}function tb(t){const e={kind:"union",negate:!1,...t};return{type:"CharacterClass",kind:e.kind,negate:e.negate,body:k9(t==null?void 0:t.body)}}function Vge(t,e){if(e.value<t.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:t,max:e}}function QC(t,e){const n=!!(e!=null&&e.negate),o={type:"CharacterSet",kind:t};return(t==="digit"||t==="hex"||t==="newline"||t==="space"||t==="word")&&(o.negate=n),(t==="grapheme"||t==="newline"&&!n)&&(o.variableLength=!0),o}function Uge(t,e={}){if(t==="keep")return{type:"Directive",kind:t};if(t==="flags")return{type:"Directive",kind:t,flags:Id(e.flags)};throw new Error(`Unexpected directive kind "${t}"`)}function Fge(t){return{type:"Flags",...t}}function Kr(t){const e=t==null?void 0:t.atomic,n=t==null?void 0:t.flags;if(e&&n)throw new Error("Atomic group cannot have flags");return{type:"Group",...e&&{atomic:e},...n&&{flags:n},body:zp(t==null?void 0:t.body)}}function za(t){const e={behind:!1,negate:!1,...t};return{type:"LookaroundAssertion",kind:e.behind?"lookbehind":"lookahead",negate:e.negate,body:zp(t==null?void 0:t.body)}}function Gge(t,e,n){return{type:"NamedCallout",kind:t,tag:e,arguments:n}}function qge(t,e){const n=!!(e!=null&&e.negate);if(!JE.has(t))throw new Error(`Invalid POSIX class "${t}"`);return{type:"CharacterSet",kind:"posix",value:t,negate:n}}function v9(t,e,n,o){if(e>n)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:t,min:e,max:n,body:o}}function Kge(t,e){return{type:"Regex",body:zp(e==null?void 0:e.body),flags:t}}function w9(t){return{type:"Subroutine",ref:t}}function Du(t,e){var r;const n={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...e};let o=(r=n.unicodePropertyMap)==null?void 0:r.get(n1(t));if(!o){if(n.normalizeUnknownPropertyNames)o=Xge(t);else if(n.unicodePropertyMap&&!n.skipPropertyNameValidation)throw new Error(Nn`Invalid Unicode property "\p{${t}}"`)}return{type:"CharacterSet",kind:"property",value:o??t,negate:n.negate}}function Wge({flags:t,kind:e,name:n,negate:o,number:r}){switch(e){case"absence_repeater":return zge("repeater");case"atomic":return Kr({atomic:!0});case"capturing":return y9(r,{name:n});case"group":return Kr({flags:t});case"lookahead":case"lookbehind":return za({behind:e==="lookbehind",negate:o});default:throw new Error(`Unexpected group kind "${e}"`)}}function zp(t){if(t===void 0)t=[kc()];else if(!Array.isArray(t)||!t.length||!t.every(e=>e.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return t}function k9(t){if(t===void 0)t=[];else if(!Array.isArray(t)||!t.every(e=>!!e.type))throw new Error("Invalid body; expected array of nodes");return t}function J3(t){return t.type==="LookaroundAssertion"&&t.kind==="lookahead"}function Q3(t){return t.type==="LookaroundAssertion"&&t.kind==="lookbehind"}function Zge(t){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(t)}function Xge(t){return t.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase())}function n1(t){return t.replace(/[- _]+/g,"").toLowerCase()}function eD(t,e){return Id(t,`${(e==null?void 0:e.type)==="Character"&&e.value===93?"Empty":"Unclosed"} character class`)}function tD(t){return Id(t,"Unclosed group")}const e2=String.raw,nD=e2`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,oD=e2`\u{E0061}-\u{E007A}`,Yge=()=>new RegExp(e2`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${oD}]{2}[\u{E0030}-\u{E0039}${oD}]{1,3}\u{E007F}|${nD}(?:\u200D${nD})*`,"gu");function xh(t,e,n=null){function o(i,s){for(let l=0;l<i.length;l++){const c=r(i[l],s,l,i);l=Math.max(-1,l+c)}}function r(i,s=null,l=null,c=null){var _,T;let d=0,f=!1;const p={node:i,parent:s,key:l,container:c,root:t,remove(){Og(c).splice(Math.max(0,_u(l)+d),1),d--,f=!0},removeAllNextSiblings(){return Og(c).splice(_u(l)+1)},removeAllPrevSiblings(){const M=_u(l)+d;return d-=M,Og(c).splice(0,Math.max(0,M))},replaceWith(M,R={}){const O=!!R.traverse;c?c[Math.max(0,_u(l)+d)]=M:Id(s,"Can't replace root node")[l]=M,O&&r(M,s,l,c),f=!0},replaceWithMultiple(M,R={}){const O=!!R.traverse;if(Og(c).splice(Math.max(0,_u(l)+d),1,...M),d+=M.length-1,O){let B=0;for(let I=0;I<M.length;I++)B+=r(M[I],s,_u(l)+I+B,c)}f=!0},skip(){f=!0}},{type:m}=i,b=e["*"],y=e[m],w=typeof b=="function"?b:b==null?void 0:b.enter,x=typeof y=="function"?y:y==null?void 0:y.enter;if(w==null||w(p,n),x==null||x(p,n),!f)switch(m){case"AbsenceFunction":case"CapturingGroup":case"Group":o(i.body,i);break;case"Alternative":case"CharacterClass":o(i.body,i);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":r(i.min,i,"min"),r(i.max,i,"max");break;case"LookaroundAssertion":o(i.body,i);break;case"Quantifier":r(i.body,i,"body");break;case"Regex":o(i.body,i),r(i.flags,i,"flags");break;default:throw new Error(`Unexpected node type "${m}"`)}return(_=y==null?void 0:y.exit)==null||_.call(y,p,n),(T=b==null?void 0:b.exit)==null||T.call(b,p,n),d}return r(t),t}function Og(t){if(!Array.isArray(t))throw new Error("Container expected");return t}function _u(t){if(typeof t!="number")throw new Error("Numeric key expected");return t}const Jge=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function Qge(t,e){for(let n=0;n<t.length;n++)t[n]>=e&&t[n]++}function ebe(t,e,n,o){return t.slice(0,e)+o+t.slice(e+n.length)}const Dr=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function t2(t,e,n,o){const r=new RegExp(String.raw`${e}|(?<$skip>\[\^?|\\?.)`,"gsu"),i=[!1];let s=0,l="";for(const c of t.matchAll(r)){const{0:d,groups:{$skip:f}}=c;if(!f&&(!o||o===Dr.DEFAULT==!s)){n instanceof Function?l+=n(c,{context:s?Dr.CHAR_CLASS:Dr.DEFAULT,negated:i[i.length-1]}):l+=n;continue}d[0]==="["?(s++,i.push(d[1]==="^")):d==="]"&&s&&(s--,i.pop()),l+=d}return l}function x9(t,e,n,o){t2(t,e,n,o)}function tbe(t,e,n=0,o){if(!new RegExp(e,"su").test(t))return null;const r=new RegExp(`${e}|(?<$skip>\\\\?.)`,"gsu");r.lastIndex=n;let i=0,s;for(;s=r.exec(t);){const{0:l,groups:{$skip:c}}=s;if(!c&&(!o||o===Dr.DEFAULT==!i))return s;l==="["?i++:l==="]"&&i&&i--,r.lastIndex==s.index&&r.lastIndex++}return null}function Ng(t,e,n){return!!tbe(t,e,0,n)}function nbe(t,e){const n=/\\?./gsu;n.lastIndex=e;let o=t.length,r=0,i=1,s;for(;s=n.exec(t);){const[l]=s;if(l==="[")r++;else if(r)l==="]"&&r--;else if(l==="(")i++;else if(l===")"&&(i--,!i)){o=s.index;break}}return t.slice(e,o)}const rD=new RegExp(String.raw`(?<noncapturingStart>${Jge})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function obe(t,e){const n=(e==null?void 0:e.hiddenCaptures)??[];let o=(e==null?void 0:e.captureTransfers)??new Map;if(!/\(\?>/.test(t))return{pattern:t,captureTransfers:o,hiddenCaptures:n};const r="(?>",i="(?:(?=(",s=[0],l=[];let c=0,d=0,f=NaN,p;do{p=!1;let m=0,b=0,y=!1,w;for(rD.lastIndex=Number.isNaN(f)?0:f+i.length;w=rD.exec(t);){const{0:x,index:_,groups:{capturingStart:T,noncapturingStart:M}}=w;if(x==="[")m++;else if(m)x==="]"&&m--;else if(x===r&&!y)f=_,y=!0;else if(y&&M)b++;else if(T)y?b++:(c++,s.push(c+d));else if(x===")"&&y){if(!b){d++;const R=c+d;if(t=`${t.slice(0,f)}${i}${t.slice(f+r.length,_)}))<$$${R}>)${t.slice(_+1)}`,p=!0,l.push(R),Qge(n,R),o.size){const O=new Map;o.forEach((B,I)=>{O.set(I>=R?I+1:I,B.map(H=>H>=R?H+1:H))}),o=O}break}b--}}}while(p);return n.push(...l),t=t2(t,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:m,groups:{backrefNum:b,wrappedBackrefNum:y}})=>{if(b){const w=+b;if(w>s.length-1)throw new Error(`Backref "${m}" greater than number of captures`);return`\\${s[w]}`}return`\\${y}`},Dr.DEFAULT),{pattern:t,captureTransfers:o,hiddenCaptures:n}}const C9=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,tx=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${C9})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function rbe(t){if(!new RegExp(`${C9}\\+`).test(t))return{pattern:t};const e=[];let n=null,o=null,r="",i=0,s;for(tx.lastIndex=0;s=tx.exec(t);){const{0:l,index:c,groups:{qBase:d,qMod:f,invalidQ:p}}=s;if(l==="[")i||(o=c),i++;else if(l==="]")i?i--:o=null;else if(!i)if(f==="+"&&r&&!r.startsWith("(")){if(p)throw new Error(`Invalid quantifier "${l}"`);let m=-1;if(/^\{\d+\}$/.test(d))t=ebe(t,c+d.length,f,"");else{if(r===")"||r==="]"){const b=r===")"?n:o;if(b===null)throw new Error(`Invalid unmatched "${r}"`);t=`${t.slice(0,b)}(?>${t.slice(b,c)}${d})${t.slice(c+l.length)}`}else t=`${t.slice(0,c-r.length)}(?>${r}${d})${t.slice(c+l.length)}`;m+=4}tx.lastIndex+=m}else l[0]==="("?e.push(c):l===")"&&(n=e.length?e.pop():null);r=l}return{pattern:t}}const Nr=String.raw,ibe=Nr`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,e_=Nr`\(\?R=(?<rDepth>[^\)]+)\)|${ibe}`,o1=Nr`\(\?<(?![=!])(?<captureName>[^>]+)>`,_9=Nr`${o1}|(?<unnamed>\()(?!\?)`,Ba=new RegExp(Nr`${o1}|${e_}|\(\?|\\?.`,"gsu"),nx="Cannot use multiple overlapping recursions";function sbe(t,e){const{hiddenCaptures:n,mode:o}={hiddenCaptures:[],mode:"plugin",...e};let r=(e==null?void 0:e.captureTransfers)??new Map;if(!new RegExp(e_,"su").test(t))return{pattern:t,captureTransfers:r,hiddenCaptures:n};if(o==="plugin"&&Ng(t,Nr`\(\?\(DEFINE\)`,Dr.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const i=[],s=Ng(t,Nr`\\[1-9]`,Dr.DEFAULT),l=new Map,c=[];let d=!1,f=0,p=0,m;for(Ba.lastIndex=0;m=Ba.exec(t);){const{0:b,groups:{captureName:y,rDepth:w,gRNameOrNum:x,gRDepth:_}}=m;if(b==="[")f++;else if(f)b==="]"&&f--;else if(w){if(iD(w),d)throw new Error(nx);if(s)throw new Error(`${o==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const T=t.slice(0,m.index),M=t.slice(Ba.lastIndex);if(Ng(M,e_,Dr.DEFAULT))throw new Error(nx);const R=+w-1;t=sD(T,M,R,!1,n,i,p),r=aD(r,T,R,i.length,0,p);break}else if(x){iD(_);let T=!1;for(const ue of c)if(ue.name===x||ue.num===+x){if(T=!0,ue.hasRecursedWithin)throw new Error(nx);break}if(!T)throw new Error(Nr`Recursive \g cannot be used outside the referenced group "${o==="external"?x:Nr`\g<${x}&R=${_}>`}"`);const M=l.get(x),R=nbe(t,M);if(s&&Ng(R,Nr`${o1}|\((?!\?)`,Dr.DEFAULT))throw new Error(`${o==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const O=t.slice(M,m.index),B=R.slice(O.length+b.length),I=i.length,H=+_-1,q=sD(O,B,H,!0,n,i,p);r=aD(r,O,H,i.length-I,I,p);const Q=t.slice(0,M),ve=t.slice(M+R.length);t=`${Q}${q}${ve}`,Ba.lastIndex+=q.length-b.length-O.length-B.length,c.forEach(ue=>ue.hasRecursedWithin=!0),d=!0}else if(y)p++,l.set(String(p),Ba.lastIndex),l.set(y,Ba.lastIndex),c.push({num:p,name:y});else if(b[0]==="("){const T=b==="(";T&&(p++,l.set(String(p),Ba.lastIndex)),c.push(T?{num:p}:{})}else b===")"&&c.pop()}return n.push(...i),{pattern:t,captureTransfers:r,hiddenCaptures:n}}function iD(t){const e=`Max depth must be integer between 2 and 100; used ${t}`;if(!/^[1-9]\d*$/.test(t))throw new Error(e);if(t=+t,t<2||t>100)throw new Error(e)}function sD(t,e,n,o,r,i,s){const l=new Set;o&&x9(t+e,o1,({groups:{captureName:d}})=>{l.add(d)},Dr.DEFAULT);const c=[n,o?l:null,r,i,s];return`${t}${lD(`(?:${t}`,"forward",...c)}(?:)${lD(`${e})`,"backward",...c)}${e}`}function lD(t,e,n,o,r,i,s){const c=f=>e==="forward"?f+2:n-f+2-1;let d="";for(let f=0;f<n;f++){const p=c(f);d+=t2(t,Nr`${_9}|\\k<(?<backref>[^>]+)>`,({0:m,groups:{captureName:b,unnamed:y,backref:w}})=>{if(w&&o&&!o.has(w))return m;const x=`_$${p}`;if(y||b){const _=s+i.length+1;return i.push(_),lbe(r,_),y?m:`(?<${b}${x}>`}return Nr`\k<${w}${x}>`},Dr.DEFAULT)}return d}function lbe(t,e){for(let n=0;n<t.length;n++)t[n]>=e&&t[n]++}function aD(t,e,n,o,r,i){if(t.size&&o){let s=0;x9(e,_9,()=>s++,Dr.DEFAULT);const l=i-s+r,c=new Map;return t.forEach((d,f)=>{const p=(o-s*n)/n,m=s*n,b=f>l+s?f+o:f,y=[];for(const w of d)if(w<=l)y.push(w);else if(w>l+s+p)y.push(w+o);else if(w<=l+s)for(let x=0;x<=n;x++)y.push(w+s*x);else for(let x=0;x<=n;x++)y.push(w+m+p*x);c.set(b,y)}),c}return t}var xn=String.fromCodePoint,Je=String.raw,md={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};md.bugLiteralHyphenIsRange=(()=>{if(!md.unicodeSets)return!1;try{new RegExp(Je`[\d\-a]`,"v")}catch{return!0}return!1})();function Py(t,{enable:e,disable:n}){return{dotAll:!(n!=null&&n.dotAll)&&!!(e!=null&&e.dotAll||t.dotAll),ignoreCase:!(n!=null&&n.ignoreCase)&&!!(e!=null&&e.ignoreCase||t.ignoreCase)}}function cp(t,e,n){return t.has(e)||t.set(e,n),t.get(e)}function t_(t,e){return cD[t]>=cD[e]}function abe(t,e){if(t==null)throw new Error(e??"Value expected");return t}var cD={ES2025:2025,ES2024:2024,ES2018:2018},cbe={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function S9(t={}){if({}.toString.call(t)!=="[object Object]")throw new Error("Unexpected options");if(t.target!==void 0&&!cbe[t.target])throw new Error(`Unexpected target "${t.target}"`);const e={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...t,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...t.rules}};return e.target==="auto"&&(e.target=md.flagGroups?"ES2025":md.unicodeSets?"ES2024":"ES2018"),e}var ube="[	-\r ]",fs=Je`[\p{L}\p{M}\p{N}\p{Pc}]`,dbe=new Set([xn(304),xn(305)]);function E9(t){if(dbe.has(t))return[t];const e=new Set,n=t.toLowerCase(),o=n.toUpperCase(),r=pbe.get(n),i=fbe.get(n),s=hbe.get(n);return[...o].length===1&&e.add(o),s&&e.add(s),r&&e.add(r),e.add(n),i&&e.add(i),[...e]}var n2=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(t=>[n1(t),t])),fbe=new Map([["s",xn(383)],[xn(383),"s"]]),hbe=new Map([[xn(223),xn(7838)],[xn(107),xn(8490)],[xn(229),xn(8491)],[xn(969),xn(8486)]]),pbe=new Map([xl(453),xl(456),xl(459),xl(498),...ox(8072,8079),...ox(8088,8095),...ox(8104,8111),xl(8124),xl(8140),xl(8188)]),mbe=new Map([["alnum",Je`[\p{Alpha}\p{Nd}]`],["alpha",Je`\p{Alpha}`],["ascii",Je`\p{ASCII}`],["blank",Je`[\p{Zs}\t]`],["cntrl",Je`\p{Cc}`],["digit",Je`\p{Nd}`],["graph",Je`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",Je`\p{Lower}`],["print",Je`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",Je`[\p{P}\p{S}]`],["space",Je`\p{space}`],["upper",Je`\p{Upper}`],["word",Je`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",Je`\p{AHex}`]]);function gbe(t,e){const n=[];for(let o=t;o<=e;o++)n.push(o);return n}function xl(t){const e=xn(t);return[e.toLowerCase(),e]}function ox(t,e){return gbe(t,e).map(n=>xl(n))}var T9=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function bbe(t,e){const n={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...e};M9(t);const o={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:t_(n.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:t.flags.digitIsAscii,spaceIsAscii:t.flags.spaceIsAscii,wordIsAscii:t.flags.wordIsAscii};xh(t,ybe,o);const r={dotAll:t.flags.dotAll,ignoreCase:t.flags.ignoreCase},i={currentFlags:r,prevFlags:null,globalFlags:r,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:o.subroutineRefMap};xh(t,vbe,i);const s={groupsByName:i.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:i.reffedNodesByReferencer};return xh(t,wbe,s),t._originMap=i.groupOriginByCopy,t._strategy=o.strategy,t}var ybe={AbsenceFunction({node:t,parent:e,replaceWith:n}){const{body:o,kind:r}=t;if(r==="repeater"){const i=Kr();i.body[0].body.push(za({negate:!0,body:o}),Du("Any"));const s=Kr();s.body[0].body.push(v9("greedy",0,1/0,i)),n(cn(s,e),{traverse:!0})}else throw new Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:t,parent:e,key:n},{flagDirectivesByAlt:o}){const r=t.body.filter(i=>i.kind==="flags");for(let i=n+1;i<e.body.length;i++){const s=e.body[i];cp(o,s,[]).push(...r)}},exit({node:t},{flagDirectivesByAlt:e}){var n;if((n=e.get(t))!=null&&n.length){const o=R9(e.get(t));if(o){const r=Kr({flags:o});r.body[0].body=t.body,t.body=[cn(r,t)]}}}},Assertion({node:t,parent:e,key:n,container:o,root:r,remove:i,replaceWith:s},l){const{kind:c,negate:d}=t,{asciiWordBoundaries:f,avoidSubclass:p,supportedGNodes:m,wordIsAscii:b}=l;if(c==="grapheme_boundary")throw new Error(`Unsupported grapheme boundary "\\${d?"Y":"y"}"`);if(c==="line_end")s(cn(za({body:[kc({body:[YC("string_end")]}),kc({body:[t1(10)]})]}),e));else if(c==="line_start")s(cn(hs(Je`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),e));else if(c==="search_start")if(m.has(t))r.flags.sticky=!0,i();else{const y=o[n-1];if(y&&Ebe(y))s(cn(za({negate:!0}),e));else{if(p)throw new Error(Je`Uses "\G" in a way that requires a subclass`);s(Cl(YC("string_start"),e)),l.strategy="clip_search"}}else if(!(c==="string_end"||c==="string_start"))if(c==="string_end_newline")s(cn(hs(Je`(?=\n?\z)`),e));else if(c==="word_boundary"){if(!b&&!f){const y=`(?:(?<=${fs})(?!${fs})|(?<!${fs})(?=${fs}))`,w=`(?:(?<=${fs})(?=${fs})|(?<!${fs})(?!${fs}))`;s(cn(hs(d?w:y),e))}}else throw new Error(`Unexpected assertion kind "${c}"`)},Backreference({node:t},{jsGroupNameMap:e}){let{ref:n}=t;typeof n=="string"&&!ix(n)&&(n=rx(n,e),t.ref=n)},CapturingGroup({node:t},{jsGroupNameMap:e,subroutineRefMap:n}){let{name:o}=t;o&&!ix(o)&&(o=rx(o,e),t.name=o),n.set(t.number,t),o&&n.set(o,t)},CharacterClassRange({node:t,parent:e,replaceWith:n}){if(e.kind==="intersection"){const o=tb({body:[t]});n(cn(o,e),{traverse:!0})}},CharacterSet({node:t,parent:e,replaceWith:n},{accuracy:o,minTargetEs2024:r,digitIsAscii:i,spaceIsAscii:s,wordIsAscii:l}){const{kind:c,negate:d,value:f}=t;if(i&&(c==="digit"||f==="digit")){n(Cl(QC("digit",{negate:d}),e));return}if(s&&(c==="space"||f==="space")){n(cn(sx(hs(ube),d),e));return}if(l&&(c==="word"||f==="word")){n(Cl(QC("word",{negate:d}),e));return}if(c==="any")n(Cl(Du("Any"),e));else if(c==="digit")n(Cl(Du("Nd",{negate:d}),e));else if(c!=="dot")if(c==="grapheme"){if(o==="strict")throw new Error(Je`Use of "\X" requires non-strict accuracy`);const p=r?Je`\p{RGI_Emoji}`:Yge().source.replace(/\\u\{/g,"\\x{");n(cn(hs(Je`(?>\r\n|${p}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),e))}else if(c==="hex")n(Cl(Du("AHex",{negate:d}),e));else if(c==="newline")n(cn(hs(d?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),e));else if(c==="posix")if(!r&&(f==="graph"||f==="print")){if(o==="strict")throw new Error(`POSIX class "${f}" requires min target ES2024 or non-strict accuracy`);let p={graph:"!-~",print:" -~"}[f];d&&(p=`\0-${xn(p.codePointAt(0)-1)}${xn(p.codePointAt(2)+1)}-`),n(cn(hs(`[${p}]`),e))}else n(cn(sx(hs(mbe.get(f)),d),e));else if(c==="property")n2.has(n1(f))||(t.key="sc");else if(c==="space")n(Cl(Du("space",{negate:d}),e));else if(c==="word")n(cn(sx(hs(fs),d),e));else throw new Error(`Unexpected character set kind "${c}"`)},Directive({node:t,parent:e,root:n,remove:o,replaceWith:r,removeAllPrevSiblings:i,removeAllNextSiblings:s}){const{kind:l,flags:c}=t;if(l==="flags")if(!c.enable&&!c.disable)o();else{const d=Kr({flags:c});d.body[0].body=s(),r(cn(d,e),{traverse:!0})}else if(l==="keep"){const d=n.body[0],p=n.body.length===1&&g9(d,{type:"Group"})&&d.body[0].body.length===1?d.body[0]:n;if(e.parent!==p||p.body.length>1)throw new Error(Je`Uses "\K" in a way that's unsupported`);const m=za({behind:!0});m.body[0].body=i(),r(cn(m,e))}else throw new Error(`Unexpected directive kind "${l}"`)},Flags({node:t,parent:e}){if(t.posixIsAscii)throw new Error('Unsupported flag "P"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii"].forEach(n=>delete t[n]),Object.assign(t,{global:!1,hasIndices:!1,multiline:!1,sticky:t.sticky??!1}),e.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:t}){if(!t.flags)return;const{enable:e,disable:n}=t.flags;e!=null&&e.extended&&delete e.extended,n!=null&&n.extended&&delete n.extended,e!=null&&e.dotAll&&(n!=null&&n.dotAll)&&delete e.dotAll,e!=null&&e.ignoreCase&&(n!=null&&n.ignoreCase)&&delete e.ignoreCase,e&&!Object.keys(e).length&&delete t.flags.enable,n&&!Object.keys(n).length&&delete t.flags.disable,!t.flags.enable&&!t.flags.disable&&delete t.flags},LookaroundAssertion({node:t},e){const{kind:n}=t;n==="lookbehind"&&(e.passedLookbehind=!0)},NamedCallout({node:t,parent:e,replaceWith:n}){const{kind:o}=t;if(o==="fail")n(cn(za({negate:!0}),e));else throw new Error(`Unsupported named callout "(*${o.toUpperCase()}"`)},Quantifier({node:t}){if(t.body.type==="Quantifier"){const e=Kr();e.body[0].body.push(t.body),t.body=cn(e,t)}},Regex:{enter({node:t},{supportedGNodes:e}){const n=[];let o=!1,r=!1;for(const i of t.body)if(i.body.length===1&&i.body[0].kind==="search_start")i.body.pop();else{const s=N9(i.body);s?(o=!0,Array.isArray(s)?n.push(...s):n.push(s)):r=!0}o&&!r&&n.forEach(i=>e.add(i))},exit(t,{accuracy:e,passedLookbehind:n,strategy:o}){if(e==="strict"&&n&&o)throw new Error(Je`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:t},{jsGroupNameMap:e}){let{ref:n}=t;typeof n=="string"&&!ix(n)&&(n=rx(n,e),t.ref=n)}},vbe={Backreference({node:t},{multiplexCapturesToLeftByRef:e,reffedNodesByReferencer:n}){const{orphan:o,ref:r}=t;o||n.set(t,[...e.get(r).map(({node:i})=>i)])},CapturingGroup:{enter({node:t,parent:e,replaceWith:n,skip:o},{groupOriginByCopy:r,groupsByName:i,multiplexCapturesToLeftByRef:s,openRefs:l,reffedNodesByReferencer:c}){const d=r.get(t);if(d&&l.has(t.number)){const p=Cl(uD(t.number),e);c.set(p,l.get(t.number)),n(p);return}l.set(t.number,t),s.set(t.number,[]),t.name&&cp(s,t.name,[]);const f=s.get(t.name??t.number);for(let p=0;p<f.length;p++){const m=f[p];if(d===m.node||d&&d===m.origin||t===m.origin){f.splice(p,1);break}}if(s.get(t.number).push({node:t,origin:d}),t.name&&s.get(t.name).push({node:t,origin:d}),t.name){const p=cp(i,t.name,new Map);let m=!1;if(d)m=!0;else for(const b of p.values())if(!b.hasDuplicateNameToRemove){m=!0;break}i.get(t.name).set(t,{node:t,hasDuplicateNameToRemove:m})}},exit({node:t},{openRefs:e}){e.delete(t.number)}},Group:{enter({node:t},e){e.prevFlags=e.currentFlags,t.flags&&(e.currentFlags=Py(e.currentFlags,t.flags))},exit(t,e){e.currentFlags=e.prevFlags}},Subroutine({node:t,parent:e,replaceWith:n},o){const{isRecursive:r,ref:i}=t;if(r){let f=e;for(;(f=f.parent)&&!(f.type==="CapturingGroup"&&(f.name===i||f.number===i)););o.reffedNodesByReferencer.set(t,f);return}const s=o.subroutineRefMap.get(i),l=i===0,c=l?uD(0):A9(s,o.groupOriginByCopy,null);let d=c;if(!l){const f=R9(Cbe(s,m=>m.type==="Group"&&!!m.flags)),p=f?Py(o.globalFlags,f):o.globalFlags;kbe(p,o.currentFlags)||(d=Kr({flags:_be(p)}),d.body[0].body.push(c))}n(cn(d,e),{traverse:!l})}},wbe={Backreference({node:t,parent:e,replaceWith:n},o){if(t.orphan){o.highestOrphanBackref=Math.max(o.highestOrphanBackref,t.ref);return}const i=o.reffedNodesByReferencer.get(t).filter(s=>xbe(s,t));if(!i.length)n(cn(za({negate:!0}),e));else if(i.length>1){const s=Kr({atomic:!0,body:i.reverse().map(l=>kc({body:[JC(l.number)]}))});n(cn(s,e))}else t.ref=i[0].number},CapturingGroup({node:t},e){t.number=++e.numCapturesToLeft,t.name&&e.groupsByName.get(t.name).get(t).hasDuplicateNameToRemove&&delete t.name},Regex:{exit({node:t},e){const n=Math.max(e.highestOrphanBackref-e.numCapturesToLeft,0);for(let o=0;o<n;o++){const r=y9();t.body.at(-1).body.push(r)}}},Subroutine({node:t},e){!t.isRecursive||t.ref===0||(t.ref=e.reffedNodesByReferencer.get(t).number)}};function M9(t){xh(t,{"*"({node:e,parent:n}){e.parent=n}})}function kbe(t,e){return t.dotAll===e.dotAll&&t.ignoreCase===e.ignoreCase}function xbe(t,e){let n=e;do{if(n.type==="Regex")return!1;if(n.type==="Alternative")continue;if(n===t)return!1;const o=O9(n.parent);for(const r of o){if(r===n)break;if(r===t||D9(r,t))return!0}}while(n=n.parent);throw new Error("Unexpected path")}function A9(t,e,n,o){const r=Array.isArray(t)?[]:{};for(const[i,s]of Object.entries(t))i==="parent"?r.parent=Array.isArray(n)?o:n:s&&typeof s=="object"?r[i]=A9(s,e,r,n):(i==="type"&&s==="CapturingGroup"&&e.set(r,e.get(t)??t),r[i]=s);return r}function uD(t){const e=w9(t);return e.isRecursive=!0,e}function Cbe(t,e){const n=[];for(;t=t.parent;)(!e||e(t))&&n.push(t);return n}function rx(t,e){if(e.has(t))return e.get(t);const n=`$${e.size}_${t.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return e.set(t,n),n}function R9(t){const e=["dotAll","ignoreCase"],n={enable:{},disable:{}};return t.forEach(({flags:o})=>{e.forEach(r=>{var i,s;(i=o.enable)!=null&&i[r]&&(delete n.disable[r],n.enable[r]=!0),(s=o.disable)!=null&&s[r]&&(n.disable[r]=!0)})}),Object.keys(n.enable).length||delete n.enable,Object.keys(n.disable).length||delete n.disable,n.enable||n.disable?n:null}function _be({dotAll:t,ignoreCase:e}){const n={};return(t||e)&&(n.enable={},t&&(n.enable.dotAll=!0),e&&(n.enable.ignoreCase=!0)),(!t||!e)&&(n.disable={},!t&&(n.disable.dotAll=!0),!e&&(n.disable.ignoreCase=!0)),n}function O9(t){if(!t)throw new Error("Node expected");const{body:e}=t;return Array.isArray(e)?e:e?[e]:null}function N9(t){const e=t.find(n=>n.kind==="search_start"||Tbe(n,{negate:!1})||!Sbe(n));if(!e)return null;if(e.kind==="search_start")return e;if(e.type==="LookaroundAssertion")return e.body[0].body[0];if(e.type==="CapturingGroup"||e.type==="Group"){const n=[];for(const o of e.body){const r=N9(o.body);if(!r)return null;Array.isArray(r)?n.push(...r):n.push(r)}return n}return null}function D9(t,e){const n=O9(t)??[];for(const o of n)if(o===e||D9(o,e))return!0;return!1}function Sbe({type:t}){return t==="Assertion"||t==="Directive"||t==="LookaroundAssertion"}function Ebe(t){const e=["Character","CharacterClass","CharacterSet"];return e.includes(t.type)||t.type==="Quantifier"&&t.min&&e.includes(t.body.type)}function Tbe(t,e){const n={negate:null,...e};return t.type==="LookaroundAssertion"&&(n.negate===null||t.negate===n.negate)&&t.body.length===1&&g9(t.body[0],{type:"Assertion",kind:"search_start"})}function ix(t){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(t)}function hs(t,e){const o=b9(t,{...e,unicodePropertyMap:n2}).body;return o.length>1||o[0].body.length>1?Kr({body:o}):o[0].body[0]}function sx(t,e){return t.negate=e,t}function Cl(t,e){return t.parent=e,t}function cn(t,e){return M9(t),t.parent=e,t}function Mbe(t,e){const n=S9(e),o=t_(n.target,"ES2024"),r=t_(n.target,"ES2025"),i=n.rules.recursionLimit;if(!Number.isInteger(i)||i<2||i>20)throw new Error("Invalid recursionLimit; use 2-20");let s=null,l=null;if(!r){const b=[t.flags.ignoreCase];xh(t,Abe,{getCurrentModI:()=>b.at(-1),popModI(){b.pop()},pushModI(y){b.push(y)},setHasCasedChar(){b.at(-1)?s=!0:l=!0}})}const c={dotAll:t.flags.dotAll,ignoreCase:!!((t.flags.ignoreCase||s)&&!l)};let d=t;const f={accuracy:n.accuracy,appliedGlobalFlags:c,captureMap:new Map,currentFlags:{dotAll:t.flags.dotAll,ignoreCase:t.flags.ignoreCase},inCharClass:!1,lastNode:d,originMap:t._originMap,recursionLimit:i,useAppliedIgnoreCase:!!(!r&&s&&l),useFlagMods:r,useFlagV:o,verbose:n.verbose};function p(b){return f.lastNode=d,d=b,abe(Rbe[b.type],`Unexpected node type "${b.type}"`)(b,f,p)}const m={pattern:t.body.map(p).join("|"),flags:p(t.flags),options:{...t.options}};return o||(delete m.options.force.v,m.options.disable.v=!0,m.options.unicodeSetsPlugin=null),m._captureTransfers=new Map,m._hiddenCaptures=[],f.captureMap.forEach((b,y)=>{b.hidden&&m._hiddenCaptures.push(y),b.transferTo&&cp(m._captureTransfers,b.transferTo,[]).push(y)}),m}var Abe={"*":{enter({node:t},e){if(fD(t)){const n=e.getCurrentModI();e.pushModI(t.flags?Py({ignoreCase:n},t.flags).ignoreCase:n)}},exit({node:t},e){fD(t)&&e.popModI()}},Backreference(t,e){e.setHasCasedChar()},Character({node:t},e){o2(xn(t.value))&&e.setHasCasedChar()},CharacterClassRange({node:t,skip:e},n){e(),L9(t,{firstOnly:!0}).length&&n.setHasCasedChar()},CharacterSet({node:t},e){t.kind==="property"&&T9.has(t.value)&&e.setHasCasedChar()}},Rbe={Alternative({body:t},e,n){return t.map(n).join("")},Assertion({kind:t,negate:e}){if(t==="string_end")return"$";if(t==="string_start")return"^";if(t==="word_boundary")return e?Je`\B`:Je`\b`;throw new Error(`Unexpected assertion kind "${t}"`)},Backreference({ref:t},e){if(typeof t!="number")throw new Error("Unexpected named backref in transformed AST");if(!e.useFlagMods&&e.accuracy==="strict"&&e.currentFlags.ignoreCase&&!e.captureMap.get(t).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+t},CapturingGroup(t,e,n){const{body:o,name:r,number:i}=t,s={ignoreCase:e.currentFlags.ignoreCase},l=e.originMap.get(t);return l&&(s.hidden=!0,i>l.number&&(s.transferTo=l.number)),e.captureMap.set(i,s),`(${r?`?<${r}>`:""}${o.map(n).join("|")})`},Character({value:t},e){const n=xn(t),o=Su(t,{escDigit:e.lastNode.type==="Backreference",inCharClass:e.inCharClass,useFlagV:e.useFlagV});if(o!==n)return o;if(e.useAppliedIgnoreCase&&e.currentFlags.ignoreCase&&o2(n)){const r=E9(n);return e.inCharClass?r.join(""):r.length>1?`[${r.join("")}]`:r[0]}return n},CharacterClass(t,e,n){const{kind:o,negate:r,parent:i}=t;let{body:s}=t;if(o==="intersection"&&!e.useFlagV)throw new Error("Use of class intersection requires min target ES2024");md.bugLiteralHyphenIsRange&&e.useFlagV&&s.some(hD)&&(s=s.filter(d=>!hD(d)),s.push(t1(45)));const l=()=>`[${r?"^":""}${s.map(n).join(o==="intersection"?"&&":"")}]`;if(!e.inCharClass){if(!e.useFlagV&&!r){const f=s.filter(p=>p.type==="CharacterClass"&&p.kind==="union"&&p.negate);if(f.length){const p=Kr(),m=p.body[0];return p.parent=i,m.parent=p,s=s.filter(b=>!f.includes(b)),t.body=s,s.length?(t.parent=m,m.body.push(t)):p.body.pop(),f.forEach(b=>{const y=kc({body:[b]});b.parent=y,y.parent=p,p.body.push(y)}),n(p)}}e.inCharClass=!0;const d=l();return e.inCharClass=!1,d}const c=s[0];if(o==="union"&&!r&&c&&((!e.useFlagV||!e.verbose)&&i.kind==="union"&&!(md.bugLiteralHyphenIsRange&&e.useFlagV)||!e.verbose&&i.kind==="intersection"&&s.length===1&&c.type!=="CharacterClassRange"))return s.map(n).join("");if(!e.useFlagV&&i.type==="CharacterClass")throw new Error("Use of nested character class requires min target ES2024");return l()},CharacterClassRange(t,e){const n=t.min.value,o=t.max.value,r={escDigit:!1,inCharClass:!0,useFlagV:e.useFlagV},i=Su(n,r),s=Su(o,r),l=new Set;if(e.useAppliedIgnoreCase&&e.currentFlags.ignoreCase){const c=L9(t);Bbe(c).forEach(f=>{l.add(Array.isArray(f)?`${Su(f[0],r)}-${Su(f[1],r)}`:Su(f,r))})}return`${i}-${s}${[...l].join("")}`},CharacterSet({kind:t,negate:e,value:n,key:o},r){if(t==="dot")return r.currentFlags.dotAll?r.appliedGlobalFlags.dotAll||r.useFlagMods?".":"[^]":Je`[^\n]`;if(t==="digit")return e?Je`\D`:Je`\d`;if(t==="property"){if(r.useAppliedIgnoreCase&&r.currentFlags.ignoreCase&&T9.has(n))throw new Error(`Unicode property "${n}" can't be case-insensitive when other chars have specific case`);return`${e?Je`\P`:Je`\p`}{${o?`${o}=`:""}${n}}`}if(t==="word")return e?Je`\W`:Je`\w`;throw new Error(`Unexpected character set kind "${t}"`)},Flags(t,e){return(e.appliedGlobalFlags.ignoreCase?"i":"")+(t.dotAll?"s":"")+(t.sticky?"y":"")},Group({atomic:t,body:e,flags:n,parent:o},r,i){const s=r.currentFlags;n&&(r.currentFlags=Py(s,n));const l=e.map(i).join("|"),c=!r.verbose&&e.length===1&&o.type!=="Quantifier"&&!t&&(!r.useFlagMods||!n)?l:`(?${Ibe(t,n,r.useFlagMods)}${l})`;return r.currentFlags=s,c},LookaroundAssertion({body:t,kind:e,negate:n},o,r){return`(?${`${e==="lookahead"?"":"<"}${n?"!":"="}`}${t.map(r).join("|")})`},Quantifier(t,e,n){return n(t.body)+jbe(t)},Subroutine({isRecursive:t,ref:e},n){if(!t)throw new Error("Unexpected non-recursive subroutine in transformed AST");const o=n.recursionLimit;return e===0?`(?R=${o})`:Je`\g<${e}&R=${o}>`}},Obe=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Nbe=new Set(["-","\\","]","^","["]),Dbe=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),dD=new Map([[9,Je`\t`],[10,Je`\n`],[11,Je`\v`],[12,Je`\f`],[13,Je`\r`],[8232,Je`\u2028`],[8233,Je`\u2029`],[65279,Je`\uFEFF`]]),Lbe=new RegExp("^\\p{Cased}$","u");function o2(t){return Lbe.test(t)}function L9(t,e){const n=!!(e!=null&&e.firstOnly),o=t.min.value,r=t.max.value,i=[];if(o<65&&(r===65535||r>=131071)||o===65536&&r>=131071)return i;for(let s=o;s<=r;s++){const l=xn(s);if(!o2(l))continue;const c=E9(l).filter(d=>{const f=d.codePointAt(0);return f<o||f>r});if(c.length&&(i.push(...c),n))break}return i}function Su(t,{escDigit:e,inCharClass:n,useFlagV:o}){if(dD.has(t))return dD.get(t);if(t<32||t>126&&t<160||t>262143||e&&Pbe(t))return t>255?`\\u{${t.toString(16).toUpperCase()}}`:`\\x${t.toString(16).toUpperCase().padStart(2,"0")}`;const r=n?o?Dbe:Nbe:Obe,i=xn(t);return(r.has(i)?"\\":"")+i}function Bbe(t){const e=t.map(r=>r.codePointAt(0)).sort((r,i)=>r-i),n=[];let o=null;for(let r=0;r<e.length;r++)e[r+1]===e[r]+1?o??(o=e[r]):o===null?n.push(e[r]):(n.push([o,e[r]]),o=null);return n}function Ibe(t,e,n){if(t)return">";let o="";if(e&&n){const{enable:r,disable:i}=e;o=(r!=null&&r.ignoreCase?"i":"")+(r!=null&&r.dotAll?"s":"")+(i?"-":"")+(i!=null&&i.ignoreCase?"i":"")+(i!=null&&i.dotAll?"s":"")}return`${o}:`}function jbe({kind:t,max:e,min:n}){let o;return!n&&e===1?o="?":!n&&e===1/0?o="*":n===1&&e===1/0?o="+":n===e?o=`{${n}}`:o=`{${n},${e===1/0?"":e}}`,o+{greedy:"",lazy:"?",possessive:"+"}[t]}function fD({type:t}){return t==="CapturingGroup"||t==="Group"||t==="LookaroundAssertion"}function Pbe(t){return t>47&&t<58}function hD({type:t,value:e}){return t==="Character"&&e===45}var Ll,ys,Ya,Bl,Ja,up,n_,ql,$be=(ql=class extends RegExp{constructor(n,o,r){var e=(...O0e)=>(super(...O0e),Oa(this,up),Oa(this,Ll,new Map),Oa(this,ys,null),Oa(this,Ya),Oa(this,Bl,null),Oa(this,Ja,null),te(this,"rawOptions",{}),this);const i=!!(r!=null&&r.lazyCompile);if(n instanceof RegExp){if(r)throw new Error("Cannot provide options when copying a regexp");const s=n;e(s,o),Vr(this,Ya,s.source),s instanceof ql&&(Vr(this,Ll,ho(s,Ll)),Vr(this,Bl,ho(s,Bl)),Vr(this,Ja,ho(s,Ja)),this.rawOptions=s.rawOptions)}else{const s={hiddenCaptures:[],strategy:null,transfers:[],...r};e(i?"":n,o),Vr(this,Ya,n),Vr(this,Ll,zbe(s.hiddenCaptures,s.transfers)),Vr(this,Ja,s.strategy),this.rawOptions=r??{}}i||Vr(this,ys,this)}get source(){return ho(this,Ya)||"(?:)"}exec(n){if(!ho(this,ys)){const{lazyCompile:i,...s}=this.rawOptions;Vr(this,ys,new ql(ho(this,Ya),this.flags,s))}const o=this.global||this.sticky,r=this.lastIndex;if(ho(this,Ja)==="clip_search"&&o&&r){this.lastIndex=0;const i=bw(this,up,n_).call(this,n.slice(r));return i&&(Hbe(i,r,n,this.hasIndices),this.lastIndex+=r),i}return bw(this,up,n_).call(this,n)}},Ll=new WeakMap,ys=new WeakMap,Ya=new WeakMap,Bl=new WeakMap,Ja=new WeakMap,up=new WeakSet,n_=function(n){ho(this,ys).lastIndex=this.lastIndex;const o=XA(ql.prototype,this,"exec").call(ho(this,ys),n);if(this.lastIndex=ho(this,ys).lastIndex,!o||!ho(this,Ll).size)return o;const r=[...o];o.length=1;let i;this.hasIndices&&(i=[...o.indices],o.indices.length=1);const s=[0];for(let l=1;l<r.length;l++){const{hidden:c,transferTo:d}=ho(this,Ll).get(l)??{};if(c?s.push(null):(s.push(o.length),o.push(r[l]),this.hasIndices&&o.indices.push(i[l])),d&&r[l]!==void 0){const f=s[d];if(!f)throw new Error(`Invalid capture transfer to "${f}"`);if(o[f]=r[l],this.hasIndices&&(o.indices[f]=i[l]),o.groups){ho(this,Bl)||Vr(this,Bl,Vbe(this.source));const p=ho(this,Bl).get(d);p&&(o.groups[p]=r[l],this.hasIndices&&(o.indices.groups[p]=i[l]))}}}return o},ql);function Hbe(t,e,n,o){if(t.index+=e,t.input=n,o){const r=t.indices;for(let s=0;s<r.length;s++){const l=r[s];l&&(r[s]=[l[0]+e,l[1]+e])}const i=r.groups;i&&Object.keys(i).forEach(s=>{const l=i[s];l&&(i[s]=[l[0]+e,l[1]+e])})}}function zbe(t,e){const n=new Map;for(const o of t)n.set(o,{hidden:!0});for(const[o,r]of e)for(const i of r)cp(n,i,{}).transferTo=o;return n}function Vbe(t){const e=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map;let o=0,r=0,i;for(;i=e.exec(t);){const{0:s,groups:{capture:l,name:c}}=i;s==="["?o++:o?s==="]"&&o--:l&&(r++,c&&n.set(r,c))}return n}function Ube(t,e){const n=Fbe(t,e);return n.options?new $be(n.pattern,n.flags,n.options):new RegExp(n.pattern,n.flags)}function Fbe(t,e){const n=S9(e),o=b9(t,{flags:n.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline},skipBackrefValidation:n.rules.allowOrphanBackrefs,unicodePropertyMap:n2}),r=bbe(o,{accuracy:n.accuracy,asciiWordBoundaries:n.rules.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,bestEffortTarget:n.target}),i=Mbe(r,n),s=sbe(i.pattern,{captureTransfers:i._captureTransfers,hiddenCaptures:i._hiddenCaptures,mode:"external"}),l=rbe(s.pattern),c=obe(l.pattern,{captureTransfers:s.captureTransfers,hiddenCaptures:s.hiddenCaptures}),d={pattern:c.pattern,flags:`${n.hasIndices?"d":""}${n.global?"g":""}${i.flags}${i.options.disable.v?"u":"v"}`};if(n.avoidSubclass){if(n.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const f=c.hiddenCaptures.sort((y,w)=>y-w),p=Array.from(c.captureTransfers),m=r._strategy,b=d.pattern.length>=n.lazyCompileLength;(f.length||p.length||m||b)&&(d.options={...f.length&&{hiddenCaptures:f},...p.length&&{transfers:p},...m&&{strategy:m},...b&&{lazyCompile:b}})}return d}const pD=4294967295;class Gbe{constructor(e,n={}){te(this,"regexps");this.patterns=e,this.options=n;const{forgiving:o=!1,cache:r,regexConstructor:i}=n;if(!i)throw new Error("Option `regexConstructor` is not provided");this.regexps=e.map(s=>{if(typeof s!="string")return s;const l=r==null?void 0:r.get(s);if(l){if(l instanceof RegExp)return l;if(o)return null;throw l}try{const c=i(s);return r==null||r.set(s,c),c}catch(c){if(r==null||r.set(s,c),o)return null;throw c}})}findNextMatchSync(e,n,o){const r=typeof e=="string"?e:e.content,i=[];function s(l,c,d=0){return{index:l,captureIndices:c.indices.map(f=>f==null?{start:pD,end:pD,length:0}:{start:f[0]+d,end:f[1]+d,length:f[1]-f[0]})}}for(let l=0;l<this.regexps.length;l++){const c=this.regexps[l];if(c)try{c.lastIndex=n;const d=c.exec(r);if(!d)continue;if(d.index===n)return s(l,d,0);i.push([l,d,0])}catch(d){if(this.options.forgiving)continue;throw d}}if(i.length){const l=Math.min(...i.map(c=>c[1].index));for(const[c,d,f]of i)if(d.index===l)return s(c,d,f)}return null}}function qbe(t,e){return Ube(t,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...e})}function Kbe(t={}){const e=Object.assign({target:"auto",cache:new Map},t);return e.regexConstructor||(e.regexConstructor=n=>qbe(n,{target:e.target})),{createScanner(n){return new Gbe(n,e)},createString(n){return{content:n}}}}const Wbe={c:()=>we(()=>import("./c-CIbXcWqQ.js"),[]),cpp:()=>we(()=>import("./cpp-DTlOUqc1.js"),__vite__mapDeps([24,25,26,27,28])),"c++":()=>we(()=>import("./cpp-DTlOUqc1.js"),__vite__mapDeps([24,25,26,27,28])),css:()=>we(()=>import("./css-CCCP2wri.js"),[]),glsl:()=>we(()=>import("./glsl-Wc52g4AW.js"),__vite__mapDeps([26,27])),graphql:()=>we(()=>import("./graphql-NPlBKHje.js"),__vite__mapDeps([29,30,31,32,33])),gql:()=>we(()=>import("./graphql-NPlBKHje.js"),__vite__mapDeps([29,30,31,32,33])),haml:()=>we(()=>import("./haml-CeK6sT44.js"),__vite__mapDeps([34,30,35])),html:()=>we(()=>import("./html-BnRkEsSS.js"),__vite__mapDeps([36,30,35])),java:()=>we(()=>import("./java-d64Zf6Yp.js"),[]),javascript:()=>we(()=>import("./javascript-DH96G3dA.js"),[]),js:()=>we(()=>import("./javascript-DH96G3dA.js"),[]),json:()=>we(()=>import("./json-MtVCqODg.js"),[]),jsonc:()=>we(()=>import("./jsonc-BY96ZF9p.js"),[]),jsonl:()=>we(()=>import("./jsonl-C4VksMDG.js"),[]),jsx:()=>we(()=>import("./jsx-Ziv-oX7x.js"),[]),julia:()=>we(()=>import("./julia-C4Ub1eE6.js"),__vite__mapDeps([37,24,25,26,27,28,38,30,39])),jl:()=>we(()=>import("./julia-C4Ub1eE6.js"),__vite__mapDeps([37,24,25,26,27,28,38,30,39])),less:()=>we(()=>import("./less-Dg1kt7ov.js"),[]),markdown:()=>we(()=>import("./markdown-CdPVnR2q.js"),[]),md:()=>we(()=>import("./markdown-CdPVnR2q.js"),[]),mdx:()=>we(()=>import("./mdx-CHC0rmeP.js"),[]),php:()=>we(()=>import("./php-ttjKHrWn.js"),__vite__mapDeps([40,36,30,35,41,42,28,43])),postcss:()=>we(()=>import("./postcss-Lc9p0BGC.js"),[]),pug:()=>we(()=>import("./pug-C2xMF9Oy.js"),__vite__mapDeps([44,30,35,36])),jade:()=>we(()=>import("./pug-C2xMF9Oy.js"),__vite__mapDeps([44,30,35,36])),python:()=>we(()=>import("./python-CMF7I41B.js"),[]),py:()=>we(()=>import("./python-CMF7I41B.js"),[]),r:()=>we(()=>import("./r-CLuuQXBn.js"),[]),regexp:()=>we(()=>import("./regexp-BQv5Oyoy.js"),[]),regex:()=>we(()=>import("./regexp-BQv5Oyoy.js"),[]),sass:()=>we(()=>import("./sass-DwMelvTf.js"),[]),scss:()=>we(()=>import("./scss-CCf1fKDC.js"),__vite__mapDeps([45,35])),shellscript:()=>we(()=>import("./shellscript-X5FKwdA4.js"),[]),bash:()=>we(()=>import("./shellscript-X5FKwdA4.js"),[]),sh:()=>we(()=>import("./shellscript-X5FKwdA4.js"),[]),shell:()=>we(()=>import("./shellscript-X5FKwdA4.js"),[]),zsh:()=>we(()=>import("./shellscript-X5FKwdA4.js"),[]),sql:()=>we(()=>import("./sql-BkwqDsxr.js"),[]),svelte:()=>we(()=>import("./svelte-RjJvQpEn.js"),__vite__mapDeps([46,30,31,35,47])),typescript:()=>we(()=>import("./typescript-fZl0lXAA.js"),[]),ts:()=>we(()=>import("./typescript-fZl0lXAA.js"),[]),vue:()=>we(()=>import("./vue-DtUAZAf7.js"),__vite__mapDeps([48,36,30,35,31,43])),"vue-html":()=>we(()=>import("./vue-html-GfCH5O97.js"),__vite__mapDeps([49,48,36,30,35,31,43])),wasm:()=>we(()=>import("./wasm-O3whNjSJ.js"),[]),wgsl:()=>we(()=>import("./wgsl-B_-VCzAW.js"),[]),xml:()=>we(()=>import("./xml-Ciz7HToh.js"),__vite__mapDeps([41,42])),yaml:()=>we(()=>import("./yaml-D9v5iH38.js"),[]),yml:()=>we(()=>import("./yaml-D9v5iH38.js"),[]),tsx:()=>we(()=>import("./tsx-K7AzAoyv.js"),[]),typescriptreact:()=>we(()=>import("./tsx-K7AzAoyv.js"),[]),haskell:()=>we(()=>import("./haskell-BW0wEBCb.js"),[]),hs:()=>we(()=>import("./haskell-BW0wEBCb.js"),[]),"c#":()=>we(()=>import("./csharp-D_wKiSq2.js"),[]),csharp:()=>we(()=>import("./csharp-D_wKiSq2.js"),[]),cs:()=>we(()=>import("./csharp-D_wKiSq2.js"),[]),latex:()=>we(()=>import("./latex-BHcZmUqB.js"),__vite__mapDeps([50,39])),lua:()=>we(()=>import("./lua-DnaO6Q5L.js"),__vite__mapDeps([51,27])),mermaid:()=>we(()=>import("./mermaid-CPb9c0lF.js"),[]),mmd:()=>we(()=>import("./mermaid-CPb9c0lF.js"),[]),ruby:()=>we(()=>import("./ruby-DC6CaxEq.js"),__vite__mapDeps([52,36,30,35,34,41,42,28,29,31,32,33,24,25,26,27,53,51,54])),rb:()=>we(()=>import("./ruby-DC6CaxEq.js"),__vite__mapDeps([52,36,30,35,34,41,42,28,29,31,32,33,24,25,26,27,53,51,54])),rust:()=>we(()=>import("./rust-DDYRqtrA.js"),[]),rs:()=>we(()=>import("./rust-DDYRqtrA.js"),[]),scala:()=>we(()=>import("./scala-94tvZojb.js"),[]),swift:()=>we(()=>import("./swift-D0KJ6XA0.js"),[]),kotlin:()=>we(()=>import("./kotlin-1ldB5fPi.js"),[]),kt:()=>we(()=>import("./kotlin-1ldB5fPi.js"),[]),kts:()=>we(()=>import("./kotlin-1ldB5fPi.js"),[]),"objective-c":()=>we(()=>import("./objective-c-CvooJqzR.js"),[]),objc:()=>we(()=>import("./objective-c-CvooJqzR.js"),[])},Zbe={"github-dark":()=>we(()=>import("./github-dark-DHJKELXO.js"),[]),"github-light":()=>we(()=>import("./github-light-DAi9KRSo.js"),[])},Xbe=sge({langs:Wbe,themes:Zbe,engine:()=>Kbe()}),Ybe={defaultLanguage:"javascript",supportedLanguages:{text:{name:"Plain Text",aliases:["text","txt","plain"]},c:{name:"C",aliases:["c"]},cpp:{name:"C++",aliases:["cpp","c++"]},css:{name:"CSS",aliases:["css"]},glsl:{name:"GLSL",aliases:["glsl"]},graphql:{name:"GraphQL",aliases:["graphql","gql"]},haml:{name:"Ruby Haml",aliases:["haml"]},html:{name:"HTML",aliases:["html"]},java:{name:"Java",aliases:["java"]},javascript:{name:"JavaScript",aliases:["javascript","js"]},json:{name:"JSON",aliases:["json"]},jsonc:{name:"JSON with Comments",aliases:["jsonc"]},jsonl:{name:"JSON Lines",aliases:["jsonl"]},jsx:{name:"JSX",aliases:["jsx"]},julia:{name:"Julia",aliases:["julia","jl"]},less:{name:"Less",aliases:["less"]},markdown:{name:"Markdown",aliases:["markdown","md"]},mdx:{name:"MDX",aliases:["mdx"]},php:{name:"PHP",aliases:["php"]},postcss:{name:"PostCSS",aliases:["postcss"]},pug:{name:"Pug",aliases:["pug","jade"]},python:{name:"Python",aliases:["python","py"]},r:{name:"R",aliases:["r"]},regexp:{name:"RegExp",aliases:["regexp","regex"]},sass:{name:"Sass",aliases:["sass"]},scss:{name:"SCSS",aliases:["scss"]},shellscript:{name:"Shell",aliases:["shellscript","bash","sh","shell","zsh"]},sql:{name:"SQL",aliases:["sql"]},svelte:{name:"Svelte",aliases:["svelte"]},typescript:{name:"TypeScript",aliases:["typescript","ts"]},vue:{name:"Vue",aliases:["vue"]},"vue-html":{name:"Vue HTML",aliases:["vue-html"]},wasm:{name:"WebAssembly",aliases:["wasm"]},wgsl:{name:"WGSL",aliases:["wgsl"]},xml:{name:"XML",aliases:["xml"]},yaml:{name:"YAML",aliases:["yaml","yml"]},tsx:{name:"TSX",aliases:["tsx","typescriptreact"]},haskell:{name:"Haskell",aliases:["haskell","hs"]},csharp:{name:"C#",aliases:["c#","csharp","cs"]},latex:{name:"LaTeX",aliases:["latex"]},lua:{name:"Lua",aliases:["lua"]},mermaid:{name:"Mermaid",aliases:["mermaid","mmd"]},ruby:{name:"Ruby",aliases:["ruby","rb"]},rust:{name:"Rust",aliases:["rust","rs"]},scala:{name:"Scala",aliases:["scala"]},swift:{name:"Swift",aliases:["swift"]},kotlin:{name:"Kotlin",aliases:["kotlin","kt","kts"]},"objective-c":{name:"Objective C",aliases:["objective-c","objc"]}},createHighlighter:()=>Xbe({themes:["github-dark","github-light"],langs:[]})};function Jbe(t){const[,e]=whe(t,{defaultValue:t.initialBlocks,trigger:"onBlocksChange"}),n=t.locale||"zh",o={...Rfe[n],multi_column:Wfe[n]},r=O0({dropCursor:nhe,dictionary:o,initialContent:t.initialBlocks,schema:ehe(xd.create()),tables:{cellBackgroundColor:!0},uploadFile:async s=>URL.createObjectURL(s),codeBlock:Ybe});S7(()=>{e(r.document)});const i=S.useMemo(()=>async s=>Oj(Pne(nP(r),phe(r)),s),[r]);return C.jsx(y7,{theme:t.theme,editable:!t.readOnly,lang:"zh",editor:r,onChange:()=>{e(r.document)},children:C.jsx(oP,{triggerCharacter:"/",getItems:i})})}const Ch={};function mD(t){var e;t.id&&((e=Ch[t.id])==null||e.call(Ch,t))}function Qbe(t){const[e,n]=S.useState(t);return yhe(()=>{Ch[t.id]=n}),S7(()=>{delete Ch[t.id]}),C.jsx(Jbe,{...e})}const eye=gd({name:"RichTextEditor",props:{initialBlocks:{type:Array},onBlocksChange:{type:Function},readOnly:{type:Boolean,default:!1},theme:{type:String,default:"light"}},setup(t){const e=rb(),n=rb({id:`rich-text-editor-${Date.now()}-${Math.random()}`,initialBlocks:t.initialBlocks,readOnly:t.readOnly,theme:t.theme,onBlocksChange:o=>{var r;(r=t.onBlocksChange)==null||r.call(t,o)}});return sh(()=>t.theme,()=>{n.value={...n.value,theme:t.theme},mD(n.value)}),sh(()=>t.readOnly,()=>{n.value={...n.value,readOnly:t.readOnly},mD(n.value)}),QD(()=>{ML.createRoot(e.value).render(S.createElement(S.StrictMode,null,S.createElement(Qbe,n.value)))}),()=>oV("div",{ref:e})}}),r2=Object.prototype.toString;function o_(t){return r2.call(t)==="[object Array]"}function tye(t){return r2.call(t)==="[object String]"}function B9(t){return r2.call(t)==="[object Number]"&&t===t}const I9=Symbol("ArcoConfigProvider"),nye="A",oye="arco",r_="$arco",j9=t=>{var e;return(e=t==null?void 0:t.componentPrefix)!=null?e:nye},P9=(t,e)=>{var n;e&&e.classPrefix&&(t.config.globalProperties[r_]={...(n=t.config.globalProperties[r_])!=null?n:{},classPrefix:e.classPrefix})},r1=t=>{var e,n,o;const r=Xz(),i=Vl(I9,void 0),s=(o=(n=i==null?void 0:i.prefixCls)!=null?n:(e=r==null?void 0:r.appContext.config.globalProperties[r_])==null?void 0:e.classPrefix)!=null?o:oye;return t?`${s}-${t}`:s},rye=t=>!!(t&&t.shapeFlag&1),iye=(t,e)=>!!(t&&t.shapeFlag&6),sye=(t,e)=>!!(t&&t.shapeFlag&8),lye=(t,e)=>!!(t&&t.shapeFlag&16),aye=(t,e)=>!!(t&&t.shapeFlag&32),nb=(t,e=!1)=>{var n,o;const r=[];for(const i of t??[])rye(i)||iye(i)||e&&sye(i,i.children)?r.push(i):lye(i,i.children)?r.push(...nb(i.children,e)):aye(i,i.children)?r.push(...nb((o=(n=i.children).default)==null?void 0:o.call(n),e)):o_(i)&&r.push(...nb(i,e));return r};var i2=(t,e)=>{for(const[n,o]of e)t[n]=o;return t};const cye=gd({name:"IconLoading",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:t=>["butt","round","square"].includes(t)},strokeLinejoin:{type:String,default:"miter",validator:t=>["arcs","bevel","miter","miter-clip","round"].includes(t)},rotate:Number,spin:Boolean},emits:{click:t=>!0},setup(t,{emit:e}){const n=r1("icon"),o=sr(()=>[n,`${n}-loading`,{[`${n}-spin`]:t.spin}]),r=sr(()=>{const s={};return t.size&&(s.fontSize=B9(t.size)?`${t.size}px`:t.size),t.rotate&&(s.transform=`rotate(${t.rotate}deg)`),s});return{cls:o,innerStyle:r,onClick:s=>{e("click",s)}}}}),uye=["stroke-width","stroke-linecap","stroke-linejoin"];function dye(t,e,n,o,r,i){return Do(),Cs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:xs(t.cls),style:Fy(t.innerStyle),"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin,onClick:e[0]||(e[0]=(...s)=>t.onClick&&t.onClick(...s))},e[1]||(e[1]=[Sr("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6"},null,-1)]),14,uye)}var lx=i2(cye,[["render",dye]]);const fye=Object.assign(lx,{install:(t,e)=>{var n;const o=(n=e==null?void 0:e.iconPrefix)!=null?n:"";t.component(o+lx.name,lx)}}),hye=Symbol("ArcoFormItemContext"),pye=({size:t,disabled:e,error:n,uninject:o}={})=>{const r=o?{}:Vl(hye,{}),i=sr(()=>{var f;return(f=t==null?void 0:t.value)!=null?f:r.size}),s=sr(()=>(e==null?void 0:e.value)||r.disabled),l=sr(()=>(n==null?void 0:n.value)||r.error),c=eR(r,"feedback"),d=eR(r,"eventHandlers");return{formItemCtx:r,mergedSize:i,mergedDisabled:s,mergedError:l,feedback:c,eventHandlers:d}},mye=(t,{defaultValue:e="medium"}={})=>{const n=Vl(I9,void 0);return{mergedSize:sr(()=>{var r,i;return(i=(r=t==null?void 0:t.value)!=null?r:n==null?void 0:n.size)!=null?i:e})}},$9=Symbol("ArcoButtonGroup"),gye=gd({name:"Button",components:{IconLoading:fye},props:{type:{type:String},shape:{type:String},status:{type:String},size:{type:String},long:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean},htmlType:{type:String,default:"button"},autofocus:{type:Boolean,default:!1},href:String},emits:{click:t=>!0},setup(t,{emit:e}){const{size:n,disabled:o}=UD(t),r=r1("btn"),i=Vl($9,void 0),s=sr(()=>{var b;return(b=n.value)!=null?b:i==null?void 0:i.size}),l=sr(()=>!!(o.value||i!=null&&i.disabled)),{mergedSize:c,mergedDisabled:d}=pye({size:s,disabled:l}),{mergedSize:f}=mye(c),p=sr(()=>{var b,y,w,x,_,T;return[r,`${r}-${(y=(b=t.type)!=null?b:i==null?void 0:i.type)!=null?y:"secondary"}`,`${r}-shape-${(x=(w=t.shape)!=null?w:i==null?void 0:i.shape)!=null?x:"square"}`,`${r}-size-${f.value}`,`${r}-status-${(T=(_=t.status)!=null?_:i==null?void 0:i.status)!=null?T:"normal"}`,{[`${r}-long`]:t.long,[`${r}-loading`]:t.loading,[`${r}-disabled`]:d.value,[`${r}-link`]:tye(t.href)}]});return{prefixCls:r,cls:p,mergedDisabled:d,handleClick:b=>{if(t.disabled||t.loading){b.preventDefault();return}e("click",b)}}}}),bye=["href"],yye=["type","disabled","autofocus"];function vye(t,e,n,o,r,i){const s=fz("icon-loading");return t.href?(Do(),Cs("a",{key:0,class:xs([t.cls,{[`${t.prefixCls}-only-icon`]:t.$slots.icon&&!t.$slots.default}]),href:t.mergedDisabled||t.loading?void 0:t.href,onClick:e[0]||(e[0]=(...l)=>t.handleClick&&t.handleClick(...l))},[t.loading||t.$slots.icon?(Do(),Cs("span",{key:0,class:xs(`${t.prefixCls}-icon`)},[t.loading?(Do(),Mh(s,{key:0,spin:"true"})):qf(t.$slots,"icon",{key:1})],2)):fR("v-if",!0),qf(t.$slots,"default")],10,bye)):(Do(),Cs("button",{key:1,class:xs([t.cls,{[`${t.prefixCls}-only-icon`]:t.$slots.icon&&!t.$slots.default}]),type:t.htmlType,disabled:t.mergedDisabled,autofocus:t.autofocus,onClick:e[1]||(e[1]=(...l)=>t.handleClick&&t.handleClick(...l))},[t.loading||t.$slots.icon?(Do(),Cs("span",{key:0,class:xs(`${t.prefixCls}-icon`)},[t.loading?(Do(),Mh(s,{key:0,spin:!0})):qf(t.$slots,"icon",{key:1})],2)):fR("v-if",!0),qf(t.$slots,"default")],10,yye))}var ax=i2(gye,[["render",vye]]);const wye=gd({name:"ButtonGroup",props:{type:{type:String},status:{type:String},shape:{type:String},size:{type:String},disabled:{type:Boolean}},setup(t){const{type:e,size:n,status:o,disabled:r,shape:i}=UD(t),s=r1("btn-group");return iL($9,Gy({type:e,size:n,shape:i,status:o,disabled:r})),{prefixCls:s}}});function kye(t,e,n,o,r,i){return Do(),Cs("div",{class:xs(t.prefixCls)},[qf(t.$slots,"default")],2)}var cx=i2(wye,[["render",kye]]);const gD=Object.assign(ax,{Group:cx,install:(t,e)=>{P9(t,e);const n=j9(e);t.component(n+ax.name,ax),t.component(n+cx.name,cx)}});var ux=gd({name:"Space",props:{align:{type:String},direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:"small"},wrap:{type:Boolean},fill:{type:Boolean}},setup(t,{slots:e}){const n=r1("space"),o=sr(()=>{var l;return(l=t.align)!=null?l:t.direction==="horizontal"?"center":""}),r=sr(()=>[n,{[`${n}-${t.direction}`]:t.direction,[`${n}-align-${o.value}`]:o.value,[`${n}-wrap`]:t.wrap,[`${n}-fill`]:t.fill}]);function i(l){if(B9(l))return l;switch(l){case"mini":return 4;case"small":return 8;case"medium":return 16;case"large":return 24;default:return 8}}const s=l=>{const c={},d=`${i(o_(t.size)?t.size[0]:t.size)}px`,f=`${i(o_(t.size)?t.size[1]:t.size)}px`;return l?t.wrap?{marginBottom:f}:{}:(t.direction==="horizontal"&&(c.marginRight=d),(t.direction==="vertical"||t.wrap)&&(c.marginBottom=f),c)};return()=>{var l;const c=nb((l=e.default)==null?void 0:l.call(e),!0).filter(d=>d.type!==Bs);return on("div",{class:r.value},[c.map((d,f)=>{var p,m;const b=e.split&&f>0;return on(yo,{key:(p=d.key)!=null?p:`item-${f}`},[b&&on("div",{class:`${n}-item-split`,style:s(!1)},[(m=e.split)==null?void 0:m.call(e)]),on("div",{class:`${n}-item`,style:s(f===c.length-1)},[d])])})])}}});const xye=Object.assign(ux,{install:(t,e)=>{P9(t,e);const n=j9(e);t.component(n+ux.name,ux)}}),Cye=[{id:"beb8c156-4310-43e0-aea2-e2787e84b3ad",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:2},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"eaea2332-9417-4f5c-8150-8c341eba3212",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"2b3f4427-446a-42f7-b8fd-24a48e6329e9",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:" ",styles:{}},{type:"text",text:" ",styles:{bold:!0,textColor:"purple"}},{type:"text",text:",  ",styles:{}},{type:"text",text:"",styles:{backgroundColor:"yellow"}}],children:[]},{id:"5630aeef-a9da-4746-983a-d91c4756b677",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"center"},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"274c75a7-1ab7-4087-a088-f9ed0d7f89c1",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"right"},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"ee60daf4-426a-4303-b36c-bae4ee7ca152",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"Tab,",styles:{}}],children:[{id:"7734fe13-a249-4afa-ae6d-808bb97a0b41",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[{id:"6fe80fe2-1eb7-4fd0-b5b7-f48b08861039",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[{id:"58442c1e-3df0-4233-a66d-1cff6a419ab4",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]}]}]}]},{id:"22dbae54-dcf5-409b-9aff-c4cf9e146e44",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"8836dbc9-6072-46b4-89f1-6f0991cd59a5",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"a11f15ff-5397-42bf-b74a-64a2dd7fc1d9",type:"quote",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:",  #",styles:{}}],children:[]},{id:"d1396582-3d0c-45ec-9dbf-df40be83476b",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:" heading level 1",styles:{}}],children:[]},{id:"f3a81094-83df-43cb-a087-0d97db3038aa",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:2},content:[{type:"text",text:" heading level 2",styles:{}}],children:[]},{id:"e8003683-5351-49fc-8e07-e462c73057c6",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:3},content:[{type:"text",text:" heading level 3",styles:{}}],children:[]},{id:"2ccb4f21-756c-4f18-b841-b93eeef7b392",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"9c5e4067-4154-4c2a-9648-0a3a10f6d2c8",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"736ad70a-8e4a-4931-a8fa-20d5b7f01aed",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"  ",styles:{}}],children:[]},{id:"f8bc2926-f61b-4c40-b310-f38a8a1b126d",type:"quote",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:"   ",styles:{}},{type:"text",text:"checklist",styles:{bold:!0,underline:!0}},{type:"text",text:", ,  markdown ",styles:{}}],children:[]},{id:"797a1a30-27d0-43c1-8d73-9d922934e466",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"e81b7552-ee21-4244-8e6c-ff2725d6a351",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"6e1d622c-1bc1-40c4-9081-7128d047929d",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[{id:"ef0470c5-b5df-4a7b-828a-18c3e69ced46",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[{id:"e5294930-2779-43cd-9408-1603f41e260e",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[{id:"c100b260-42a5-4909-aaee-cc18c6fbc4fe",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[{id:"955f243d-893b-42cb-8d1b-7ed2b2030638",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]}]}]}]}]},{id:"ddf1ebd5-213e-4a12-8d1f-357d9177833e",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[{id:"a089816c-1228-4ded-ae8b-8843717ebab1",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"daf01539-99cb-40b0-beb1-417f240d4347",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]}]},{id:"c799146c-9260-4cb5-a3d1-58271316b8ea",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"1e25d08a-0d0f-4634-b20e-a54808967b50",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"c0597bdc-7520-433e-aab4-c2de84dd0e63",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"checklist",styles:{}}],children:[]},{id:"f3588ed9-dd3b-47b0-afc0-5b01fb70eeff",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"undo",styles:{}}],children:[]},{id:"b5324b32-4164-4955-8605-77f76a8d05a3",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!0},content:[{type:"text",text:"done",styles:{}}],children:[{id:"baeb6f88-5ba2-44fe-af70-003b9a0a31b3",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"4b734d9e-4eed-43d1-8dac-ba0e9e4f55f7",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]}]},{id:"0195a697-da2b-433f-b0b0-8f8c0c938a3c",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"d83ecd72-ed32-4c77-beaa-4a5f05b7b250",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"bed6f6d3-9dd5-4482-b67d-d0cb5b7ad291",type:"codeBlock",props:{language:"typescript"},content:[{type:"text",text:`export type RichTextEditorProps = {   
  id: string;   
  initialBlocks?: Block[];   
  onBlocksChange?: (blocks: Block[]) => void;   
  readOnly?: boolean;   
  theme?: 'light' | 'dark';   
  locale: 'zh' | 'en'; 
};`,styles:{}}],children:[]},{id:"7d09069d-33b3-4192-b6cc-2896fc2a6b19",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"798d0f75-3691-402d-862b-b1a40a5381d9",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"daf24e84-45ed-4b93-9994-c91353440974",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"c6722bf5-9916-4f95-a3c8-df115b643d78",type:"table",props:{textColor:"default"},content:{type:"tableContent",columnWidths:[120,390,287],rows:[{cells:[{type:"tableCell",content:[{type:"text",text:"",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"blue",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:"",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"blue",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:"",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"blue",textColor:"default",textAlignment:"left"}}]},{cells:[{type:"tableCell",content:[{type:"text",text:"2222222",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:"33333333",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:"111111111",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]}]},children:[]},{id:"4519bf66-6739-4db6-b30c-b9d7c2b890ec",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"7b98c08d-1273-4c13-b3ae-6022570d4eb3",type:"quote",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:" , demo, , ",styles:{}}],children:[]},{id:"47d725e3-89fd-4c0d-941f-781779cb8f33",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"24ac2569-53fd-4c8f-8593-44de9e6a45cf",type:"table",props:{textColor:"default"},content:{type:"tableContent",columnWidths:[null,null,null],rows:[{cells:[{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]},{cells:[{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]}]},children:[]},{id:"f3f48912-6eab-4767-8170-bf2d17e78560",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"887e7dcf-723d-46fe-bf27-118f97e24a5d",type:"columnList",props:{},children:[{id:"acf39c4d-cb1a-4fd6-8f06-3a8d17183a63",type:"column",props:{width:.9215686274509803},children:[{id:"8d282ce2-2c95-4e8d-bdef-1f9a959afa27",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"6589192c-4013-4359-9994-93809162dba5",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]}]},{id:"0ef4596c-8956-43ea-9116-6fcb5e5ccef6",type:"column",props:{width:1.0784313725490198},children:[{id:"74bc948b-5081-4847-a063-24ca23d69d60",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]},{id:"b8df266a-1dba-43e5-9db8-a0c41ffeede4",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"",styles:{}}],children:[]}]}]},{id:"08c2453e-9617-4a03-aa0c-f17f3d52c92b",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]}];function bD(t,e){const n=rb(_ye(t,e));return sr({get(){return n.value},set(o){n.value=o,Sye(t,o)}})}function _ye(t,e){return new URLSearchParams(location.search).get(t)||e}function Sye(t,e){const n=new URLSearchParams(location.search);return e===void 0?n.delete(t):n.set(t,e||""),location.replace(`${location.pathname}?${n.toString()}`),new URLSearchParams(location.search).get(t)||e}const Eye={class:"wrapper"},Tye={class:"header"},Mye={class:"content"},Aye={class:"left"},Rye={class:"right"},Oye={class:"inner bordered"},Nye=gd({__name:"App",setup(t){const e=rb(Cye),n=bD("theme","light"),o=bD("readOnly","false");return(r,i)=>(Do(),Cs("div",Eye,[Sr("div",Tye,[on(Ur(xye),null,{default:Dg(()=>[i[3]||(i[3]=Sr("span",null," BlockNote Editor ",-1)),on(Ur(gD),{type:"primary",onClick:i[0]||(i[0]=()=>{n.value=Ur(n)=="dark"?"light":"dark"})},{default:Dg(()=>[Tu(":"+dx(Ur(n)),1)]),_:1}),on(Ur(gD),{type:"text",onClick:i[1]||(i[1]=s=>o.value=Ur(o)==="true"?"false":"true")},{default:Dg(()=>[Ur(o)?(Do(),Cs(yo,{key:0},[Tu("  ")],64)):(Do(),Cs(yo,{key:1},[Tu("  ")],64))]),_:1})]),_:1})]),Sr("div",Mye,[Sr("div",Aye,[on(Ur(eye),{theme:Ur(n),readOnly:Ur(o)==="true",initialBlocks:e.value,onBlocksChange:i[2]||(i[2]=s=>{e.value=s})},null,8,["theme","readOnly","initialBlocks"])]),Sr("div",Rye,[i[6]||(i[6]=Sr("div",null,"Document JSON:",-1)),Sr("div",Oye,[Sr("pre",null,[i[4]||(i[4]=Tu("        ")),Sr("code",null,dx(JSON.stringify(e.value,null,2)),1),i[5]||(i[5]=Tu(`
      `))])])])])]))}}),Dye=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},Lye=Dye(Nye,[["__scopeId","data-v-defc152b"]]);TV(Lye).mount("#root");export{$be as E,Wye as a,P3 as c,hpe as f,EL as g,gpe as h,WC as n,Zye as p,Z7 as s,wme as t,qE as w,bpe as z};
