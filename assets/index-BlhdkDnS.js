const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CEUMQ-3D.js","assets/index-Bkohaulx.js","assets/index-Ch_qCilz.js","assets/default-0Dp3JUBc.js","assets/index-pKkhxeVP.js","assets/index-DpC7rhZX.js","assets/index-6FA2CVk0.js","assets/index-Dyr5PCx-.js","assets/index-BdmKeUBW.js","assets/index-BPPMY0GR.js","assets/index-DpipQwVu.js","assets/index-DTzQ7r7Q.js","assets/index-BiBm3qPN.js","assets/index-C_aolqmU.js","assets/index-cPsK_08l.js","assets/blank-line-D3C7De5j.js","assets/index-hRuAkC1j.js","assets/index-UBgLExeH.js","assets/index-UrwFYu9c.js","assets/index-VGjH97st.js","assets/index-Tlm8e_FK.js","assets/index-BxE2facF.js","assets/index-Dw8e9nLW.js","assets/index-CgNcx-yo.js","assets/cpp-D82uecsE.js","assets/regexp-BQv5Oyoy.js","assets/glsl-h0hsPDtH.js","assets/c-DQELURDk.js","assets/sql-CRwShwgG.js","assets/graphql-B3yvHD_M.js","assets/javascript-DnWxMo7b.js","assets/typescript-BmIb1rS1.js","assets/jsx-CuJo4zxc.js","assets/tsx-DGLEtJaR.js","assets/haml-CR9E6aXY.js","assets/css-BoQQxBie.js","assets/html-DsBkTFdy.js","assets/julia-Bw3RQhdT.js","assets/python-l0_EA7WF.js","assets/r-Bp2dwu96.js","assets/php-6QytEjo7.js","assets/xml-DA7scxi1.js","assets/java-Bbr7hVXb.js","assets/json-MtVCqODg.js","assets/pug-B_BsH3BW.js","assets/scss-DFuTukr_.js","assets/svelte-D-kKjIIQ.js","assets/postcss-Lc9p0BGC.js","assets/vue-DXfpG9_P.js","assets/vue-html-B2oM6NB2.js","assets/latex-DDC6e2Q9.js","assets/lua-pktYF_7c.js","assets/ruby-Cpns1qvJ.js","assets/shellscript-DZRudzCt.js","assets/yaml-BOK0MEqo.js"])))=>i.map(i=>d[i]);
var u$=Object.defineProperty;var d$=Object.getPrototypeOf;var f$=Reflect.get;var g3=t=>{throw TypeError(t)};var h$=(t,e,n)=>e in t?u$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ae=(t,e,n)=>h$(t,typeof e!="symbol"?e+"":e,n),kE=(t,e,n)=>e.has(t)||g3("Cannot "+n);var Go=(t,e,n)=>(kE(t,e,"read from private field"),n?n.call(t):e.get(t)),Dh=(t,e,n)=>e.has(t)?g3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Dl=(t,e,n,r)=>(kE(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),CE=(t,e,n)=>(kE(t,e,"access private method"),n);var b3=(t,e,n)=>f$(d$(t),n,e);function p$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pA(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const _n={},tm=[],ca=()=>{},m$=()=>!1,VC=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),mA=t=>t.startsWith("onUpdate:"),_o=Object.assign,gA=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},g$=Object.prototype.hasOwnProperty,Xt=(t,e)=>g$.call(t,e),gt=Array.isArray,nm=t=>UC(t)==="[object Map]",G5=t=>UC(t)==="[object Set]",vt=t=>typeof t=="function",Er=t=>typeof t=="string",vu=t=>typeof t=="symbol",zn=t=>t!==null&&typeof t=="object",q5=t=>(zn(t)||vt(t))&&vt(t.then)&&vt(t.catch),W5=Object.prototype.toString,UC=t=>W5.call(t),b$=t=>UC(t).slice(8,-1),K5=t=>UC(t)==="[object Object]",bA=t=>Er(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,mv=pA(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),FC=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},y$=/-(\w)/g,Ps=FC(t=>t.replace(y$,(e,n)=>n?n.toUpperCase():"")),v$=/\B([A-Z])/g,xp=FC(t=>t.replace(v$,"-$1").toLowerCase()),GC=FC(t=>t.charAt(0).toUpperCase()+t.slice(1)),_E=FC(t=>t?`on${GC(t)}`:""),Zu=(t,e)=>!Object.is(t,e),SE=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Z5=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},w$=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let y3;const qC=()=>y3||(y3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function WC(t){if(gt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Er(r)?S$(r):WC(r);if(i)for(const l in i)e[l]=i[l]}return e}else if(Er(t)||zn(t))return t}const k$=/;(?![^(]*\))/g,C$=/:([^]+)/,_$=/\/\*[^]*?\*\//g;function S$(t){const e={};return t.replace(_$,"").split(k$).forEach(n=>{if(n){const r=n.split(C$);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function eu(t){let e="";if(Er(t))e=t;else if(gt(t))for(let n=0;n<t.length;n++){const r=eu(t[n]);r&&(e+=r+" ")}else if(zn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const x$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",E$=pA(x$);function X5(t){return!!t||t===""}const Y5=t=>!!(t&&t.__v_isRef===!0),Pw=t=>Er(t)?t:t==null?"":gt(t)||zn(t)&&(t.toString===W5||!vt(t.toString))?Y5(t)?Pw(t.value):JSON.stringify(t,Q5,2):String(t),Q5=(t,e)=>Y5(e)?Q5(t,e.value):nm(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],l)=>(n[xE(r,l)+" =>"]=i,n),{})}:G5(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>xE(n))}:vu(e)?xE(e):zn(e)&&!gt(e)&&!K5(e)?String(e):e,xE=(t,e="")=>{var n;return vu(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let us;class T${constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=us,!e&&us&&(this.index=(us.scopes||(us.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=us;try{return us=this,e()}finally{us=n}}}on(){us=this}off(){us=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function M$(){return us}let Cn;const EE=new WeakSet;class J5{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,us&&us.active&&us.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,EE.has(this)&&(EE.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tP(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,v3(this),nP(this);const e=Cn,n=$l;Cn=this,$l=!0;try{return this.fn()}finally{rP(this),Cn=e,$l=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)wA(e);this.deps=this.depsTail=void 0,v3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?EE.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wT(this)&&this.run()}get dirty(){return wT(this)}}let eP=0,gv,bv;function tP(t,e=!1){if(t.flags|=8,e){t.next=bv,bv=t;return}t.next=gv,gv=t}function yA(){eP++}function vA(){if(--eP>0)return;if(bv){let e=bv;for(bv=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;gv;){let e=gv;for(gv=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function nP(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function rP(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),wA(r),A$(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function wT(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(oP(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function oP(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Iv))return;t.globalVersion=Iv;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!wT(t)){t.flags&=-3;return}const n=Cn,r=$l;Cn=t,$l=!0;try{nP(t);const i=t.fn(t._value);(e.version===0||Zu(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Cn=n,$l=r,rP(t),t.flags&=-3}}function wA(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)wA(l,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function A$(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let $l=!0;const iP=[];function dd(){iP.push($l),$l=!1}function fd(){const t=iP.pop();$l=t===void 0?!0:t}function v3(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Cn;Cn=void 0;try{e()}finally{Cn=n}}}let Iv=0,R$=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class kA{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Cn||!$l||Cn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Cn)n=this.activeLink=new R$(Cn,this),Cn.deps?(n.prevDep=Cn.depsTail,Cn.depsTail.nextDep=n,Cn.depsTail=n):Cn.deps=Cn.depsTail=n,sP(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Cn.depsTail,n.nextDep=void 0,Cn.depsTail.nextDep=n,Cn.depsTail=n,Cn.deps===n&&(Cn.deps=r)}return n}trigger(e){this.version++,Iv++,this.notify(e)}notify(e){yA();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{vA()}}}function sP(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)sP(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ik=new WeakMap,np=Symbol(""),kT=Symbol(""),Bv=Symbol("");function go(t,e,n){if($l&&Cn){let r=ik.get(t);r||ik.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new kA),i.map=r,i.key=n),i.track()}}function Yc(t,e,n,r,i,l){const a=ik.get(t);if(!a){Iv++;return}const u=d=>{d&&d.trigger()};if(yA(),e==="clear")a.forEach(u);else{const d=gt(t),h=d&&bA(n);if(d&&n==="length"){const p=Number(r);a.forEach((g,y)=>{(y==="length"||y===Bv||!vu(y)&&y>=p)&&u(g)})}else switch((n!==void 0||a.has(void 0))&&u(a.get(n)),h&&u(a.get(Bv)),e){case"add":d?h&&u(a.get("length")):(u(a.get(np)),nm(t)&&u(a.get(kT)));break;case"delete":d||(u(a.get(np)),nm(t)&&u(a.get(kT)));break;case"set":nm(t)&&u(a.get(np));break}}vA()}function N$(t,e){const n=ik.get(t);return n&&n.get(e)}function Pp(t){const e=Zt(t);return e===t?e:(go(e,"iterate",Bv),Hl(t)?e:e.map(Zo))}function CA(t){return go(t=Zt(t),"iterate",Bv),t}const O$={__proto__:null,[Symbol.iterator](){return TE(this,Symbol.iterator,Zo)},concat(...t){return Pp(this).concat(...t.map(e=>gt(e)?Pp(e):e))},entries(){return TE(this,"entries",t=>(t[1]=Zo(t[1]),t))},every(t,e){return zc(this,"every",t,e,void 0,arguments)},filter(t,e){return zc(this,"filter",t,e,n=>n.map(Zo),arguments)},find(t,e){return zc(this,"find",t,e,Zo,arguments)},findIndex(t,e){return zc(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return zc(this,"findLast",t,e,Zo,arguments)},findLastIndex(t,e){return zc(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return zc(this,"forEach",t,e,void 0,arguments)},includes(...t){return ME(this,"includes",t)},indexOf(...t){return ME(this,"indexOf",t)},join(t){return Pp(this).join(t)},lastIndexOf(...t){return ME(this,"lastIndexOf",t)},map(t,e){return zc(this,"map",t,e,void 0,arguments)},pop(){return F0(this,"pop")},push(...t){return F0(this,"push",t)},reduce(t,...e){return w3(this,"reduce",t,e)},reduceRight(t,...e){return w3(this,"reduceRight",t,e)},shift(){return F0(this,"shift")},some(t,e){return zc(this,"some",t,e,void 0,arguments)},splice(...t){return F0(this,"splice",t)},toReversed(){return Pp(this).toReversed()},toSorted(t){return Pp(this).toSorted(t)},toSpliced(...t){return Pp(this).toSpliced(...t)},unshift(...t){return F0(this,"unshift",t)},values(){return TE(this,"values",Zo)}};function TE(t,e,n){const r=CA(t),i=r[e]();return r!==t&&!Hl(t)&&(i._next=i.next,i.next=()=>{const l=i._next();return l.value&&(l.value=n(l.value)),l}),i}const D$=Array.prototype;function zc(t,e,n,r,i,l){const a=CA(t),u=a!==t&&!Hl(t),d=a[e];if(d!==D$[e]){const g=d.apply(t,l);return u?Zo(g):g}let h=n;a!==t&&(u?h=function(g,y){return n.call(this,Zo(g),y,t)}:n.length>2&&(h=function(g,y){return n.call(this,g,y,t)}));const p=d.call(a,h,r);return u&&i?i(p):p}function w3(t,e,n,r){const i=CA(t);let l=n;return i!==t&&(Hl(t)?n.length>3&&(l=function(a,u,d){return n.call(this,a,u,d,t)}):l=function(a,u,d){return n.call(this,a,Zo(u),d,t)}),i[e](l,...r)}function ME(t,e,n){const r=Zt(t);go(r,"iterate",Bv);const i=r[e](...n);return(i===-1||i===!1)&&xA(n[0])?(n[0]=Zt(n[0]),r[e](...n)):i}function F0(t,e,n=[]){dd(),yA();const r=Zt(t)[e].apply(t,n);return vA(),fd(),r}const L$=pA("__proto__,__v_isRef,__isVue"),lP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vu));function P$(t){vu(t)||(t=String(t));const e=Zt(this);return go(e,"has",t),e.hasOwnProperty(t)}class aP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return l;if(n==="__v_raw")return r===(i?l?G$:fP:l?dP:uP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=gt(e);if(!i){let d;if(a&&(d=O$[n]))return d;if(n==="hasOwnProperty")return P$}const u=Reflect.get(e,n,Or(e)?e:r);return(vu(n)?lP.has(n):L$(n))||(i||go(e,"get",n),l)?u:Or(u)?a&&bA(n)?u:u.value:zn(u)?i?hP(u):KC(u):u}}class cP extends aP{constructor(e=!1){super(!1,e)}set(e,n,r,i){let l=e[n];if(!this._isShallow){const d=up(l);if(!Hl(r)&&!up(r)&&(l=Zt(l),r=Zt(r)),!gt(e)&&Or(l)&&!Or(r))return d?!1:(l.value=r,!0)}const a=gt(e)&&bA(n)?Number(n)<e.length:Xt(e,n),u=Reflect.set(e,n,r,Or(e)?e:i);return e===Zt(i)&&(a?Zu(r,l)&&Yc(e,"set",n,r):Yc(e,"add",n,r)),u}deleteProperty(e,n){const r=Xt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Yc(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!vu(n)||!lP.has(n))&&go(e,"has",n),r}ownKeys(e){return go(e,"iterate",gt(e)?"length":np),Reflect.ownKeys(e)}}class I$ extends aP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const B$=new cP,j$=new I$,z$=new cP(!0);const CT=t=>t,ew=t=>Reflect.getPrototypeOf(t);function $$(t,e,n){return function(...r){const i=this.__v_raw,l=Zt(i),a=nm(l),u=t==="entries"||t===Symbol.iterator&&a,d=t==="keys"&&a,h=i[t](...r),p=n?CT:e?_T:Zo;return!e&&go(l,"iterate",d?kT:np),{next(){const{value:g,done:y}=h.next();return y?{value:g,done:y}:{value:u?[p(g[0]),p(g[1])]:p(g),done:y}},[Symbol.iterator](){return this}}}}function tw(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function H$(t,e){const n={get(i){const l=this.__v_raw,a=Zt(l),u=Zt(i);t||(Zu(i,u)&&go(a,"get",i),go(a,"get",u));const{has:d}=ew(a),h=e?CT:t?_T:Zo;if(d.call(a,i))return h(l.get(i));if(d.call(a,u))return h(l.get(u));l!==a&&l.get(i)},get size(){const i=this.__v_raw;return!t&&go(Zt(i),"iterate",np),Reflect.get(i,"size",i)},has(i){const l=this.__v_raw,a=Zt(l),u=Zt(i);return t||(Zu(i,u)&&go(a,"has",i),go(a,"has",u)),i===u?l.has(i):l.has(i)||l.has(u)},forEach(i,l){const a=this,u=a.__v_raw,d=Zt(u),h=e?CT:t?_T:Zo;return!t&&go(d,"iterate",np),u.forEach((p,g)=>i.call(l,h(p),h(g),a))}};return _o(n,t?{add:tw("add"),set:tw("set"),delete:tw("delete"),clear:tw("clear")}:{add(i){!e&&!Hl(i)&&!up(i)&&(i=Zt(i));const l=Zt(this);return ew(l).has.call(l,i)||(l.add(i),Yc(l,"add",i,i)),this},set(i,l){!e&&!Hl(l)&&!up(l)&&(l=Zt(l));const a=Zt(this),{has:u,get:d}=ew(a);let h=u.call(a,i);h||(i=Zt(i),h=u.call(a,i));const p=d.call(a,i);return a.set(i,l),h?Zu(l,p)&&Yc(a,"set",i,l):Yc(a,"add",i,l),this},delete(i){const l=Zt(this),{has:a,get:u}=ew(l);let d=a.call(l,i);d||(i=Zt(i),d=a.call(l,i)),u&&u.call(l,i);const h=l.delete(i);return d&&Yc(l,"delete",i,void 0),h},clear(){const i=Zt(this),l=i.size!==0,a=i.clear();return l&&Yc(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=$$(i,t,e)}),n}function _A(t,e){const n=H$(t,e);return(r,i,l)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Xt(n,i)&&i in r?n:r,i,l)}const V$={get:_A(!1,!1)},U$={get:_A(!1,!0)},F$={get:_A(!0,!1)};const uP=new WeakMap,dP=new WeakMap,fP=new WeakMap,G$=new WeakMap;function q$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function W$(t){return t.__v_skip||!Object.isExtensible(t)?0:q$(b$(t))}function KC(t){return up(t)?t:SA(t,!1,B$,V$,uP)}function K$(t){return SA(t,!1,z$,U$,dP)}function hP(t){return SA(t,!0,j$,F$,fP)}function SA(t,e,n,r,i){if(!zn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=i.get(t);if(l)return l;const a=W$(t);if(a===0)return t;const u=new Proxy(t,a===2?r:n);return i.set(t,u),u}function yv(t){return up(t)?yv(t.__v_raw):!!(t&&t.__v_isReactive)}function up(t){return!!(t&&t.__v_isReadonly)}function Hl(t){return!!(t&&t.__v_isShallow)}function xA(t){return t?!!t.__v_raw:!1}function Zt(t){const e=t&&t.__v_raw;return e?Zt(e):t}function Z$(t){return!Xt(t,"__v_skip")&&Object.isExtensible(t)&&Z5(t,"__v_skip",!0),t}const Zo=t=>zn(t)?KC(t):t,_T=t=>zn(t)?hP(t):t;function Or(t){return t?t.__v_isRef===!0:!1}function X$(t){return pP(t,!1)}function sk(t){return pP(t,!0)}function pP(t,e){return Or(t)?t:new Y$(t,e)}class Y${constructor(e,n){this.dep=new kA,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Zt(e),this._value=n?e:Zo(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Hl(e)||up(e);e=r?e:Zt(e),Zu(e,n)&&(this._rawValue=e,this._value=r?e:Zo(e),this.dep.trigger())}}function qo(t){return Or(t)?t.value:t}const Q$={get:(t,e,n)=>e==="__v_raw"?t:qo(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Or(i)&&!Or(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function mP(t){return yv(t)?t:new Proxy(t,Q$)}function gP(t){const e=gt(t)?new Array(t.length):{};for(const n in t)e[n]=bP(t,n);return e}class J${constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return N$(Zt(this._object),this._key)}}class eH{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function k3(t,e,n){return Or(t)?t:vt(t)?new eH(t):zn(t)&&arguments.length>1?bP(t,e,n):X$(t)}function bP(t,e,n){const r=t[e];return Or(r)?r:new J$(t,e,n)}class tH{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new kA(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Iv-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Cn!==this)return tP(this,!0),!0}get value(){const e=this.dep.track();return oP(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function nH(t,e,n=!1){let r,i;return vt(t)?r=t:(r=t.get,i=t.set),new tH(r,i,n)}const nw={},lk=new WeakMap;let jh;function rH(t,e=!1,n=jh){if(n){let r=lk.get(n);r||lk.set(n,r=[]),r.push(t)}}function oH(t,e,n=_n){const{immediate:r,deep:i,once:l,scheduler:a,augmentJob:u,call:d}=n,h=I=>i?I:Hl(I)||i===!1||i===0?Bu(I,1):Bu(I);let p,g,y,v,w=!1,C=!1;if(Or(t)?(g=()=>t.value,w=Hl(t)):yv(t)?(g=()=>h(t),w=!0):gt(t)?(C=!0,w=t.some(I=>yv(I)||Hl(I)),g=()=>t.map(I=>{if(Or(I))return I.value;if(yv(I))return h(I);if(vt(I))return d?d(I,2):I()})):vt(t)?e?g=d?()=>d(t,2):t:g=()=>{if(y){dd();try{y()}finally{fd()}}const I=jh;jh=p;try{return d?d(t,3,[v]):t(v)}finally{jh=I}}:g=ca,e&&i){const I=g,B=i===!0?1/0:i;g=()=>Bu(I(),B)}const S=M$(),E=()=>{p.stop(),S&&S.active&&gA(S.effects,p)};if(l&&e){const I=e;e=(...B)=>{I(...B),E()}}let A=C?new Array(t.length).fill(nw):nw;const N=I=>{if(!(!(p.flags&1)||!p.dirty&&!I))if(e){const B=p.run();if(i||w||(C?B.some((F,q)=>Zu(F,A[q])):Zu(B,A))){y&&y();const F=jh;jh=p;try{const q=[B,A===nw?void 0:C&&A[0]===nw?[]:A,v];d?d(e,3,q):e(...q),A=B}finally{jh=F}}}else p.run()};return u&&u(N),p=new J5(g),p.scheduler=a?()=>a(N,!1):N,v=I=>rH(I,!1,p),y=p.onStop=()=>{const I=lk.get(p);if(I){if(d)d(I,4);else for(const B of I)B();lk.delete(p)}},e?r?N(!0):A=p.run():a?a(N.bind(null,!0),!0):p.run(),E.pause=p.pause.bind(p),E.resume=p.resume.bind(p),E.stop=E,E}function Bu(t,e=1/0,n){if(e<=0||!zn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Or(t))Bu(t.value,e,n);else if(gt(t))for(let r=0;r<t.length;r++)Bu(t[r],e,n);else if(G5(t)||nm(t))t.forEach(r=>{Bu(r,e,n)});else if(K5(t)){for(const r in t)Bu(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Bu(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _1(t,e,n,r){try{return r?t(...r):t()}catch(i){ZC(i,e,n)}}function ha(t,e,n,r){if(vt(t)){const i=_1(t,e,n,r);return i&&q5(i)&&i.catch(l=>{ZC(l,e,n)}),i}if(gt(t)){const i=[];for(let l=0;l<t.length;l++)i.push(ha(t[l],e,n,r));return i}}function ZC(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||_n;if(e){let u=e.parent;const d=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const p=u.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](t,d,h)===!1)return}u=u.parent}if(l){dd(),_1(l,null,10,[t,d,h]),fd();return}}iH(t,n,i,r,a)}function iH(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Xo=[];let na=-1;const rm=[];let Ou=null,Fp=0;const yP=Promise.resolve();let ak=null;function sH(t){const e=ak||yP;return t?e.then(this?t.bind(this):t):e}function lH(t){let e=na+1,n=Xo.length;for(;e<n;){const r=e+n>>>1,i=Xo[r],l=jv(i);l<t||l===t&&i.flags&2?e=r+1:n=r}return e}function EA(t){if(!(t.flags&1)){const e=jv(t),n=Xo[Xo.length-1];!n||!(t.flags&2)&&e>=jv(n)?Xo.push(t):Xo.splice(lH(e),0,t),t.flags|=1,vP()}}function vP(){ak||(ak=yP.then(kP))}function aH(t){gt(t)?rm.push(...t):Ou&&t.id===-1?Ou.splice(Fp+1,0,t):t.flags&1||(rm.push(t),t.flags|=1),vP()}function C3(t,e,n=na+1){for(;n<Xo.length;n++){const r=Xo[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Xo.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function wP(t){if(rm.length){const e=[...new Set(rm)].sort((n,r)=>jv(n)-jv(r));if(rm.length=0,Ou){Ou.push(...e);return}for(Ou=e,Fp=0;Fp<Ou.length;Fp++){const n=Ou[Fp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ou=null,Fp=0}}const jv=t=>t.id==null?t.flags&2?-1:1/0:t.id;function kP(t){try{for(na=0;na<Xo.length;na++){const e=Xo[na];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),_1(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;na<Xo.length;na++){const e=Xo[na];e&&(e.flags&=-2)}na=-1,Xo.length=0,wP(),ak=null,(Xo.length||rm.length)&&kP()}}let yo=null,CP=null;function ck(t){const e=yo;return yo=t,CP=t&&t.type.__scopeId||null,e}function iv(t,e=yo,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&O3(-1);const l=ck(e);let a;try{a=t(...i)}finally{ck(l),r._d&&O3(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Lh(t,e,n,r){const i=t.dirs,l=e&&e.dirs;for(let a=0;a<i.length;a++){const u=i[a];l&&(u.oldValue=l[a].value);let d=u.dir[r];d&&(dd(),ha(d,n,8,[t.el,u,t,e]),fd())}}const cH=Symbol("_vte"),uH=t=>t.__isTeleport;function TA(t,e){t.shapeFlag&6&&t.component?(t.transition=e,TA(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Lm(t,e){return vt(t)?_o({name:t.name},e,{setup:t}):t}function _P(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function uk(t,e,n,r,i=!1){if(gt(t)){t.forEach((w,C)=>uk(w,e&&(gt(e)?e[C]:e),n,r,i));return}if(om(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&uk(t,e,n,r.component.subTree);return}const l=r.shapeFlag&4?RA(r.component):r.el,a=i?null:l,{i:u,r:d}=t,h=e&&e.r,p=u.refs===_n?u.refs={}:u.refs,g=u.setupState,y=Zt(g),v=g===_n?()=>!1:w=>Xt(y,w);if(h!=null&&h!==d&&(Er(h)?(p[h]=null,v(h)&&(g[h]=null)):Or(h)&&(h.value=null)),vt(d))_1(d,u,12,[a,p]);else{const w=Er(d),C=Or(d);if(w||C){const S=()=>{if(t.f){const E=w?v(d)?g[d]:p[d]:d.value;i?gt(E)&&gA(E,l):gt(E)?E.includes(l)||E.push(l):w?(p[d]=[l],v(d)&&(g[d]=p[d])):(d.value=[l],t.k&&(p[t.k]=d.value))}else w?(p[d]=a,v(d)&&(g[d]=a)):C&&(d.value=a,t.k&&(p[t.k]=a))};a?(S.id=-1,as(S,n)):S()}}}qC().requestIdleCallback;qC().cancelIdleCallback;const om=t=>!!t.type.__asyncLoader,SP=t=>t.type.__isKeepAlive;function dH(t,e){xP(t,"a",e)}function fH(t,e){xP(t,"da",e)}function xP(t,e,n=co){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(XC(e,r,n),n){let i=n.parent;for(;i&&i.parent;)SP(i.parent.vnode)&&hH(r,e,n,i),i=i.parent}}function hH(t,e,n,r){const i=XC(e,t,r,!0);TP(()=>{gA(r[e],i)},n)}function XC(t,e,n=co,r=!1){if(n){const i=n[t]||(n[t]=[]),l=e.__weh||(e.__weh=(...a)=>{dd();const u=S1(n),d=ha(e,n,t,a);return u(),fd(),d});return r?i.unshift(l):i.push(l),l}}const wu=t=>(e,n=co)=>{(!Vv||t==="sp")&&XC(t,(...r)=>e(...r),n)},pH=wu("bm"),EP=wu("m"),mH=wu("bu"),gH=wu("u"),bH=wu("bum"),TP=wu("um"),yH=wu("sp"),vH=wu("rtg"),wH=wu("rtc");function kH(t,e=co){XC("ec",t,e)}const CH="components";function _H(t,e){return xH(CH,t,!0,e)||t}const SH=Symbol.for("v-ndc");function xH(t,e,n=!0,r=!1){const i=yo||co;if(i){const l=i.type;{const u=fV(l,!1);if(u&&(u===e||u===Ps(e)||u===GC(Ps(e))))return l}const a=_3(i[t]||l[t],e)||_3(i.appContext[t],e);return!a&&r?l:a}}function _3(t,e){return t&&(t[e]||t[Ps(e)]||t[GC(Ps(e))])}function sv(t,e,n={},r,i){if(yo.ce||yo.parent&&om(yo.parent)&&yo.parent.ce)return e!=="default"&&(n.name=e),ai(),$v(Yo,null,[Un("slot",n,r)],64);let l=t[e];l&&l._c&&(l._d=!1),ai();const a=l&&MP(l(n)),u=n.key||a&&a.key,d=$v(Yo,{key:(u&&!vu(u)?u:`_${e}`)+""},a||[],a&&t._===1?64:-2);return d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),l&&l._c&&(l._d=!0),d}function MP(t){return t.some(e=>Hv(e)?!(e.type===hu||e.type===Yo&&!MP(e.children)):!0)?t:null}const ST=t=>t?XP(t)?RA(t):ST(t.parent):null,vv=_o(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ST(t.parent),$root:t=>ST(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>RP(t),$forceUpdate:t=>t.f||(t.f=()=>{EA(t.update)}),$nextTick:t=>t.n||(t.n=sH.bind(t.proxy)),$watch:t=>qH.bind(t)}),AE=(t,e)=>t!==_n&&!t.__isScriptSetup&&Xt(t,e),EH={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:l,accessCache:a,type:u,appContext:d}=t;let h;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return l[e]}else{if(AE(r,e))return a[e]=1,r[e];if(i!==_n&&Xt(i,e))return a[e]=2,i[e];if((h=t.propsOptions[0])&&Xt(h,e))return a[e]=3,l[e];if(n!==_n&&Xt(n,e))return a[e]=4,n[e];xT&&(a[e]=0)}}const p=vv[e];let g,y;if(p)return e==="$attrs"&&go(t.attrs,"get",""),p(t);if((g=u.__cssModules)&&(g=g[e]))return g;if(n!==_n&&Xt(n,e))return a[e]=4,n[e];if(y=d.config.globalProperties,Xt(y,e))return y[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:l}=t;return AE(i,e)?(i[e]=n,!0):r!==_n&&Xt(r,e)?(r[e]=n,!0):Xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:l}},a){let u;return!!n[a]||t!==_n&&Xt(t,a)||AE(e,a)||(u=l[0])&&Xt(u,a)||Xt(r,a)||Xt(vv,a)||Xt(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function S3(t){return gt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let xT=!0;function TH(t){const e=RP(t),n=t.proxy,r=t.ctx;xT=!1,e.beforeCreate&&x3(e.beforeCreate,t,"bc");const{data:i,computed:l,methods:a,watch:u,provide:d,inject:h,created:p,beforeMount:g,mounted:y,beforeUpdate:v,updated:w,activated:C,deactivated:S,beforeDestroy:E,beforeUnmount:A,destroyed:N,unmounted:I,render:B,renderTracked:F,renderTriggered:q,errorCaptured:Z,serverPrefetch:Q,expose:ie,inheritAttrs:ke,components:ue,directives:xe,filters:we}=e;if(h&&MH(h,r,null),a)for(const H in a){const K=a[H];vt(K)&&(r[H]=K.bind(n))}if(i){const H=i.call(n,n);zn(H)&&(t.data=KC(H))}if(xT=!0,l)for(const H in l){const K=l[H],ee=vt(K)?K.bind(n,n):vt(K.get)?K.get.bind(n,n):ca,$=!vt(K)&&vt(K.set)?K.set.bind(n):ca,Y=ps({get:ee,set:$});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>Y.value,set:te=>Y.value=te})}if(u)for(const H in u)AP(u[H],r,n,H);if(d){const H=vt(d)?d.call(n):d;Reflect.ownKeys(H).forEach(K=>{OP(K,H[K])})}p&&x3(p,t,"c");function L(H,K){gt(K)?K.forEach(ee=>H(ee.bind(n))):K&&H(K.bind(n))}if(L(pH,g),L(EP,y),L(mH,v),L(gH,w),L(dH,C),L(fH,S),L(kH,Z),L(wH,F),L(vH,q),L(bH,A),L(TP,I),L(yH,Q),gt(ie))if(ie.length){const H=t.exposed||(t.exposed={});ie.forEach(K=>{Object.defineProperty(H,K,{get:()=>n[K],set:ee=>n[K]=ee})})}else t.exposed||(t.exposed={});B&&t.render===ca&&(t.render=B),ke!=null&&(t.inheritAttrs=ke),ue&&(t.components=ue),xe&&(t.directives=xe),Q&&_P(t)}function MH(t,e,n=ca){gt(t)&&(t=ET(t));for(const r in t){const i=t[r];let l;zn(i)?"default"in i?l=Xu(i.from||r,i.default,!0):l=Xu(i.from||r):l=Xu(i),Or(l)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):e[r]=l}}function x3(t,e,n){ha(gt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function AP(t,e,n,r){let i=r.includes(".")?GP(n,r):()=>n[r];if(Er(t)){const l=e[t];vt(l)&&sm(i,l)}else if(vt(t))sm(i,t.bind(n));else if(zn(t))if(gt(t))t.forEach(l=>AP(l,e,n,r));else{const l=vt(t.handler)?t.handler.bind(n):e[t.handler];vt(l)&&sm(i,l,t)}}function RP(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:l,config:{optionMergeStrategies:a}}=t.appContext,u=l.get(e);let d;return u?d=u:!i.length&&!n&&!r?d=e:(d={},i.length&&i.forEach(h=>dk(d,h,a,!0)),dk(d,e,a)),zn(e)&&l.set(e,d),d}function dk(t,e,n,r=!1){const{mixins:i,extends:l}=e;l&&dk(t,l,n,!0),i&&i.forEach(a=>dk(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const u=AH[a]||n&&n[a];t[a]=u?u(t[a],e[a]):e[a]}return t}const AH={data:E3,props:T3,emits:T3,methods:lv,computed:lv,beforeCreate:Wo,created:Wo,beforeMount:Wo,mounted:Wo,beforeUpdate:Wo,updated:Wo,beforeDestroy:Wo,beforeUnmount:Wo,destroyed:Wo,unmounted:Wo,activated:Wo,deactivated:Wo,errorCaptured:Wo,serverPrefetch:Wo,components:lv,directives:lv,watch:NH,provide:E3,inject:RH};function E3(t,e){return e?t?function(){return _o(vt(t)?t.call(this,this):t,vt(e)?e.call(this,this):e)}:e:t}function RH(t,e){return lv(ET(t),ET(e))}function ET(t){if(gt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Wo(t,e){return t?[...new Set([].concat(t,e))]:e}function lv(t,e){return t?_o(Object.create(null),t,e):e}function T3(t,e){return t?gt(t)&&gt(e)?[...new Set([...t,...e])]:_o(Object.create(null),S3(t),S3(e??{})):e}function NH(t,e){if(!t)return e;if(!e)return t;const n=_o(Object.create(null),t);for(const r in e)n[r]=Wo(t[r],e[r]);return n}function NP(){return{app:null,config:{isNativeTag:m$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let OH=0;function DH(t,e){return function(r,i=null){vt(r)||(r=_o({},r)),i!=null&&!zn(i)&&(i=null);const l=NP(),a=new WeakSet,u=[];let d=!1;const h=l.app={_uid:OH++,_component:r,_props:i,_container:null,_context:l,_instance:null,version:mV,get config(){return l.config},set config(p){},use(p,...g){return a.has(p)||(p&&vt(p.install)?(a.add(p),p.install(h,...g)):vt(p)&&(a.add(p),p(h,...g))),h},mixin(p){return l.mixins.includes(p)||l.mixins.push(p),h},component(p,g){return g?(l.components[p]=g,h):l.components[p]},directive(p,g){return g?(l.directives[p]=g,h):l.directives[p]},mount(p,g,y){if(!d){const v=h._ceVNode||Un(r,i);return v.appContext=l,y===!0?y="svg":y===!1&&(y=void 0),t(v,p,y),d=!0,h._container=p,p.__vue_app__=h,RA(v.component)}},onUnmount(p){u.push(p)},unmount(){d&&(ha(u,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(p,g){return l.provides[p]=g,h},runWithContext(p){const g=im;im=h;try{return p()}finally{im=g}}};return h}}let im=null;function OP(t,e){if(co){let n=co.provides;const r=co.parent&&co.parent.provides;r===n&&(n=co.provides=Object.create(r)),n[t]=e}}function Xu(t,e,n=!1){const r=co||yo;if(r||im){const i=im?im._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&vt(e)?e.call(r&&r.proxy):e}}const DP={},LP=()=>Object.create(DP),PP=t=>Object.getPrototypeOf(t)===DP;function LH(t,e,n,r=!1){const i={},l=LP();t.propsDefaults=Object.create(null),IP(t,e,i,l);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:K$(i):t.type.props?t.props=i:t.props=l,t.attrs=l}function PH(t,e,n,r){const{props:i,attrs:l,vnode:{patchFlag:a}}=t,u=Zt(i),[d]=t.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const p=t.vnode.dynamicProps;for(let g=0;g<p.length;g++){let y=p[g];if(YC(t.emitsOptions,y))continue;const v=e[y];if(d)if(Xt(l,y))v!==l[y]&&(l[y]=v,h=!0);else{const w=Ps(y);i[w]=TT(d,u,w,v,t,!1)}else v!==l[y]&&(l[y]=v,h=!0)}}}else{IP(t,e,i,l)&&(h=!0);let p;for(const g in u)(!e||!Xt(e,g)&&((p=xp(g))===g||!Xt(e,p)))&&(d?n&&(n[g]!==void 0||n[p]!==void 0)&&(i[g]=TT(d,u,g,void 0,t,!0)):delete i[g]);if(l!==u)for(const g in l)(!e||!Xt(e,g))&&(delete l[g],h=!0)}h&&Yc(t.attrs,"set","")}function IP(t,e,n,r){const[i,l]=t.propsOptions;let a=!1,u;if(e)for(let d in e){if(mv(d))continue;const h=e[d];let p;i&&Xt(i,p=Ps(d))?!l||!l.includes(p)?n[p]=h:(u||(u={}))[p]=h:YC(t.emitsOptions,d)||(!(d in r)||h!==r[d])&&(r[d]=h,a=!0)}if(l){const d=Zt(n),h=u||_n;for(let p=0;p<l.length;p++){const g=l[p];n[g]=TT(i,d,g,h[g],t,!Xt(h,g))}}return a}function TT(t,e,n,r,i,l){const a=t[n];if(a!=null){const u=Xt(a,"default");if(u&&r===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&vt(d)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const p=S1(i);r=h[n]=d.call(null,e),p()}}else r=d;i.ce&&i.ce._setProp(n,r)}a[0]&&(l&&!u?r=!1:a[1]&&(r===""||r===xp(n))&&(r=!0))}return r}const IH=new WeakMap;function BP(t,e,n=!1){const r=n?IH:e.propsCache,i=r.get(t);if(i)return i;const l=t.props,a={},u=[];let d=!1;if(!vt(t)){const p=g=>{d=!0;const[y,v]=BP(g,e,!0);_o(a,y),v&&u.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!l&&!d)return zn(t)&&r.set(t,tm),tm;if(gt(l))for(let p=0;p<l.length;p++){const g=Ps(l[p]);M3(g)&&(a[g]=_n)}else if(l)for(const p in l){const g=Ps(p);if(M3(g)){const y=l[p],v=a[g]=gt(y)||vt(y)?{type:y}:_o({},y),w=v.type;let C=!1,S=!0;if(gt(w))for(let E=0;E<w.length;++E){const A=w[E],N=vt(A)&&A.name;if(N==="Boolean"){C=!0;break}else N==="String"&&(S=!1)}else C=vt(w)&&w.name==="Boolean";v[0]=C,v[1]=S,(C||Xt(v,"default"))&&u.push(g)}}const h=[a,u];return zn(t)&&r.set(t,h),h}function M3(t){return t[0]!=="$"&&!mv(t)}const jP=t=>t[0]==="_"||t==="$stable",MA=t=>gt(t)?t.map(sa):[sa(t)],BH=(t,e,n)=>{if(e._n)return e;const r=iv((...i)=>MA(e(...i)),n);return r._c=!1,r},zP=(t,e,n)=>{const r=t._ctx;for(const i in t){if(jP(i))continue;const l=t[i];if(vt(l))e[i]=BH(i,l,r);else if(l!=null){const a=MA(l);e[i]=()=>a}}},$P=(t,e)=>{const n=MA(e);t.slots.default=()=>n},HP=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},jH=(t,e,n)=>{const r=t.slots=LP();if(t.vnode.shapeFlag&32){const i=e._;i?(HP(r,e,n),n&&Z5(r,"_",i,!0)):zP(e,r)}else e&&$P(t,e)},zH=(t,e,n)=>{const{vnode:r,slots:i}=t;let l=!0,a=_n;if(r.shapeFlag&32){const u=e._;u?n&&u===1?l=!1:HP(i,e,n):(l=!e.$stable,zP(e,i)),a=e}else e&&($P(t,e),a={default:1});if(l)for(const u in i)!jP(u)&&a[u]==null&&delete i[u]},as=JH;function $H(t){return HH(t)}function HH(t,e){const n=qC();n.__VUE__=!0;const{insert:r,remove:i,patchProp:l,createElement:a,createText:u,createComment:d,setText:h,setElementText:p,parentNode:g,nextSibling:y,setScopeId:v=ca,insertStaticContent:w}=t,C=(G,X,ne,me=null,fe=null,le=null,Re=void 0,Te=null,pe=!!X.dynamicChildren)=>{if(G===X)return;G&&!G0(G,X)&&(me=ft(G),te(G,fe,le,!0),G=null),X.patchFlag===-2&&(pe=!1,X.dynamicChildren=null);const{type:he,ref:Ye,shapeFlag:Oe}=X;switch(he){case QC:S(G,X,ne,me);break;case hu:E(G,X,ne,me);break;case NE:G==null&&A(X,ne,me,Re);break;case Yo:ue(G,X,ne,me,fe,le,Re,Te,pe);break;default:Oe&1?B(G,X,ne,me,fe,le,Re,Te,pe):Oe&6?xe(G,X,ne,me,fe,le,Re,Te,pe):(Oe&64||Oe&128)&&he.process(G,X,ne,me,fe,le,Re,Te,pe,Jt)}Ye!=null&&fe&&uk(Ye,G&&G.ref,le,X||G,!X)},S=(G,X,ne,me)=>{if(G==null)r(X.el=u(X.children),ne,me);else{const fe=X.el=G.el;X.children!==G.children&&h(fe,X.children)}},E=(G,X,ne,me)=>{G==null?r(X.el=d(X.children||""),ne,me):X.el=G.el},A=(G,X,ne,me)=>{[G.el,G.anchor]=w(G.children,X,ne,me,G.el,G.anchor)},N=({el:G,anchor:X},ne,me)=>{let fe;for(;G&&G!==X;)fe=y(G),r(G,ne,me),G=fe;r(X,ne,me)},I=({el:G,anchor:X})=>{let ne;for(;G&&G!==X;)ne=y(G),i(G),G=ne;i(X)},B=(G,X,ne,me,fe,le,Re,Te,pe)=>{X.type==="svg"?Re="svg":X.type==="math"&&(Re="mathml"),G==null?F(X,ne,me,fe,le,Re,Te,pe):Q(G,X,fe,le,Re,Te,pe)},F=(G,X,ne,me,fe,le,Re,Te)=>{let pe,he;const{props:Ye,shapeFlag:Oe,transition:qe,dirs:nt}=G;if(pe=G.el=a(G.type,le,Ye&&Ye.is,Ye),Oe&8?p(pe,G.children):Oe&16&&Z(G.children,pe,null,me,fe,RE(G,le),Re,Te),nt&&Lh(G,null,me,"created"),q(pe,G,G.scopeId,Re,me),Ye){for(const We in Ye)We!=="value"&&!mv(We)&&l(pe,We,null,Ye[We],le,me);"value"in Ye&&l(pe,"value",null,Ye.value,le),(he=Ye.onVnodeBeforeMount)&&Jl(he,me,G)}nt&&Lh(G,null,me,"beforeMount");const it=VH(fe,qe);it&&qe.beforeEnter(pe),r(pe,X,ne),((he=Ye&&Ye.onVnodeMounted)||it||nt)&&as(()=>{he&&Jl(he,me,G),it&&qe.enter(pe),nt&&Lh(G,null,me,"mounted")},fe)},q=(G,X,ne,me,fe)=>{if(ne&&v(G,ne),me)for(let le=0;le<me.length;le++)v(G,me[le]);if(fe){let le=fe.subTree;if(X===le||WP(le.type)&&(le.ssContent===X||le.ssFallback===X)){const Re=fe.vnode;q(G,Re,Re.scopeId,Re.slotScopeIds,fe.parent)}}},Z=(G,X,ne,me,fe,le,Re,Te,pe=0)=>{for(let he=pe;he<G.length;he++){const Ye=G[he]=Te?Du(G[he]):sa(G[he]);C(null,Ye,X,ne,me,fe,le,Re,Te)}},Q=(G,X,ne,me,fe,le,Re)=>{const Te=X.el=G.el;let{patchFlag:pe,dynamicChildren:he,dirs:Ye}=X;pe|=G.patchFlag&16;const Oe=G.props||_n,qe=X.props||_n;let nt;if(ne&&Ph(ne,!1),(nt=qe.onVnodeBeforeUpdate)&&Jl(nt,ne,X,G),Ye&&Lh(X,G,ne,"beforeUpdate"),ne&&Ph(ne,!0),(Oe.innerHTML&&qe.innerHTML==null||Oe.textContent&&qe.textContent==null)&&p(Te,""),he?ie(G.dynamicChildren,he,Te,ne,me,RE(X,fe),le):Re||K(G,X,Te,null,ne,me,RE(X,fe),le,!1),pe>0){if(pe&16)ke(Te,Oe,qe,ne,fe);else if(pe&2&&Oe.class!==qe.class&&l(Te,"class",null,qe.class,fe),pe&4&&l(Te,"style",Oe.style,qe.style,fe),pe&8){const it=X.dynamicProps;for(let We=0;We<it.length;We++){const ot=it[We],mt=Oe[ot],Wn=qe[ot];(Wn!==mt||ot==="value")&&l(Te,ot,mt,Wn,fe,ne)}}pe&1&&G.children!==X.children&&p(Te,X.children)}else!Re&&he==null&&ke(Te,Oe,qe,ne,fe);((nt=qe.onVnodeUpdated)||Ye)&&as(()=>{nt&&Jl(nt,ne,X,G),Ye&&Lh(X,G,ne,"updated")},me)},ie=(G,X,ne,me,fe,le,Re)=>{for(let Te=0;Te<X.length;Te++){const pe=G[Te],he=X[Te],Ye=pe.el&&(pe.type===Yo||!G0(pe,he)||pe.shapeFlag&70)?g(pe.el):ne;C(pe,he,Ye,null,me,fe,le,Re,!0)}},ke=(G,X,ne,me,fe)=>{if(X!==ne){if(X!==_n)for(const le in X)!mv(le)&&!(le in ne)&&l(G,le,X[le],null,fe,me);for(const le in ne){if(mv(le))continue;const Re=ne[le],Te=X[le];Re!==Te&&le!=="value"&&l(G,le,Te,Re,fe,me)}"value"in ne&&l(G,"value",X.value,ne.value,fe)}},ue=(G,X,ne,me,fe,le,Re,Te,pe)=>{const he=X.el=G?G.el:u(""),Ye=X.anchor=G?G.anchor:u("");let{patchFlag:Oe,dynamicChildren:qe,slotScopeIds:nt}=X;nt&&(Te=Te?Te.concat(nt):nt),G==null?(r(he,ne,me),r(Ye,ne,me),Z(X.children||[],ne,Ye,fe,le,Re,Te,pe)):Oe>0&&Oe&64&&qe&&G.dynamicChildren?(ie(G.dynamicChildren,qe,ne,fe,le,Re,Te),(X.key!=null||fe&&X===fe.subTree)&&VP(G,X,!0)):K(G,X,ne,Ye,fe,le,Re,Te,pe)},xe=(G,X,ne,me,fe,le,Re,Te,pe)=>{X.slotScopeIds=Te,G==null?X.shapeFlag&512?fe.ctx.activate(X,ne,me,Re,pe):we(X,ne,me,fe,le,Re,pe):de(G,X,pe)},we=(G,X,ne,me,fe,le,Re)=>{const Te=G.component=sV(G,me,fe);if(SP(G)&&(Te.ctx.renderer=Jt),aV(Te,!1,Re),Te.asyncDep){if(fe&&fe.registerDep(Te,L,Re),!G.el){const pe=Te.subTree=Un(hu);E(null,pe,X,ne)}}else L(Te,G,X,ne,fe,le,Re)},de=(G,X,ne)=>{const me=X.component=G.component;if(YH(G,X,ne))if(me.asyncDep&&!me.asyncResolved){H(me,X,ne);return}else me.next=X,me.update();else X.el=G.el,me.vnode=X},L=(G,X,ne,me,fe,le,Re)=>{const Te=()=>{if(G.isMounted){let{next:Oe,bu:qe,u:nt,parent:it,vnode:We}=G;{const oi=UP(G);if(oi){Oe&&(Oe.el=We.el,H(G,Oe,Re)),oi.asyncDep.then(()=>{G.isUnmounted||Te()});return}}let ot=Oe,mt;Ph(G,!1),Oe?(Oe.el=We.el,H(G,Oe,Re)):Oe=We,qe&&SE(qe),(mt=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&Jl(mt,it,Oe,We),Ph(G,!0);const Wn=R3(G),cn=G.subTree;G.subTree=Wn,C(cn,Wn,g(cn.el),ft(cn),G,fe,le),Oe.el=Wn.el,ot===null&&QH(G,Wn.el),nt&&as(nt,fe),(mt=Oe.props&&Oe.props.onVnodeUpdated)&&as(()=>Jl(mt,it,Oe,We),fe)}else{let Oe;const{el:qe,props:nt}=X,{bm:it,m:We,parent:ot,root:mt,type:Wn}=G,cn=om(X);Ph(G,!1),it&&SE(it),!cn&&(Oe=nt&&nt.onVnodeBeforeMount)&&Jl(Oe,ot,X),Ph(G,!0);{mt.ce&&mt.ce._injectChildStyle(Wn);const oi=G.subTree=R3(G);C(null,oi,ne,me,G,fe,le),X.el=oi.el}if(We&&as(We,fe),!cn&&(Oe=nt&&nt.onVnodeMounted)){const oi=X;as(()=>Jl(Oe,ot,oi),fe)}(X.shapeFlag&256||ot&&om(ot.vnode)&&ot.vnode.shapeFlag&256)&&G.a&&as(G.a,fe),G.isMounted=!0,X=ne=me=null}};G.scope.on();const pe=G.effect=new J5(Te);G.scope.off();const he=G.update=pe.run.bind(pe),Ye=G.job=pe.runIfDirty.bind(pe);Ye.i=G,Ye.id=G.uid,pe.scheduler=()=>EA(Ye),Ph(G,!0),he()},H=(G,X,ne)=>{X.component=G;const me=G.vnode.props;G.vnode=X,G.next=null,PH(G,X.props,me,ne),zH(G,X.children,ne),dd(),C3(G),fd()},K=(G,X,ne,me,fe,le,Re,Te,pe=!1)=>{const he=G&&G.children,Ye=G?G.shapeFlag:0,Oe=X.children,{patchFlag:qe,shapeFlag:nt}=X;if(qe>0){if(qe&128){$(he,Oe,ne,me,fe,le,Re,Te,pe);return}else if(qe&256){ee(he,Oe,ne,me,fe,le,Re,Te,pe);return}}nt&8?(Ye&16&&Ae(he,fe,le),Oe!==he&&p(ne,Oe)):Ye&16?nt&16?$(he,Oe,ne,me,fe,le,Re,Te,pe):Ae(he,fe,le,!0):(Ye&8&&p(ne,""),nt&16&&Z(Oe,ne,me,fe,le,Re,Te,pe))},ee=(G,X,ne,me,fe,le,Re,Te,pe)=>{G=G||tm,X=X||tm;const he=G.length,Ye=X.length,Oe=Math.min(he,Ye);let qe;for(qe=0;qe<Oe;qe++){const nt=X[qe]=pe?Du(X[qe]):sa(X[qe]);C(G[qe],nt,ne,null,fe,le,Re,Te,pe)}he>Ye?Ae(G,fe,le,!0,!1,Oe):Z(X,ne,me,fe,le,Re,Te,pe,Oe)},$=(G,X,ne,me,fe,le,Re,Te,pe)=>{let he=0;const Ye=X.length;let Oe=G.length-1,qe=Ye-1;for(;he<=Oe&&he<=qe;){const nt=G[he],it=X[he]=pe?Du(X[he]):sa(X[he]);if(G0(nt,it))C(nt,it,ne,null,fe,le,Re,Te,pe);else break;he++}for(;he<=Oe&&he<=qe;){const nt=G[Oe],it=X[qe]=pe?Du(X[qe]):sa(X[qe]);if(G0(nt,it))C(nt,it,ne,null,fe,le,Re,Te,pe);else break;Oe--,qe--}if(he>Oe){if(he<=qe){const nt=qe+1,it=nt<Ye?X[nt].el:me;for(;he<=qe;)C(null,X[he]=pe?Du(X[he]):sa(X[he]),ne,it,fe,le,Re,Te,pe),he++}}else if(he>qe)for(;he<=Oe;)te(G[he],fe,le,!0),he++;else{const nt=he,it=he,We=new Map;for(he=it;he<=qe;he++){const en=X[he]=pe?Du(X[he]):sa(X[he]);en.key!=null&&We.set(en.key,he)}let ot,mt=0;const Wn=qe-it+1;let cn=!1,oi=0;const To=new Array(Wn);for(he=0;he<Wn;he++)To[he]=0;for(he=nt;he<=Oe;he++){const en=G[he];if(mt>=Wn){te(en,fe,le,!0);continue}let nr;if(en.key!=null)nr=We.get(en.key);else for(ot=it;ot<=qe;ot++)if(To[ot-it]===0&&G0(en,X[ot])){nr=ot;break}nr===void 0?te(en,fe,le,!0):(To[nr-it]=he+1,nr>=oi?oi=nr:cn=!0,C(en,X[nr],ne,null,fe,le,Re,Te,pe),mt++)}const vs=cn?UH(To):tm;for(ot=vs.length-1,he=Wn-1;he>=0;he--){const en=it+he,nr=X[en],ii=en+1<Ye?X[en+1].el:me;To[he]===0?C(null,nr,ne,ii,fe,le,Re,Te,pe):cn&&(ot<0||he!==vs[ot]?Y(nr,ne,ii,2):ot--)}}},Y=(G,X,ne,me,fe=null)=>{const{el:le,type:Re,transition:Te,children:pe,shapeFlag:he}=G;if(he&6){Y(G.component.subTree,X,ne,me);return}if(he&128){G.suspense.move(X,ne,me);return}if(he&64){Re.move(G,X,ne,Jt);return}if(Re===Yo){r(le,X,ne);for(let Oe=0;Oe<pe.length;Oe++)Y(pe[Oe],X,ne,me);r(G.anchor,X,ne);return}if(Re===NE){N(G,X,ne);return}if(me!==2&&he&1&&Te)if(me===0)Te.beforeEnter(le),r(le,X,ne),as(()=>Te.enter(le),fe);else{const{leave:Oe,delayLeave:qe,afterLeave:nt}=Te,it=()=>r(le,X,ne),We=()=>{Oe(le,()=>{it(),nt&&nt()})};qe?qe(le,it,We):We()}else r(le,X,ne)},te=(G,X,ne,me=!1,fe=!1)=>{const{type:le,props:Re,ref:Te,children:pe,dynamicChildren:he,shapeFlag:Ye,patchFlag:Oe,dirs:qe,cacheIndex:nt}=G;if(Oe===-2&&(fe=!1),Te!=null&&uk(Te,null,ne,G,!0),nt!=null&&(X.renderCache[nt]=void 0),Ye&256){X.ctx.deactivate(G);return}const it=Ye&1&&qe,We=!om(G);let ot;if(We&&(ot=Re&&Re.onVnodeBeforeUnmount)&&Jl(ot,X,G),Ye&6)$e(G.component,ne,me);else{if(Ye&128){G.suspense.unmount(ne,me);return}it&&Lh(G,null,X,"beforeUnmount"),Ye&64?G.type.remove(G,X,ne,Jt,me):he&&!he.hasOnce&&(le!==Yo||Oe>0&&Oe&64)?Ae(he,X,ne,!1,!0):(le===Yo&&Oe&384||!fe&&Ye&16)&&Ae(pe,X,ne),me&&re(G)}(We&&(ot=Re&&Re.onVnodeUnmounted)||it)&&as(()=>{ot&&Jl(ot,X,G),it&&Lh(G,null,X,"unmounted")},ne)},re=G=>{const{type:X,el:ne,anchor:me,transition:fe}=G;if(X===Yo){Ee(ne,me);return}if(X===NE){I(G);return}const le=()=>{i(ne),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(G.shapeFlag&1&&fe&&!fe.persisted){const{leave:Re,delayLeave:Te}=fe,pe=()=>Re(ne,le);Te?Te(G.el,le,pe):pe()}else le()},Ee=(G,X)=>{let ne;for(;G!==X;)ne=y(G),i(G),G=ne;i(X)},$e=(G,X,ne)=>{const{bum:me,scope:fe,job:le,subTree:Re,um:Te,m:pe,a:he}=G;A3(pe),A3(he),me&&SE(me),fe.stop(),le&&(le.flags|=8,te(Re,G,X,ne)),Te&&as(Te,X),as(()=>{G.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},Ae=(G,X,ne,me=!1,fe=!1,le=0)=>{for(let Re=le;Re<G.length;Re++)te(G[Re],X,ne,me,fe)},ft=G=>{if(G.shapeFlag&6)return ft(G.component.subTree);if(G.shapeFlag&128)return G.suspense.next();const X=y(G.anchor||G.el),ne=X&&X[cH];return ne?y(ne):X};let ct=!1;const Ut=(G,X,ne)=>{G==null?X._vnode&&te(X._vnode,null,null,!0):C(X._vnode||null,G,X,null,null,null,ne),X._vnode=G,ct||(ct=!0,C3(),wP(),ct=!1)},Jt={p:C,um:te,m:Y,r:re,mt:we,mc:Z,pc:K,pbc:ie,n:ft,o:t};return{render:Ut,hydrate:void 0,createApp:DH(Ut)}}function RE({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ph({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function VH(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function VP(t,e,n=!1){const r=t.children,i=e.children;if(gt(r)&&gt(i))for(let l=0;l<r.length;l++){const a=r[l];let u=i[l];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[l]=Du(i[l]),u.el=a.el),!n&&u.patchFlag!==-2&&VP(a,u)),u.type===QC&&(u.el=a.el)}}function UH(t){const e=t.slice(),n=[0];let r,i,l,a,u;const d=t.length;for(r=0;r<d;r++){const h=t[r];if(h!==0){if(i=n[n.length-1],t[i]<h){e[r]=i,n.push(r);continue}for(l=0,a=n.length-1;l<a;)u=l+a>>1,t[n[u]]<h?l=u+1:a=u;h<t[n[l]]&&(l>0&&(e[r]=n[l-1]),n[l]=r)}}for(l=n.length,a=n[l-1];l-- >0;)n[l]=a,a=e[a];return n}function UP(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:UP(e)}function A3(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const FH=Symbol.for("v-scx"),GH=()=>Xu(FH);function sm(t,e,n){return FP(t,e,n)}function FP(t,e,n=_n){const{immediate:r,deep:i,flush:l,once:a}=n,u=_o({},n),d=e&&r||!e&&l!=="post";let h;if(Vv){if(l==="sync"){const v=GH();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!d){const v=()=>{};return v.stop=ca,v.resume=ca,v.pause=ca,v}}const p=co;u.call=(v,w,C)=>ha(v,p,w,C);let g=!1;l==="post"?u.scheduler=v=>{as(v,p&&p.suspense)}:l!=="sync"&&(g=!0,u.scheduler=(v,w)=>{w?v():EA(v)}),u.augmentJob=v=>{e&&(v.flags|=4),g&&(v.flags|=2,p&&(v.id=p.uid,v.i=p))};const y=oH(t,e,u);return Vv&&(h?h.push(y):d&&y()),y}function qH(t,e,n){const r=this.proxy,i=Er(t)?t.includes(".")?GP(r,t):()=>r[t]:t.bind(r,r);let l;vt(e)?l=e:(l=e.handler,n=e);const a=S1(this),u=FP(i,l.bind(r),n);return a(),u}function GP(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const WH=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ps(e)}Modifiers`]||t[`${xp(e)}Modifiers`];function KH(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||_n;let i=n;const l=e.startsWith("update:"),a=l&&WH(r,e.slice(7));a&&(a.trim&&(i=n.map(p=>Er(p)?p.trim():p)),a.number&&(i=n.map(w$)));let u,d=r[u=_E(e)]||r[u=_E(Ps(e))];!d&&l&&(d=r[u=_E(xp(e))]),d&&ha(d,t,6,i);const h=r[u+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,ha(h,t,6,i)}}function qP(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const l=t.emits;let a={},u=!1;if(!vt(t)){const d=h=>{const p=qP(h,e,!0);p&&(u=!0,_o(a,p))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!l&&!u?(zn(t)&&r.set(t,null),null):(gt(l)?l.forEach(d=>a[d]=null):_o(a,l),zn(t)&&r.set(t,a),a)}function YC(t,e){return!t||!VC(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xt(t,e[0].toLowerCase()+e.slice(1))||Xt(t,xp(e))||Xt(t,e))}function R3(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[l],slots:a,attrs:u,emit:d,render:h,renderCache:p,props:g,data:y,setupState:v,ctx:w,inheritAttrs:C}=t,S=ck(t);let E,A;try{if(n.shapeFlag&4){const I=i||r,B=I;E=sa(h.call(B,I,p,g,v,y,w)),A=u}else{const I=e;E=sa(I.length>1?I(g,{attrs:u,slots:a,emit:d}):I(g,null)),A=e.props?u:ZH(u)}}catch(I){wv.length=0,ZC(I,t,1),E=Un(hu)}let N=E;if(A&&C!==!1){const I=Object.keys(A),{shapeFlag:B}=N;I.length&&B&7&&(l&&I.some(mA)&&(A=XH(A,l)),N=bm(N,A,!1,!0))}return n.dirs&&(N=bm(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&TA(N,n.transition),E=N,ck(S),E}const ZH=t=>{let e;for(const n in t)(n==="class"||n==="style"||VC(n))&&((e||(e={}))[n]=t[n]);return e},XH=(t,e)=>{const n={};for(const r in t)(!mA(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function YH(t,e,n){const{props:r,children:i,component:l}=t,{props:a,children:u,patchFlag:d}=e,h=l.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?N3(r,a,h):!!a;if(d&8){const p=e.dynamicProps;for(let g=0;g<p.length;g++){const y=p[g];if(a[y]!==r[y]&&!YC(h,y))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:r===a?!1:r?a?N3(r,a,h):!0:!!a;return!1}function N3(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const l=r[i];if(e[l]!==t[l]&&!YC(n,l))return!0}return!1}function QH({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const WP=t=>t.__isSuspense;function JH(t,e){e&&e.pendingBranch?gt(t)?e.effects.push(...t):e.effects.push(t):aH(t)}const Yo=Symbol.for("v-fgt"),QC=Symbol.for("v-txt"),hu=Symbol.for("v-cmt"),NE=Symbol.for("v-stc"),wv=[];let hs=null;function ai(t=!1){wv.push(hs=t?null:[])}function eV(){wv.pop(),hs=wv[wv.length-1]||null}let zv=1;function O3(t,e=!1){zv+=t,t<0&&hs&&e&&(hs.hasOnce=!0)}function KP(t){return t.dynamicChildren=zv>0?hs||tm:null,eV(),zv>0&&hs&&hs.push(t),t}function tu(t,e,n,r,i,l){return KP(Ss(t,e,n,r,i,l,!0))}function $v(t,e,n,r,i){return KP(Un(t,e,n,r,i,!0))}function Hv(t){return t?t.__v_isVNode===!0:!1}function G0(t,e){return t.type===e.type&&t.key===e.key}const ZP=({key:t})=>t??null,Iw=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Er(t)||Or(t)||vt(t)?{i:yo,r:t,k:e,f:!!n}:t:null);function Ss(t,e=null,n=null,r=0,i=null,l=t===Yo?0:1,a=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ZP(e),ref:e&&Iw(e),scopeId:CP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:yo};return u?(AA(d,n),l&128&&t.normalize(d)):n&&(d.shapeFlag|=Er(n)?8:16),zv>0&&!a&&hs&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&hs.push(d),d}const Un=tV;function tV(t,e=null,n=null,r=0,i=null,l=!1){if((!t||t===SH)&&(t=hu),Hv(t)){const u=bm(t,e,!0);return n&&AA(u,n),zv>0&&!l&&hs&&(u.shapeFlag&6?hs[hs.indexOf(t)]=u:hs.push(u)),u.patchFlag=-2,u}if(hV(t)&&(t=t.__vccOpts),e){e=nV(e);let{class:u,style:d}=e;u&&!Er(u)&&(e.class=eu(u)),zn(d)&&(xA(d)&&!gt(d)&&(d=_o({},d)),e.style=WC(d))}const a=Er(t)?1:WP(t)?128:uH(t)?64:zn(t)?4:vt(t)?2:0;return Ss(t,e,n,r,i,a,l,!0)}function nV(t){return t?xA(t)||PP(t)?_o({},t):t:null}function bm(t,e,n=!1,r=!1){const{props:i,ref:l,patchFlag:a,children:u,transition:d}=t,h=e?rV(i||{},e):i,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&ZP(h),ref:e&&e.ref?n&&l?gt(l)?l.concat(Iw(e)):[l,Iw(e)]:Iw(e):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Yo?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:d,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bm(t.ssContent),ssFallback:t.ssFallback&&bm(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return d&&r&&TA(p,d.clone(p)),p}function zh(t=" ",e=0){return Un(QC,null,t,e)}function D3(t="",e=!1){return e?(ai(),$v(hu,null,t)):Un(hu,null,t)}function sa(t){return t==null||typeof t=="boolean"?Un(hu):gt(t)?Un(Yo,null,t.slice()):Hv(t)?Du(t):Un(QC,null,String(t))}function Du(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bm(t)}function AA(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(gt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),AA(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!PP(e)?e._ctx=yo:i===3&&yo&&(yo.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else vt(e)?(e={default:e,_ctx:yo},n=32):(e=String(e),r&64?(n=16,e=[zh(e)]):n=8);t.children=e,t.shapeFlag|=n}function rV(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=eu([e.class,r.class]));else if(i==="style")e.style=WC([e.style,r.style]);else if(VC(i)){const l=e[i],a=r[i];a&&l!==a&&!(gt(l)&&l.includes(a))&&(e[i]=l?[].concat(l,a):a)}else i!==""&&(e[i]=r[i])}return e}function Jl(t,e,n,r=null){ha(t,e,7,[n,r])}const oV=NP();let iV=0;function sV(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||oV,l={uid:iV++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new T$(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:BP(r,i),emitsOptions:qP(r,i),emit:null,emitted:null,propsDefaults:_n,inheritAttrs:r.inheritAttrs,ctx:_n,data:_n,props:_n,attrs:_n,slots:_n,refs:_n,setupState:_n,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=KH.bind(null,l),t.ce&&t.ce(l),l}let co=null;const lV=()=>co||yo;let fk,MT;{const t=qC(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),l=>{i.length>1?i.forEach(a=>a(l)):i[0](l)}};fk=e("__VUE_INSTANCE_SETTERS__",n=>co=n),MT=e("__VUE_SSR_SETTERS__",n=>Vv=n)}const S1=t=>{const e=co;return fk(t),t.scope.on(),()=>{t.scope.off(),fk(e)}},L3=()=>{co&&co.scope.off(),fk(null)};function XP(t){return t.vnode.shapeFlag&4}let Vv=!1;function aV(t,e=!1,n=!1){e&&MT(e);const{props:r,children:i}=t.vnode,l=XP(t);LH(t,r,l,e),jH(t,i,n);const a=l?cV(t,e):void 0;return e&&MT(!1),a}function cV(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,EH);const{setup:r}=n;if(r){dd();const i=t.setupContext=r.length>1?dV(t):null,l=S1(t),a=_1(r,t,0,[t.props,i]),u=q5(a);if(fd(),l(),(u||t.sp)&&!om(t)&&_P(t),u){if(a.then(L3,L3),e)return a.then(d=>{P3(t,d)}).catch(d=>{ZC(d,t,0)});t.asyncDep=a}else P3(t,a)}else YP(t)}function P3(t,e,n){vt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:zn(e)&&(t.setupState=mP(e)),YP(t)}function YP(t,e,n){const r=t.type;t.render||(t.render=r.render||ca);{const i=S1(t);dd();try{TH(t)}finally{fd(),i()}}}const uV={get(t,e){return go(t,"get",""),t[e]}};function dV(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,uV),slots:t.slots,emit:t.emit,expose:e}}function RA(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(mP(Z$(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in vv)return vv[n](t)},has(e,n){return n in e||n in vv}})):t.proxy}function fV(t,e=!0){return vt(t)?t.displayName||t.name:t.name||e&&t.__name}function hV(t){return vt(t)&&"__vccOpts"in t}const ps=(t,e)=>nH(t,e,Vv);function pV(t,e,n){const r=arguments.length;return r===2?zn(e)&&!gt(e)?Hv(e)?Un(t,null,[e]):Un(t,e):Un(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Hv(n)&&(n=[n]),Un(t,e,n))}const mV="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let AT;const I3=typeof window<"u"&&window.trustedTypes;if(I3)try{AT=I3.createPolicy("vue",{createHTML:t=>t})}catch{}const QP=AT?t=>AT.createHTML(t):t=>t,gV="http://www.w3.org/2000/svg",bV="http://www.w3.org/1998/Math/MathML",Kc=typeof document<"u"?document:null,B3=Kc&&Kc.createElement("template"),yV={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Kc.createElementNS(gV,t):e==="mathml"?Kc.createElementNS(bV,t):n?Kc.createElement(t,{is:n}):Kc.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Kc.createTextNode(t),createComment:t=>Kc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Kc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,l){const a=n?n.previousSibling:e.lastChild;if(i&&(i===l||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===l||!(i=i.nextSibling)););else{B3.innerHTML=QP(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const u=B3.content;if(r==="svg"||r==="mathml"){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}e.insertBefore(u,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},vV=Symbol("_vtc");function wV(t,e,n){const r=t[vV];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const j3=Symbol("_vod"),kV=Symbol("_vsh"),CV=Symbol(""),_V=/(^|;)\s*display\s*:/;function SV(t,e,n){const r=t.style,i=Er(n);let l=!1;if(n&&!i){if(e)if(Er(e))for(const a of e.split(";")){const u=a.slice(0,a.indexOf(":")).trim();n[u]==null&&Bw(r,u,"")}else for(const a in e)n[a]==null&&Bw(r,a,"");for(const a in n)a==="display"&&(l=!0),Bw(r,a,n[a])}else if(i){if(e!==n){const a=r[CV];a&&(n+=";"+a),r.cssText=n,l=_V.test(n)}}else e&&t.removeAttribute("style");j3 in t&&(t[j3]=l?r.display:"",t[kV]&&(r.display="none"))}const z3=/\s*!important$/;function Bw(t,e,n){if(gt(n))n.forEach(r=>Bw(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=xV(t,e);z3.test(n)?t.setProperty(xp(r),n.replace(z3,""),"important"):t[r]=n}}const $3=["Webkit","Moz","ms"],OE={};function xV(t,e){const n=OE[e];if(n)return n;let r=Ps(e);if(r!=="filter"&&r in t)return OE[e]=r;r=GC(r);for(let i=0;i<$3.length;i++){const l=$3[i]+r;if(l in t)return OE[e]=l}return e}const H3="http://www.w3.org/1999/xlink";function V3(t,e,n,r,i,l=E$(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(H3,e.slice(6,e.length)):t.setAttributeNS(H3,e,n):n==null||l&&!X5(n)?t.removeAttribute(e):t.setAttribute(e,l?"":vu(n)?String(n):n)}function U3(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?QP(n):n);return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const u=l==="OPTION"?t.getAttribute("value")||"":t.value,d=n==null?t.type==="checkbox"?"on":"":String(n);(u!==d||!("_value"in t))&&(t.value=d),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=X5(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(i||e)}function EV(t,e,n,r){t.addEventListener(e,n,r)}function TV(t,e,n,r){t.removeEventListener(e,n,r)}const F3=Symbol("_vei");function MV(t,e,n,r,i=null){const l=t[F3]||(t[F3]={}),a=l[e];if(r&&a)a.value=r;else{const[u,d]=AV(e);if(r){const h=l[e]=OV(r,i);EV(t,u,h,d)}else a&&(TV(t,u,a,d),l[e]=void 0)}}const G3=/(?:Once|Passive|Capture)$/;function AV(t){let e;if(G3.test(t)){e={};let r;for(;r=t.match(G3);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xp(t.slice(2)),e]}let DE=0;const RV=Promise.resolve(),NV=()=>DE||(RV.then(()=>DE=0),DE=Date.now());function OV(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ha(DV(r,n.value),e,5,[r])};return n.value=t,n.attached=NV(),n}function DV(t,e){if(gt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const q3=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,LV=(t,e,n,r,i,l)=>{const a=i==="svg";e==="class"?wV(t,r,a):e==="style"?SV(t,n,r):VC(e)?mA(e)||MV(t,e,n,r,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):PV(t,e,r,a))?(U3(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&V3(t,e,r,a,l,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Er(r))?U3(t,Ps(e),r,l,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),V3(t,e,r,a))};function PV(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&q3(e)&&vt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return q3(e)&&Er(n)?!1:e in t}const IV=_o({patchProp:LV},yV);let W3;function BV(){return W3||(W3=$H(IV))}const jV=(...t)=>{const e=BV().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=$V(r);if(!i)return;const l=e._component;!vt(l)&&!l.render&&!l.template&&(l.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,zV(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function zV(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $V(t){return Er(t)?document.querySelector(t):t}function JP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LE={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3;function HV(){if(K3)return Et;K3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function S($,Y,te){this.props=$,this.context=Y,this.refs=C,this.updater=te||v}S.prototype.isReactComponent={},S.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=S.prototype;function A($,Y,te){this.props=$,this.context=Y,this.refs=C,this.updater=te||v}var N=A.prototype=new E;N.constructor=A,w(N,S.prototype),N.isPureReactComponent=!0;var I=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function q($,Y,te,re,Ee,$e){return te=$e.ref,{$$typeof:t,type:$,key:Y,ref:te!==void 0?te:null,props:$e}}function Z($,Y){return q($.type,Y,void 0,void 0,void 0,$.props)}function Q($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function ie($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return Y[te]})}var ke=/\/+/g;function ue($,Y){return typeof $=="object"&&$!==null&&$.key!=null?ie(""+$.key):Y.toString(36)}function xe(){}function we($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(xe,xe):($.status="pending",$.then(function(Y){$.status==="pending"&&($.status="fulfilled",$.value=Y)},function(Y){$.status==="pending"&&($.status="rejected",$.reason=Y)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function de($,Y,te,re,Ee){var $e=typeof $;($e==="undefined"||$e==="boolean")&&($=null);var Ae=!1;if($===null)Ae=!0;else switch($e){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch($.$$typeof){case t:case e:Ae=!0;break;case p:return Ae=$._init,de(Ae($._payload),Y,te,re,Ee)}}if(Ae)return Ee=Ee($),Ae=re===""?"."+ue($,0):re,I(Ee)?(te="",Ae!=null&&(te=Ae.replace(ke,"$&/")+"/"),de(Ee,Y,te,"",function(Ut){return Ut})):Ee!=null&&(Q(Ee)&&(Ee=Z(Ee,te+(Ee.key==null||$&&$.key===Ee.key?"":(""+Ee.key).replace(ke,"$&/")+"/")+Ae)),Y.push(Ee)),1;Ae=0;var ft=re===""?".":re+":";if(I($))for(var ct=0;ct<$.length;ct++)re=$[ct],$e=ft+ue(re,ct),Ae+=de(re,Y,te,$e,Ee);else if(ct=y($),typeof ct=="function")for($=ct.call($),ct=0;!(re=$.next()).done;)re=re.value,$e=ft+ue(re,ct++),Ae+=de(re,Y,te,$e,Ee);else if($e==="object"){if(typeof $.then=="function")return de(we($),Y,te,re,Ee);throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function L($,Y,te){if($==null)return $;var re=[],Ee=0;return de($,re,"","",function($e){return Y.call(te,$e,Ee++)}),re}function H($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var K=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function ee(){}return Et.Children={map:L,forEach:function($,Y,te){L($,function(){Y.apply(this,arguments)},te)},count:function($){var Y=0;return L($,function(){Y++}),Y},toArray:function($){return L($,function(Y){return Y})||[]},only:function($){if(!Q($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Et.Component=S,Et.Fragment=n,Et.Profiler=i,Et.PureComponent=A,Et.StrictMode=r,Et.Suspense=d,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Et.__COMPILER_RUNTIME={__proto__:null,c:function($){return B.H.useMemoCache($)}},Et.cache=function($){return function(){return $.apply(null,arguments)}},Et.cloneElement=function($,Y,te){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var re=w({},$.props),Ee=$.key,$e=void 0;if(Y!=null)for(Ae in Y.ref!==void 0&&($e=void 0),Y.key!==void 0&&(Ee=""+Y.key),Y)!F.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(re[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)re.children=te;else if(1<Ae){for(var ft=Array(Ae),ct=0;ct<Ae;ct++)ft[ct]=arguments[ct+2];re.children=ft}return q($.type,Ee,void 0,void 0,$e,re)},Et.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Et.createElement=function($,Y,te){var re,Ee={},$e=null;if(Y!=null)for(re in Y.key!==void 0&&($e=""+Y.key),Y)F.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=Y[re]);var Ae=arguments.length-2;if(Ae===1)Ee.children=te;else if(1<Ae){for(var ft=Array(Ae),ct=0;ct<Ae;ct++)ft[ct]=arguments[ct+2];Ee.children=ft}if($&&$.defaultProps)for(re in Ae=$.defaultProps,Ae)Ee[re]===void 0&&(Ee[re]=Ae[re]);return q($,$e,void 0,void 0,null,Ee)},Et.createRef=function(){return{current:null}},Et.forwardRef=function($){return{$$typeof:u,render:$}},Et.isValidElement=Q,Et.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:H}},Et.memo=function($,Y){return{$$typeof:h,type:$,compare:Y===void 0?null:Y}},Et.startTransition=function($){var Y=B.T,te={};B.T=te;try{var re=$(),Ee=B.S;Ee!==null&&Ee(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ee,K)}catch($e){K($e)}finally{B.T=Y}},Et.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Et.use=function($){return B.H.use($)},Et.useActionState=function($,Y,te){return B.H.useActionState($,Y,te)},Et.useCallback=function($,Y){return B.H.useCallback($,Y)},Et.useContext=function($){return B.H.useContext($)},Et.useDebugValue=function(){},Et.useDeferredValue=function($,Y){return B.H.useDeferredValue($,Y)},Et.useEffect=function($,Y,te){var re=B.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect($,Y)},Et.useId=function(){return B.H.useId()},Et.useImperativeHandle=function($,Y,te){return B.H.useImperativeHandle($,Y,te)},Et.useInsertionEffect=function($,Y){return B.H.useInsertionEffect($,Y)},Et.useLayoutEffect=function($,Y){return B.H.useLayoutEffect($,Y)},Et.useMemo=function($,Y){return B.H.useMemo($,Y)},Et.useOptimistic=function($,Y){return B.H.useOptimistic($,Y)},Et.useReducer=function($,Y,te){return B.H.useReducer($,Y,te)},Et.useRef=function($){return B.H.useRef($)},Et.useState=function($){return B.H.useState($)},Et.useSyncExternalStore=function($,Y,te){return B.H.useSyncExternalStore($,Y,te)},Et.useTransition=function(){return B.H.useTransition()},Et.version="19.1.0",Et}var Z3;function NA(){return Z3||(Z3=1,LE.exports=HV()),LE.exports}var T=NA();const lt=JP(T),VV=p$({__proto__:null,default:lt},[T]);var PE={exports:{}},fo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3;function UV(){if(X3)return fo;X3=1;var t=NA();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return fo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fo.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(d,h,null,p)},fo.flushSync=function(d){var h=a.T,p=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=h,r.p=p,r.d.f()}},fo.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},fo.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fo.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},fo.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},fo.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},fo.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},fo.requestFormReset=function(d){r.d.r(d)},fo.unstable_batchedUpdates=function(d,h){return d(h)},fo.useFormState=function(d,h,p){return a.H.useFormState(d,h,p)},fo.useFormStatus=function(){return a.H.useHostTransitionStatus()},fo.version="19.1.0",fo}var Y3;function e8(){if(Y3)return PE.exports;Y3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),PE.exports=UV(),PE.exports}var Ul=e8();const OA=JP(Ul),FV="modulepreload",GV=function(t){return"/block-note-vue-demo/"+t},Q3={},Me=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=GV(d),d in Q3)return;Q3[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":FV,h||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((y,v)=>{g.addEventListener("load",y),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})};function so(t){this.content=t}so.prototype={constructor:so,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),l=r.content.slice();return i==-1?l.push(n||t,e):(l[i+1]=e,n&&(l[i]=n)),new so(l)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new so(n)},addToStart:function(t,e){return new so([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new so(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),l=r.find(t);return i.splice(l==-1?i.length:l,0,e,n),new so(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=so.from(t),t.size?new so(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=so.from(t),t.size?new so(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=so.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};so.from=function(t){if(t instanceof so)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new so(e)};function t8(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),l=e.child(r);if(i==l){n+=i.nodeSize;continue}if(!i.sameMarkup(l))return n;if(i.isText&&i.text!=l.text){for(let a=0;i.text[a]==l.text[a];a++)n++;return n}if(i.content.size||l.content.size){let a=t8(i.content,l.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function n8(t,e,n,r){for(let i=t.childCount,l=e.childCount;;){if(i==0||l==0)return i==l?null:{a:n,b:r};let a=t.child(--i),u=e.child(--l),d=a.nodeSize;if(a==u){n-=d,r-=d;continue}if(!a.sameMarkup(u))return{a:n,b:r};if(a.isText&&a.text!=u.text){let h=0,p=Math.min(a.text.length,u.text.length);for(;h<p&&a.text[a.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(a.content.size||u.content.size){let h=n8(a.content,u.content,n-1,r-1);if(h)return h}n-=d,r-=d}}class se{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,l){for(let a=0,u=0;u<n;a++){let d=this.content[a],h=u+d.nodeSize;if(h>e&&r(d,i+u,l||null,a)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,i+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let l="",a=!0;return this.nodesBetween(e,n,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),l=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),l=1);l<e.content.length;l++)i.push(e.content[l]);return new se(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let l=0,a=0;a<n;l++){let u=this.content[l],d=a+u.nodeSize;d>e&&((a<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-a),Math.min(u.text.length,n-a)):u=u.cut(Math.max(0,e-a-1),Math.min(u.content.size,n-a-1))),r.push(u),i+=u.nodeSize),a=d}return new se(r,i)}cutByIndex(e,n){return e==n?se.empty:e==0&&n==this.content.length?this:new se(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),l=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new se(i,l)}addToStart(e){return new se([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new se(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return t8(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return n8(this,e,n,r)}findIndex(e,n=-1){if(e==0)return rw(0,e);if(e==this.size)return rw(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let l=this.child(r),a=i+l.nodeSize;if(a>=e)return a==e||n>0?rw(r+1,a):rw(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return se.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return se.empty;let n,r=0;for(let i=0;i<e.length;i++){let l=e[i];r+=l.nodeSize,i&&l.isText&&e[i-1].sameMarkup(l)?(n||(n=e.slice(0,i)),n[n.length-1]=l.withText(n[n.length-1].text+l.text)):n&&n.push(l)}return new se(n||e,r)}static from(e){if(!e)return se.empty;if(e instanceof se)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new se([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}se.empty=new se([],0);const IE={index:0,offset:0};function rw(t,e){return IE.index=t,IE.offset=e,IE}function hk(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!hk(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!hk(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let wn=class RT{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let l=e[i];if(this.eq(l))return e;if(this.type.excludes(l.type))n||(n=e.slice(0,i));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(l)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hk(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return RT.none;if(e instanceof RT)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};wn.none=[];class pk extends Error{}class Se{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=o8(this.content,e+this.openStart,n);return r&&new Se(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Se(r8(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Se.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Se(se.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let l=e.firstChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.lastChild)i++;return new Se(e,r,i)}}Se.empty=new Se(se.empty,0,0);function r8(t,e,n){let{index:r,offset:i}=t.findIndex(e),l=t.maybeChild(r),{index:a,offset:u}=t.findIndex(n);if(i==e||l.isText){if(u!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,l.copy(r8(l.content,e-i-1,n-i-1)))}function o8(t,e,n,r){let{index:i,offset:l}=t.findIndex(e),a=t.maybeChild(i);if(l==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let u=o8(a.content,e-l-1,n);return u&&t.replaceChild(i,a.copy(u))}function qV(t,e,n){if(n.openStart>t.depth)throw new pk("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new pk("Inconsistent open depths");return i8(t,e,n,0)}function i8(t,e,n,r){let i=t.index(r),l=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=i8(t,e,n,r+1);return l.copy(l.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,u=a.content;return op(a,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:a,end:u}=WV(n,t);return op(l,l8(t,a,u,e,r))}else return op(l,mk(t,e,r))}function s8(t,e){if(!e.type.compatibleContent(t.type))throw new pk("Cannot join "+e.type.name+" onto "+t.type.name)}function NT(t,e,n){let r=t.node(n);return s8(r,e.node(n)),r}function rp(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function kv(t,e,n,r){let i=(e||t).node(n),l=0,a=e?e.index(n):i.childCount;t&&(l=t.index(n),t.depth>n?l++:t.textOffset&&(rp(t.nodeAfter,r),l++));for(let u=l;u<a;u++)rp(i.child(u),r);e&&e.depth==n&&e.textOffset&&rp(e.nodeBefore,r)}function op(t,e){return t.type.checkContent(e),t.copy(e)}function l8(t,e,n,r,i){let l=t.depth>i&&NT(t,e,i+1),a=r.depth>i&&NT(n,r,i+1),u=[];return kv(null,t,i,u),l&&a&&e.index(i)==n.index(i)?(s8(l,a),rp(op(l,l8(t,e,n,r,i+1)),u)):(l&&rp(op(l,mk(t,e,i+1)),u),kv(e,n,i,u),a&&rp(op(a,mk(n,r,i+1)),u)),kv(r,null,i,u),new se(u)}function mk(t,e,n){let r=[];if(kv(null,t,n,r),t.depth>n){let i=NT(t,e,n+1);rp(op(i,mk(t,e,n+1)),r)}return kv(e,null,n,r),new se(r)}function WV(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let l=n-1;l>=0;l--)i=e.node(l).copy(se.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Uv{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let l=0;l<e;l++)i+=r.child(l).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return wn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let u=r;r=i,i=u}let l=r.marks;for(var a=0;a<l.length;a++)l[a].type.spec.inclusive===!1&&(!i||!l[a].isInSet(i.marks))&&(l=l[a--].removeFromSet(l));return l}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!i||!r[l].isInSet(i.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new gk(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,l=n;for(let a=e;;){let{index:u,offset:d}=a.content.findIndex(l),h=l-d;if(r.push(a,u,i+d),!h||(a=a.child(u),a.isText))break;l=h-1,i+=d+1}return new Uv(n,r,l)}static resolveCached(e,n){let r=J3.get(e);if(r)for(let l=0;l<r.elts.length;l++){let a=r.elts[l];if(a.pos==n)return a}else J3.set(e,r=new KV);let i=r.elts[r.i]=Uv.resolve(e,n);return r.i=(r.i+1)%ZV,i}}class KV{constructor(){this.elts=[],this.i=0}}const ZV=12,J3=new WeakMap;class gk{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const XV=Object.create(null);let su=class OT{constructor(e,n,r,i=wn.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||se.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&hk(this.attrs,n||e.defaultAttrs||XV)&&wn.sameSet(this.marks,r||wn.none)}copy(e=null){return e==this.content?this:new OT(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new OT(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Se.empty;let i=this.resolve(e),l=this.resolve(n),a=r?0:i.sharedDepth(n),u=i.start(a),h=i.node(a).content.cut(i.pos-u,l.pos-u);return new Se(h,i.depth-a,l.depth-a)}replace(e,n,r){return qV(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Uv.resolveCached(this,e)}resolveNoCache(e){return Uv.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,l=>(r.isInSet(l.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),a8(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=se.empty,i=0,l=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,l),u=a&&a.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=i;d<l;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let l=this.contentMatchAt(e).matchType(r),a=l&&l.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=wn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!wn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=se.fromJSON(e,n.content),l=e.nodeType(n.type).create(n.attrs,i,r);return l.type.checkAttrs(l.attrs),l}};su.prototype.text=void 0;class bk extends su{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):a8(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new bk(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new bk(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function a8(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class dp{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new YV(e,n);if(r.next==null)return dp.empty;let i=c8(r);r.next&&r.err("Unexpected trailing text");let l=oU(rU(i));return iU(l,r),l}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let l=n;i&&l<r;l++)i=i.matchType(e.child(l).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function l(a,u){let d=a.matchFragment(e,r);if(d&&(!n||d.validEnd))return se.from(u.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:p,next:g}=a.next[h];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let y=l(g,u.concat(p));if(y)return y}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),l=i.match;if(l.matchType(e)){let a=[];for(let u=i;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<l.next.length;a++){let{type:u,next:d}=l.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!i.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let l=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)l+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return l}).join(`
`)}}dp.empty=new dp(!0);class YV{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function c8(t){let e=[];do e.push(QV(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function QV(t){let e=[];do e.push(JV(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function JV(t){let e=nU(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=eU(t,e);else break;return e}function e4(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function eU(t,e){let n=e4(t),r=n;return t.eat(",")&&(t.next!="}"?r=e4(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function tU(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let l in n){let a=n[l];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function nU(t){if(t.eat("(")){let e=c8(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=tU(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function rU(t){let e=[[]];return i(l(t,0),n()),e;function n(){return e.push([])-1}function r(a,u,d){let h={term:d,to:u};return e[a].push(h),h}function i(a,u){a.forEach(d=>d.to=u)}function l(a,u){if(a.type=="choice")return a.exprs.reduce((d,h)=>d.concat(l(h,u)),[]);if(a.type=="seq")for(let d=0;;d++){let h=l(a.exprs[d],u);if(d==a.exprs.length-1)return h;i(h,u=n())}else if(a.type=="star"){let d=n();return r(u,d),i(l(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=n();return i(l(a.expr,u),d),i(l(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(u)].concat(l(a.expr,u));if(a.type=="range"){let d=u;for(let h=0;h<a.min;h++){let p=n();i(l(a.expr,d),p),d=p}if(a.max==-1)i(l(a.expr,d),d);else for(let h=a.min;h<a.max;h++){let p=n();r(d,p),i(l(a.expr,d),p),d=p}return[r(d)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function u8(t,e){return e-t}function t4(t,e){let n=[];return r(e),n.sort(u8);function r(i){let l=t[i];if(l.length==1&&!l[0].term)return r(l[0].to);n.push(i);for(let a=0;a<l.length;a++){let{term:u,to:d}=l[a];!u&&n.indexOf(d)==-1&&r(d)}}}function oU(t){let e=Object.create(null);return n(t4(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let p=0;p<i.length;p++)i[p][0]==u&&(h=i[p][1]);t4(t,d).forEach(p=>{h||i.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let l=e[r.join(",")]=new dp(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let u=i[a][1].sort(u8);l.next.push({type:i[a][0],next:e[u.join(",")]||n(u)})}return l}}function iU(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],l=!i.validEnd,a=[];for(let u=0;u<i.next.length;u++){let{type:d,next:h}=i.next[u];a.push(d.name),l&&!(d.isText||d.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function d8(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function f8(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let l=t[r];if(l.hasDefault)i=l.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function h8(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let l=t[i];l.validate&&l.validate(e[i])}}function p8(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new lU(t,r,e[r]);return n}let n4=class m8{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=p8(e,r.attrs),this.defaultAttrs=d8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==dp.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:f8(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new su(this,this.computeAttrs(e),se.from(n),wn.setFrom(r))}createChecked(e=null,n,r){return n=se.from(n),this.checkContent(n),new su(this,this.computeAttrs(e),n,wn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=se.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),l=i&&i.fillBefore(se.empty,!0);return l?new su(this,e,n.append(l),wn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){h8(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:wn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((l,a)=>r[l]=new m8(l,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function sU(t,e,n){let r=n.split("|");return i=>{let l=i===null?"null":typeof i;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${l}`)}}class lU{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?sU(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class JC{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=p8(e,i.attrs),this.excluded=null;let l=d8(this.attrs);this.instance=l?new wn(this,l):null}create(e=null){return!e&&this.instance?this.instance:new wn(this,f8(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((l,a)=>r[l]=new JC(l,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){h8(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let g8=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=so.from(e.nodes),n.marks=so.from(e.marks||{}),this.nodes=n4.compile(this.spec.nodes,this),this.marks=JC.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let l=this.nodes[i],a=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=r[a]||(r[a]=dp.parse(a,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?r4(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let i in this.marks){let l=this.marks[i],a=l.spec.excludes;l.excluded=a==null?[l]:a==""?[]:r4(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof n4){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new bk(r,r.defaultAttrs,e,wn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return su.fromJSON(this,e)}markFromJSON(e){return wn.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function r4(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],l=t.marks[i],a=l;if(l)n.push(l);else for(let u in t.marks){let d=t.marks[u];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function aU(t){return t.tag!=null}function cU(t){return t.style!=null}let ip=class DT{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(aU(i))this.tags.push(i);else if(cU(i)){let l=/[^=]*/.exec(i.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let l=e.nodes[i.node];return l.contentMatch.matchType(l)})}parse(e,n={}){let r=new i4(this,n,!1);return r.addAll(e,wn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new i4(this,n,!0);return r.addAll(e,wn.none,n.from,n.to),Se.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let l=this.tags[i];if(fU(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||n.matchesContext(l.context))){if(l.getAttrs){let a=l.getAttrs(e);if(a===!1)continue;l.attrs=a||void 0}return l}}}matchStyle(e,n,r,i){for(let l=i?this.styles.indexOf(i)+1:0;l<this.styles.length;l++){let a=this.styles[l],u=a.style;if(!(u.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(a.getAttrs){let d=a.getAttrs(n);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let l=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let u=n[a];if((u.priority==null?50:u.priority)<l)break}n.splice(a,0,i)}for(let i in e.marks){let l=e.marks[i].spec.parseDOM;l&&l.forEach(a=>{r(a=s4(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let l=e.nodes[i].spec.parseDOM;l&&l.forEach(a=>{r(a=s4(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new DT(e,DT.schemaRules(e)))}};const b8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},uU={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},y8={ol:!0,ul:!0},Fv=1,LT=2,jw=4;function o4(t,e,n){return e!=null?(e?Fv:0)|(e==="full"?LT:0):t&&t.whitespace=="pre"?Fv|LT:n&-5}class ow{constructor(e,n,r,i,l,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=wn.none,this.match=l||(a&jw?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(se.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Fv)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-i[0].length))}}let n=se.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!b8.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class i4{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,l,a=o4(null,n.preserveWhitespace,0)|(r?jw:0);i?l=new ow(i.type,i.attrs,wn.none,!0,n.topMatch||i.type.contentMatch,a):r?l=new ow(null,null,wn.none,!0,null,a):l=new ow(e.schema.topNodeType,null,wn.none,!0,null,a),this.nodes=[l],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,l=i.options&LT?"full":this.localPreserveWS||(i.options&Fv)>0;if(l==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],u=e.previousSibling;(!a||u&&u.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),u;y8.hasOwnProperty(a)&&this.parser.normalizeLists&&dU(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(d?d.ignore:uU.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,p=this.needsBlock;if(b8.hasOwnProperty(a))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=d&&d.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),h&&this.sync(l),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let l=this.parser.matchedStyles[i],a=r.getPropertyValue(l);if(a)for(let u=void 0;;){let d=this.parser.matchStyle(l,a,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return n}addElementByRule(e,n,r,i){let l,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r)||this.leafFallback(e,r);else{let d=this.enter(a,n.attrs||null,r,n.preserveWhitespace);d&&(l=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}l&&this.sync(u)&&this.open--}addAll(e,n,r,i){let l=r||0;for(let a=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];a!=u;a=a.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(a,n);this.findAtPoint(e,l)}findPlace(e,n){let r,i;for(let l=this.open;l>=0;l--){let a=this.nodes[l],u=a.findWrapping(e);if(u&&(!r||r.length>u.length)&&(r=u,i=a,!u.length)||a.solid)break}if(!r)return null;this.sync(i);for(let l=0;l<r.length;l++)n=this.enterInner(r[l],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let l=wn.none;for(let a of r.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):l4(a.type,e.type))&&(l=a.addToSet(l));return i.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let l=this.findPlace(e.create(n),r);return l&&(l=this.enterInner(e,n,r,!0,i)),l}enterInner(e,n,r,i=!1,l){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let u=o4(e,l,a.options);a.options&jw&&a.content.length==0&&(u|=jw);let d=wn.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):l4(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new ow(e,n,d,i,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Fv)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(i?0:1),a=(u,d)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;d>=l;d--)if(a(u-1,d))return!0;return!1}else{let p=d>0||d==0&&i?this.nodes[d].type:r&&d>=l?r.node(d-l).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;d--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function dU(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&y8.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function fU(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function s4(t){let e={};for(let n in t)e[n]=t[n];return e}function l4(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let l=[],a=u=>{l.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:p}=u.edge(d);if(h==e||l.indexOf(p)<0&&a(p))return!0}};if(a(i.contentMatch))return!0}}class ku{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=BE(n).createDocumentFragment());let i=r,l=[];return e.forEach(a=>{if(l.length||a.marks.length){let u=0,d=0;for(;u<l.length&&d<a.marks.length;){let h=a.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(l[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<l.length;)i=l.pop()[1];for(;d<a.marks.length;){let h=a.marks[d++],p=this.serializeMark(h,a.isInline,n);p&&(l.push([h,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=zw(BE(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let l=this.serializeMark(e.marks[i],e.isInline,n);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&zw(BE(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return zw(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ku(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=a4(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return a4(e.marks)}}function a4(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function BE(t){return t.document||window.document}const c4=new WeakMap;function hU(t){let e=c4.get(t);return e===void 0&&c4.set(t,e=pU(t)),e}function pU(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function zw(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],l;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=hU(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let u,d=n?t.createElementNS(n,i):t.createElement(i),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let y=g.indexOf(" ");y>0?d.setAttributeNS(g.slice(0,y),g.slice(y+1),h[g]):d.setAttribute(g,h[g])}}for(let g=p;g<e.length;g++){let y=e[g];if(y===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:w}=zw(t,y,n,r);if(d.appendChild(v),w){if(u)throw new RangeError("Multiple content holes");u=w}}}return{dom:d,contentDOM:u}}const v8=65535,w8=Math.pow(2,16);function mU(t,e){return t+e*w8}function u4(t){return t&v8}function gU(t){return(t-(t&v8))/w8}const k8=1,C8=2,$w=4,_8=8;class PT{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&_8)>0}get deletedBefore(){return(this.delInfo&(k8|$w))>0}get deletedAfter(){return(this.delInfo&(C8|$w))>0}get deletedAcross(){return(this.delInfo&$w)>0}}class ds{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ds.empty)return ds.empty}recover(e){let n=0,r=u4(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+gU(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?i:0);if(d>e)break;let h=this.ranges[u+l],p=this.ranges[u+a],g=d+h;if(e<=g){let y=h?e==d?-1:e==g?1:n:n,v=d+i+(y<0?0:p);if(r)return v;let w=e==(n<0?d:g)?null:mU(u/3,e-d),C=e==d?C8:e==g?k8:$w;return(n<0?e!=d:e!=g)&&(C|=_8),new PT(v,C,w)}i+=p-h}return r?e+i:new PT(e+i,0,null)}touches(e,n){let r=0,i=u4(n),l=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[u+l],p=d+h;if(e<=p&&u==i*3)return!0;r+=this.ranges[u+a]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,l=0;i<this.ranges.length;i+=3){let a=this.ranges[i],u=a-(this.inverted?l:0),d=a+(this.inverted?0:l),h=this.ranges[i+n],p=this.ranges[i+r];e(u,u+h,d,d+p),l+=p-h}}invert(){return new ds(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ds.empty:new ds(e<0?[0,-e,0]:[0,0,e])}}ds.empty=new ds([]);class ym{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ym(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ym;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let l=this.from;l<this.to;l++){let a=this._maps[l],u=a.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(l);if(d!=null&&d>l&&d<this.to){l=d,e=this._maps[d].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new PT(e,i,null)}}const jE=Object.create(null);class xo{getMap(){return ds.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=jE[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in jE)throw new RangeError("Duplicate use of step JSON ID "+e);return jE[e]=n,n.prototype.jsonID=e,n}}class ir{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ir(e,null)}static fail(e){return new ir(null,e)}static fromReplace(e,n,r,i){try{return ir.ok(e.replace(n,r,i))}catch(l){if(l instanceof pk)return ir.fail(l.message);throw l}}}function DA(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let l=t.child(i);l.content.size&&(l=l.copy(DA(l.content,e,l))),l.isInline&&(l=e(l,n,i)),r.push(l)}return se.fromArray(r)}class Fu extends xo{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),l=new Se(DA(n.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return ir.fromReplace(e,this.from,this.to,l)}invert(){return new la(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Fu(n.pos,r.pos,this.mark)}merge(e){return e instanceof Fu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Fu(n.from,n.to,e.markFromJSON(n.mark))}}xo.jsonID("addMark",Fu);class la extends xo{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Se(DA(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return ir.fromReplace(e,this.from,this.to,r)}invert(){return new Fu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new la(n.pos,r.pos,this.mark)}merge(e){return e instanceof la&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new la(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new la(n.from,n.to,e.markFromJSON(n.mark))}}xo.jsonID("removeMark",la);class Gu extends xo{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ir.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ir.fromReplace(e,this.pos,this.pos+1,new Se(se.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Gu(this.pos,n.marks[i]);return new Gu(this.pos,this.mark)}}return new vm(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Gu(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Gu(n.pos,e.markFromJSON(n.mark))}}xo.jsonID("addNodeMark",Gu);class vm extends xo{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ir.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ir.fromReplace(e,this.pos,this.pos+1,new Se(se.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Gu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new vm(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new vm(n.pos,e.markFromJSON(n.mark))}}xo.jsonID("removeNodeMark",vm);class xr extends xo{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&IT(e,this.from,this.to)?ir.fail("Structure replace would overwrite content"):ir.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ds([this.from,this.to-this.from,this.slice.size])}invert(e){return new xr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new xr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof xr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Se.empty:new Se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new xr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Se.empty:new Se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new xr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xr(n.from,n.to,Se.fromJSON(e,n.slice),!!n.structure)}}xo.jsonID("replace",xr);class tr extends xo{constructor(e,n,r,i,l,a,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=l,this.insert=a,this.structure=u}apply(e){if(this.structure&&(IT(e,this.from,this.gapFrom)||IT(e,this.gapTo,this.to)))return ir.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ir.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ir.fromReplace(e,this.from,this.to,r):ir.fail("Content does not fit in gap")}getMap(){return new ds([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new tr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||l>r.pos?null:new tr(n.pos,r.pos,i,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new tr(n.from,n.to,n.gapFrom,n.gapTo,Se.fromJSON(e,n.slice),n.insert,!!n.structure)}}xo.jsonID("replaceAround",tr);function IT(t,e,n){let r=t.resolve(e),i=n-e,l=r.depth;for(;i>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,i--;if(i>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function bU(t,e,n,r){let i=[],l=[],a,u;t.doc.nodesBetween(e,n,(d,h,p)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let y=Math.max(h,e),v=Math.min(h+d.nodeSize,n),w=r.addToSet(g);for(let C=0;C<g.length;C++)g[C].isInSet(w)||(a&&a.to==y&&a.mark.eq(g[C])?a.to=v:i.push(a=new la(y,v,g[C])));u&&u.to==y?u.to=v:l.push(u=new Fu(y,v,r))}}),i.forEach(d=>t.step(d)),l.forEach(d=>t.step(d))}function yU(t,e,n,r){let i=[],l=0;t.doc.nodesBetween(e,n,(a,u)=>{if(!a.isInline)return;l++;let d=null;if(r instanceof JC){let h=a.marks,p;for(;p=r.isInSet(h);)(d||(d=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let h=Math.min(u+a.nodeSize,n);for(let p=0;p<d.length;p++){let g=d[p],y;for(let v=0;v<i.length;v++){let w=i[v];w.step==l-1&&g.eq(i[v].style)&&(y=w)}y?(y.to=h,y.step=l):i.push({style:g,from:Math.max(u,e),to:h,step:l})}}}),i.forEach(a=>t.step(new la(a.from,a.to,a.style)))}function LA(t,e,n,r=n.contentMatch,i=!0){let l=t.doc.nodeAt(e),a=[],u=e+1;for(let d=0;d<l.childCount;d++){let h=l.child(d),p=u+h.nodeSize,g=r.matchType(h.type);if(!g)a.push(new xr(u,p,Se.empty));else{r=g;for(let y=0;y<h.marks.length;y++)n.allowsMarkType(h.marks[y].type)||t.step(new la(u,p,h.marks[y]));if(i&&h.isText&&n.whitespace!="pre"){let y,v=/\r?\n|\r/g,w;for(;y=v.exec(h.text);)w||(w=new Se(se.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),a.push(new xr(u+y.index,u+y.index+y[0].length,w))}}u=p}if(!r.validEnd){let d=r.fillBefore(se.empty,!0);t.replace(u,u,new Se(d,0,0))}for(let d=a.length-1;d>=0;d--)t.step(a[d])}function vU(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Pm(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),l=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(l,a,n))return r;if(r==0||i.type.spec.isolating||!vU(i,l,a))break}return null}function wU(t,e,n){let{$from:r,$to:i,depth:l}=e,a=r.before(l+1),u=i.after(l+1),d=a,h=u,p=se.empty,g=0;for(let w=l,C=!1;w>n;w--)C||r.index(w)>0?(C=!0,p=se.from(r.node(w).copy(p)),g++):d--;let y=se.empty,v=0;for(let w=l,C=!1;w>n;w--)C||i.after(w+1)<i.end(w)?(C=!0,y=se.from(i.node(w).copy(y)),v++):h++;t.step(new tr(d,h,a,u,new Se(p.append(y),g,v),p.size-g,!0))}function S8(t,e,n=null,r=t){let i=kU(t,e),l=i&&CU(r,e);return l?i.map(d4).concat({type:e,attrs:n}).concat(l.map(d4)):null}function d4(t){return{type:t,attrs:null}}function kU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,l=n.contentMatchAt(r).findWrapping(e);if(!l)return null;let a=l.length?l[0]:e;return n.canReplaceWith(r,i,a)?l:null}function CU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,l=n.child(r),a=e.contentMatch.findWrapping(l.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;d&&h<i;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:a}function _U(t,e,n){let r=se.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let u=n[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=se.from(n[a].type.create(n[a].attrs,r))}let i=e.start,l=e.end;t.step(new tr(i,l,i,l,new Se(r,0,0),n.length,!0))}function SU(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=t.steps.length;t.doc.nodesBetween(e,n,(a,u)=>{let d=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,d)&&xU(t.doc,t.mapping.slice(l).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!w?h=!1:!v&&w&&(h=!0)}h===!1&&E8(t,a,u,l),LA(t,t.mapping.slice(l).map(u,1),r,void 0,h===null);let p=t.mapping.slice(l),g=p.map(u,1),y=p.map(u+a.nodeSize,1);return t.step(new tr(g,y,g+1,y-1,new Se(se.from(r.create(d,null,a.marks)),0,0),1,!0)),h===!0&&x8(t,a,u,l),!1}})}function x8(t,e,n,r){e.forEach((i,l)=>{if(i.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(i.text);){let d=t.mapping.slice(r).map(n+1+l+a.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function E8(t,e,n,r){e.forEach((i,l)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+l);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function xU(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function EU(t,e,n,r,i){let l=t.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");n||(n=l.type);let a=n.create(r,null,i||l.marks);if(l.isLeaf)return t.replaceWith(e,e+l.nodeSize,a);if(!n.validContent(l.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new tr(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new Se(se.from(a),0,0),1,!0))}function lu(t,e,n=1,r){let i=t.resolve(e),l=i.depth-n,a=r&&r[r.length-1]||i.parent;if(l<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,p=n-2;h>l;h--,p--){let g=i.node(h),y=i.index(h);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(y,g.childCount),w=r&&r[p+1];w&&(v=v.replaceChild(0,w.type.create(w.attrs)));let C=r&&r[p]||g;if(!g.canReplace(y+1,g.childCount)||!C.type.validContent(v))return!1}let u=i.indexAfter(l),d=r&&r[0];return i.node(l).canReplaceWith(u,u,d?d.type:i.node(l+1).type)}function TU(t,e,n=1,r){let i=t.doc.resolve(e),l=se.empty,a=se.empty;for(let u=i.depth,d=i.depth-n,h=n-1;u>d;u--,h--){l=se.from(i.node(u).copy(l));let p=r&&r[h];a=se.from(p?p.type.create(p.attrs,a):i.node(u).copy(a))}t.step(new xr(e,e,new Se(l.append(a),n,n),!0))}function Ep(t,e){let n=t.resolve(e),r=n.index();return T8(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function MU(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let l=e.child(i),a=l.type==r?t.type.schema.nodes.text:l.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(l.marks))return!1}return n.validEnd}function T8(t,e){return!!(t&&e&&!t.isLeaf&&MU(t,e))}function e_(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let l,a,u=r.index(i);if(i==r.depth?(l=r.nodeBefore,a=r.nodeAfter):n>0?(l=r.node(i+1),u++,a=r.node(i).maybeChild(u)):(l=r.node(i).maybeChild(u-1),a=r.node(i+1)),l&&!l.isTextblock&&T8(l,a)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function AU(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,l=t.doc.resolve(e-n),a=l.node().type;if(i&&a.inlineContent){let p=a.whitespace=="pre",g=!!a.contentMatch.matchType(i);p&&!g?r=!1:!p&&g&&(r=!0)}let u=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);E8(t,p.node(),p.before(),u)}a.inlineContent&&LA(t,e+n-1,a,l.node().contentMatchAt(l.index()),r==null);let d=t.mapping.slice(u),h=d.map(e-n);if(t.step(new xr(h,d.map(e+n,-1),Se.empty,!0)),r===!0){let p=t.doc.resolve(h);x8(t,p.node(),p.before(),t.steps.length)}return t}function RU(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let l=r.index(i);if(r.node(i).canReplaceWith(l,l,n))return r.before(i+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let l=r.indexAfter(i);if(r.node(i).canReplaceWith(l,l,n))return r.after(i+1);if(l<r.node(i).childCount)return null}return null}function PA(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let l=0;l<n.openStart;l++)i=i.firstChild.content;for(let l=1;l<=(n.openStart==0&&n.size?2:1);l++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(u>0?1:0),h=r.node(a),p=!1;if(l==1)p=h.canReplace(d,d,i);else{let g=h.contentMatchAt(d).findWrapping(i.firstChild.type);p=g&&h.canReplaceWith(d,d,g[0])}if(p)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function t_(t,e,n=e,r=Se.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),l=t.resolve(n);return M8(i,l,r)?new xr(e,n,r):new NU(i,l,r).fit()}function M8(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class NU{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=se.empty;for(let i=0;i<=e.depth;i++){let l=e.node(i);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=se.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let l=this.placed,a=r.depth,u=i.depth;for(;a&&u&&l.childCount==1;)l=l.firstChild.content,a--,u--;let d=new Se(l,a,u);return e>-1?new tr(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new xr(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let l=n.firstChild;if(n.childCount>1&&(i=0),l.type.spec.isolating&&i<=r){e=r;break}n=l.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,l=null;r?(l=zE(this.unplaced.content,r-1).firstChild,i=l.content):i=this.unplaced.content;let a=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],p,g=null;if(n==1&&(a?h.matchType(a.type)||(g=h.fillBefore(se.from(a),!1)):l&&d.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:u,parent:l,inject:g};if(n==2&&a&&(p=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:l,wrap:p};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=zE(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Se(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=zE(e,n);if(i.childCount<=1&&n>0){let l=e.size-n<=n+i.size;this.unplaced=new Se(av(e,n-1,1),n-1,l?n-1:r)}else this.unplaced=new Se(av(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:l}){for(;this.depth>n;)this.closeFrontierNode();if(l)for(let C=0;C<l.length;C++)this.openFrontierNode(l[C]);let a=this.unplaced,u=r?r.content:a.content,d=a.openStart-e,h=0,p=[],{match:g,type:y}=this.frontier[n];if(i){for(let C=0;C<i.childCount;C++)p.push(i.child(C));g=g.matchFragment(i)}let v=u.size+e-(a.content.size-a.openEnd);for(;h<u.childCount;){let C=u.child(h),S=g.matchType(C.type);if(!S)break;h++,(h>1||d==0||C.content.size)&&(g=S,p.push(A8(C.mark(y.allowedMarks(C.marks)),h==1?d:0,h==u.childCount?v:-1)))}let w=h==u.childCount;w||(v=-1),this.placed=cv(this.placed,n,se.from(p)),this.frontier[n].match=g,w&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,S=u;C<v;C++){let E=S.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),S=E.content}this.unplaced=w?e==0?Se.empty:new Se(av(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new Se(av(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!$E(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],l=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=$E(e,n,i,r,l);if(a){for(let u=n-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],p=$E(e,u,h,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:l?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=cv(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),l=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,l)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=cv(this.placed,this.depth,se.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(se.empty,!0);n.childCount&&(this.placed=cv(this.placed,this.frontier.length,n))}}function av(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(av(t.firstChild.content,e-1,n)))}function cv(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(cv(t.lastChild.content,e-1,n)))}function zE(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function A8(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,A8(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(se.empty,!0)))),t.copy(r)}function $E(t,e,n,r,i){let l=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==l.childCount&&!n.compatibleContent(l.type))return null;let u=r.fillBefore(l.content,!0,a);return u&&!OU(n,l.content,a)?u:null}function OU(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function DU(t){return t.spec.defining||t.spec.definingForContent}function LU(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),l=t.doc.resolve(n);if(M8(i,l,r))return t.step(new xr(e,n,r));let a=N8(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let u=-(i.depth+1);a.unshift(u);for(let y=i.depth,v=i.pos-1;y>0;y--,v--){let w=i.node(y).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;a.indexOf(y)>-1?u=y:i.before(y)==v&&a.splice(1,0,-y)}let d=a.indexOf(u),h=[],p=r.openStart;for(let y=r.content,v=0;;v++){let w=y.firstChild;if(h.push(w),v==r.openStart)break;y=w.content}for(let y=p-1;y>=0;y--){let v=h[y],w=DU(v.type);if(w&&!v.sameMarkup(i.node(Math.abs(u)-1)))p=y;else if(w||!v.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let v=(y+p+1)%(r.openStart+1),w=h[v];if(w)for(let C=0;C<a.length;C++){let S=a[(C+d)%a.length],E=!0;S<0&&(E=!1,S=-S);let A=i.node(S-1),N=i.index(S-1);if(A.canReplaceWith(N,N,w.type,w.marks))return t.replace(i.before(S),E?l.after(S):n,new Se(R8(r.content,0,r.openStart,v),v,r.openEnd))}}let g=t.steps.length;for(let y=a.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>g));y--){let v=a[y];v<0||(e=i.before(v),n=l.after(v))}}function R8(t,e,n,r,i){if(e<n){let l=t.firstChild;t=t.replaceChild(0,l.copy(R8(l.content,e+1,n,r,l)))}if(e>r){let l=i.contentMatchAt(0),a=l.fillBefore(t).append(t);t=a.append(l.matchFragment(a).fillBefore(se.empty,!0))}return t}function PU(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=RU(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Se(se.from(r),0,0))}function IU(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),l=N8(r,i);for(let a=0;a<l.length;a++){let u=l[a],d=a==l.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),i.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return t.delete(r.before(u),i.after(u))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function N8(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let l=t.start(i);if(l<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(l==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==l-1)&&n.push(i)}return n}class lm extends xo{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return ir.fail("No node at attribute step's position");let r=Object.create(null);for(let l in n.attrs)r[l]=n.attrs[l];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ir.fromReplace(e,this.pos,this.pos+1,new Se(se.from(i),0,n.isLeaf?0:1))}getMap(){return ds.empty}invert(e){return new lm(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lm(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new lm(n.pos,n.attr,n.value)}}xo.jsonID("attr",lm);class Gv extends xo{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return ir.ok(r)}getMap(){return ds.empty}invert(e){return new Gv(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Gv(n.attr,n.value)}}xo.jsonID("docAttr",Gv);let wm=class extends Error{};wm=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};wm.prototype=Object.create(Error.prototype);wm.prototype.constructor=wm;wm.prototype.name="TransformError";class IA{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ym}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new wm(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Se.empty){let i=t_(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Se(se.from(r),0,0))}delete(e,n){return this.replace(e,n,Se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return LU(this,e,n,r),this}replaceRangeWith(e,n,r){return PU(this,e,n,r),this}deleteRange(e,n){return IU(this,e,n),this}lift(e,n){return wU(this,e,n),this}join(e,n=1){return AU(this,e,n),this}wrap(e,n){return _U(this,e,n),this}setBlockType(e,n=e,r,i=null){return SU(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return EU(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new lm(e,n,r)),this}setDocAttribute(e,n){return this.step(new Gv(e,n)),this}addNodeMark(e,n){return this.step(new Gu(e,n)),this}removeNodeMark(e,n){if(!(n instanceof wn)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new vm(e,n)),this}split(e,n=1,r){return TU(this,e,n,r),this}addMark(e,n,r){return bU(this,e,n,r),this}removeMark(e,n,r){return yU(this,e,n,r),this}clearIncompatible(e,n,r){return LA(this,e,n,r),this}}const HE=Object.create(null);class rt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new O8(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Se.empty){let r=n.content.lastChild,i=null;for(let u=0;u<n.openEnd;u++)i=r,r=r.lastChild;let l=e.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:d,$to:h}=a[u],p=e.mapping.slice(l);e.replaceRange(p.map(d.pos),p.map(h.pos),u?Se.empty:n),u==0&&p4(e,l,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){let{$from:a,$to:u}=i[l],d=e.mapping.slice(r),h=d.map(a.pos),p=d.map(u.pos);l?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),p4(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ve(e):Gp(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let l=e.depth-1;l>=0;l--){let a=n<0?Gp(e.node(0),e.node(l),e.before(l+1),e.index(l),n,r):Gp(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new di(e.node(0))}static atStart(e){return Gp(e,e,0,0,1)||new di(e)}static atEnd(e){return Gp(e,e,e.content.size,e.childCount,-1)||new di(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=HE[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in HE)throw new RangeError("Duplicate use of selection JSON ID "+e);return HE[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}rt.prototype.visible=!0;class O8{constructor(e,n){this.$from=e,this.$to=n}}let f4=!1;function h4(t){!f4&&!t.parent.inlineContent&&(f4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ve extends rt{constructor(e,n=e){h4(e),h4(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return rt.near(r);let i=e.resolve(n.map(this.anchor));return new Ve(i.parent.inlineContent?i:r,r)}replace(e,n=Se.empty){if(super.replace(e,n),n==Se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new n_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let l=rt.findFrom(n,r,!0)||rt.findFrom(n,-r,!0);if(l)n=l.$head;else return rt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(rt.findFrom(e,-r,!0)||rt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ve(e,n)}}rt.jsonID("text",Ve);class n_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new n_(e.map(this.anchor),e.map(this.head))}resolve(e){return Ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ue extends rt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),l=e.resolve(i);return r?rt.near(l):new Ue(l)}content(){return new Se(se.from(this.node),0,0)}eq(e){return e instanceof Ue&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new BA(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ue(e.resolve(n.anchor))}static create(e,n){return new Ue(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ue.prototype.visible=!1;rt.jsonID("node",Ue);class BA{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new n_(r,r):new BA(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ue.isSelectable(r)?new Ue(n):rt.near(n)}}class di extends rt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Se.empty){if(n==Se.empty){e.delete(0,e.doc.content.size);let r=rt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new di(e)}map(e){return new di(e)}eq(e){return e instanceof di}getBookmark(){return BU}}rt.jsonID("all",di);const BU={map(){return this},resolve(t){return new di(t)}};function Gp(t,e,n,r,i,l=!1){if(e.inlineContent)return Ve.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let u=e.child(a);if(u.isAtom){if(!l&&Ue.isSelectable(u))return Ue.create(t,n-(i<0?u.nodeSize:0))}else{let d=Gp(t,u,n+i,i<0?u.childCount:0,i,l);if(d)return d}n+=u.nodeSize*i}return null}function p4(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof xr||i instanceof tr))return;let l=t.mapping.maps[r],a;l.forEach((u,d,h,p)=>{a==null&&(a=p)}),t.setSelection(rt.near(t.doc.resolve(a),n))}const m4=1,g4=2,b4=4;let jU=class extends IA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|m4)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&m4)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=g4,this}ensureMarks(e){return wn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&g4)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||wn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let l=this.storedMarks;if(!l){let a=this.doc.resolve(n);l=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,l)),this.selection.empty||this.setSelection(rt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=b4,this}get scrolledIntoView(){return(this.updated&b4)>0}};function y4(t,e){return!e||!t?t:t.bind(e)}class uv{constructor(e,n,r){this.name=e,this.init=y4(n.init,r),this.apply=y4(n.apply,r)}}const zU=[new uv("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new uv("selection",{init(t,e){return t.selection||rt.atStart(e.doc)},apply(t){return t.selection}}),new uv("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new uv("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class VE{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=zU.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new uv(r.key,r.spec.state,r))})}}class Gh{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let l=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let d=i?i[a].n:0,h=i?i[a].state:this,p=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,h,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),l=!0}i&&(i[a]={state:r,n:n.length})}}if(!l)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Gh(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let l=r[i];n[l.name]=l.apply(e,this[l.name],this,n)}return n}get tr(){return new jU(this)}static create(e){let n=new VE(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Gh(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new VE(this.schema,e.plugins),r=n.fields,i=new Gh(n);for(let l=0;l<r.length;l++){let a=r[l].name;i[a]=this.hasOwnProperty(a)?this[a]:r[l].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],l=i.spec.state;l&&l.toJSON&&(n[r]=l.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new VE(e.schema,e.plugins),l=new Gh(i);return i.fields.forEach(a=>{if(a.name=="doc")l.doc=su.fromJSON(e.schema,n.doc);else if(a.name=="selection")l.selection=rt.fromJSON(l.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(l.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],h=d.spec.state;if(d.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){l[a.name]=h.fromJSON.call(d,e,n[u],l);return}}l[a.name]=a.init(e,l)}}),l}}function D8(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=D8(i,e,{})),n[r]=i}return n}class Ct{constructor(e){this.spec=e,this.props={},e.props&&D8(e.props,this,this.props),this.key=e.key?e.key.key:L8("plugin")}getState(e){return e[this.key]}}const UE=Object.create(null);function L8(t){return t in UE?t+"$"+ ++UE[t]:(UE[t]=0,t+"$")}class Ht{constructor(e="key"){this.key=L8(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const lo=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},km=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let BT=null;const Zc=function(t,e,n){let r=BT||(BT=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},$U=function(){BT=null},fp=function(t,e,n,r){return n&&(v4(t,e,n,r,-1)||v4(t,e,n,r,1))},HU=/^(img|br|input|textarea|hr)$/i;function v4(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ms(t))){let l=t.parentNode;if(!l||l.nodeType!=1||x1(t)||HU.test(t.nodeName)||t.contentEditable=="false")return!1;e=lo(t)+(i<0?0:1),t=l}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ms(t):0}else return!1}}function Ms(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function VU(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ms(t)}else if(t.parentNode&&!x1(t))e=lo(t),t=t.parentNode;else return null}}function UU(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!x1(t))e=lo(t)+1,t=t.parentNode;else return null}}function FU(t,e,n){for(let r=e==0,i=e==Ms(t);r||i;){if(t==n)return!0;let l=lo(t);if(t=t.parentNode,!t)return!1;r=r&&l==0,i=i&&l==Ms(t)}}function x1(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const r_=function(t){return t.focusNode&&fp(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function $h(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function GU(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function qU(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ms(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ms(r.startContainer),r.startOffset)}}}const pa=typeof navigator<"u"?navigator:null,w4=typeof document<"u"?document:null,hd=pa&&pa.userAgent||"",jT=/Edge\/(\d+)/.exec(hd),P8=/MSIE \d/.exec(hd),zT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hd),fi=!!(P8||zT||jT),Yu=P8?document.documentMode:zT?+zT[1]:jT?+jT[1]:0,Fl=!fi&&/gecko\/(\d+)/i.test(hd);Fl&&+(/Firefox\/(\d+)/.exec(hd)||[0,0])[1];const $T=!fi&&/Chrome\/(\d+)/.exec(hd),vo=!!$T,I8=$T?+$T[1]:0,Jo=!fi&&!!pa&&/Apple Computer/.test(pa.vendor),Cm=Jo&&(/Mobile\/\w+/.test(hd)||!!pa&&pa.maxTouchPoints>2),Es=Cm||(pa?/Mac/.test(pa.platform):!1),WU=pa?/Win/.test(pa.platform):!1,nu=/Android \d/.test(hd),E1=!!w4&&"webkitFontSmoothing"in w4.documentElement.style,KU=E1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ZU(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function $c(t,e){return typeof t=="number"?t:t[e]}function XU(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function k4(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,l=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=km(a);continue}let u=a,d=u==l.body,h=d?ZU(l):XU(u),p=0,g=0;if(e.top<h.top+$c(r,"top")?g=-(h.top-e.top+$c(i,"top")):e.bottom>h.bottom-$c(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+$c(i,"top")-h.top:e.bottom-h.bottom+$c(i,"bottom")),e.left<h.left+$c(r,"left")?p=-(h.left-e.left+$c(i,"left")):e.right>h.right-$c(r,"right")&&(p=e.right-h.right+$c(i,"right")),p||g)if(d)l.defaultView.scrollBy(p,g);else{let v=u.scrollLeft,w=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let C=u.scrollLeft-v,S=u.scrollTop-w;e={left:e.left-C,top:e.top-S,right:e.right-C,bottom:e.bottom-S}}let y=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(y))break;a=y=="absolute"?a.offsetParent:km(a)}}function YU(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let l=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let u=t.root.elementFromPoint(l,a);if(!u||u==t.dom||!t.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){r=u,i=d.top;break}}return{refDOM:r,refTop:i,stack:B8(t.dom)}}function B8(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=km(r));return e}function QU({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;j8(n,r==0?0:r-e)}function j8(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:l}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let Ip=null;function JU(t){if(t.setActive)return t.setActive();if(Ip)return t.focus(Ip);let e=B8(t);t.focus(Ip==null?{get preventScroll(){return Ip={preventScroll:!0},!0}}:void 0),Ip||(Ip=!1,j8(e,0))}function z8(t,e){let n,r=2e8,i,l=0,a=e.top,u=e.top,d,h;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Zc(p).getClientRects();else continue;for(let v=0;v<y.length;v++){let w=y[v];if(w.top<=a&&w.bottom>=u){a=Math.max(w.bottom,a),u=Math.min(w.top,u);let C=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(C<r){n=p,r=C,i=C&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&C&&(l=g+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!d&&w.left<=e.left&&w.right>=e.left&&(d=p,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(l=g+1)}}return!n&&d&&(n=d,i=h,r=0),n&&n.nodeType==3?eF(n,i):!n||r&&n.nodeType==1?{node:t,offset:l}:z8(n,i)}function eF(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let l=Au(r,1);if(l.top!=l.bottom&&jA(e,l))return{node:t,offset:i+(e.left>=(l.left+l.right)/2?1:0)}}return{node:t,offset:0}}function jA(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function tF(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function nF(t,e,n){let{node:r,offset:i}=z8(e,n),l=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();l=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,l)}function rF(t,e,n,r){let i=-1;for(let l=e,a=!1;l!=t.dom;){let u=t.docView.nearestDesc(l,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&(!a&&d.left>r.left||d.top>r.top?i=u.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(i=u.posAfter),a=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function $8(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),l=i;;){let a=t.childNodes[l];if(a.nodeType==1){let u=a.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(jA(e,h))return $8(a,e,h)}}if((l=(l+1)%r)==i)break}return t}function oF(t,e){let n=t.dom.ownerDocument,r,i=0,l=qU(n,e.left,e.top);l&&({node:r,offset:i}=l);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=t.dom.getBoundingClientRect();if(!jA(e,h)||(a=$8(t.dom,e,h),!a))return null}if(Jo)for(let h=a;r&&h;h=km(h))h.draggable&&(r=void 0);if(a=tF(a,e),r){if(Fl&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let h;E1&&i&&r.nodeType==1&&(h=r.childNodes[i-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=rF(t,r,i,e))}u==null&&(u=nF(t,a,e));let d=t.docView.nearestDesc(a,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function C4(t){return t.top<t.bottom||t.left<t.right}function Au(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(C4(r))return r}return Array.prototype.find.call(n,C4)||t.getBoundingClientRect()}const iF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function H8(t,e,n){let{node:r,offset:i,atom:l}=t.docView.domFromPos(e,n<0?-1:1),a=E1||Fl;if(r.nodeType==3)if(a&&(iF.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=Au(Zc(r,i,i),n);if(Fl&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=Au(Zc(r,i-1,i-1),-1);if(h.top==d.top){let p=Au(Zc(r,i,i+1),-1);if(p.top!=d.top)return q0(p,p.left<h.left)}}return d}else{let d=i,h=i,p=n<0?1:-1;return n<0&&!i?(h++,p=-1):n>=0&&i==r.nodeValue.length?(d--,p=1):n<0?d--:h++,q0(Au(Zc(r,d,h),p),p<0)}if(!t.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&i&&(n<0||i==Ms(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return FE(d.getBoundingClientRect(),!1)}if(l==null&&i<Ms(r)){let d=r.childNodes[i];if(d.nodeType==1)return FE(d.getBoundingClientRect(),!0)}return FE(r.getBoundingClientRect(),n>=0)}if(l==null&&i&&(n<0||i==Ms(r))){let d=r.childNodes[i-1],h=d.nodeType==3?Zc(d,Ms(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return q0(Au(h,1),!1)}if(l==null&&i<Ms(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Zc(d,0,a?0:1):d.nodeType==1?d:null:null;if(h)return q0(Au(h,-1),!0)}return q0(Au(r.nodeType==3?Zc(r):r,-n),n>=0)}function q0(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function FE(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function V8(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function sF(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return V8(t,e,()=>{let{node:l}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let a=H8(t,i.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Zc(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const lF=/[\u0590-\u08ac]/;function aF(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,l=!i,a=i==r.parent.content.size,u=t.domSelection();return u?!lF.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?l:a:V8(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),y=u.caretBidiLevel;u.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:C}=t.domSelectionRange(),S=w&&!v.contains(w.nodeType==1?w:w.parentNode)||d==w&&h==C;try{u.collapse(p,g),d&&(d!=p||h!=g)&&u.extend&&u.extend(d,h)}catch{}return y!=null&&(u.caretBidiLevel=y),S}):r.pos==r.start()||r.pos==r.end()}let _4=null,S4=null,x4=!1;function cF(t,e,n){return _4==e&&S4==n?x4:(_4=e,S4=n,x4=n=="up"||n=="down"?sF(t,e,n):aF(t,e,n))}const Ds=0,E4=1,qh=2,ma=3;class T1{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ds,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,a;if(e==this.contentDOM)l=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(a)+a.size:this.posAtStart}else{let l,a;if(e==this.contentDOM)l=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>lo(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let l=e;;l=l.parentNode){if(l==this.dom){i=!1;break}if(l.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){i=!0;break}if(l.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let l=this.getDesc(i),a;if(l&&(!n||l.node))if(r&&(a=l.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return l}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let l=this.getDesc(i);if(l)return l.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],l=r+i.size;if(r==e&&l!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let u=i.children[a];if(u.size){i=u;break}}return i}if(e<l)return i.descAt(e-r-i.border);r=l}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let l=0;r<this.children.length;r++){let a=this.children[r],u=l+a.size;if(u>e||a instanceof F8){i=e-l;break}l=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof U8&&l.side>=0;r--);if(n<=0){let l,a=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,a=!1);return l&&n&&a&&!l.border&&!l.domAtom?l.domFromPos(l.size,n):{node:this.contentDOM,offset:l?lo(l.dom)+1:0}}else{let l,a=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,a=!1);return l&&a&&!l.border&&!l.domAtom?l.domFromPos(0,n):{node:this.contentDOM,offset:l?lo(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,l=-1;for(let a=r,u=0;;u++){let d=this.children[u],h=a+d.size;if(i==-1&&e<=h){let p=a+d.border;if(e>=p&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=a;for(let g=u;g>0;g--){let y=this.children[g-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=lo(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(h>n||u==this.children.length-1)){n=h;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=lo(g.dom);break}n+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let l=Math.min(e,n),a=Math.max(e,n);for(let v=0,w=0;v<this.children.length;v++){let C=this.children[v],S=w+C.size;if(l>w&&a<S)return C.setSelection(e-w-C.border,n-w-C.border,r,i);w=S}let u=this.domFromPos(e,e?-1:1),d=n==e?u:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if((Fl||Jo)&&e==n){let{node:v,offset:w}=u;if(v.nodeType==3){if(g=!!(w&&v.nodeValue[w-1]==`
`),g&&w==v.nodeValue.length)for(let C=v,S;C;C=C.parentNode){if(S=C.nextSibling){S.nodeName=="BR"&&(u=d={node:S.parentNode,offset:lo(S)+1});break}let E=C.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let C=v.childNodes[w-1];g=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(Fl&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||g&&Jo)&&fp(u.node,u.offset,p.anchorNode,p.anchorOffset)&&fp(d.node,d.offset,p.focusNode,p.focusOffset))return;let y=!1;if((h.extend||e==n)&&!g){h.collapse(u.node,u.offset);try{e!=n&&h.extend(d.node,d.offset),y=!0}catch{}}if(!y){if(e>n){let w=u;u=d,d=w}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let l=this.children[i],a=r+l.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let u=r+l.border,d=a-l.border;if(e>=u&&n<=d){this.dirty=e==r||n==a?qh:E4,e==u&&n==d&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=ma:l.markDirty(e-u,n-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?qh:ma}r=a}this.dirty=qh}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?qh:E4;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class U8 extends T1{constructor(e,n,r,i){let l,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)})),!n.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,l=this}matchesWidget(e){return this.dirty==Ds&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class uF extends T1{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class hp extends T1{constructor(e,n,r,i,l){super(e,[],r,i),this.mark=n,this.spec=l}static create(e,n,r,i){let l=i.nodeViews[n.type.name],a=l&&l(n,i,r);return(!a||!a.dom)&&(a=ku.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new hp(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ma||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ma&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ds){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ds}}slice(e,n,r){let i=hp.create(this.parent,this.mark,!0,r),l=this.children,a=this.size;n<a&&(l=VT(l,n,a,r)),e>0&&(l=VT(l,0,e,r));for(let u=0;u<l.length;u++)l[u].parent=i;return i.children=l,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Qu extends T1{constructor(e,n,r,i,l,a,u,d,h){super(e,[],l,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,n,r,i,l,a){let u=l.nodeViews[n.type.name],d,h=u&&u(n,l,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,i),p=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=ku.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=W8(p,r,n),h?d=new dF(e,n,r,i,p,g||null,y,h,l,a+1):n.isText?new o_(e,n,r,i,p,y,l):new Qu(e,n,r,i,p,g||null,y,l,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>se.empty)}return e}matchesNode(e,n,r){return this.dirty==Ds&&e.eq(this.node)&&yk(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,l=e.composing?this.localCompositionInfo(e,n):null,a=l&&l.pos>-1?l:null,u=l&&l.pos<0,d=new hF(this,a&&a.node,e);gF(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&d.syncToMarks(p==this.node.childCount?wn.none:this.node.child(p).marks,r,e),d.placeWidget(h,e,i)},(h,p,g,y)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,p,g,y)||u&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(v=d.findIndexWithChild(l.node))>-1&&d.updateNodeAt(h,p,g,v,e)||d.updateNextNode(h,p,g,e,y,i)||d.addNode(h,p,g,e,i),i+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==qh)&&(a&&this.protectLocalComposition(e,a),G8(this.contentDOM,this.children,e),Cm&&bF(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ve)||r<n||i>n+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let a=l.nodeValue,u=yF(this.node.content,a,r-n,i-n);return u<0?null:{node:l,pos:u,text:a}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let l=n;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let a=new uF(this,l,n,i);e.input.compositionNodes.push(a),this.children=VT(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==ma||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ds}updateOuterDeco(e){if(yk(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=q8(this.dom,this.nodeDOM,HT(this.outerDeco,this.node,n),HT(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function T4(t,e,n,r,i){W8(r,e,t);let l=new Qu(void 0,t,e,n,r,r,r,i,0);return l.contentDOM&&l.updateChildren(i,0),l}class o_ extends Qu{constructor(e,n,r,i,l,a,u){super(e,n,r,i,l,null,a,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ma||this.dirty!=Ds&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ds||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ds,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),l=document.createTextNode(i.text);return new o_(this.parent,i,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ma)}get domAtom(){return!1}isText(e){return this.node.text==e}}class F8 extends T1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ds&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class dF extends Qu{constructor(e,n,r,i,l,a,u,d,h,p){super(e,n,r,i,l,a,u,h,p),this.spec=d}update(e,n,r,i){if(this.dirty==ma)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,n,r);return l&&this.updateInner(e,n,r,i),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function G8(t,e,n){let r=t.firstChild,i=!1;for(let l=0;l<e.length;l++){let a=e[l],u=a.dom;if(u.parentNode==t){for(;u!=r;)r=M4(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(u,r);if(a instanceof hp){let d=r?r.previousSibling:t.lastChild;G8(a.contentDOM,a.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=M4(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Cv=function(t){t&&(this.nodeName=t)};Cv.prototype=Object.create(null);const Wh=[new Cv];function HT(t,e,n){if(t.length==0)return Wh;let r=n?Wh[0]:new Cv,i=[r];for(let l=0;l<t.length;l++){let a=t[l].type.attrs;if(a){a.nodeName&&i.push(r=new Cv(a.nodeName));for(let u in a){let d=a[u];d!=null&&(n&&i.length==1&&i.push(r=new Cv(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return i}function q8(t,e,n,r){if(n==Wh&&r==Wh)return e;let i=e;for(let l=0;l<r.length;l++){let a=r[l],u=n[l];if(l){let d;u&&u.nodeName==a.nodeName&&i!=t&&(d=i.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(i),u=Wh[0]),i=d}fF(i,u||Wh[0],a)}return i}function fF(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)i.indexOf(r[l])==-1&&t.classList.remove(r[l]);for(let l=0;l<i.length;l++)r.indexOf(i[l])==-1&&t.classList.add(i[l]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function W8(t,e,n){return q8(t,t,Wh,HT(e,n,t.nodeType!=1))}function yk(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function M4(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class hF{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=pF(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,l=this.stack.length>>1,a=Math.min(l,e.length);for(;i<a&&(i==l-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<l;)this.destroyRest(),this.top.dirty=Ds,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=hp.create(this.top,e[l],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,l++}}findNodeMatch(e,n,r,i){let l=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))l=this.top.children.indexOf(a,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,n,r,i,l){let a=this.top.children[i];return a.dirty==ma&&a.dom==a.contentDOM&&(a.dirty=qh),a.update(e,n,r,l)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,l,a){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof Qu){let h=this.preMatch.matched.get(d);if(h!=null&&h!=l)return!1;let p=d.dom,g,y=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=ma&&yk(n,d.outerDeco));if(!y&&d.update(e,n,r,i))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(g=this.recreateWrapper(d,e,n,r,i,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=qh,g.updateChildren(i,a+1),g.dirty=Ds),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,l,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!yk(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=Qu.create(this.top,n,r,i,l,a);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,n,r,i,l){let a=Qu.create(this.top,e,n,r,i,l);a.contentDOM&&a.updateChildren(i,l+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let l=new U8(this.top,e,n,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof hp;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof o_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Jo||vo)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new F8(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function pF(t,e){let n=e,r=n.children.length,i=t.childCount,l=new Map,a=[];e:for(;i>0;){let u;for(;;)if(r){let h=n.children[r-1];if(h instanceof hp)n=h,r=h.children.length;else{u=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=t.child(i-1))break;--i,l.set(u,i),a.push(u)}}return{index:i,matched:l,matches:a.reverse()}}function mF(t,e){return t.type.side-e.type.side}function gF(t,e,n,r){let i=e.locals(t),l=0;if(i.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);r(p,i,e.forChild(l,p),h),l+=p.nodeSize}return}let a=0,u=[],d=null;for(let h=0;;){let p,g;for(;a<i.length&&i[a].to==l;){let S=i[a++];S.widget&&(p?(g||(g=[p])).push(S):p=S)}if(p)if(g){g.sort(mF);for(let S=0;S<g.length;S++)n(g[S],h,!!d)}else n(p,h,!!d);let y,v;if(d)v=-1,y=d,d=null;else if(h<t.childCount)v=h,y=t.child(h++);else break;for(let S=0;S<u.length;S++)u[S].to<=l&&u.splice(S--,1);for(;a<i.length&&i[a].from<=l&&i[a].to>l;)u.push(i[a++]);let w=l+y.nodeSize;if(y.isText){let S=w;a<i.length&&i[a].from<S&&(S=i[a].from);for(let E=0;E<u.length;E++)u[E].to<S&&(S=u[E].to);S<w&&(d=y.cut(S-l),y=y.cut(0,S-l),w=S,v=-1)}else for(;a<i.length&&i[a].to<w;)a++;let C=y.isInline&&!y.isLeaf?u.filter(S=>!S.inline):u.slice();r(y,C,e.forChild(l,y),v),l=w}}function bF(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function yF(t,e,n,r){for(let i=0,l=0;i<t.childCount&&l<=r;){let a=t.child(i++),u=l;if(l+=a.nodeSize,!a.isText)continue;let d=a.text;for(;i<t.childCount;){let h=t.child(i++);if(l+=h.nodeSize,!h.isText)break;d+=h.text}if(l>=n){if(l>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?d.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function VT(t,e,n,r,i){let l=[];for(let a=0,u=0;a<t.length;a++){let d=t[a],h=u,p=u+=d.size;h>=n||p<=e?l.push(d):(h<e&&l.push(d.slice(0,e-h,r)),i&&(l.push(i),i=void 0),p>n&&l.push(d.slice(n-h,d.size,r)))}return l}function zA(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),l=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let u=r.resolve(a),d,h;if(r_(n)){for(d=a;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&Ue.isSelectable(g)&&i.parent&&!(g.isInline&&FU(n.focusNode,n.focusOffset,i.dom))){let y=i.posBefore;h=new Ue(a==y?u:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=a,y=a;for(let v=0;v<n.rangeCount;v++){let w=n.getRangeAt(v);g=Math.min(g,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(g<0)return null;[d,a]=y==t.state.selection.anchor?[y,g]:[g,y],u=r.resolve(a)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!h){let g=e=="pointer"||t.state.selection.head<u.pos&&!l?1:-1;h=$A(t,p,u,g)}return h}function K8(t){return t.editable?t.hasFocus():X8(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function au(t,e=!1){let n=t.state.selection;if(Z8(t,n),!!K8(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&vo){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&fp(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)wF(t);else{let{anchor:r,head:i}=n,l,a;A4&&!(n instanceof Ve)&&(n.$from.parent.inlineContent||(l=R4(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=R4(t,n.to))),t.docView.setSelection(r,i,t,e),A4&&(l&&N4(l),a&&N4(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&vF(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const A4=Jo||vo&&I8<63;function R4(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,l=r?n.childNodes[r-1]:null;if(Jo&&i&&i.contentEditable=="false")return GE(i);if((!i||i.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(i)return GE(i);if(l)return GE(l)}}function GE(t){return t.contentEditable="true",Jo&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function N4(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function vF(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!K8(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function wF(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,lo(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&fi&&Yu<=11&&(r.disabled=!0,r.disabled=!1)}function Z8(t,e){if(e instanceof Ue){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(O4(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else O4(t)}function O4(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function $A(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ve.between(e,n,r)}function D4(t){return t.editable&&!t.hasFocus()?!1:X8(t)}function X8(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function kF(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return fp(e.node,e.offset,n.anchorNode,n.anchorOffset)}function UT(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),l=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return l&&rt.findFrom(l,e)}function Lu(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function L4(t,e,n){let r=t.state.selection;if(r instanceof Ve)if(n.indexOf("s")>-1){let{$head:i}=r,l=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+l.nodeSize*(e<0?-1:1));return Lu(t,new Ve(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=UT(t.state,e);return i&&i instanceof Ue?Lu(t,i):!1}else if(!(Es&&n.indexOf("m")>-1)){let i=r.$head,l=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!l||l.isText)return!1;let u=e<0?i.pos-l.nodeSize:i.pos;return l.isAtom||(a=t.docView.descAt(u))&&!a.contentDOM?Ue.isSelectable(l)?Lu(t,new Ue(e<0?t.state.doc.resolve(i.pos-l.nodeSize):i)):E1?Lu(t,new Ve(t.state.doc.resolve(e<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ue&&r.node.isInline)return Lu(t,new Ve(e>0?r.$to:r.$from));{let i=UT(t.state,e);return i?Lu(t,i):!1}}}function vk(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _v(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Bp(t,e){return e<0?CF(t):_F(t)}function CF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,l,a=!1;for(Fl&&n.nodeType==1&&r<vk(n)&&_v(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(_v(u,-1))i=n,l=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(Y8(n))break;{let u=n.previousSibling;for(;u&&_v(u,-1);)i=n.parentNode,l=lo(u),u=u.previousSibling;if(u)n=u,r=vk(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?FT(t,n,r):i&&FT(t,i,l)}function _F(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=vk(n),l,a;for(;;)if(r<i){if(n.nodeType!=1)break;let u=n.childNodes[r];if(_v(u,1))l=n,a=++r;else break}else{if(Y8(n))break;{let u=n.nextSibling;for(;u&&_v(u,1);)l=u.parentNode,a=lo(u)+1,u=u.nextSibling;if(u)n=u,r=0,i=vk(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}l&&FT(t,l,a)}function Y8(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function SF(t,e){for(;t&&e==t.childNodes.length&&!x1(t);)e=lo(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function xF(t,e){for(;t&&!e&&!x1(t);)e=lo(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function FT(t,e,n){if(e.nodeType!=3){let l,a;(a=SF(e,n))?(e=a,n=0):(l=xF(e,n))&&(e=l,n=l.nodeValue.length)}let r=t.domSelection();if(!r)return;if(r_(r)){let l=document.createRange();l.setEnd(e,n),l.setStart(e,n),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&au(t)},50)}function P4(t,e){let n=t.state.doc.resolve(e);if(!(vo||WU)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let l=t.coordsAtPos(e-1),a=(l.top+l.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(l.left-i.left)>1)return l.left<i.left?"ltr":"rtl"}if(e<n.end()){let l=t.coordsAtPos(e+1),a=(l.top+l.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(l.left-i.left)>1)return l.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function I4(t,e,n){let r=t.state.selection;if(r instanceof Ve&&!r.empty||n.indexOf("s")>-1||Es&&n.indexOf("m")>-1)return!1;let{$from:i,$to:l}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=UT(t.state,e);if(a&&a instanceof Ue)return Lu(t,a)}if(!i.parent.inlineContent){let a=e<0?i:l,u=r instanceof di?rt.near(a,e):rt.findFrom(a,e);return u?Lu(t,u):!1}return!1}function B4(t,e){if(!(t.state.selection instanceof Ve))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(l&&!l.isText){let a=t.state.tr;return e<0?a.delete(n.pos-l.nodeSize,n.pos):a.delete(n.pos,n.pos+l.nodeSize),t.dispatch(a),!0}return!1}function j4(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function EF(t){if(!Jo||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;j4(t,r,"true"),setTimeout(()=>j4(t,r,"false"),20)}return!1}function TF(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function MF(t,e){let n=e.keyCode,r=TF(e);if(n==8||Es&&n==72&&r=="c")return B4(t,-1)||Bp(t,-1);if(n==46&&!e.shiftKey||Es&&n==68&&r=="c")return B4(t,1)||Bp(t,1);if(n==13||n==27)return!0;if(n==37||Es&&n==66&&r=="c"){let i=n==37?P4(t,t.state.selection.from)=="ltr"?-1:1:-1;return L4(t,i,r)||Bp(t,i)}else if(n==39||Es&&n==70&&r=="c"){let i=n==39?P4(t,t.state.selection.from)=="ltr"?1:-1:1;return L4(t,i,r)||Bp(t,i)}else{if(n==38||Es&&n==80&&r=="c")return I4(t,-1,r)||Bp(t,-1);if(n==40||Es&&n==78&&r=="c")return EF(t)||I4(t,1,r)||Bp(t,1);if(r==(Es?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function HA(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:l}=e;for(;i>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,l--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||ku.fromSchema(t.state.schema),u=rI(),d=u.createElement("div");d.appendChild(a.serializeFragment(r,{document:u}));let h=d.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=nI[h.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let w=u.createElement(p[v]);for(;d.firstChild;)w.appendChild(d.firstChild);d.appendChild(w),g++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${l}${g?` -${g}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:y,slice:e}}function Q8(t,e,n,r,i){let l=i.parent.type.spec.code,a,u;if(!n&&!e)return null;let d=e&&(r||l||!n);if(d){if(t.someProp("transformPastedText",y=>{e=y(e,l||r,t)}),l)return e?new Se(se.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Se.empty;let g=t.someProp("clipboardTextParser",y=>y(e,i,r,t));if(g)u=g;else{let y=i.marks(),{schema:v}=t.state,w=ku.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let S=a.appendChild(document.createElement("p"));C&&S.appendChild(w.serializeNode(v.text(C,y)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),a=OF(n),E1&&DF(a);let h=a&&a.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let y=a.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;a=y}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||ip.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||p),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!AF.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)u=LF(z4(u,+p[1],+p[2]),p[4]);else if(u=Se.maxOpen(RF(u.content,i),!0),u.openStart||u.openEnd){let g=0,y=0;for(let v=u.content.firstChild;g<u.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=u.content.lastChild;y<u.openEnd&&!v.type.spec.isolating;y++,v=v.lastChild);u=z4(u,g,y)}return t.someProp("transformPasted",g=>{u=g(u,t)}),u}const AF=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function RF(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),l,a=[];if(t.forEach(u=>{if(!a)return;let d=i.findWrapping(u.type),h;if(!d)return a=null;if(h=a.length&&l.length&&eI(d,l,u,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=tI(a[a.length-1],l.length));let p=J8(u,d);a.push(p),i=i.matchType(p.type),l=d}}),a)return se.from(a)}return t}function J8(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,se.from(t));return t}function eI(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let l=eI(t,e,n,r.lastChild,i+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(se.from(J8(n,t,i+1))))}}function tI(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,tI(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(se.empty,!0);return t.copy(n.append(r))}function GT(t,e,n,r,i,l){let a=e<0?t.firstChild:t.lastChild,u=a.content;return t.childCount>1&&(l=0),i<r-1&&(u=GT(u,e,n,r,i+1,l)),i>=n&&(u=e<0?a.contentMatchAt(0).fillBefore(u,l<=i).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(se.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(u))}function z4(t,e,n){return e<t.openStart&&(t=new Se(GT(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Se(GT(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const nI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let $4=null;function rI(){return $4||($4=document.implementation.createHTMLDocument("title"))}let qE=null;function NF(t){let e=window.trustedTypes;return e?(qE||(qE=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),qE.createHTML(t)):t}function OF(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=rI().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&nI[r[1].toLowerCase()])&&(t=i.map(l=>"<"+l+">").join("")+t+i.map(l=>"</"+l+">").reverse().join("")),n.innerHTML=NF(t),i)for(let l=0;l<i.length;l++)n=n.querySelector(i[l])||n;return n}function DF(t){let e=t.querySelectorAll(vo?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function LF(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:l,openEnd:a}=t;for(let u=r.length-2;u>=0;u-=2){let d=n.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;i=se.from(d.create(r[u+1],i)),l++,a++}return new Se(i,l,a)}const ei={},ti={},PF={touchstart:!0,touchmove:!0};class IF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function BF(t){for(let e in ei){let n=ei[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{zF(t,r)&&!VA(t,r)&&(t.editable||!(r.type in ti))&&n(t,r)},PF[e]?{passive:!0}:void 0)}Jo&&t.dom.addEventListener("input",()=>null),qT(t)}function qu(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function jF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function qT(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>VA(t,r))})}function VA(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function zF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function $F(t,e){!VA(t,e)&&ei[e.type]&&(t.editable||!(e.type in ti))&&ei[e.type](t,e)}ti.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!iI(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(nu&&vo&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Cm&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,$h(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||MF(t,n)?n.preventDefault():qu(t,"key")};ti.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ti.keypress=(t,e)=>{let n=e;if(iI(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Es&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ve)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function i_(t){return{left:t.clientX,top:t.clientY}}function HF(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function UA(t,e,n,r,i){if(r==-1)return!1;let l=t.state.doc.resolve(r);for(let a=l.depth+1;a>0;a--)if(t.someProp(e,u=>a>l.depth?u(t,n,l.nodeAfter,l.before(a),i,!0):u(t,n,l.node(a),l.before(a),i,!1)))return!0;return!1}function am(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function VF(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ue.isSelectable(r)?(am(t,new Ue(n)),!0):!1}function UF(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Ue&&(r=n.node);let l=t.state.doc.resolve(e);for(let a=l.depth+1;a>0;a--){let u=a>l.depth?l.nodeAfter:l.node(a);if(Ue.isSelectable(u)){r&&n.$from.depth>0&&a>=n.$from.depth&&l.before(n.$from.depth+1)==n.$from.pos?i=l.before(n.$from.depth):i=l.before(a);break}}return i!=null?(am(t,Ue.create(t.state.doc,i)),!0):!1}function FF(t,e,n,r,i){return UA(t,"handleClickOn",e,n,r)||t.someProp("handleClick",l=>l(t,e,r))||(i?UF(t,n):VF(t,n))}function GF(t,e,n,r){return UA(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function qF(t,e,n,r){return UA(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||WF(t,n,r)}function WF(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(am(t,Ve.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let l=i.depth+1;l>0;l--){let a=l>i.depth?i.nodeAfter:i.node(l),u=i.before(l);if(a.inlineContent)am(t,Ve.create(r,u+1,u+1+a.content.size));else if(Ue.isSelectable(a))am(t,Ue.create(r,u));else continue;return!0}}function FA(t){return wk(t)}const oI=Es?"metaKey":"ctrlKey";ei.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=FA(t),i=Date.now(),l="singleClick";i-t.input.lastClick.time<500&&HF(n,t.input.lastClick)&&!n[oI]&&(t.input.lastClick.type=="singleClick"?l="doubleClick":t.input.lastClick.type=="doubleClick"&&(l="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:l};let a=t.posAtCoords(i_(n));a&&(l=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new KF(t,a,n,!!r)):(l=="doubleClick"?GF:qF)(t,a.pos,a.inside,n)?n.preventDefault():qu(t,"pointer"))};class KF{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[oI],this.allowDefault=r.shiftKey;let l,a;if(n.inside>-1)l=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);l=p.parent,a=p.depth?p.before():0}const u=i?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof Ue&&h.from<=a&&h.to>a)&&(this.mightDrag={node:l,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Fl&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),qu(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>au(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(i_(e))),this.updateAllowDefault(e),this.allowDefault||!n?qu(this.view,"pointer"):FF(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Jo&&this.mightDrag&&!this.mightDrag.node.isAtom||vo&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(am(this.view,rt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):qu(this.view,"pointer")}move(e){this.updateAllowDefault(e),qu(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ei.touchstart=t=>{t.input.lastTouch=Date.now(),FA(t),qu(t,"pointer")};ei.touchmove=t=>{t.input.lastTouch=Date.now(),qu(t,"pointer")};ei.contextmenu=t=>FA(t);function iI(t,e){return t.composing?!0:Jo&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const ZF=nu?5e3:-1;ti.compositionstart=ti.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ve&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),wk(t,!0),t.markCursor=null;else if(wk(t,!e.selection.empty),Fl&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,l=r.focusOffset;i&&i.nodeType==1&&l!=0;){let a=l<0?i.lastChild:i.childNodes[l-1];if(!a)break;if(a.nodeType==3){let u=t.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else i=a,l=-1}}t.input.composing=!0}sI(t,ZF)};ti.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,sI(t,20))};function sI(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>wk(t),e))}function lI(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=YF());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function XF(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=VU(e.focusNode,e.focusOffset),r=UU(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,l=t.domObserver.lastChangedTextNode;if(n==l||r==l)return l;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function YF(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function wk(t,e=!1){if(!(nu&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),lI(t),e||t.docView&&t.docView.dirty){let n=zA(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function QF(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const qv=fi&&Yu<15||Cm&&KU<604;ei.copy=ti.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let l=qv?null:n.clipboardData,a=r.content(),{dom:u,text:d}=HA(t,a);l?(n.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",d)):QF(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function JF(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function eG(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Wv(t,r.value,null,i,e):Wv(t,r.textContent,r.innerHTML,i,e)},50)}function Wv(t,e,n,r,i){let l=Q8(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,i,l||Se.empty)))return!0;if(!l)return!1;let a=JF(l),u=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(l);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function aI(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ti.paste=(t,e)=>{let n=e;if(t.composing&&!nu)return;let r=qv?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Wv(t,aI(r),r.getData("text/html"),i,n)?n.preventDefault():eG(t,n)};class cI{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const tG=Es?"altKey":"ctrlKey";function uI(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[tG]}ei.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,l=i.empty?null:t.posAtCoords(i_(n)),a;if(!(l&&l.pos>=i.from&&l.pos<=(i instanceof Ue?i.to-1:i.to))){if(r&&r.mightDrag)a=Ue.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(a=Ue.create(t.state.doc,g.posBefore))}}let u=(a||t.state.selection).content(),{dom:d,text:h,slice:p}=HA(t,u);(!n.dataTransfer.files.length||!vo||I8>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(qv?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",qv||n.dataTransfer.setData("text/plain",h),t.dragging=new cI(p,uI(t,n),a)};ei.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ti.dragover=ti.dragenter=(t,e)=>e.preventDefault();ti.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(i_(n));if(!i)return;let l=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",w=>{a=w(a,t)}):a=Q8(t,aI(n.dataTransfer),qv?null:n.dataTransfer.getData("text/html"),!1,l);let u=!!(r&&uI(t,n));if(t.someProp("handleDrop",w=>w(t,n,a||Se.empty,u))){n.preventDefault();return}if(!a)return;n.preventDefault();let d=a?PA(t.state.doc,l.pos,a):l.pos;d==null&&(d=l.pos);let h=t.state.tr;if(u){let{node:w}=r;w?w.replace(h):h.deleteSelection()}let p=h.mapping.map(d),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=h.doc;if(g?h.replaceRangeWith(p,p,a.content.firstChild):h.replaceRange(p,p,a),h.doc.eq(y))return;let v=h.doc.resolve(p);if(g&&Ue.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new Ue(v));else{let w=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((C,S,E,A)=>w=A),h.setSelection($A(t,v,h.doc.resolve(w)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))};ei.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&au(t)},20))};ei.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ei.beforeinput=(t,e)=>{if(vo&&nu&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",l=>l(t,$h(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ti)ei[t]=ti[t];function Kv(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class kk{constructor(e,n){this.toDOM=e,this.spec=n||sp,this.side=this.spec.side||0}map(e,n,r,i){let{pos:l,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Qt(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof kk&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Kv(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ju{constructor(e,n){this.attrs=e,this.spec=n||sp}map(e,n,r,i){let l=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return l>=a?null:new Qt(l,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ju&&Kv(this.attrs,e.attrs)&&Kv(this.spec,e.spec)}static is(e){return e.type instanceof Ju}destroy(){}}class GA{constructor(e,n){this.attrs=e,this.spec=n||sp}map(e,n,r,i){let l=e.mapResult(n.from+i,1);if(l.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=l.pos?null:new Qt(l.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),l;return i==n.from&&!(l=e.child(r)).isText&&i+l.nodeSize==n.to}eq(e){return this==e||e instanceof GA&&Kv(this.attrs,e.attrs)&&Kv(this.spec,e.spec)}destroy(){}}class Qt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Qt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Qt(e,e,new kk(n,r))}static inline(e,n,r,i){return new Qt(e,n,new Ju(r,i))}static node(e,n,r,i){return new Qt(e,n,new GA(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ju}get widget(){return this.type instanceof kk}}const qp=[],sp={};class Ot{constructor(e,n){this.local=e.length?e:qp,this.children=n.length?n:qp}static create(e,n){return n.length?Ck(n,e,0,sp):mo}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,l){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=n&&u.to>=e&&(!l||l(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let u=this.children[a]+1;this.children[a+2].findInner(e-u,n-u,r,i+u,l)}}map(e,n,r){return this==mo||e.maps.length==0?this:this.mapInner(e,n,0,0,r||sp)}mapInner(e,n,r,i,l){let a;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,i);d&&d.type.valid(n,d)?(a||(a=[])).push(d):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?nG(this.children,a||[],e,n,r,i,l):a?new Ot(a.sort(lp),qp):mo}add(e,n){return n.length?this==mo?Ot.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,l=0;e.forEach((u,d)=>{let h=d+r,p;if(p=fI(n,u,h)){for(i||(i=this.children.slice());l<i.length&&i[l]<d;)l+=3;i[l]==d?i[l+2]=i[l+2].addInner(u,p,h+1):i.splice(l,0,d,d+u.nodeSize,Ck(p,u,h+1,sp)),l+=3}});let a=dI(l?hI(n):n,-r);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new Ot(a.length?this.local.concat(a).sort(lp):this.local,i||this.children)}remove(e){return e.length==0||this==mo?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let l=0;l<r.length;l+=3){let a,u=r[l]+n,d=r[l+1]+n;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<d&&(e[p]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(a,u+1);h!=mo?r[l+2]=h:(r.splice(l,3),l-=3)}if(i.length){for(let l=0,a;l<e.length;l++)if(a=e[l])for(let u=0;u<i.length;u++)i[u].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ot(i,r):mo}forChild(e,n){if(this==mo)return this;if(n.isLeaf)return Ot.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let l=e+1,a=l+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<a&&d.to>l&&d.type instanceof Ju){let h=Math.max(l,d.from)-l,p=Math.min(a,d.to)-l;h<p&&(i||(i=[])).push(d.copy(h,p))}}if(i){let u=new Ot(i.sort(lp),qp);return r?new ju([u,r]):u}return r||mo}eq(e){if(this==e)return!0;if(!(e instanceof Ot)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return qA(this.localsInner(e))}localsInner(e){if(this==mo)return qp;if(e.inlineContent||!this.local.some(Ju.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ju||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ot.empty=new Ot([],[]);Ot.removeOverlap=qA;const mo=Ot.empty;class ju{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,sp));return ju.from(r)}forChild(e,n){if(n.isLeaf)return Ot.empty;let r=[];for(let i=0;i<this.members.length;i++){let l=this.members[i].forChild(e,n);l!=mo&&(l instanceof ju?r=r.concat(l.members):r.push(l))}return ju.from(r)}eq(e){if(!(e instanceof ju)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let l=this.members[i].localsInner(e);if(l.length)if(!n)n=l;else{r&&(n=n.slice(),r=!1);for(let a=0;a<l.length;a++)n.push(l[a])}}return n?qA(r?n:n.sort(lp)):qp}static from(e){switch(e.length){case 0:return mo;case 1:return e[0];default:return new ju(e.every(n=>n instanceof Ot)?e:e.reduce((n,r)=>n.concat(r instanceof Ot?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function nG(t,e,n,r,i,l,a){let u=t.slice();for(let h=0,p=l;h<n.maps.length;h++){let g=0;n.maps[h].forEach((y,v,w,C)=>{let S=C-w-(v-y);for(let E=0;E<u.length;E+=3){let A=u[E+1];if(A<0||y>A+p-g)continue;let N=u[E]+p-g;v>=N?u[E+1]=y<=N?-2:-1:y>=p&&S&&(u[E]+=S,u[E+1]+=S)}g+=S}),p=n.maps[h].map(p,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let p=n.map(t[h]+l),g=p-i;if(g<0||g>=r.content.size){d=!0;continue}let y=n.map(t[h+1]+l,-1),v=y-i,{index:w,offset:C}=r.content.findIndex(g),S=r.maybeChild(w);if(S&&C==g&&C+S.nodeSize==v){let E=u[h+2].mapInner(n,S,p+1,t[h]+l+1,a);E!=mo?(u[h]=g,u[h+1]=v,u[h+2]=E):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=rG(u,t,e,n,i,l,a),p=Ck(h,r,0,a);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,y=0;g<p.children.length;g+=3){let v=p.children[g];for(;y<u.length&&u[y]<v;)y+=3;u.splice(y,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Ot(e.sort(lp),u)}function dI(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Qt(i.from+e,i.to+e,i.type))}return n}function rG(t,e,n,r,i,l,a){function u(d,h){for(let p=0;p<d.local.length;p++){let g=d.local[p].map(r,i,h);g?n.push(g):a.onRemove&&a.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&u(t[d+2],e[d]+l+1);return n}function fI(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let l=0,a;l<t.length;l++)(a=t[l])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[l]=null);return i}function hI(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ck(t,e,n,r){let i=[],l=!1;e.forEach((u,d)=>{let h=fI(t,u,d+n);if(h){l=!0;let p=Ck(h,u,n+d+1,r);p!=mo&&i.push(d,d+u.nodeSize,p)}});let a=dI(l?hI(t):t,-n).sort(lp);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||i.length?new Ot(a,i):mo}function lp(t,e){return t.from-e.from||t.to-e.to}function qA(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let l=e[i];if(l.from==r.from){l.to!=r.to&&(e==t&&(e=t.slice()),e[i]=l.copy(l.from,r.to),H4(e,i+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,l.from),H4(e,i,r.copy(l.from,r.to)));break}}}return e}function H4(t,e,n){for(;e<t.length&&lp(n,t[e])>0;)e++;t.splice(e,0,n)}function WE(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=mo&&e.push(r)}),t.cursorWrapper&&e.push(Ot.create(t.state.doc,[t.cursorWrapper.deco])),ju.from(e)}const oG={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},iG=fi&&Yu<=11;class sG{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class lG{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new sG,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);fi&&Yu<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),iG&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,oG)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(D4(this.view)){if(this.suppressingSelectionUpdates)return au(this.view);if(fi&&Yu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&fp(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let l=e.focusNode;l;l=km(l))n.add(l);for(let l=e.anchorNode;l;l=km(l))if(n.has(l)){r=l;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&D4(e)&&!this.ignoreSelectionChange(r),l=-1,a=-1,u=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],d);g&&(l=l<0?g.from:Math.min(g.from,l),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(u=!0))}if(Fl&&d.length){let p=d.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,y]=p;g.parentNode&&g.parentNode.parentNode==y.parentNode?y.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let y of p){let v=y.parentNode;v&&v.nodeName=="LI"&&(!g||uG(e,g)!=v)&&y.remove()}}}let h=null;l<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&r_(r)&&(h=zA(e))&&h.eq(rt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,au(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||i)&&(l>-1&&(e.docView.markDirty(l,a),aG(e)),this.handleDOMChange(l,a,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||au(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,l=e.nextSibling;if(fi&&Yu<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:y}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(l=y)}let a=i&&i.parentNode==e.target?lo(i)+1:0,u=r.localPosFromDOM(e.target,a,-1),d=l&&l.parentNode==e.target?lo(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let V4=new WeakMap,U4=!1;function aG(t){if(!V4.has(t)&&(V4.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Fl,U4)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),U4=!0}}function F4(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,l=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return fp(a.node,a.offset,i,l)&&([n,r,i,l]=[i,l,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:l}}function cG(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return F4(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?F4(t,n):null}function uG(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function dG(t,e,n){let{node:r,fromOffset:i,toOffset:l,from:a,to:u}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:d.anchorOffset}],r_(d)||h.push({node:d.focusNode,offset:d.focusOffset})),vo&&t.input.lastKeyCode===8)for(let S=l;S>i;S--){let E=r.childNodes[S-1],A=E.pmViewDesc;if(E.nodeName=="BR"&&!A){l=S;break}if(!A||A.size)break}let g=t.state.doc,y=t.someProp("domParser")||ip.fromSchema(t.state.schema),v=g.resolve(a),w=null,C=y.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:l,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:fG,context:v});if(h&&h[0].pos!=null){let S=h[0].pos,E=h[1]&&h[1].pos;E==null&&(E=S),w={anchor:S+a,head:E+a}}return{doc:C,sel:w,from:a,to:u}}function fG(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Jo&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Jo&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hG=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pG(t,e,n,r,i){let l=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let Q=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ie=zA(t,Q);if(ie&&!t.state.selection.eq(ie)){if(vo&&nu&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ue=>ue(t,$h(13,"Enter"))))return;let ke=t.state.tr.setSelection(ie);Q=="pointer"?ke.setMeta("pointer",!0):Q=="key"&&ke.scrollIntoView(),l&&ke.setMeta("composition",l),t.dispatch(ke)}return}let a=t.state.doc.resolve(e),u=a.sharedDepth(n);e=a.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,h=dG(t,e,n),p=t.state.doc,g=p.slice(h.from,h.to),y,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,v="end"):(y=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let w=bG(g.content,h.doc.content,h.from,y,v);if(w&&t.input.domChangeCount++,(Cm&&t.input.lastIOSEnter>Date.now()-225||nu)&&i.some(Q=>Q.nodeType==1&&!hG.test(Q.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",Q=>Q(t,$h(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&d instanceof Ve&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let Q=G4(t,t.state.doc,h.sel);if(Q&&!Q.eq(t.state.selection)){let ie=t.state.tr.setSelection(Q);l&&ie.setMeta("composition",l),t.dispatch(ie)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Ve&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),fi&&Yu<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)=="  "&&(w.start--,w.endA--,w.endB--);let C=h.doc.resolveNoCache(w.start-h.from),S=h.doc.resolveNoCache(w.endB-h.from),E=p.resolve(w.start),A=C.sameParent(S)&&C.parent.inlineContent&&E.end()>=w.endA,N;if((Cm&&t.input.lastIOSEnter>Date.now()-225&&(!A||i.some(Q=>Q.nodeName=="DIV"||Q.nodeName=="P"))||!A&&C.pos<h.doc.content.size&&(!C.sameParent(S)||!C.parent.inlineContent)&&(N=rt.findFrom(h.doc.resolve(C.pos+1),1,!0))&&N.head>C.pos)&&t.someProp("handleKeyDown",Q=>Q(t,$h(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&gG(p,w.start,w.endA,C,S)&&t.someProp("handleKeyDown",Q=>Q(t,$h(8,"Backspace")))){nu&&vo&&t.domObserver.suppressSelectionUpdates();return}vo&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),nu&&!A&&C.start()!=S.start()&&S.parentOffset==0&&C.depth==S.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,S=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(Q){return Q(t,$h(13,"Enter"))})},20));let I=w.start,B=w.endA,F,q,Z;if(A){if(C.pos==S.pos)fi&&Yu<=11&&C.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>au(t),20)),F=t.state.tr.delete(I,B),q=p.resolve(w.start).marksAcross(p.resolve(w.endA));else if(w.endA==w.endB&&(Z=mG(C.parent.content.cut(C.parentOffset,S.parentOffset),E.parent.content.cut(E.parentOffset,w.endA-E.start()))))F=t.state.tr,Z.type=="add"?F.addMark(I,B,Z.mark):F.removeMark(I,B,Z.mark);else if(C.parent.child(C.index()).isText&&C.index()==S.index()-(S.textOffset?0:1)){let Q=C.parent.textBetween(C.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",ie=>ie(t,I,B,Q)))return;F=t.state.tr.insertText(Q,I,B)}}if(F||(F=t.state.tr.replace(I,B,h.doc.slice(w.start-h.from,w.endB-h.from))),h.sel){let Q=G4(t,F.doc,h.sel);Q&&!(vo&&t.composing&&Q.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(Q.head==I||Q.head==F.mapping.map(B)-1)||fi&&Q.empty&&Q.head==I)&&F.setSelection(Q)}q&&F.ensureMarks(q),l&&F.setMeta("composition",l),t.dispatch(F.scrollIntoView())}function G4(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:$A(t,e.resolve(n.anchor),e.resolve(n.head))}function mG(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,l=r,a,u,d;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)l=n[p].removeFromSet(l);if(i.length==1&&l.length==0)u=i[0],a="add",d=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&l.length==1)u=l[0],a="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(d(e.child(p)));if(se.from(h).eq(t))return{mark:u,type:a}}function gG(t,e,n,r,i){if(n-e<=i.pos-r.pos||KE(r,!0,!1)<i.pos)return!1;let l=t.resolve(e);if(!r.parent.isTextblock){let u=l.nodeAfter;return u!=null&&n==e+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let a=t.resolve(KE(l,!0,!0));return!a.parent.isTextblock||a.pos>n||KE(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function KE(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let l=t.node(r).maybeChild(t.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,i++}return i}function bG(t,e,n,r,i){let l=t.findDiffStart(e,n);if(l==null)return null;let{a,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let d=Math.max(0,l-Math.min(a,u));r-=a+d-l}if(a<l&&t.size<e.size){let d=r<=l&&r>=a?l-r:0;l-=d,l&&l<e.size&&q4(e.textBetween(l-1,l+1))&&(l+=d?1:-1),u=l+(u-a),a=l}else if(u<l){let d=r<=l&&r>=u?l-r:0;l-=d,l&&l<t.size&&q4(t.textBetween(l-1,l+1))&&(l+=d?1:-1),a=l+(a-u),u=l}return{start:l,endA:a,endB:u}}function q4(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class pI{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new IF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Y4),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Z4(this),K4(this),this.nodeViews=X4(this),this.docView=T4(this.state.doc,W4(this),WE(this),this.dom,this),this.domObserver=new lG(this,(r,i,l,a)=>pG(this,r,i,l,a)),this.domObserver.start(),BF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&qT(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Y4),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,l=!1,a=!1;e.storedMarks&&this.composing&&(lI(this),a=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=X4(this);vG(v,this.nodeViews)&&(this.nodeViews=v,l=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&qT(this),this.editable=Z4(this),K4(this);let d=WE(this),h=W4(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(e.doc,h,d);(g||!e.selection.eq(i.selection))&&(a=!0);let y=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&YU(this);if(a){this.domObserver.stop();let v=g&&(fi||vo)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&yG(i.selection,e.selection);if(g){let w=vo?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=XF(this)),(l||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=T4(e.doc,h,d,this.dom,this)),w&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&kF(this))?au(this,v):(Z8(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&QU(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ue){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&k4(this,n.getBoundingClientRect(),e)}else k4(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let l=r.from+(this.state.doc.content.size-n.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(i=l)}this.dragging=new cI(e.slice,e.move,i<0?void 0:Ue.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[e];if(u!=null&&(i=n?n(u):u))return i}let l=this.state.plugins;if(l)for(let a=0;a<l.length;a++){let u=l[a].props[e];if(u!=null&&(i=n?n(u):u))return i}}hasFocus(){if(fi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&JU(this.dom),au(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return oF(this,e)}coordsAtPos(e,n=1){return H8(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return cF(this,n||this.state,e)}pasteHTML(e,n){return Wv(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Wv(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return HA(this,e)}destroy(){this.docView&&(jF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],WE(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$U())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $F(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Jo&&this.root.nodeType===11&&GU(this.dom.ownerDocument)==this.dom&&cG(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function W4(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Qt.node(0,t.state.doc.content.size,e)]}function K4(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Qt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Z4(t){return!t.someProp("editable",e=>e(t.state)===!1)}function yG(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function X4(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function vG(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Y4(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var td={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_k={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},wG=typeof navigator<"u"&&/Mac/.test(navigator.platform),kG=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ao=0;ao<10;ao++)td[48+ao]=td[96+ao]=String(ao);for(var ao=1;ao<=24;ao++)td[ao+111]="F"+ao;for(var ao=65;ao<=90;ao++)td[ao]=String.fromCharCode(ao+32),_k[ao]=String.fromCharCode(ao);for(var ZE in td)_k.hasOwnProperty(ZE)||(_k[ZE]=td[ZE]);function CG(t){var e=wG&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||kG&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?_k:td)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const _G=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function SG(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,l,a;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))_G?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function xG(t){let e=Object.create(null);for(let n in t)e[SG(n)]=t[n];return e}function XE(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function EG(t){return new Ct({props:{handleKeyDown:WA(t)}})}function WA(t){let e=xG(t);return function(n,r){let i=CG(r),l,a=e[XE(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[XE(i,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(l=td[r.keyCode])&&l!=i){let u=e[XE(l,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}const KA=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function mI(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const gI=(t,e,n)=>{let r=mI(t,n);if(!r)return!1;let i=ZA(r);if(!i){let a=r.blockRange(),u=a&&Pm(a);return u==null?!1:(e&&e(t.tr.lift(a,u).scrollIntoView()),!0)}let l=i.nodeBefore;if(xI(t,i,e,-1))return!0;if(r.parent.content.size==0&&(_m(l,"end")||Ue.isSelectable(l)))for(let a=r.depth;;a--){let u=t_(t.doc,r.before(a),r.after(a),Se.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=t.tr.step(u);d.setSelection(_m(l,"end")?rt.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):Ue.create(d.doc,i.pos-l.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return l.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-l.nodeSize,i.pos).scrollIntoView()),!0):!1},TG=(t,e,n)=>{let r=mI(t,n);if(!r)return!1;let i=ZA(r);return i?bI(t,i,e):!1},MG=(t,e,n)=>{let r=vI(t,n);if(!r)return!1;let i=XA(r);return i?bI(t,i,e):!1};function bI(t,e,n){let r=e.nodeBefore,i=r,l=e.pos-1;for(;!i.isTextblock;l--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let a=e.nodeAfter,u=a,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=t_(t.doc,l,d,Se.empty);if(!h||h.from!=l||h instanceof xr&&h.slice.size>=d-l)return!1;if(n){let p=t.tr.step(h);p.setSelection(Ve.create(p.doc,l)),n(p.scrollIntoView())}return!0}function _m(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const yI=(t,e,n)=>{let{$head:r,empty:i}=t.selection,l=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;l=ZA(r)}let a=l&&l.nodeBefore;return!a||!Ue.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ue.create(t.doc,l.pos-a.nodeSize)).scrollIntoView()),!0)};function ZA(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function vI(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const wI=(t,e,n)=>{let r=vI(t,n);if(!r)return!1;let i=XA(r);if(!i)return!1;let l=i.nodeAfter;if(xI(t,i,e,1))return!0;if(r.parent.content.size==0&&(_m(l,"start")||Ue.isSelectable(l))){let a=t_(t.doc,r.before(),r.after(),Se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=t.tr.step(a);u.setSelection(_m(l,"start")?rt.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):Ue.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return l.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+l.nodeSize).scrollIntoView()),!0):!1},kI=(t,e,n)=>{let{$head:r,empty:i}=t.selection,l=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;l=XA(r)}let a=l&&l.nodeAfter;return!a||!Ue.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ue.create(t.doc,l.pos)).scrollIntoView()),!0)};function XA(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const AG=(t,e)=>{let n=t.selection,r=n instanceof Ue,i;if(r){if(n.node.isTextblock||!Ep(t.doc,n.from))return!1;i=n.from}else if(i=e_(t.doc,n.from,-1),i==null)return!1;if(e){let l=t.tr.join(i);r&&l.setSelection(Ue.create(l.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},RG=(t,e)=>{let n=t.selection,r;if(n instanceof Ue){if(n.node.isTextblock||!Ep(t.doc,n.to))return!1;r=n.to}else if(r=e_(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},NG=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),l=i&&Pm(i);return l==null?!1:(e&&e(t.tr.lift(i,l).scrollIntoView()),!0)},CI=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function YA(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const OG=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),l=n.indexAfter(-1),a=YA(i.contentMatchAt(l));if(!a||!i.canReplaceWith(l,l,a))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,a.createAndFill());d.setSelection(rt.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},_I=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof di||r.parent.inlineContent||i.parent.inlineContent)return!1;let l=YA(i.parent.contentMatchAt(i.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=t.tr.insert(a,l.createAndFill());u.setSelection(Ve.create(u.doc,a+1)),e(u.scrollIntoView())}return!0},SI=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let l=n.before();if(lu(t.doc,l))return e&&e(t.tr.split(l).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Pm(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function DG(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Ue&&e.selection.node.isBlock)return!r.parentOffset||!lu(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],a,u,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=YA(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),l.unshift(d&&u?{type:u}:null),a=v;break}else{if(v==1)return!1;l.unshift(null)}let p=e.tr;(e.selection instanceof Ve||e.selection instanceof di)&&p.deleteSelection();let g=p.mapping.map(r.pos),y=lu(p.doc,g,l.length,l);if(y||(l[0]=u?{type:u}:null,y=lu(p.doc,g,l.length,l)),!y)return!1;if(p.split(g,l.length,l),!d&&h&&r.node(a).type!=u){let v=p.mapping.map(r.before(a)),w=p.doc.resolve(v);u&&r.node(a-1).canReplaceWith(w.index(),w.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(a)),u)}return n&&n(p.scrollIntoView()),!0}}const LG=DG(),PG=(t,e)=>{let{$from:n,to:r}=t.selection,i,l=n.sharedDepth(r);return l==0?!1:(i=n.before(l),e&&e(t.tr.setSelection(Ue.create(t.doc,i))),!0)};function IG(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,l=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(i.isTextblock||Ep(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function xI(t,e,n,r){let i=e.nodeBefore,l=e.nodeAfter,a,u,d=i.type.spec.isolating||l.type.spec.isolating;if(!d&&IG(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(u=i.contentMatchAt(i.childCount)).findWrapping(l.type))&&u.matchType(a[0]||l.type).validEnd){if(n){let v=e.pos+l.nodeSize,w=se.empty;for(let E=a.length-1;E>=0;E--)w=se.from(a[E].create(null,w));w=se.from(i.copy(w));let C=t.tr.step(new tr(e.pos-1,v,e.pos,v,new Se(w,1,0),a.length,!0)),S=C.doc.resolve(v+2*a.length);S.nodeAfter&&S.nodeAfter.type==i.type&&Ep(C.doc,S.pos)&&C.join(S.pos),n(C.scrollIntoView())}return!0}let p=l.type.spec.isolating||r>0&&d?null:rt.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),y=g&&Pm(g);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(g,y).scrollIntoView()),!0;if(h&&_m(l,"start",!0)&&_m(i,"end")){let v=i,w=[];for(;w.push(v),!v.isTextblock;)v=v.lastChild;let C=l,S=1;for(;!C.isTextblock;C=C.firstChild)S++;if(v.canReplace(v.childCount,v.childCount,C.content)){if(n){let E=se.empty;for(let N=w.length-1;N>=0;N--)E=se.from(w[N].copy(E));let A=t.tr.step(new tr(e.pos-w.length,e.pos+l.nodeSize,e.pos+S,e.pos+l.nodeSize-S,new Se(E,w.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function EI(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,l=i.depth;for(;i.node(l).isInline;){if(!l)return!1;l--}return i.node(l).isTextblock?(n&&n(e.tr.setSelection(Ve.create(e.doc,t<0?i.start(l):i.end(l)))),!0):!1}}const BG=EI(-1),jG=EI(1);function zG(t,e=null){return function(n,r){let{$from:i,$to:l}=n.selection,a=i.blockRange(l),u=a&&S8(a,t,e);return u?(r&&r(n.tr.wrap(a,u).scrollIntoView()),!0):!1}}function Q4(t,e=null){return function(n,r){let i=!1;for(let l=0;l<n.selection.ranges.length&&!i;l++){let{$from:{pos:a},$to:{pos:u}}=n.selection.ranges[l];n.doc.nodesBetween(a,u,(d,h)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)i=!0;else{let p=n.doc.resolve(h),g=p.index();i=p.parent.canReplaceWith(g,g+1,t)}})}if(!i)return!1;if(r){let l=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[a];l.setBlockType(u,d,t,e)}r(l.scrollIntoView())}return!0}}function QA(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}QA(KA,gI,yI);QA(KA,wI,kI);QA(CI,_I,SI,LG);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function $G(t,e=null){return function(n,r){let{$from:i,$to:l}=n.selection,a=i.blockRange(l);if(!a)return!1;let u=r?n.tr:null;return HG(u,a,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function HG(t,e,n,r=null){let i=!1,l=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);l=new gk(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new gk(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=S8(l,n,r,e);return u?(t&&VG(t,e,u,i,n),!0):!1}function VG(t,e,n,r,i){let l=se.empty;for(let p=n.length-1;p>=0;p--)l=se.from(n[p].type.create(n[p].attrs,l));t.step(new tr(e.start-(r?2:0),e.end,e.start,e.end,new Se(l,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==i&&(a=p+1);let u=n.length-a,d=e.start+n.length-(r?2:0),h=e.parent;for(let p=e.startIndex,g=e.endIndex,y=!0;p<g;p++,y=!1)!y&&lu(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=h.child(p).nodeSize;return t}function UG(t){return function(e,n){let{$from:r,$to:i}=e.selection,l=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return l?n?r.node(l.depth-1).type==t?FG(e,n,t,l):GG(e,n,l):!0:!1}}function FG(t,e,n,r){let i=t.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(i.step(new tr(l-1,a,l,a,new Se(se.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new gk(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const u=Pm(r);if(u==null)return!1;i.lift(r,u);let d=i.doc.resolve(i.mapping.map(l,-1)-1);return Ep(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function GG(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,w=n.endIndex-1,C=n.startIndex;w>C;w--)v-=i.child(w).nodeSize,r.delete(v-1,v+1);let l=r.doc.resolve(n.start),a=l.nodeAfter;if(r.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==i.childCount,h=l.node(-1),p=l.index(-1);if(!h.canReplace(p+(u?0:1),p+1,a.content.append(d?se.empty:se.from(i))))return!1;let g=l.pos,y=g+a.nodeSize;return r.step(new tr(g-(u?1:0),y+(d?1:0),g+1,y-1,new Se((u?se.empty:se.from(i.copy(se.empty))).append(d?se.empty:se.from(i.copy(se.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function qG(t){return function(e,n){let{$from:r,$to:i}=e.selection,l=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==t);if(!l)return!1;let a=l.startIndex;if(a==0)return!1;let u=l.parent,d=u.child(a-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==u.type,p=se.from(h?t.create():null),g=new Se(se.from(t.create(null,se.from(u.type.create(null,p)))),h?3:1,0),y=l.start,v=l.end;n(e.tr.step(new tr(y-(h?3:1),v,y,v,g,1,!0)).scrollIntoView())}return!0}}function s_(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:l}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,l=n.storedMarks,n}}}class l_{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:l}=r,a=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...p)=>{const g=d(...p)(a);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:l}=this,{view:a}=i,u=[],d=!!e,h=e||l.tr,p=()=>(!d&&n&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),u.every(y=>y===!0)),g={...Object.fromEntries(Object.entries(r).map(([y,v])=>[y,(...C)=>{const S=this.buildProps(h,n),E=v(...C)(S);return u.push(E),g}])),run:p};return g}createCan(e){const{rawCommands:n,state:r}=this,i=!1,l=e||r.tr,a=this.buildProps(l,i);return{...Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...p)=>h(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(l,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:l}=this,{view:a}=i,u={tr:e,editor:i,view:a,state:s_({state:l,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...p)=>h(...p)(u)]))}};return u}}class WG{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function je(t,e,n){return t.config[e]===void 0&&t.parent?je(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?je(t.parent,e,n):null}):t.config[e]}function a_(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function TI(t){const e=[],{nodeExtensions:n,markExtensions:r}=a_(t),i=[...n,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:i},d=je(a,"addGlobalAttributes",u);if(!d)return;d().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([y,v])=>{e.push({type:g,name:y,attribute:{...l,...v}})})})})}),i.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},d=je(a,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([p,g])=>{const y={...l,...g};typeof(y==null?void 0:y.default)=="function"&&(y.default=y.default()),y!=null&&y.isRequired&&(y==null?void 0:y.default)===void 0&&delete y.default,e.push({type:a.name,name:p,attribute:y})})}),e}function Pr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ms(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,l])=>{if(!r[i]){r[i]=l;return}if(i==="class"){const u=l?String(l).split(" "):[],d=r[i]?r[i].split(" "):[],h=u.filter(p=>!d.includes(p));r[i]=[...d,...h].join(" ")}else if(i==="style"){const u=l?l.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;d.forEach(p=>{const[g,y]=p.split(":").map(v=>v.trim());h.set(g,y)}),u.forEach(p=>{const[g,y]=p.split(":").map(v=>v.trim());h.set(g,y)}),r[i]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[i]=l}),r},{})}function Sk(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ms(n,r),{})}function MI(t){return typeof t=="function"}function Bt(t,e=void 0,...n){return MI(t)?e?t.bind(e)(...n):t(...n):t}function KG(t={}){return Object.keys(t).length===0&&t.constructor===Object}function ZG(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function J4(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((l,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(n):ZG(n.getAttribute(a.name));return u==null?l:{...l,[a.name]:u}},{});return{...r,...i}}}}function eO(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&KG(n)?!1:n!=null))}function AI(t,e){var n;const r=TI(t),{nodeExtensions:i,markExtensions:l}=a_(t),a=(n=i.find(h=>je(h,"topNode")))===null||n===void 0?void 0:n.name,u=Object.fromEntries(i.map(h=>{const p=r.filter(E=>E.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},y=t.reduce((E,A)=>{const N=je(A,"extendNodeSchema",g);return{...E,...N?N(h):{}}},{}),v=eO({...y,content:Bt(je(h,"content",g)),marks:Bt(je(h,"marks",g)),group:Bt(je(h,"group",g)),inline:Bt(je(h,"inline",g)),atom:Bt(je(h,"atom",g)),selectable:Bt(je(h,"selectable",g)),draggable:Bt(je(h,"draggable",g)),code:Bt(je(h,"code",g)),whitespace:Bt(je(h,"whitespace",g)),linebreakReplacement:Bt(je(h,"linebreakReplacement",g)),defining:Bt(je(h,"defining",g)),isolating:Bt(je(h,"isolating",g)),attrs:Object.fromEntries(p.map(E=>{var A;return[E.name,{default:(A=E==null?void 0:E.attribute)===null||A===void 0?void 0:A.default}]}))}),w=Bt(je(h,"parseHTML",g));w&&(v.parseDOM=w.map(E=>J4(E,p)));const C=je(h,"renderHTML",g);C&&(v.toDOM=E=>C({node:E,HTMLAttributes:Sk(E,p)}));const S=je(h,"renderText",g);return S&&(v.toText=S),[h.name,v]})),d=Object.fromEntries(l.map(h=>{const p=r.filter(S=>S.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},y=t.reduce((S,E)=>{const A=je(E,"extendMarkSchema",g);return{...S,...A?A(h):{}}},{}),v=eO({...y,inclusive:Bt(je(h,"inclusive",g)),excludes:Bt(je(h,"excludes",g)),group:Bt(je(h,"group",g)),spanning:Bt(je(h,"spanning",g)),code:Bt(je(h,"code",g)),attrs:Object.fromEntries(p.map(S=>{var E;return[S.name,{default:(E=S==null?void 0:S.attribute)===null||E===void 0?void 0:E.default}]}))}),w=Bt(je(h,"parseHTML",g));w&&(v.parseDOM=w.map(S=>J4(S,p)));const C=je(h,"renderHTML",g);return C&&(v.toDOM=S=>C({mark:S,HTMLAttributes:Sk(S,p)})),[h.name,v]}));return new g8({topNode:a,nodes:u,marks:d})}function YE(t,e){return e.nodes[t]||e.marks[t]||null}function tO(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function JA(t,e){const n=ku.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const XG=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,l,a,u)=>{var d,h;const p=((h=(d=i.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:i,pos:l,parent:a,index:u}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-l))}),n};function eR(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class nd{constructor(e){this.find=e.find,this.handler=e.handler}}const YG=(t,e)=>{if(eR(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function iw(t){var e;const{editor:n,from:r,to:i,text:l,rules:a,plugin:u}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const g=XG(h)+l;return a.forEach(y=>{if(p)return;const v=YG(g,y.find);if(!v)return;const w=d.state.tr,C=s_({state:d.state,transaction:w}),S={from:r-(v[0].length-l.length),to:i},{commands:E,chain:A,can:N}=new l_({editor:n,state:C});y.handler({state:C,range:S,match:v,commands:E,chain:A,can:N})===null||!w.steps.length||(w.setMeta(u,{transform:w,from:r,to:i,text:l}),d.dispatch(w),p=!0)}),p}function QG(t){const{editor:e,rules:n}=t,r=new Ct({state:{init(){return null},apply(i,l,a){const u=i.getMeta(r);if(u)return u;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=JA(se.from(p),a.schema);const{from:g}=d,y=g+p.length;iw({editor:e,from:g,to:y,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:l}},props:{handleTextInput(i,l,a,u){return iw({editor:e,from:l,to:a,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:l}=i.state.selection;l&&iw({editor:e,from:l.pos,to:l.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,l){if(l.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?iw({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function JG(t){return Object.prototype.toString.call(t).slice(8,-1)}function sw(t){return JG(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function c_(t,e){const n={...t};return sw(t)&&sw(e)&&Object.keys(e).forEach(r=>{sw(e[r])&&sw(t[r])?n[r]=c_(t[r],e[r]):n[r]=e[r]}),n}class gi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Bt(je(this,"addOptions",{name:this.name}))),this.storage=Bt(je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gi(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>c_(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new gi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Bt(je(n,"addOptions",{name:n.name})),n.storage=Bt(je(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(h=>(h==null?void 0:h.type.name)===n.name))return!1;const d=a.find(h=>(h==null?void 0:h.type.name)===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function eq(t){return typeof t=="number"}class tq{constructor(e){this.find=e.find,this.handler=e.handler}}const nq=(t,e,n)=>{if(eR(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const l=[i.text];return l.index=i.index,l.input=t,l.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(i.replaceWith)),l}):[]};function rq(t){const{editor:e,state:n,from:r,to:i,rule:l,pasteEvent:a,dropEvent:u}=t,{commands:d,chain:h,can:p}=new l_({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,i,(v,w)=>{if(!v.isTextblock||v.type.spec.code)return;const C=Math.max(r,w),S=Math.min(i,w+v.content.size),E=v.textBetween(C-w,S-w,void 0,"￼");nq(E,l.find,a).forEach(N=>{if(N.index===void 0)return;const I=C+N.index+1,B=I+N[0].length,F={from:n.tr.mapping.map(I),to:n.tr.mapping.map(B)},q=l.handler({state:n,range:F,match:N,commands:d,chain:h,can:p,pasteEvent:a,dropEvent:u});g.push(q)})}),g.every(v=>v!==null)}let lw=null;const oq=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function iq(t){const{editor:e,rules:n}=t;let r=null,i=!1,l=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:p,from:g,to:y,rule:v,pasteEvt:w})=>{const C=p.tr,S=s_({state:p,transaction:C});if(!(!rq({editor:e,state:S,from:Math.max(g-1,0),to:y.b-1,rule:v,pasteEvent:w,dropEvent:u})||!C.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,C}};return n.map(p=>new Ct({view(g){const y=w=>{var C;r=!((C=g.dom.parentElement)===null||C===void 0)&&C.contains(w.target)?g.dom.parentElement:null,r&&(lw=e)},v=()=>{lw&&(lw=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,y)=>{if(l=r===g.dom.parentElement,u=y,!l){const v=lw;v&&setTimeout(()=>{const w=v.state.selection;w&&v.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(g,y)=>{var v;const w=(v=y.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return a=y,i=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(g,y,v)=>{const w=g[0],C=w.getMeta("uiEvent")==="paste"&&!i,S=w.getMeta("uiEvent")==="drop"&&!l,E=w.getMeta("applyPasteRules"),A=!!E;if(!C&&!S&&!A)return;if(A){let{text:B}=E;typeof B=="string"?B=B:B=JA(se.from(B),v.schema);const{from:F}=E,q=F+B.length,Z=oq(B);return d({rule:p,state:v,from:F,to:{b:q},pasteEvt:Z})}const N=y.doc.content.findDiffStart(v.doc.content),I=y.doc.content.findDiffEnd(v.doc.content);if(!(!eq(N)||!I||N===I.b))return d({rule:p,state:v,from:N,to:I,pasteEvt:a})}}))}function sq(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Kh{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Kh.resolve(e),this.schema=AI(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Kh.sort(Kh.flatten(e)),r=sq(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=je(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const l=je(r,"priority")||100,a=je(i,"priority")||100;return l>a?-1:l<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:YE(n.name,this.schema)},i=je(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Kh.sort([...this.extensions].reverse()),r=[],i=[],l=n.map(a=>{const u={name:a.name,options:a.options,storage:a.storage,editor:e,type:YE(a.name,this.schema)},d=[],h=je(a,"addKeyboardShortcuts",u);let p={};if(a.type==="mark"&&je(a,"exitable",u)&&(p.ArrowRight=()=>gi.handleExit({editor:e,mark:a})),h){const C=Object.fromEntries(Object.entries(h()).map(([S,E])=>[S,()=>E({editor:e})]));p={...p,...C}}const g=EG(p);d.push(g);const y=je(a,"addInputRules",u);tO(a,e.options.enableInputRules)&&y&&r.push(...y());const v=je(a,"addPasteRules",u);tO(a,e.options.enablePasteRules)&&v&&i.push(...v());const w=je(a,"addProseMirrorPlugins",u);if(w){const C=w();d.push(...C)}return d}).flat();return[QG({editor:e,rules:r}),...iq({editor:e,rules:i}),...l]}get attributes(){return TI(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=a_(this.extensions);return Object.fromEntries(n.filter(r=>!!je(r,"addNodeView")).map(r=>{const i=this.attributes.filter(d=>d.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:Pr(r.name,this.schema)},a=je(r,"addNodeView",l);if(!a)return[];const u=(d,h,p,g,y)=>{const v=Sk(d,i);return a()({node:d,view:h,getPos:p,decorations:g,innerDecorations:y,editor:e,extension:r,HTMLAttributes:v})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:YE(e.name,this.schema)};e.type==="mark"&&(!((n=Bt(je(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=je(e,"onBeforeCreate",r),l=je(e,"onCreate",r),a=je(e,"onUpdate",r),u=je(e,"onSelectionUpdate",r),d=je(e,"onTransaction",r),h=je(e,"onFocus",r),p=je(e,"onBlur",r),g=je(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),l&&this.editor.on("create",l),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}}class an{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Bt(je(this,"addOptions",{name:this.name}))),this.storage=Bt(je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new an(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>c_(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new an({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Bt(je(n,"addOptions",{name:n.name})),n.storage=Bt(je(n,"addStorage",{name:n.name,options:n.options})),n}}function RI(t,e,n){const{from:r,to:i}=e,{blockSeparator:l=`

`,textSerializers:a={}}=n||{};let u="";return t.nodesBetween(r,i,(d,h,p,g)=>{var y;d.isBlock&&h>r&&(u+=l);const v=a==null?void 0:a[d.type.name];if(v)return p&&(u+=v({node:d,pos:h,parent:p,index:g,range:e})),!1;d.isText&&(u+=(y=d==null?void 0:d.text)===null||y===void 0?void 0:y.slice(Math.max(r,h)-h,i-h))}),u}function NI(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const OI=an.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ct({key:new Ht("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:l}=i,a=Math.min(...l.map(p=>p.$from.pos)),u=Math.max(...l.map(p=>p.$to.pos)),d=NI(n);return RI(r,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),lq=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),aq=(t=!1)=>({commands:e})=>e.setContent("",t),cq=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:l,$to:a})=>{t.doc.nodesBetween(l.pos,a.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,g=h.resolve(p.map(d)),y=h.resolve(p.map(d+u.nodeSize)),v=g.blockRange(y);if(!v)return;const w=Pm(v);if(u.type.isTextblock){const{defaultType:C}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,C)}(w||w===0)&&e.lift(v,w)})}),!0},uq=t=>e=>t(e),dq=()=>({state:t,dispatch:e})=>_I(t,e),fq=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,l=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,l.content),r.setSelection(new Ve(r.doc.resolve(a-1))),!0},hq=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===r.type){if(e){const u=i.before(l),d=i.after(l);t.delete(u,d).scrollIntoView()}return!0}return!1},pq=t=>({tr:e,state:n,dispatch:r})=>{const i=Pr(t,n.schema),l=e.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===i){if(r){const d=l.before(a),h=l.after(a);e.delete(d,h).scrollIntoView()}return!0}return!1},mq=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},gq=()=>({state:t,dispatch:e})=>KA(t,e),bq=()=>({commands:t})=>t.keyboardShortcut("Enter"),yq=()=>({state:t,dispatch:e})=>OG(t,e);function xk(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:eR(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function DI(t,e,n={}){return t.find(r=>r.type===e&&xk(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function nO(t,e,n={}){return!!DI(t,e,n)}function Zv(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!DI([...i.node.marks],e,n)))return;let a=i.index,u=t.start()+i.offset,d=a+1,h=u+i.node.nodeSize;for(;a>0&&nO([...t.parent.child(a-1).marks],e,n);)a-=1,u-=t.parent.child(a).nodeSize;for(;d<t.parent.childCount&&nO([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function pd(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const vq=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const l=pd(t,r.schema),{doc:a,selection:u}=n,{$from:d,from:h,to:p}=u;if(i){const g=Zv(d,l,e);if(g&&g.from<=h&&g.to>=p){const y=Ve.create(a,g.from,g.to);n.setSelection(y)}}return!0},wq=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function u_(t){return t instanceof Ve}function ru(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function LI(t,e=null){if(!e)return null;const n=rt.atStart(t),r=rt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,l=r.to;return e==="all"?Ve.create(t,ru(0,i,l),ru(t.content.size,i,l)):Ve.create(t,ru(e,i,l),ru(e,i,l))}function PI(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function d_(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const kq=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:l})=>{e={scrollIntoView:!0,...e};const a=()=>{(d_()||PI())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(l&&t===null&&!u_(n.state.selection))return a(),!0;const u=LI(i.doc,t)||n.state.selection,d=n.state.selection.eq(u);return l&&(d||i.setSelection(u),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},Cq=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),_q=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),II=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&II(r)}return t};function aw(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return II(n)}function Ek(t,e,n){if(t instanceof su||t instanceof se)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return se.fromArray(t.map(u=>e.nodeFromJSON(u)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(l){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",l),Ek("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,u="";const d=new g8({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?ip.fromSchema(d).parseSlice(aw(t),n.parseOptions):ip.fromSchema(d).parse(aw(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=ip.fromSchema(e);return n.slice?l.parseSlice(aw(t),n.parseOptions).content:l.parse(aw(t),n.parseOptions)}return Ek("",e,n)}function BI(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof xr||i instanceof tr))return;const l=t.mapping.maps[r];let a=0;l.forEach((u,d,h,p)=>{a===0&&(a=p)}),t.setSelection(rt.near(t.doc.resolve(a),n))}const Sq=t=>!("type"in t),xq=(t,e,n)=>({tr:r,dispatch:i,editor:l})=>{var a;if(i){n={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;try{u=Ek(e,l.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:l.options.enableContentCheck})}catch(w){return l.emit("contentError",{editor:l,error:w,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if((Sq(u)?u:[u]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,g=g?w.isBlock:!1}),d===h&&g){const{parent:w}=r.doc.resolve(d);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(d-=1,h+=1)}let v;if(p){if(Array.isArray(e))v=e.map(w=>w.text||"").join("");else if(e instanceof se){let w="";e.forEach(C=>{C.text&&(w+=C.text)}),v=w}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,h)}else v=u,r.replaceWith(d,h,v);n.updateSelection&&BI(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},Eq=()=>({state:t,dispatch:e})=>AG(t,e),Tq=()=>({state:t,dispatch:e})=>RG(t,e),Mq=()=>({state:t,dispatch:e})=>gI(t,e),Aq=()=>({state:t,dispatch:e})=>wI(t,e),Rq=()=>({state:t,dispatch:e,tr:n})=>{try{const r=e_(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Nq=()=>({state:t,dispatch:e,tr:n})=>{try{const r=e_(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Oq=()=>({state:t,dispatch:e})=>TG(t,e),Dq=()=>({state:t,dispatch:e})=>MG(t,e);function jI(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Lq(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,l,a;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))d_()||jI()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),l&&(n=`Shift-${n}`),n}const Pq=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const l=Lq(t).split(/-(?!$)/),a=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return d==null||d.steps.forEach(h=>{const p=h.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function Xv(t,e,n={}){const{from:r,to:i,empty:l}=t.selection,a=e?Pr(e,t.schema):null,u=[];t.doc.nodesBetween(r,i,(g,y)=>{if(g.isText)return;const v=Math.max(r,y),w=Math.min(i,y+g.nodeSize);u.push({node:g,from:v,to:w})});const d=i-r,h=u.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>xk(g.node.attrs,n,{strict:!1}));return l?!!h.length:h.reduce((g,y)=>g+y.to-y.from,0)>=d}const Iq=(t,e={})=>({state:n,dispatch:r})=>{const i=Pr(t,n.schema);return Xv(n,i,e)?NG(n,r):!1},Bq=()=>({state:t,dispatch:e})=>SI(t,e),jq=t=>({state:e,dispatch:n})=>{const r=Pr(t,e.schema);return UG(r)(e,n)},zq=()=>({state:t,dispatch:e})=>CI(t,e);function f_(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function rO(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const $q=(t,e)=>({tr:n,state:r,dispatch:i})=>{let l=null,a=null;const u=f_(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(l=Pr(t,r.schema)),u==="mark"&&(a=pd(t,r.schema)),i&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,p)=>{l&&l===h.type&&n.setNodeMarkup(p,void 0,rO(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(g=>{a===g.type&&n.addMark(p,p+h.nodeSize,a.create(rO(g.attrs,e)))})})}),!0):!1},Hq=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Vq=()=>({tr:t,dispatch:e})=>{if(e){const n=new di(t.doc);t.setSelection(n)}return!0},Uq=()=>({state:t,dispatch:e})=>yI(t,e),Fq=()=>({state:t,dispatch:e})=>kI(t,e),Gq=()=>({state:t,dispatch:e})=>PG(t,e),qq=()=>({state:t,dispatch:e})=>jG(t,e),Wq=()=>({state:t,dispatch:e})=>BG(t,e);function Tk(t,e,n={},r={}){return Ek(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Kq=(t,e=!1,n={},r={})=>({editor:i,tr:l,dispatch:a,commands:u})=>{var d,h;const{doc:p}=l;if(n.preserveWhitespace!=="full"){const g=Tk(t,i.schema,n,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck});return a&&l.replaceWith(0,p.content.size,g).setMeta("preventUpdate",!e),!0}return a&&l.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:p.content.size},t,{parseOptions:n,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:i.options.enableContentCheck})};function zI(t,e){const n=pd(e,t.schema),{from:r,to:i,empty:l}=t.selection,a=[];l?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,d=>{a.push(...d.marks)});const u=a.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function $I(t,e){const n=new IA(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Zq(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function oO(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function HI(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,l)=>{n(i)&&r.push({node:i,pos:l})}),r}function Xq(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function h_(t){return e=>Xq(e.$from,t)}function Yq(t,e){const n=Kh.resolve(t);return AI(n,e)}function Qq(t,e){const n={from:0,to:t.content.size};return RI(t,n,e)}function Jq(t,e){const n=Pr(e,t.schema),{from:r,to:i}=t.selection,l=[];t.doc.nodesBetween(r,i,u=>{l.push(u)});const a=l.reverse().find(u=>u.type.name===n.name);return a?{...a.attrs}:{}}function VI(t,e){const n=f_(typeof e=="string"?e:e.name,t.schema);return n==="node"?Jq(t,e):n==="mark"?zI(t,e):{}}function eW(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function tW(t){const e=eW(t);return e.length===1?e:e.filter((n,r)=>!e.filter((l,a)=>a!==r).some(l=>n.oldRange.from>=l.oldRange.from&&n.oldRange.to<=l.oldRange.to&&n.newRange.from>=l.newRange.from&&n.newRange.to<=l.newRange.to))}function UI(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,l)=>{const a=[];if(i.ranges.length)i.forEach((u,d)=>{a.push({from:u,to:d})});else{const{from:u,to:d}=n[l];if(u===void 0||d===void 0)return;a.push({from:u,to:d})}a.forEach(({from:u,to:d})=>{const h=e.slice(l).map(u,-1),p=e.slice(l).map(d),g=e.invert().map(h,-1),y=e.invert().map(p);r.push({oldRange:{from:g,to:y},newRange:{from:h,to:p}})})}),tW(r)}function tR(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const l=n.resolve(t),a=Zv(l,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,l)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:l,to:l+i.nodeSize,mark:a})))}),r}function Hw(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(l=>l.type===e&&l.name===r);return i?i.attribute.keepOnSplit:!1}))}function WT(t,e,n={}){const{empty:r,ranges:i}=t.selection,l=e?pd(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>xk(g.attrs,n,{strict:!1}));let a=0;const u=[];if(i.forEach(({$from:g,$to:y})=>{const v=g.pos,w=y.pos;t.doc.nodesBetween(v,w,(C,S)=>{if(!C.isText&&!C.marks.length)return;const E=Math.max(v,S),A=Math.min(w,S+C.nodeSize),N=A-E;a+=N,u.push(...C.marks.map(I=>({mark:I,from:E,to:A})))})}),a===0)return!1;const d=u.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>xk(g.mark.attrs,n,{strict:!1})).reduce((g,y)=>g+y.to-y.from,0),h=u.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,y)=>g+y.to-y.from,0);return(d>0?d+h:d)>=a}function nW(t,e,n={}){if(!e)return Xv(t,null,n)||WT(t,null,n);const r=f_(e,t.schema);return r==="node"?Xv(t,e,n):r==="mark"?WT(t,e,n):!1}function iO(t,e){const{nodeExtensions:n}=a_(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},l=Bt(je(r,"group",i));return typeof l!="string"?!1:l.split(" ").includes("list")}function nR(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(l=>{i!==!1&&(nR(l,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function KT(t){return t instanceof Ue}function Mk(t,e,n){const i=t.state.doc.content.size,l=ru(e,0,i),a=ru(n,0,i),u=t.coordsAtPos(l),d=t.coordsAtPos(a,-1),h=Math.min(u.top,d.top),p=Math.max(u.bottom,d.bottom),g=Math.min(u.left,d.left),y=Math.max(u.right,d.right),v=y-g,w=p-h,E={top:h,bottom:p,left:g,right:y,width:v,height:w,x:g,y:h};return{...E,toJSON:()=>E}}function rW(t,e,n){var r;const{selection:i}=e;let l=null;if(u_(i)&&(l=i.$cursor),l){const u=(r=t.storedMarks)!==null&&r!==void 0?r:l.marks();return!!n.isInSet(u)||!u.some(d=>d.type.excludes(n))}const{ranges:a}=i;return a.some(({$from:u,$to:d})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(p,g,y)=>{if(h)return!1;if(p.isInline){const v=!y||y.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(C=>C.type.excludes(n));h=v&&w}return!h}),h})}const oW=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:l}=n,{empty:a,ranges:u}=l,d=pd(t,r.schema);if(i)if(a){const h=zI(r,d);n.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(p,g,(y,v)=>{const w=Math.max(v,p),C=Math.min(v+y.nodeSize,g);y.marks.find(E=>E.type===d)?y.marks.forEach(E=>{d===E.type&&n.addMark(w,C,d.create({...E.attrs,...e}))}):n.addMark(w,C,d.create(e))})});return rW(r,n,d)},iW=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),sW=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const l=Pr(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),l.isTextblock?i().command(({commands:u})=>Q4(l,{...a,...e})(n)?!0:u.clearNodes()).command(({state:u})=>Q4(l,{...a,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},lW=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ru(t,0,r.content.size),l=Ue.create(r,i);e.setSelection(l)}return!0},aW=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:l}=typeof t=="number"?{from:t,to:t}:t,a=Ve.atStart(r).from,u=Ve.atEnd(r).to,d=ru(i,a,u),h=ru(l,a,u),p=Ve.create(r,d,h);e.setSelection(p)}return!0},cW=t=>({state:e,dispatch:n})=>{const r=Pr(t,e.schema);return qG(r)(e,n)};function sO(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const uW=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:l,doc:a}=e,{$from:u,$to:d}=l,h=i.extensionManager.attributes,p=Hw(h,u.node().type.name,u.node().attrs);if(l instanceof Ue&&l.node.isBlock)return!u.parentOffset||!lu(a,u.pos)?!1:(r&&(t&&sO(n,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,y=u.depth===0?void 0:Zq(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=g&&y?[{type:y,attrs:p}]:void 0,w=lu(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!w&&lu(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(w=!0,v=y?[{type:y,attrs:p}]:void 0),r){if(w&&(l instanceof Ve&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),y&&!g&&!u.parentOffset&&u.parent.type!==y)){const C=e.mapping.map(u.before()),S=e.doc.resolve(C);u.node(-1).canReplaceWith(S.index(),S.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&sO(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},dW=(t,e={})=>({tr:n,state:r,dispatch:i,editor:l})=>{var a;const u=Pr(t,r.schema),{$from:d,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(h))return!1;const g=d.node(-1);if(g.type!==u)return!1;const y=l.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let E=se.empty;const A=d.index(-1)?1:d.index(-2)?2:3;for(let Z=d.depth-A;Z>=d.depth-3;Z-=1)E=se.from(d.node(Z).copy(E));const N=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,I={...Hw(y,d.node().type.name,d.node().attrs),...e},B=((a=u.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(I))||void 0;E=E.append(se.from(u.createAndFill(null,B)||void 0));const F=d.before(d.depth-(A-1));n.replace(F,d.after(-N),new Se(E,4-A,0));let q=-1;n.doc.nodesBetween(F,n.doc.content.size,(Z,Q)=>{if(q>-1)return!1;Z.isTextblock&&Z.content.size===0&&(q=Q+1)}),q>-1&&n.setSelection(Ve.near(n.doc.resolve(q))),n.scrollIntoView()}return!0}const v=h.pos===d.end()?g.contentMatchAt(0).defaultType:null,w={...Hw(y,g.type.name,g.attrs),...e},C={...Hw(y,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const S=v?[{type:u,attrs:w},{type:v,attrs:C}]:[{type:u,attrs:w}];if(!lu(n.doc,d.pos,2))return!1;if(i){const{selection:E,storedMarks:A}=r,{splittableMarks:N}=l.extensionManager,I=A||E.$to.parentOffset&&E.$from.marks();if(n.split(d.pos,2,S).scrollIntoView(),!I||!i)return!0;const B=I.filter(F=>N.includes(F.type.name));n.ensureMarks(B)}return!0},QE=(t,e)=>{const n=h_(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Ep(t.doc,n.pos)&&t.join(n.pos),!0},JE=(t,e)=>{const n=h_(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Ep(t.doc,r)&&t.join(r),!0},fW=(t,e,n,r={})=>({editor:i,tr:l,state:a,dispatch:u,chain:d,commands:h,can:p})=>{const{extensions:g,splittableMarks:y}=i.extensionManager,v=Pr(t,a.schema),w=Pr(e,a.schema),{selection:C,storedMarks:S}=a,{$from:E,$to:A}=C,N=E.blockRange(A),I=S||C.$to.parentOffset&&C.$from.marks();if(!N)return!1;const B=h_(F=>iO(F.type.name,g))(C);if(N.depth>=1&&B&&N.depth-B.depth<=1){if(B.node.type===v)return h.liftListItem(w);if(iO(B.node.type.name,g)&&v.validContent(B.node.content)&&u)return d().command(()=>(l.setNodeMarkup(B.pos,v),!0)).command(()=>QE(l,v)).command(()=>JE(l,v)).run()}return!n||!I||!u?d().command(()=>p().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>QE(l,v)).command(()=>JE(l,v)).run():d().command(()=>{const F=p().wrapInList(v,r),q=I.filter(Z=>y.includes(Z.type.name));return l.ensureMarks(q),F?!0:h.clearNodes()}).wrapInList(v,r).command(()=>QE(l,v)).command(()=>JE(l,v)).run()},hW=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:l=!1}=n,a=pd(t,r.schema);return WT(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:l}):i.setMark(a,e)},pW=(t,e,n={})=>({state:r,commands:i})=>{const l=Pr(t,r.schema),a=Pr(e,r.schema),u=Xv(r,l,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?i.setNode(a,d):i.setNode(l,{...d,...n})},mW=(t,e={})=>({state:n,commands:r})=>{const i=Pr(t,n.schema);return Xv(n,i,e)?r.lift(i):r.wrapIn(i,e)},gW=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let l;if(i.spec.isInputRules&&(l=i.getState(t))){if(e){const a=t.tr,u=l.transform;for(let d=u.steps.length-1;d>=0;d-=1)a.step(u.steps[d].invert(u.docs[d]));if(l.text){const d=a.doc.resolve(l.from).marks();a.replaceWith(l.from,l.to,t.schema.text(l.text,d))}else a.delete(l.from,l.to)}return!0}}return!1},bW=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(l=>{t.removeMark(l.$from.pos,l.$to.pos)}),!0},yW=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var l;const{extendEmptyMarkRange:a=!1}=e,{selection:u}=n,d=pd(t,r.schema),{$from:h,empty:p,ranges:g}=u;if(!i)return!0;if(p&&a){let{from:y,to:v}=u;const w=(l=h.marks().find(S=>S.type===d))===null||l===void 0?void 0:l.attrs,C=Zv(h,d,w);C&&(y=C.from,v=C.to),n.removeMark(y,v,d)}else g.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,d)});return n.removeStoredMark(d),!0},vW=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let l=null,a=null;const u=f_(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(l=Pr(t,r.schema)),u==="mark"&&(a=pd(t,r.schema)),i&&n.selection.ranges.forEach(d=>{const h=d.$from.pos,p=d.$to.pos;let g,y,v,w;n.selection.empty?r.doc.nodesBetween(h,p,(C,S)=>{l&&l===C.type&&(v=Math.max(S,h),w=Math.min(S+C.nodeSize,p),g=S,y=C)}):r.doc.nodesBetween(h,p,(C,S)=>{S<h&&l&&l===C.type&&(v=Math.max(S,h),w=Math.min(S+C.nodeSize,p),g=S,y=C),S>=h&&S<=p&&(l&&l===C.type&&n.setNodeMarkup(S,void 0,{...C.attrs,...e}),a&&C.marks.length&&C.marks.forEach(E=>{if(a===E.type){const A=Math.max(S,h),N=Math.min(S+C.nodeSize,p);n.addMark(A,N,a.create({...E.attrs,...e}))}}))}),y&&(g!==void 0&&n.setNodeMarkup(g,void 0,{...y.attrs,...e}),a&&y.marks.length&&y.marks.forEach(C=>{a===C.type&&n.addMark(v,w,a.create({...C.attrs,...e}))}))}),!0):!1},wW=(t,e={})=>({state:n,dispatch:r})=>{const i=Pr(t,n.schema);return zG(i,e)(n,r)},kW=(t,e={})=>({state:n,dispatch:r})=>{const i=Pr(t,n.schema);return $G(i,e)(n,r)};var CW=Object.freeze({__proto__:null,blur:lq,clearContent:aq,clearNodes:cq,command:uq,createParagraphNear:dq,cut:fq,deleteCurrentNode:hq,deleteNode:pq,deleteRange:mq,deleteSelection:gq,enter:bq,exitCode:yq,extendMarkRange:vq,first:wq,focus:kq,forEach:Cq,insertContent:_q,insertContentAt:xq,joinBackward:Mq,joinDown:Tq,joinForward:Aq,joinItemBackward:Rq,joinItemForward:Nq,joinTextblockBackward:Oq,joinTextblockForward:Dq,joinUp:Eq,keyboardShortcut:Pq,lift:Iq,liftEmptyBlock:Bq,liftListItem:jq,newlineInCode:zq,resetAttributes:$q,scrollIntoView:Hq,selectAll:Vq,selectNodeBackward:Uq,selectNodeForward:Fq,selectParentNode:Gq,selectTextblockEnd:qq,selectTextblockStart:Wq,setContent:Kq,setMark:oW,setMeta:iW,setNode:sW,setNodeSelection:lW,setTextSelection:aW,sinkListItem:cW,splitBlock:uW,splitListItem:dW,toggleList:fW,toggleMark:hW,toggleNode:pW,toggleWrap:mW,undoInputRule:gW,unsetAllMarks:bW,unsetMark:yW,updateAttributes:vW,wrapIn:wW,wrapInList:kW});const FI=an.create({name:"commands",addCommands(){return{...CW}}}),GI=an.create({name:"drop",addProseMirrorPlugins(){return[new Ct({key:new Ht("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),qI=an.create({name:"editable",addProseMirrorPlugins(){return[new Ct({key:new Ht("editable"),props:{editable:()=>this.editor.options.editable}})]}}),WI=new Ht("focusEvents"),KI=an.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ct({key:WI,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ZI=an.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:p,$anchor:g}=d,{pos:y,parent:v}=g,w=g.parent.isTextblock&&y>0?u.doc.resolve(y-1):g,C=w.parent.type.spec.isolating,S=g.pos-g.parentOffset,E=C&&w.parent.childCount===1?S===g.pos:rt.atStart(h).from===y;return!p||!v.type.isTextblock||v.textContent.length||!E||E&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},l={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return d_()||jI()?l:i},addProseMirrorPlugins(){return[new Ct({key:new Ht("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(C=>C.getMeta("composition")))return;const r=t.some(C=>C.docChanged)&&!e.doc.eq(n.doc),i=t.some(C=>C.getMeta("preventClearDocument"));if(!r||i)return;const{empty:l,from:a,to:u}=e.selection,d=rt.atStart(e.doc).from,h=rt.atEnd(e.doc).to;if(l||!(a===d&&u===h)||!nR(n.doc))return;const y=n.tr,v=s_({state:n,transaction:y}),{commands:w}=new l_({editor:this.editor,state:v});if(w.clearNodes(),!!y.steps.length)return y}})]}}),XI=an.create({name:"paste",addProseMirrorPlugins(){return[new Ct({key:new Ht("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),YI=an.create({name:"tabindex",addProseMirrorPlugins(){return[new Ct({key:new Ht("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var W0=Object.freeze({__proto__:null,ClipboardTextSerializer:OI,Commands:FI,Drop:GI,Editable:qI,FocusEvents:KI,Keymap:ZI,Paste:XI,Tabindex:YI,focusEventsPluginKey:WI});class Hh{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Hh(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Hh(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Hh(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,l=n.isAtom&&!n.isText,a=this.pos+r+(l?0:1),u=this.resolvedPos.doc.resolve(a);if(!i&&u.depth<=this.depth)return;const d=new Hh(u,this.editor,i,i?n:null);i&&(d.actualDepth=this.depth+1),e.push(new Hh(u,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const l=i.node.attrs,a=Object.keys(n);for(let u=0;u<a.length;u+=1){const d=a[u];if(l[d]!==n[d])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const l=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&l.every(d=>n[d]===a.node.attrs[d])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const _W=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function SW(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class xW extends WG{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=SW(_W,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=MI(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(l=>{const a=typeof l=="string"?`${l}$`:l.key;r=n.filter(u=>!u.key.startsWith(a))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[qI,OI.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),FI,KI,ZI,YI,GI,XI].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l==null?void 0:l.type));this.extensionManager=new Kh(i,this)}createCommandManager(){this.commandManager=new l_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=Tk(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),n=Tk(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=LI(n,this.options.autofocus);this.view=new pI(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Gh.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(a)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),l=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return VI(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return nW(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return JA(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return Qq(this.state.doc,{blockSeparator:n,textSerializers:{...NI(this.schema),...r}})}get isEmpty(){return nR(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Hh(n,this)}get $doc(){return this.$pos(0)}}function Sm(t){return new nd({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Bt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:l}=e,a=r[r.length-1],u=r[0];if(a){const d=u.search(/\S/),h=n.from+u.indexOf(a),p=h+a.length;if(tR(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(C=>C===t.type&&C!==v.mark.type)).filter(v=>v.to>h).length)return null;p<n.to&&l.delete(p,n.to),h>n.from&&l.delete(n.from+d,h);const y=n.from+d+a.length;l.addMark(n.from+d,y,t.type.create(i||{})),l.removeStoredMark(t.type)}}})}let Ca=class ZT{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Bt(je(this,"addOptions",{name:this.name}))),this.storage=Bt(je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ZT(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>c_(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ZT(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Bt(je(n,"addOptions",{name:n.name})),n.storage=Bt(je(n,"addStorage",{name:n.name,options:n.options})),n}};class EW{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,l,a,u,d;const{view:h}=this.editor,p=e.target,g=p.nodeType===3?(n=p.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):p.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(p)||!g)return;let y=0,v=0;if(this.dom!==g){const A=this.dom.getBoundingClientRect(),N=g.getBoundingClientRect(),I=(i=e.offsetX)!==null&&i!==void 0?i:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetX,B=(a=e.offsetY)!==null&&a!==void 0?a:(u=e.nativeEvent)===null||u===void 0?void 0:u.offsetY;y=N.x-A.x+I,v=N.y-A.y+B}const w=this.dom.cloneNode(!0);(d=e.dataTransfer)===null||d===void 0||d.setDragImage(w,y,v);const C=this.getPos();if(typeof C!="number")return;const S=Ue.create(h.state.doc,C),E=h.state.tr.setSelection(S);h.dispatch(E)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const l=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!a&&!l)return!0;const{isEditable:d}=this.editor,{isDragging:h}=this,p=!!this.node.type.spec.draggable,g=Ue.isSelectable(this.node),y=e.type==="copy",v=e.type==="paste",w=e.type==="cut",C=e.type==="mousedown";if(!p&&g&&l&&e.target===this.dom&&e.preventDefault(),p&&l&&!h&&e.target===this.dom)return e.preventDefault(),!1;if(p&&d&&!h&&C){const S=r.closest("[data-drag-handle]");S&&(this.dom===S||this.dom.contains(S))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(h||a||y||v||w||C&&g)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(d_()||PI())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return typeof r!="number"?!1:(n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function pp(t){return new tq({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const l=Bt(t.getAttributes,void 0,r,i);if(l===!1||l===null)return null;const{tr:a}=e,u=r[r.length-1],d=r[0];let h=n.to;if(u){const p=d.search(/\S/),g=n.from+d.indexOf(u),y=g+u.length;if(tR(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(S=>S===t.type&&S!==w.mark.type)).filter(w=>w.to>g).length)return null;y<n.to&&a.delete(y,n.to),g>n.from&&a.delete(n.from+p,g),h=n.from+p+u.length,a.addMark(n.from+p,h,t.type.create(l||{})),a.removeStoredMark(t.type)}}})}var cw,TW=new Uint8Array(16);function MW(){if(!cw&&(cw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!cw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cw(TW)}const AW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function RW(t){return typeof t=="string"&&AW.test(t)}var io=[];for(var e2=0;e2<256;++e2)io.push((e2+256).toString(16).substr(1));function NW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(io[t[e+0]]+io[t[e+1]]+io[t[e+2]]+io[t[e+3]]+"-"+io[t[e+4]]+io[t[e+5]]+"-"+io[t[e+6]]+io[t[e+7]]+"-"+io[t[e+8]]+io[t[e+9]]+"-"+io[t[e+10]]+io[t[e+11]]+io[t[e+12]]+io[t[e+13]]+io[t[e+14]]+io[t[e+15]]).toLowerCase();if(!RW(n))throw TypeError("Stringified UUID is invalid");return n}function QI(t,e,n){t=t||{};var r=t.random||(t.rng||MW)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,NW(r)}var OW=class JI{constructor(e){this.cache=new Map(e)}get(e){return this.cache.get(e)}set(e,n,r){e<0||this.cache.set(e,[n,r])}replace(e,n,r,i){this.remove(e),this.set(n,r,i)}remove(e){this.cache.delete(e)}invalidate(e){const n=new JI(this.cache),r=e.mapping;return this.cache.forEach(([i,l],a)=>{if(a<0)return;const u=r.mapResult(a),d=e.doc.nodeAt(u.pos);if(u.deleted||!(d!=null&&d.eq(i)))n.remove(a);else if(a!==u.pos){const h=l.map(p=>p.map(r,0,0)).filter(p=>p!=null);n.replace(a,u.pos,d,h)}}),n}};function DW({parser:t,nodeTypes:e=["code_block","codeBlock"],languageExtractor:n=r=>r.attrs.language}){const r=new Ht("prosemirror-highlight");return new Ct({key:r,state:{init(i,l){const a=new OW,[u,d]=lO(l.doc,t,e,n,a);return{cache:a,decorations:u,promises:d}},apply:(i,l)=>{const a=l.cache.invalidate(i),u=!!i.getMeta("prosemirror-highlight-refresh");if(!i.docChanged&&!u){const p=l.decorations.map(i.mapping,i.doc),g=l.promises;return{cache:a,decorations:p,promises:g}}const[d,h]=lO(i.doc,t,e,n,a);return{cache:a,decorations:d,promises:h}}},view:i=>{const l=new Set,a=()=>{if(l.size>0)return;const d=i.state.tr.setMeta("prosemirror-highlight-refresh",!0);i.dispatch(d)},u=()=>{var d;const h=r.getState(i.state);for(const p of(d=h==null?void 0:h.promises)!=null?d:[])l.add(p),p.then(()=>{l.delete(p),a()}).catch(()=>{l.delete(p)})};return u(),{update:()=>{u()}}},props:{decorations(i){var l;return(l=this.getState(i))==null?void 0:l.decorations}}})}function lO(t,e,n,r,i){const l=[],a=[];return t.descendants((u,d)=>{if(!u.type.isTextblock)return!0;if(n.includes(u.type.name)){const h=r(u),p=i.get(d);if(p){const[g,y]=p;l.push(...y)}else{const g=e({content:u.textContent,language:h||void 0,pos:d,size:u.nodeSize});g&&Array.isArray(g)?(i.set(d,u,g),l.push(...g)):g instanceof Promise&&(i.remove(d),a.push(g))}}return!1}),[Ot.create(t,l),a]}function LW(t,e){return function({content:r,language:i,pos:l,size:a}){var u;const d=[],{tokens:h,fg:p,bg:g,rootStyle:y}=t.codeToTokens(r,{lang:i,theme:t.getLoadedThemes()[0]}),v=y||(p&&g?`--prosemirror-highlight:${p};--prosemirror-highlight-bg:${g}`:"");if(v){const C=Qt.node(l,l+a,{style:v});d.push(C)}let w=l+1;for(const C of h){for(const S of C){const E=w+S.content.length,A=Qt.inline(w,E,{style:PW((u=S.htmlStyle)!=null?u:`color: ${S.color}`),class:"shiki"});d.push(A),w=E}w+=1}return d}}function PW(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}var XT,YT;if(typeof WeakMap<"u"){let t=new WeakMap;XT=e=>t.get(e),YT=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;XT=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},YT=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Bn=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let l=r+1,a=i+1;for(let u=1;l<this.width&&this.map[e+u]==n;u++)l++;for(let u=1;a<this.height&&this.map[e+this.width*u]==n;u++)a++;return{left:r,top:i,right:l,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:l,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[l*this.width+(n<0?r-1:i)]:(n<0?l==0:a==this.height)?null:this.map[r+this.width*(n<0?l-1:a)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:l}=this.findCell(t),{left:a,right:u,top:d,bottom:h}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(i,d),right:Math.max(r,u),bottom:Math.max(l,h)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const l=r*this.width+i,a=this.map[l];n[a]||(n[a]=!0,!(i==t.left&&i&&this.map[l-1]==a||r==t.top&&r&&this.map[l-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const l=i+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const u=(t+1)*this.width;for(;a<u&&this.map[a]<i;)a++;return a==u?l-1:this.map[a]}i=l}}static get(t){return XT(t)||YT(t,IW(t))}};function IW(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=BW(t),n=t.childCount,r=[];let i=0,l=null;const a=[];for(let h=0,p=e*n;h<p;h++)r[h]=0;for(let h=0,p=0;h<n;h++){const g=t.child(h);p++;for(let w=0;;w++){for(;i<r.length&&r[i]!=0;)i++;if(w==g.childCount)break;const C=g.child(w),{colspan:S,rowspan:E,colwidth:A}=C.attrs;for(let N=0;N<E;N++){if(N+h>=n){(l||(l=[])).push({type:"overlong_rowspan",pos:p,n:E-N});break}const I=i+N*e;for(let B=0;B<S;B++){r[I+B]==0?r[I+B]=p:(l||(l=[])).push({type:"collision",row:h,pos:p,n:S-B});const F=A&&A[B];if(F){const q=(I+B)%e*2,Z=a[q];Z==null||Z!=F&&a[q+1]==1?(a[q]=F,a[q+1]=1):Z==F&&a[q+1]++}}}i+=S,p+=C.nodeSize}const y=(h+1)*e;let v=0;for(;i<y;)r[i++]==0&&v++;v&&(l||(l=[])).push({type:"missing",row:h,n:v}),p++}(e===0||n===0)&&(l||(l=[])).push({type:"zero_sized"});const u=new Bn(e,n,r,l);let d=!1;for(let h=0;!d&&h<a.length;h+=2)a[h]!=null&&a[h+1]<n&&(d=!0);return d&&jW(u,a,t),u}function BW(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let l=0;if(n)for(let a=0;a<r;a++){const u=t.child(a);for(let d=0;d<u.childCount;d++){const h=u.child(d);a+h.attrs.rowspan>r&&(l+=h.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const u=i.child(a);l+=u.attrs.colspan,u.attrs.rowspan>1&&(n=!0)}e==-1?e=l:e!=l&&(e=Math.max(e,l))}return e}function jW(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const l=t.map[i];if(r[l])continue;r[l]=!0;const a=n.nodeAt(l);if(!a)throw new RangeError(`No cell with offset ${l} found`);let u=null;const d=a.attrs;for(let h=0;h<d.colspan;h++){const p=(i+h)%t.width,g=e[p*2];g!=null&&(!d.colwidth||d.colwidth[h]!=g)&&((u||(u=zW(d)))[h]=g)}u&&t.problems.unshift({type:"colwidth mismatch",pos:l,colwidth:u})}}function zW(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function So(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var zu=new Ht("selectingCells");function Im(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function $W(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function _a(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function rR(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Im(e.$head)||HW(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function HW(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function QT(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function VW(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function oR(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function eB(t,e,n){const r=t.node(-1),i=Bn.get(r),l=t.start(-1),a=i.nextCell(t.pos-l,e,n);return a==null?null:t.node(0).resolve(l+a)}function mp(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function tB(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function UW(t,e,n){const r=So(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var un=class qc extends rt{constructor(e,n=e){const r=e.node(-1),i=Bn.get(r),l=e.start(-1),a=i.rectBetween(e.pos-l,n.pos-l),u=e.node(0),d=i.cellsInRect(a).filter(p=>p!=n.pos-l);d.unshift(n.pos-l);const h=d.map(p=>{const g=r.nodeAt(p);if(!g)throw RangeError(`No cell with offset ${p} found`);const y=l+p+1;return new O8(u.resolve(y),u.resolve(y+g.content.size))});super(h[0].$from,h[0].$to,h),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(QT(r)&&QT(i)&&oR(r,i)){const l=this.$anchorCell.node(-1)!=r.node(-1);return l&&this.isRowSelection()?qc.rowSelection(r,i):l&&this.isColSelection()?qc.colSelection(r,i):new qc(r,i)}return Ve.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Bn.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),l={},a=[];for(let d=i.top;d<i.bottom;d++){const h=[];for(let p=d*n.width+i.left,g=i.left;g<i.right;g++,p++){const y=n.map[p];if(l[y])continue;l[y]=!0;const v=n.findCell(y);let w=e.nodeAt(y);if(!w)throw RangeError(`No cell with offset ${y} found`);const C=i.left-v.left,S=v.right-i.right;if(C>0||S>0){let E=w.attrs;if(C>0&&(E=mp(E,0,C)),S>0&&(E=mp(E,E.colspan-S,S)),v.left<i.left){if(w=w.type.createAndFill(E),!w)throw RangeError(`Could not create cell with attrs ${JSON.stringify(E)}`)}else w=w.type.create(E,w.content)}if(v.top<i.top||v.bottom>i.bottom){const E={...w.attrs,rowspan:Math.min(v.bottom,i.bottom)-Math.max(v.top,i.top)};v.top<i.top?w=w.type.createAndFill(E):w=w.type.create(E,w.content)}h.push(w)}a.push(e.child(d).copy(se.from(h)))}const u=this.isColSelection()&&this.isRowSelection()?e:a;return new Se(se.from(u),1,1)}replace(e,n=Se.empty){const r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:u,$to:d}=i[a],h=e.mapping.slice(r);e.replace(h.map(u.pos),h.map(d.pos),a?Se.empty:n)}const l=rt.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);l&&e.setSelection(l)}replaceWith(e,n){this.replace(e,new Se(se.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Bn.get(n),i=this.$anchorCell.start(-1),l=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<l.length;a++)e(n.nodeAt(l[a]),i+l[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Bn.get(r),l=e.start(-1),a=i.findCell(e.pos-l),u=i.findCell(n.pos-l),d=e.node(0);return a.top<=u.top?(a.top>0&&(e=d.resolve(l+i.map[a.left])),u.bottom<i.height&&(n=d.resolve(l+i.map[i.width*(i.height-1)+u.right-1]))):(u.top>0&&(n=d.resolve(l+i.map[u.left])),a.bottom<i.height&&(e=d.resolve(l+i.map[i.width*(i.height-1)+a.right-1]))),new qc(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Bn.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),l=n.colCount(this.$headCell.pos-r);if(Math.min(i,l)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,u=l+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,u)==n.width}eq(e){return e instanceof qc&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Bn.get(r),l=e.start(-1),a=i.findCell(e.pos-l),u=i.findCell(n.pos-l),d=e.node(0);return a.left<=u.left?(a.left>0&&(e=d.resolve(l+i.map[a.top*i.width])),u.right<i.width&&(n=d.resolve(l+i.map[i.width*(u.top+1)-1]))):(u.left>0&&(n=d.resolve(l+i.map[u.top*i.width])),a.right<i.width&&(e=d.resolve(l+i.map[i.width*(a.top+1)-1]))),new qc(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new qc(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new qc(e.resolve(n),e.resolve(r))}getBookmark(){return new FW(this.$anchorCell.pos,this.$headCell.pos)}};un.prototype.visible=!1;rt.jsonID("cell",un);var FW=class nB{constructor(e,n){this.anchor=e,this.head=n}map(e){return new nB(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&oR(n,r)?new un(n,r):rt.near(r,1)}};function GW(t){if(!(t.selection instanceof un))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Qt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Ot.create(t.doc,e)}function qW({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let l=e.depth;l>=0&&!(e.before(l+1)>e.start(l));l--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function WW({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const l=t.node(i);if(l.type.spec.tableRole==="cell"||l.type.spec.tableRole==="header_cell"){n=l;break}}for(let i=e.depth;i>0;i--){const l=e.node(i);if(l.type.spec.tableRole==="cell"||l.type.spec.tableRole==="header_cell"){r=l;break}}return n!==r&&e.parentOffset===0}function KW(t,e,n){const r=(e||t).selection,i=(e||t).doc;let l,a;if(r instanceof Ue&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")l=un.create(i,r.from);else if(a=="row"){const u=i.resolve(r.from+1);l=un.rowSelection(u,u)}else if(!n){const u=Bn.get(r.node),d=r.from+1,h=d+u.map[u.width*u.height-1];l=un.create(i,d+1,h)}}else r instanceof Ve&&qW(r)?l=Ve.create(i,r.from):r instanceof Ve&&WW(r)&&(l=Ve.create(i,r.$from.start(),r.$from.end()));return l&&(e||(e=t.tr)).setSelection(l),e}var ZW=new Ht("fix-tables");function rB(t,e,n,r){const i=t.childCount,l=e.childCount;e:for(let a=0,u=0;a<l;a++){const d=e.child(a);for(let h=u,p=Math.min(i,a+3);h<p;h++)if(t.child(h)==d){u=h+1,n+=d.nodeSize;continue e}r(d,n),u<i&&t.child(u).sameMarkup(d)?rB(t.child(u),d,n+1,r):d.nodesBetween(0,d.content.size,r,n+1),n+=d.nodeSize}}function XW(t,e){let n;const r=(i,l)=>{i.type.spec.tableRole=="table"&&(n=YW(t,i,l,n))};return e?e.doc!=t.doc&&rB(e.doc,t.doc,0,r):t.doc.descendants(r),n}function YW(t,e,n,r){const i=Bn.get(e);if(!i.problems)return r;r||(r=t.tr);const l=[];for(let d=0;d<i.height;d++)l.push(0);for(let d=0;d<i.problems.length;d++){const h=i.problems[d];if(h.type=="collision"){const p=e.nodeAt(h.pos);if(!p)continue;const g=p.attrs;for(let y=0;y<g.rowspan;y++)l[h.row+y]+=h.n;r.setNodeMarkup(r.mapping.map(n+1+h.pos),null,mp(g,g.colspan-h.n,h.n))}else if(h.type=="missing")l[h.row]+=h.n;else if(h.type=="overlong_rowspan"){const p=e.nodeAt(h.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+h.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-h.n})}else if(h.type=="colwidth mismatch"){const p=e.nodeAt(h.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+h.pos),null,{...p.attrs,colwidth:h.colwidth})}else if(h.type=="zero_sized"){const p=r.mapping.map(n);r.delete(p,p+e.nodeSize)}}let a,u;for(let d=0;d<l.length;d++)l[d]&&(a==null&&(a=d),u=d);for(let d=0,h=n+1;d<i.height;d++){const p=e.child(d),g=h+p.nodeSize,y=l[d];if(y>0){let v="cell";p.firstChild&&(v=p.firstChild.type.spec.tableRole);const w=[];for(let S=0;S<y;S++){const E=So(t.schema)[v].createAndFill();E&&w.push(E)}const C=(d==0||a==d-1)&&u==d?h+1:g-1;r.insert(r.mapping.map(C),w)}h=g}return r.setMeta(ZW,{fixTables:!0})}function Sa(t){const e=t.selection,n=rR(t),r=n.node(-1),i=n.start(-1),l=Bn.get(r);return{...e instanceof un?l.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):l.findCell(n.pos-i),tableStart:i,map:l,table:r}}function oB(t,{map:e,tableStart:n,table:r},i){let l=i>0?-1:0;UW(e,r,i+l)&&(l=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){const u=a*e.width+i;if(i>0&&i<e.width&&e.map[u-1]==e.map[u]){const d=e.map[u],h=r.nodeAt(d);t.setNodeMarkup(t.mapping.map(n+d),null,tB(h.attrs,i-e.colCount(d))),a+=h.attrs.rowspan-1}else{const d=l==null?So(r.type.schema).cell:r.nodeAt(e.map[u+l]).type,h=e.positionAt(a,i,r);t.insert(t.mapping.map(n+h),d.createAndFill())}}return t}function QW(t,e){if(!_a(t))return!1;if(e){const n=Sa(t);e(oB(t.tr,n,n.left))}return!0}function JW(t,e){if(!_a(t))return!1;if(e){const n=Sa(t);e(oB(t.tr,n,n.right))}return!0}function eK(t,{map:e,table:n,tableStart:r},i){const l=t.mapping.maps.length;for(let a=0;a<e.height;){const u=a*e.width+i,d=e.map[u],h=n.nodeAt(d),p=h.attrs;if(i>0&&e.map[u-1]==d||i<e.width-1&&e.map[u+1]==d)t.setNodeMarkup(t.mapping.slice(l).map(r+d),null,mp(p,i-e.colCount(d)));else{const g=t.mapping.slice(l).map(r+d);t.delete(g,g+h.nodeSize)}a+=p.rowspan}}function tK(t,e){if(!_a(t))return!1;if(e){const n=Sa(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;eK(r,n,i),i!=n.left;i--){const l=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!l)throw RangeError("No table found");n.table=l,n.map=Bn.get(l)}e(r)}return!0}function nK(t,e,n){var r;const i=So(e.type.schema).header_cell;for(let l=0;l<t.width;l++)if(((r=e.nodeAt(t.map[l+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function iB(t,{map:e,tableStart:n,table:r},i){var l;let a=n;for(let h=0;h<i;h++)a+=r.child(h).nodeSize;const u=[];let d=i>0?-1:0;nK(e,r,i+d)&&(d=i==0||i==e.height?null:0);for(let h=0,p=e.width*i;h<e.width;h++,p++)if(i>0&&i<e.height&&e.map[p]==e.map[p-e.width]){const g=e.map[p],y=r.nodeAt(g).attrs;t.setNodeMarkup(n+g,null,{...y,rowspan:y.rowspan+1}),h+=y.colspan-1}else{const g=d==null?So(r.type.schema).cell:(l=r.nodeAt(e.map[p+d*e.width]))==null?void 0:l.type,y=g==null?void 0:g.createAndFill();y&&u.push(y)}return t.insert(a,So(r.type.schema).row.create(null,u)),t}function rK(t,e){if(!_a(t))return!1;if(e){const n=Sa(t);e(iB(t.tr,n,n.top))}return!0}function oK(t,e){if(!_a(t))return!1;if(e){const n=Sa(t);e(iB(t.tr,n,n.bottom))}return!0}function iK(t,{map:e,table:n,tableStart:r},i){let l=0;for(let h=0;h<i;h++)l+=n.child(h).nodeSize;const a=l+n.child(i).nodeSize,u=t.mapping.maps.length;t.delete(l+r,a+r);const d=new Set;for(let h=0,p=i*e.width;h<e.width;h++,p++){const g=e.map[p];if(!d.has(g)){if(d.add(g),i>0&&g==e.map[p-e.width]){const y=n.nodeAt(g).attrs;t.setNodeMarkup(t.mapping.slice(u).map(g+r),null,{...y,rowspan:y.rowspan-1}),h+=y.colspan-1}else if(i<e.height&&g==e.map[p+e.width]){const y=n.nodeAt(g),v=y.attrs,w=y.type.create({...v,rowspan:y.attrs.rowspan-1},y.content),C=e.positionAt(i+1,h,n);t.insert(t.mapping.slice(u).map(r+C),w),h+=v.colspan-1}}}}function sK(t,e){if(!_a(t))return!1;if(e){const n=Sa(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;iK(r,n,i),i!=n.top;i--){const l=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!l)throw RangeError("No table found");n.table=l,n.map=Bn.get(n.table)}e(r)}return!0}function aO(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function lK({width:t,height:e,map:n},r){let i=r.top*t+r.left,l=i,a=(r.bottom-1)*t+r.left,u=i+(r.right-r.left-1);for(let d=r.top;d<r.bottom;d++){if(r.left>0&&n[l]==n[l-1]||r.right<t&&n[u]==n[u+1])return!0;l+=t,u+=t}for(let d=r.left;d<r.right;d++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[a]==n[a+t])return!0;i++,a++}return!1}function aK(t,e){const n=t.selection;if(!(n instanceof un)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Sa(t),{map:i}=r;if(lK(i,r))return!1;if(e){const l=t.tr,a={};let u=se.empty,d,h;for(let p=r.top;p<r.bottom;p++)for(let g=r.left;g<r.right;g++){const y=i.map[p*i.width+g],v=r.table.nodeAt(y);if(!(a[y]||!v))if(a[y]=!0,d==null)d=y,h=v;else{aO(v)||(u=u.append(v.content));const w=l.mapping.map(y+r.tableStart);l.delete(w,w+v.nodeSize)}}if(d==null||h==null)return!0;if(l.setNodeMarkup(d+r.tableStart,null,{...tB(h.attrs,h.attrs.colspan,r.right-r.left-h.attrs.colspan),rowspan:r.bottom-r.top}),u.size){const p=d+1+h.content.size,g=aO(h)?d+1:p;l.replaceWith(g+r.tableStart,p+r.tableStart,u)}l.setSelection(new un(l.doc.resolve(d+r.tableStart))),e(l)}return!0}function cK(t,e){const n=So(t.schema);return uK(({node:r})=>n[r.type.spec.tableRole])(t,e)}function uK(t){return(e,n)=>{var r;const i=e.selection;let l,a;if(i instanceof un){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;l=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(l=$W(i.$from),!l)return!1;a=(r=Im(i.$from))==null?void 0:r.pos}if(l==null||a==null||l.attrs.colspan==1&&l.attrs.rowspan==1)return!1;if(n){let u=l.attrs;const d=[],h=u.colwidth;u.rowspan>1&&(u={...u,rowspan:1}),u.colspan>1&&(u={...u,colspan:1});const p=Sa(e),g=e.tr;for(let v=0;v<p.right-p.left;v++)d.push(h?{...u,colwidth:h&&h[v]?[h[v]]:null}:u);let y;for(let v=p.top;v<p.bottom;v++){let w=p.map.positionAt(v,p.left,p.table);v==p.top&&(w+=l.nodeSize);for(let C=p.left,S=0;C<p.right;C++,S++)C==p.left&&v==p.top||g.insert(y=g.mapping.map(w+p.tableStart,1),t({node:l,row:v,col:C}).createAndFill(d[S]))}g.setNodeMarkup(a,t({node:l,row:p.top,col:p.left}),d[0]),i instanceof un&&g.setSelection(new un(g.doc.resolve(i.$anchorCell.pos),y?g.doc.resolve(y):void 0)),n(g)}return!0}}function dK(t){return function(e,n){if(!_a(e))return!1;if(n){const r=So(e.schema),i=Sa(e),l=e.tr,a=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),u=a.map(d=>i.table.nodeAt(d));for(let d=0;d<a.length;d++)u[d].type==r.header_cell&&l.setNodeMarkup(i.tableStart+a[d],r.cell,u[d].attrs);if(l.steps.length==0)for(let d=0;d<a.length;d++)l.setNodeMarkup(i.tableStart+a[d],r.header_cell,u[d].attrs);n(l)}return!0}}function cO(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const l=e.table.nodeAt(r[i]);if(l&&l.type!==n.header_cell)return!1}return!0}function iR(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?dK(t):function(n,r){if(!_a(n))return!1;if(r){const i=So(n.schema),l=Sa(n),a=n.tr,u=cO("row",l,i),d=cO("column",l,i),p=(t==="column"?u:t==="row"?d:!1)?1:0,g=t=="column"?{left:0,top:p,right:1,bottom:l.map.height}:t=="row"?{left:p,top:0,right:l.map.width,bottom:1}:l,y=t=="column"?d?i.cell:i.header_cell:t=="row"?u?i.cell:i.header_cell:i.cell;l.map.cellsInRect(g).forEach(v=>{const w=v+l.tableStart,C=a.doc.nodeAt(w);C&&a.setNodeMarkup(w,y,C.attrs)}),r(a)}return!0}}iR("row",{useDeprecatedLogic:!0});iR("column",{useDeprecatedLogic:!0});iR("cell",{useDeprecatedLogic:!0});function fK(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const l=t.node(-1).child(r),a=l.lastChild;if(a)return i-1-a.nodeSize;i-=l.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const l=n.child(r);if(l.childCount)return i+1;i+=l.nodeSize}}return null}function uO(t){return function(e,n){if(!_a(e))return!1;const r=fK(rR(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(Ve.between(i,VW(i))).scrollIntoView())}return!0}}function uw(t,e){const n=t.selection;if(!(n instanceof un))return!1;if(e){const r=t.tr,i=So(t.schema).cell.createAndFill().content;n.forEachCell((l,a)=>{l.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+l.nodeSize-1),new Se(i,0,0))}),r.docChanged&&e(r)}return!0}function hK(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),l=i.type.spec.tableRole,a=i.type.schema,u=[];if(l=="row")for(let d=0;d<e.childCount;d++){let h=e.child(d).content;const p=d?0:Math.max(0,n-1),g=d<e.childCount-1?0:Math.max(0,r-1);(p||g)&&(h=JT(So(a).row,new Se(h,p,g)).content),u.push(h)}else if(l=="cell"||l=="header_cell")u.push(n||r?JT(So(a).row,new Se(e,n,r)).content:e);else return null;return pK(a,u)}function pK(t,e){const n=[];for(let i=0;i<e.length;i++){const l=e[i];for(let a=l.childCount-1;a>=0;a--){const{rowspan:u,colspan:d}=l.child(a).attrs;for(let h=i;h<i+u;h++)n[h]=(n[h]||0)+d}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(se.empty),n[i]<r){const l=So(t).cell.createAndFill(),a=[];for(let u=n[i];u<r;u++)a.push(l);e[i]=e[i].append(se.from(a))}return{height:e.length,width:r,rows:e}}function JT(t,e){const n=t.createAndFill();return new IA(n).replace(0,n.content.size,e).doc}function mK({width:t,height:e,rows:n},r,i){if(t!=r){const l=[],a=[];for(let u=0;u<n.length;u++){const d=n[u],h=[];for(let p=l[u]||0,g=0;p<r;g++){let y=d.child(g%d.childCount);p+y.attrs.colspan>r&&(y=y.type.createChecked(mp(y.attrs,y.attrs.colspan,p+y.attrs.colspan-r),y.content)),h.push(y),p+=y.attrs.colspan;for(let v=1;v<y.attrs.rowspan;v++)l[u+v]=(l[u+v]||0)+y.attrs.colspan}a.push(se.from(h))}n=a,t=r}if(e!=i){const l=[];for(let a=0,u=0;a<i;a++,u++){const d=[],h=n[u%e];for(let p=0;p<h.childCount;p++){let g=h.child(p);a+g.attrs.rowspan>i&&(g=g.type.create({...g.attrs,rowspan:Math.max(1,i-g.attrs.rowspan)},g.content)),d.push(g)}l.push(se.from(d))}n=l,e=i}return{width:t,height:e,rows:n}}function gK(t,e,n,r,i,l,a){const u=t.doc.type.schema,d=So(u);let h,p;if(i>e.width)for(let g=0,y=0;g<e.height;g++){const v=n.child(g);y+=v.nodeSize;const w=[];let C;v.lastChild==null||v.lastChild.type==d.cell?C=h||(h=d.cell.createAndFill()):C=p||(p=d.header_cell.createAndFill());for(let S=e.width;S<i;S++)w.push(C);t.insert(t.mapping.slice(a).map(y-1+r),w)}if(l>e.height){const g=[];for(let w=0,C=(e.height-1)*e.width;w<Math.max(e.width,i);w++){const S=w>=e.width?!1:n.nodeAt(e.map[C+w]).type==d.header_cell;g.push(S?p||(p=d.header_cell.createAndFill()):h||(h=d.cell.createAndFill()))}const y=d.row.create(null,se.from(g)),v=[];for(let w=e.height;w<l;w++)v.push(y);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),v)}return!!(h||p)}function dO(t,e,n,r,i,l,a,u){if(a==0||a==e.height)return!1;let d=!1;for(let h=i;h<l;h++){const p=a*e.width+h,g=e.map[p];if(e.map[p-e.width]==g){d=!0;const y=n.nodeAt(g),{top:v,left:w}=e.findCell(g);t.setNodeMarkup(t.mapping.slice(u).map(g+r),null,{...y.attrs,rowspan:a-v}),t.insert(t.mapping.slice(u).map(e.positionAt(a,w,n)),y.type.createAndFill({...y.attrs,rowspan:v+y.attrs.rowspan-a})),h+=y.attrs.colspan-1}}return d}function fO(t,e,n,r,i,l,a,u){if(a==0||a==e.width)return!1;let d=!1;for(let h=i;h<l;h++){const p=h*e.width+a,g=e.map[p];if(e.map[p-1]==g){d=!0;const y=n.nodeAt(g),v=e.colCount(g),w=t.mapping.slice(u).map(g+r);t.setNodeMarkup(w,null,mp(y.attrs,a-v,y.attrs.colspan-(a-v))),t.insert(w+y.nodeSize,y.type.createAndFill(mp(y.attrs,0,a-v))),h+=y.attrs.rowspan-1}}return d}function hO(t,e,n,r,i){let l=n?t.doc.nodeAt(n-1):t.doc;if(!l)throw new Error("No table found");let a=Bn.get(l);const{top:u,left:d}=r,h=d+i.width,p=u+i.height,g=t.tr;let y=0;function v(){if(l=n?g.doc.nodeAt(n-1):g.doc,!l)throw new Error("No table found");a=Bn.get(l),y=g.mapping.maps.length}gK(g,a,l,n,h,p,y)&&v(),dO(g,a,l,n,d,h,u,y)&&v(),dO(g,a,l,n,d,h,p,y)&&v(),fO(g,a,l,n,u,p,d,y)&&v(),fO(g,a,l,n,u,p,h,y)&&v();for(let w=u;w<p;w++){const C=a.positionAt(w,d,l),S=a.positionAt(w,h,l);g.replace(g.mapping.slice(y).map(C+n),g.mapping.slice(y).map(S+n),new Se(i.rows[w-u],0,0))}v(),g.setSelection(new un(g.doc.resolve(n+a.positionAt(u,d,l)),g.doc.resolve(n+a.positionAt(p-1,h-1,l)))),e(g)}var bK=WA({ArrowLeft:dw("horiz",-1),ArrowRight:dw("horiz",1),ArrowUp:dw("vert",-1),ArrowDown:dw("vert",1),"Shift-ArrowLeft":fw("horiz",-1),"Shift-ArrowRight":fw("horiz",1),"Shift-ArrowUp":fw("vert",-1),"Shift-ArrowDown":fw("vert",1),Backspace:uw,"Mod-Backspace":uw,Delete:uw,"Mod-Delete":uw});function Vw(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function dw(t,e){return(n,r,i)=>{if(!i)return!1;const l=n.selection;if(l instanceof un)return Vw(n,r,rt.near(l.$headCell,e));if(t!="horiz"&&!l.empty)return!1;const a=sB(i,t,e);if(a==null)return!1;if(t=="horiz")return Vw(n,r,rt.near(n.doc.resolve(l.head+e),e));{const u=n.doc.resolve(a),d=eB(u,t,e);let h;return d?h=rt.near(d,1):e<0?h=rt.near(n.doc.resolve(u.before(-1)),-1):h=rt.near(n.doc.resolve(u.after(-1)),1),Vw(n,r,h)}}}function fw(t,e){return(n,r,i)=>{if(!i)return!1;const l=n.selection;let a;if(l instanceof un)a=l;else{const d=sB(i,t,e);if(d==null)return!1;a=new un(n.doc.resolve(d))}const u=eB(a.$headCell,t,e);return u?Vw(n,r,new un(a.$anchorCell,u)):!1}}function yK(t,e){const n=t.state.doc,r=Im(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new un(r))),!0):!1}function vK(t,e,n){if(!_a(t.state))return!1;let r=hK(n);const i=t.state.selection;if(i instanceof un){r||(r={width:1,height:1,rows:[se.from(JT(So(t.state.schema).cell,n))]});const l=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),u=Bn.get(l).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=mK(r,u.right-u.left,u.bottom-u.top),hO(t.state,t.dispatch,a,u,r),!0}else if(r){const l=rR(t.state),a=l.start(-1);return hO(t.state,t.dispatch,a,Bn.get(l.node(-1)).findCell(l.pos-a),r),!0}else return!1}function wK(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=pO(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof un)l(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=Im(t.state.selection.$anchor))!=null&&((n=t2(t,e))==null?void 0:n.pos)!=i.pos)l(i,e),e.preventDefault();else if(!r)return;function l(d,h){let p=t2(t,h);const g=zu.getState(t.state)==null;if(!p||!oR(d,p))if(g)p=d;else return;const y=new un(d,p);if(g||!t.state.selection.eq(y)){const v=t.state.tr.setSelection(y);g&&v.setMeta(zu,d.pos),t.dispatch(v)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",u),zu.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(zu,-1))}function u(d){const h=d,p=zu.getState(t.state);let g;if(p!=null)g=t.state.doc.resolve(p);else if(pO(t,h.target)!=r&&(g=t2(t,e),!g))return a();g&&l(g,h)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",u)}function sB(t,e,n){if(!(t.state.selection instanceof Ve))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const l=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:l.childCount))return null;if(l.type.spec.tableRole=="cell"||l.type.spec.tableRole=="header_cell"){const u=r.before(i),d=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(d)?u:null}}return null}function pO(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function t2(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Im(t.state.doc.resolve(n.pos)):null}var lB=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),eM(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,eM(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function eM(t,e,n,r,i,l){var a;let u=0,d=!0,h=e.firstChild;const p=t.firstChild;if(p){for(let g=0,y=0;g<p.childCount;g++){const{colspan:v,colwidth:w}=p.child(g).attrs;for(let C=0;C<v;C++,y++){const S=i==y?l:w&&w[C],E=S?S+"px":"";if(u+=S||r,S||(d=!1),h)h.style.width!=E&&(h.style.width=E),h=h.nextSibling;else{const A=document.createElement("col");A.style.width=E,e.appendChild(A)}}}for(;h;){const g=h.nextSibling;(a=h.parentNode)==null||a.removeChild(h),h=g}d?(n.style.width=u+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=u+"px")}}var fs=new Ht("tableColumnResizing");function kK({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=lB,lastColumnResizable:i=!0}={}){const l=new Ct({key:fs,state:{init(a,u){var d,h;const p=(h=(d=l.spec)==null?void 0:d.props)==null?void 0:h.nodeViews,g=So(u.schema).table.name;return r&&p&&(p[g]=(y,v)=>new r(y,n,v)),new CK(-1,!1)},apply(a,u){return u.apply(a)}},props:{attributes:a=>{const u=fs.getState(a);return u&&u.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,u)=>{_K(a,u,t,i)},mouseleave:a=>{SK(a)},mousedown:(a,u)=>{xK(a,u,e,n)}},decorations:a=>{const u=fs.getState(a);if(u&&u.activeHandle>-1)return RK(a,u.activeHandle)},nodeViews:{}}});return l}var CK=class Uw{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(fs);if(r&&r.setHandle!=null)return new Uw(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Uw(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return QT(e.doc.resolve(i))||(i=-1),new Uw(i,n.dragging)}return n}};function _K(t,e,n,r){if(!t.editable)return;const i=fs.getState(t.state);if(i&&!i.dragging){const l=TK(e.target);let a=-1;if(l){const{left:u,right:d}=l.getBoundingClientRect();e.clientX-u<=n?a=mO(t,e,"left",n):d-e.clientX<=n&&(a=mO(t,e,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const u=t.state.doc.resolve(a),d=u.node(-1),h=Bn.get(d),p=u.start(-1);if(h.colCount(u.pos-p)+u.nodeAfter.attrs.colspan-1==h.width-1)return}aB(t,a)}}}function SK(t){if(!t.editable)return;const e=fs.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&aB(t,-1)}function xK(t,e,n,r){var i;if(!t.editable)return!1;const l=(i=t.dom.ownerDocument.defaultView)!=null?i:window,a=fs.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const u=t.state.doc.nodeAt(a.activeHandle),d=EK(t,a.activeHandle,u.attrs);t.dispatch(t.state.tr.setMeta(fs,{setDragging:{startX:e.clientX,startWidth:d}}));function h(g){l.removeEventListener("mouseup",h),l.removeEventListener("mousemove",p);const y=fs.getState(t.state);y!=null&&y.dragging&&(MK(t,y.activeHandle,gO(y.dragging,g,n)),t.dispatch(t.state.tr.setMeta(fs,{setDragging:null})))}function p(g){if(!g.which)return h(g);const y=fs.getState(t.state);if(y&&y.dragging){const v=gO(y.dragging,g,n);bO(t,y.activeHandle,v,r)}}return bO(t,a.activeHandle,d,r),l.addEventListener("mouseup",h),l.addEventListener("mousemove",p),e.preventDefault(),!0}function EK(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const l=t.domAtPos(e);let u=l.node.childNodes[l.offset].offsetWidth,d=n;if(r)for(let h=0;h<n;h++)r[h]&&(u-=r[h],d--);return u/d}function TK(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function mO(t,e,n,r){const i=n=="right"?-r:r,l=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!l)return-1;const{pos:a}=l,u=Im(t.state.doc.resolve(a));if(!u)return-1;if(n=="right")return u.pos;const d=Bn.get(u.node(-1)),h=u.start(-1),p=d.map.indexOf(u.pos-h);return p%d.width==0?-1:h+d.map[p-1]}function gO(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function aB(t,e){t.dispatch(t.state.tr.setMeta(fs,{setHandle:e}))}function MK(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),l=Bn.get(i),a=r.start(-1),u=l.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,d=t.state.tr;for(let h=0;h<l.height;h++){const p=h*l.width+u;if(h&&l.map[p]==l.map[p-l.width])continue;const g=l.map[p],y=i.nodeAt(g).attrs,v=y.colspan==1?0:u-l.colCount(g);if(y.colwidth&&y.colwidth[v]==n)continue;const w=y.colwidth?y.colwidth.slice():AK(y.colspan);w[v]=n,d.setNodeMarkup(a+g,null,{...y,colwidth:w})}d.docChanged&&t.dispatch(d)}function bO(t,e,n,r){const i=t.state.doc.resolve(e),l=i.node(-1),a=i.start(-1),u=Bn.get(l).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let d=t.domAtPos(i.start(-1)).node;for(;d&&d.nodeName!="TABLE";)d=d.parentNode;d&&eM(l,d.firstChild,d,r,u,n)}function AK(t){return Array(t).fill(0)}function RK(t,e){var n;const r=[],i=t.doc.resolve(e),l=i.node(-1);if(!l)return Ot.empty;const a=Bn.get(l),u=i.start(-1),d=a.colCount(i.pos-u)+i.nodeAfter.attrs.colspan-1;for(let h=0;h<a.height;h++){const p=d+h*a.width;if((d==a.width-1||a.map[p]!=a.map[p+1])&&(h==0||a.map[p]!=a.map[p-a.width])){const g=a.map[p],y=u+g+l.nodeAt(g).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",(n=fs.getState(t))!=null&&n.dragging&&r.push(Qt.node(u+g,u+g+l.nodeAt(g).nodeSize,{class:"column-resize-dragging"})),r.push(Qt.widget(y,v))}}return Ot.create(t.doc,r)}function NK({allowTableNodeSelection:t=!1}={}){return new Ct({key:zu,state:{init(){return null},apply(e,n){const r=e.getMeta(zu);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:l}=e.mapping.mapResult(n);return i?null:l}},props:{decorations:GW,handleDOMEvents:{mousedown:wK},createSelectionBetween(e){return zu.getState(e.state)!=null?e.state.selection:null},handleTripleClick:yK,handleKeyDown:bK,handlePaste:vK},appendTransaction(e,n,r){return KW(r,XW(r,n),t)}})}const OK=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,DK=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,LK=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,PK=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,IK=gi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",ms(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Sm({find:OK,type:this.type}),Sm({find:LK,type:this.type})]},addPasteRules(){return[pp({find:DK,type:this.type}),pp({find:PK,type:this.type})]}}),BK=/(^|[^`])`([^`]+)`(?!`)/,jK=/(^|[^`])`([^`]+)`(?!`)/g,zK=gi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ms(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Sm({find:BK,type:this.type})]},addPasteRules(){return[pp({find:jK,type:this.type})]}}),$K=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,HK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,VK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,UK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,FK=gi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ms(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Sm({find:$K,type:this.type}),Sm({find:VK,type:this.type})]},addPasteRules(){return[pp({find:HK,type:this.type}),pp({find:UK,type:this.type})]}}),GK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,qK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,WK=gi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ms(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Sm({find:GK,type:this.type})]},addPasteRules(){return[pp({find:qK,type:this.type})]}}),KK=gi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ms(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),ZK=Ca.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",ms(this.options.HTMLAttributes,t),0]}}),XK=Ca.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",ms(this.options.HTMLAttributes,t),0]}}),YK=Ca.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",ms(this.options.HTMLAttributes,t),0]}});class Gn extends rt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Gn.valid(r)?new Gn(r):rt.near(r)}content(){return Se.empty}eq(e){return e instanceof Gn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Gn(e.resolve(n.pos))}getBookmark(){return new sR(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!QK(e)||!JK(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Gn.valid(e))return e;let i=e.pos,l=null;for(let a=e.depth;;a--){let u=e.node(a);if(n>0?e.indexAfter(a)<u.childCount:e.index(a)>0){l=u.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let d=e.doc.resolve(i);if(Gn.valid(d))return d}for(;;){let a=n>0?l.firstChild:l.lastChild;if(!a){if(l.isAtom&&!l.isText&&!Ue.isSelectable(l)){e=e.doc.resolve(i+l.nodeSize*n),r=!1;continue e}break}l=a,i+=n;let u=e.doc.resolve(i);if(Gn.valid(u))return u}return null}}}Gn.prototype.visible=!1;Gn.findFrom=Gn.findGapCursorFrom;rt.jsonID("gapcursor",Gn);class sR{constructor(e){this.pos=e}map(e){return new sR(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Gn.valid(n)?new Gn(n):rt.near(n)}}function QK(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function JK(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function eZ(){return new Ct({props:{decorations:oZ,createSelectionBetween(t,e,n){return e.pos==n.pos&&Gn.valid(n)?new Gn(n):null},handleClick:nZ,handleKeyDown:tZ,handleDOMEvents:{beforeinput:rZ}}})}const tZ=WA({ArrowLeft:hw("horiz",-1),ArrowRight:hw("horiz",1),ArrowUp:hw("vert",-1),ArrowDown:hw("vert",1)});function hw(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,l){let a=r.selection,u=e>0?a.$to:a.$from,d=a.empty;if(a instanceof Ve){if(!l.endOfTextblock(n)||u.depth==0)return!1;d=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=Gn.findGapCursorFrom(u,e,d);return h?(i&&i(r.tr.setSelection(new Gn(h))),!0):!1}}function nZ(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Gn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ue.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Gn(r))),!0)}function rZ(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Gn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=se.empty;for(let a=r.length-1;a>=0;a--)i=se.from(r[a].createAndFill(null,i));let l=t.state.tr.replace(n.pos,n.pos,new Se(i,0,0));return l.setSelection(Ve.near(l.doc.resolve(n.pos+1))),t.dispatch(l),!1}function oZ(t){if(!(t.selection instanceof Gn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ot.create(t.doc,[Qt.widget(t.selection.head,e,{key:"gapcursor"})])}const iZ=an.create({name:"gapCursor",addProseMirrorPlugins(){return[eZ()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Bt(je(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var Ak=200,Dr=function(){};Dr.prototype.append=function(e){return e.length?(e=Dr.from(e),!this.length&&e||e.length<Ak&&this.leafAppend(e)||this.length<Ak&&e.leafPrepend(this)||this.appendInner(e)):this};Dr.prototype.prepend=function(e){return e.length?Dr.from(e).append(this):this};Dr.prototype.appendInner=function(e){return new sZ(this,e)};Dr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Dr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Dr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Dr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Dr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(l,a){return i.push(e(l,a))},n,r),i};Dr.from=function(e){return e instanceof Dr?e:e&&e.length?new cB(e):Dr.empty};var cB=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,l){return i==0&&l==this.length?this:new e(this.values.slice(i,l))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,l,a,u){for(var d=l;d<a;d++)if(i(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,l,a,u){for(var d=l-1;d>=a;d--)if(i(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ak)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ak)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Dr);Dr.empty=new cB([]);var sZ=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,l,a){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(l,u),a)===!1||l>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,l)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,l,a){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(l,u)-u,a+u)===!1||l<u&&this.left.forEachInvertedInner(r,Math.min(i,u),l,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var l=this.left.length;return i<=l?this.left.slice(r,i):r>=l?this.right.slice(r-l,i-l):this.left.slice(r,l).append(this.right.slice(0,i-l))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Dr);const lZ=500;class Pl{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,l;n&&(i=this.remapping(r,this.items.length),l=i.maps.length);let a=e.tr,u,d,h=[],p=[];return this.items.forEach((g,y)=>{if(!g.step){i||(i=this.remapping(r,y+1),l=i.maps.length),l--,p.push(g);return}if(i){p.push(new Tu(g.map));let v=g.step.map(i.slice(l)),w;v&&a.maybeStep(v).doc&&(w=a.mapping.maps[a.mapping.maps.length-1],h.push(new Tu(w,void 0,void 0,h.length+p.length))),l--,w&&i.appendMap(w,l)}else a.maybeStep(g.step);if(g.selection)return u=i?g.selection.map(i.slice(l)):g.selection,d=new Pl(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:u}}addTransform(e,n,r,i){let l=[],a=this.eventCount,u=this.items,d=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),y=new Tu(e.mapping.maps[p],g,n),v;(v=d&&d.merge(y))&&(y=v,p?l.pop():u=u.slice(0,u.length-1)),l.push(y),n&&(a++,n=void 0),i||(d=y)}let h=a-r.depth;return h>cZ&&(u=aZ(u,h),a-=h),new Pl(u.append(l),a)}remapping(e,n){let r=new ym;return this.items.forEach((i,l)=>{let a=i.mirrorOffset!=null&&l-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Pl(this.items.append(e.map(n=>new Tu(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),l=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},i);let d=n;this.items.forEach(y=>{let v=l.getMirror(--d);if(v==null)return;a=Math.min(a,v);let w=l.maps[v];if(y.step){let C=e.steps[v].invert(e.docs[v]),S=y.selection&&y.selection.map(l.slice(d+1,v));S&&u++,r.push(new Tu(w,C,S))}else r.push(new Tu(w))},i);let h=[];for(let y=n;y<a;y++)h.push(new Tu(l.maps[y]));let p=this.items.slice(0,i).append(h).append(r),g=new Pl(p,u);return g.emptyItemCount()>lZ&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],l=0;return this.items.forEach((a,u)=>{if(u>=e)i.push(a),a.selection&&l++;else if(a.step){let d=a.step.map(n.slice(r)),h=d&&d.getMap();if(r--,h&&n.appendMap(h,r),d){let p=a.selection&&a.selection.map(n.slice(r));p&&l++;let g=new Tu(h.invert(),d,p),y,v=i.length-1;(y=i.length&&i[v].merge(g))?i[v]=y:i.push(g)}}else a.map&&r--},this.items.length,0),new Pl(Dr.from(i.reverse()),l)}}Pl.empty=new Pl(Dr.empty,0);function aZ(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let Tu=class uB{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new uB(n.getMap().invert(),n,this.selection)}}};class Pu{constructor(e,n,r,i,l){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=l}}const cZ=20;function uZ(t,e,n,r){let i=n.getMeta(ap),l;if(i)return i.historyState;n.getMeta(hZ)&&(t=new Pu(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(ap))return a.getMeta(ap).redo?new Pu(t.done.addTransform(n,void 0,r,Fw(e)),t.undone,yO(n.mapping.maps),t.prevTime,t.prevComposition):new Pu(t.done,t.undone.addTransform(n,void 0,r,Fw(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!a&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!dZ(n,t.prevRanges)),h=a?n2(t.prevRanges,n.mapping):yO(n.mapping.maps);return new Pu(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Fw(e)),Pl.empty,h,n.time,u??t.prevComposition)}else return(l=n.getMeta("rebased"))?new Pu(t.done.rebased(n,l),t.undone.rebased(n,l),n2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Pu(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),n2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function dZ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&i>=e[l]&&(n=!0)}),n}function yO(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,l,a)=>e.push(l,a));return e}function n2(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),l=e.map(t[r+1],-1);i<=l&&n.push(i,l)}return n}function fZ(t,e,n){let r=Fw(e),i=ap.get(e).spec.config,l=(n?t.undone:t.done).popEvent(e,r);if(!l)return null;let a=l.selection.resolve(l.transform.doc),u=(n?t.done:t.undone).addTransform(l.transform,e.selection.getBookmark(),i,r),d=new Pu(n?u:l.remaining,n?l.remaining:u,null,0,-1);return l.transform.setSelection(a).setMeta(ap,{redo:n,historyState:d})}let r2=!1,vO=null;function Fw(t){let e=t.plugins;if(vO!=e){r2=!1,vO=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){r2=!0;break}}return r2}const ap=new Ht("history"),hZ=new Ht("closeHistory");function pZ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ct({key:ap,state:{init(){return new Pu(Pl.empty,Pl.empty,null,0,-1)},apply(e,n,r){return uZ(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?fB:r=="historyRedo"?hB:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function dB(t,e){return(n,r)=>{let i=ap.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let l=fZ(i,n,t);l&&r(e?l.scrollIntoView():l)}return!0}}const fB=dB(!1,!0),hB=dB(!0,!0),mZ=an.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>fB(t,e),redo:()=>({state:t,dispatch:e})=>hB(t,e)}},addProseMirrorPlugins(){return[pZ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),gZ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",bZ="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",xm=(t,e)=>{for(const n in e)t[n]=e[n];return t},tM="numeric",nM="ascii",rM="alpha",Sv="asciinumeric",dv="alphanumeric",oM="domain",pB="emoji",yZ="scheme",vZ="slashscheme",o2="whitespace";function wZ(t,e){return t in e||(e[t]=[]),e[t]}function Zh(t,e,n){e[tM]&&(e[Sv]=!0,e[dv]=!0),e[nM]&&(e[Sv]=!0,e[rM]=!0),e[Sv]&&(e[dv]=!0),e[rM]&&(e[dv]=!0),e[dv]&&(e[oM]=!0),e[pB]&&(e[oM]=!0);for(const r in e){const i=wZ(r,n);i.indexOf(t)<0&&i.push(t)}}function kZ(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ci(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}ci.groups={};ci.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],l=e.jr[r][1];if(l&&i.test(t))return l}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||ci.groups;let i;return e&&e.j?i=e:(i=new ci(e),n&&r&&Zh(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const l=t.length;if(!l)return i;for(let a=0;a<l-1;a++)i=i.tt(t[a]);return i.tt(t[l-1],e,n,r)},tt(t,e,n,r){r=r||ci.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const l=e;let a,u=i.go(t);if(u?(a=new ci,xm(a.j,u.j),a.jr.push.apply(a.jr,u.jr),a.jd=u.jd,a.t=u.t):a=new ci,l){if(r)if(a.t&&typeof a.t=="string"){const d=xm(kZ(a.t,r),n);Zh(l,d,r)}else n&&Zh(l,n,r);a.t=l}return i.j[t]=a,a}};const At=(t,e,n,r,i)=>t.ta(e,n,r,i),Fn=(t,e,n,r,i)=>t.tr(e,n,r,i),wO=(t,e,n,r,i)=>t.ts(e,n,r,i),Ce=(t,e,n,r,i)=>t.tt(e,n,r,i),Wc="WORD",iM="UWORD",mB="ASCIINUMERICAL",gB="ALPHANUMERICAL",Yv="LOCALHOST",sM="TLD",lM="UTLD",Gw="SCHEME",Wp="SLASH_SCHEME",lR="NUM",aM="WS",aR="NL",xv="OPENBRACE",Ev="CLOSEBRACE",Rk="OPENBRACKET",Nk="CLOSEBRACKET",Ok="OPENPAREN",Dk="CLOSEPAREN",Lk="OPENANGLEBRACKET",Pk="CLOSEANGLEBRACKET",Ik="FULLWIDTHLEFTPAREN",Bk="FULLWIDTHRIGHTPAREN",jk="LEFTCORNERBRACKET",zk="RIGHTCORNERBRACKET",$k="LEFTWHITECORNERBRACKET",Hk="RIGHTWHITECORNERBRACKET",Vk="FULLWIDTHLESSTHAN",Uk="FULLWIDTHGREATERTHAN",Fk="AMPERSAND",cR="APOSTROPHE",Gk="ASTERISK",Iu="AT",qk="BACKSLASH",Wk="BACKTICK",Kk="CARET",$u="COLON",uR="COMMA",Zk="DOLLAR",ra="DOT",Xk="EQUALS",dR="EXCLAMATION",Cs="HYPHEN",Tv="PERCENT",Yk="PIPE",Qk="PLUS",Jk="POUND",Mv="QUERY",fR="QUOTE",bB="FULLWIDTHMIDDLEDOT",hR="SEMI",oa="SLASH",Av="TILDE",eC="UNDERSCORE",yB="EMOJI",tC="SYM";var vB=Object.freeze({__proto__:null,WORD:Wc,UWORD:iM,ASCIINUMERICAL:mB,ALPHANUMERICAL:gB,LOCALHOST:Yv,TLD:sM,UTLD:lM,SCHEME:Gw,SLASH_SCHEME:Wp,NUM:lR,WS:aM,NL:aR,OPENBRACE:xv,CLOSEBRACE:Ev,OPENBRACKET:Rk,CLOSEBRACKET:Nk,OPENPAREN:Ok,CLOSEPAREN:Dk,OPENANGLEBRACKET:Lk,CLOSEANGLEBRACKET:Pk,FULLWIDTHLEFTPAREN:Ik,FULLWIDTHRIGHTPAREN:Bk,LEFTCORNERBRACKET:jk,RIGHTCORNERBRACKET:zk,LEFTWHITECORNERBRACKET:$k,RIGHTWHITECORNERBRACKET:Hk,FULLWIDTHLESSTHAN:Vk,FULLWIDTHGREATERTHAN:Uk,AMPERSAND:Fk,APOSTROPHE:cR,ASTERISK:Gk,AT:Iu,BACKSLASH:qk,BACKTICK:Wk,CARET:Kk,COLON:$u,COMMA:uR,DOLLAR:Zk,DOT:ra,EQUALS:Xk,EXCLAMATION:dR,HYPHEN:Cs,PERCENT:Tv,PIPE:Yk,PLUS:Qk,POUND:Jk,QUERY:Mv,QUOTE:fR,FULLWIDTHMIDDLEDOT:bB,SEMI:hR,SLASH:oa,TILDE:Av,UNDERSCORE:eC,EMOJI:yB,SYM:tC});const Hc=/[a-z]/,K0=new RegExp("\\p{L}","u"),i2=new RegExp("\\p{Emoji}","u"),Vc=/\d/,s2=/\s/,kO="\r",l2=`
`,CZ="️",_Z="‍",a2="￼";let pw=null,mw=null;function SZ(t=[]){const e={};ci.groups=e;const n=new ci;pw==null&&(pw=CO(gZ)),mw==null&&(mw=CO(bZ)),Ce(n,"'",cR),Ce(n,"{",xv),Ce(n,"}",Ev),Ce(n,"[",Rk),Ce(n,"]",Nk),Ce(n,"(",Ok),Ce(n,")",Dk),Ce(n,"<",Lk),Ce(n,">",Pk),Ce(n,"（",Ik),Ce(n,"）",Bk),Ce(n,"「",jk),Ce(n,"」",zk),Ce(n,"『",$k),Ce(n,"』",Hk),Ce(n,"＜",Vk),Ce(n,"＞",Uk),Ce(n,"&",Fk),Ce(n,"*",Gk),Ce(n,"@",Iu),Ce(n,"`",Wk),Ce(n,"^",Kk),Ce(n,":",$u),Ce(n,",",uR),Ce(n,"$",Zk),Ce(n,".",ra),Ce(n,"=",Xk),Ce(n,"!",dR),Ce(n,"-",Cs),Ce(n,"%",Tv),Ce(n,"|",Yk),Ce(n,"+",Qk),Ce(n,"#",Jk),Ce(n,"?",Mv),Ce(n,'"',fR),Ce(n,"/",oa),Ce(n,";",hR),Ce(n,"~",Av),Ce(n,"_",eC),Ce(n,"\\",qk),Ce(n,"・",bB);const r=Fn(n,Vc,lR,{[tM]:!0});Fn(r,Vc,r);const i=Fn(r,Hc,mB,{[Sv]:!0}),l=Fn(r,K0,gB,{[dv]:!0}),a=Fn(n,Hc,Wc,{[nM]:!0});Fn(a,Vc,i),Fn(a,Hc,a),Fn(i,Vc,i),Fn(i,Hc,i);const u=Fn(n,K0,iM,{[rM]:!0});Fn(u,Hc),Fn(u,Vc,l),Fn(u,K0,u),Fn(l,Vc,l),Fn(l,Hc),Fn(l,K0,l);const d=Ce(n,l2,aR,{[o2]:!0}),h=Ce(n,kO,aM,{[o2]:!0}),p=Fn(n,s2,aM,{[o2]:!0});Ce(n,a2,p),Ce(h,l2,d),Ce(h,a2,p),Fn(h,s2,p),Ce(p,kO),Ce(p,l2),Fn(p,s2,p),Ce(p,a2,p);const g=Fn(n,i2,yB,{[pB]:!0});Ce(g,"#"),Fn(g,i2,g),Ce(g,CZ,g);const y=Ce(g,_Z);Ce(y,"#"),Fn(y,i2,g);const v=[[Hc,a],[Vc,i]],w=[[Hc,null],[K0,u],[Vc,l]];for(let C=0;C<pw.length;C++)Mu(n,pw[C],sM,Wc,v);for(let C=0;C<mw.length;C++)Mu(n,mw[C],lM,iM,w);Zh(sM,{tld:!0,ascii:!0},e),Zh(lM,{utld:!0,alpha:!0},e),Mu(n,"file",Gw,Wc,v),Mu(n,"mailto",Gw,Wc,v),Mu(n,"http",Wp,Wc,v),Mu(n,"https",Wp,Wc,v),Mu(n,"ftp",Wp,Wc,v),Mu(n,"ftps",Wp,Wc,v),Zh(Gw,{scheme:!0,ascii:!0},e),Zh(Wp,{slashscheme:!0,ascii:!0},e),t=t.sort((C,S)=>C[0]>S[0]?1:-1);for(let C=0;C<t.length;C++){const S=t[C][0],A=t[C][1]?{[yZ]:!0}:{[vZ]:!0};S.indexOf("-")>=0?A[oM]=!0:Hc.test(S)?Vc.test(S)?A[Sv]=!0:A[nM]=!0:A[tM]=!0,wO(n,S,S,A)}return wO(n,"localhost",Yv,{ascii:!0}),n.jd=new ci(tC),{start:n,tokens:xm({groups:e},vB)}}function wB(t,e){const n=xZ(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,i=[];let l=0,a=0;for(;a<r;){let u=t,d=null,h=0,p=null,g=-1,y=-1;for(;a<r&&(d=u.go(n[a]));)u=d,u.accepts()?(g=0,y=0,p=u):g>=0&&(g+=n[a].length,y++),h+=n[a].length,l+=n[a].length,a++;l-=g,a-=y,h-=g,i.push({t:p.t,v:e.slice(l-h,l),s:l-h,e:l})}return i}function xZ(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),l,a=i<55296||i>56319||r+1===n||(l=t.charCodeAt(r+1))<56320||l>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Mu(t,e,n,r,i){let l;const a=e.length;for(let u=0;u<a-1;u++){const d=e[u];t.j[d]?l=t.j[d]:(l=new ci(r),l.jr=i.slice(),t.j[d]=l),t=l}return l=new ci(n),l.jr=i.slice(),t.j[e[a-1]]=l,l}function CO(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let l=0;for(;i.indexOf(t[r+l])>=0;)l++;if(l>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+l),10);a>0;a--)n.pop();r+=l}else n.push(t[r]),r++}return e}const Qv={defaultProtocol:"http",events:null,format:_O,formatHref:_O,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function pR(t,e=null){let n=xm({},Qv);t&&(n=xm(n,t instanceof pR?t.o:t));const r=n.ignoreTags,i=[];for(let l=0;l<r.length;l++)i.push(r[l].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}pR.prototype={o:Qv,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Qv[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function _O(t){return t}function kB(t,e){this.t="token",this.v=t,this.tk=e}kB.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Qv.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),l=this.toFormattedString(t),a={},u=t.get("className",n,e),d=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return a.href=r,u&&(a.class=u),d&&(a.target=d),h&&(a.rel=h),p&&xm(a,p),{tagName:i,attributes:a,content:l,eventListeners:g}}};function p_(t,e){class n extends kB{constructor(i,l){super(i,l),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const SO=p_("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),xO=p_("text"),EZ=p_("nl"),gw=p_("url",{isLink:!0,toHref(t=Qv.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Yv&&t[1].t===$u}}),ws=t=>new ci(t);function TZ({groups:t}){const e=t.domain.concat([Fk,Gk,Iu,qk,Wk,Kk,Zk,Xk,Cs,lR,Tv,Yk,Qk,Jk,oa,tC,Av,eC]),n=[$u,uR,ra,dR,Tv,Mv,fR,hR,Lk,Pk,xv,Ev,Nk,Rk,Ok,Dk,Ik,Bk,jk,zk,$k,Hk,Vk,Uk],r=[Fk,cR,Gk,qk,Wk,Kk,Zk,Xk,Cs,xv,Ev,Tv,Yk,Qk,Jk,Mv,oa,tC,Av,eC],i=ws(),l=Ce(i,Av);At(l,r,l),At(l,t.domain,l);const a=ws(),u=ws(),d=ws();At(i,t.domain,a),At(i,t.scheme,u),At(i,t.slashscheme,d),At(a,r,l),At(a,t.domain,a);const h=Ce(a,Iu);Ce(l,Iu,h),Ce(u,Iu,h),Ce(d,Iu,h);const p=Ce(l,ra);At(p,r,l),At(p,t.domain,l);const g=ws();At(h,t.domain,g),At(g,t.domain,g);const y=Ce(g,ra);At(y,t.domain,g);const v=ws(SO);At(y,t.tld,v),At(y,t.utld,v),Ce(h,Yv,v);const w=Ce(g,Cs);Ce(w,Cs,w),At(w,t.domain,g),At(v,t.domain,g),Ce(v,ra,y),Ce(v,Cs,w);const C=Ce(v,$u);At(C,t.numeric,SO);const S=Ce(a,Cs),E=Ce(a,ra);Ce(S,Cs,S),At(S,t.domain,a),At(E,r,l),At(E,t.domain,a);const A=ws(gw);At(E,t.tld,A),At(E,t.utld,A),At(A,t.domain,a),At(A,r,l),Ce(A,ra,E),Ce(A,Cs,S),Ce(A,Iu,h);const N=Ce(A,$u),I=ws(gw);At(N,t.numeric,I);const B=ws(gw),F=ws();At(B,e,B),At(B,n,F),At(F,e,B),At(F,n,F),Ce(A,oa,B),Ce(I,oa,B);const q=Ce(u,$u),Z=Ce(d,$u),Q=Ce(Z,oa),ie=Ce(Q,oa);At(u,t.domain,a),Ce(u,ra,E),Ce(u,Cs,S),At(d,t.domain,a),Ce(d,ra,E),Ce(d,Cs,S),At(q,t.domain,B),Ce(q,oa,B),Ce(q,Mv,B),At(ie,t.domain,B),At(ie,e,B),Ce(ie,oa,B);const ke=[[xv,Ev],[Rk,Nk],[Ok,Dk],[Lk,Pk],[Ik,Bk],[jk,zk],[$k,Hk],[Vk,Uk]];for(let ue=0;ue<ke.length;ue++){const[xe,we]=ke[ue],de=Ce(B,xe);Ce(F,xe,de),Ce(de,we,B);const L=ws(gw);At(de,e,L);const H=ws();At(de,n),At(L,e,L),At(L,n,H),At(H,e,L),At(H,n,H),Ce(L,we,B),Ce(H,we,B)}return Ce(i,Yv,A),Ce(i,aR,EZ),{start:i,tokens:vB}}function MZ(t,e,n){let r=n.length,i=0,l=[],a=[];for(;i<r;){let u=t,d=null,h=null,p=0,g=null,y=-1;for(;i<r&&!(d=u.go(n[i].t));)a.push(n[i++]);for(;i<r&&(h=d||u.go(n[i].t));)d=null,u=h,u.accepts()?(y=0,g=u):y>=0&&y++,i++,p++;if(y<0)i-=p,i<r&&(a.push(n[i]),i++);else{a.length>0&&(l.push(c2(xO,e,a)),a=[]),i-=y,p-=y;const v=g.t,w=n.slice(i-p,i);l.push(c2(v,e,w))}}return a.length>0&&l.push(c2(xO,e,a)),l}function c2(t,e,n){const r=n[0].s,i=n[n.length-1].e,l=e.slice(r,i);return new t(l,n)}const AZ=typeof console<"u"&&console&&console.warn||(()=>{}),RZ="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ln={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function NZ(){return ci.groups={},Ln.scanner=null,Ln.parser=null,Ln.tokenQueue=[],Ln.pluginQueue=[],Ln.customSchemes=[],Ln.initialized=!1,Ln}function EO(t,e=!1){if(Ln.initialized&&AZ(`linkifyjs: already initialized - will not register custom scheme "${t}" ${RZ}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ln.customSchemes.push([t,e])}function OZ(){Ln.scanner=SZ(Ln.customSchemes);for(let t=0;t<Ln.tokenQueue.length;t++)Ln.tokenQueue[t][1]({scanner:Ln.scanner});Ln.parser=TZ(Ln.scanner.tokens);for(let t=0;t<Ln.pluginQueue.length;t++)Ln.pluginQueue[t][1]({scanner:Ln.scanner,parser:Ln.parser});return Ln.initialized=!0,Ln}function mR(t){return Ln.initialized||OZ(),MZ(Ln.parser.start,t,wB(Ln.scanner.start,t))}mR.scan=wB;function CB(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new pR(n),i=mR(t),l=[];for(let a=0;a<i.length;a++){const u=i[a];u.isLink&&(!e||u.t===e)&&r.check(u)&&l.push(u.toFormattedObject(r))}return l}function DZ(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function LZ(t){return new Ct({key:new Ht("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),l=e.some(h=>h.getMeta("preventAutolink"));if(!i||l)return;const{tr:a}=r,u=$I(n.doc,[...e]);if(UI(u).forEach(({newRange:h})=>{const p=HI(r.doc,h,v=>v.isTextblock);let g,y;if(p.length>1?(g=p[0],y=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ")):p.length&&r.doc.textBetween(h.from,h.to," "," ").endsWith(" ")&&(g=p[0],y=r.doc.textBetween(g.pos,h.to,void 0," ")),g&&y){const v=y.split(" ").filter(E=>E!=="");if(v.length<=0)return!1;const w=v[v.length-1],C=g.pos+y.lastIndexOf(w);if(!w)return!1;const S=mR(w).map(E=>E.toObject(t.defaultProtocol));if(!DZ(S))return!1;S.filter(E=>E.isLink).map(E=>({...E,from:C+E.start+1,to:C+E.end+1})).filter(E=>r.schema.marks.code?!r.doc.rangeHasMark(E.from,E.to,r.schema.marks.code):!0).filter(E=>t.validate(E.value)).filter(E=>t.shouldAutoLink(E.value)).forEach(E=>{tR(E.from,E.to,r.doc).some(A=>A.mark.type===t.type)||a.addMark(E.from,E.to,t.type.create({href:E.href}))})}}),!!a.steps.length)return a}})}function PZ(t){return new Ct({key:new Ht("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,l;if(r.button!==0||!e.editable)return!1;let a=r.target;const u=[];for(;a.nodeName!=="DIV";)u.push(a),a=a.parentNode;if(!u.find(y=>y.nodeName==="A"))return!1;const d=VI(e.state,t.type.name),h=r.target,p=(i=h==null?void 0:h.href)!==null&&i!==void 0?i:d.href,g=(l=h==null?void 0:h.target)!==null&&l!==void 0?l:d.target;return h&&p?(window.open(p,g),!0):!1}}})}function IZ(t){return new Ct({key:new Ht("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:l}=i,{empty:a}=l;if(a)return!1;let u="";r.content.forEach(h=>{u+=h.textContent});const d=CB(u,{defaultProtocol:t.defaultProtocol}).find(h=>h.isLink&&h.value===u);return!u||!d?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}const BZ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Ih(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(BZ,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const jZ=gi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){EO(t);return}EO(t.scheme,t.optionalSlashes)})},onDestroy(){NZ()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ih(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ih(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ih(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ms(this.options.HTMLAttributes,t),0]:["a",ms(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ih(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ih(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[pp({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=CB(t).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:a=>!!Ih(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(l=>e.push({text:l.value,data:{href:l.href},index:l.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(LZ({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ih(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(PZ({type:this.type})),this.options.linkOnPaste&&t.push(IZ({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),zZ=Ca.create({name:"text",group:"inline"}),Ls=()=>new Map,cM=t=>{const e=Ls();return t.forEach((n,r)=>{e.set(r,n)}),e},xa=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},$Z=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},HZ=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},gp=()=>new Set,u2=t=>t[t.length-1],VZ=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},bp=Array.from,UZ=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},uM=Array.isArray;class _B{constructor(){this._observers=Ls()}on(e,n){return xa(this._observers,e,gp).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return bp((this._observers.get(e)||Ls()).values()).forEach(r=>r(...n))}destroy(){this._observers=Ls()}}const pu=Math.floor,qw=Math.abs,cu=(t,e)=>t<e?t:e,ga=(t,e)=>t>e?t:e,SB=t=>t!==0?t<0:1/t<0,TO=1,MO=2,d2=4,f2=8,Jv=32,uu=64,Qo=128,FZ=1<<29,m_=31,dM=63,cp=127,GZ=2147483647,xB=Number.MAX_SAFE_INTEGER,qZ=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&pu(t)===t),WZ=String.fromCharCode,KZ=t=>t.toLowerCase(),ZZ=/^\s*/g,XZ=t=>t.replace(ZZ,""),YZ=/([A-Z])/g,AO=(t,e)=>XZ(t.replace(YZ,n=>`${e}${KZ(n)}`)),QZ=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},e1=typeof TextEncoder<"u"?new TextEncoder:null,JZ=t=>e1.encode(t),eX=e1?JZ:QZ;let Rv=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Rv&&Rv.decode(new Uint8Array).length===1&&(Rv=null);class M1{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const A1=()=>new M1,tX=t=>{const e=A1();return t(e),jl(e)},nX=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},jl=t=>{const e=new Uint8Array(nX(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},rX=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(ga(n,e)*2),t.cpos=0)},Mr=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},fM=Mr,Wt=(t,e)=>{for(;e>cp;)Mr(t,Qo|cp&e),e=pu(e/128);Mr(t,cp&e)},gR=(t,e)=>{const n=SB(e);for(n&&(e=-e),Mr(t,(e>dM?Qo:0)|(n?uu:0)|dM&e),e=pu(e/64);e>0;)Mr(t,(e>cp?Qo:0)|cp&e),e=pu(e/128)},hM=new Uint8Array(3e4),oX=hM.length/3,iX=(t,e)=>{if(e.length<oX){const n=e1.encodeInto(e,hM).written||0;Wt(t,n);for(let r=0;r<n;r++)Mr(t,hM[r])}else cs(t,eX(e))},sX=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;Wt(t,r);for(let i=0;i<r;i++)Mr(t,n.codePointAt(i))},cm=e1&&e1.encodeInto?iX:sX,g_=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=cu(n-r,e.length),l=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,l>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(ga(n*2,l)),t.cbuf.set(e.subarray(i)),t.cpos=l)},cs=(t,e)=>{Wt(t,e.byteLength),g_(t,e)},bR=(t,e)=>{rX(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},lX=(t,e)=>bR(t,4).setFloat32(0,e,!1),aX=(t,e)=>bR(t,8).setFloat64(0,e,!1),cX=(t,e)=>bR(t,8).setBigInt64(0,e,!1),RO=new DataView(new ArrayBuffer(4)),uX=t=>(RO.setFloat32(0,t),RO.getFloat32(0)===t),Em=(t,e)=>{switch(typeof e){case"string":Mr(t,119),cm(t,e);break;case"number":qZ(e)&&qw(e)<=GZ?(Mr(t,125),gR(t,e)):uX(e)?(Mr(t,124),lX(t,e)):(Mr(t,123),aX(t,e));break;case"bigint":Mr(t,122),cX(t,e);break;case"object":if(e===null)Mr(t,126);else if(uM(e)){Mr(t,117),Wt(t,e.length);for(let n=0;n<e.length;n++)Em(t,e[n])}else if(e instanceof Uint8Array)Mr(t,116),cs(t,e);else{Mr(t,118);const n=Object.keys(e);Wt(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];cm(t,i),Em(t,e[i])}}break;case"boolean":Mr(t,e?120:121);break;default:Mr(t,127)}};class NO extends M1{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Wt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const OO=t=>{t.count>0&&(gR(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Wt(t.encoder,t.count-2))};class Ww{constructor(){this.encoder=new M1,this.s=0,this.count=0}write(e){this.s===e?this.count++:(OO(this),this.count=1,this.s=e)}toUint8Array(){return OO(this),jl(this.encoder)}}const DO=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);gR(t.encoder,e),t.count>1&&Wt(t.encoder,t.count-2)}};class h2{constructor(){this.encoder=new M1,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(DO(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return DO(this),jl(this.encoder)}}class dX{constructor(){this.sarr=[],this.s="",this.lensE=new Ww}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new M1;return this.sarr.push(this.s),this.s="",cm(e,this.sarr.join("")),g_(e,this.lensE.toUint8Array()),jl(e)}}const rd=t=>new Error(t),Vl=()=>{throw rd("Method unimplemented")},bi=()=>{throw rd("Unexpected case")},EB=rd("Unexpected end of array"),TB=rd("Integer out of Range");class b_{constructor(e){this.arr=e,this.pos=0}}const yR=t=>new b_(t),fX=t=>t.pos!==t.arr.length,hX=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},_s=t=>hX(t,Pn(t)),t1=t=>t.arr[t.pos++],Pn=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&cp)*n,n*=128,i<Qo)return e;if(e>xB)throw TB}throw EB},vR=t=>{let e=t.arr[t.pos++],n=e&dM,r=64;const i=(e&uu)>0?-1:1;if((e&Qo)===0)return i*n;const l=t.arr.length;for(;t.pos<l;){if(e=t.arr[t.pos++],n=n+(e&cp)*r,r*=128,e<Qo)return i*n;if(n>xB)throw TB}throw EB},pX=t=>{let e=Pn(t);if(e===0)return"";{let n=String.fromCodePoint(t1(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(t1(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},mX=t=>Rv.decode(_s(t)),pM=Rv?mX:pX,wR=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},gX=t=>wR(t,4).getFloat32(0,!1),bX=t=>wR(t,8).getFloat64(0,!1),yX=t=>wR(t,8).getBigInt64(0,!1),vX=[t=>{},t=>null,vR,gX,bX,yX,t=>!1,t=>!0,pM,t=>{const e=Pn(t),n={};for(let r=0;r<e;r++){const i=pM(t);n[i]=nC(t)}return n},t=>{const e=Pn(t),n=[];for(let r=0;r<e;r++)n.push(nC(t));return n},_s],nC=t=>vX[127-t1(t)](t);class LO extends b_{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),fX(this)?this.count=Pn(this)+1:this.count=-1),this.count--,this.s}}class Kw extends b_{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=vR(this);const e=SB(this.s);this.count=1,e&&(this.s=-this.s,this.count=Pn(this)+2)}return this.count--,this.s}}class p2 extends b_{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=vR(this),n=e&1;this.diff=pu(e/2),this.count=1,n&&(this.count=Pn(this)+2)}return this.s+=this.diff,this.count--,this.s}}class wX{constructor(e){this.decoder=new Kw(e),this.str=pM(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const kX=crypto.getRandomValues.bind(crypto),CX=Math.random,MB=()=>kX(new Uint32Array(1))[0],_X=t=>t[pu(CX()*t.length)],SX="10000000-1000-4000-8000"+-1e11,xX=()=>SX.replace(/[018]/g,t=>(t^MB()&15>>t/4).toString(16)),EX=Date.now,PO=t=>new Promise(t);Promise.all.bind(Promise);const IO=t=>t===void 0?null:t;class TX{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let AB=new TX,MX=!0;try{typeof localStorage<"u"&&localStorage&&(AB=localStorage,MX=!1)}catch{}const AX=AB,RX=Object.assign,RB=Object.keys,NX=(t,e)=>{for(const n in t)e(t[n],n)},BO=t=>RB(t).length,OX=t=>{for(const e in t)return!1;return!0},NB=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},DX=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),LX=(t,e)=>t===e||BO(t)===BO(e)&&NB(t,(n,r)=>(n!==void 0||DX(e,r))&&e[r]===n),PX=Object.freeze,OB=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&OB(t[e])}return PX(t)},kR=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&kR(t,e,n+1)}},IX=(t,e)=>e.includes(t);var DB={};const Tm=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",LB=typeof window<"u"&&typeof document<"u"&&!Tm;let ea;const BX=()=>{if(ea===void 0)if(Tm){ea=Ls();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&ea.set(e,""),e=r):e!==null&&(ea.set(e,r),e=null)}e!==null&&ea.set(e,"")}else typeof location=="object"?(ea=Ls(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");ea.set(`--${AO(e,"-")}`,n),ea.set(`-${AO(e,"-")}`,n)}})):ea=Ls();return ea},mM=t=>BX().has(t),rC=t=>IO(Tm?DB[t.toUpperCase().replaceAll("-","_")]:AX.getItem(t)),PB=t=>mM("--"+t)||rC(t)!==null;PB("production");const jX=Tm&&IX(DB.FORCE_COLOR,["true","1","2"]),zX=jX||!mM("--no-colors")&&!PB("no-color")&&(!Tm||process.stdout.isTTY)&&(!Tm||mM("--color")||rC("COLORTERM")!==null||(rC("TERM")||"").includes("color")),$X=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=WZ(t[n]);return btoa(e)},HX=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),VX=LB?$X:HX,UX=t=>tX(e=>Em(e,t));class FX{constructor(e,n){this.left=e,this.right=n}}const Uc=(t,e)=>new FX(t,e),GX=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const qX=t=>$Z(t,(e,n)=>`${n}:${e};`).join(""),WX=t=>class{constructor(n){this._=n}destroy(){t(this._)}},KX=WX(clearTimeout),CR=(t,e)=>new KX(setTimeout(e,t)),Cu=Symbol,IB=Cu(),BB=Cu(),ZX=Cu(),XX=Cu(),YX=Cu(),jB=Cu(),QX=Cu(),_R=Cu(),JX=Cu(),eY=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const l=t[r];if(l===void 0)break;if(l.constructor===String||l.constructor===Number)e.push(l);else if(l.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const l=t[r];l instanceof Symbol||n.push(l)}return n},tY={[IB]:Uc("font-weight","bold"),[BB]:Uc("font-weight","normal"),[ZX]:Uc("color","blue"),[YX]:Uc("color","green"),[XX]:Uc("color","grey"),[jB]:Uc("color","red"),[QX]:Uc("color","purple"),[_R]:Uc("color","orange"),[JX]:Uc("color","black")},nY=t=>{var a;t.length===1&&((a=t[0])==null?void 0:a.constructor)===Function&&(t=t[0]());const e=[],n=[],r=Ls();let i=[],l=0;for(;l<t.length;l++){const u=t[l],d=tY[u];if(d!==void 0)r.set(d.left,d.right);else{if(u===void 0)break;if(u.constructor===String||u.constructor===Number){const h=qX(r);l>0||h.length>0?(e.push("%c"+u),n.push(h)):e.push(u)}else break}}for(l>0&&(i=n,i.unshift(e.join("")));l<t.length;l++){const u=t[l];u instanceof Symbol||i.push(u)}return i},zB=zX?nY:eY,rY=(...t)=>{console.log(...zB(t)),HB.forEach(e=>e.print(t))},$B=(...t)=>{console.warn(...zB(t)),t.unshift(_R),HB.forEach(e=>e.print(t))},HB=gp(),VB=t=>({[Symbol.iterator](){return this},next:t}),oY=(t,e)=>VB(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),m2=(t,e)=>VB(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class SR{constructor(e,n){this.clock=e,this.len=n}}class Bm{constructor(){this.clients=new Map}}const od=(t,e,n)=>e.clients.forEach((r,i)=>{const l=t.doc.store.clients.get(i);for(let a=0;a<r.length;a++){const u=r[a];XB(t,l,u.clock,u.len,n)}}),iY=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=pu((n+r)/2),l=t[i],a=l.clock;if(a<=e){if(e<a+l.len)return i;n=i+1}else r=i-1}return null},jm=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&iY(n,e.clock)!==null},xR=t=>{t.clients.forEach(e=>{e.sort((i,l)=>i.clock-l.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],l=e[n];i.clock+i.len>=l.clock?i.len=ga(i.len,l.clock+l.len-i.clock):(r<n&&(e[r]=l),r++)}e.length=r})},gM=t=>{const e=new Bm;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const l=r.slice();for(let a=n+1;a<t.length;a++)VZ(l,t[a].clients.get(i)||[]);e.clients.set(i,l)}});return xR(e),e},n1=(t,e,n,r)=>{xa(t.clients,e,()=>[]).push(new SR(n,r))},UB=()=>new Bm,sY=t=>{const e=UB();return t.clients.forEach((n,r)=>{const i=[];for(let l=0;l<n.length;l++){const a=n[l];if(a.deleted){const u=a.id.clock;let d=a.length;if(l+1<n.length)for(let h=n[l+1];l+1<n.length&&h.deleted;h=n[++l+1])d+=h.length;i.push(new SR(u,d))}}i.length>0&&e.clients.set(r,i)}),e},ER=(t,e)=>{Wt(t.restEncoder,e.clients.size),bp(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),Wt(t.restEncoder,n);const i=r.length;Wt(t.restEncoder,i);for(let l=0;l<i;l++){const a=r[l];t.writeDsClock(a.clock),t.writeDsLen(a.len)}})},lY=t=>{const e=new Bm,n=Pn(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=Pn(t.restDecoder),l=Pn(t.restDecoder);if(l>0){const a=xa(e.clients,i,()=>[]);for(let u=0;u<l;u++)a.push(new SR(t.readDsClock(),t.readDsLen()))}}return e},jO=(t,e,n)=>{const r=new Bm,i=Pn(t.restDecoder);for(let l=0;l<i;l++){t.resetDsCurVal();const a=Pn(t.restDecoder),u=Pn(t.restDecoder),d=n.clients.get(a)||[],h=Jn(n,a);for(let p=0;p<u;p++){const g=t.readDsClock(),y=g+t.readDsLen();if(g<h){h<y&&n1(r,a,h,y-h);let v=ba(d,g),w=d[v];for(!w.deleted&&w.id.clock<g&&(d.splice(v+1,0,cC(e,w,g-w.id.clock)),v++);v<d.length&&(w=d[v++],w.id.clock<y);)w.deleted||(y<w.id.clock+w.length&&d.splice(v,0,cC(e,w,y-w.id.clock)),w.delete(e))}else n1(r,a,g,y-g)}}if(r.clients.size>0){const l=new y_;return Wt(l.restEncoder,0),ER(l,r),l.toUint8Array()}return null},FB=MB;class Tp extends _B{constructor({guid:e=xX(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:l=null,autoLoad:a=!1,shouldLoad:u=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=FB(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new KB,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=u,this.autoLoad=a,this.meta=l,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=PO(h=>{this.on("load",()=>{this.isLoaded=!0,h(this)})});const d=()=>PO(h=>{const p=g=>{(g===void 0||g===!0)&&(this.off("sync",p),h())};this.on("sync",p)});this.on("sync",h=>{h===!1&&this.isSynced&&(this.whenSynced=d()),this.isSynced=h===void 0||h===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=d()}load(){const e=this._item;e!==null&&!this.shouldLoad&&yn(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(bp(this.subdocs).map(e=>e.guid))}transact(e,n=null){return yn(this,e,n)}get(e,n=Lr){const r=xa(this.share,e,()=>{const l=new n;return l._integrate(this,null),l}),i=r.constructor;if(n!==Lr&&i!==n)if(i===Lr){const l=new n;l._map=r._map,r._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=l}),l._start=r._start;for(let a=l._start;a!==null;a=a.right)a.parent=l;return l._length=r._length,this.share.set(e,l),l._integrate(this,null),l}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,fm)}getText(e=""){return this.get(e,id)}getMap(e=""){return this.get(e,Mm)}getXmlElement(e=""){return this.get(e,wo)}getXmlFragment(e=""){return this.get(e,yp)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,bp(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Tp({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,yn(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class aY{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Pn(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Pn(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class oC extends aY{constructor(e){super(e),this.keys=[],Pn(e),this.keyClockDecoder=new p2(_s(e)),this.clientDecoder=new Kw(_s(e)),this.leftClockDecoder=new p2(_s(e)),this.rightClockDecoder=new p2(_s(e)),this.infoDecoder=new LO(_s(e),t1),this.stringDecoder=new wX(_s(e)),this.parentInfoDecoder=new LO(_s(e),t1),this.typeRefDecoder=new Kw(_s(e)),this.lenDecoder=new Kw(_s(e))}readLeftID(){return new um(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new um(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return nC(this.restDecoder)}readBuf(){return _s(this.restDecoder)}readJSON(){return nC(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class cY{constructor(){this.restEncoder=A1()}toUint8Array(){return jl(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Wt(this.restEncoder,e)}writeDsLen(e){Wt(this.restEncoder,e)}}class uY extends cY{writeLeftID(e){Wt(this.restEncoder,e.client),Wt(this.restEncoder,e.clock)}writeRightID(e){Wt(this.restEncoder,e.client),Wt(this.restEncoder,e.clock)}writeClient(e){Wt(this.restEncoder,e)}writeInfo(e){fM(this.restEncoder,e)}writeString(e){cm(this.restEncoder,e)}writeParentInfo(e){Wt(this.restEncoder,e?1:0)}writeTypeRef(e){Wt(this.restEncoder,e)}writeLen(e){Wt(this.restEncoder,e)}writeAny(e){Em(this.restEncoder,e)}writeBuf(e){cs(this.restEncoder,e)}writeJSON(e){cm(this.restEncoder,JSON.stringify(e))}writeKey(e){cm(this.restEncoder,e)}}class dY{constructor(){this.restEncoder=A1(),this.dsCurrVal=0}toUint8Array(){return jl(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,Wt(this.restEncoder,n)}writeDsLen(e){e===0&&bi(),Wt(this.restEncoder,e-1),this.dsCurrVal+=e}}class y_ extends dY{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new h2,this.clientEncoder=new Ww,this.leftClockEncoder=new h2,this.rightClockEncoder=new h2,this.infoEncoder=new NO(fM),this.stringEncoder=new dX,this.parentInfoEncoder=new NO(fM),this.typeRefEncoder=new Ww,this.lenEncoder=new Ww}toUint8Array(){const e=A1();return Wt(e,0),cs(e,this.keyClockEncoder.toUint8Array()),cs(e,this.clientEncoder.toUint8Array()),cs(e,this.leftClockEncoder.toUint8Array()),cs(e,this.rightClockEncoder.toUint8Array()),cs(e,jl(this.infoEncoder)),cs(e,this.stringEncoder.toUint8Array()),cs(e,jl(this.parentInfoEncoder)),cs(e,this.typeRefEncoder.toUint8Array()),cs(e,this.lenEncoder.toUint8Array()),g_(e,jl(this.restEncoder)),jl(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Em(this.restEncoder,e)}writeBuf(e){cs(this.restEncoder,e)}writeJSON(e){Em(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const fY=(t,e,n,r)=>{r=ga(r,e[0].id.clock);const i=ba(e,r);Wt(t.restEncoder,e.length-i),t.writeClient(n),Wt(t.restEncoder,r);const l=e[i];l.write(t,r-l.id.clock);for(let a=i+1;a<e.length;a++)e[a].write(t,0)},GB=(t,e,n)=>{const r=new Map;n.forEach((i,l)=>{Jn(e,l)>i&&r.set(l,i)}),v_(e).forEach((i,l)=>{n.has(l)||r.set(l,0)}),Wt(t.restEncoder,r.size),bp(r.entries()).sort((i,l)=>l[0]-i[0]).forEach(([i,l])=>{fY(t,e.clients.get(i),i,l)})},hY=(t,e)=>{const n=Ls(),r=Pn(t.restDecoder);for(let i=0;i<r;i++){const l=Pn(t.restDecoder),a=new Array(l),u=t.readClient();let d=Pn(t.restDecoder);n.set(u,{i:0,refs:a});for(let h=0;h<l;h++){const p=t.readInfo();switch(m_&p){case 0:{const g=t.readLen();a[h]=new As(Tt(u,d),g),d+=g;break}case 10:{const g=Pn(t.restDecoder);a[h]=new Il(Tt(u,d),g),d+=g;break}default:{const g=(p&(uu|Qo))===0,y=new ln(Tt(u,d),null,(p&Qo)===Qo?t.readLeftID():null,null,(p&uu)===uu?t.readRightID():null,g?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,g&&(p&Jv)===Jv?t.readString():null,y6(t,p));a[h]=y,d+=y.length}}}}return n},pY=(t,e,n)=>{const r=[];let i=bp(n.keys()).sort((v,w)=>v-w);if(i.length===0)return null;const l=()=>{if(i.length===0)return null;let v=n.get(i[i.length-1]);for(;v.refs.length===v.i;)if(i.pop(),i.length>0)v=n.get(i[i.length-1]);else return null;return v};let a=l();if(a===null)return null;const u=new KB,d=new Map,h=(v,w)=>{const C=d.get(v);(C==null||C>w)&&d.set(v,w)};let p=a.refs[a.i++];const g=new Map,y=()=>{for(const v of r){const w=v.id.client,C=n.get(w);C?(C.i--,u.clients.set(w,C.refs.slice(C.i)),n.delete(w),C.i=0,C.refs=[]):u.clients.set(w,[v]),i=i.filter(S=>S!==w)}r.length=0};for(;;){if(p.constructor!==Il){const w=xa(g,p.id.client,()=>Jn(e,p.id.client))-p.id.clock;if(w<0)r.push(p),h(p.id.client,p.id.clock-1),y();else{const C=p.getMissing(t,e);if(C!==null){r.push(p);const S=n.get(C)||{refs:[],i:0};if(S.refs.length===S.i)h(C,Jn(e,C)),y();else{p=S.refs[S.i++];continue}}else(w===0||w<p.length)&&(p.integrate(t,w),g.set(p.id.client,p.id.clock+p.length))}}if(r.length>0)p=r.pop();else if(a!==null&&a.i<a.refs.length)p=a.refs[a.i++];else{if(a=l(),a===null)break;p=a.refs[a.i++]}}if(u.clients.size>0){const v=new y_;return GB(v,u,new Map),Wt(v.restEncoder,0),{missing:d,update:v.toUint8Array()}}return null},mY=(t,e)=>GB(t,e.doc.store,e.beforeState),gY=(t,e,n,r=new oC(t))=>yn(e,i=>{i.local=!1;let l=!1;const a=i.doc,u=a.store,d=hY(r,a),h=pY(i,u,d),p=u.pendingStructs;if(p){for(const[y,v]of p.missing)if(v<Jn(u,y)){l=!0;break}if(h){for(const[y,v]of h.missing){const w=p.missing.get(y);(w==null||w>v)&&p.missing.set(y,v)}p.update=KO([p.update,h.update])}}else u.pendingStructs=h;const g=jO(r,i,u);if(u.pendingDs){const y=new oC(yR(u.pendingDs));Pn(y.restDecoder);const v=jO(y,i,u);g&&v?u.pendingDs=KO([g,v]):u.pendingDs=g||v}else u.pendingDs=g;if(l){const y=u.pendingStructs.update;u.pendingStructs=null,bM(i.doc,y)}},n,!1),bM=(t,e,n,r=oC)=>{const i=yR(e);gY(i,t,n,new r(i))};class bY{constructor(){this.l=[]}}const zO=()=>new bY,$O=(t,e)=>t.l.push(e),HO=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},qB=(t,e,n)=>kR(t.l,[e,n]);class um{constructor(e,n){this.client=e,this.clock=n}}const Yp=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Tt=(t,e)=>new um(t,e),r1=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw bi()},o1=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class i1{constructor(e,n,r,i=0){this.type=e,this.tname=n,this.item=r,this.assoc=i}}const Nv=t=>new i1(t.type==null?null:Tt(t.type.client,t.type.clock),t.tname??null,t.item==null?null:Tt(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class yY{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const vY=(t,e,n=0)=>new yY(t,e,n),bw=(t,e,n)=>{let r=null,i=null;return t._item===null?i=r1(t):r=Tt(t._item.id.client,t._item.id.clock),new i1(r,i,e,n)},g2=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return bw(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return bw(t,Tt(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return bw(t,r.lastId,n);r=r.right}return bw(t,null,n)},wY=(t,e)=>{const n=dm(t,e),r=e.clock-n.id.clock;return{item:n,diff:r}},kY=(t,e,n=!0)=>{const r=e.store,i=t.item,l=t.type,a=t.tname,u=t.assoc;let d=null,h=0;if(i!==null){if(Jn(r,i.client)<=i.clock)return null;const p=n?kM(r,i):wY(r,i),g=p.item;if(!(g instanceof ln))return null;if(d=g.parent,d._item===null||!d._item.deleted){h=g.deleted||!g.countable?0:p.diff+(u>=0?0:1);let y=g.left;for(;y!==null;)!y.deleted&&y.countable&&(h+=y.length),y=y.left}}else{if(a!==null)d=e.get(a);else if(l!==null){if(Jn(r,l.client)<=l.clock)return null;const{item:p}=n?kM(r,l):{item:dm(r,l)};if(p instanceof ln&&p.content instanceof Xl)d=p.content.type;else return null}else throw bi();u>=0?h=d._length:h=0}return vY(d,h,t.assoc)},VO=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Yp(t.item,e.item)&&Yp(t.type,e.type)&&t.assoc===e.assoc;class TR{constructor(e,n){this.ds=e,this.sv=n}}const WB=(t,e)=>new TR(t,e),b2=t=>WB(sY(t.store),v_(t.store)),Vh=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!jm(e.ds,t.id),yM=(t,e)=>{const n=xa(t.meta,yM,gp),r=t.doc.store;n.has(e)||(e.sv.forEach((i,l)=>{i<Jn(r,l)&&ui(t,Tt(l,i))}),od(t,e.ds,i=>{}),n.add(e))};class KB{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const v_=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},Jn=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},ZB=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw bi()}n.push(e)},ba=(t,e)=>{let n=0,r=t.length-1,i=t[r],l=i.id.clock;if(l===e)return r;let a=pu(e/(l+i.length-1)*r);for(;n<=r;){if(i=t[a],l=i.id.clock,l<=e){if(e<l+i.length)return a;n=a+1}else r=a-1;a=pu((n+r)/2)}throw bi()},CY=(t,e)=>{const n=t.clients.get(e.client);return n[ba(n,e.clock)]},dm=CY,vM=(t,e,n)=>{const r=ba(e,n),i=e[r];return i.id.clock<n&&i instanceof ln?(e.splice(r+1,0,cC(t,i,n-i.id.clock)),r+1):r},ui=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[vM(t,n,e.clock)]},UO=(t,e,n)=>{const r=e.clients.get(n.client),i=ba(r,n.clock),l=r[i];return n.clock!==l.id.clock+l.length-1&&l.constructor!==As&&r.splice(i+1,0,cC(t,l,n.clock-l.id.clock+1)),l},_Y=(t,e,n)=>{const r=t.clients.get(e.id.client);r[ba(r,e.id.clock)]=n},XB=(t,e,n,r,i)=>{if(r===0)return;const l=n+r;let a=vM(t,e,n),u;do u=e[a++],l<u.id.clock+u.length&&vM(t,e,l),i(u);while(a<e.length&&e[a].id.clock<l)};class SY{constructor(e,n,r){this.doc=e,this.deleteSet=new Bm,this.beforeState=v_(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const FO=(t,e)=>e.deleteSet.clients.size===0&&!HZ(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(xR(e.deleteSet),mY(t,e),ER(t,e.deleteSet),!0),GO=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&xa(t.changed,e,gp).add(n)},Zw=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof ln&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const l=e-i;return l&&t.splice(e+1-l,l),l},xY=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const l=e.clients.get(r);for(let a=i.length-1;a>=0;a--){const u=i[a],d=u.clock+u.len;for(let h=ba(l,u.clock),p=l[h];h<l.length&&p.id.clock<d;p=l[++h]){const g=l[h];if(u.clock+u.len<=g.id.clock)break;g instanceof ln&&g.deleted&&!g.keep&&n(g)&&g.gc(e,!1)}}}},EY=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let l=n.length-1;l>=0;l--){const a=n[l],u=cu(i.length-1,1+ba(i,a.clock+a.len-1));for(let d=u,h=i[d];d>0&&h.id.clock>=a.clock;h=i[d])d-=1+Zw(i,d)}})},YB=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,l=n.deleteSet,a=n._mergeStructs;try{xR(l),n.afterState=v_(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const u=[];n.changed.forEach((d,h)=>u.push(()=>{(h._item===null||!h._item.deleted)&&h._callObserver(n,d)})),u.push(()=>{n.changedParentTypes.forEach((d,h)=>{h._dEH.l.length>0&&(h._item===null||!h._item.deleted)&&(d=d.filter(p=>p.target._item===null||!p.target._item.deleted),d.forEach(p=>{p.currentTarget=h,p._path=null}),d.sort((p,g)=>p.path.length-g.path.length),qB(h._dEH,d,n))})}),u.push(()=>r.emit("afterTransaction",[n,r])),kR(u,[]),n._needFormattingCleanup&&qY(n)}finally{r.gc&&xY(l,i,r.gcFilter),EY(l,i),n.afterState.forEach((p,g)=>{const y=n.beforeState.get(g)||0;if(y!==p){const v=i.clients.get(g),w=ga(ba(v,y),1);for(let C=v.length-1;C>=w;)C-=1+Zw(v,C)}});for(let p=a.length-1;p>=0;p--){const{client:g,clock:y}=a[p].id,v=i.clients.get(g),w=ba(v,y);w+1<v.length&&Zw(v,w+1)>1||w>0&&Zw(v,w)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(rY(_R,IB,"[yjs] ",BB,jB,"Changed the client-id because another client seems to be using it."),r.clientID=FB()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const p=new uY;FO(p,n)&&r.emit("update",[p.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const p=new y_;FO(p,n)&&r.emit("updateV2",[p.toUint8Array(),n.origin,r,n])}const{subdocsAdded:u,subdocsLoaded:d,subdocsRemoved:h}=n;(u.size>0||h.size>0||d.size>0)&&(u.forEach(p=>{p.clientID=r.clientID,p.collectionid==null&&(p.collectionid=r.collectionid),r.subdocs.add(p)}),h.forEach(p=>r.subdocs.delete(p)),r.emit("subdocs",[{loaded:d,added:u,removed:h},r,n]),h.forEach(p=>p.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):YB(t,e+1)}}},yn=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let l=!1,a=null;t._transaction===null&&(l=!0,t._transaction=new SY(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{a=e(t._transaction)}finally{if(l){const u=t._transaction===i[0];t._transaction=null,u&&YB(i,0)}}return a};class TY{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const qO=(t,e,n)=>{od(t,n.deletions,r=>{r instanceof ln&&e.scope.some(i=>i===t.doc||o1(i,r))&&OR(r,!1)})},WO=(t,e,n)=>{let r=null;const i=t.doc,l=t.scope;yn(i,u=>{for(;e.length>0&&t.currStackItem===null;){const d=i.store,h=e.pop(),p=new Set,g=[];let y=!1;od(u,h.insertions,v=>{if(v instanceof ln){if(v.redone!==null){let{item:w,diff:C}=kM(d,v.id);C>0&&(w=ui(u,Tt(w.id.client,w.id.clock+C))),v=w}!v.deleted&&l.some(w=>w===u.doc||o1(w,v))&&g.push(v)}}),od(u,h.deletions,v=>{v instanceof ln&&l.some(w=>w===u.doc||o1(w,v))&&!jm(h.insertions,v.id)&&p.add(v)}),p.forEach(v=>{y=b6(u,v,p,h.insertions,t.ignoreRemoteMapChanges,t)!==null||y});for(let v=g.length-1;v>=0;v--){const w=g[v];t.deleteFilter(w)&&(w.delete(u),y=!0)}t.currStackItem=y?h:null}u.changed.forEach((d,h)=>{d.has(null)&&h._searchMarker&&(h._searchMarker.length=0)}),r=u},t);const a=t.currStackItem;if(a!=null){const u=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:a,type:n,changedParentTypes:u,origin:t},t]),t.currStackItem=null}return a};class QB extends _B{constructor(e,{captureTimeout:n=500,captureTransaction:r=d=>!0,deleteFilter:i=()=>!0,trackedOrigins:l=new Set([null]),ignoreRemoteMapChanges:a=!1,doc:u=uM(e)?e[0].doc:e instanceof Tp?e:e.doc}={}){super(),this.scope=[],this.doc=u,this.addToScope(e),this.deleteFilter=i,l.add(this),this.trackedOrigins=l,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=a,this.captureTimeout=n,this.afterTransactionHandler=d=>{if(!this.captureTransaction(d)||!this.scope.some(S=>d.changedParentTypes.has(S)||S===this.doc)||!this.trackedOrigins.has(d.origin)&&(!d.origin||!this.trackedOrigins.has(d.origin.constructor)))return;const h=this.undoing,p=this.redoing,g=h?this.redoStack:this.undoStack;h?this.stopCapturing():p||this.clear(!1,!0);const y=new Bm;d.afterState.forEach((S,E)=>{const A=d.beforeState.get(E)||0,N=S-A;N>0&&n1(y,E,A,N)});const v=EX();let w=!1;if(this.lastChange>0&&v-this.lastChange<this.captureTimeout&&g.length>0&&!h&&!p){const S=g[g.length-1];S.deletions=gM([S.deletions,d.deleteSet]),S.insertions=gM([S.insertions,y])}else g.push(new TY(d.deleteSet,y)),w=!0;!h&&!p&&(this.lastChange=v),od(d,d.deleteSet,S=>{S instanceof ln&&this.scope.some(E=>E===d.doc||o1(E,S))&&OR(S,!0)});const C=[{stackItem:g[g.length-1],origin:d.origin,type:h?"redo":"undo",changedParentTypes:d.changedParentTypes},this];w?this.emit("stack-item-added",C):this.emit("stack-item-updated",C)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=uM(e)?e:[e],e.forEach(r=>{n.has(r)||(n.add(r),(r instanceof Lr?r.doc!==this.doc:r!==this.doc)&&$B("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(i=>qO(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>qO(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=WO(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=WO(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*MY(t){const e=Pn(t.restDecoder);for(let n=0;n<e;n++){const r=Pn(t.restDecoder),i=t.readClient();let l=Pn(t.restDecoder);for(let a=0;a<r;a++){const u=t.readInfo();if(u===10){const d=Pn(t.restDecoder);yield new Il(Tt(i,l),d),l+=d}else if((m_&u)!==0){const d=(u&(uu|Qo))===0,h=new ln(Tt(i,l),null,(u&Qo)===Qo?t.readLeftID():null,null,(u&uu)===uu?t.readRightID():null,d?t.readParentInfo()?t.readString():t.readLeftID():null,d&&(u&Jv)===Jv?t.readString():null,y6(t,u));yield h,l+=h.length}else{const d=t.readLen();yield new As(Tt(i,l),d),l+=d}}}}class AY{constructor(e,n){this.gen=MY(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Il);return this.curr}}class RY{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const NY=(t,e)=>{if(t.constructor===As){const{client:n,clock:r}=t.id;return new As(Tt(n,r+e),t.length-e)}else if(t.constructor===Il){const{client:n,clock:r}=t.id;return new Il(Tt(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new ln(Tt(r,i+e),null,Tt(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},KO=(t,e=oC,n=y_)=>{if(t.length===1)return t[0];const r=t.map(p=>new e(yR(p)));let i=r.map(p=>new AY(p,!0)),l=null;const a=new n,u=new RY(a);for(;i=i.filter(y=>y.curr!==null),i.sort((y,v)=>{if(y.curr.id.client===v.curr.id.client){const w=y.curr.id.clock-v.curr.id.clock;return w===0?y.curr.constructor===v.curr.constructor?0:y.curr.constructor===Il?1:-1:w}else return v.curr.id.client-y.curr.id.client}),i.length!==0;){const p=i[0],g=p.curr.id.client;if(l!==null){let y=p.curr,v=!1;for(;y!==null&&y.id.clock+y.length<=l.struct.id.clock+l.struct.length&&y.id.client>=l.struct.id.client;)y=p.next(),v=!0;if(y===null||y.id.client!==g||v&&y.id.clock>l.struct.id.clock+l.struct.length)continue;if(g!==l.struct.id.client)Z0(u,l.struct,l.offset),l={struct:y,offset:0},p.next();else if(l.struct.id.clock+l.struct.length<y.id.clock)if(l.struct.constructor===Il)l.struct.length=y.id.clock+y.length-l.struct.id.clock;else{Z0(u,l.struct,l.offset);const w=y.id.clock-l.struct.id.clock-l.struct.length;l={struct:new Il(Tt(g,l.struct.id.clock+l.struct.length),w),offset:0}}else{const w=l.struct.id.clock+l.struct.length-y.id.clock;w>0&&(l.struct.constructor===Il?l.struct.length-=w:y=NY(y,w)),l.struct.mergeWith(y)||(Z0(u,l.struct,l.offset),l={struct:y,offset:0},p.next())}}else l={struct:p.curr,offset:0},p.next();for(let y=p.curr;y!==null&&y.id.client===g&&y.id.clock===l.struct.id.clock+l.struct.length&&y.constructor!==Il;y=p.next())Z0(u,l.struct,l.offset),l={struct:y,offset:0}}l!==null&&(Z0(u,l.struct,l.offset),l=null),OY(u);const d=r.map(p=>lY(p)),h=gM(d);return ER(a,h),a.toUint8Array()},JB=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:jl(t.encoder.restEncoder)}),t.encoder.restEncoder=A1(),t.written=0)},Z0=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&JB(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Wt(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},OY=t=>{JB(t);const e=t.encoder.restEncoder;Wt(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];Wt(e,r.written),g_(e,r.restEncoder)}},ZO="You must not compute changes after the event-handler fired.";class w_{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=DY(this.currentTarget,this.target))}deletes(e){return jm(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw rd(ZO);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const l=n._map.get(i);let a,u;if(this.adds(l)){let d=l.left;for(;d!==null&&this.adds(d);)d=d.left;if(this.deletes(l))if(d!==null&&this.deletes(d))a="delete",u=u2(d.content.getContent());else return;else d!==null&&this.deletes(d)?(a="update",u=u2(d.content.getContent())):(a="add",u=void 0)}else if(this.deletes(l))a="delete",u=u2(l.content.getContent());else return;e.set(i,{action:a,oldValue:u})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw rd(ZO);const n=this.target,r=gp(),i=gp(),l=[];if(e={added:r,deleted:i,delta:l,keys:this.keys},this.transaction.changed.get(n).has(null)){let u=null;const d=()=>{u&&l.push(u)};for(let h=n._start;h!==null;h=h.right)h.deleted?this.deletes(h)&&!this.adds(h)&&((u===null||u.delete===void 0)&&(d(),u={delete:0}),u.delete+=h.length,i.add(h)):this.adds(h)?((u===null||u.insert===void 0)&&(d(),u={insert:[]}),u.insert=u.insert.concat(h.content.getContent()),r.add(h)):((u===null||u.retain===void 0)&&(d(),u={retain:0}),u.retain+=h.length);u!==null&&u.retain===void 0&&d()}this._changes=e}return e}}const DY=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},ko=()=>{$B("Invalid access: Add Yjs type to a document before reading data.")},e6=80;let MR=0;class LY{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=MR++}}const PY=t=>{t.timestamp=MR++},t6=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=MR++},IY=(t,e,n)=>{if(t.length>=e6){const r=t.reduce((i,l)=>i.timestamp<l.timestamp?i:l);return t6(r,e,n),r}else{const r=new LY(e,n);return t.push(r),r}},k_=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((l,a)=>qw(e-l.index)<qw(e-a.index)?l:a);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,PY(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&qw(n.index-i)<r.parent.length/e6?(t6(n,r,i),n):IY(t._searchMarker,r,i)},s1=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let l=i.p;for(l.marker=!1;l&&(l.deleted||!l.countable);)l=l.left,l&&!l.deleted&&l.countable&&(i.index-=l.length);if(l===null||l.marker===!0){t.splice(r,1);continue}i.p=l,l.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=ga(e,i.index+n))}},C_=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;xa(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;qB(r._eH,n,e)};class Lr{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=zO(),this._dEH=zO(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Vl()}clone(){throw Vl()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){$O(this._eH,e)}observeDeep(e){$O(this._dEH,e)}unobserve(e){HO(this._eH,e)}unobserveDeep(e){HO(this._dEH,e)}toJSON(){}}const n6=(t,e,n)=>{t.doc??ko(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let l=t._start;for(;l!==null&&r>0;){if(l.countable&&!l.deleted){const a=l.content.getContent();if(a.length<=e)e-=a.length;else{for(let u=e;u<a.length&&r>0;u++)i.push(a[u]),r--;e=0}}l=l.right}return i},r6=t=>{t.doc??ko();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},o6=(t,e)=>{const n=[];let r=t._start;for(;r!==null;){if(r.countable&&Vh(r,e)){const i=r.content.getContent();for(let l=0;l<i.length;l++)n.push(i[l])}r=r.right}return n},l1=(t,e)=>{let n=0,r=t._start;for(t.doc??ko();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let l=0;l<i.length;l++)e(i[l],n++,t)}r=r.right}},i6=(t,e)=>{const n=[];return l1(t,(r,i)=>{n.push(e(r,i,t))}),n},BY=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},s6=(t,e)=>{t.doc??ko();const n=k_(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},iC=(t,e,n,r)=>{let i=n;const l=t.doc,a=l.clientID,u=l.store,d=n===null?e._start:n.right;let h=[];const p=()=>{h.length>0&&(i=new ln(Tt(a,Jn(u,a)),i,i&&i.lastId,d,d&&d.id,e,null,new vp(h)),i.integrate(t,0),h=[])};r.forEach(g=>{if(g===null)h.push(g);else switch(g.constructor){case Number:case Object:case Boolean:case Array:case String:h.push(g);break;default:switch(p(),g.constructor){case Uint8Array:case ArrayBuffer:i=new ln(Tt(a,Jn(u,a)),i,i&&i.lastId,d,d&&d.id,e,null,new R1(new Uint8Array(g))),i.integrate(t,0);break;case Tp:i=new ln(Tt(a,Jn(u,a)),i,i&&i.lastId,d,d&&d.id,e,null,new N1(g)),i.integrate(t,0);break;default:if(g instanceof Lr)i=new ln(Tt(a,Jn(u,a)),i,i&&i.lastId,d,d&&d.id,e,null,new Xl(g)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),p()},l6=()=>rd("Length exceeded!"),a6=(t,e,n,r)=>{if(n>e._length)throw l6();if(n===0)return e._searchMarker&&s1(e._searchMarker,n,r.length),iC(t,e,null,r);const i=n,l=k_(e,n);let a=e._start;for(l!==null&&(a=l.p,n-=l.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&ui(t,Tt(a.id.client,a.id.clock+n));break}n-=a.length}return e._searchMarker&&s1(e._searchMarker,i,r.length),iC(t,e,a,r)},jY=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((l,a)=>a.index>l.index?a:l,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return iC(t,e,i,n)},c6=(t,e,n,r)=>{if(r===0)return;const i=n,l=r,a=k_(e,n);let u=e._start;for(a!==null&&(u=a.p,n-=a.index);u!==null&&n>0;u=u.right)!u.deleted&&u.countable&&(n<u.length&&ui(t,Tt(u.id.client,u.id.clock+n)),n-=u.length);for(;r>0&&u!==null;)u.deleted||(r<u.length&&ui(t,Tt(u.id.client,u.id.clock+r)),u.delete(t),r-=u.length),u=u.right;if(r>0)throw l6();e._searchMarker&&s1(e._searchMarker,i,-l+r)},sC=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},AR=(t,e,n,r)=>{const i=e._map.get(n)||null,l=t.doc,a=l.clientID;let u;if(r==null)u=new vp([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:u=new vp([r]);break;case Uint8Array:u=new R1(r);break;case Tp:u=new N1(r);break;default:if(r instanceof Lr)u=new Xl(r);else throw new Error("Unexpected content type")}new ln(Tt(a,Jn(l.store,a)),i,i&&i.lastId,null,null,e,n,u).integrate(t,0)},RR=(t,e)=>{t.doc??ko();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},u6=t=>{const e={};return t.doc??ko(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},d6=(t,e)=>{t.doc??ko();const n=t._map.get(e);return n!==void 0&&!n.deleted},zY=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let l=r;for(;l!==null&&(!e.sv.has(l.id.client)||l.id.clock>=(e.sv.get(l.id.client)||0));)l=l.left;l!==null&&Vh(l,e)&&(n[i]=l.content.getContent()[l.length-1])}),n},yw=t=>(t.doc??ko(),oY(t._map.entries(),e=>!e[1].deleted));class $Y extends w_{}class fm extends Lr{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new fm;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new fm}clone(){const e=new fm;return e.insert(0,this.toArray().map(n=>n instanceof Lr?n.clone():n)),e}get length(){return this.doc??ko(),this._length}_callObserver(e,n){super._callObserver(e,n),C_(this,e,new $Y(this,e))}insert(e,n){this.doc!==null?yn(this.doc,r=>{a6(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?yn(this.doc,n=>{jY(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?yn(this.doc,r=>{c6(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return s6(this,e)}toArray(){return r6(this)}slice(e=0,n=this.length){return n6(this,e,n)}toJSON(){return this.map(e=>e instanceof Lr?e.toJSON():e)}map(e){return i6(this,e)}forEach(e){l1(this,e)}[Symbol.iterator](){return BY(this)}_write(e){e.writeTypeRef(dQ)}}const HY=t=>new fm;class VY extends w_{constructor(e,n,r){super(e,n),this.keysChanged=r}}class Mm extends Lr{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new Mm}clone(){const e=new Mm;return this.forEach((n,r)=>{e.set(r,n instanceof Lr?n.clone():n)}),e}_callObserver(e,n){C_(this,e,new VY(this,e,n))}toJSON(){this.doc??ko();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof Lr?i.toJSON():i}}),e}get size(){return[...yw(this)].length}keys(){return m2(yw(this),e=>e[0])}values(){return m2(yw(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return m2(yw(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??ko(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?yn(this.doc,n=>{sC(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?yn(this.doc,r=>{AR(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return RR(this,e)}has(e){return d6(this,e)}clear(){this.doc!==null?yn(this.doc,e=>{this.forEach(function(n,r,i){sC(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(fQ)}}const UY=t=>new Mm,Wu=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&LX(t,e);class wM{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&bi(),this.right.content.constructor){case lr:this.right.deleted||zm(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const XO=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case lr:e.right.deleted||zm(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&ui(t,Tt(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},vw=(t,e,n,r)=>{const i=new Map,l=r?k_(e,n):null;if(l){const a=new wM(l.p.left,l.p,l.index,i);return XO(t,a,n-l.index)}else{const a=new wM(null,e._start,0,i);return XO(t,a,n)}},f6=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===lr&&Wu(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,l=i.clientID;r.forEach((a,u)=>{const d=n.left,h=n.right,p=new ln(Tt(l,Jn(i.store,l)),d,d&&d.lastId,h,h&&h.id,e,null,new lr(u,a));p.integrate(t,0),n.right=p,n.forward()})},zm=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},h6=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===lr&&Wu(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},p6=(t,e,n,r)=>{const i=t.doc,l=i.clientID,a=new Map;for(const u in r){const d=r[u],h=n.currentAttributes.get(u)??null;if(!Wu(h,d)){a.set(u,h);const{left:p,right:g}=n;n.right=new ln(Tt(l,Jn(i.store,l)),p,p&&p.lastId,g,g&&g.id,e,null,new lr(u,d)),n.right.integrate(t,0),n.forward()}}return a},y2=(t,e,n,r,i)=>{n.currentAttributes.forEach((y,v)=>{i[v]===void 0&&(i[v]=null)});const l=t.doc,a=l.clientID;h6(n,i);const u=p6(t,e,n,i),d=r.constructor===String?new Gl(r):r instanceof Lr?new Xl(r):new Mp(r);let{left:h,right:p,index:g}=n;e._searchMarker&&s1(e._searchMarker,n.index,d.getLength()),p=new ln(Tt(a,Jn(l.store,a)),h,h&&h.lastId,p,p&&p.id,e,null,d),p.integrate(t,0),n.right=p,n.index=g,n.forward(),f6(t,e,n,u)},YO=(t,e,n,r,i)=>{const l=t.doc,a=l.clientID;h6(n,i);const u=p6(t,e,n,i);e:for(;n.right!==null&&(r>0||u.size>0&&(n.right.deleted||n.right.content.constructor===lr));){if(!n.right.deleted)switch(n.right.content.constructor){case lr:{const{key:d,value:h}=n.right.content,p=i[d];if(p!==void 0){if(Wu(p,h))u.delete(d);else{if(r===0)break e;u.set(d,h)}n.right.delete(t)}else n.currentAttributes.set(d,h);break}default:r<n.right.length&&ui(t,Tt(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let d="";for(;r>0;r--)d+=`
`;n.right=new ln(Tt(a,Jn(l.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Gl(d)),n.right.integrate(t,0),n.forward()}f6(t,e,n,u)},m6=(t,e,n,r,i)=>{let l=e;const a=Ls();for(;l&&(!l.countable||l.deleted);){if(!l.deleted&&l.content.constructor===lr){const h=l.content;a.set(h.key,h)}l=l.right}let u=0,d=!1;for(;e!==l;){if(n===e&&(d=!0),!e.deleted){const h=e.content;switch(h.constructor){case lr:{const{key:p,value:g}=h,y=r.get(p)??null;(a.get(p)!==h||y===g)&&(e.delete(t),u++,!d&&(i.get(p)??null)===g&&y!==g&&(y===null?i.delete(p):i.set(p,y))),!d&&!e.deleted&&zm(i,h);break}}}e=e.right}return u},FY=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===lr){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},GY=t=>{let e=0;return yn(t.doc,n=>{let r=t._start,i=t._start,l=Ls();const a=cM(l);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case lr:zm(a,i.content);break;default:e+=m6(n,r,i,l,a),l=cM(a),r=i;break}i=i.right}}),e},qY=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const l=t.beforeState.get(r)||0;i!==l&&XB(t,n.store.clients.get(r),l,i,a=>{!a.deleted&&a.content.constructor===lr&&a.constructor!==As&&e.add(a.parent)})}yn(n,r=>{od(t,t.deleteSet,i=>{if(i instanceof As||!i.parent._hasFormatting||e.has(i.parent))return;const l=i.parent;i.content.constructor===lr?e.add(l):FY(r,i)});for(const i of e)GY(i)})},QO=(t,e,n)=>{const r=n,i=cM(e.currentAttributes),l=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Xl:case Mp:case Gl:n<e.right.length&&ui(t,Tt(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}l&&m6(t,l,e.right,i,e.currentAttributes);const a=(e.left||e.right).parent;return a._searchMarker&&s1(a._searchMarker,e.index,-r+n),e};class WY extends w_{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];yn(e,r=>{const i=new Map,l=new Map;let a=this.target._start,u=null;const d={};let h="",p=0,g=0;const y=()=>{if(u!==null){let v=null;switch(u){case"delete":g>0&&(v={delete:g}),g=0;break;case"insert":(typeof h=="object"||h.length>0)&&(v={insert:h},i.size>0&&(v.attributes={},i.forEach((w,C)=>{w!==null&&(v.attributes[C]=w)}))),h="";break;case"retain":p>0&&(v={retain:p},OX(d)||(v.attributes=RX({},d))),p=0;break}v&&n.push(v),u=null}};for(;a!==null;){switch(a.content.constructor){case Xl:case Mp:this.adds(a)?this.deletes(a)||(y(),u="insert",h=a.content.getContent()[0],y()):this.deletes(a)?(u!=="delete"&&(y(),u="delete"),g+=1):a.deleted||(u!=="retain"&&(y(),u="retain"),p+=1);break;case Gl:this.adds(a)?this.deletes(a)||(u!=="insert"&&(y(),u="insert"),h+=a.content.str):this.deletes(a)?(u!=="delete"&&(y(),u="delete"),g+=a.length):a.deleted||(u!=="retain"&&(y(),u="retain"),p+=a.length);break;case lr:{const{key:v,value:w}=a.content;if(this.adds(a)){if(!this.deletes(a)){const C=i.get(v)??null;Wu(C,w)?w!==null&&a.delete(r):(u==="retain"&&y(),Wu(w,l.get(v)??null)?delete d[v]:d[v]=w)}}else if(this.deletes(a)){l.set(v,w);const C=i.get(v)??null;Wu(C,w)||(u==="retain"&&y(),d[v]=C)}else if(!a.deleted){l.set(v,w);const C=d[v];C!==void 0&&(Wu(C,w)?C!==null&&a.delete(r):(u==="retain"&&y(),w===null?delete d[v]:d[v]=w))}a.deleted||(u==="insert"&&y(),zm(i,a.content));break}}a=a.right}for(y();n.length>0;){const v=n[n.length-1];if(v.retain!==void 0&&v.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class id extends Lr{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??ko(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new id}clone(){const e=new id;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new WY(this,e,n);C_(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??ko();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Gl&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?yn(this.doc,r=>{const i=new wM(null,this._start,0,new Map);for(let l=0;l<e.length;l++){const a=e[l];if(a.insert!==void 0){const u=!n&&typeof a.insert=="string"&&l===e.length-1&&i.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof u!="string"||u.length>0)&&y2(r,this,i,u,a.attributes||{})}else a.retain!==void 0?YO(r,this,i,a.retain,a.attributes||{}):a.delete!==void 0&&QO(r,i,a.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??ko();const i=[],l=new Map,a=this.doc;let u="",d=this._start;function h(){if(u.length>0){const g={};let y=!1;l.forEach((w,C)=>{y=!0,g[C]=w});const v={insert:u};y&&(v.attributes=g),i.push(v),u=""}}const p=()=>{for(;d!==null;){if(Vh(d,e)||n!==void 0&&Vh(d,n))switch(d.content.constructor){case Gl:{const g=l.get("ychange");e!==void 0&&!Vh(d,e)?(g===void 0||g.user!==d.id.client||g.type!=="removed")&&(h(),l.set("ychange",r?r("removed",d.id):{type:"removed"})):n!==void 0&&!Vh(d,n)?(g===void 0||g.user!==d.id.client||g.type!=="added")&&(h(),l.set("ychange",r?r("added",d.id):{type:"added"})):g!==void 0&&(h(),l.delete("ychange")),u+=d.content.str;break}case Xl:case Mp:{h();const g={insert:d.content.getContent()[0]};if(l.size>0){const y={};g.attributes=y,l.forEach((v,w)=>{y[w]=v})}i.push(g);break}case lr:Vh(d,e)&&(h(),zm(l,d.content));break}d=d.right}h()};return e||n?yn(a,g=>{e&&yM(g,e),n&&yM(g,n),p()},"cleanup"):p(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?yn(i,l=>{const a=vw(l,this,e,!r);r||(r={},a.currentAttributes.forEach((u,d)=>{r[d]=u})),y2(l,this,a,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?yn(i,l=>{const a=vw(l,this,e,!r);y2(l,this,a,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?yn(r,i=>{QO(i,vw(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?yn(i,l=>{const a=vw(l,this,e,!1);a.right!==null&&YO(l,this,a,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?yn(this.doc,n=>{sC(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?yn(this.doc,r=>{AR(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return RR(this,e)}getAttributes(){return u6(this)}_write(e){e.writeTypeRef(hQ)}}const KY=t=>new id;class v2{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??ko()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===wo||n.constructor===yp)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class yp extends Lr{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new yp}clone(){const e=new yp;return e.insert(0,this.toArray().map(n=>n instanceof Lr?n.clone():n)),e}get length(){return this.doc??ko(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new v2(this,e)}querySelector(e){e=e.toUpperCase();const r=new v2(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),bp(new v2(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){C_(this,e,new YY(this,n,e))}toString(){return i6(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),l1(this,l=>{i.insertBefore(l.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?yn(this.doc,r=>{a6(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)yn(this.doc,r=>{const i=e&&e instanceof Lr?e._item:e;iC(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(l=>l===e)+1;if(i===0&&e!==null)throw rd("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?yn(this.doc,r=>{c6(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return r6(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return s6(this,e)}slice(e=0,n=this.length){return n6(this,e,n)}forEach(e){l1(this,e)}_write(e){e.writeTypeRef(mQ)}}const ZY=t=>new yp;class wo extends yp{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new wo(this.nodeName)}clone(){const e=new wo(this.nodeName),n=this.getAttributes();return NX(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof Lr?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const u in e)r.push(u);r.sort();const i=r.length;for(let u=0;u<i;u++){const d=r[u];n.push(d+'="'+e[d]+'"')}const l=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${l}${a}>${super.toString()}</${l}>`}removeAttribute(e){this.doc!==null?yn(this.doc,n=>{sC(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?yn(this.doc,r=>{AR(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return RR(this,e)}hasAttribute(e){return d6(this,e)}getAttributes(e){return e?zY(this,e):u6(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),l=this.getAttributes();for(const a in l){const u=l[a];typeof u=="string"&&i.setAttribute(a,u)}return l1(this,a=>{i.appendChild(a.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(pQ),e.writeKey(this.nodeName)}}const XY=t=>new wo(t.readKey());class YY extends w_{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class lC extends Mm{constructor(e){super(),this.hookName=e}_copy(){return new lC(this.hookName)}clone(){const e=new lC(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let l;return i!==void 0?l=i.createDom(this):l=document.createElement(this.hookName),l.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(l,this),l}_write(e){e.writeTypeRef(gQ),e.writeKey(this.hookName)}}const QY=t=>new lC(t.readKey());class hi extends id{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new hi}clone(){const e=new hi;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const l=[];for(const a in e.attributes[i])l.push({key:a,value:e.attributes[i][a]});l.sort((a,u)=>a.key<u.key?-1:1),n.push({nodeName:i,attrs:l})}n.sort((i,l)=>i.nodeName<l.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const l=n[i];r+=`<${l.nodeName}`;for(let a=0;a<l.attrs.length;a++){const u=l.attrs[a];r+=` ${u.key}="${u.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(bQ)}}const JY=t=>new hi;class NR{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Vl()}mergeWith(e){return!1}write(e,n,r){throw Vl()}integrate(e,n){throw Vl()}}const eQ=0;class As extends NR{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),ZB(e.doc.store,this)}write(e,n){e.writeInfo(eQ),e.writeLen(this.length-n)}getMissing(e,n){return null}}class R1{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new R1(this.content)}splice(e){throw Vl()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const tQ=t=>new R1(t.readBuf());class a1{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new a1(this.len)}splice(e){const n=new a1(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){n1(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const nQ=t=>new a1(t.readLen()),g6=(t,e)=>new Tp({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class N1{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new N1(g6(this.doc.guid,this.opts))}splice(e){throw Vl()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const rQ=t=>new N1(g6(t.readString(),t.readAny()));class Mp{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Mp(this.embed)}splice(e){throw Vl()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const oQ=t=>new Mp(t.readJSON());class lr{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new lr(this.key,this.value)}splice(e){throw Vl()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const iQ=t=>new lr(t.readKey(),t.readJSON());class aC{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new aC(this.arr)}splice(e){const n=new aC(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const l=this.arr[i];e.writeString(l===void 0?"undefined":JSON.stringify(l))}}getRef(){return 2}}const sQ=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new aC(n)},lQ=rC("node_env")==="development";class vp{constructor(e){this.arr=e,lQ&&OB(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new vp(this.arr)}splice(e){const n=new vp(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const l=this.arr[i];e.writeAny(l)}}getRef(){return 8}}const aQ=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new vp(n)};class Gl{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Gl(this.str)}splice(e){const n=new Gl(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const cQ=t=>new Gl(t.readString()),uQ=[HY,UY,KY,XY,ZY,QY,JY],dQ=0,fQ=1,hQ=2,pQ=3,mQ=4,gQ=5,bQ=6;class Xl{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Xl(this.type._copy())}splice(e){throw Vl()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const yQ=t=>new Xl(uQ[t.readTypeRef()](t)),kM=(t,e)=>{let n=e,r=0,i;do r>0&&(n=Tt(n.client,n.clock+r)),i=dm(t,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof ln);return{item:i,diff:r}},OR=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},cC=(t,e,n)=>{const{client:r,clock:i}=e.id,l=new ln(Tt(r,i+n),e,Tt(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&l.markDeleted(),e.keep&&(l.keep=!0),e.redone!==null&&(l.redone=Tt(e.redone.client,e.redone.clock+n)),e.right=l,l.right!==null&&(l.right.left=l),t._mergeStructs.push(l),l.parentSub!==null&&l.right===null&&l.parent._map.set(l.parentSub,l),e.length=n,l},JO=(t,e)=>UZ(t,n=>jm(n.deletions,e)),b6=(t,e,n,r,i,l)=>{const a=t.doc,u=a.store,d=a.clientID,h=e.redone;if(h!==null)return ui(t,h);let p=e.parent._item,g=null,y;if(p!==null&&p.deleted===!0){if(p.redone===null&&(!n.has(p)||b6(t,p,n,r,i,l)===null))return null;for(;p.redone!==null;)p=ui(t,p.redone)}const v=p===null?e.parent:p.content.type;if(e.parentSub===null){for(g=e.left,y=e;g!==null;){let E=g;for(;E!==null&&E.parent._item!==p;)E=E.redone===null?null:ui(t,E.redone);if(E!==null&&E.parent._item===p){g=E;break}g=g.left}for(;y!==null;){let E=y;for(;E!==null&&E.parent._item!==p;)E=E.redone===null?null:ui(t,E.redone);if(E!==null&&E.parent._item===p){y=E;break}y=y.right}}else if(y=null,e.right&&!i){for(g=e;g!==null&&g.right!==null&&(g.right.redone||jm(r,g.right.id)||JO(l.undoStack,g.right.id)||JO(l.redoStack,g.right.id));)for(g=g.right;g.redone;)g=ui(t,g.redone);if(g&&g.right!==null)return null}else g=v._map.get(e.parentSub)||null;const w=Jn(u,d),C=Tt(d,w),S=new ln(C,g,g&&g.lastId,y,y&&y.id,v,e.parentSub,e.content.copy());return e.redone=C,OR(S,!0),S.integrate(t,0),S};class ln extends NR{constructor(e,n,r,i,l,a,u,d){super(e,d.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=l,this.parent=a,this.parentSub=u,this.redone=null,this.content=d,this.info=this.content.isCountable()?MO:0}set marker(e){(this.info&f2)>0!==e&&(this.info^=f2)}get marker(){return(this.info&f2)>0}get keep(){return(this.info&TO)>0}set keep(e){this.keep!==e&&(this.info^=TO)}get countable(){return(this.info&MO)>0}get deleted(){return(this.info&d2)>0}set deleted(e){this.deleted!==e&&(this.info^=d2)}markDeleted(){this.info|=d2}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Jn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Jn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===um&&this.id.client!==this.parent.client&&this.parent.clock>=Jn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=UO(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=ui(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===As||this.right&&this.right.constructor===As)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===ln?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===ln&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===um){const r=dm(n,this.parent);r.constructor===As?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=UO(e,e.doc.store,Tt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const l=new Set,a=new Set;for(;i!==null&&i!==this.right;){if(a.add(i),l.add(i),Yp(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,l.clear();else if(Yp(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&a.has(dm(e.doc.store,i.origin)))l.has(dm(e.doc.store,i.origin))||(r=i,l.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),ZB(e.doc.store,this),this.content.integrate(e,this),GO(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new As(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Tt(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Yp(e.origin,this.lastId)&&this.right===e&&Yp(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),n1(e.deleteSet,this.id.client,this.id.clock,this.length),GO(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw bi();this.content.gc(e),n?_Y(e,this,new As(this.id,this.length)):this.content=new a1(this.length)}write(e,n){const r=n>0?Tt(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,l=this.parentSub,a=this.content.getRef()&m_|(r===null?0:Qo)|(i===null?0:uu)|(l===null?0:Jv);if(e.writeInfo(a),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const u=this.parent;if(u._item!==void 0){const d=u._item;if(d===null){const h=r1(u);e.writeParentInfo(!0),e.writeString(h)}else e.writeParentInfo(!1),e.writeLeftID(d.id)}else u.constructor===String?(e.writeParentInfo(!0),e.writeString(u)):u.constructor===um?(e.writeParentInfo(!1),e.writeLeftID(u)):bi();l!==null&&e.writeString(l)}this.content.write(e,n)}}const y6=(t,e)=>vQ[e&m_](t),vQ=[()=>{bi()},nQ,sQ,tQ,cQ,oQ,iQ,yQ,aQ,rQ,()=>{bi()}],wQ=10;class Il extends NR{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){bi()}write(e,n){e.writeInfo(wQ),Wt(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const v6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},w6="__ $YJS$ __";v6[w6]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");v6[w6]=!0;const kQ=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},CQ=/[\uD800-\uDBFF]/,_Q=/[\uDC00-\uDFFF]/,SQ=(t,e)=>{let n=0,r=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&CQ.test(t[n-1])&&n--;r+n<t.length&&r+n<e.length&&t[t.length-r-1]===e[e.length-r-1];)r++;return r>0&&_Q.test(t[t.length-r])&&r--,{index:n,remove:t.length-n-r,insert:e.slice(n,e.length-r)}},xQ=SQ,vn=new Ht("y-sync"),du=new Ht("y-undo"),ww=new Ht("yjs-cursor"),ua=(t,e)=>t>>>e|t<<32-e,EQ=t=>ua(t,2)^ua(t,13)^ua(t,22),TQ=t=>ua(t,6)^ua(t,11)^ua(t,25),MQ=t=>ua(t,7)^ua(t,18)^t>>>3,AQ=t=>ua(t,17)^ua(t,19)^t>>>10,RQ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),NQ=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class OQ{constructor(){const e=new ArrayBuffer(320);this._H=new Uint32Array(e,0,8),this._H.set(NQ),this._W=new Uint32Array(e,64,64)}_updateHash(){const e=this._H,n=this._W;for(let g=16;g<64;g++)n[g]=AQ(n[g-2])+n[g-7]+MQ(n[g-15])+n[g-16];let r=e[0],i=e[1],l=e[2],a=e[3],u=e[4],d=e[5],h=e[6],p=e[7];for(let g=0,y,v;g<64;g++)y=p+TQ(u)+(u&d^~u&h)+RQ[g]+n[g]>>>0,v=EQ(r)+(r&i^r&l^i&l)>>>0,p=h,h=d,d=u,u=a+y>>>0,a=l,l=i,i=r,r=y+v>>>0;e[0]+=r,e[1]+=i,e[2]+=l,e[3]+=a,e[4]+=u,e[5]+=d,e[6]+=h,e[7]+=p}digest(e){let n=0;for(;n+56<=e.length;){let a=0;for(;a<16&&n+3<e.length;a++)this._W[a]=e[n++]<<24|e[n++]<<16|e[n++]<<8|e[n++];if(n%64!==0){for(this._W.fill(0,a,16);n<e.length;)this._W[a]|=e[n]<<(3-n%4)*8,n++;this._W[a]|=Qo<<(3-n%4)*8}this._updateHash()}const r=n%64!==0;this._W.fill(0,0,16);let i=0;for(;n<e.length;i++)for(let a=3;a>=0&&n<e.length;a--)this._W[i]|=e[n++]<<a*8;r||(this._W[i-(n%4===0?0:1)]|=Qo<<(3-n%4)*8),this._W[14]=e.byteLength/FZ,this._W[15]=e.byteLength*8,this._updateHash();const l=new Uint8Array(32);for(let a=0;a<this._H.length;a++)for(let u=0;u<4;u++)l[a*4+u]=this._H[a]>>>(3-u)*8;return l}}const DQ=t=>new OQ().digest(t),LQ=t=>{for(let n=6;n<t.length;n++)t[n%6]=t[n%6]^t[n];return t.slice(0,6)},PQ=t=>VX(LQ(DQ(UX(t)))),uC=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!jm(e.ds,t.id),IQ=[{light:"#ecd44433",dark:"#ecd444"}],BQ=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const r=gp();t.forEach(i=>r.add(i)),e=e.filter(i=>!r.has(i))}t.set(n,_X(e))}return t.get(n)},jQ=(t,{colors:e=IQ,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:l}={})=>{let a=!1;const u=new $Q(t,l),d=new Ct({props:{editable:h=>{const p=vn.getState(h);return p.snapshot==null&&p.prevSnapshot==null}},key:vn,state:{init:(h,p)=>({type:t,doc:t.doc,binding:u,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:r}),apply:(h,p)=>{const g=h.getMeta(vn);if(g!==void 0){p=Object.assign({},p);for(const y in g)p[y]=g[y]}return p.addToHistory=h.getMeta("addToHistory")!==!1,p.isChangeOrigin=g!==void 0&&!!g.isChangeOrigin,p.isUndoRedoOperation=g!==void 0&&!!g.isChangeOrigin&&!!g.isUndoRedoOperation,u.prosemirrorView!==null&&g!==void 0&&(g.snapshot!=null||g.prevSnapshot!=null)&&CR(0,()=>{u.prosemirrorView!=null&&(g.restore==null?u._renderSnapshot(g.snapshot,g.prevSnapshot,p):(u._renderSnapshot(g.snapshot,g.snapshot,p),delete p.restore,delete p.snapshot,delete p.prevSnapshot,u.mux(()=>{u._prosemirrorChanged(u.prosemirrorView.state.doc)})))}),p}},view:h=>(u.initView(h),l==null&&u._forceRerender(),i(),{update:()=>{const p=d.getState(h.state);if(p.snapshot==null&&p.prevSnapshot==null&&(a||h.state.doc.content.findDiffStart(h.state.doc.type.createAndFill().content)!==null)){if(a=!0,p.addToHistory===!1&&!p.isChangeOrigin){const g=du.getState(h.state),y=g&&g.undoManager;y&&y.stopCapturing()}u.mux(()=>{p.doc.transact(g=>{g.meta.set("addToHistory",p.addToHistory),u._prosemirrorChanged(h.state.doc)},vn)})}},destroy:()=>{u.destroy()}})});return d},zQ=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null)if(e.type==="all")t.setSelection(new di(t.doc));else{const r=Am(n.doc,n.type,e.anchor,n.mapping),i=Am(n.doc,n.type,e.head,n.mapping);r!==null&&i!==null&&(t=t.setSelection(Ve.create(t.doc,r,i)))}},dC=(t,e)=>({type:e.selection.jsonID,anchor:u1(e.selection.anchor,t.type,t.mapping),head:u1(e.selection.head,t.type,t.mapping)});class $Q{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=kQ(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=dC(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(LB&&this._domSelectionInView===null&&(CR(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),l=GX.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||l.clientWidth||0)&&i.top<=(window.innerHeight||l.clientHeight||0)}renderSnapshot(e,n){n||(n=WB(UB(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(vn,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(r=>Xw(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Se(se.from(e),0,0));n.setMeta(vn,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>Xw(i,this.prosemirrorView.state.schema,this)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Se(se.from(n),0,0));if(e){const i=cu(ga(e.anchor,0),r.doc.content.size),l=cu(ga(e.head,0),r.doc.content.size);r.setSelection(Ve.create(r.doc,i,l))}this.prosemirrorView.dispatch(r.setMeta(vn,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,r){let i=this.doc;e||(e=b2(this.doc)),(e instanceof Uint8Array||n instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&bi(),i=new Tp({gc:!1}),bM(i,n),n=b2(i),bM(i,e),e=b2(i)),this.mapping.clear(),this.mux(()=>{i.transact(l=>{const a=r.permanentUserData;a&&a.dss.forEach(p=>{od(l,p,g=>{})});const u=(p,g)=>{const y=p==="added"?a.getUserByClientId(g.client):a.getUserByDeletedId(g);return{user:y,type:p,color:BQ(r.colorMapping,r.colors,y)}},d=o6(this.type,new TR(n.ds,e.sv)).map(p=>!p._item.deleted||uC(p._item,e)||uC(p._item,n)?Xw(p,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},e,n,u):null).filter(p=>p!==null),h=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Se(se.from(d),0,0));this.prosemirrorView.dispatch(h.setMeta(vn,{isChangeOrigin:!0}))},vn)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const r=vn.getState(this.prosemirrorView.state);if(e.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(u,d)=>this.mapping.delete(d);od(n,n.deleteSet,u=>{if(u.constructor===ln){const d=u.content.type;d&&this.mapping.delete(d)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const l=this.type.toArray().map(u=>k6(u,this.prosemirrorView.state.schema,this)).filter(u=>u!==null);let a=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Se(se.from(l),0,0));zQ(a,this.beforeTransactionSelection,this),a=a.setMeta(vn,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof QB}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&a.scrollIntoView(),this.prosemirrorView.dispatch(a)})}_prosemirrorChanged(e){this.doc.transact(()=>{_M(this.doc,this.type,e,this),this.beforeTransactionSelection=dC(this,this.prosemirrorView.state)},vn)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const k6=(t,e,n,r,i,l)=>{const a=n.mapping.get(t);if(a===void 0){if(t instanceof wo)return Xw(t,e,n,r,i,l);throw Vl()}return a},Xw=(t,e,n,r,i,l)=>{const a=[],u=d=>{var h,p;if(d instanceof wo){const g=k6(d,e,n,r,i,l);g!==null&&a.push(g)}else{const g=(p=(h=d._item.right)==null?void 0:h.content)==null?void 0:p.type;g instanceof id&&!g._item.deleted&&g._item.id.client===g.doc.clientID&&(d.applyDelta([{retain:d.length},...g.toDelta()]),g.doc.transact(v=>{g._item.delete(v)}));const y=HQ(d,e,n,r,i,l);y!==null&&y.forEach(v=>{v!==null&&a.push(v)})}};r===void 0||i===void 0?t.toArray().forEach(u):o6(t,new TR(i.ds,r.sv)).forEach(u);try{const d=t.getAttributes(r);r!==void 0&&(uC(t._item,r)?uC(t._item,i)||(d.ychange=l?l("added",t._item.id):{type:"added"}):d.ychange=l?l("removed",t._item.id):{type:"removed"});const h=e.node(t.nodeName,d,a);return n.mapping.set(t,h),h}catch{return t.doc.transact(h=>{t._item.delete(h)},vn),n.mapping.delete(t),null}},HQ=(t,e,n,r,i,l)=>{const a=[],u=t.toDelta(r,i,l);try{for(let d=0;d<u.length;d++){const h=u[d];a.push(e.text(h.insert,WQ(h.attributes,e)))}}catch{return t.doc.transact(h=>{t._item.delete(h)},vn),null}return a},VQ=(t,e)=>{const n=new hi,r=t.map(i=>({insert:i.text,attributes:_6(i.marks,e)}));return n.applyDelta(r),e.mapping.set(n,t),n},UQ=(t,e)=>{const n=new wo(t.type.name);for(const r in t.attrs){const i=t.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,__(t).map(r=>CM(r,e))),e.mapping.set(n,t),n},CM=(t,e)=>t instanceof Array?VQ(t,e):UQ(t,e),eD=t=>typeof t=="object"&&t!==null,DR=(t,e)=>{const n=Object.keys(t).filter(i=>t[i]!==null);let r=n.length===Object.keys(e).filter(i=>e[i]!==null).length;for(let i=0;i<n.length&&r;i++){const l=n[i],a=t[l],u=e[l];r=l==="ychange"||a===u||eD(a)&&eD(u)&&DR(a,u)}return r},__=t=>{const e=t.content.content,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.isText){const l=[];for(let a=e[r];r<e.length&&a.isText;a=e[++r])l.push(a);r--,n.push(l)}else n.push(i)}return n},C6=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((r,i)=>r.insert===e[i].text&&RB(r.attributes||{}).length===e[i].marks.length&&NB(r.attributes,(l,a)=>{var h;const u=LR(a),d=e[i].marks;return DR(l,(h=d.find(p=>p.type.name===u))==null?void 0:h.attrs)}))},c1=(t,e)=>{if(t instanceof wo&&!(e instanceof Array)&&SM(t,e)){const n=__(e);return t._length===n.length&&DR(t.getAttributes(),e.attrs)&&t.toArray().every((r,i)=>c1(r,n[i]))}return t instanceof hi&&e instanceof Array&&C6(t,e)},fC=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,r)=>e[r]===n),tD=(t,e,n)=>{const r=t.toArray(),i=__(e),l=i.length,a=r.length,u=cu(a,l);let d=0,h=0,p=!1;for(;d<u;d++){const g=r[d],y=i[d];if(fC(n.mapping.get(g),y))p=!0;else if(!c1(g,y))break}for(;d+h<u;h++){const g=r[a-h-1],y=i[l-h-1];if(fC(n.mapping.get(g),y))p=!0;else if(!c1(g,y))break}return{equalityFactor:d+h,foundMappedChild:p}},FQ=t=>{let e="",n=t._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof Gl?e+=n.content.str:n.content instanceof lr&&(r[n.content.key]=null)),n=n.right;return{str:e,nAttrs:r}},GQ=(t,e,n)=>{n.mapping.set(t,e);const{nAttrs:r,str:i}=FQ(t),l=e.map(h=>({insert:h.text,attributes:Object.assign({},r,_6(h.marks,n))})),{insert:a,remove:u,index:d}=xQ(i,l.map(h=>h.insert).join(""));t.delete(d,u),t.insert(d,a),t.applyDelta(l.map(h=>({retain:h.insert.length,attributes:h.attributes})))},qQ=/(.*)(--[a-zA-Z0-9+/=]{8})$/,LR=t=>{var e;return((e=qQ.exec(t))==null?void 0:e[1])??t},WQ=(t,e)=>{const n=[];for(const r in t)n.push(e.mark(LR(r),t[r]));return n},_6=(t,e)=>{const n={};return t.forEach(r=>{if(r.type.name!=="ychange"){const i=xa(e.isOMark,r.type,()=>!r.type.excludes(r.type));n[i?`${r.type.name}--${PQ(r.toJSON())}`:r.type.name]=r.attrs}}),n},_M=(t,e,n,r)=>{if(e instanceof wo&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.mapping.set(e,n),e instanceof wo){const g=e.getAttributes(),y=n.attrs;for(const v in y)y[v]!==null?g[v]!==y[v]&&v!=="ychange"&&e.setAttribute(v,y[v]):e.removeAttribute(v);for(const v in g)y[v]===void 0&&e.removeAttribute(v)}const i=__(n),l=i.length,a=e.toArray(),u=a.length,d=cu(l,u);let h=0,p=0;for(;h<d;h++){const g=a[h],y=i[h];if(!fC(r.mapping.get(g),y))if(c1(g,y))r.mapping.set(g,y);else break}for(;p+h+1<d;p++){const g=a[u-p-1],y=i[l-p-1];if(!fC(r.mapping.get(g),y))if(c1(g,y))r.mapping.set(g,y);else break}t.transact(()=>{for(;u-h-p>0&&l-h-p>0;){const y=a[h],v=i[h],w=a[u-p-1],C=i[l-p-1];if(y instanceof hi&&v instanceof Array)C6(y,v)||GQ(y,v,r),h+=1;else{let S=y instanceof wo&&SM(y,v),E=w instanceof wo&&SM(w,C);if(S&&E){const A=tD(y,v,r),N=tD(w,C,r);A.foundMappedChild&&!N.foundMappedChild?E=!1:!A.foundMappedChild&&N.foundMappedChild||A.equalityFactor<N.equalityFactor?S=!1:E=!1}S?(_M(t,y,v,r),h+=1):E?(_M(t,w,C,r),p+=1):(r.mapping.delete(e.get(h)),e.delete(h,1),e.insert(h,[CM(v,r)]),h+=1)}}const g=u-h-p;if(u===1&&l===0&&a[0]instanceof hi?(r.mapping.delete(a[0]),a[0].delete(0,a[0].length)):g>0&&(e.slice(h,h+g).forEach(y=>r.mapping.delete(y)),e.delete(h,g)),h+p<l){const y=[];for(let v=h;v<l-p;v++)y.push(CM(i[v],r));e.insert(h,y)}},vn)},SM=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;let Ov=null;const KQ=()=>{const t=Ov;Ov=null,t.forEach((e,n)=>{const r=n.state.tr,i=vn.getState(n.state);i&&i.binding&&!i.binding.isDestroyed&&(e.forEach((l,a)=>{r.setMeta(a,l)}),n.dispatch(r))})},ZQ=(t,e,n)=>{Ov||(Ov=new Map,CR(0,KQ)),xa(Ov,t,Ls).set(e,n)},u1=(t,e,n)=>{if(t===0)return g2(e,0,-1);let r=e._first===null?null:e._first.content.type;for(;r!==null&&e!==r;){if(r instanceof hi){if(r._length>=t)return g2(r,t,-1);if(t-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,t--;while(r!==e&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==e&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&t<i)r=r._first.content.type,t--;else{if(t===1&&r._length===0&&i>1)return new i1(r._item===null?null:r._item.id,r._item===null?r1(r):null,null);if(t-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(t===0)return r=r._item===null?r:r._item.parent,new i1(r._item===null?null:r._item.id,r._item===null?r1(r):null,null);do r=r._item.parent,t--;while(r!==e&&r._item.next===null);r!==e&&(r=r._item.next.content.type)}}}if(r===null)throw bi();if(t===0&&r.constructor!==hi&&r!==e)return XQ(r._item.parent,r._item)}return g2(e,e._length,-1)},XQ=(t,e)=>{let n=null,r=null;return t._item===null?r=r1(t):n=Tt(t._item.id.client,t._item.id.clock),new i1(n,r,e.id)},Am=(t,e,n,r)=>{const i=kY(n,t);if(i===null||i.type!==e&&!o1(e,i.type._item))return null;let l=i.type,a=0;if(l.constructor===hi)a=i.index;else if(l._item===null||!l._item.deleted){let u=l._first,d=0;for(;d<l._length&&d<i.index&&u!==null;){if(!u.deleted){const h=u.content.type;d++,h instanceof hi?a+=h._length:a+=r.get(h).nodeSize}u=u.right}a+=1}for(;l!==e&&l._item!==null;){const u=l._item.parent;if(u._item===null||!u._item.deleted){a+=1;let d=u._first;for(;d!==null;){const h=d.content.type;if(h===l)break;d.deleted||(h instanceof hi?a+=h._length:a+=r.get(h).nodeSize),d=d.right}}l=u}return a-1};function YQ(t){const e=t.toArray(),n=r=>{let i;if(r instanceof hi)i=r.toDelta().map(a=>{const u={type:"text",text:a.insert};return a.attributes&&(u.marks=Object.keys(a.attributes).map(d=>{const h=a.attributes[d],g={type:LR(d)};return Object.keys(h)&&(g.attrs=h),g})),u});else if(r instanceof wo){i={type:r.nodeName};const l=r.getAttributes();Object.keys(l).length&&(i.attrs=l);const a=r.toArray();a.length&&(i.content=a.map(n).flat())}else bi();return i};return{type:"doc",content:e.map(n)}}const QQ=(t,e,n)=>t!==e,JQ=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null);const r=document.createTextNode("⁠"),i=document.createTextNode("⁠");return e.insertBefore(r,null),e.insertBefore(n,null),e.insertBefore(i,null),e},S6=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),eJ=/^#[0-9a-fA-F]{6}$/,nD=(t,e,n,r,i)=>{const l=vn.getState(t),a=l.doc,u=[];return l.snapshot!=null||l.prevSnapshot!=null||l.binding.mapping.size===0?Ot.create(t.doc,[]):(e.getStates().forEach((d,h)=>{if(n(a.clientID,h,d)&&d.cursor!=null){const p=d.user||{};p.color==null?p.color="#ffa500":eJ.test(p.color)||console.warn("A user uses an unsupported color format",p),p.name==null&&(p.name=`User: ${h}`);let g=Am(a,l.type,Nv(d.cursor.anchor),l.binding.mapping),y=Am(a,l.type,Nv(d.cursor.head),l.binding.mapping);if(g!==null&&y!==null){const v=ga(t.doc.content.size-1,0);g=cu(g,v),y=cu(y,v),u.push(Qt.widget(y,()=>r(p,h),{key:h+"",side:10}));const w=cu(g,y),C=ga(g,y);u.push(Qt.inline(w,C,i(p,h),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),Ot.create(t.doc,u))},tJ=(t,{awarenessStateFilter:e=QQ,cursorBuilder:n=JQ,selectionBuilder:r=S6,getSelection:i=a=>a.selection}={},l="cursor")=>new Ct({key:ww,state:{init(a,u){return nD(u,t,e,n,r)},apply(a,u,d,h){const p=vn.getState(h),g=a.getMeta(ww);return p&&p.isChangeOrigin||g&&g.awarenessUpdated?nD(h,t,e,n,r):u.map(a.mapping,a.doc)}},props:{decorations:a=>ww.getState(a)},view:a=>{const u=()=>{a.docView&&ZQ(a,ww,{awarenessUpdated:!0})},d=()=>{const h=vn.getState(a.state),p=t.getLocalState()||{};if(a.hasFocus()){const g=i(a.state),y=u1(g.anchor,h.type,h.binding.mapping),v=u1(g.head,h.type,h.binding.mapping);(p.cursor==null||!VO(Nv(p.cursor.anchor),y)||!VO(Nv(p.cursor.head),v))&&t.setLocalStateField(l,{anchor:y,head:v})}else p.cursor!=null&&Am(h.doc,h.type,Nv(p.cursor.anchor),h.binding.mapping)!==null&&t.setLocalStateField(l,null)};return t.on("change",u),a.dom.addEventListener("focusin",d),a.dom.addEventListener("focusout",d),{update:d,destroy:()=>{a.dom.removeEventListener("focusin",d),a.dom.removeEventListener("focusout",d),t.off("change",u),t.setLocalStateField(l,null)}}}}),nJ=t=>{const e=du.getState(t).undoManager;if(e!=null)return e.undo(),!0},rJ=t=>{const e=du.getState(t).undoManager;if(e!=null)return e.redo(),!0},oJ=new Set(["paragraph"]),iJ=(t,e)=>!(t instanceof ln)||!(t.content instanceof Xl)||!(t.content.type instanceof id||t.content.type instanceof wo&&e.has(t.content.type.nodeName))||t.content.type._length===0,sJ=({protectedNodes:t=oJ,trackedOrigins:e=[],undoManager:n=null}={})=>new Ct({key:du,state:{init:(r,i)=>{const l=vn.getState(i),a=n||new QB(l.type,{trackedOrigins:new Set([vn].concat(e)),deleteFilter:u=>iJ(u,t),captureTransaction:u=>u.meta.get("addToHistory")!==!1});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(r,i,l,a)=>{const u=vn.getState(a).binding,d=i.undoManager,h=d.undoStack.length>0,p=d.redoStack.length>0;return u?{undoManager:d,prevSel:dC(u,l),hasUndoOps:h,hasRedoOps:p}:h!==i.hasUndoOps||p!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:d.undoStack.length>0,hasRedoOps:d.redoStack.length>0}):i}},view:r=>{const i=vn.getState(r.state),l=du.getState(r.state).undoManager;return l.on("stack-item-added",({stackItem:a})=>{const u=i.binding;u&&a.meta.set(u,du.getState(r.state).prevSel)}),l.on("stack-item-popped",({stackItem:a})=>{const u=i.binding;u&&(u.beforeTransactionSelection=a.meta.get(u)||u.beforeTransactionSelection)}),{destroy:()=>{l.destroy()}}}}),lJ=an.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),du.getState(e).undoManager.undoStack.length===0?!1:n?nJ(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),du.getState(e).undoManager.redoStack.length===0?!1:n?rJ(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=sJ(this.options.yUndoOptions),r=n.spec.view;n.spec.view=a=>{const{undoManager:u}=du.getState(a.state);u.restore&&(u.restore(),u.restore=()=>{});const d=r?r(a):void 0;return{destroy:()=>{const h=u.trackedOrigins.has(u),p=u._observers;u.restore=()=>{h&&u.trackedOrigins.add(u),u.doc.on("afterTransaction",u.afterTransactionHandler),u._observers=p},d!=null&&d.destroy&&d.destroy()}}};const i={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},l=jQ(e,i);return this.editor.options.enableContentCheck&&((t=e.doc)===null||t===void 0||t.on("beforeTransaction",()=>{try{const a=YQ(e);if(a.content.length===0)return;this.editor.schema.nodeFromJSON(a).check()}catch(a){return this.editor.emit("contentError",{error:a,editor:this.editor,disableCollaboration:()=>{var u;(u=e.doc)===null||u===void 0||u.destroy(),this.storage.isDisabled=!0}}),!1}})),[l,n,this.editor.options.enableContentCheck&&new Ct({key:new Ht("filterInvalidContent"),filterTransaction:()=>{var a;return this.storage.isDisabled&&((a=e.doc)===null||a===void 0||a.destroy()),!0}})].filter(Boolean)}}),rD=t=>Array.from(t.entries()).map(([e,n])=>({clientId:e,...n.user})),oD=()=>null,aJ=an.create({name:"collaborationCursor",priority:999,addOptions(){return{provider:null,user:{name:null,color:null},render:t=>{const e=document.createElement("span");e.classList.add("collaboration-cursor__caret"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");return n.classList.add("collaboration-cursor__label"),n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null),e.insertBefore(n,null),e},selectionRender:S6,onUpdate:oD}},onCreate(){if(this.options.onUpdate!==oD&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),!this.options.provider)throw new Error('The "provider" option is required for the CollaborationCursor extension')},addStorage(){return{users:[]}},addCommands(){return{updateUser:t=>()=>(this.options.user=t,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:t=>({editor:e})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),e.commands.updateUser(t))}},addProseMirrorPlugins(){return[tJ((this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=rD(this.options.provider.awareness.states),this.options.provider.awareness.on("update",()=>{this.storage.users=rD(this.options.provider.awareness.states)}),this.options.provider.awareness),{cursorBuilder:this.options.render,selectionBuilder:this.options.selectionRender})]}});function cJ(t={}){return new Ct({view(e){return new uJ(e,t)}})}class uJ{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let l=a=>{this[i](a)};return e.dom.addEventListener(i,l),{name:i,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let u=e.nodeBefore,d=e.nodeAfter;if(u||d){let h=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(h){let p=h.getBoundingClientRect(),g=u?p.bottom:p.top;u&&d&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:p.left,right:p.right,top:g-this.width/2,bottom:g+this.width/2}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos);r={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let l,a;if(!i||i==document.body&&getComputedStyle(i).position=="static")l=-pageXOffset,a=-pageYOffset;else{let u=i.getBoundingClientRect();l=u.left-i.scrollLeft,a=u.top-i.scrollTop}this.element.style.left=r.left-l+"px",this.element.style.top=r.top-a+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,l=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!l){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=PA(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const dJ={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{image:{add_button_text:"Add image"},video:{add_button_text:"Add video"},audio:{add_button_text:"Add audio"},file:{add_button_text:"Add file"}},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found",loading:"Loading…"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:t=>`${t} more replies`}},generic:{ctrl_shortcut:"Ctrl"}};var fJ=Object.defineProperty,hJ=(t,e,n)=>e in t?fJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e,n)=>hJ(t,typeof e!="symbol"?e+"":e,n);let ya=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}};function Mt(t,e=!0){const{"data-test":n,...r}=t;if(Object.keys(r).length>0&&e)throw new Error("Object must be empty "+JSON.stringify(t))}function mu(t,e){const n=t.resolve(e);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let r=n.depth,i=n.node(r);for(;r>0;){if(i.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(r),node:i};r--,i=n.node(r)}const l=[];t.descendants((u,d)=>{u.type.isInGroup("bnBlock")&&l.push(d)}),console.warn(`Position ${e} is not within a blockContainer node.`);const a=t.resolve(l.find(u=>u>=e)||l[l.length-1]);return{posBeforeNode:a.pos,node:a.nodeAfter}}function PR(t,e){if(!t.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${t.type}`);const n=t,r=e,i=r+n.nodeSize,l={node:n,beforePos:r,afterPos:i};if(n.type.name==="blockContainer"){let a,u;if(n.forEach((d,h)=>{if(d.type.spec.group==="blockContent"){const p=d,g=r+h+1,y=g+d.nodeSize;a={node:p,beforePos:g,afterPos:y}}else if(d.type.name==="blockGroup"){const p=d,g=r+h+1,y=g+d.nodeSize;u={node:p,beforePos:g,afterPos:y}}}),!a)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:l,blockContent:a,childContainer:u,blockNoteType:a.node.type.name}}else{if(!l.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${l.node}`);return{isBlockContainer:!1,bnBlock:l,childContainer:l,blockNoteType:l.node.type.name}}}function sd(t){return PR(t.node,t.posBeforeNode)}function O1(t){if(!t.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${t.pos} but a node at this position does not exist`);return PR(t.nodeAfter,t.pos)}function Yt(t){const e=mu(t.doc,t.selection.anchor);return sd(e)}function pJ(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function mJ(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return pJ(e)}const D1=an.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const t=window.__TEST_OPTIONS;return t.mockID===void 0?t.mockID=0:t.mockID++,t.mockID.toString()}return QI()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:t=>t.getAttribute(`data-${this.options.attributeName}`),renderHTML:t=>{const e={[`data-${this.options.attributeName}`]:t[this.options.attributeName]};return this.options.setIdAttribute?{...e,id:t[this.options.attributeName]}:e}}}}]},addProseMirrorPlugins(){let t=null,e=!1;return[new Ct({key:new Ht("uniqueID"),appendTransaction:(n,r,i)=>{const l=n.some(v=>v.docChanged)&&!r.doc.eq(i.doc),a=this.options.filterTransaction&&n.some(v=>{let w,C;return!(!((C=(w=this.options).filterTransaction)===null||C===void 0)&&C.call(w,v))});if(!l||a)return;const{tr:u}=i,{types:d,attributeName:h,generateID:p}=this.options,g=$I(r.doc,n),{mapping:y}=g;if(UI(g).forEach(({newRange:v})=>{const w=HI(i.doc,v,E=>d.includes(E.type.name)),C=w.map(({node:E})=>E.attrs[h]).filter(E=>E!==null),S=mJ(C);w.forEach(({node:E,pos:A})=>{let N;const I=(N=u.doc.nodeAt(A))===null||N===void 0?void 0:N.attrs[h];if(I===null){const F=r.doc.type.createAndFill().content;if(r.doc.content.findDiffStart(F)===null){const q=JSON.parse(JSON.stringify(i.doc.toJSON()));if(q.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(q.content)===JSON.stringify(F.toJSON())){u.setNodeMarkup(A,void 0,{...E.attrs,[h]:"initialBlockId"});return}}u.setNodeMarkup(A,void 0,{...E.attrs,[h]:p()});return}const{deleted:B}=y.invert().mapResult(A);B&&S.includes(I)&&u.setNodeMarkup(A,void 0,{...E.attrs,[h]:p()})})}),!!u.steps.length)return u},view(n){const r=i=>{let l;t=!((l=n.dom.parentElement)===null||l===void 0)&&l.contains(i.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",r),{destroy(){window.removeEventListener("dragstart",r)}}},props:{handleDOMEvents:{drop:(n,r)=>{let i;return t!==n.dom.parentElement||((i=r.dataTransfer)===null||i===void 0?void 0:i.effectAllowed)==="copy"?e=!0:e=!1,t=null,!1},paste:()=>(e=!0,!1)},transformPasted:n=>{if(!e)return n;const{types:r,attributeName:i}=this.options,l=a=>{const u=[];return a.forEach(d=>{if(d.isText){u.push(d);return}if(!r.includes(d.type.name)){u.push(d.copy(l(d.content)));return}const h=d.type.create({...d.attrs,[i]:null},l(d.content),d.marks);u.push(h)}),se.from(u)};return e=!1,new Se(l(n.content),n.openStart,n.openEnd)}}})]}});function iD(t){return t.type==="link"}function x6(t){return typeof t!="string"&&t.type==="link"}function wp(t){return typeof t!="string"&&t.type==="text"}function ld(t){var e,n,r,i,l;return ad(t)?{...t}:d1(t)?{type:"tableCell",content:[].concat(t.content),props:{backgroundColor:((e=t.props)==null?void 0:e.backgroundColor)??"default",textColor:((n=t.props)==null?void 0:n.textColor)??"default",textAlignment:((r=t.props)==null?void 0:r.textAlignment)??"left",colspan:((i=t.props)==null?void 0:i.colspan)??1,rowspan:((l=t.props)==null?void 0:l.rowspan)??1}}:{type:"tableCell",content:[].concat(t),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function d1(t){return t!=null&&typeof t!="string"&&!Array.isArray(t)&&t.type==="tableCell"}function ad(t){return d1(t)&&t.props!==void 0&&t.content!==void 0}function kp(t){return ad(t)?t.props.colspan??1:1}function f1(t){return ad(t)?t.props.rowspan??1:1}const gJ=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function xs(t,e="Ctrl"){return gJ()?t.replace("Mod","⌘"):t.replace("Mod",e)}function er(...t){return t.filter(e=>e).join(" ")}const xM=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function va(t,e,n,r){const i=document.createElement("div");i.className=er("bn-block-content",n.class),i.setAttribute("data-content-type",t);for(const[a,u]of Object.entries(n))a!=="class"&&i.setAttribute(a,u);const l=document.createElement(e);l.className=er("bn-inline-content",r.class);for(const[a,u]of Object.entries(r))a!=="class"&&l.setAttribute(a,u);return i.appendChild(l),{dom:i,contentDOM:l}}const sD=(t,e)=>{let n=Ap(t,e.pmSchema,e.schema.styleSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const r=e.pmSchema.nodes[n.type.name].spec.toDOM;if(r===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const i=r(n);if(typeof i!="object"||!("dom"in i))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return i},sr={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},IR=["backgroundColor","textColor"];function hC(t){return"data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function lD(t){const e=t.split("/");return!e.length||e[e.length-1]===""?t:e[e.length-1]}function L1(t){const e={};return Object.entries(t).filter(([n,r])=>!IR.includes(n)).forEach(([n,r])=>{e[n]={default:r.default,keepOnSplit:!0,parseHTML:i=>{const l=i.getAttribute(hC(n));if(l===null)return null;if(r.default===void 0&&r.type==="boolean"||r.default!==void 0&&typeof r.default=="boolean")return l==="true"?!0:l==="false"?!1:null;if(r.default===void 0&&r.type==="number"||r.default!==void 0&&typeof r.default=="number"){const a=parseFloat(l);return!Number.isNaN(a)&&Number.isFinite(a)?a:null}return l},renderHTML:i=>i[n]!==r.default?{[hC(n)]:i[n]}:{}}}),e}function E6(t,e,n,r){if(typeof t=="boolean")throw new Error("Cannot find node position as getPos is a boolean, not a function.");const i=t(),l=n.state.doc.resolve(i).node().attrs.id;if(!l)throw new Error("Block doesn't have id");const a=e.getBlock(l);if(a.type!==r)throw new Error("Block type does not match");return a}function fv(t,e,n,r,i=!1,l){const a=document.createElement("div");if(l!==void 0)for(const[u,d]of Object.entries(l))u!=="class"&&a.setAttribute(u,d);a.className=er("bn-block-content",(l==null?void 0:l.class)||""),a.setAttribute("data-content-type",e);for(const[u,d]of Object.entries(n)){const h=r[u].default;!IR.includes(u)&&d!==h&&a.setAttribute(hC(u),d)}return i&&a.setAttribute("data-file-block",""),a.appendChild(t.dom),t.contentDOM!==void 0&&(t.contentDOM.className=er("bn-inline-content",t.contentDOM.className),t.contentDOM.setAttribute("data-editable","")),{...t,dom:a}}function yi(t){return Ca.create(t)}function BR(t,e){return{config:t,implementation:e}}function Yl(t,e,n){return BR({type:t.name,content:t.config.content==="inline*"?"inline":t.config.content==="tableRow+"?"table":"none",propSchema:e},{node:t,requiredExtensions:n,toInternalHTML:sD,toExternalHTML:sD})}function T6(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function M6(t,e){t.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{e.view.dom.blur()},10),!0)}function A6(t,e){const n=[{tag:"[data-content-type="+t.type+"]",contentElement:"[data-editable]"}];return e&&n.push({tag:"*",getAttrs(r){if(typeof r=="string")return!1;const i=e==null?void 0:e(r);return i===void 0?!1:i}}),n}function P1(t,e){const n=yi({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return L1(t.propSchema)},parseHTML(){return A6(t,e.parse)},renderHTML({HTMLAttributes:r}){const i=document.createElement("div");return fv({dom:i,contentDOM:t.content==="inline"?i:void 0},t.type,{},t.propSchema,t.isFileBlock,r)},addNodeView(){return({getPos:r})=>{var i;const l=this.options.editor,a=E6(r,l,this.editor,t.type),u=((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},d=e.render(a,l),h=fv(d,a.type,a.props,t.propSchema,u);return t.isSelectable===!1&&M6(h,this.editor),h}}});if(n.name!==t.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return BR(t,{node:n,toInternalHTML:(r,i)=>{var l;const a=((l=n.options.domAttributes)==null?void 0:l.blockContent)||{},u=e.render(r,i);return fv(u,r.type,r.props,t.propSchema,t.isFileBlock,a)},toExternalHTML:(r,i)=>{var l,a;const u=((l=n.options.domAttributes)==null?void 0:l.blockContent)||{};let d=(a=e.toExternalHTML)==null?void 0:a.call(e,r,i);return d===void 0&&(d=e.render(r,i)),fv(d,r.type,r.props,t.propSchema,u)}})}function R6(t,e,n){var r,i;const l={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},a=[];t.content.forEach((u,d,h)=>{const p={cells:[]};h===0&&u.content.forEach(g=>{let y=g.attrs.colwidth;y==null&&(y=new Array(g.attrs.colspan??1).fill(void 0)),l.columnWidths.push(...y)}),p.cells=u.content.content.map((g,y)=>(a[h]||(a[h]=[]),a[h][y]=g.type.name==="tableHeader",{type:"tableCell",content:g.content.content.map(v=>S_(v,e,n)).reduce((v,w)=>{if(!v.length)return w;const C=v[v.length-1],S=w[0];return S&&wp(C)&&wp(S)&&JSON.stringify(C.styles)===JSON.stringify(S.styles)?(C.text+=`
`+S.text,v.push(...w.slice(1)),v):(v.push(...w),v)},[]),props:{colspan:g.attrs.colspan,rowspan:g.attrs.rowspan,backgroundColor:g.attrs.backgroundColor,textColor:g.attrs.textColor,textAlignment:g.attrs.textAlignment}})),l.rows.push(p)});for(let u=0;u<a.length;u++)(r=a[u])!=null&&r.every(d=>d)&&(l.headerRows=(l.headerRows??0)+1);for(let u=0;u<((i=a[0])==null?void 0:i.length);u++)a!=null&&a.every(d=>d[u])&&(l.headerCols=(l.headerCols??0)+1);return l}function S_(t,e,n){const r=[];let i;return t.content.forEach(l=>{if(l.type.name==="hardBreak"){if(i)if(wp(i))i.text+=`
`;else if(iD(i))i.content[i.content.length-1].text+=`
`;else throw new Error("unexpected");else i={type:"text",text:`
`,styles:{}};return}if(l.type.name!=="link"&&l.type.name!=="text"){if(!e[l.type.name]){console.warn("unrecognized inline content type",l.type.name);return}i&&(r.push(i),i=void 0),r.push(bJ(l,e,n));return}const a={};let u;for(const d of l.marks)if(d.type.name==="link")u=d;else{const h=n[d.type.name];if(!h){if(d.type.spec.blocknoteIgnore)continue;throw new Error(`style ${d.type.name} not found in styleSchema`)}if(h.propSchema==="boolean")a[h.type]=!0;else if(h.propSchema==="string")a[h.type]=d.attrs.stringValue;else throw new ya(h.propSchema)}i?wp(i)?u?(r.push(i),i={type:"link",href:u.attrs.href,content:[{type:"text",text:l.textContent,styles:a}]}):JSON.stringify(i.styles)===JSON.stringify(a)?i.text+=l.textContent:(r.push(i),i={type:"text",text:l.textContent,styles:a}):iD(i)&&(u?i.href===u.attrs.href?JSON.stringify(i.content[i.content.length-1].styles)===JSON.stringify(a)?i.content[i.content.length-1].text+=l.textContent:i.content.push({type:"text",text:l.textContent,styles:a}):(r.push(i),i={type:"link",href:u.attrs.href,content:[{type:"text",text:l.textContent,styles:a}]}):(r.push(i),i={type:"text",text:l.textContent,styles:a})):u?i={type:"link",href:u.attrs.href,content:[{type:"text",text:l.textContent,styles:a}]}:i={type:"text",text:l.textContent,styles:a}}),i&&r.push(i),r}function bJ(t,e,n){if(t.type.name==="text"||t.type.name==="link")throw new Error("unexpected");const r={},i=e[t.type.name];for(const[a,u]of Object.entries(t.attrs)){if(!i)throw Error("ic node is of an unrecognized type: "+t.type.name);const d=i.propSchema;a in d&&(r[a]=u)}let l;return i.content==="styled"?l=S_(t,e,n):l=void 0,{type:t.type.name,props:r,content:l}}function jn(t,e,n,r,i){var l;if(!t.type.isInGroup("bnBlock"))throw Error("Node must be in bnBlock group, but is of type"+t.type.name);const a=i==null?void 0:i.get(t);if(a)return a;const u=PR(t,0);let d=u.bnBlock.node.attrs.id;d===null&&(d=D1.options.generateID());const h=e[u.blockNoteType];if(!h)throw Error("Block is of an unrecognized type: "+u.blockNoteType);const p={};for(const[C,S]of Object.entries({...t.attrs,...u.isBlockContainer?u.blockContent.node.attrs:{}})){const E=h.propSchema;C in E&&!(E[C].default===void 0&&S===void 0)&&(p[C]=S)}const g=e[u.blockNoteType],y=[];(l=u.childContainer)==null||l.node.forEach(C=>{y.push(jn(C,e,n,r,i))});let v;if(g.content==="inline"){if(!u.isBlockContainer)throw new Error("impossible");v=S_(u.blockContent.node,n,r)}else if(g.content==="table"){if(!u.isBlockContainer)throw new Error("impossible");v=R6(u.blockContent.node,n,r)}else if(g.content==="none")v=void 0;else throw new ya(g.content);const w={id:d,type:g.type,props:p,content:v,children:y};return i==null||i.set(t,w),w}function N6(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function yJ(t,e){return{config:t,implementation:e}}function Uh(t,e){return yJ({type:t.name,propSchema:e},{mark:t})}function O6(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function md(t){const{height:e,width:n}=jR(t),r=new Array(e).fill(!1).map(()=>new Array(n).fill(null)),i=(l,a)=>{for(let u=l;u<e;u++)for(let d=a;d<n;d++)if(!r[u][d])return{row:u,col:d};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let l=0;l<t.content.rows.length;l++)for(let a=0;a<t.content.rows[l].cells.length;a++){const u=ld(t.content.rows[l].cells[a]),d=f1(u),h=kp(u),{row:p,col:g}=i(l,a);for(let y=p;y<p+d;y++)for(let v=g;v<g+h;v++){if(r[y][v])throw new Error(`Unable to create occupancy grid for table, cell at ${y},${v} is already occupied`);r[y][v]={row:l,col:a,rowspan:d,colspan:h,cell:u}}}return r}function h1(t){const e=new Set;return t.map(n=>({cells:n.map(r=>e.has(r.row+":"+r.col)?!1:(e.add(r.row+":"+r.col),r.cell)).filter(r=>r!==!1)}))}function Cp(t,e,n=md(e)){for(let r=0;r<n.length;r++)for(let i=0;i<n[r].length;i++){const l=n[r][i];if(l.row===t.row&&l.col===t.col)return{row:r,col:i,cell:l.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${t.row},${t.col} is not occupied`)}function jR(t){const e=t.content.rows.length;let n=0;return t.content.rows.forEach(r=>{let i=0;r.cells.forEach(l=>{i+=kp(l)}),n=Math.max(n,i)}),{height:e,width:n}}function D6(t,e,n=md(e)){var r;const i=(r=n[t.row])==null?void 0:r[t.col];if(i)return{row:i.row,col:i.col,cell:i.cell}}function EM(t,e){var n;const r=md(t);if(e<0||e>=r.length)return[];let i=0;for(let a=0;a<e;a++){const u=(n=r[i])==null?void 0:n[0];if(!u)return[];i+=u.rowspan}const l=new Array(r[0].length).fill(!1).map((a,u)=>D6({row:i,col:u},t,r)).filter(a=>a!==void 0);return l.filter((a,u)=>l.findIndex(d=>d.row===a.row&&d.col===a.col)===u)}function TM(t,e){var n;const r=md(t);if(e<0||e>=r[0].length)return[];let i=0;for(let a=0;a<e;a++){const u=(n=r[0])==null?void 0:n[i];if(!u)return[];i+=u.colspan}const l=new Array(r.length).fill(!1).map((a,u)=>D6({row:u,col:i},t,r)).filter(a=>a!==void 0);return l.filter((a,u)=>l.findIndex(d=>d.row===a.row&&d.col===a.col)===u)}function vJ(t,e,n,r=md(t)){const{col:i}=Cp({row:0,col:e},t,r),{col:l}=Cp({row:0,col:n},t,r);return r.forEach(a=>{const[u]=a.splice(i,1);a.splice(l,0,u)}),h1(r)}function wJ(t,e,n,r=md(t)){const{row:i}=Cp({row:e,col:0},t,r),{row:l}=Cp({row:n,col:0},t,r),[a]=r.splice(i,1);return r.splice(l,0,a),h1(r)}function MM(t){return t?d1(t)?MM(t.content):typeof t=="string"?t.length===0:Array.isArray(t)?t.every(e=>typeof e=="string"?e.length===0:wp(e)?e.text.length===0:x6(e)?typeof e.content=="string"?e.content.length===0:e.content.every(n=>n.text.length===0):!1):!1:!0}function kJ(t,e,n=md(t)){if(e==="columns"){let l=0;for(let a=n[0].length-1;a>=0&&n.every(u=>MM(u[a].cell)&&u[a].colspan===1);a--)l++;for(let a=n.length-1;a>=0;a--){const u=Math.max(n[a].length-l,1);n[a]=n[a].slice(0,u)}return h1(n)}let r=0;for(let l=n.length-1;l>=0&&n[l].every(a=>MM(a.cell)&&a.rowspan===1);l--)r++;const i=Math.min(r,n.length-1);return n.splice(n.length-i,i),h1(n)}function CJ(t,e,n,r=md(t)){const{width:i,height:l}=jR(t);if(e==="columns")r.forEach((a,u)=>{if(n>=0)for(let d=0;d<n;d++)a.push({row:u,col:Math.max(...a.map(h=>h.col))+1,rowspan:1,colspan:1,cell:ld("")});else a.splice(i+n,-1*n)});else if(n>0)for(let a=0;a<n;a++){const u=new Array(i).fill(null).map((d,h)=>({row:l+a,col:h,rowspan:1,colspan:1,cell:ld("")}));r.push(u)}else n<0&&r.splice(l+n,-1*n);return h1(r)}function L6(t,e,n){const r=EM(t,n);if(!r.some(a=>f1(a.cell)>1))return!0;let i=n,l=n;return r.forEach(a=>{const u=f1(a.cell);i=Math.max(i,a.row+u-1),l=Math.min(l,a.row)}),e<n?n===i:n===l}function P6(t,e,n){const r=TM(t,n);if(!r.some(a=>kp(a.cell)>1))return!0;let i=n,l=n;return r.forEach(a=>{const u=kp(a.cell);i=Math.max(i,a.col+u-1),l=Math.min(l,a.col)}),e<n?n===i:n===l}function _J(t,e,n){const r=Cp(t,n),i=Cp(e,n);return r.col===i.col}function aD(t,e,n,r){const i=[];for(const[l,a]of Object.entries(t.styles)){const u=n[l];if(!u)throw new Error(`style ${l} not found in styleSchema`);if(u.propSchema==="boolean")i.push(e.mark(l));else if(u.propSchema==="string")i.push(e.mark(l,{stringValue:a}));else throw new ya(u.propSchema)}return!r||!e.nodes[r].spec.code?t.text.split(/(\n)/g).filter(l=>l.length>0).map(l=>l===`
`?e.nodes.hardBreak.createChecked():e.text(l,i)):[e.text(t.text,i)]}function SJ(t,e,n){const r=e.marks.link.create({href:t.href});return AM(t.content,e,n).map(i=>{if(i.type.name==="text")return i.mark([...i.marks,r]);if(i.type.name==="hardBreak")return i;throw new Error("unexpected node type")})}function AM(t,e,n,r){const i=[];if(typeof t=="string")return i.push(...aD({text:t,styles:{}},e,n,r)),i;for(const l of t)i.push(...aD(l,e,n,r));return i}function ql(t,e,n,r){const i=[];for(const l of t)typeof l=="string"?i.push(...AM(l,e,n,r)):x6(l)?i.push(...SJ(l,e,n)):wp(l)?i.push(...AM([l],e,n,r)):i.push(I6(l,e,n));return i}function x_(t,e,n){const r=[],i=new Array(t.headerRows??0).fill(!0),l=new Array(t.headerCols??0).fill(!0),a=t.columnWidths??[];for(let u=0;u<t.rows.length;u++){const d=t.rows[u],h=[],p=i[u];for(let y=0;y<d.cells.length;y++){const v=d.cells[y],w=l[y],C=void 0;let S=null;const E=Cp({row:u,col:y},{content:t});let A=a[E.col]?[a[E.col]]:null;if(v)if(typeof v=="string")S=e.text(v);else if(d1(v)){v.content&&(S=ql(v.content,e,n));const I=kp(v);I>1&&(A=new Array(I).fill(!1).map((B,F)=>a[E.col+F]??void 0))}else S=ql(v,e,n);const N=e.nodes[w||p?"tableHeader":"tableCell"].createChecked({...d1(v)?v.props:{},colwidth:A},e.nodes.tableParagraph.createChecked(C,S));h.push(N)}const g=e.nodes.tableRow.createChecked({},h);r.push(g)}return r}function I6(t,e,n){let r,i=t.type;if(i===void 0&&(i="paragraph"),!e.nodes[i])throw new Error(`node type ${i} not found in schema`);if(!t.content)r=e.nodes[i].createChecked(t.props);else if(typeof t.content=="string"){const l=ql([t.content],e,n,i);r=e.nodes[i].createChecked(t.props,l)}else if(Array.isArray(t.content)){const l=ql(t.content,e,n,i);r=e.nodes[i].createChecked(t.props,l)}else if(t.content.type==="tableContent"){const l=x_(t.content,e,n);r=e.nodes[i].createChecked(t.props,l)}else throw new ya(t.content.type);return r}function Ap(t,e,n){let r=t.id;r===void 0&&(r=D1.options.generateID());const i=[];if(t.children)for(const l of t.children)i.push(Ap(l,e,n));if(!t.type||e.nodes[t.type].isInGroup("blockContent")){const l=I6(t,e,n),a=i.length>0?e.nodes.blockGroup.createChecked({},i):void 0;return e.nodes.blockContainer.createChecked({id:r,...t.props},a?[l,a]:l)}else{if(e.nodes[t.type].isInGroup("bnBlock"))return e.nodes[t.type].createChecked({id:r,...t.props},i);throw new Error(`block type ${t.type} doesn't match blockContent or bnBlock group`)}}function ni(t,e){let n,r;if(e.firstChild.descendants((i,l)=>n?!1:!i.type.isInGroup("bnBlock")||i.attrs.id!==t?!0:(n=i,r=l+1,!1)),!(n===void 0||r===void 0))return{node:n,posBeforeNode:r}}const Nr=(t,e,n)=>({state:r,dispatch:i})=>{const l=O1(r.doc.resolve(e));if(i){const a=r.schema.nodes[l.blockNoteType],u=r.schema.nodes[n.type||l.blockNoteType],d=u.isInGroup("bnBlock")?u:r.schema.nodes.blockContainer;if(l.isBlockContainer&&u.isInGroup("blockContent"))cD(n,r,t,l),xJ(n,r,t,a,u,l);else if(!l.isBlockContainer&&u.isInGroup("bnBlock"))cD(n,r,t,l);else{const h=jn(l.bnBlock.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache);return r.tr.replaceWith(l.bnBlock.beforePos,l.bnBlock.afterPos,Ap({children:h.children,...n},r.schema,t.schema.styleSchema)),!0}r.tr.setNodeMarkup(l.bnBlock.beforePos,d,{...l.bnBlock.node.attrs,...n.props})}return!0};function xJ(t,e,n,r,i,l){let a="keep";if(t.content)if(typeof t.content=="string")a=ql([t.content],e.schema,n.schema.styleSchema,i.name);else if(Array.isArray(t.content))a=ql(t.content,e.schema,n.schema.styleSchema,i.name);else if(t.content.type==="tableContent")a=x_(t.content,e.schema,n.schema.styleSchema);else throw new ya(t.content.type);else r.spec.content===""||i.spec.content!==r.spec.content&&(a=[]);a==="keep"?e.tr.setNodeMarkup(l.blockContent.beforePos,t.type===void 0?void 0:e.schema.nodes[t.type],{...l.blockContent.node.attrs,...t.props}):e.tr.replaceWith(l.blockContent.beforePos,l.blockContent.afterPos,i.createChecked({...l.blockContent.node.attrs,...t.props},a))}function cD(t,e,n,r){if(t.children!==void 0&&t.children.length>0){const i=t.children.map(l=>Ap(l,e.schema,n.schema.styleSchema));if(r.childContainer)e.tr.step(new xr(r.childContainer.beforePos+1,r.childContainer.afterPos-1,new Se(se.from(i),0,0)));else{if(!r.isBlockContainer)throw new Error("impossible");e.tr.insert(r.blockContent.afterPos,e.schema.nodes.blockGroup.createChecked({},i))}}}function EJ(t,e,n){const r=t._tiptapEditor,i=typeof e=="string"?e:e.id,l=ni(i,r.state.doc);if(!l)throw new Error(`Block with ID ${i} not found`);r.commands.command(({state:u,dispatch:d})=>(Nr(t,l.posBeforeNode,n)({state:u,dispatch:d}),!0));const a=r.state.doc.resolve(l.posBeforeNode+1).node();return jn(a,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function B6(t){const e=Array.from(t.classList).filter(n=>!n.startsWith("bn-"))||[];e.length>0?t.className=e.join(" "):t.removeAttribute("class")}function j6(t,e,n,r){let i;if(e)if(typeof e=="string")i=ql([e],t.pmSchema,t.schema.styleSchema);else if(Array.isArray(e))i=ql(e,t.pmSchema,t.schema.styleSchema);else if(e.type==="tableContent")i=x_(e,t.pmSchema,t.schema.styleSchema);else throw new ya(e.type);else throw new Error("blockContent is required");const l=n.serializeFragment(se.from(i),r);return l.nodeType===1&&B6(l),l}function TJ(t,e,n,r,i,l,a){var u,d,h,p,g,y,v,w;const C=(a==null?void 0:a.document)??document,S=e.pmSchema.nodes.blockContainer;let E=n.props;if(!n.props){E={};for(const[q,Z]of Object.entries(e.schema.blockSchema[n.type].propSchema))Z.default!==void 0&&(E[q]=Z.default)}const A=(d=(u=S.spec)==null?void 0:u.toDOM)==null?void 0:d.call(u,S.create({id:n.id,...E})),N=Array.from(A.dom.attributes),I=e.blockImplementations[n.type].implementation.toExternalHTML({...n,props:E},e),B=C.createDocumentFragment();if(I.dom.classList.contains("bn-block-content")){const q=[...N,...Array.from(I.dom.attributes)].filter(Z=>Z.name.startsWith("data")&&Z.name!=="data-content-type"&&Z.name!=="data-file-block"&&Z.name!=="data-node-view-wrapper"&&Z.name!=="data-node-type"&&Z.name!=="data-id"&&Z.name!=="data-index"&&Z.name!=="data-editable");for(const Z of q)I.dom.firstChild.setAttribute(Z.name,Z.value);B6(I.dom.firstChild),B.append(...Array.from(I.dom.childNodes))}else B.append(I.dom);if(I.contentDOM&&n.content){const q=j6(e,n.content,r,a);I.contentDOM.appendChild(q)}let F;if(i.has(n.type)?F="OL":l.has(n.type)&&(F="UL"),F){if(((h=t.lastChild)==null?void 0:h.nodeName)!==F){const Z=C.createElement(F);F==="OL"&&E!=null&&E.start&&(E==null?void 0:E.start)!==1&&Z.setAttribute("start",E.start+""),t.append(Z)}const q=C.createElement("li");q.append(B),t.lastChild.appendChild(q)}else t.append(B);if(n.children&&n.children.length>0){const q=C.createDocumentFragment();if(z6(q,e,n.children,r,i,l,a),((p=t.lastChild)==null?void 0:p.nodeName)==="UL"||((g=t.lastChild)==null?void 0:g.nodeName)==="OL")for(;((y=q.firstChild)==null?void 0:y.nodeName)==="UL"||((v=q.firstChild)==null?void 0:v.nodeName)==="OL";)t.lastChild.lastChild.appendChild(q.firstChild);e.pmSchema.nodes[n.type].isInGroup("blockContent")?t.append(q):(w=I.contentDOM)==null||w.append(q)}}const z6=(t,e,n,r,i,l,a)=>{for(const u of n)TJ(t,e,u,r,i,l,a)},MJ=(t,e,n,r,i,l)=>{const a=((l==null?void 0:l.document)??document).createDocumentFragment();return z6(a,t,e,n,r,i,l),a},E_=(t,e)=>{const n=ku.fromSchema(t);return{exportBlocks:(r,i)=>{const l=MJ(e,r,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem"]),i),a=document.createElement("div");return a.append(l),a.innerHTML},exportInlineContent:(r,i)=>{const l=j6(e,r,n,i),a=document.createElement("div");return a.append(l.cloneNode(!0)),a.innerHTML}}};function AJ(t,e,n,r,i){let l;if(e)if(typeof e=="string")l=ql([e],t.pmSchema,t.schema.styleSchema,r);else if(Array.isArray(e))l=ql(e,t.pmSchema,t.schema.styleSchema,r);else if(e.type==="tableContent")l=x_(e,t.pmSchema,t.schema.styleSchema);else throw new ya(e.type);else throw new Error("blockContent is required");return n.serializeFragment(se.from(l),i)}function RJ(t,e,n,r,i){var l,a,u,d,h;const p=t.pmSchema.nodes.blockContainer;let g=e.props;if(!e.props){g={};for(const[w,C]of Object.entries(t.schema.blockSchema[e.type].propSchema))C.default!==void 0&&(g[w]=C.default)}const y=t.blockImplementations[e.type].implementation.toInternalHTML({...e,props:g},t);if(e.type==="numberedListItem"&&y.dom.setAttribute("data-index",r.toString()),y.contentDOM&&e.content){const w=AJ(t,e.content,n,e.type,i);y.contentDOM.appendChild(w)}if(t.pmSchema.nodes[e.type].isInGroup("bnBlock")){if(e.children&&e.children.length>0){const w=$6(t,e.children,n,i);(l=y.contentDOM)==null||l.append(w)}return y.dom}const v=(u=(a=p.spec)==null?void 0:a.toDOM)==null?void 0:u.call(a,p.create({id:e.id,...g}));return(d=v.contentDOM)==null||d.appendChild(y.dom),e.children&&e.children.length>0&&((h=v.contentDOM)==null||h.appendChild(H6(t,e.children,n,i))),v.dom}function $6(t,e,n,r){const i=((r==null?void 0:r.document)??document).createDocumentFragment();let l=0;for(const a of e){a.type==="numberedListItem"?l++:l=0;const u=RJ(t,a,n,l,r);i.appendChild(u)}return i}const H6=(t,e,n,r)=>{var i;const l=t.pmSchema.nodes.blockGroup,a=l.spec.toDOM(l.create({})),u=$6(t,e,n,r);return(i=a.contentDOM)==null||i.appendChild(u),a.dom},NJ=(t,e)=>{const n=ku.fromSchema(t);return{serializeBlocks:(r,i)=>H6(e,r,n,i).outerHTML}},T_=(t,e)=>{const n=t.querySelector(e);if(!n)return;const r=t.querySelector("figcaption"),i=(r==null?void 0:r.textContent)??void 0;return{targetElement:n,caption:i}},OJ=(t,e,n,r)=>{const i=document.createElement("div");i.className="bn-add-file-button";const l=document.createElement("div");l.className="bn-add-file-button-icon",r?l.appendChild(r):l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',i.appendChild(l);const a=document.createElement("p");a.className="bn-add-file-button-text",a.innerHTML=n||e.dictionary.file_blocks.file.add_button_text,i.appendChild(a);const u=h=>{h.preventDefault()},d=()=>{e.dispatch(e._tiptapEditor.state.tr.setMeta(e.filePanel.plugin,{block:t}))};return i.addEventListener("mousedown",u,!0),i.addEventListener("click",d,!0),{dom:i,destroy:()=>{i.removeEventListener("mousedown",u,!0),i.removeEventListener("click",d,!0)}}},DJ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',LJ=t=>{const e=document.createElement("div");e.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=DJ,e.appendChild(n);const r=document.createElement("p");return r.className="bn-file-name",r.textContent=t.props.name,e.appendChild(r),{dom:e}},zR=(t,e,n,r,i)=>{const l=document.createElement("div");if(l.className="bn-file-block-content-wrapper",t.props.url===""){const u=OJ(t,e,r,i);l.appendChild(u.dom);const d=e.onUploadStart(h=>{if(h===t.id){l.removeChild(u.dom);const p=document.createElement("div");p.className="bn-file-loading-preview",p.textContent="Loading...",l.appendChild(p)}});return{dom:l,destroy:()=>{d(),u.destroy()}}}const a={dom:l};if(t.props.showPreview===!1||!n){const u=LJ(t);l.appendChild(u.dom),a.destroy=()=>{var d;(d=u.destroy)==null||d.call(u)}}else l.appendChild(n.dom);if(t.props.caption){const u=document.createElement("p");u.className="bn-file-caption",u.textContent=t.props.caption,l.appendChild(u)}return a},$R=(t,e)=>{const n=document.createElement("figure"),r=document.createElement("figcaption");return r.textContent=e,n.appendChild(t),n.appendChild(r),{dom:n}},M_=(t,e)=>{const n=document.createElement("div"),r=document.createElement("p");return r.textContent=e,n.appendChild(t),n.appendChild(r),{dom:n}},uD=t=>({url:t.src||void 0}),PJ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',IJ={backgroundColor:sr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},V6={type:"audio",propSchema:IJ,content:"none",isFileBlock:!0,fileBlockAccept:["audio/*"]},BJ=(t,e)=>{const n=document.createElement("div");n.innerHTML=PJ;const r=document.createElement("audio");return r.className="bn-audio",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{r.src=i}):r.src=t.props.url,r.controls=!0,r.contentEditable="false",r.draggable=!1,zR(t,e,{dom:r},e.dictionary.file_blocks.audio.add_button_text,n.firstElementChild)},U6=t=>{if(t.tagName==="AUDIO")return uD(t);if(t.tagName==="FIGURE"){const e=T_(t,"audio");if(!e)return;const{targetElement:n,caption:r}=e;return{...uD(n),caption:r}}},jJ=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add audio",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("audio"),e.src=t.props.url):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?$R(e,t.props.caption):M_(e,t.props.caption):{dom:e}},zJ=P1(V6,{render:BJ,parse:U6,toExternalHTML:jJ}),dD=Symbol.for("blocknote.shikiParser"),w2=Symbol.for("blocknote.shikiHighlighterPromise"),$J={language:{default:"text"}},HJ=yi({name:"codeBlock",content:"inline*",group:"blockContent",marks:"",code:!0,defining:!0,addOptions(){return{defaultLanguage:"text",indentLineWithTab:!0,supportedLanguages:{}}},addAttributes(){const t=this.options;return{language:{default:t.editor.settings.codeBlock.defaultLanguage,parseHTML:e=>{let n=e,r=null;(n==null?void 0:n.tagName)==="DIV"&&(n==null?void 0:n.dataset.contentType)==="codeBlock"&&(n=n.children[0]),(n==null?void 0:n.tagName)==="PRE"&&(n=n==null?void 0:n.children[0]);const i=n==null?void 0:n.getAttribute("data-language");if(i)r=i.toLowerCase();else{const l=[...(n==null?void 0:n.className.split(" "))||[]].filter(a=>a.startsWith("language-")).map(a=>a.replace("language-",""));l.length>0&&(r=l[0].toLowerCase())}return r?fD(t.editor.settings.codeBlock,r):null},renderHTML:e=>e.language?{class:`language-${e.language}`,"data-language":e.language}:{}}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:"code"},{tag:"pre",contentElement:"code",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:t}){var e,n;const r=document.createElement("pre"),{dom:i,contentDOM:l}=va(this.name,"code",((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},{...((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{},...t});return i.removeChild(l),i.appendChild(r),r.appendChild(l),{dom:i,contentDOM:l}},addNodeView(){const t=this.options;return({editor:e,node:n,getPos:r,HTMLAttributes:i})=>{var l,a;const u=document.createElement("pre"),d=document.createElement("select"),h=document.createElement("div"),{dom:p,contentDOM:g}=va(this.name,"code",{...((l=this.options.domAttributes)==null?void 0:l.blockContent)||{},...i},((a=this.options.domAttributes)==null?void 0:a.inlineContent)||{}),y=v=>{const w=v.target.value;e.commands.command(({tr:C})=>(C.setNodeAttribute(r(),"language",w),!0))};return Object.entries(t.editor.settings.codeBlock.supportedLanguages).forEach(([v,{name:w}])=>{const C=document.createElement("option");C.value=v,C.text=w,d.appendChild(C)}),h.contentEditable="false",d.value=n.attrs.language||t.editor.settings.codeBlock.defaultLanguage,p.removeChild(g),p.appendChild(h),p.appendChild(u),u.appendChild(g),h.appendChild(d),d.addEventListener("change",y),{dom:p,contentDOM:g,update:v=>v.type===this.type,destroy:()=>{d.removeEventListener("change",y)}}}},addProseMirrorPlugins(){const t=this.options,e=globalThis;let n,r;return[DW({parser:i=>{if(!t.editor.settings.codeBlock.createHighlighter)return[];if(!n)return e[w2]=e[w2]||t.editor.settings.codeBlock.createHighlighter(),e[w2].then(a=>{n=a});const l=i.language;return l&&l!=="text"&&!n.getLoadedLanguages().includes(l)&&l in t.editor.settings.codeBlock.supportedLanguages?n.loadLanguage(l):(r||(r=e[dD]||LW(n),e[dD]=r),r(i))},languageExtractor:i=>i.attrs.language,nodeTypes:[this.name]})]},addInputRules(){const t=this.options;return[new nd({find:/^```(.*?)\s$/,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),l=r[1].trim(),a={language:fD(t.editor.settings.codeBlock,l)};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),this.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,this.type,a).setSelection(Ve.create(e.tr.doc,n.from))}})]},addKeyboardShortcuts(){return{Delete:({editor:t})=>{const{selection:e}=t.state,{$from:n}=e;if(t.isActive(this.name)&&!n.parent.textContent&&u_(e)){const r=n.pos-n.parentOffset-2;return t.chain().setNodeSelection(r).deleteSelection().run(),!0}return!1},Tab:({editor:t})=>this.options.indentLineWithTab&&t.isActive(this.name)?(t.commands.insertContent("  "),!0):!1,Enter:({editor:t})=>{const{$from:e}=t.state.selection;if(!t.isActive(this.name))return!1;const n=e.parentOffset===e.parent.nodeSize-2,r=e.parent.textContent.endsWith(`

`);return!n||!r?(t.commands.insertContent(`
`),!0):t.chain().command(({tr:i})=>(i.delete(e.pos-2,e.pos),!0)).exitCode().run()},"Shift-Enter":({editor:t})=>{const{$from:e}=t.state.selection;return t.isActive(this.name)?(t.chain().insertContentAt(e.pos-e.parentOffset+e.parent.nodeSize,{type:"paragraph"}).run(),!0):!1}}}}),VJ=Yl(HJ,$J);function fD(t,e){var n;return((n=Object.entries(t.supportedLanguages).find(([r,{aliases:i}])=>(i==null?void 0:i.includes(e))||r===e))==null?void 0:n[0])||e}const hD=t=>({url:t.src||void 0}),UJ={backgroundColor:sr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},F6={type:"file",propSchema:UJ,content:"none",isFileBlock:!0},FJ=(t,e)=>zR(t,e),G6=t=>{if(t.tagName==="EMBED")return hD(t);if(t.tagName==="FIGURE"){const e=T_(t,"embed");if(!e)return;const{targetElement:n,caption:r}=e;return{...hD(n),caption:r}}},GJ=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const e=document.createElement("a");return e.href=t.props.url,e.textContent=t.props.name||t.props.url,t.props.caption?M_(e,t.props.caption):{dom:e}},qJ=P1(F6,{render:FJ,parse:G6,toExternalHTML:GJ}),q6=(t,e,n,r,i,l)=>{const{dom:a,destroy:u}=zR(t,e,n,i,l),d=a;t.props.url&&t.props.showPreview&&(d.style.width=`${t.props.previewWidth}px`);const h=document.createElement("div");h.className="bn-resize-handle",h.style.left="4px";const p=document.createElement("div");p.className="bn-resize-handle",p.style.right="4px";let g,y=t.props.previewWidth;const v=N=>{if(!g){!e.isEditable&&r.contains(h)&&r.contains(p)&&(r.removeChild(h),r.removeChild(p));return}let I;t.props.textAlignment==="center"?g.handleUsed==="left"?I=g.initialWidth+(g.initialClientX-N.clientX)*2:I=g.initialWidth+(N.clientX-g.initialClientX)*2:g.handleUsed==="left"?I=g.initialWidth+g.initialClientX-N.clientX:I=g.initialWidth+N.clientX-g.initialClientX,y=Math.max(I,64),d.style.width=`${y}px`},w=N=>{(!N.target||!d.contains(N.target)||!e.isEditable)&&r.contains(h)&&r.contains(p)&&(r.removeChild(h),r.removeChild(p)),g&&(g=void 0,e.updateBlock(t,{props:{previewWidth:y}}))},C=()=>{e.isEditable&&(r.appendChild(h),r.appendChild(p))},S=N=>{N.relatedTarget===h||N.relatedTarget===p||g||e.isEditable&&r.contains(h)&&r.contains(p)&&(r.removeChild(h),r.removeChild(p))},E=N=>{N.preventDefault(),g={handleUsed:"left",initialWidth:d.clientWidth,initialClientX:N.clientX}},A=N=>{N.preventDefault(),g={handleUsed:"right",initialWidth:d.clientWidth,initialClientX:N.clientX}};return window.addEventListener("mousemove",v),window.addEventListener("mouseup",w),d.addEventListener("mouseenter",C),d.addEventListener("mouseleave",S),h.addEventListener("mousedown",E),p.addEventListener("mousedown",A),{dom:d,destroy:()=>{u==null||u(),window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",w),d.removeEventListener("mouseenter",C),d.removeEventListener("mouseleave",S),h.removeEventListener("mousedown",E),p.removeEventListener("mousedown",A)}}},pD=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},WJ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',KJ={textAlignment:sr.textAlignment,backgroundColor:sr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},W6={type:"image",propSchema:KJ,content:"none",isFileBlock:!0,fileBlockAccept:["image/*"]},ZJ=(t,e)=>{const n=document.createElement("div");n.innerHTML=WJ;const r=document.createElement("div");r.className="bn-visual-media-wrapper";const i=document.createElement("img");return i.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(l=>{i.src=l}):i.src=t.props.url,i.alt=t.props.name||t.props.caption||"BlockNote image",i.contentEditable="false",i.draggable=!1,r.appendChild(i),q6(t,e,{dom:r},r,e.dictionary.file_blocks.image.add_button_text,n.firstElementChild)},K6=t=>{if(t.tagName==="IMG")return pD(t);if(t.tagName==="FIGURE"){const e=T_(t,"img");if(!e)return;const{targetElement:n,caption:r}=e;return{...pD(n),caption:r}}},XJ=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add image",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("img"),e.src=t.props.url,e.alt=t.props.name||t.props.caption||"BlockNote image",e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?$R(e,t.props.caption):M_(e,t.props.caption):{dom:e}},YJ=P1(W6,{render:ZJ,parse:K6,toExternalHTML:XJ}),QJ={type:"pageBreak",propSchema:{},content:"none",isFileBlock:!1,isSelectable:!1},JJ=()=>{const t=document.createElement("div");return t.className="bn-page-break",t.setAttribute("data-page-break",""),{dom:t}},eee=t=>{if(t.tagName==="DIV"&&t.hasAttribute("data-page-break"))return{type:"pageBreak"}},tee=()=>{const t=document.createElement("div");return t.setAttribute("data-page-break",""),{dom:t}},nee=P1(QJ,{render:JJ,parse:eee,toExternalHTML:tee}),ree=gi.create({name:"backgroundColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-background-color"),renderHTML:t=>({"data-background-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-background-color")?{stringValue:t.getAttribute("data-background-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),oee=Uh(ree,"string"),iee=gi.create({name:"textColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-text-color"),renderHTML:t=>({"data-text-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-text-color")?{stringValue:t.getAttribute("data-text-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),see=Uh(iee,"string"),Z6={...sr,level:{default:1,values:[1,2,3]}},lee=yi({name:"heading",content:"inline*",group:"blockContent",addAttributes(){return L1(Z6)},addInputRules(){return[...[1,2,3].map(t=>new nd({find:new RegExp(`^(#{${t}})\\s$`),handler:({state:e,chain:n,range:r})=>{const i=Yt(e);!i.isBlockContainer||i.blockContent.node.type.spec.content!=="inline*"||n().command(Nr(this.options.editor,i.bnBlock.beforePos,{type:"heading",props:{level:t}})).deleteRange({from:r.from,to:r.to}).run()}}))]},addKeyboardShortcuts(){return{"Mod-Alt-1":()=>{const t=Yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Nr(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:1}}))},"Mod-Alt-2":()=>{const t=Yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Nr(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:2}}))},"Mod-Alt-3":()=>{const t=Yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Nr(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:3}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"h1",attrs:{level:1},node:"heading"},{tag:"h2",attrs:{level:2},node:"heading"},{tag:"h3",attrs:{level:3},node:"heading"}]},renderHTML({node:t,HTMLAttributes:e}){var n,r;return va(this.name,`h${t.attrs.level}`,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{})}}),aee=Yl(lee,Z6),X6=(t,e,n)=>({state:r,dispatch:i})=>{const l=mu(r.doc,t),a=sd(l);if(!a.isBlockContainer)throw new Error(`BlockContainer expected when calling splitBlock, position ${t}`);const u=[{type:a.bnBlock.node.type,attrs:n?{...a.bnBlock.node.attrs,id:void 0}:{}},{type:e?a.blockContent.node.type:r.schema.nodes.paragraph,attrs:n?{...a.blockContent.node.attrs}:{}}];return i&&r.tr.split(t,2,u),!0},HR=t=>{const e=t._tiptapEditor,n=Yt(e.state);if(!n.isBlockContainer)return!1;const{bnBlock:r,blockContent:i}=n,l=e.state.selection.anchor===e.state.selection.head;return!(i.node.type.name==="bulletListItem"||i.node.type.name==="numberedListItem"||i.node.type.name==="checkListItem")||!l?!1:e.commands.first(({state:a,chain:u,commands:d})=>[()=>d.command(()=>i.node.childCount===0?d.command(Nr(t,r.beforePos,{type:"paragraph",props:{}})):!1),()=>d.command(()=>i.node.childCount>0?(u().deleteSelection().command(X6(a.selection.from,!0)).run(),!0):!1)])},cee={...sr},uee=yi({name:"bulletListItem",content:"inline*",group:"blockContent",priority:90,addInputRules(){return[new nd({find:new RegExp("^[-+*]\\s$"),handler:({state:t,chain:e,range:n})=>{const r=Yt(t);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||e().command(Nr(this.options.editor,r.bnBlock.beforePos,{type:"bulletListItem",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>HR(this.options.editor),"Mod-Shift-8":()=>{const t=Yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Nr(this.options.editor,t.bnBlock.beforePos,{type:"bulletListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"?{}:!1},node:"bulletListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="bulletListItem"?{}:!1},priority:300,node:"bulletListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return va(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),dee=Yl(uee,cee),Y6={...sr,checked:{default:!1}},fee=yi({name:"checkListItem",content:"inline*",group:"blockContent",addAttributes(){return L1(Y6)},addInputRules(){return[new nd({find:new RegExp("\\[\\s*\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const r=Yt(t);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||e().command(Nr(this.options.editor,r.bnBlock.beforePos,{type:"checkListItem",props:{checked:!1}})).deleteRange({from:n.from,to:n.to})}}),new nd({find:new RegExp("\\[[Xx]\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const r=Yt(t);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||e().command(Nr(this.options.editor,r.bnBlock.beforePos,{type:"checkListItem",props:{checked:!0}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>HR(this.options.editor),"Mod-Shift-9":()=>{const t=Yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Nr(this.options.editor,t.bnBlock.beforePos,{type:"checkListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"input",getAttrs:t=>typeof t=="string"?!1:t.type==="checkbox"?{checked:t.checked}:!1,node:"checkListItem"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"){const n=t.querySelector("input[type=checkbox]")||null;return n===null?!1:{checked:n.checked}}return!1},node:"checkListItem"}]},renderHTML({node:t,HTMLAttributes:e}){var n,r;const i=document.createElement("input");i.type="checkbox",i.checked=t.attrs.checked,t.attrs.checked&&i.setAttribute("checked","");const{dom:l,contentDOM:a}=va(this.name,"p",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{});return l.insertBefore(i,a),{dom:l,contentDOM:a}},addNodeView(){return({node:t,getPos:e,editor:n,HTMLAttributes:r})=>{var i,l;const a=document.createElement("div"),u=document.createElement("div");u.contentEditable="false";const d=document.createElement("input");d.type="checkbox",d.checked=t.attrs.checked,t.attrs.checked&&d.setAttribute("checked","");const h=()=>{if(!n.isEditable){d.checked=!d.checked;return}if(typeof e!="boolean"){const y=mu(n.state.doc,e());if(y.node.type.name!=="blockContainer")throw new Error(`Expected blockContainer node, got ${y.node.type.name}`);this.editor.commands.command(Nr(this.options.editor,y.posBeforeNode,{type:"checkListItem",props:{checked:d.checked}}))}};d.addEventListener("change",h);const{dom:p,contentDOM:g}=va(this.name,"p",{...((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},...r},((l=this.options.domAttributes)==null?void 0:l.inlineContent)||{});if(typeof e!="boolean"){const y="label-"+this.editor.state.doc.resolve(e()).node().attrs.id;d.setAttribute("aria-labelledby",y),g.id=y}return p.removeChild(g),p.appendChild(a),a.appendChild(u),a.appendChild(g),u.appendChild(d),{dom:p,contentDOM:g,destroy:()=>{d.removeEventListener("change",h)}}}}}),hee=Yl(fee,Y6),pee=new Ht("numbered-list-indexing"),mee=()=>new Ct({key:pee,appendTransaction:(t,e,n)=>{const r=n.tr;r.setMeta("numberedListIndexing",!0);let i=!1;return n.doc.descendants((l,a)=>{var u;if(l.type.name==="blockContainer"&&l.firstChild.type.name==="numberedListItem"){let d=`${l.firstChild.attrs.start||1}`;const h=sd({posBeforeNode:a,node:l});if(!h.isBlockContainer)throw new Error("impossible");const p=r.doc.resolve(h.bnBlock.beforePos).nodeBefore;if(p){const w=sd({posBeforeNode:h.bnBlock.beforePos-p.nodeSize,node:p});if(w.blockNoteType==="numberedListItem"){if(!w.isBlockContainer)throw new Error("impossible");const C=w.blockContent.node.attrs.index;d=(parseInt(C)+1).toString()}}const g=h.blockContent.node,y=g.attrs.index,v=((u=p==null?void 0:p.firstChild)==null?void 0:u.type.name)!=="numberedListItem";if(y!==d||g.attrs.start&&!v){i=!0;const{start:w,...C}=g.attrs;r.setNodeMarkup(h.blockContent.beforePos,void 0,{...C,index:d,...typeof w=="number"&&v&&{start:w}})}}}),i?r:null}}),Q6={...sr,start:{default:void 0,type:"number"}},gee=yi({name:"numberedListItem",content:"inline*",group:"blockContent",priority:90,addAttributes(){return{...L1(Q6),index:{default:null,parseHTML:t=>t.getAttribute("data-index"),renderHTML:t=>({"data-index":t.index})}}},addInputRules(){return[new nd({find:new RegExp("^(\\d+)\\.\\s$"),handler:({state:t,chain:e,range:n,match:r})=>{const i=Yt(t);if(!i.isBlockContainer||i.blockContent.node.type.spec.content!=="inline*"||i.blockNoteType==="numberedListItem")return;const l=parseInt(r[1]);e().command(Nr(this.options.editor,i.bnBlock.beforePos,{type:"numberedListItem",props:l===1&&{}||{start:l}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>HR(this.options.editor),"Mod-Shift-7":()=>{const t=Yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Nr(this.options.editor,t.bnBlock.beforePos,{type:"numberedListItem",props:{}}))}}},addProseMirrorPlugins(){return[mee()]},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="OL"||e.tagName==="DIV"&&e.parentElement.tagName==="OL"){const n=parseInt(e.getAttribute("start")||"1")||1;return t.previousSibling||n===1?{}:{start:n}}return!1},node:"numberedListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="numberedListItem"?{}:!1},priority:300,node:"numberedListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return va(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),bee=Yl(gee,Q6),yee={...sr},vee=yi({name:"paragraph",content:"inline*",group:"blockContent",addKeyboardShortcuts(){return{"Mod-Alt-0":()=>{const t=Yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Nr(this.options.editor,t.bnBlock.beforePos,{type:"paragraph",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"p",priority:200,getAttrs:t=>{var e;return typeof t=="string"||!((e=t.textContent)!=null&&e.trim())?!1:{}},node:"paragraph"}]},renderHTML({HTMLAttributes:t}){var e,n;return va(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),wee=Yl(vee,yee),kee={...sr},Cee=yi({name:"quote",content:"inline*",group:"blockContent",addInputRules(){return[new nd({find:new RegExp("^>\\s$"),handler:({state:t,chain:e,range:n})=>{const r=Yt(t);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||e().command(Nr(this.options.editor,r.bnBlock.beforePos,{type:"quote",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{"Mod-Alt-q":()=>{const t=Yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Nr(this.options.editor,t.bnBlock.beforePos,{type:"quote"}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"blockquote",node:"quote"}]},renderHTML({HTMLAttributes:t}){var e,n;return va(this.name,"blockquote",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),_ee=Yl(Cee,kee),See=35,VR=120,xee=31,Eee=an.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[kK({cellMinWidth:See,defaultCellMinWidth:VR,View:null}),NK()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const t=this.editor.state.selection,e=t.empty,n=t.$head.parentOffset===0,r=t.$head.node().type.name==="tableParagraph";return e&&n&&r},Tab:()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>uO(1)(t,e,n)),"Shift-Tab":()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>uO(-1)(t,e,n))}},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Bt(je(t,"tableRole",e))}}}),Tee={textColor:sr.textColor},Mee=yi({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){var e,n;return va(this.name,"table",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})},addNodeView(){return({node:t,HTMLAttributes:e})=>{var n;class r extends lB{constructor(l,a,u){super(l,a),this.node=l,this.cellMinWidth=a,this.blockContentHTMLAttributes=u;const d=document.createElement("div");d.className=er("bn-block-content",u.class),d.setAttribute("data-content-type","table");for(const[y,v]of Object.entries(u))y!=="class"&&d.setAttribute(y,v);const h=this.dom,p=document.createElement("div");p.className="tableWrapper-inner",p.appendChild(h.firstChild),h.appendChild(p),d.appendChild(h);const g=document.createElement("div");g.className="table-widgets-container",g.style.position="relative",h.appendChild(g),this.dom=d}ignoreMutation(l){return!l.target.closest(".tableWrapper-inner")||super.ignoreMutation(l)}}return new r(t,VR,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e})}}}),Aee=yi({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{preserveWhitespace:"full",priority:210,context:"tableContent",tag:"p",getAttrs:t=>({})},{tag:"p",getAttrs:t=>{if(typeof t=="string"||!t.textContent)return!1;const e=t.parentElement;return e===null?!1:e.tagName==="TD"?{}:!1}}]},renderHTML({HTMLAttributes:t}){return["p",t,0]}}),Ree=Yl(Mee,Tee,[Eee,Aee,XK.extend({content:"tableContent+"}),ZK.extend({content:"tableContent+"}),YK]),mD=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},Nee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',Oee={textAlignment:sr.textAlignment,backgroundColor:sr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},J6={type:"video",propSchema:Oee,content:"none",isFileBlock:!0,fileBlockAccept:["video/*"]},Dee=(t,e)=>{const n=document.createElement("div");n.innerHTML=Nee;const r=document.createElement("div");r.className="bn-visual-media-wrapper";const i=document.createElement("video");return i.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(l=>{i.src=l}):i.src=t.props.url,i.controls=!0,i.contentEditable="false",i.draggable=!1,i.width=t.props.previewWidth,r.appendChild(i),q6(t,e,{dom:r},r,e.dictionary.file_blocks.video.add_button_text,n.firstElementChild)},e7=t=>{if(t.tagName==="VIDEO")return mD(t);if(t.tagName==="FIGURE"){const e=T_(t,"video");if(!e)return;const{targetElement:n,caption:r}=e;return{...mD(n),caption:r}}},Lee=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add video",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("video"),e.src=t.props.url,e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?$R(e,t.props.caption):M_(e,t.props.caption):{dom:e}},Pee=P1(J6,{render:Dee,parse:e7,toExternalHTML:Lee}),UR={paragraph:wee,heading:aee,quote:_ee,codeBlock:VJ,bulletListItem:dee,numberedListItem:bee,checkListItem:hee,table:Ree,file:qJ,image:YJ,video:Pee,audio:zJ},Iee=T6(UR),FR={bold:Uh(IK,"boolean"),italic:Uh(FK,"boolean"),underline:Uh(KK,"boolean"),strike:Uh(WK,"boolean"),code:Uh(zK,"boolean"),textColor:see,backgroundColor:oee};O6(FR);const t7={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},Bee=N6(t7);function si(t,e){return t in e.schema.blockSchema&&e.schema.blockSchema[t]===Iee[t]}function jee(t,e){return t in e.schema.inlineContentSchema&&e.schema.inlineContentSchema[t]===Bee[t]}function zee(t,e,n){return e.type===t&&e.type in n.schema.blockSchema&&si(e.type,n)}function I1(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock||!1}function $ee(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock&&"showPreview"in e.schema.blockSchema[t.type].propSchema||!1}function B1(t,e){return e.schema.blockSchema[t.type].isFileBlock&&!t.props.url}function Qp(t,e,n){return e in n.schema.blockSchema&&t in n.schema.blockSchema[e].propSchema&&n.schema.blockSchema[e].propSchema[t]===sr[t]}function RM(t,e,n){return Qp(t,e.type,n)}function NM(t){return t instanceof un}function Hee(t){let e=t.getTextCursorPosition().block,n=t.schema.blockSchema[e.type].content;for(;n==="none";){if(e=t.getTextCursorPosition().nextBlock,e===void 0)return;n=t.schema.blockSchema[e.type].content,t.setTextCursorPosition(e,"end")}}function po(t,e){const n=t.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let r;return Array.isArray(n.content)&&(n.content.length===1&&wp(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(r=t.updateBlock(n,e),t.setTextCursorPosition(r)):(r=t.insertBlocks([e],n,"after")[0],t.setTextCursorPosition(t.getTextCursorPosition().nextBlock)),Hee(t),r}function Vee(t){const e=[];return si("heading",t)&&e.push({onItemClick:()=>{po(t,{type:"heading",props:{level:1}})},badge:xs("Mod-Alt-1"),key:"heading",...t.dictionary.slash_menu.heading},{onItemClick:()=>{po(t,{type:"heading",props:{level:2}})},badge:xs("Mod-Alt-2"),key:"heading_2",...t.dictionary.slash_menu.heading_2},{onItemClick:()=>{po(t,{type:"heading",props:{level:3}})},badge:xs("Mod-Alt-3"),key:"heading_3",...t.dictionary.slash_menu.heading_3}),si("quote",t)&&e.push({onItemClick:()=>{po(t,{type:"quote"})},key:"quote",...t.dictionary.slash_menu.quote}),si("numberedListItem",t)&&e.push({onItemClick:()=>{po(t,{type:"numberedListItem"})},badge:xs("Mod-Shift-7"),key:"numbered_list",...t.dictionary.slash_menu.numbered_list}),si("bulletListItem",t)&&e.push({onItemClick:()=>{po(t,{type:"bulletListItem"})},badge:xs("Mod-Shift-8"),key:"bullet_list",...t.dictionary.slash_menu.bullet_list}),si("checkListItem",t)&&e.push({onItemClick:()=>{po(t,{type:"checkListItem"})},badge:xs("Mod-Shift-9"),key:"check_list",...t.dictionary.slash_menu.check_list}),si("paragraph",t)&&e.push({onItemClick:()=>{po(t,{type:"paragraph"})},badge:xs("Mod-Alt-0"),key:"paragraph",...t.dictionary.slash_menu.paragraph}),si("codeBlock",t)&&e.push({onItemClick:()=>{po(t,{type:"codeBlock"})},badge:xs("Mod-Alt-c"),key:"code_block",...t.dictionary.slash_menu.code_block}),si("table",t)&&e.push({onItemClick:()=>{po(t,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...t.dictionary.slash_menu.table}),si("image",t)&&e.push({onItemClick:()=>{const n=po(t,{type:"image"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"image",...t.dictionary.slash_menu.image}),si("video",t)&&e.push({onItemClick:()=>{const n=po(t,{type:"video"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"video",...t.dictionary.slash_menu.video}),si("audio",t)&&e.push({onItemClick:()=>{const n=po(t,{type:"audio"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"audio",...t.dictionary.slash_menu.audio}),si("file",t)&&e.push({onItemClick:()=>{const n=po(t,{type:"file"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"file",...t.dictionary.slash_menu.file}),e.push({onItemClick:()=>{t.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...t.dictionary.slash_menu.emoji}),e}function n7(t,e){return t.filter(({title:n,aliases:r})=>n.toLowerCase().includes(e.toLowerCase())||r&&r.filter(i=>i.toLowerCase().includes(e.toLowerCase())).length!==0)}function k2(t){return t&&Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0))}let $m=class r7{constructor(e){J(this,"blockSpecs"),J(this,"inlineContentSpecs"),J(this,"styleSpecs"),J(this,"blockSchema"),J(this,"inlineContentSchema"),J(this,"styleSchema"),J(this,"BlockNoteEditor","only for types"),J(this,"Block","only for types"),J(this,"PartialBlock","only for types"),this.blockSpecs=k2(e==null?void 0:e.blockSpecs)||UR,this.inlineContentSpecs=k2(e==null?void 0:e.inlineContentSpecs)||t7,this.styleSpecs=k2(e==null?void 0:e.styleSpecs)||FR,this.blockSchema=T6(this.blockSpecs),this.inlineContentSchema=N6(this.inlineContentSpecs),this.styleSchema=O6(this.styleSpecs)}static create(e){return new r7(e)}};$m.create({blockSpecs:{pageBreak:nee}});function Uee(t,e,n,r="before"){const i=typeof n=="string"?n:n.id,l=[];for(const d of e)l.push(Ap(d,t.pmSchema,t.schema.styleSchema));const a=ni(i,t._tiptapEditor.state.doc);if(!a)throw new Error(`Block with ID ${i} not found`);r==="before"&&t.dispatch(t._tiptapEditor.state.tr.insert(a.posBeforeNode,l)),r==="after"&&t.dispatch(t._tiptapEditor.state.tr.insert(a.posBeforeNode+a.node.nodeSize,l));const u=[];for(const d of l)u.push(jn(d,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));return u}function Fee(t){const e=t._tiptapEditor.state,n=e.selection,r=mu(e.doc,n.anchor);if(n instanceof un)return{type:"cell",anchorBlockId:r.node.attrs.id,anchorCellOffset:n.$anchorCell.pos-r.posBeforeNode,headCellOffset:n.$headCell.pos-r.posBeforeNode};if(t._tiptapEditor.state.selection instanceof Ue)return{type:"node",anchorBlockId:r.node.attrs.id};{const i=mu(e.doc,n.head);return{type:"text",anchorBlockId:r.node.attrs.id,headBlockId:i.node.attrs.id,anchorOffset:n.anchor-r.posBeforeNode,headOffset:n.head-i.posBeforeNode}}}function Gee(t,e){var n,r;const i=(n=ni(e.anchorBlockId,t._tiptapEditor.state.doc))==null?void 0:n.posBeforeNode;if(i===void 0)throw new Error(`Could not find block with ID ${e.anchorBlockId} to update selection`);let l;if(e.type==="cell")l=un.create(t._tiptapEditor.state.doc,i+e.anchorCellOffset,i+e.headCellOffset);else if(e.type==="node")l=Ue.create(t._tiptapEditor.state.doc,i+1);else{const a=(r=ni(e.headBlockId,t._tiptapEditor.state.doc))==null?void 0:r.posBeforeNode;if(a===void 0)throw new Error(`Could not find block with ID ${e.headBlockId} to update selection`);l=Ve.create(t._tiptapEditor.state.doc,i+e.anchorOffset,a+e.headOffset)}t.dispatch(t._tiptapEditor.state.tr.setSelection(l))}function OM(t){return t.map(e=>e.type==="columnList"?e.children.map(n=>OM(n.children)).flat():{...e,children:OM(e.children)}).flat()}function o7(t,e,n){var r;const i=((r=t.getSelection())==null?void 0:r.blocks)||[t.getTextCursorPosition().block],l=Fee(t);t.removeBlocks(i),t.insertBlocks(OM(i),e,n),Gee(t,l)}function i7(t){return!t||t.type!=="columnList"}function s7(t,e,n){let r,i;if(e?e.children.length>0?(r=e.children[e.children.length-1],i="after"):(r=e,i="before"):n&&(r=n,i="before"),!r||!i)return;const l=t.getParentBlock(r);return i7(l)?{referenceBlock:r,placement:i}:s7(t,i==="after"?r:t.getPrevBlock(r),l)}function l7(t,e,n){let r,i;if(e?e.children.length>0?(r=e.children[0],i="before"):(r=e,i="after"):n&&(r=n,i="after"),!r||!i)return;const l=t.getParentBlock(r);return i7(l)?{referenceBlock:r,placement:i}:l7(t,i==="before"?r:t.getNextBlock(r),l)}function qee(t){const e=t.getSelection(),n=(e==null?void 0:e.blocks[0])||t.getTextCursorPosition().block,r=s7(t,t.getPrevBlock(n),t.getParentBlock(n));r&&o7(t,r.referenceBlock,r.placement)}function Wee(t){const e=t.getSelection(),n=(e==null?void 0:e.blocks[(e==null?void 0:e.blocks.length)-1])||t.getTextCursorPosition().block,r=l7(t,t.getNextBlock(n),t.getParentBlock(n));r&&o7(t,r.referenceBlock,r.placement)}function Kee(t,e){return function({state:n,dispatch:r}){const{$from:i,$to:l}=n.selection,a=i.blockRange(l,h=>h.childCount>0&&(h.type.name==="blockGroup"||h.type.name==="column"));if(!a)return!1;const u=a.startIndex;if(u===0)return!1;const d=a.parent.child(u-1);if(d.type!==t)return!1;if(r){const h=d.lastChild&&d.lastChild.type===e,p=se.from(h?t.create():null),g=new Se(se.from(t.create(null,se.from(e.create(null,p)))),h?3:1,0),y=a.start,v=a.end;r(n.tr.step(new tr(y-(h?3:1),v,y,v,g,1,!0)).scrollIntoView())}return!0}}function a7(t){return t._tiptapEditor.commands.command(Kee(t._tiptapEditor.schema.nodes.blockContainer,t._tiptapEditor.schema.nodes.blockGroup))}function Zee(t){t._tiptapEditor.commands.liftListItem("blockContainer")}function Xee(t){const{bnBlock:e}=Yt(t._tiptapEditor.state);return t._tiptapEditor.state.doc.resolve(e.beforePos).nodeBefore!==null}function Yee(t){const{bnBlock:e}=Yt(t._tiptapEditor.state);return t._tiptapEditor.state.doc.resolve(e.beforePos).depth>1}function c7(t,e,n){const r=t._tiptapEditor;let i=r.state.tr;const l=[];for(const g of n)l.push(Ap(g,t.pmSchema,t.schema.styleSchema));const a=new Set(e.map(g=>typeof g=="string"?g:g.id)),u=[],d=typeof e[0]=="string"?e[0]:e[0].id;let h=0;if(r.state.doc.descendants((g,y)=>{if(a.size===0)return!1;if(!g.type.isInGroup("bnBlock")||!a.has(g.attrs.id))return!0;if(u.push(jn(g,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)),a.delete(g.attrs.id),n.length>0&&g.attrs.id===d){const S=i.doc.nodeSize;i=i.insert(y,l);const E=i.doc.nodeSize;h+=S-E}const v=i.doc.nodeSize,w=i.doc.resolve(y-h);w.node().type.name==="blockGroup"&&w.node(w.depth-1).type.name!=="doc"&&w.node().childCount===1?i=i.delete(w.before(),w.after()):i=i.delete(y-h,y-h+g.nodeSize);const C=i.doc.nodeSize;return h+=v-C,!1}),a.size>0){const g=[...a].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+g)}t.dispatch(i);const p=[];for(const g of l)p.push(jn(g,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));return{insertedBlocks:p,removedBlocks:u}}function Qee(t,e,n){return c7(t,e,n)}function Jee(t,e){return c7(t,e,[]).removedBlocks}function ete(t,e){const n=typeof e=="string"?e:e.id,r=ni(n,t._tiptapEditor.state.doc);if(r)return jn(r.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function tte(t,e){const n=typeof e=="string"?e:e.id,r=ni(n,t._tiptapEditor.state.doc);if(!r)return;const i=t._tiptapEditor.state.doc.resolve(r.posBeforeNode).nodeBefore;if(i)return jn(i,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function nte(t,e){const n=typeof e=="string"?e:e.id,r=ni(n,t._tiptapEditor.state.doc);if(!r)return;const i=t._tiptapEditor.state.doc.resolve(r.posBeforeNode+r.node.nodeSize).nodeAfter;if(i)return jn(i,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function rte(t,e){const n=typeof e=="string"?e:e.id,r=ni(n,t._tiptapEditor.state.doc);if(!r)return;const i=t._tiptapEditor.state.doc.resolve(r.posBeforeNode),l=i.node(),a=i.node(-1),u=a.type.name!=="doc"?l.type.name==="blockGroup"?a:l:void 0;if(u)return jn(u,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function ote(t,e,n,r={updateSelection:!0}){const i=n._tiptapEditor.state.tr;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0,h="";if(e.forEach(p=>{p.check(),u&&p.isText&&p.marks.length===0?h+=p.text:u=!1,d=d?p.isBlock:!1}),l===a&&d){const{parent:p}=i.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,a+=1)}return u?i.insertText(h,l,a):i.replaceWith(l,a,e),r.updateSelection&&BI(i,i.steps.length-1,-1),n.dispatch(i),!0}function ite(t){const e=t._tiptapEditor.state;if(e.selection.empty||"node"in e.selection)return;const n=e.doc.resolve(mu(e.doc,e.selection.from).posBeforeNode),r=e.doc.resolve(mu(e.doc,e.selection.to).posBeforeNode),i=(h,p)=>{const g=n.posAtIndex(h,p),y=e.doc.resolve(g).nodeAfter;if(!y)throw new Error(`Error getting selection - node not found at position ${g}`);return jn(y,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)},l=[],a=n.sharedDepth(r.pos),u=n.index(a),d=r.index(a);if(n.depth>a){l.push(jn(n.nodeAfter,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));for(let h=n.depth;h>a;h--)if(n.node(h).type.isInGroup("childContainer")){const p=n.index(h)+1,g=n.node(h).childCount;for(let y=p;y<g;y++)l.push(i(y,h))}}else l.push(i(u,a));for(let h=u+1;h<=d;h++)l.push(i(h,a));if(l.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${e.selection})`);return{blocks:l}}function ste(t,e,n){const r=typeof e=="string"?e:e.id,i=typeof n=="string"?n:n.id;if(r===i)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${r})`);const l=t._tiptapEditor.state.doc,a=ni(r,l);if(!a)throw new Error(`Block with ID ${r} not found`);const u=ni(i,l);if(!u)throw new Error(`Block with ID ${i} not found`);const d=sd(a),h=sd(u),p=t.schema.blockSchema[d.blockNoteType],g=t.schema.blockSchema[h.blockNoteType];if(!d.isBlockContainer||p.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);if(!h.isBlockContainer||g.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${i})`);let y,v;if(p.content==="table"){const w=Bn.get(d.blockContent.node);y=d.blockContent.beforePos+w.positionAt(0,0,d.blockContent.node)+1+2}else y=d.blockContent.beforePos+1;if(g.content==="table"){const w=Bn.get(h.blockContent.node),C=h.blockContent.beforePos+w.positionAt(w.height-1,w.width-1,h.blockContent.node)+1,S=l.resolve(C).nodeAfter.nodeSize;v=C+S-2}else v=h.blockContent.afterPos-1;t._tiptapEditor.dispatch(t._tiptapEditor.state.tr.setSelection(Ve.create(t._tiptapEditor.state.doc,y,v)))}function lte(t){const{bnBlock:e}=Yt(t._tiptapEditor.state),n=t._tiptapEditor.state.doc.resolve(e.beforePos),r=n.nodeBefore,i=t._tiptapEditor.state.doc.resolve(e.afterPos).nodeAfter;let l;return n.depth>1&&(l=n.node(),l.type.isInGroup("bnBlock")||(l=n.node(n.depth-1))),{block:jn(e.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),prevBlock:r===null?void 0:jn(r,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),nextBlock:i===null?void 0:jn(i,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),parentBlock:l===void 0?void 0:jn(l,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}}function u7(t,e,n="start"){const r=typeof e=="string"?e:e.id,i=ni(r,t._tiptapEditor.state.doc);if(!i)throw new Error(`Block with ID ${r} not found`);const l=sd(i),a=t.schema.blockSchema[l.blockNoteType].content;if(l.isBlockContainer){const u=l.blockContent;if(a==="none"){t._tiptapEditor.commands.setNodeSelection(u.beforePos);return}if(a==="inline")n==="start"?t._tiptapEditor.commands.setTextSelection(u.beforePos+1):t._tiptapEditor.commands.setTextSelection(u.afterPos-1);else if(a==="table")n==="start"?t._tiptapEditor.commands.setTextSelection(u.beforePos+4):t._tiptapEditor.commands.setTextSelection(u.afterPos-4);else throw new ya(a)}else{const u=n==="start"?l.childContainer.node.firstChild:l.childContainer.node.lastChild;u7(t,u.attrs.id,n)}}let Jp;async function GR(){if(Jp)return Jp;const t=await Promise.all([Me(()=>import("./index-CEUMQ-3D.js"),__vite__mapDeps([0,1,2,3,4])),Me(()=>import("./index-H3qU-P9G.js"),[]),Me(()=>import("./index-DpC7rhZX.js"),__vite__mapDeps([5,1,2])),Me(()=>import("./index-6FA2CVk0.js"),__vite__mapDeps([6,4])),Me(()=>import("./index-Dyr5PCx-.js"),__vite__mapDeps([7,8,9,10,11,12,13])),Me(()=>import("./index-cPsK_08l.js"),__vite__mapDeps([14,15,16,17,3,10,18,12,13,11])),Me(()=>import("./index-VGjH97st.js"),__vite__mapDeps([19,18,17,16,12,10,13,11,20])),Me(()=>import("./index-BxE2facF.js"),__vite__mapDeps([21,20,15,16,17,2,13])),Me(()=>import("./index-Dw8e9nLW.js"),__vite__mapDeps([22,8,16,12,10])),Me(()=>import("./index-CgNcx-yo.js"),__vite__mapDeps([23,9,10]))]);return Jp={rehypeParse:t[0],rehypeStringify:t[1],unified:t[2],hastUtilFromDom:t[3],rehypeRemark:t[4],remarkGfm:t[5],remarkStringify:t[6],remarkParse:t[7],remarkRehype:t[8],rehypeFormat:t[9]},Jp}function ate(){const t=e=>{let n=e.children.length;for(let r=0;r<n;r++){const i=e.children[r];if(i.type==="element"&&(t(i),i.tagName==="u"))if(i.children.length>0){e.children.splice(r,1,...i.children);const l=i.children.length-1;n+=l,r+=l}else e.children.splice(r,1),n--,r--}};return t}function cte(){const t=Jp;if(!t)throw new Error("addSpacesToCheckboxes requires ESM dependencies to be initialized");const e=n=>{var r;if(n.children&&"length"in n.children&&n.children.length)for(let i=n.children.length-1;i>=0;i--){const l=n.children[i],a=i+1<n.children.length?n.children[i+1]:void 0;l.type==="element"&&l.tagName==="input"&&((r=l.properties)==null?void 0:r.type)==="checkbox"&&(a==null?void 0:a.type)==="element"&&a.tagName==="p"?(a.tagName="span",a.children.splice(0,0,t.hastUtilFromDom.fromDom(document.createTextNode(" ")))):e(l)}};return e}function qR(t){const e=Jp;if(!e)throw new Error("cleanHTMLToMarkdown requires ESM dependencies to be initialized");return e.unified.unified().use(e.rehypeParse.default,{fragment:!0}).use(ate).use(cte).use(e.rehypeRemark.default).use(e.remarkGfm.default).use(e.remarkStringify.default,{handlers:{text:n=>n.value}}).processSync(t).value}async function ute(t,e,n,r){await GR();const i=E_(e,n).exportBlocks(t,r);return qR(i)}function dte(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function fte(t){return t.nodeType===3&&!/\S/.test(t.nodeValue||"")}function hte(t){t.querySelectorAll("li > ul, li > ol").forEach(e=>{const n=dte(e),r=e.parentElement,i=Array.from(r.childNodes).slice(n+1);e.remove(),i.forEach(l=>{l.remove()}),r.insertAdjacentElement("afterend",e),i.reverse().forEach(l=>{if(fte(l))return;const a=document.createElement("li");a.append(l),e.insertAdjacentElement("afterend",a)}),r.childNodes.length===0&&r.remove()})}function pte(t){t.querySelectorAll("li + ul, li + ol").forEach(e=>{var n,r;const i=e.previousElementSibling,l=document.createElement("div");i.insertAdjacentElement("afterend",l),l.append(i);const a=document.createElement("div");for(a.setAttribute("data-node-type","blockGroup"),l.append(a);((n=l.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((r=l.nextElementSibling)==null?void 0:r.nodeName)==="OL";)a.append(l.nextElementSibling)})}let gD=null;function mte(){return gD||(gD=document.implementation.createHTMLDocument("title"))}function d7(t){if(typeof t=="string"){const e=mte().createElement("div");e.innerHTML=t,t=e}return hte(t),pte(t),t}async function f7(t,e,n,r,i){const l=d7(t),a=ip.fromSchema(i).parse(l,{topNode:i.nodes.blockGroup.create()}),u=[];for(let d=0;d<a.childCount;d++)u.push(jn(a.child(d),e,n,r));return u}function gte(t,e){const n=e.value?e.value:"",r={};e.lang&&(r["data-language"]=e.lang);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}async function h7(t){const e=await GR();return e.unified.unified().use(e.remarkParse.default).use(e.remarkGfm.default).use(e.remarkRehype.default,{handlers:{...e.remarkRehype.defaultHandlers,code:gte}}).use(e.rehypeStringify.default).processSync(t).value}async function bte(t,e,n,r,i){const l=await h7(t);return f7(l,e,n,r,i)}const WR=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function yte(t,e){if(!t.startsWith(".")||!e.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return t===e}function vte(t,e){const n=t.split("/"),r=e.split("/");if(n.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);if(r.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);return n[1]==="*"||r[1]==="*"?n[0]===r[0]:(n[0]==="*"||r[0]==="*"||n[0]===r[0])&&n[1]===r[1]}function bD(t,e,n){let r;return Array.isArray(e.content)&&e.content.length===0?r=t.updateBlock(e,n).id:r=t.insertBlocks([n],e,"after")[0].id,r}async function p7(t,e){var n;if(!e.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const r="dataTransfer"in t?t.dataTransfer:t.clipboardData;if(r===null)return;let i=null;for(const u of WR)if(r.types.includes(u)){i=u;break}if(i!=="Files")return;const l=r.items;if(!l)return;t.preventDefault();const a=Object.values(e.schema.blockSchema).filter(u=>u.isFileBlock);for(let u=0;u<l.length;u++){let d="file";for(const p of a)for(const g of p.fileBlockAccept||[]){const y=g.startsWith("."),v=l[u].getAsFile();if(v&&(!y&&v.type&&vte(l[u].type,g)||y&&yte("."+v.name.split(".").pop(),g))){d=p.type;break}}const h=l[u].getAsFile();if(h){const p={type:d,props:{name:h.name}};let g;if(t.type==="paste"){const w=e.getTextCursorPosition().block;g=bD(e,w,p)}else if(t.type==="drop"){const w={left:t.clientX,top:t.clientY},C=(n=e.prosemirrorView)==null?void 0:n.posAtCoords(w);if(!C)return;const S=mu(e._tiptapEditor.state.doc,C.pos);g=bD(e,e.getBlock(S.node.attrs.id),p)}else return;const y=await e.uploadFile(h,g),v=typeof y=="string"?{props:{url:y}}:{...y};e.updateBlock(g,v)}}}const wte=t=>an.create({name:"dropFile",addProseMirrorPlugins(){return[new Ct({props:{handleDOMEvents:{drop(e,n){if(!t.isEditable)return;let r=null;for(const i of WR)if(n.dataTransfer.types.includes(i)){r=i;break}return r===null?!0:r==="Files"?(p7(n,t),!0):!1}}}})]}});async function kte(t,e){const{schema:n}=e.state;if(!t.clipboardData)return!1;const r=t.clipboardData.getData("text/plain");if(!r)return!1;if(!n.nodes.codeBlock)return e.pasteText(r),!0;const i=t.clipboardData.getData("vscode-editor-data"),l=i?JSON.parse(i):void 0,a=l==null?void 0:l.mode;return a?(e.pasteHTML(`<pre><code class="language-${a}">${r.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}const Cte=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,_te=new RegExp("(?:\\s|^)(_|__|\\*|\\*\\*|~~|==|\\+\\+)(?!\\s).{1,64}(?<!\\s)(?=\\1)"),Ste=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,xte=new RegExp("(?:\\s|^)`(?!\\s)[^`]{1,48}(?<!\\s)`([^\\w]|$)"),Ete=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,Tte=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,Mte=/\n{2} {0,3}-{2,48}\n{2}/,Ate=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,Rte=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,Nte=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,Ote=/^\s*\|(.+\|)+\s*$/m,Dte=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,Lte=/^\s*\|(.+\|)+\s*$/m,Pte=t=>Cte.test(t)||_te.test(t)||Ste.test(t)||xte.test(t)||Ete.test(t)||Tte.test(t)||Mte.test(t)||Ate.test(t)||Rte.test(t)||Nte.test(t)||Ote.test(t)||Dte.test(t)||Lte.test(t);function Ite({event:t,editor:e,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:r}){let i;for(const a of WR)if(t.clipboardData.types.includes(a)){i=a;break}if(!i)return!0;if(i==="vscode-editor-data")return kte(t,e.prosemirrorView),!0;if(i==="Files")return p7(t,e),!0;const l=t.clipboardData.getData(i);if(i==="blocknote/html")return e.pasteHTML(l,!0),!0;if(i==="text/markdown")return e.pasteMarkdown(l),!0;if(n){const a=t.clipboardData.getData("text/plain");if(Pte(a))return e.pasteMarkdown(a),!0}return i==="text/html"?(e.pasteHTML(l),!0):r?(e.pasteMarkdown(l),!0):(e.pasteText(l),!0)}const Bte=(t,e)=>an.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new Ct({props:{handleDOMEvents:{paste(n,r){if(r.preventDefault(),!!t.isEditable)return e({event:r,editor:t,defaultPasteHandler:({prioritizeMarkdownOverHTML:i=!0,plainTextAsMarkdown:l=!0}={})=>Ite({event:r,editor:t,prioritizeMarkdownOverHTML:i,plainTextAsMarkdown:l})})}}}})]}});function m7(t,e){const n=[];return t.descendants(r=>{var i,l;return r.type.name==="blockContainer"&&((i=r.firstChild)==null?void 0:i.type.name)==="blockGroup"?!0:r.type.name==="columnList"&&r.childCount===1?((l=r.firstChild)==null||l.forEach(a=>{n.push(jn(a,e.blockSchema,e.inlineContentSchema,e.styleSchema))}),!1):r.type.isInGroup("bnBlock")?(n.push(jn(r,e.blockSchema,e.inlineContentSchema,e.styleSchema)),!1):!0}),n}function jte(t,e,n){var r;let i=!1;const l=t.state.selection instanceof un;if(!l){const d=t.state.doc.slice(t.state.selection.from,t.state.selection.to,!1).content,h=[];for(let p=0;p<d.childCount;p++)h.push(d.child(p));i=h.find(p=>p.type.isInGroup("bnBlock")||p.type.name==="blockGroup"||p.type.spec.group==="blockContent")===void 0,i&&(e=d)}let a;const u=E_(t.state.schema,n);if(l){((r=e.firstChild)==null?void 0:r.type.name)==="table"&&(e=e.firstChild.content);const d=R6(e,n.schema.inlineContentSchema,n.schema.styleSchema);a=`<table>${u.exportInlineContent(d,{})}</table>`}else if(i){const d=S_(e,n.schema.inlineContentSchema,n.schema.styleSchema);a=u.exportInlineContent(d,{})}else{const d=m7(e,n.schema);a=u.exportBlocks(d,{})}return a}function g7(t,e){"node"in t.state.selection&&t.state.selection.node.type.spec.group==="blockContent"&&e.dispatch(e._tiptapEditor.state.tr.setSelection(new Ue(t.state.doc.resolve(t.state.selection.from-1))));const n=t.serializeForClipboard(t.state.selection.content()).dom.innerHTML,r=t.state.selection.content().content,i=jte(t,r,e),l=qR(i);return{clipboardHTML:n,externalHTML:i,markdown:l}}const yD=()=>{const t=window.getSelection();if(!t||t.isCollapsed)return!0;let e=t.focusNode;for(;e;){if(e instanceof HTMLElement&&e.getAttribute("contenteditable")==="false")return!0;e=e.parentElement}return!1},vD=(t,e,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:r,externalHTML:i,markdown:l}=g7(e,t);n.clipboardData.setData("blocknote/html",r),n.clipboardData.setData("text/html",i),n.clipboardData.setData("text/plain",l)},zte=t=>an.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new Ct({props:{handleDOMEvents:{copy(e,n){return yD()||vD(t,e,n),!0},cut(e,n){return yD()||(vD(t,e,n),e.editable&&e.dispatch(e.state.tr.deleteSelection())),!0},dragstart(e,n){if(!("node"in e.state.selection)||e.state.selection.node.type.spec.group!=="blockContent")return;t.dispatch(t._tiptapEditor.state.tr.setSelection(new Ue(e.state.doc.resolve(e.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:r,externalHTML:i,markdown:l}=g7(e,t);return n.dataTransfer.setData("blocknote/html",r),n.dataTransfer.setData("text/html",i),n.dataTransfer.setData("text/plain",l),!0}}}})]}}),$te=an.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{backgroundColor:{default:sr.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):sr.backgroundColor.default,renderHTML:t=>t.backgroundColor===sr.backgroundColor.default?{}:{"data-background-color":t.backgroundColor}}}}]}}),Hte=t=>{var e;const n=[];n.push(lJ.configure({fragment:t.fragment}));const r=(e=t.provider)==null?void 0:e.awareness;if(r){const i=new Map;t.showCursorLabels!=="always"&&r.on("change",({updated:u})=>{for(const d of u){const h=i.get(d);h&&(h.element.setAttribute("data-active",""),h.hideTimeout&&clearTimeout(h.hideTimeout),i.set(d,{element:h.element,hideTimeout:setTimeout(()=>{h.element.removeAttribute("data-active")},2e3)}))}});const l=u=>{const d=document.createElement("span");d.classList.add("bn-collaboration-cursor__base");const h=document.createElement("span");h.setAttribute("contentedEditable","false"),h.classList.add("bn-collaboration-cursor__caret"),h.setAttribute("style",`background-color: ${u.color}`);const p=document.createElement("span");return p.classList.add("bn-collaboration-cursor__label"),p.setAttribute("style",`background-color: ${u.color}`),p.insertBefore(document.createTextNode(u.name),null),h.insertBefore(p,null),d.insertBefore(document.createTextNode("⁠"),null),d.insertBefore(h,null),d.insertBefore(document.createTextNode("⁠"),null),d},a=(u,d)=>{var h;let p=i.get(d);if(!p){const g=((h=t==null?void 0:t.renderCursor)==null?void 0:h.call(t,u))||l(u);(t==null?void 0:t.showCursorLabels)!=="always"&&(g.addEventListener("mouseenter",()=>{const y=i.get(d);y.element.setAttribute("data-active",""),y.hideTimeout&&(clearTimeout(y.hideTimeout),i.set(d,{element:y.element,hideTimeout:void 0}))}),g.addEventListener("mouseleave",()=>{const y=i.get(d);i.set(d,{element:y.element,hideTimeout:setTimeout(()=>{y.element.removeAttribute("data-active")},2e3)})})),p={element:g,hideTimeout:void 0},i.set(d,p)}return p.element};n.push(aJ.configure({user:t.user,render:a,provider:t.provider}))}return n},b7=gi.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:t=>!!t.getAttribute("data-orphan"),renderHTML:t=>t.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:t=>t.getAttribute("data-bn-thread-id"),renderHTML:t=>({"data-bn-thread-id":t.threadId}),default:""}}},renderHTML({HTMLAttributes:t}){return["span",ms(t,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(t){return t.name==="comment"?{blocknoteIgnore:!0}:{}}});let _u=class{constructor(){J(this,"callbacks",{})}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),()=>this.off(e,n)}emit(e,...n){const r=this.callbacks[e];r&&r.forEach(i=>i.apply(this,n))}off(e,n){const r=this.callbacks[e];r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e])}removeAllListeners(){this.callbacks={}}};class Vte extends _u{constructor(e){super(),J(this,"userCache",new Map),J(this,"loadingUsers",new Set),this.resolveUsers=e}async loadUsers(e){const n=e.filter(r=>!this.userCache.has(r)&&!this.loadingUsers.has(r));if(n.length!==0){for(const r of n)this.loadingUsers.add(r);try{const r=await this.resolveUsers(n);for(const i of r)this.userCache.set(i.id,i);this.emit("update",this.userCache)}finally{for(const r of n)this.loadingUsers.delete(r)}}}getUser(e){return this.userCache.get(e)}subscribe(e){return this.on("update",e)}}const kw=new Ht("blocknote-comments"),Ute="SET_SELECTED_THREAD_ID";function Fte(t,e){const n=new Map;return t.descendants((r,i)=>{r.marks.forEach(l=>{if(l.type.name===e){const a=l.attrs.threadId;if(!a)return;const u=i,d=u+r.nodeSize,h=n.get(a)??{from:1/0,to:0};n.set(a,{from:Math.min(u,h.from),to:Math.max(d,h.to)})}})}),n}class Gte extends _u{constructor(e,n,r){if(super(),J(this,"plugin"),J(this,"userStore"),J(this,"pendingComment",!1),J(this,"selectedThreadId"),J(this,"threadPositions",new Map),J(this,"updateMarksFromThreads",l=>{const a=this.editor._tiptapEditor;a.state.doc.descendants((u,d)=>{u.marks.forEach(h=>{if(h.type.name===this.markType){const p=h.type,g=h.attrs.threadId,y=l.get(g),v=!!(!y||y.resolved||y.deletedAt);if(v!==h.attrs.orphan){const{tr:w}=a.state,C=Math.max(d,0),S=Math.min(d+u.nodeSize,a.state.doc.content.size-1);w.removeMark(C,S,h),w.addMark(C,S,p.create({...h.attrs,orphan:v})),a.dispatch(w),v&&this.selectedThreadId===g&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})}),this.editor=e,this.threadStore=n,this.markType=r,!e.resolveUsers)throw new Error("resolveUsers is required for comments");this.userStore=new Vte(e.resolveUsers),this.threadStore.subscribe(this.updateMarksFromThreads),e.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),e.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const i=this;this.plugin=new Ct({key:kw,state:{init(){return{decorations:Ot.empty}},apply(l,a){const u=l.getMeta(kw);if(!l.docChanged&&!u)return a;const d=l.docChanged?Fte(l.doc,i.markType):i.threadPositions;(d.size>0||i.threadPositions.size>0)&&(i.threadPositions=d,i.emitStateUpdate());const h=[];if(i.selectedThreadId){const p=d.get(i.selectedThreadId);p&&h.push(Qt.inline(p.from,p.to,{class:"bn-thread-mark-selected"}))}return{decorations:Ot.create(l.doc,h)}}},props:{decorations(l){var a;return((a=kw.getState(l))==null?void 0:a.decorations)??Ot.empty},handleClick:(l,a,u)=>{if(u.button!==0)return;const d=l.state.doc.nodeAt(a);if(!d){i.selectThread(void 0);return}const h=d.marks.find(g=>g.type.name===r&&g.attrs.orphan!==!0),p=h==null?void 0:h.attrs.threadId;i.selectThread(p,!1)}}})}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(e){return this.on("update",e)}selectThread(e,n=!0){var r,i;if(this.selectedThreadId!==e&&(this.selectedThreadId=e,this.emitStateUpdate(),this.editor.dispatch(this.editor.prosemirrorView.state.tr.setMeta(kw,{name:Ute})),e&&n)){const l=this.threadPositions.get(e);if(!l)return;(i=(r=this.editor.prosemirrorView)==null?void 0:r.domAtPos(l.from).node)==null||i.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(e){const n=await this.threadStore.createThread(e);if(this.threadStore.addThreadToDocument){const r=this.editor.prosemirrorView,i=r.state.selection,l=vn.getState(r.state),a={prosemirror:{head:i.head,anchor:i.anchor},yjs:l?dC(l.binding,r.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:a})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}}class qte{constructor(e,n,r,i){J(this,"state"),J(this,"emitUpdate"),J(this,"mouseDownHandler",()=>{var l;(l=this.state)!=null&&l.show&&(this.state.show=!1,this.emitUpdate())}),J(this,"dragstartHandler",()=>{var l;(l=this.state)!=null&&l.show&&(this.state.show=!1,this.emitUpdate())}),J(this,"scrollHandler",()=>{var l;if((l=this.state)!=null&&l.show){const a=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!a)return;this.state.referencePos=a.getBoundingClientRect(),this.emitUpdate()}}),J(this,"closeMenu",()=>{var l;(l=this.state)!=null&&l.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pluginKey=n,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");i(this.state)},r.dom.addEventListener("mousedown",this.mouseDownHandler),r.dom.addEventListener("dragstart",this.dragstartHandler),r.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var r,i;const l=this.pluginKey.getState(e.state);if(!((r=this.state)!=null&&r.show)&&l.block&&this.editor.isEditable){const a=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${l.block.id}"]`);if(!a)return;this.state={show:!0,referencePos:a.getBoundingClientRect(),block:l.block},this.emitUpdate();return}(!e.state.selection.eq(n.selection)||!e.state.doc.eq(n.doc)||!this.editor.isEditable)&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const C2=new Ht("FilePanelPlugin");class Wte extends _u{constructor(e){super(),J(this,"view"),J(this,"plugin"),J(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.plugin=new Ct({key:C2,view:n=>(this.view=new qte(e,C2,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>{var i;return r.key==="Escape"&&this.shown?((i=this.view)==null||i.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:n=>{var r;return{block:(r=n.getMeta(C2))==null?void 0:r.block}}}})}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}class Kte{constructor(e,n,r){J(this,"state"),J(this,"emitUpdate"),J(this,"preventHide",!1),J(this,"preventShow",!1),J(this,"shouldShow",({state:i,from:l,to:a})=>{const{doc:u,selection:d}=i,{empty:h}=d,p=!u.textBetween(l,a).length&&u_(i.selection);return d.$from.parent.type.spec.code||KT(d)&&d.node.type.spec.code?!1:!(h||p)}),J(this,"blurHandler",i=>{var l;if(this.preventHide){this.preventHide=!1;return}const a=this.pmView.dom.parentElement;i&&i.relatedTarget&&(a===i.relatedTarget||a.contains(i.relatedTarget)||i.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(l=this.state)!=null&&l.show&&(this.state.show=!1,this.emitUpdate())}),J(this,"viewMousedownHandler",()=>{this.preventShow=!0}),J(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),J(this,"dragHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),J(this,"scrollHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),J(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");r(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var r;const{state:i,composing:l}=e,{selection:a}=i,u=n&&n.selection.from===i.selection.from&&n.selection.to===i.selection.to;if(l||u)return;const{ranges:d}=a,h=Math.min(...d.map(v=>v.$from.pos)),p=Math.max(...d.map(v=>v.$to.pos)),g=this.shouldShow({view:e,state:i,from:h,to:p}),y=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(g||this.preventHide)&&!y){this.state={show:!0,referencePos:this.getSelectionBoundingBox()},this.emitUpdate();return}if((r=this.state)!=null&&r.show&&!this.preventHide&&(!g||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:e}=this.pmView,{selection:n}=e,{ranges:r}=n,i=Math.min(...r.map(a=>a.$from.pos)),l=Math.max(...r.map(a=>a.$to.pos));if(KT(n)){const a=this.pmView.nodeDOM(i);if(a)return a.getBoundingClientRect()}return Mk(this.pmView,i,l)}}const Zte=new Ht("FormattingToolbarPlugin");class Xte extends _u{constructor(e){super(),J(this,"view"),J(this,"plugin"),J(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Ct({key:Zte,view:n=>(this.view=new Kte(e,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}const Yte=Ca.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ms(this.options.HTMLAttributes,t)]},renderText(){return`
`}}),wD=(t,e)=>{const n=t.resolve(e);if(n.depth<=1)return;const r=n.posAtIndex(n.index(n.depth-1),n.depth-1);return O1(t.resolve(r))},Yw=(t,e)=>{const n=t.resolve(e),r=n.index();if(r===0)return;const i=n.posAtIndex(r-1);return O1(t.resolve(i))},y7=(t,e)=>{for(;e.childContainer;){const n=e.childContainer.node,r=t.resolve(e.childContainer.beforePos+1).posAtIndex(n.childCount-1);e=O1(t.resolve(r))}return e},Qte=(t,e)=>t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*"&&t.blockContent.node.childCount>0&&e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*",Jte=(t,e,n,r)=>{if(!r.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(r.childContainer){const i=t.doc.resolve(r.childContainer.beforePos+1),l=t.doc.resolve(r.childContainer.afterPos-1),a=i.blockRange(l);if(e){const u=t.doc.resolve(r.bnBlock.beforePos);t.tr.lift(a,u.depth)}}if(e){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);e(t.tr.delete(n.blockContent.afterPos-1,r.blockContent.beforePos+1))}return!0},kD=t=>({state:e,dispatch:n})=>{const r=e.doc.resolve(t),i=O1(r),l=Yw(e.doc,i.bnBlock.beforePos);if(!l)return!1;const a=y7(e.doc,l);return Qte(a,i)?Jte(e,n,a,i):!1},ene=an.create({priority:50,addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({chain:r,commands:i})=>[()=>i.deleteSelection(),()=>i.undoInputRule(),()=>i.command(({state:l})=>{const a=Yt(l);if(!a.isBlockContainer)return!1;const u=l.selection.from===a.blockContent.beforePos+1,d=a.blockContent.node.type.name==="paragraph";return u&&!d?i.command(Nr(this.options.editor,a.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>i.command(({state:l})=>{const a=Yt(l);if(!a.isBlockContainer)return!1;const{blockContent:u}=a;return l.selection.from===u.beforePos+1?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:l})=>{const a=Yt(l);if(!a.isBlockContainer)return!1;const{bnBlock:u,blockContent:d}=a,h=l.selection.from===d.beforePos+1,p=l.selection.empty,g=u.beforePos;return h&&p?r().command(kD(g)).scrollIntoView().run():!1}),()=>i.command(({state:l,dispatch:a})=>{const u=Yt(l);if(!u.isBlockContainer||l.selection.from!==u.blockContent.beforePos+1||Yw(l.doc,u.bnBlock.beforePos))return!1;const d=wD(l.doc,u.bnBlock.beforePos);if((d==null?void 0:d.blockNoteType)!=="column")return!1;const h=d,p=wD(l.doc,h.bnBlock.beforePos);if((p==null?void 0:p.blockNoteType)!=="columnList")throw new Error("parent of column is not a column list");const g=h.childContainer.node.childCount===1,y=g&&p.childContainer.node.childCount===2,v=p.childContainer.node.firstChild===h.bnBlock.node;if(a){const w=l.doc.slice(u.bnBlock.beforePos,u.bnBlock.afterPos,!1);if(y)if(v){l.tr.step(new tr(p.bnBlock.beforePos,p.bnBlock.afterPos,h.bnBlock.afterPos+1,p.bnBlock.afterPos-2,w,w.size,!1));const C=l.tr.doc.resolve(h.bnBlock.beforePos);l.tr.setSelection(Ve.between(C,C))}else{l.tr.step(new tr(p.bnBlock.beforePos,p.bnBlock.afterPos,p.bnBlock.beforePos+2,h.bnBlock.beforePos-1,w,0,!1));const C=l.tr.doc.resolve(l.tr.mapping.map(h.bnBlock.beforePos-1));l.tr.setSelection(Ve.between(C,C))}else if(g)if(v){l.tr.delete(h.bnBlock.beforePos,h.bnBlock.afterPos),l.tr.insert(p.bnBlock.beforePos,w.content);const C=l.tr.doc.resolve(p.bnBlock.beforePos);l.tr.setSelection(Ve.between(C,C))}else l.tr.delete(h.bnBlock.beforePos-1,h.bnBlock.beforePos+1);else{l.tr.delete(u.bnBlock.beforePos,u.bnBlock.afterPos),v?l.tr.insert(p.bnBlock.beforePos-1,w.content):l.tr.insert(h.bnBlock.beforePos-1,w.content);const C=l.tr.doc.resolve(h.bnBlock.beforePos-1);l.tr.setSelection(Ve.between(C,C))}}return!0}),()=>i.command(({state:l})=>{const a=Yt(l);if(!a.isBlockContainer)return!1;if(a.blockContent.node.childCount===0&&a.blockContent.node.type.spec.content==="inline*"){const u=Yw(l.doc,a.bnBlock.beforePos);if(!u||!u.isBlockContainer)return!1;let d=r();if(u.blockContent.node.type.spec.content==="tableRow+"){const h=a.bnBlock.beforePos-1-1-1-1-1;d=d.setTextSelection(h)}else if(u.blockContent.node.type.spec.content===""){const h=u.blockContent.afterPos-u.blockContent.node.nodeSize;d=d.setNodeSelection(h)}else{const h=u.blockContent.afterPos-u.blockContent.node.nodeSize;d=d.setTextSelection(h)}return d.deleteRange({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>i.command(({state:l})=>{const a=Yt(l);if(!a.isBlockContainer)throw new Error("todo");const u=l.selection.from===a.blockContent.beforePos+1,d=l.selection.empty,h=Yw(l.doc,a.bnBlock.beforePos);if(h&&u&&d){const p=y7(l.doc,h);if(!p.isBlockContainer)throw new Error("todo");if(p.blockContent.node.type.spec.content===""||p.blockContent.node.type.spec.content==="inline*"&&p.blockContent.node.childCount===0)return r().cut({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos},p.bnBlock.afterPos).deleteRange({from:p.bnBlock.beforePos,to:p.bnBlock.afterPos}).run()}return!1})]),e=()=>this.editor.commands.first(({commands:r})=>[()=>r.deleteSelection(),()=>r.command(({state:i})=>{const l=Yt(i);if(!l.isBlockContainer)return!1;const{bnBlock:a,blockContent:u,childContainer:d}=l,{depth:h}=i.doc.resolve(a.beforePos),p=a.afterPos===i.doc.nodeSize-3,g=i.selection.from===u.afterPos-1,y=i.selection.empty;if(!p&&g&&y&&d===void 0){let v=h,w=a.afterPos+1,C=i.doc.resolve(w).depth;for(;C<v;)v=C,w+=2,C=i.doc.resolve(w).depth;return r.command(kD(w-1))}return!1})]),n=(r=!1)=>this.editor.commands.first(({commands:i})=>[()=>i.command(({state:l})=>{const a=Yt(l);if(!a.isBlockContainer)return!1;const{bnBlock:u,blockContent:d}=a,{depth:h}=l.doc.resolve(u.beforePos),p=l.selection.$anchor.parentOffset===0,g=l.selection.anchor===l.selection.head,y=d.node.childCount===0,v=h>1;return p&&g&&y&&v?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:l})=>{const a=Yt(l),u=this.options.editor.schema.blockSchema[a.blockNoteType].hardBreakShortcut??"shift+enter";return u==="none"?!1:u==="shift+enter"&&r||u==="enter"?i.insertContent({type:"hardBreak"}):!1}),()=>i.command(({state:l,dispatch:a})=>{const u=Yt(l);if(!u.isBlockContainer)return!1;const{bnBlock:d,blockContent:h}=u,p=l.selection.$anchor.parentOffset===0,g=l.selection.anchor===l.selection.head,y=h.node.childCount===0;if(p&&g&&y){const v=d.afterPos,w=v+2;if(a){const C=l.schema.nodes.blockContainer.createAndFill();l.tr.insert(v,C).scrollIntoView(),l.tr.setSelection(new Ve(l.doc.resolve(w)))}return!0}return!1}),()=>i.command(({state:l,chain:a})=>{const u=Yt(l);if(!u.isBlockContainer)return!1;const{blockContent:d}=u,h=l.selection.$anchor.parentOffset===0;return d.node.childCount===0?!1:(a().deleteSelection().command(X6(l.selection.from,h,h)).run(),!0)})]);return{Backspace:t,Delete:e,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var r,i,l;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(l=this.options.editor.filePanel)!=null&&l.shown)?!1:a7(this.options.editor)},"Shift-Tab":()=>{var r,i,l;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(l=this.options.editor.filePanel)!=null&&l.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0)}}});class tne{constructor(e,n,r){J(this,"state"),J(this,"emitUpdate"),J(this,"menuUpdateTimer"),J(this,"startMenuUpdateTimer"),J(this,"stopMenuUpdateTimer"),J(this,"mouseHoveredLinkMark"),J(this,"mouseHoveredLinkMarkRange"),J(this,"keyboardHoveredLinkMark"),J(this,"keyboardHoveredLinkMarkRange"),J(this,"linkMark"),J(this,"linkMarkRange"),J(this,"mouseOverHandler",i=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),i.target instanceof HTMLAnchorElement&&i.target.nodeName==="A"){const l=i.target,a=this.pmView.posAtDOM(l,0)+1,u=this.pmView.state.doc.resolve(a),d=u.marks();for(const h of d)if(h.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=h,this.mouseHoveredLinkMarkRange=Zv(u,h.type,h.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),J(this,"clickHandler",i=>{var l;const a=this.pmView.dom.parentElement;this.linkMark&&i&&i.target&&!(a===i.target||a.contains(i.target))&&(l=this.state)!=null&&l.show&&(this.state.show=!1,this.emitUpdate())}),J(this,"scrollHandler",()=>{var i;this.linkMark!==void 0&&(i=this.state)!=null&&i.show&&(this.state.referencePos=Mk(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),J(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");r(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(e,n){var r;const i=this.pmView.state.tr.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to);i.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,this.pmView.state.schema.mark("link",{href:e})),this.editor.dispatch(i),this.pmView.focus(),(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var e;this.editor.dispatch(this.pmView.state.tr.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate())}update(e,n,r=!1){var i;const{state:l}=e;if(n&&n.selection.from===l.selection.from&&n.selection.to===l.selection.to||!this.pmView.hasFocus())return;const a=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const u=this.pmView.state.selection.$from.marks();for(const d of u)if(d.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=d,this.keyboardHoveredLinkMarkRange=Zv(this.pmView.state.selection.$from,d.type,d.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&r&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:Mk(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((i=this.state)!=null&&i.show&&a&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}}const nne=new Ht("LinkToolbarPlugin");class rne extends _u{constructor(e){super(),J(this,"view"),J(this,"plugin"),J(this,"editLink",(n,r)=>{this.view.editLink(n,r)}),J(this,"deleteLink",()=>{this.view.deleteLink()}),J(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),J(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),J(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Ct({key:nne,view:n=>(this.view=new tne(e,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}onUpdate(e){return this.on("update",e)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}const v7=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],w7="https",one=new Ht("node-selection-keyboard");class ine{constructor(){J(this,"plugin"),this.plugin=new Ct({key:one,props:{handleKeyDown:(e,n)=>{if("node"in e.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const r=e.state.tr;return e.dispatch(r.insert(e.state.tr.selection.$to.after(),e.state.schema.nodes.paragraph.createChecked()).setSelection(new Ve(r.doc.resolve(e.state.tr.selection.$to.after()+1)))),!0}}return!1}}})}}const sne=new Ht("blocknote-placeholder");class lne{constructor(e,n){J(this,"plugin"),this.plugin=new Ct({key:sne,view:r=>{var i,l;const a=`placeholder-selector-${QI()}`;r.dom.classList.add(a);const u=document.createElement("style"),d=e._tiptapEditor.options.injectNonce;d&&u.setAttribute("nonce",d),((i=e.prosemirrorView)==null?void 0:i.root)instanceof ShadowRoot?e.prosemirrorView.root.append(u):(l=e.prosemirrorView)==null||l.root.head.appendChild(u);const h=u.sheet,p=(g="")=>`.${a} .bn-block-content${g} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:g,emptyDocument:y,...v}=n;for(const[S,E]of Object.entries(v)){const A=`[data-content-type="${S}"]`;h.insertRule(`${p(A)} { content: ${JSON.stringify(E)}; }`)}h.insertRule(`${p("[data-is-only-empty-block]")} { content: ${JSON.stringify(y)}; }`),h.insertRule(`${p("[data-is-empty-and-focused]")} { content: ${JSON.stringify(g)}; }`)}catch(g){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",g)}return{destroy:()=>{var g,y;((g=e.prosemirrorView)==null?void 0:g.root)instanceof ShadowRoot?e.prosemirrorView.root.removeChild(u):(y=e.prosemirrorView)==null||y.root.head.removeChild(u)}}},props:{decorations:r=>{const{doc:i,selection:l}=r;if(!e.isEditable||!l.empty||l.$from.parent.type.spec.code)return;const a=[];r.doc.content.size===6&&a.push(Qt.node(2,4,{"data-is-only-empty-block":"true"}));const u=l.$anchor,d=u.parent;if(d.content.size===0){const h=u.before();a.push(Qt.node(h,h+d.nodeSize,{"data-is-empty-and-focused":"true"}))}return Ot.create(i,a)}}})}}const CD=new Ht("previous-blocks"),ane={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};class cne{constructor(){J(this,"plugin");let e;this.plugin=new Ct({key:CD,view(n){return{update:async(r,i)=>{var l;((l=this.key)==null?void 0:l.getState(r.state).updatedBlocks.size)>0&&(e=setTimeout(()=>{r.dispatch(r.state.tr.setMeta(CD,{clearUpdate:!0}))},0))},destroy:()=>{e&&clearTimeout(e)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,r,i,l){if(r.currentTransactionOldBlockAttrs={},r.updatedBlocks.clear(),!n.docChanged||i.doc.eq(l.doc))return r;const a={},u=oO(i.doc,p=>p.attrs.id),d=new Map(u.map(p=>[p.node.attrs.id,p])),h=oO(l.doc,p=>p.attrs.id);for(const p of h){const g=d.get(p.node.attrs.id),y=g==null?void 0:g.node.firstChild,v=p.node.firstChild;if(g&&y&&v){const w={index:v.attrs.index,level:v.attrs.level,type:v.type.name,depth:l.doc.resolve(p.pos).depth};let C={index:y.attrs.index,level:y.attrs.level,type:y.type.name,depth:i.doc.resolve(g.pos).depth};a[p.node.attrs.id]=C,n.getMeta("numberedListIndexing")&&(p.node.attrs.id in r.prevTransactionOldBlockAttrs&&(C=r.prevTransactionOldBlockAttrs[p.node.attrs.id]),w.type==="numberedListItem"&&(C.index=w.index)),r.currentTransactionOldBlockAttrs[p.node.attrs.id]=C,JSON.stringify(C)!==JSON.stringify(w)&&(C["depth-change"]=C.depth-w.depth,r.updatedBlocks.add(p.node.attrs.id))}}return r.prevTransactionOldBlockAttrs=a,r}},props:{decorations(n){const r=this.getState(n);if(r.updatedBlocks.size===0)return;const i=[];return n.doc.descendants((l,a)=>{if(!l.attrs.id||!r.updatedBlocks.has(l.attrs.id))return;const u=r.currentTransactionOldBlockAttrs[l.attrs.id],d={};for(const[p,g]of Object.entries(u))d["data-prev-"+ane[p]]=g||"none";const h=Qt.node(a,a+l.nodeSize,{...d});i.push(h)}),Ot.create(n.doc,i)}}})}}const _D=new Ht("blocknote-show-selection");class une{constructor(e){J(this,"plugin"),J(this,"enabled",!1),this.editor=e,this.plugin=new Ct({key:_D,props:{decorations:n=>{const{doc:r,selection:i}=n;if(!this.enabled)return Ot.empty;const l=Qt.inline(i.from,i.to,{"data-show-selection":"true"});return Ot.create(r,[l])}}})}setEnabled(e){var n,r;this.enabled!==e&&(this.enabled=e,(r=this.editor.prosemirrorView)==null||r.dispatch((n=this.editor.prosemirrorView)==null?void 0:n.state.tr.setMeta(_D,{})))}getEnabled(){return this.enabled}}function k7(t,e){for(var n,r;t&&t.parentElement&&t.parentElement!==e.dom&&((n=t.getAttribute)==null?void 0:n.call(t,"data-node-type"))!=="blockContainer";)t=t.parentElement;if(((r=t.getAttribute)==null?void 0:r.call(t,"data-node-type"))==="blockContainer")return{node:t,id:t.getAttribute("data-id")}}let SD=class Qw extends rt{constructor(e,n){super(e,n),J(this,"nodes");const r=e.node();this.nodes=[],e.doc.nodesBetween(e.pos,n.pos,(i,l,a)=>{if(a!==null&&a.eq(r))return this.nodes.push(i),!1})}static create(e,n,r=n){return new Qw(e.resolve(n),e.resolve(r))}content(){return new Se(se.from(this.nodes),0,0)}eq(e){if(!(e instanceof Qw)||this.nodes.length!==e.nodes.length||this.from!==e.from||this.to!==e.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(e.nodes[n]))return!1;return!0}map(e,n){const r=n.mapResult(this.from),i=n.mapResult(this.to);return i.deleted?rt.near(e.resolve(r.pos)):r.deleted?rt.near(e.resolve(i.pos)):new Qw(e.resolve(r.pos),e.resolve(i.pos))}toJSON(){return{type:"node",anchor:this.anchor,head:this.head}}},Ll;function dne(t,e){let n,r;const i=e.resolve(t.from).node().type.spec.group==="blockContent",l=e.resolve(t.to).node().type.spec.group==="blockContent",a=Math.min(t.$anchor.depth,t.$head.depth);if(i&&l){const u=t.$from.start(a-1),d=t.$to.end(a-1);n=e.resolve(u-1).pos,r=e.resolve(d+1).pos}else n=t.from,r=t.to;return{from:n,to:r}}function xD(t,e,n=e){e===n&&(n+=t.state.doc.resolve(e+1).node().nodeSize);const r=t.domAtPos(e).node.cloneNode(!0),i=t.domAtPos(e).node,l=(p,g)=>Array.prototype.indexOf.call(p.children,g),a=l(i,t.domAtPos(e+1).node.parentElement),u=l(i,t.domAtPos(n-1).node.parentElement);for(let p=i.childElementCount-1;p>=0;p--)(p>u||p<a)&&r.removeChild(r.children[p]);C7(t.root),Ll=r;const d=Ll.getElementsByTagName("iframe");for(let p=0;p<d.length;p++){const g=d[p],y=g.parentElement;y&&y.removeChild(g)}const h=t.dom.className.split(" ").filter(p=>p!=="ProseMirror"&&p!=="bn-root"&&p!=="bn-editor").join(" ");Ll.className=Ll.className+" bn-drag-preview "+h,t.root instanceof ShadowRoot?t.root.appendChild(Ll):t.root.body.appendChild(Ll)}function C7(t){Ll!==void 0&&(t instanceof ShadowRoot?t.removeChild(Ll):t.body.removeChild(Ll),Ll=void 0)}function fne(t,e,n){if(!t.dataTransfer)return;const r=n.prosemirrorView;if(!r)return;const i=ni(e.id,r.state.doc);if(!i)throw new Error(`Block with ID ${e.id} not found`);const l=i.posBeforeNode;if(l!=null){const a=r.state.selection,u=r.state.doc,{from:d,to:h}=dne(a,u),p=d<=l&&l<h,g=a.$anchor.node()!==a.$head.node()||a instanceof SD;p&&g?(r.dispatch(r.state.tr.setSelection(SD.create(u,d,h))),xD(r,d,h)):(r.dispatch(r.state.tr.setSelection(Ue.create(r.state.doc,l))),xD(r,l));const y=r.state.selection.content(),v=n.pmSchema,w=r.serializeForClipboard(y).dom.innerHTML,C=E_(v,n),S=m7(y.content,n.schema),E=C.exportBlocks(S,{}),A=qR(E);t.dataTransfer.clearData(),t.dataTransfer.setData("blocknote/html",w),t.dataTransfer.setData("text/html",E),t.dataTransfer.setData("text/plain",A),t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(Ll,0,0)}}const X0=.1;function DM(t,e,n,r=!0){const i=t.root.elementsFromPoint(e.left+(n==="editor"?50:0),e.top);for(const l of i)if(t.dom.contains(l))return r&&l.closest("[data-node-type=columnList]")?DM(t,{left:e.left+50,top:e.top},n,!1):k7(l,t)}function hne(t,e,n){if(!e.dom.firstChild)return;const r=e.dom.firstChild.getBoundingClientRect(),i={left:t.x,top:t.y},l=i.left<r.left,a=i.left>r.right;n==="viewport"&&(l&&(i.left=r.left+10),a&&(i.left=r.right-10));let u=DM(e,i,n);if(!a&&u){const d=u.node.getBoundingClientRect();i.left=d.right-10,u=DM(e,i,"viewport",!1)}return u}let pne=class{constructor(e,n,r,i){J(this,"state"),J(this,"emitUpdate"),J(this,"mousePos"),J(this,"hoveredBlock"),J(this,"menuFrozen",!1),J(this,"isDragOrigin",!1),J(this,"updateState",l=>{this.state=l,this.emitUpdate(this.state)}),J(this,"updateStateFromMousePos",()=>{var l,a,u,d;if(this.menuFrozen||!this.mousePos)return;const h=hne(this.mousePos,this.pmView,this.sideMenuDetection);if(!h||!this.editor.isEditable){(l=this.state)!=null&&l.show&&(this.state.show=!1,this.updateState(this.state));return}if((a=this.state)!=null&&a.show&&(u=this.hoveredBlock)!=null&&u.hasAttribute("data-id")&&((d=this.hoveredBlock)==null?void 0:d.getAttribute("data-id"))===h.id)return;this.hoveredBlock=h.node;const p=h.node.firstChild;if(p&&this.editor.isEditable){const g=p.getBoundingClientRect(),y=h.node.closest("[data-node-type=column]");this.updateState({show:!0,referencePos:new DOMRect(y?y.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,g.y,g.width,g.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))})}}),J(this,"onDrop",l=>{var a,u;if(this.pmView.dragging===null)return;this.editor._tiptapEditor.commands.blur();const d=l.target instanceof Node&&((a=l.target instanceof HTMLElement?l.target:l.target.parentElement)==null?void 0:a.closest(".bn-editor"))||null;if(d&&(!this.isDragOrigin&&this.pmView.dom===d?this.pmView.dispatch(this.pmView.state.tr.setSelection(Ve.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.to))):this.isDragOrigin&&this.pmView.dom!==d&&setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0)),this.sideMenuDetection==="editor"||l.synthetic||!((u=l.dataTransfer)!=null&&u.types.includes("blocknote/html")))return;const h=this.pmView.posAtCoords({left:l.clientX,top:l.clientY});if(!h||h.inside===-1){const p=this.createSyntheticEvent(l);this.pmView.dom.dispatchEvent(p)}}),J(this,"onDragEnd",()=>{this.pmView.dragging=null}),J(this,"onDragStart",l=>{var a;const u=(a=l.dataTransfer)==null?void 0:a.getData("blocknote/html");if(!u)return;if(this.pmView.dragging)throw new Error("New drag was started while an existing drag is ongoing");const d=document.createElement("div");d.innerHTML=u;const h=ip.fromSchema(this.pmView.state.schema).parse(d,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new Se(h.content,0,0),move:!0}}),J(this,"onDragOver",l=>{var a;if(this.sideMenuDetection==="editor"||l.synthetic||!((a=l.dataTransfer)!=null&&a.types.includes("blocknote/html")))return;const u=this.pmView.posAtCoords({left:l.clientX,top:l.clientY});if(!u||u.inside===-1&&this.pmView.dom.firstChild){const d=this.createSyntheticEvent(l);this.pmView.dom.dispatchEvent(d)}}),J(this,"onKeyDown",l=>{var a;(a=this.state)!=null&&a.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),J(this,"onMouseMove",l=>{var a;if(this.menuFrozen)return;this.mousePos={x:l.clientX,y:l.clientY};const u=this.pmView.dom.getBoundingClientRect(),d=this.mousePos.x>u.left&&this.mousePos.x<u.right&&this.mousePos.y>u.top&&this.mousePos.y<u.bottom,h=this.pmView.dom.parentElement;if(d&&l&&l.target&&!(h===l.target||h.contains(l.target))){(a=this.state)!=null&&a.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),J(this,"onScroll",()=>{var l;(l=this.state)!=null&&l.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state))}),this.editor=e,this.sideMenuDetection=n,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");i(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),GR(),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),r.root.addEventListener("scroll",this.onScroll,!0)}createSyntheticEvent(e){const n=new Event(e.type,e),r=this.pmView.dom.firstChild.getBoundingClientRect();return n.clientX=e.clientX,n.clientY=e.clientY,e.clientX<r.left&&e.clientX>r.left-r.width*X0?n.clientX=r.left+r.width*X0/2:e.clientX>r.right&&e.clientX<r.right+r.width*X0?n.clientX=r.right-r.width*X0/2:(e.clientX<r.left||e.clientX>r.right)&&(n.clientX=r.left+X0*r.width*2),n.clientY=Math.min(Math.max(e.clientY,r.top),r.top+r.height),n.dataTransfer=e.dataTransfer,n.preventDefault=()=>e.preventDefault(),n.synthetic=!0,n}update(e,n){var r;!n.doc.eq(this.pmView.state.doc)&&(r=this.state)!=null&&r.show&&this.updateStateFromMousePos()}destroy(){var e;(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}};const mne=new Ht("SideMenuPlugin");class gne extends _u{constructor(e,n){super(),J(this,"view"),J(this,"plugin"),J(this,"blockDragStart",(r,i)=>{this.view&&(this.view.isDragOrigin=!0),fne(r,i,this.editor)}),J(this,"blockDragEnd",()=>{this.editor.prosemirrorView&&C7(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1)}),J(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),J(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=e,this.plugin=new Ct({key:mne,view:r=>(this.view=new pne(e,n,r,i=>{this.emit("update",i)}),this.view)})}onUpdate(e){return this.on("update",e)}}const Cw=new Map;function bne(t){if(Cw.has(t))return Cw.get(t);const e=new ym;return t._tiptapEditor.on("transaction",({transaction:n})=>{e.appendMapping(n.mapping)}),t._tiptapEditor.on("destroy",()=>{Cw.delete(t)}),Cw.set(t,e),e}function yne(t,e,n="left"){const r=vn.getState(t.prosemirrorState);if(!r){const l=bne(t),a=l.maps.length;return()=>l.slice(a).map(e,n==="left"?-1:1)}const i=u1(e+(n==="right"?1:0),r.binding.type,r.binding.mapping);return()=>{const l=vn.getState(t.prosemirrorState),a=Am(l.doc,l.binding.type,i,l.binding.mapping);if(a===null)throw new Error("Position not found, cannot track positions");return a+(n==="right"?-1:0)}}const vne=h_(t=>t.type.name==="blockContainer");class wne{constructor(e,n){J(this,"state"),J(this,"emitUpdate"),J(this,"rootEl"),J(this,"pluginState"),J(this,"handleScroll",()=>{var l,a;if((l=this.state)!=null&&l.show){const u=(a=this.rootEl)==null?void 0:a.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!u)return;this.state.referencePos=u.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),J(this,"closeMenu",()=>{this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(hm,null))}),J(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor._tiptapEditor.state.selection.from}).run()});var r,i;this.editor=e,this.pluginState=void 0,this.emitUpdate=l=>{var a;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(l,{...this.state,ignoreQueryLength:(a=this.pluginState)==null?void 0:a.ignoreQueryLength})},this.rootEl=(r=this.editor.prosemirrorView)==null?void 0:r.root,(i=this.rootEl)==null||i.addEventListener("scroll",this.handleScroll,!0)}update(e,n){var r;const i=hm.getState(n),l=hm.getState(e.state),a=i===void 0&&l!==void 0,u=i!==void 0&&l===void 0;if(!a&&!(i!==void 0&&l!==void 0)&&!u)return;if(this.pluginState=u?i:l,u||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const d=(r=this.rootEl)==null?void 0:r.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&d&&(this.state={show:!0,referencePos:d.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var e;(e=this.rootEl)==null||e.removeEventListener("scroll",this.handleScroll,!0)}}const hm=new Ht("SuggestionMenuPlugin");class kne extends _u{constructor(e){super(),J(this,"view"),J(this,"plugin"),J(this,"triggerCharacters",[]),J(this,"addTriggerCharacter",r=>{this.triggerCharacters.push(r)}),J(this,"removeTriggerCharacter",r=>{this.triggerCharacters=this.triggerCharacters.filter(i=>i!==r)}),J(this,"closeMenu",()=>this.view.closeMenu()),J(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.plugin=new Ct({key:hm,view:()=>(this.view=new wne(e,(r,i)=>{this.emit(`update ${r}`,i)}),this.view),state:{init(){},apply(r,i,l,a){if(r.getMeta("orderedListIndexing")!==void 0||r.selection.$from.parent.type.spec.code)return i;const u=r.getMeta(hm);if(typeof u=="object"&&u!==null&&i===void 0){const h=yne(e,a.selection.from-u.triggerCharacter.length);return{triggerCharacter:u.triggerCharacter,deleteTriggerCharacter:u.deleteTriggerCharacter!==!1,queryStartPos:()=>h()+u.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:u==null?void 0:u.ignoreQueryLength}}if(i===void 0)return i;if(a.selection.from!==a.selection.to||u===null||r.getMeta("focus")||r.getMeta("blur")||r.getMeta("pointer")||i.triggerCharacter!==void 0&&a.selection.from<i.queryStartPos())return;const d={...i};return d.query=a.doc.textBetween(i.queryStartPos(),a.selection.from),d}},props:{handleTextInput(r,i,l,a){const u=this.getState(r.state);return n.includes(a)&&u===void 0?(r.dispatch(r.state.tr.insertText(a).scrollIntoView().setMeta(hm,{triggerCharacter:a})),!0):!1},decorations(r){const i=this.getState(r);if(i===void 0)return null;if(!i.deleteTriggerCharacter){const l=vne(r.selection);if(l)return Ot.create(r.doc,[Qt.node(l.pos,l.pos+l.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}return Ot.create(r.doc,[Qt.inline(i.queryStartPos()-i.triggerCharacter.length,i.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}}})}onUpdate(e,n){return this.triggerCharacters.includes(e)||this.addTriggerCharacter(e),this.on(`update ${e}`,n)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}let li;function ED(t){li||(li=document.createElement("div"),li.innerHTML="_",li.style.opacity="0",li.style.height="1px",li.style.width="1px",t instanceof Document?t.body.appendChild(li):t.appendChild(li))}function Cne(t){li&&(t instanceof Document?t.body.removeChild(li):t.removeChild(li),li=void 0)}function _w(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function _ne(t){let e=t;for(;e&&e.nodeName!=="TD"&&e.nodeName!=="TH"&&!e.classList.contains("tableWrapper");){if(e.classList.contains("ProseMirror"))return;const n=e.parentNode;if(!n||!(n instanceof Element))return;e=n}return e.nodeName==="TD"||e.nodeName==="TH"?{type:"cell",domNode:e,tbodyNode:e.closest("tbody")}:{type:"wrapper",domNode:e,tbodyNode:e.querySelector("tbody")}}function Sne(t,e){const n=e.querySelectorAll(t);for(let r=0;r<n.length;r++)n[r].style.visibility="hidden"}class xne{constructor(e,n,r){J(this,"state"),J(this,"emitUpdate"),J(this,"tableId"),J(this,"tablePos"),J(this,"tableElement"),J(this,"menuFrozen",!1),J(this,"mouseState","up"),J(this,"prevWasEditable",null),J(this,"viewMousedownHandler",()=>{this.mouseState="down"}),J(this,"mouseUpHandler",i=>{this.mouseState="up",this.mouseMoveHandler(i)}),J(this,"mouseMoveHandler",i=>{var l,a,u,d,h,p,g;if(this.menuFrozen||this.mouseState==="selecting"||!(i.target instanceof Element)||!this.pmView.dom.contains(i.target))return;const y=_ne(i.target);if((y==null?void 0:y.type)==="cell"&&this.mouseState==="down"&&!((l=this.state)!=null&&l.draggingState)){this.mouseState="selecting",(a=this.state)!=null&&a.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!y||!this.editor.isEditable){(u=this.state)!=null&&u.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!y.tbodyNode)return;const v=y.tbodyNode.getBoundingClientRect(),w=k7(y.domNode,this.pmView);if(!w)return;this.tableElement=w.node;let C;const S=ni(w.id,this.editor._tiptapEditor.state.doc);if(!S)throw new Error(`Block with ID ${w.id} not found`);const E=jn(S.node,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema,this.editor.blockCache);if(zee("table",E,this.editor)&&(this.tablePos=S.posBeforeNode+1,C=E),!C)return;this.tableId=w.id;const A=(d=y.domNode.closest(".tableWrapper"))==null?void 0:d.querySelector(".table-widgets-container");if((y==null?void 0:y.type)==="wrapper"){const N=i.clientY>=v.bottom-1&&i.clientY<v.bottom+20,I=i.clientX>=v.right-1&&i.clientX<v.right+20,B=i.clientX>v.right||i.clientY>v.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:N,showAddOrRemoveColumnsButton:I,referencePosTable:v,block:C,widgetContainer:A,colIndex:B||(h=this.state)==null?void 0:h.colIndex,rowIndex:B||(p=this.state)==null?void 0:p.rowIndex,referencePosCell:B||(g=this.state)==null?void 0:g.referencePosCell}}else{const N=_w(y.domNode),I=_w(y.domNode.parentElement),B=y.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===w.id&&this.state.rowIndex===I&&this.state.colIndex===N)return;this.state={show:!0,showAddOrRemoveColumnsButton:N===C.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:I===C.content.rows.length-1,referencePosTable:v,block:C,draggingState:void 0,referencePosCell:B,colIndex:N,rowIndex:I,widgetContainer:A}}return this.emitUpdate(),!1}),J(this,"dragOverHandler",i=>{var l;if(((l=this.state)==null?void 0:l.draggingState)===void 0)return;i.preventDefault(),i.dataTransfer.dropEffect="move",Sne(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const a={left:Math.min(Math.max(i.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(i.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},u=this.pmView.root.elementsFromPoint(a.left,a.top).filter(C=>C.tagName==="TD"||C.tagName==="TH");if(u.length===0)return;const d=u[0];let h=!1;const p=_w(d.parentElement),g=_w(d),y=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,v=(this.state.draggingState.draggedCellOrientation==="row"?p:g)!==y;(this.state.rowIndex!==p||this.state.colIndex!==g)&&(this.state.rowIndex=p,this.state.colIndex=g,this.state.referencePosCell=d.getBoundingClientRect(),h=!0);const w=this.state.draggingState.draggedCellOrientation==="row"?a.top:a.left;this.state.draggingState.mousePos!==w&&(this.state.draggingState.mousePos=w,h=!0),h&&this.emitUpdate(),v&&this.editor.dispatch(this.pmView.state.tr.setMeta(hv,!0))}),J(this,"dropHandler",i=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");i.preventDefault();const{draggingState:l,colIndex:a,rowIndex:u}=this.state,d=this.state.block.content.columnWidths;if(l.draggedCellOrientation==="row"){if(!L6(this.state.block,l.originalIndex,u))return!1;const h=wJ(this.state.block,l.originalIndex,u);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:h}})}else{if(!P6(this.state.block,l.originalIndex,a))return!1;const h=vJ(this.state.block,l.originalIndex,a),[p]=d.splice(l.originalIndex,1);d.splice(a,0,p),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:d,rows:h}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");r(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var e;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||!((e=this.tableElement)!=null&&e.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:r}=jR(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=r&&(this.state.colIndex=r-1));const i=this.tableElement.querySelector("tbody");if(!i)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const l=i.children[this.state.rowIndex].children[this.state.colIndex];l?this.state.referencePosCell=l.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=i.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}}const hv=new Ht("TableHandlesPlugin");class Ene extends _u{constructor(e){super(),J(this,"view"),J(this,"plugin"),J(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(hv,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");ED(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(li,0,0),n.dataTransfer.effectAllowed="move"}),J(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(hv,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");ED(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(li,0,0),n.dataTransfer.effectAllowed="copyMove"}),J(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(hv,null)),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");Cne(this.editor.prosemirrorView.root)}),J(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),J(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),J(this,"getCellsAtRowHandle",(n,r)=>EM(n,r)),J(this,"getCellsAtColumnHandle",(n,r)=>TM(n,r)),J(this,"setCellSelection",(n,r=n)=>{const i=this.view;if(!i)throw new Error("Table handles view not initialized");const l=this.editor.prosemirrorState,a=l.doc.resolve(i.tablePos+1),u=l.doc.resolve(a.posAtIndex(n.row)+1),d=l.doc.resolve(u.posAtIndex(n.col)),h=l.doc.resolve(a.posAtIndex(r.row)+1),p=l.doc.resolve(h.posAtIndex(r.col)),g=l.tr;return g.setSelection(new un(d,p)),l.apply(g)}),J(this,"addRowOrColumn",(n,r)=>{const i=this.setCellSelection(r.orientation==="row"?{row:n,col:0}:{row:0,col:n});return r.orientation==="row"?r.side==="above"?rK(i,this.editor.dispatch):oK(i,this.editor.dispatch):r.side==="left"?QW(i,this.editor.dispatch):JW(i,this.editor.dispatch)}),J(this,"removeRowOrColumn",(n,r)=>{const i=this.setCellSelection(r==="row"?{row:n,col:0}:{row:0,col:n});return r==="row"?sK(i,this.editor.dispatch):tK(i,this.editor.dispatch)}),J(this,"mergeCells",n=>{const r=n?this.setCellSelection(n.relativeStartCell,n.relativeEndCell):this.editor.prosemirrorState;return aK(r,this.editor.dispatch)}),J(this,"splitCell",n=>{const r=n?this.setCellSelection(n):this.editor.prosemirrorState;return cK(r,this.editor.dispatch)}),J(this,"getCellSelection",()=>{const n=this.editor.prosemirrorState,r=n.selection;let i=r.$from,l=r.$to;if(NM(r)){const{ranges:w}=r;w.forEach(C=>{i=C.$from.min(i??C.$from),l=C.$to.max(l??C.$to)})}else if(i=n.doc.resolve(r.$from.pos-r.$from.parentOffset-1),l=n.doc.resolve(r.$to.pos-r.$to.parentOffset-1),i.pos===0||l.pos===0)return;const a=n.doc.resolve(i.pos-i.parentOffset-1),u=n.doc.resolve(l.pos-l.parentOffset-1),d=n.doc.resolve(a.pos-a.parentOffset-1),h=i.index(a.depth),p=a.index(d.depth),g=l.index(u.depth),y=u.index(d.depth),v=[];for(let w=p;w<=y;w++)for(let C=h;C<=g;C++)v.push({row:w,col:C});return{from:{row:p,col:h},to:{row:y,col:g},cells:v}}),J(this,"getMergeDirection",n=>{const r=NM(this.editor.prosemirrorState.selection)?this.editor.prosemirrorState.selection:void 0;if(!r||!n||r.ranges.length<=1)return;const i=this.getCellSelection();if(i)return _J(i.from,i.to,n)?"vertical":"horizontal"}),J(this,"cropEmptyRowsOrColumns",(n,r)=>kJ(n,r)),J(this,"addRowsOrColumns",(n,r,i)=>CJ(n,r,i)),this.editor=e,this.plugin=new Ct({key:hv,view:n=>(this.view=new xne(e,n,r=>{this.emit("update",r)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const r=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(r===void 0)return;const i=[],{block:l,draggingState:a}=this.view.state,{originalIndex:u,draggedCellOrientation:d}=a;if(r===u||!l||d==="row"&&!L6(l,u,r)||d==="col"&&!P6(l,u,r))return Ot.create(n.doc,i);const h=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?EM(this.view.state.block,r).forEach(({row:p,col:g})=>{const y=n.doc.resolve(h.posAtIndex(p)+1),v=n.doc.resolve(y.posAtIndex(g)+1),w=v.node(),C=v.pos+(r>u?w.nodeSize-2:0);i.push(Qt.widget(C,()=>{const S=document.createElement("div");return S.className="bn-table-drop-cursor",S.style.left="0",S.style.right="0",r>u?S.style.bottom="-2px":S.style.top="-3px",S.style.height="4px",S}))}):TM(this.view.state.block,r).forEach(({row:p,col:g})=>{const y=n.doc.resolve(h.posAtIndex(p)+1),v=n.doc.resolve(y.posAtIndex(g)+1),w=v.node(),C=v.pos+(r>u?w.nodeSize-2:0);i.push(Qt.widget(C,()=>{const S=document.createElement("div");return S.className="bn-table-drop-cursor",S.style.top="0",S.style.bottom="0",r>u?S.style.right="-2px":S.style.left="-3px",S.style.width="4px",S}))}),Ot.create(n.doc,i)}}})}onUpdate(e){return this.on("update",e)}}const Tne=an.create({name:"textAlignment",addGlobalAttributes(){return[{types:["paragraph","heading","bulletListItem","numberedListItem","checkListItem","tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:t=>t.getAttribute("data-text-alignment"),renderHTML:t=>t.textAlignment==="left"?{}:{"data-text-alignment":t.textAlignment}}}}]}}),Mne=an.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{textColor:{default:sr.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):sr.textColor.default,renderHTML:t=>t.textColor===sr.textColor.default?{}:{"data-text-color":t.textColor}}}}]}}),Ane=an.create({name:"trailingNode",addProseMirrorPlugins(){const t=new Ht(this.name);return[new Ct({key:t,appendTransaction:(e,n,r)=>{const{doc:i,tr:l,schema:a}=r,u=t.getState(r),d=i.content.size-2,h=a.nodes.blockContainer,p=a.nodes.paragraph;if(u)return l.insert(d,h.create(void 0,p.create()))},state:{init:(e,n)=>{},apply:(e,n)=>{if(!e.docChanged)return n;let r=e.doc.lastChild;if(!r||r.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(r=r.lastChild,!r||r.type.name!=="blockContainer")return!0;const i=r.firstChild;if(!i)throw new Error("Expected blockContent");return r.nodeSize>4||i.type.spec.content!=="inline*"}}})]}}),Rne={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},Nne=Ca.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,parseHTML(){return[{tag:"div",getAttrs:t=>{if(typeof t=="string")return!1;const e={};for(const[n,r]of Object.entries(Rne))t.getAttribute(r)&&(e[n]=t.getAttribute(r));return t.getAttribute("data-node-type")==="blockContainer"?e:!1}}]},renderHTML({HTMLAttributes:t}){var e;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[l,a]of Object.entries(t))l!=="class"&&n.setAttribute(l,a);const r={...((e=this.options.domAttributes)==null?void 0:e.block)||{},...t},i=document.createElement("div");i.className=er("bn-block",r.class),i.setAttribute("data-node-type",this.name);for(const[l,a]of Object.entries(r))l!=="class"&&i.setAttribute(l,a);return n.appendChild(i),{dom:n,contentDOM:i}}}),One=Ca.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:t}){var e;const n={...((e=this.options.domAttributes)==null?void 0:e.blockGroup)||{},...t},r=document.createElement("div");r.className=er("bn-block-group",n.class),r.setAttribute("data-node-type","blockGroup");for(const[i,l]of Object.entries(n))i!=="class"&&r.setAttribute(i,l);return{dom:r,contentDOM:r}}}),Dne=Ca.create({name:"doc",topNode:!0,content:"blockGroup"}),Lne=t=>{const e={},n=Pne(t);for(const i of n)e[i.name]=i;e.formattingToolbar=new Xte(t.editor),e.linkToolbar=new rne(t.editor),e.sideMenu=new gne(t.editor,t.sideMenuDetection),e.suggestionMenus=new kne(t.editor),e.filePanel=new Wte(t.editor),e.placeholder=new lne(t.editor,t.placeholders),(t.animations??!0)&&(e.animations=new cne),t.tableHandles&&(e.tableHandles=new Ene(t.editor)),e.dropCursor={plugin:t.dropCursor({width:5,color:"#ddeeff",editor:t.editor})},e.nodeSelectionKeyboard=new ine,e.showSelection=new une(t.editor),t.comments&&(e.comments=new Gte(t.editor,t.comments.threadStore,b7.name));const r=t.disableExtensions||[];for(const i of r)delete e[i];return e};let TD=!1;const Pne=t=>{const e=[W0.ClipboardTextSerializer,W0.Commands,W0.Editable,W0.FocusEvents,W0.Tabindex,iZ,D1.configure({types:["blockContainer","columnList","column"],setIdAttribute:t.setIdAttribute}),Yte,zZ,jZ.extend({inclusive:!1}).configure({defaultProtocol:w7,protocols:TD?[]:v7}),...Object.values(t.styleSpecs).map(n=>n.implementation.mark.configure({editor:t.editor})),Mne,$te,Tne,an.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>t.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),Dne,Nne.configure({editor:t.editor,domAttributes:t.domAttributes}),ene.configure({editor:t.editor,tabBehavior:t.tabBehavior}),One.configure({domAttributes:t.domAttributes}),...Object.values(t.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:t.editor})),...Object.values(t.blockSpecs).flatMap(n=>[...(n.implementation.requiredExtensions||[]).map(r=>r.configure({editor:t.editor,domAttributes:t.domAttributes})),n.implementation.node.configure({editor:t.editor,domAttributes:t.domAttributes})]),zte(t.editor),Bte(t.editor,t.pasteHandler||(n=>n.defaultPasteHandler())),wte(t.editor),...t.trailingBlock===void 0||t.trailingBlock?[Ane]:[],...t.comments?[b7]:[]];return TD=!0,t.collaboration?e.push(...Hte(t.collaboration)):e.push(mZ),e};function Ine(t,e){const n=[];return t.forEach((r,i,l)=>{l!==e&&n.push(r)}),se.from(n)}function Bne(t,e){const n=[];for(let r=0;r<t.childCount;r++)if(t.child(r).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const i=n[n.length-1],l=i.copy(i.content.addToEnd(t.child(r)));n[n.length-1]=l}else{const i=e.nodes.table.createChecked(void 0,t.child(r));n.push(i)}else n.push(t.child(r));return t=se.from(n),t}function jne(t,e){let n=se.from(t.content);if(n=Bne(n,e.state.schema),!zne(n,e))return new Se(n,t.openStart,t.openEnd);for(let r=0;r<n.childCount;r++)if(n.child(r).type.spec.group==="blockContent"){const i=[n.child(r)];if(r+1<n.childCount&&n.child(r+1).type.name==="blockGroup"){const a=n.child(r+1).child(0).child(0);(a.type.name==="bulletListItem"||a.type.name==="numberedListItem"||a.type.name==="checkListItem")&&(i.push(n.child(r+1)),n=Ine(n,r+1))}const l=e.state.schema.nodes.blockContainer.createChecked(void 0,i);n=n.replaceChild(r,l)}return new Se(n,t.openStart,t.openEnd)}function zne(t,e){var n,r;const i=t.childCount===1,l=((n=t.firstChild)==null?void 0:n.type.spec.content)==="inline*",a=((r=t.firstChild)==null?void 0:r.type.spec.content)==="tableRow+";if(i){if(l)return!1;if(a){const u=Yt(e.state);if(u.isBlockContainer)return u.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const LM=class extends xW{constructor(e,n){super({...e,content:void 0}),J(this,"_state"),J(this,"mount",(u,d,h)=>{d?(this.options.element=d,this.createViewAlternative(u,h)):this.destroy()});const r=this.schema;let i;const l=r.nodes.doc.createAndFill;r.nodes.doc.createAndFill=(...u)=>{if(i)return i;const d=l.apply(r.nodes.doc,u),h=JSON.parse(JSON.stringify(d.toJSON()));return h.content[0].content[0].attrs.id="initialBlockId",i=su.fromJSON(r,h),i};let a;try{const u=e==null?void 0:e.content.map(d=>Ap(d,this.schema,n).toJSON());a=Tk({type:"doc",content:[{type:"blockGroup",content:u}]},this.schema,this.options.parseOptions)}catch(u){throw console.error("Error creating document from blocks passed as `initialContent`. Caused by exception: ",u),new Error("Error creating document from blocks passed as `initialContent`:\n"+ +JSON.stringify(e.content))}this._state=Gh.create({doc:a,schema:this.schema})}get state(){return this.view&&(this._state=this.view.state),this._state}dispatch(e){this.view?this.view.dispatch(e):this._state=this.state.apply(e)}createViewAlternative(e,n){this.contentComponent=n;const r={};this.extensionManager.extensions.forEach(l=>{l.type==="mark"&&l.config.addMarkView&&(r[l.name]=l.config.addMarkView(e))}),this.view=new pI({mount:this.options.element},{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:this.state,markViews:r,nodeViews:this.extensionManager.nodeViews});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.commands.focus(this.options.autofocus||this.options.element.getAttribute("data-bn-autofocus")==="true",{scrollIntoView:!1}),this.emit("create",{editor:this}),this.isInitialized=!0}};J(LM,"create",(t,e)=>{var n,r;const i=(n=globalThis==null?void 0:globalThis.window)==null?void 0:n.setTimeout;typeof((r=globalThis==null?void 0:globalThis.window)==null?void 0:r.setTimeout)<"u"&&(globalThis.window.setTimeout=()=>0);try{return new LM(t,e)}finally{i&&(globalThis.window.setTimeout=i)}});let _7=LM;_7.prototype.createView=function(){this.options.onPaste=this.options.onDrop=void 0};const $ne={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let Hne=class S7 extends _u{constructor(e){var n,r,i,l,a,u,d,h,p,g,y,v,w,C,S;super(),J(this,"pmSchema"),J(this,"extensions",{}),J(this,"headless",!1),J(this,"_tiptapEditor"),J(this,"elementRenderer",null),J(this,"blockCache",new WeakMap),J(this,"dictionary"),J(this,"schema"),J(this,"blockImplementations"),J(this,"inlineContentImplementations"),J(this,"styleImplementations"),J(this,"formattingToolbar"),J(this,"linkToolbar"),J(this,"sideMenu"),J(this,"suggestionMenus"),J(this,"filePanel"),J(this,"tableHandles"),J(this,"comments"),J(this,"showSelectionPlugin"),J(this,"uploadFile"),J(this,"onUploadStartCallbacks",[]),J(this,"onUploadEndCallbacks",[]),J(this,"resolveFileUrl"),J(this,"resolveUsers"),J(this,"settings"),J(this,"dispatch",q=>{this._tiptapEditor.dispatch(q)}),J(this,"mount",(q,Z)=>{this._tiptapEditor.mount(this,q,Z)}),this.options=e;const E=e;if(E.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(E.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(E.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(E.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=e.dictionary||dJ,this.settings={tables:{splitCells:((n=e==null?void 0:e.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((r=e==null?void 0:e.tables)==null?void 0:r.cellBackgroundColor)??!1,cellTextColor:((i=e==null?void 0:e.tables)==null?void 0:i.cellTextColor)??!1,headers:((l=e==null?void 0:e.tables)==null?void 0:l.headers)??!1},codeBlock:{indentLineWithTab:((a=e==null?void 0:e.codeBlock)==null?void 0:a.indentLineWithTab)??!0,defaultLanguage:((u=e==null?void 0:e.codeBlock)==null?void 0:u.defaultLanguage)??"text",supportedLanguages:((d=e==null?void 0:e.codeBlock)==null?void 0:d.supportedLanguages)??{},createHighlighter:((h=e==null?void 0:e.codeBlock)==null?void 0:h.createHighlighter)??void 0}};const A={defaultStyles:!0,schema:e.schema||$m.create(),_headless:!1,...e,placeholders:{...this.dictionary.placeholders,...e.placeholders}};if(A.comments&&!A.resolveUsers)throw new Error("resolveUsers is required when using comments");if(this.resolveUsers=A.resolveUsers,this.schema=A.schema,this.blockImplementations=A.schema.blockSpecs,this.inlineContentImplementations=A.schema.inlineContentSpecs,this.styleImplementations=A.schema.styleSpecs,this.extensions=Lne({editor:this,domAttributes:A.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:A.collaboration,trailingBlock:A.trailingBlock,disableExtensions:A.disableExtensions,setIdAttribute:A.setIdAttribute,animations:A.animations??!0,tableHandles:si("table",this),dropCursor:this.options.dropCursor??cJ,placeholders:A.placeholders,tabBehavior:A.tabBehavior,sideMenuDetection:A.sideMenuDetection||"viewport",comments:A.comments,pasteHandler:A.pasteHandler}),(((p=A._tiptapOptions)==null?void 0:p.extensions)||[]).forEach(q=>{this.extensions[q.name]=q}),Object.entries(A._extensions||{}).forEach(([q,Z])=>{typeof Z=="function"&&(Z=Z(this)),this.extensions[q]=Z}),this.formattingToolbar=this.extensions.formattingToolbar,this.linkToolbar=this.extensions.linkToolbar,this.sideMenu=this.extensions.sideMenu,this.suggestionMenus=this.extensions.suggestionMenus,this.filePanel=this.extensions.filePanel,this.tableHandles=this.extensions.tableHandles,this.comments=this.extensions.comments,this.showSelectionPlugin=this.extensions.showSelection,A.uploadFile){const q=A.uploadFile;this.uploadFile=async(Z,Q)=>{this.onUploadStartCallbacks.forEach(ie=>ie.apply(this,[Q]));try{return await q(Z,Q)}finally{this.onUploadEndCallbacks.forEach(ie=>ie.apply(this,[Q]))}}}this.resolveFileUrl=A.resolveFileUrl,this.headless=A._headless;const N="collaboration"in this.extensions||"liveblocksExtension"in this.extensions;N&&A.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const I=A.initialContent||(N?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:D1.options.generateID()}]);if(!Array.isArray(I)||I.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+I);const B=[...Object.entries(this.extensions).map(([q,Z])=>{if(Z instanceof an||Z instanceof Ca||Z instanceof gi)return Z;if(!Z.plugin)throw new Error("Extension should either be a TipTap extension or a ProseMirror plugin in a plugin property");return an.create({name:q,addProseMirrorPlugins:()=>[Z.plugin]})})],F={...$ne,...A._tiptapOptions,content:I,extensions:B,editorProps:{...(g=A._tiptapOptions)==null?void 0:g.editorProps,attributes:{tabIndex:"0",...(v=(y=A._tiptapOptions)==null?void 0:y.editorProps)==null?void 0:v.attributes,...(w=A.domAttributes)==null?void 0:w.editor,class:er("bn-editor",A.defaultStyles?"bn-default-styles":"",((S=(C=A.domAttributes)==null?void 0:C.editor)==null?void 0:S.class)||"")},transformPasted:jne}};this.headless?this.pmSchema=Yq(F.extensions):(this._tiptapEditor=_7.create(F,this.schema.styleSchema),this.pmSchema=this._tiptapEditor.schema),this.emit("create")}static create(e={}){return new S7(e)}get prosemirrorView(){return this._tiptapEditor.view}get prosemirrorState(){return this._tiptapEditor.state}get domElement(){var e;return(e=this.prosemirrorView)==null?void 0:e.dom}isFocused(){var e;return((e=this.prosemirrorView)==null?void 0:e.hasFocus())||!1}focus(){var e;(e=this.prosemirrorView)==null||e.focus()}onUploadStart(e){return this.onUploadStartCallbacks.push(e),()=>{const n=this.onUploadStartCallbacks.indexOf(e);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(e){return this.onUploadEndCallbacks.push(e),()=>{const n=this.onUploadEndCallbacks.indexOf(e);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){const e=[];return this.prosemirrorState.doc.firstChild.descendants(n=>(e.push(jn(n,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)),!1)),e}getBlock(e){return ete(this,e)}getPrevBlock(e){return tte(this,e)}getNextBlock(e){return nte(this,e)}getParentBlock(e){return rte(this,e)}forEachBlock(e,n=!1){const r=this.document.slice();n&&r.reverse();function i(l){for(const a of l){if(e(a)===!1)return!1;const u=n?a.children.slice().reverse():a.children;if(!i(u))return!1}return!0}i(r)}onEditorContentChange(e){this._tiptapEditor.on("update",e)}onEditorSelectionChange(e){this._tiptapEditor.on("selectionUpdate",e)}getTextCursorPosition(){return lte(this)}setTextCursorPosition(e,n="start"){u7(this,e,n)}getSelection(){return ite(this)}setSelection(e,n){ste(this,e,n)}get isEditable(){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return!1}return this._tiptapEditor.isEditable===void 0?!0:this._tiptapEditor.isEditable}set isEditable(e){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return}this._tiptapEditor.options.editable!==e&&this._tiptapEditor.setEditable(e)}insertBlocks(e,n,r="before"){return Uee(this,e,n,r)}updateBlock(e,n){return EJ(this,e,n)}removeBlocks(e){return Jee(this,e)}replaceBlocks(e,n){return Qee(this,e,n)}insertInlineContent(e){const n=ql(e,this.pmSchema,this.schema.styleSchema);ote({from:this._tiptapEditor.state.selection.from,to:this._tiptapEditor.state.selection.to},n,this)}getActiveStyles(){const e={},n=this._tiptapEditor.state.selection.$to.marks();for(const r of n){const i=this.schema.styleSchema[r.type.name];if(!i){r.type.name!=="link"&&!r.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",r.type.name);continue}i.propSchema==="boolean"?e[i.type]=!0:e[i.type]=r.attrs.stringValue}return e}addStyles(e){for(const[n,r]of Object.entries(e)){const i=this.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this._tiptapEditor.commands.setMark(n);else if(i.propSchema==="string")this._tiptapEditor.commands.setMark(n,{stringValue:r});else throw new ya(i.propSchema)}}removeStyles(e){for(const n of Object.keys(e))this._tiptapEditor.commands.unsetMark(n)}toggleStyles(e){for(const[n,r]of Object.entries(e)){const i=this.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this._tiptapEditor.commands.toggleMark(n);else if(i.propSchema==="string")this._tiptapEditor.commands.toggleMark(n,{stringValue:r});else throw new ya(i.propSchema)}}getSelectedText(){return this._tiptapEditor.state.doc.textBetween(this._tiptapEditor.state.selection.from,this._tiptapEditor.state.selection.to)}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(e,n){if(e==="")return;const{from:r,to:i}=this._tiptapEditor.state.selection,l=this.pmSchema.mark("link",{href:e});this.dispatch(n?this._tiptapEditor.state.tr.insertText(n,r,i).addMark(r,r+n.length,l):this._tiptapEditor.state.tr.setSelection(Ve.create(this._tiptapEditor.state.tr.doc,i)).addMark(r,i,l))}canNestBlock(){return Xee(this)}nestBlock(){a7(this)}canUnnestBlock(){return Yee(this)}unnestBlock(){Zee(this)}moveBlocksUp(){qee(this)}moveBlocksDown(){Wee(this)}async blocksToHTMLLossy(e=this.document){return E_(this.pmSchema,this).exportBlocks(e,{})}async blocksToFullHTML(e){return NJ(this.pmSchema,this).serializeBlocks(e,{})}async tryParseHTMLToBlocks(e){return f7(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}async blocksToMarkdownLossy(e=this.document){return ute(e,this.pmSchema,this,{})}async tryParseMarkdownToBlocks(e){return bte(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}updateCollaborationUserInfo(e){if(!this.options.collaboration)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this._tiptapEditor.commands.updateUser(e)}onChange(e){if(this.headless)return;const n=()=>{e(this)};return this._tiptapEditor.on("update",n),()=>{this._tiptapEditor.off("update",n)}}onSelectionChange(e,n){if(this.headless)return;const r=i=>{i.transaction.getMeta(vn)&&!n||e(this)};return this._tiptapEditor.on("selectionUpdate",r),()=>{this._tiptapEditor.off("selectionUpdate",r)}}onCreate(e){return this.on("create",e),()=>{this.off("create",e)}}getSelectionBoundingBox(){var e;if(!this.prosemirrorView)return;const n=(e=this.prosemirrorView)==null?void 0:e.state,{selection:r}=n,{ranges:i}=r,l=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos));if(KT(r)){const u=this.prosemirrorView.nodeDOM(l);if(u)return u.getBoundingClientRect()}return Mk(this.prosemirrorView,l,a)}get isEmpty(){const e=this.document;return e.length===0||e.length===1&&e[0].type==="paragraph"&&e[0].content.length===0}openSuggestionMenu(e,n){var r;const i=(r=this.prosemirrorView)==null?void 0:r.state.tr;if(!i)return;const l=n&&n.deleteTriggerCharacter?i.insertText(e):i;this.prosemirrorView.focus(),this.prosemirrorView.dispatch(l.scrollIntoView().setMeta(this.suggestionMenus.plugin,{triggerCharacter:e,deleteTriggerCharacter:(n==null?void 0:n.deleteTriggerCharacter)||!1,ignoreQueryLength:(n==null?void 0:n.ignoreQueryLength)||!1}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(e){this.showSelectionPlugin.setEnabled(e)}convertHtmlToBlockNoteHtml(e){return d7(e.trim()).innerHTML}pasteHTML(e,n=!1){var r;let i=e;n||(i=this.convertHtmlToBlockNoteHtml(e)),i&&((r=this.prosemirrorView)==null||r.pasteHTML(i))}pasteText(e){var n;return(n=this.prosemirrorView)==null?void 0:n.pasteText(e)}async pasteMarkdown(e){return this.pasteHTML(await h7(e))}},_2;async function Vne(){return _2||(_2=(async()=>{const[t,e]=await Promise.all([Me(()=>import("./module-BvCTiNll.js"),[]),Me(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in t?t.default:t,r="default"in e?e.default:e;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),_2)}async function Une(t,e){if(!jee("text",t))return[];const{emojiData:n,emojiMart:r}=await Vne();return(e.trim()===""?Object.values(n.emojis):await r.SearchIndex.search(e)).map(i=>({id:i.skins[0].native,onItemClick:()=>t.insertInlineContent(i.skins[0].native+" ")}))}function Fne(t,...e){const n=[...t];for(const r of e)for(const i of r){const l=n.findLastIndex(a=>a.group===i.group);l===-1?n.push(i):n.splice(l+1,0,i)}return n}var S2={exports:{}},Y0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD;function Gne(){if(MD)return Y0;MD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,l){var a=null;if(l!==void 0&&(a=""+l),i.key!==void 0&&(a=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:l}}return Y0.Fragment=e,Y0.jsx=n,Y0.jsxs=n,Y0}var AD;function qne(){return AD||(AD=1,S2.exports=Gne()),S2.exports}var x=qne();function A_(){return typeof window<"u"}function Hm(t){return x7(t)?(t.nodeName||"").toLowerCase():"#document"}function pi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ea(t){var e;return(e=(x7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function x7(t){return A_()?t instanceof Node||t instanceof pi(t).Node:!1}function Sn(t){return A_()?t instanceof Element||t instanceof pi(t).Element:!1}function gs(t){return A_()?t instanceof HTMLElement||t instanceof pi(t).HTMLElement:!1}function PM(t){return!A_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pi(t).ShadowRoot}function j1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Is(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Wne(t){return["table","td","th"].includes(Hm(t))}function R_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function KR(t){const e=N_(),n=Sn(t)?Is(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Kne(t){let e=gu(t);for(;gs(e)&&!cd(e);){if(KR(e))return e;if(R_(e))return null;e=gu(e)}return null}function N_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cd(t){return["html","body","#document"].includes(Hm(t))}function Is(t){return pi(t).getComputedStyle(t)}function O_(t){return Sn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gu(t){if(Hm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PM(t)&&t.host||Ea(t);return PM(e)?e.host:e}function E7(t){const e=gu(t);return cd(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&j1(e)?e:E7(e)}function fu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=E7(t),l=i===((r=t.ownerDocument)==null?void 0:r.body),a=pi(i);if(l){const u=IM(a);return e.concat(a,a.visualViewport||[],j1(i)?i:[],u&&n?fu(u):[])}return e.concat(i,fu(i,[],n))}function IM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BM(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Rm(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&PM(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function T7(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function M7(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function Zne(t){return Yne()?!1:!RD()&&t.width===0&&t.height===0||RD()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function A7(){return/apple/i.test(navigator.vendor)}function RD(){const t=/android/i;return t.test(T7())||t.test(M7())}function Xne(){return T7().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Yne(){return M7().includes("jsdom/")}function jM(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function Qne(t){return"nativeEvent"in t}function Jne(t){return t.matches("html,body")}function Ku(t){return(t==null?void 0:t.ownerDocument)||document}function x2(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Kp(t){return"composedPath"in t?t.composedPath()[0]:t.target}const ere="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function tre(t){return gs(t)&&t.matches(ere)}const Wl=Math.min,bo=Math.max,pC=Math.round,Sw=Math.floor,da=t=>({x:t,y:t}),nre={left:"right",right:"left",bottom:"top",top:"bottom"},rre={start:"end",end:"start"};function zM(t,e,n){return bo(t,Wl(e,n))}function bu(t,e){return typeof t=="function"?t(e):t}function Kl(t){return t.split("-")[0]}function Vm(t){return t.split("-")[1]}function ZR(t){return t==="x"?"y":"x"}function XR(t){return t==="y"?"height":"width"}function yu(t){return["top","bottom"].includes(Kl(t))?"y":"x"}function YR(t){return ZR(yu(t))}function ore(t,e,n){n===void 0&&(n=!1);const r=Vm(t),i=YR(t),l=XR(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=mC(a)),[a,mC(a)]}function ire(t){const e=mC(t);return[$M(t),e,$M(e)]}function $M(t){return t.replace(/start|end/g,e=>rre[e])}function sre(t,e,n){const r=["left","right"],i=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?l:a;default:return[]}}function lre(t,e,n,r){const i=Vm(t);let l=sre(Kl(t),n==="start",r);return i&&(l=l.map(a=>a+"-"+i),e&&(l=l.concat(l.map($M)))),l}function mC(t){return t.replace(/left|right|bottom|top/g,e=>nre[e])}function are(t){return{top:0,right:0,bottom:0,left:0,...t}}function QR(t){return typeof t!="number"?are(t):{top:t,right:t,bottom:t,left:t}}function Nm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var cre=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],HM=cre.join(","),R7=typeof Element>"u",p1=R7?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gC=!R7&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},bC=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),l=i===""||i==="true",a=l||n&&e&&t(e.parentNode);return a},ure=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},dre=function(e,n,r){if(bC(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(HM));return n&&p1.call(e,HM)&&i.unshift(e),i=i.filter(r),i},fre=function t(e,n,r){for(var i=[],l=Array.from(e);l.length;){var a=l.shift();if(!bC(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),d=u.length?u:a.children,h=t(d,!0,r);r.flatten?i.push.apply(i,h):i.push({scopeParent:a,candidates:h})}else{var p=p1.call(a,HM);p&&r.filter(a)&&(n||!e.includes(a))&&i.push(a);var g=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),y=!bC(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(g&&y){var v=t(g===!0?a.children:g.children,!0,r);r.flatten?i.push.apply(i,v):i.push({scopeParent:a,candidates:v})}else l.unshift.apply(l,a.children)}}return i},N7=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},O7=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ure(e))&&!N7(e)?0:e.tabIndex},hre=function(e,n){var r=O7(e);return r<0&&n&&!N7(e)?0:r},pre=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},D7=function(e){return e.tagName==="INPUT"},mre=function(e){return D7(e)&&e.type==="hidden"},gre=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},bre=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},yre=function(e){if(!e.name)return!0;var n=e.form||gC(e),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=bre(i,e.form);return!l||l===e},vre=function(e){return D7(e)&&e.type==="radio"},wre=function(e){return vre(e)&&!yre(e)},kre=function(e){var n,r=e&&gC(e),i=(n=r)===null||n===void 0?void 0:n.host,l=!1;if(r&&r!==e){var a,u,d;for(l=!!((a=i)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(i)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!l&&i;){var h,p,g;r=gC(i),i=(h=r)===null||h===void 0?void 0:h.host,l=!!((p=i)!==null&&p!==void 0&&(g=p.ownerDocument)!==null&&g!==void 0&&g.contains(i))}}return l},ND=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Cre=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=p1.call(e,"details>summary:first-of-type"),a=l?e.parentElement:e;if(p1.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var u=e;e;){var d=e.parentElement,h=gC(e);if(d&&!d.shadowRoot&&i(d)===!0)return ND(e);e.assignedSlot?e=e.assignedSlot:!d&&h!==e.ownerDocument?e=h.host:e=d}e=u}if(kre(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ND(e);return!1},_re=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return p1.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Sre=function(e,n){return!(n.disabled||bC(n)||mre(n)||Cre(n,e)||gre(n)||_re(n))},OD=function(e,n){return!(wre(n)||O7(n)<0||!Sre(e,n))},xre=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Ere=function t(e){var n=[],r=[];return e.forEach(function(i,l){var a=!!i.scopeParent,u=a?i.scopeParent:i,d=hre(u,a),h=a?t(i.candidates):u;d===0?a?n.push.apply(n,h):n.push(u):r.push({documentOrder:l,tabIndex:d,item:i,isScope:a,content:h})}),r.sort(pre).reduce(function(i,l){return l.isScope?i.push.apply(i,l.content):i.push(l.content),i},[]).concat(n)},L7=function(e,n){n=n||{};var r;return n.getShadowRoot?r=fre([e],n.includeContainer,{filter:OD.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:xre}):r=dre(e,n.includeContainer,OD.bind(null,n)),Ere(r)};function DD(t,e,n){let{reference:r,floating:i}=t;const l=yu(e),a=YR(e),u=XR(a),d=Kl(e),h=l==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,y=r[u]/2-i[u]/2;let v;switch(d){case"top":v={x:p,y:r.y-i.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-i.width,y:g};break;default:v={x:r.x,y:r.y}}switch(Vm(e)){case"start":v[a]-=y*(n&&h?-1:1);break;case"end":v[a]+=y*(n&&h?-1:1);break}return v}const Tre=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:a}=n,u=l.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=DD(h,r,d),y=r,v={},w=0;for(let C=0;C<u.length;C++){const{name:S,fn:E}=u[C],{x:A,y:N,data:I,reset:B}=await E({x:p,y:g,initialPlacement:r,placement:y,strategy:i,middlewareData:v,rects:h,platform:a,elements:{reference:t,floating:e}});p=A??p,g=N??g,v={...v,[S]:{...v[S],...I}},B&&w<=50&&(w++,typeof B=="object"&&(B.placement&&(y=B.placement),B.rects&&(h=B.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:p,y:g}=DD(h,y,d)),C=-1)}return{x:p,y:g,placement:y,strategy:i,middlewareData:v}};async function JR(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:l,rects:a,elements:u,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:v=0}=bu(e,t),w=QR(v),S=u[y?g==="floating"?"reference":"floating":g],E=Nm(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:d})),A=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),I=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},B=Nm(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:N,strategy:d}):A);return{top:(E.top-B.top+w.top)/I.y,bottom:(B.bottom-E.bottom+w.bottom)/I.y,left:(E.left-B.left+w.left)/I.x,right:(B.right-E.right+w.right)/I.x}}const Mre=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:l,platform:a,elements:u,middlewareData:d}=e,{element:h,padding:p=0}=bu(t,e)||{};if(h==null)return{};const g=QR(p),y={x:n,y:r},v=YR(i),w=XR(v),C=await a.getDimensions(h),S=v==="y",E=S?"top":"left",A=S?"bottom":"right",N=S?"clientHeight":"clientWidth",I=l.reference[w]+l.reference[v]-y[v]-l.floating[w],B=y[v]-l.reference[v],F=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let q=F?F[N]:0;(!q||!await(a.isElement==null?void 0:a.isElement(F)))&&(q=u.floating[N]||l.floating[w]);const Z=I/2-B/2,Q=q/2-C[w]/2-1,ie=Wl(g[E],Q),ke=Wl(g[A],Q),ue=ie,xe=q-C[w]-ke,we=q/2-C[w]/2+Z,de=zM(ue,we,xe),L=!d.arrow&&Vm(i)!=null&&we!==de&&l.reference[w]/2-(we<ue?ie:ke)-C[w]/2<0,H=L?we<ue?we-ue:we-xe:0;return{[v]:y[v]+H,data:{[v]:de,centerOffset:we-de-H,...L&&{alignmentOffset:H}},reset:L}}}),Are=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:l,rects:a,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:C=!0,...S}=bu(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=Kl(i),A=yu(u),N=Kl(u)===u,I=await(d.isRTL==null?void 0:d.isRTL(h.floating)),B=y||(N||!C?[mC(u)]:ire(u)),F=w!=="none";!y&&F&&B.push(...lre(u,C,w,I));const q=[u,...B],Z=await JR(e,S),Q=[];let ie=((r=l.flip)==null?void 0:r.overflows)||[];if(p&&Q.push(Z[E]),g){const we=ore(i,a,I);Q.push(Z[we[0]],Z[we[1]])}if(ie=[...ie,{placement:i,overflows:Q}],!Q.every(we=>we<=0)){var ke,ue;const we=(((ke=l.flip)==null?void 0:ke.index)||0)+1,de=q[we];if(de)return{data:{index:we,overflows:ie},reset:{placement:de}};let L=(ue=ie.filter(H=>H.overflows[0]<=0).sort((H,K)=>H.overflows[1]-K.overflows[1])[0])==null?void 0:ue.placement;if(!L)switch(v){case"bestFit":{var xe;const H=(xe=ie.filter(K=>{if(F){const ee=yu(K.placement);return ee===A||ee==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ee=>ee>0).reduce((ee,$)=>ee+$,0)]).sort((K,ee)=>K[1]-ee[1])[0])==null?void 0:xe[0];H&&(L=H);break}case"initialPlacement":L=u;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function P7(t){const e=Wl(...t.map(l=>l.left)),n=Wl(...t.map(l=>l.top)),r=bo(...t.map(l=>l.right)),i=bo(...t.map(l=>l.bottom));return{x:e,y:n,width:r-e,height:i-n}}function Rre(t){const e=t.slice().sort((i,l)=>i.y-l.y),n=[];let r=null;for(let i=0;i<e.length;i++){const l=e[i];!r||l.y-r.y>r.height/2?n.push([l]):n[n.length-1].push(l),r=l}return n.map(i=>Nm(P7(i)))}const Nre=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:l,strategy:a}=e,{padding:u=2,x:d,y:h}=bu(t,e),p=Array.from(await(l.getClientRects==null?void 0:l.getClientRects(r.reference))||[]),g=Rre(p),y=Nm(P7(p)),v=QR(u);function w(){if(g.length===2&&g[0].left>g[1].right&&d!=null&&h!=null)return g.find(S=>d>S.left-v.left&&d<S.right+v.right&&h>S.top-v.top&&h<S.bottom+v.bottom)||y;if(g.length>=2){if(yu(n)==="y"){const ie=g[0],ke=g[g.length-1],ue=Kl(n)==="top",xe=ie.top,we=ke.bottom,de=ue?ie.left:ke.left,L=ue?ie.right:ke.right,H=L-de,K=we-xe;return{top:xe,bottom:we,left:de,right:L,width:H,height:K,x:de,y:xe}}const S=Kl(n)==="left",E=bo(...g.map(ie=>ie.right)),A=Wl(...g.map(ie=>ie.left)),N=g.filter(ie=>S?ie.left===A:ie.right===E),I=N[0].top,B=N[N.length-1].bottom,F=A,q=E,Z=q-F,Q=B-I;return{top:I,bottom:B,left:F,right:q,width:Z,height:Q,x:F,y:I}}return y}const C=await l.getElementRects({reference:{getBoundingClientRect:w},floating:r.floating,strategy:a});return i.reference.x!==C.reference.x||i.reference.y!==C.reference.y||i.reference.width!==C.reference.width||i.reference.height!==C.reference.height?{reset:{rects:C}}:{}}}};async function Ore(t,e){const{placement:n,platform:r,elements:i}=t,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Kl(n),u=Vm(n),d=yu(n)==="y",h=["left","top"].includes(a)?-1:1,p=l&&d?-1:1,g=bu(e,t);let{mainAxis:y,crossAxis:v,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof w=="number"&&(v=u==="end"?w*-1:w),d?{x:v*p,y:y*h}:{x:y*h,y:v*p}}const Dre=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:l,placement:a,middlewareData:u}=e,d=await Ore(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:l+d.y,data:{...d,placement:a}}}}},Lre=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:l=!0,crossAxis:a=!1,limiter:u={fn:S=>{let{x:E,y:A}=S;return{x:E,y:A}}},...d}=bu(t,e),h={x:n,y:r},p=await JR(e,d),g=yu(Kl(i)),y=ZR(g);let v=h[y],w=h[g];if(l){const S=y==="y"?"top":"left",E=y==="y"?"bottom":"right",A=v+p[S],N=v-p[E];v=zM(A,v,N)}if(a){const S=g==="y"?"top":"left",E=g==="y"?"bottom":"right",A=w+p[S],N=w-p[E];w=zM(A,w,N)}const C=u.fn({...e,[y]:v,[g]:w});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[y]:l,[g]:a}}}}}},Pre=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:l,middlewareData:a}=e,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=bu(t,e),p={x:n,y:r},g=yu(i),y=ZR(g);let v=p[y],w=p[g];const C=bu(u,e),S=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const N=y==="y"?"height":"width",I=l.reference[y]-l.floating[N]+S.mainAxis,B=l.reference[y]+l.reference[N]-S.mainAxis;v<I?v=I:v>B&&(v=B)}if(h){var E,A;const N=y==="y"?"width":"height",I=["top","left"].includes(Kl(i)),B=l.reference[g]-l.floating[N]+(I&&((E=a.offset)==null?void 0:E[g])||0)+(I?0:S.crossAxis),F=l.reference[g]+l.reference[N]+(I?0:((A=a.offset)==null?void 0:A[g])||0)-(I?S.crossAxis:0);w<B?w=B:w>F&&(w=F)}return{[y]:v,[g]:w}}}},Ire=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:l,platform:a,elements:u}=e,{apply:d=()=>{},...h}=bu(t,e),p=await JR(e,h),g=Kl(i),y=Vm(i),v=yu(i)==="y",{width:w,height:C}=l.floating;let S,E;g==="top"||g==="bottom"?(S=g,E=y===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(E=g,S=y==="end"?"top":"bottom");const A=C-p.top-p.bottom,N=w-p.left-p.right,I=Wl(C-p[S],A),B=Wl(w-p[E],N),F=!e.middlewareData.shift;let q=I,Z=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Z=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(q=A),F&&!y){const ie=bo(p.left,0),ke=bo(p.right,0),ue=bo(p.top,0),xe=bo(p.bottom,0);v?Z=w-2*(ie!==0||ke!==0?ie+ke:bo(p.left,p.right)):q=C-2*(ue!==0||xe!==0?ue+xe:bo(p.top,p.bottom))}await d({...e,availableWidth:Z,availableHeight:q});const Q=await a.getDimensions(u.floating);return w!==Q.width||C!==Q.height?{reset:{rects:!0}}:{}}}};function I7(t){const e=Is(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=gs(t),l=i?t.offsetWidth:n,a=i?t.offsetHeight:r,u=pC(n)!==l||pC(r)!==a;return u&&(n=l,r=a),{width:n,height:r,$:u}}function eN(t){return Sn(t)?t:t.contextElement}function pm(t){const e=eN(t);if(!gs(e))return da(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:l}=I7(e);let a=(l?pC(n.width):n.width)/r,u=(l?pC(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const Bre=da(0);function B7(t){const e=pi(t);return!N_()||!e.visualViewport?Bre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pi(t)?!1:e}function _p(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=eN(t);let a=da(1);e&&(r?Sn(r)&&(a=pm(r)):a=pm(t));const u=jre(l,n,r)?B7(l):da(0);let d=(i.left+u.x)/a.x,h=(i.top+u.y)/a.y,p=i.width/a.x,g=i.height/a.y;if(l){const y=pi(l),v=r&&Sn(r)?pi(r):r;let w=y,C=IM(w);for(;C&&r&&v!==w;){const S=pm(C),E=C.getBoundingClientRect(),A=Is(C),N=E.left+(C.clientLeft+parseFloat(A.paddingLeft))*S.x,I=E.top+(C.clientTop+parseFloat(A.paddingTop))*S.y;d*=S.x,h*=S.y,p*=S.x,g*=S.y,d+=N,h+=I,w=pi(C),C=IM(w)}}return Nm({width:p,height:g,x:d,y:h})}function tN(t,e){const n=O_(t).scrollLeft;return e?e.left+n:_p(Ea(t)).left+n}function j7(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:tN(t,r)),l=r.top+e.scrollTop;return{x:i,y:l}}function zre(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const l=i==="fixed",a=Ea(r),u=e?R_(e.floating):!1;if(r===a||u&&l)return n;let d={scrollLeft:0,scrollTop:0},h=da(1);const p=da(0),g=gs(r);if((g||!g&&!l)&&((Hm(r)!=="body"||j1(a))&&(d=O_(r)),gs(r))){const v=_p(r);h=pm(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const y=a&&!g&&!l?j7(a,d,!0):da(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-d.scrollTop*h.y+p.y+y.y}}function $re(t){return Array.from(t.getClientRects())}function Hre(t){const e=Ea(t),n=O_(t),r=t.ownerDocument.body,i=bo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=bo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+tN(t);const u=-n.scrollTop;return Is(r).direction==="rtl"&&(a+=bo(e.clientWidth,r.clientWidth)-i),{width:i,height:l,x:a,y:u}}function Vre(t,e){const n=pi(t),r=Ea(t),i=n.visualViewport;let l=r.clientWidth,a=r.clientHeight,u=0,d=0;if(i){l=i.width,a=i.height;const h=N_();(!h||h&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:l,height:a,x:u,y:d}}function Ure(t,e){const n=_p(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,l=gs(t)?pm(t):da(1),a=t.clientWidth*l.x,u=t.clientHeight*l.y,d=i*l.x,h=r*l.y;return{width:a,height:u,x:d,y:h}}function LD(t,e,n){let r;if(e==="viewport")r=Vre(t,n);else if(e==="document")r=Hre(Ea(t));else if(Sn(e))r=Ure(e,n);else{const i=B7(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Nm(r)}function z7(t,e){const n=gu(t);return n===e||!Sn(n)||cd(n)?!1:Is(n).position==="fixed"||z7(n,e)}function Fre(t,e){const n=e.get(t);if(n)return n;let r=fu(t,[],!1).filter(u=>Sn(u)&&Hm(u)!=="body"),i=null;const l=Is(t).position==="fixed";let a=l?gu(t):t;for(;Sn(a)&&!cd(a);){const u=Is(a),d=KR(a);!d&&u.position==="fixed"&&(i=null),(l?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||j1(a)&&!d&&z7(t,a))?r=r.filter(p=>p!==a):i=u,a=gu(a)}return e.set(t,r),r}function Gre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?R_(e)?[]:Fre(e,this._c):[].concat(n),r],u=a[0],d=a.reduce((h,p)=>{const g=LD(e,p,i);return h.top=bo(g.top,h.top),h.right=Wl(g.right,h.right),h.bottom=Wl(g.bottom,h.bottom),h.left=bo(g.left,h.left),h},LD(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function qre(t){const{width:e,height:n}=I7(t);return{width:e,height:n}}function Wre(t,e,n){const r=gs(e),i=Ea(e),l=n==="fixed",a=_p(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const d=da(0);if(r||!r&&!l)if((Hm(e)!=="body"||j1(i))&&(u=O_(e)),r){const y=_p(e,!0,l,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else i&&(d.x=tN(i));const h=i&&!r&&!l?j7(i,u):da(0),p=a.left+u.scrollLeft-d.x-h.x,g=a.top+u.scrollTop-d.y-h.y;return{x:p,y:g,width:a.width,height:a.height}}function E2(t){return Is(t).position==="static"}function PD(t,e){if(!gs(t)||Is(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ea(t)===n&&(n=n.ownerDocument.body),n}function $7(t,e){const n=pi(t);if(R_(t))return n;if(!gs(t)){let i=gu(t);for(;i&&!cd(i);){if(Sn(i)&&!E2(i))return i;i=gu(i)}return n}let r=PD(t,e);for(;r&&Wne(r)&&E2(r);)r=PD(r,e);return r&&cd(r)&&E2(r)&&!KR(r)?n:r||Kne(t)||n}const Kre=async function(t){const e=this.getOffsetParent||$7,n=this.getDimensions,r=await n(t.floating);return{reference:Wre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zre(t){return Is(t).direction==="rtl"}const Xre={convertOffsetParentRelativeRectToViewportRelativeRect:zre,getDocumentElement:Ea,getClippingRect:Gre,getOffsetParent:$7,getElementRects:Kre,getClientRects:$re,getDimensions:qre,getScale:pm,isElement:Sn,isRTL:Zre};function H7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Yre(t,e){let n=null,r;const i=Ea(t);function l(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),l();const h=t.getBoundingClientRect(),{left:p,top:g,width:y,height:v}=h;if(u||e(),!y||!v)return;const w=Sw(g),C=Sw(i.clientWidth-(p+y)),S=Sw(i.clientHeight-(g+v)),E=Sw(p),N={rootMargin:-w+"px "+-C+"px "+-S+"px "+-E+"px",threshold:bo(0,Wl(1,d))||1};let I=!0;function B(F){const q=F[0].intersectionRatio;if(q!==d){if(!I)return a();q?a(!1,q):r=setTimeout(()=>{a(!1,1e-7)},1e3)}q===1&&!H7(h,t.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(B,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,N)}n.observe(t)}return a(!0),l}function Qre(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=eN(t),p=i||l?[...h?fu(h):[],...fu(e)]:[];p.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const g=h&&u?Yre(h,n):null;let y=-1,v=null;a&&(v=new ResizeObserver(E=>{let[A]=E;A&&A.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=v)==null||N.observe(e)})),n()}),h&&!d&&v.observe(h),v.observe(e));let w,C=d?_p(t):null;d&&S();function S(){const E=_p(t);C&&!H7(C,E)&&n(),C=E,w=requestAnimationFrame(S)}return n(),()=>{var E;p.forEach(A=>{i&&A.removeEventListener("scroll",n),l&&A.removeEventListener("resize",n)}),g==null||g(),(E=v)==null||E.disconnect(),v=null,d&&cancelAnimationFrame(w)}}const Jre=Dre,eoe=Lre,toe=Are,noe=Ire,ID=Mre,roe=Nre,ooe=Pre,ioe=(t,e,n)=>{const r=new Map,i={platform:Xre,...n},l={...i.platform,_c:r};return Tre(t,e,{...i,platform:l})};var Jw=typeof document<"u"?T.useLayoutEffect:T.useEffect;function yC(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yC(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&t.$$typeof)&&!yC(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function V7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BD(t,e){const n=V7(t);return Math.round(e*n)/n}function T2(t){const e=T.useRef(t);return Jw(()=>{e.current=t}),e}function soe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:a}={},transform:u=!0,whileElementsMounted:d,open:h}=t,[p,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,v]=T.useState(r);yC(y,r)||v(r);const[w,C]=T.useState(null),[S,E]=T.useState(null),A=T.useCallback(K=>{K!==F.current&&(F.current=K,C(K))},[]),N=T.useCallback(K=>{K!==q.current&&(q.current=K,E(K))},[]),I=l||w,B=a||S,F=T.useRef(null),q=T.useRef(null),Z=T.useRef(p),Q=d!=null,ie=T2(d),ke=T2(i),ue=T2(h),xe=T.useCallback(()=>{if(!F.current||!q.current)return;const K={placement:e,strategy:n,middleware:y};ke.current&&(K.platform=ke.current),ioe(F.current,q.current,K).then(ee=>{const $={...ee,isPositioned:ue.current!==!1};we.current&&!yC(Z.current,$)&&(Z.current=$,Ul.flushSync(()=>{g($)}))})},[y,e,n,ke,ue]);Jw(()=>{h===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,g(K=>({...K,isPositioned:!1})))},[h]);const we=T.useRef(!1);Jw(()=>(we.current=!0,()=>{we.current=!1}),[]),Jw(()=>{if(I&&(F.current=I),B&&(q.current=B),I&&B){if(ie.current)return ie.current(I,B,xe);xe()}},[I,B,xe,ie,Q]);const de=T.useMemo(()=>({reference:F,floating:q,setReference:A,setFloating:N}),[A,N]),L=T.useMemo(()=>({reference:I,floating:B}),[I,B]),H=T.useMemo(()=>{const K={position:n,left:0,top:0};if(!L.floating)return K;const ee=BD(L.floating,p.x),$=BD(L.floating,p.y);return u?{...K,transform:"translate("+ee+"px, "+$+"px)",...V7(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:$}},[n,u,L.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:xe,refs:de,elements:L,floatingStyles:H}),[p,xe,de,L,H])}const loe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ID({element:r.current,padding:i}).fn(n):{}:r?ID({element:r,padding:i}).fn(n):{}}}},Ta=(t,e)=>({...Jre(t),options:[t,e]}),Rp=(t,e)=>({...eoe(t),options:[t,e]}),jD=(t,e)=>({...ooe(t),options:[t,e]}),Zl=(t,e)=>({...toe(t),options:[t,e]}),D_=(t,e)=>({...noe(t),options:[t,e]}),Dv=(t,e)=>({...roe(t),options:[t,e]}),U7=(t,e)=>({...loe(t),options:[t,e]}),F7={...VV},aoe=F7.useInsertionEffect,coe=aoe||(t=>t());function Qc(t){const e=T.useRef(()=>{});return coe(()=>{e.current=t}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Co=typeof document<"u"?T.useLayoutEffect:T.useEffect;function VM(){return VM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VM.apply(this,arguments)}let zD=!1,uoe=0;const $D=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+uoe++;function doe(){const[t,e]=T.useState(()=>zD?$D():void 0);return Co(()=>{t==null&&e($D())},[]),T.useEffect(()=>{zD=!0},[]),t}const foe=F7.useId,nN=foe||doe;function hoe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const poe=T.createContext(null),moe=T.createContext(null),rN=()=>{var t;return((t=T.useContext(poe))==null?void 0:t.id)||null},oN=()=>T.useContext(moe);function z1(t){return"data-floating-ui-"+t}function Xh(t){const e=T.useRef(t);return Co(()=>{e.current=t}),e}const HD=z1("safe-polygon");function ek(t,e,n){return n&&!jM(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function goe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:l,elements:a}=t,{enabled:u=!0,delay:d=0,handleClose:h=null,mouseOnly:p=!1,restMs:g=0,move:y=!0}=e,v=oN(),w=rN(),C=Xh(h),S=Xh(d),E=Xh(n),A=T.useRef(),N=T.useRef(-1),I=T.useRef(),B=T.useRef(-1),F=T.useRef(!0),q=T.useRef(!1),Z=T.useRef(()=>{}),Q=T.useRef(!1),ie=T.useCallback(()=>{var H;const K=(H=i.current.openEvent)==null?void 0:H.type;return(K==null?void 0:K.includes("mouse"))&&K!=="mousedown"},[i]);T.useEffect(()=>{if(!u)return;function H(K){let{open:ee}=K;ee||(clearTimeout(N.current),clearTimeout(B.current),F.current=!0,Q.current=!1)}return l.on("openchange",H),()=>{l.off("openchange",H)}},[u,l]),T.useEffect(()=>{if(!u||!C.current||!n)return;function H(ee){ie()&&r(!1,ee,"hover")}const K=Ku(a.floating).documentElement;return K.addEventListener("mouseleave",H),()=>{K.removeEventListener("mouseleave",H)}},[a.floating,n,r,u,C,ie]);const ke=T.useCallback(function(H,K,ee){K===void 0&&(K=!0),ee===void 0&&(ee="hover");const $=ek(S.current,"close",A.current);$&&!I.current?(clearTimeout(N.current),N.current=window.setTimeout(()=>r(!1,H,ee),$)):K&&(clearTimeout(N.current),r(!1,H,ee))},[S,r]),ue=Qc(()=>{Z.current(),I.current=void 0}),xe=Qc(()=>{if(q.current){const H=Ku(a.floating).body;H.style.pointerEvents="",H.removeAttribute(HD),q.current=!1}}),we=Qc(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);T.useEffect(()=>{if(!u)return;function H(Y){if(clearTimeout(N.current),F.current=!1,p&&!jM(A.current)||g>0&&!ek(S.current,"open"))return;const te=ek(S.current,"open",A.current);te?N.current=window.setTimeout(()=>{E.current||r(!0,Y,"hover")},te):n||r(!0,Y,"hover")}function K(Y){if(we())return;Z.current();const te=Ku(a.floating);if(clearTimeout(B.current),Q.current=!1,C.current&&i.current.floatingContext){n||clearTimeout(N.current),I.current=C.current({...i.current.floatingContext,tree:v,x:Y.clientX,y:Y.clientY,onClose(){xe(),ue(),we()||ke(Y,!0,"safe-polygon")}});const Ee=I.current;te.addEventListener("mousemove",Ee),Z.current=()=>{te.removeEventListener("mousemove",Ee)};return}(A.current==="touch"?!Rm(a.floating,Y.relatedTarget):!0)&&ke(Y)}function ee(Y){we()||i.current.floatingContext&&(C.current==null||C.current({...i.current.floatingContext,tree:v,x:Y.clientX,y:Y.clientY,onClose(){xe(),ue(),we()||ke(Y)}})(Y))}if(Sn(a.domReference)){var $;const Y=a.domReference;return n&&Y.addEventListener("mouseleave",ee),($=a.floating)==null||$.addEventListener("mouseleave",ee),y&&Y.addEventListener("mousemove",H,{once:!0}),Y.addEventListener("mouseenter",H),Y.addEventListener("mouseleave",K),()=>{var te;n&&Y.removeEventListener("mouseleave",ee),(te=a.floating)==null||te.removeEventListener("mouseleave",ee),y&&Y.removeEventListener("mousemove",H),Y.removeEventListener("mouseenter",H),Y.removeEventListener("mouseleave",K)}}},[a,u,t,p,g,y,ke,ue,xe,r,n,E,v,S,C,i,we]),Co(()=>{var H;if(u&&n&&(H=C.current)!=null&&H.__options.blockPointerEvents&&ie()){q.current=!0;const ee=a.floating;if(Sn(a.domReference)&&ee){var K;const $=Ku(a.floating).body;$.setAttribute(HD,"");const Y=a.domReference,te=v==null||(K=v.nodesRef.current.find(re=>re.id===w))==null||(K=K.context)==null?void 0:K.elements.floating;return te&&(te.style.pointerEvents=""),$.style.pointerEvents="none",Y.style.pointerEvents="auto",ee.style.pointerEvents="auto",()=>{$.style.pointerEvents="",Y.style.pointerEvents="",ee.style.pointerEvents=""}}}},[u,n,w,a,v,C,ie]),Co(()=>{n||(A.current=void 0,Q.current=!1,ue(),xe())},[n,ue,xe]),T.useEffect(()=>()=>{ue(),clearTimeout(N.current),clearTimeout(B.current),xe()},[u,a.domReference,ue,xe]);const de=T.useMemo(()=>{function H(K){A.current=K.pointerType}return{onPointerDown:H,onPointerEnter:H,onMouseMove(K){const{nativeEvent:ee}=K;function $(){!F.current&&!E.current&&r(!0,ee,"hover")}p&&!jM(A.current)||n||g===0||Q.current&&K.movementX**2+K.movementY**2<2||(clearTimeout(B.current),A.current==="touch"?$():(Q.current=!0,B.current=window.setTimeout($,g)))}}},[p,r,n,E,g]),L=T.useMemo(()=>({onMouseEnter(){clearTimeout(N.current)},onMouseLeave(H){we()||ke(H.nativeEvent,!1)}}),[ke,we]);return T.useMemo(()=>u?{reference:de,floating:L}:{},[u,de,L])}const UM=()=>{},G7=T.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:UM,setState:UM,isInstantPhase:!1}),boe=()=>T.useContext(G7);function yoe(t){const{children:e,delay:n,timeoutMs:r=0}=t,[i,l]=T.useReducer((d,h)=>({...d,...h}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),a=T.useRef(null),u=T.useCallback(d=>{l({currentId:d})},[]);return Co(()=>{i.currentId?a.current===null?a.current=i.currentId:i.isInstantPhase||l({isInstantPhase:!0}):(i.isInstantPhase&&l({isInstantPhase:!1}),a.current=null)},[i.currentId,i.isInstantPhase]),T.createElement(G7.Provider,{value:T.useMemo(()=>({...i,setState:l,setCurrentId:u}),[i,u])},e)}function voe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,floatingId:i}=t,{id:l,enabled:a=!0}=e,u=l??i,d=boe(),{currentId:h,setCurrentId:p,initialDelay:g,setState:y,timeoutMs:v}=d;return Co(()=>{a&&h&&(y({delay:{open:1,close:ek(g,"close")}}),h!==u&&r(!1))},[a,u,r,y,h,g]),Co(()=>{function w(){r(!1),y({delay:g,currentId:null})}if(a&&h&&!n&&h===u){if(v){const C=window.setTimeout(w,v);return()=>{clearTimeout(C)}}w()}},[a,n,y,h,u,r,g,v]),Co(()=>{a&&(p===UM||!n||p(u))},[a,n,p,u]),d}function M2(t,e){let n=t.filter(i=>{var l;return i.parentId===e&&((l=i.context)==null?void 0:l.open)}),r=n;for(;r.length;)r=t.filter(i=>{var l;return(l=r)==null?void 0:l.some(a=>{var u;return i.parentId===a.id&&((u=i.context)==null?void 0:u.open)})}),n=n.concat(r);return n}const q7=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function W7(t,e){const n=L7(t,q7());e==="prev"&&n.reverse();const r=n.indexOf(BM(Ku(t)));return n.slice(r+1)[0]}function woe(){return W7(document.body,"next")}function koe(){return W7(document.body,"prev")}function A2(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!Rm(n,r)}function Coe(t){L7(t,q7()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function VD(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const K7={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let _oe;function UD(t){t.key==="Tab"&&(t.target,clearTimeout(_oe))}const FD=T.forwardRef(function(e,n){const[r,i]=T.useState();Co(()=>(A7()&&i("button"),document.addEventListener("keydown",UD),()=>{document.removeEventListener("keydown",UD)}),[]);const l={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[z1("focus-guard")]:"",style:K7};return T.createElement("span",VM({},e,l))}),Z7=T.createContext(null),GD=z1("portal");function Soe(t){t===void 0&&(t={});const{id:e,root:n}=t,r=nN(),i=Eoe(),[l,a]=T.useState(null),u=T.useRef(null);return Co(()=>()=>{l==null||l.remove(),queueMicrotask(()=>{u.current=null})},[l]),Co(()=>{if(!r||u.current)return;const d=e?document.getElementById(e):null;if(!d)return;const h=document.createElement("div");h.id=r,h.setAttribute(GD,""),d.appendChild(h),u.current=h,a(h)},[e,r]),Co(()=>{if(n===null||!r||u.current)return;let d=n||(i==null?void 0:i.portalNode);d&&!Sn(d)&&(d=d.current),d=d||document.body;let h=null;e&&(h=document.createElement("div"),h.id=e,d.appendChild(h));const p=document.createElement("div");p.id=r,p.setAttribute(GD,""),d=h||d,d.appendChild(p),u.current=p,a(p)},[e,n,r,i]),l}function xoe(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,l=Soe({id:n,root:r}),[a,u]=T.useState(null),d=T.useRef(null),h=T.useRef(null),p=T.useRef(null),g=T.useRef(null),y=a==null?void 0:a.modal,v=a==null?void 0:a.open,w=!!a&&!a.modal&&a.open&&i&&!!(r||l);return T.useEffect(()=>{if(!l||!i||y)return;function C(S){l&&A2(S)&&(S.type==="focusin"?VD:Coe)(l)}return l.addEventListener("focusin",C,!0),l.addEventListener("focusout",C,!0),()=>{l.removeEventListener("focusin",C,!0),l.removeEventListener("focusout",C,!0)}},[l,i,y]),T.useEffect(()=>{l&&(v||VD(l))},[v,l]),T.createElement(Z7.Provider,{value:T.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:d,afterOutsideRef:h,beforeInsideRef:p,afterInsideRef:g,portalNode:l,setFocusManagerState:u}),[i,l])},w&&l&&T.createElement(FD,{"data-type":"outside",ref:d,onFocus:C=>{if(A2(C,l)){var S;(S=p.current)==null||S.focus()}else{const E=koe()||(a==null?void 0:a.refs.domReference.current);E==null||E.focus()}}}),w&&l&&T.createElement("span",{"aria-owns":l.id,style:K7}),l&&Ul.createPortal(e,l),w&&l&&T.createElement(FD,{"data-type":"outside",ref:h,onFocus:C=>{if(A2(C,l)){var S;(S=g.current)==null||S.focus()}else{const E=woe()||(a==null?void 0:a.refs.domReference.current);E==null||E.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,C.nativeEvent,"focus-out"))}}}))}const Eoe=()=>T.useContext(Z7),Toe="data-floating-ui-focusable",Moe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Aoe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},qD=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function X7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:l}=t,{enabled:a=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:g="pointerdown",ancestorScroll:y=!1,bubbles:v,capture:w}=e,C=oN(),S=Qc(typeof d=="function"?d:()=>!1),E=typeof d=="function"?S:d,A=T.useRef(!1),N=T.useRef(!1),{escapeKey:I,outsidePress:B}=qD(v),{escapeKey:F,outsidePress:q}=qD(w),Z=T.useRef(!1),Q=Qc(de=>{var L;if(!n||!a||!u||de.key!=="Escape"||Z.current)return;const H=(L=l.current.floatingContext)==null?void 0:L.nodeId,K=C?M2(C.nodesRef.current,H):[];if(!I&&(de.stopPropagation(),K.length>0)){let ee=!0;if(K.forEach($=>{var Y;if((Y=$.context)!=null&&Y.open&&!$.context.dataRef.current.__escapeKeyBubbles){ee=!1;return}}),!ee)return}r(!1,Qne(de)?de.nativeEvent:de,"escape-key")}),ie=Qc(de=>{var L;const H=()=>{var K;Q(de),(K=Kp(de))==null||K.removeEventListener("keydown",H)};(L=Kp(de))==null||L.addEventListener("keydown",H)}),ke=Qc(de=>{var L;const H=A.current;A.current=!1;const K=N.current;if(N.current=!1,h==="click"&&K||H||typeof E=="function"&&!E(de))return;const ee=Kp(de),$="["+z1("inert")+"]",Y=Ku(i.floating).querySelectorAll($);let te=Sn(ee)?ee:null;for(;te&&!cd(te);){const Ae=gu(te);if(cd(Ae)||!Sn(Ae))break;te=Ae}if(Y.length&&Sn(ee)&&!Jne(ee)&&!Rm(ee,i.floating)&&Array.from(Y).every(Ae=>!Rm(te,Ae)))return;if(gs(ee)&&we){const Ae=ee.clientWidth>0&&ee.scrollWidth>ee.clientWidth,ft=ee.clientHeight>0&&ee.scrollHeight>ee.clientHeight;let ct=ft&&de.offsetX>ee.clientWidth;if(ft&&Is(ee).direction==="rtl"&&(ct=de.offsetX<=ee.offsetWidth-ee.clientWidth),ct||Ae&&de.offsetY>ee.clientHeight)return}const re=(L=l.current.floatingContext)==null?void 0:L.nodeId,Ee=C&&M2(C.nodesRef.current,re).some(Ae=>{var ft;return x2(de,(ft=Ae.context)==null?void 0:ft.elements.floating)});if(x2(de,i.floating)||x2(de,i.domReference)||Ee)return;const $e=C?M2(C.nodesRef.current,re):[];if($e.length>0){let Ae=!0;if($e.forEach(ft=>{var ct;if((ct=ft.context)!=null&&ct.open&&!ft.context.dataRef.current.__outsidePressBubbles){Ae=!1;return}}),!Ae)return}r(!1,de,"outside-press")}),ue=Qc(de=>{var L;const H=()=>{var K;ke(de),(K=Kp(de))==null||K.removeEventListener(h,H)};(L=Kp(de))==null||L.addEventListener(h,H)});T.useEffect(()=>{if(!n||!a)return;l.current.__escapeKeyBubbles=I,l.current.__outsidePressBubbles=B;let de=-1;function L(Y){r(!1,Y,"ancestor-scroll")}function H(){window.clearTimeout(de),Z.current=!0}function K(){de=window.setTimeout(()=>{Z.current=!1},N_()?5:0)}const ee=Ku(i.floating);u&&(ee.addEventListener("keydown",F?ie:Q,F),ee.addEventListener("compositionstart",H),ee.addEventListener("compositionend",K)),E&&ee.addEventListener(h,q?ue:ke,q);let $=[];return y&&(Sn(i.domReference)&&($=fu(i.domReference)),Sn(i.floating)&&($=$.concat(fu(i.floating))),!Sn(i.reference)&&i.reference&&i.reference.contextElement&&($=$.concat(fu(i.reference.contextElement)))),$=$.filter(Y=>{var te;return Y!==((te=ee.defaultView)==null?void 0:te.visualViewport)}),$.forEach(Y=>{Y.addEventListener("scroll",L,{passive:!0})}),()=>{u&&(ee.removeEventListener("keydown",F?ie:Q,F),ee.removeEventListener("compositionstart",H),ee.removeEventListener("compositionend",K)),E&&ee.removeEventListener(h,q?ue:ke,q),$.forEach(Y=>{Y.removeEventListener("scroll",L)}),window.clearTimeout(de)}},[l,i,u,E,h,n,r,y,a,I,B,Q,F,ie,ke,q,ue]),T.useEffect(()=>{A.current=!1},[E,h]);const xe=T.useMemo(()=>({onKeyDown:Q,[Moe[g]]:de=>{p&&r(!1,de.nativeEvent,"reference-press")}}),[Q,r,p,g]),we=T.useMemo(()=>({onKeyDown:Q,onMouseDown(){N.current=!0},onMouseUp(){N.current=!0},[Aoe[h]]:()=>{A.current=!0}}),[Q,h]);return T.useMemo(()=>a?{reference:xe,floating:we}:{},[a,xe,we])}function Roe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=nN(),l=T.useRef({}),[a]=T.useState(()=>hoe()),u=rN()!=null,[d,h]=T.useState(r.reference),p=Qc((v,w,C)=>{l.current.openEvent=v?w:void 0,a.emit("openchange",{open:v,event:w,reason:C,nested:u}),n==null||n(v,w,C)}),g=T.useMemo(()=>({setPositionReference:h}),[]),y=T.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return T.useMemo(()=>({dataRef:l,open:e,onOpenChange:p,elements:y,events:a,floatingId:i,refs:g}),[e,p,y,a,i,g])}function Um(t){t===void 0&&(t={});const{nodeId:e}=t,n=Roe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[l,a]=T.useState(null),[u,d]=T.useState(null),p=(i==null?void 0:i.domReference)||l,g=T.useRef(null),y=oN();Co(()=>{p&&(g.current=p)},[p]);const v=soe({...t,elements:{...i,...u&&{reference:u}}}),w=T.useCallback(N=>{const I=Sn(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),contextElement:N}:N;d(I),v.refs.setReference(I)},[v.refs]),C=T.useCallback(N=>{(Sn(N)||N===null)&&(g.current=N,a(N)),(Sn(v.refs.reference.current)||v.refs.reference.current===null||N!==null&&!Sn(N))&&v.refs.setReference(N)},[v.refs]),S=T.useMemo(()=>({...v.refs,setReference:C,setPositionReference:w,domReference:g}),[v.refs,C,w]),E=T.useMemo(()=>({...v.elements,domReference:p}),[v.elements,p]),A=T.useMemo(()=>({...v,...r,refs:S,elements:E,nodeId:e}),[v,S,E,e,r]);return Co(()=>{r.dataRef.current.floatingContext=A;const N=y==null?void 0:y.nodesRef.current.find(I=>I.id===e);N&&(N.context=A)}),T.useMemo(()=>({...v,context:A,refs:S,elements:E}),[v,S,E,A])}function Noe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:l,elements:a}=t,{enabled:u=!0,visibleOnly:d=!0}=e,h=T.useRef(!1),p=T.useRef(),g=T.useRef(!0);T.useEffect(()=>{if(!u)return;const v=pi(a.domReference);function w(){!n&&gs(a.domReference)&&a.domReference===BM(Ku(a.domReference))&&(h.current=!0)}function C(){g.current=!0}return v.addEventListener("blur",w),v.addEventListener("keydown",C,!0),()=>{v.removeEventListener("blur",w),v.removeEventListener("keydown",C,!0)}},[a.domReference,n,u]),T.useEffect(()=>{if(!u)return;function v(w){let{reason:C}=w;(C==="reference-press"||C==="escape-key")&&(h.current=!0)}return i.on("openchange",v),()=>{i.off("openchange",v)}},[i,u]),T.useEffect(()=>()=>{clearTimeout(p.current)},[]);const y=T.useMemo(()=>({onPointerDown(v){Zne(v.nativeEvent)||(g.current=!1)},onMouseLeave(){h.current=!1},onFocus(v){if(h.current)return;const w=Kp(v.nativeEvent);if(d&&Sn(w))try{if(A7()&&Xne())throw Error();if(!w.matches(":focus-visible"))return}catch{if(!g.current&&!tre(w))return}r(!0,v.nativeEvent,"focus")},onBlur(v){h.current=!1;const w=v.relatedTarget,C=v.nativeEvent,S=Sn(w)&&w.hasAttribute(z1("focus-guard"))&&w.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var E;const A=BM(a.domReference?a.domReference.ownerDocument:document);!w&&A===a.domReference||Rm((E=l.current.floatingContext)==null?void 0:E.refs.floating.current,A)||Rm(a.domReference,A)||S||r(!1,C,"focus")})}}),[l,a.domReference,r,d]);return T.useMemo(()=>u?{reference:y}:{},[u,y])}const WD="active",KD="selected";function R2(t,e,n){const r=new Map,i=n==="item";let l=t;if(i&&t){const{[WD]:a,[KD]:u,...d}=t;l=d}return{...n==="floating"&&{tabIndex:-1,[Toe]:""},...l,...e.map(a=>{const u=a?a[n]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((a,u)=>(u&&Object.entries(u).forEach(d=>{let[h,p]=d;if(!(i&&[WD,KD].includes(h)))if(h.indexOf("on")===0){if(r.has(h)||r.set(h,[]),typeof p=="function"){var g;(g=r.get(h))==null||g.push(p),a[h]=function(){for(var y,v=arguments.length,w=new Array(v),C=0;C<v;C++)w[C]=arguments[C];return(y=r.get(h))==null?void 0:y.map(S=>S(...w)).find(S=>S!==void 0)}}}else a[h]=p}),a),{})}}function Y7(t){t===void 0&&(t=[]);const e=t.map(u=>u==null?void 0:u.reference),n=t.map(u=>u==null?void 0:u.floating),r=t.map(u=>u==null?void 0:u.item),i=T.useCallback(u=>R2(u,t,"reference"),e),l=T.useCallback(u=>R2(u,t,"floating"),n),a=T.useCallback(u=>R2(u,t,"item"),r);return T.useMemo(()=>({getReferenceProps:i,getFloatingProps:l,getItemProps:a}),[i,l,a])}const Ooe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Doe(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:i}=t,{enabled:l=!0,role:a="dialog"}=e,u=(n=Ooe.get(a))!=null?n:a,d=nN(),p=rN()!=null,g=T.useMemo(()=>u==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":u==="alertdialog"?"dialog":u,"aria-controls":r?i:void 0,...u==="listbox"&&{role:"combobox"},...u==="menu"&&{id:d},...u==="menu"&&p&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[u,i,p,r,d,a]),y=T.useMemo(()=>{const w={id:i,...u&&{role:u}};return u==="tooltip"||a==="label"?w:{...w,...u==="menu"&&{"aria-labelledby":d}}},[u,i,d,a]),v=T.useCallback(w=>{let{active:C,selected:S}=w;const E={role:"option",...C&&{id:i+"-option"}};switch(a){case"select":return{...E,"aria-selected":C&&S};case"combobox":return{...E,...C&&{"aria-selected":!0}}}return{}},[i,a]);return T.useMemo(()=>l?{reference:g,floating:y,item:v}:{},[l,g,y,v])}const ZD=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function jp(t,e){return typeof t=="function"?t(e):t}function Loe(t,e){const[n,r]=T.useState(t);return t&&!n&&r(!0),T.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function Poe(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,a=(typeof i=="number"?i:i.close)||0,[u,d]=T.useState("unmounted"),h=Loe(n,a);return!h&&u==="close"&&d("unmounted"),Co(()=>{if(r){if(n){d("initial");const p=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(p)}}d("close")}},[n,r]),{isMounted:h,status:u}}function iN(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:l,duration:a=250}=e,u=t.placement,d=u.split("-")[0],h=T.useMemo(()=>({side:d,placement:u}),[d,u]),p=typeof a=="number",g=(p?a:a.open)||0,y=(p?a:a.close)||0,[v,w]=T.useState(()=>({...jp(l,h),...jp(n,h)})),{isMounted:C,status:S}=Poe(t,{duration:a}),E=Xh(n),A=Xh(r),N=Xh(i),I=Xh(l);return Co(()=>{const B=jp(E.current,h),F=jp(N.current,h),q=jp(I.current,h),Z=jp(A.current,h)||Object.keys(B).reduce((Q,ie)=>(Q[ie]="",Q),{});if(S==="initial"&&w(Q=>({transitionProperty:Q.transitionProperty,...q,...B})),S==="open"&&w({transitionProperty:Object.keys(Z).map(ZD).join(","),transitionDuration:g+"ms",...q,...Z}),S==="close"){const Q=F||B;w({transitionProperty:Object.keys(Q).map(ZD).join(","),transitionDuration:y+"ms",...q,...Q})}},[y,N,E,A,I,g,S,h]),{isMounted:C,styles:v}}var Q7={exports:{}},N2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function Ioe(){if(XD)return N2;XD=1;var t=lt;function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,l=t.useLayoutEffect,a=t.useDebugValue;function u(g,y){var v=y(),w=r({inst:{value:v,getSnapshot:y}}),C=w[0].inst,S=w[1];return l(function(){C.value=v,C.getSnapshot=y,d(C)&&S({inst:C})},[g,v,y]),i(function(){return d(C)&&S({inst:C}),g(function(){d(C)&&S({inst:C})})},[g]),a(v),v}function d(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!n(g,v)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return N2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,N2}Q7.exports=Ioe();var J7=Q7.exports;const Boe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},joe=({contentComponent:t})=>{const e=J7.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return lt.createElement(lt.Fragment,null,Object.values(e))};function zoe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:OA.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class $oe extends lt.Component{constructor(e){var n;super(e),this.editorContentRef=lt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=zoe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return lt.createElement(lt.Fragment,null,lt.createElement("div",{ref:Boe(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&lt.createElement(joe,{contentComponent:e.contentComponent}))}}const Hoe=T.forwardRef((t,e)=>{const n=lt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return lt.createElement($oe,{key:n,innerRef:e,...t})});lt.memo(Hoe);var O2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD;function Voe(){if(YD)return O2;YD=1;var t=lt,e=J7;function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,l=t.useRef,a=t.useEffect,u=t.useMemo,d=t.useDebugValue;return O2.useSyncExternalStoreWithSelector=function(h,p,g,y,v){var w=l(null);if(w.current===null){var C={hasValue:!1,value:null};w.current=C}else C=w.current;w=u(function(){function E(F){if(!A){if(A=!0,N=F,F=y(F),v!==void 0&&C.hasValue){var q=C.value;if(v(q,F))return I=q}return I=F}if(q=I,r(N,F))return q;var Z=y(F);return v!==void 0&&v(q,Z)?q:(N=F,I=Z)}var A=!1,N,I,B=g===void 0?null:g;return[function(){return E(p())},B===null?void 0:function(){return E(B())}]},[p,g,y,v]);var S=i(h,w[0],w[1]);return a(function(){C.hasValue=!0,C.value=S},[S]),d(S),S},O2}Voe();const Uoe=T.createContext({editor:null});Uoe.Consumer;const ej=T.createContext({onDragStart:void 0}),tj=()=>T.useContext(ej),Foe=lt.forwardRef((t,e)=>{const{onDragStart:n}=tj(),r=t.as||"div";return lt.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function Goe(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function qoe(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class Woe{constructor(e,{editor:n,props:r={},as:i="div",className:l=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),l&&this.element.classList.add(...l.split(" ")),this.editor.isInitialized?Ul.flushSync(()=>{this.render()}):this.render()}render(){var e;const n=this.component,r=this.props,i=this.editor;(Goe(n)||qoe(n))&&(r.ref=l=>{this.ref=l}),this.reactElement=lt.createElement(n,{...r}),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class Koe extends EW{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(h={})=>this.updateAttributes(h),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const h=p=>p.charAt(0).toUpperCase()+p.substring(1);this.component.displayName=h(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:h=>{h&&this.contentDOMElement&&h.firstChild!==this.contentDOMElement&&h.appendChild(this.contentDOMElement)}},l=this.component,a=lt.memo(h=>lt.createElement(ej.Provider,{value:i},lt.createElement(l,h)));a.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let u=this.node.isInline?"span":"div";this.options.as&&(u=this.options.as);const{className:d=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new Woe(a,{editor:this.editor,props:e,as:u,className:`node-${this.node.type.name} ${d}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&n>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,r){const i=l=>{this.renderer.updateProps(l),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const l=this.node,a=this.decorations,u=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=r,this.options.update({oldNode:l,oldDecorations:a,newNode:e,newDecorations:n,oldInnerDecorations:u,innerDecorations:r,updateProps:()=>i({node:e,decorations:n,innerDecorations:r})})}return e===this.node&&this.decorations===n&&this.innerDecorations===r||(this.node=e,this.decorations=n,this.innerDecorations=r,i({node:e,decorations:n,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,r=Sk(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function Zoe(t,e){return n=>n.editor.contentComponent?new Koe(t,n,e):{}}var D2={exports:{}},Q0={},L2={exports:{}},P2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD;function Xoe(){return QD||(QD=1,function(t){function e(L,H){var K=L.length;L.push(H);e:for(;0<K;){var ee=K-1>>>1,$=L[ee];if(0<i($,H))L[ee]=H,L[K]=$,K=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],K=L.pop();if(K!==H){L[0]=K;e:for(var ee=0,$=L.length,Y=$>>>1;ee<Y;){var te=2*(ee+1)-1,re=L[te],Ee=te+1,$e=L[Ee];if(0>i(re,K))Ee<$&&0>i($e,re)?(L[ee]=$e,L[Ee]=K,ee=Ee):(L[ee]=re,L[te]=K,ee=te);else if(Ee<$&&0>i($e,K))L[ee]=$e,L[Ee]=K,ee=Ee;else break e}}return H}function i(L,H){var K=L.sortIndex-H.sortIndex;return K!==0?K:L.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var d=[],h=[],p=1,g=null,y=3,v=!1,w=!1,C=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(L){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=L)r(h),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(h)}}function B(L){if(C=!1,I(L),!w)if(n(d)!==null)w=!0,F||(F=!0,ue());else{var H=n(h);H!==null&&de(B,H.startTime-L)}}var F=!1,q=-1,Z=5,Q=-1;function ie(){return S?!0:!(t.unstable_now()-Q<Z)}function ke(){if(S=!1,F){var L=t.unstable_now();Q=L;var H=!0;try{e:{w=!1,C&&(C=!1,A(q),q=-1),v=!0;var K=y;try{t:{for(I(L),g=n(d);g!==null&&!(g.expirationTime>L&&ie());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,y=g.priorityLevel;var $=ee(g.expirationTime<=L);if(L=t.unstable_now(),typeof $=="function"){g.callback=$,I(L),H=!0;break t}g===n(d)&&r(d),I(L)}else r(d);g=n(d)}if(g!==null)H=!0;else{var Y=n(h);Y!==null&&de(B,Y.startTime-L),H=!1}}break e}finally{g=null,y=K,v=!1}H=void 0}}finally{H?ue():F=!1}}}var ue;if(typeof N=="function")ue=function(){N(ke)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,we=xe.port2;xe.port1.onmessage=ke,ue=function(){we.postMessage(null)}}else ue=function(){E(ke,0)};function de(L,H){q=E(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(L){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var K=y;y=H;try{return L()}finally{y=K}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=y;y=L;try{return H()}finally{y=K}},t.unstable_scheduleCallback=function(L,H,K){var ee=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,L){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=K+$,L={id:p++,callback:H,priorityLevel:L,startTime:K,expirationTime:$,sortIndex:-1},K>ee?(L.sortIndex=K,e(h,L),n(d)===null&&L===n(h)&&(C?(A(q),q=-1):C=!0,de(B,K-ee))):(L.sortIndex=$,e(d,L),w||v||(w=!0,F||(F=!0,ue()))),L},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(L){var H=y;return function(){var K=y;y=H;try{return L.apply(this,arguments)}finally{y=K}}}}(P2)),P2}var JD;function Yoe(){return JD||(JD=1,L2.exports=Xoe()),L2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eL;function Qoe(){if(eL)return Q0;eL=1;var t=Yoe(),e=NA(),n=e8();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function l(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function a(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(l(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=l(o),s===null)throw Error(r(188));return s!==o?null:o}for(var c=o,f=s;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return u(m),o;if(b===f)return u(m),s;b=b.sibling}throw Error(r(188))}if(c.return!==f.return)c=m,f=b;else{for(var k=!1,_=m.child;_;){if(_===c){k=!0,c=m,f=b;break}if(_===f){k=!0,f=m,c=b;break}_=_.sibling}if(!k){for(_=b.child;_;){if(_===c){k=!0,c=b,f=m;break}if(_===f){k=!0,f=b,c=m;break}_=_.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function ue(o){return o===null||typeof o!="object"?null:(o=ke&&o[ke]||o["@@iterator"],typeof o=="function"?o:null)}var xe=Symbol.for("react.client.reference");function we(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===xe?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case B:return"Suspense";case F:return"SuspenseList";case Q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case N:return(o.displayName||"Context")+".Provider";case A:return(o._context.displayName||"Context")+".Consumer";case I:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return s=o.displayName||null,s!==null?s:we(o.type)||"Memo";case Z:s=o._payload,o=o._init;try{return we(o(s))}catch{}}return null}var de=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ee=[],$=-1;function Y(o){return{current:o}}function te(o){0>$||(o.current=ee[$],ee[$]=null,$--)}function re(o,s){$++,ee[$]=o.current,o.current=s}var Ee=Y(null),$e=Y(null),Ae=Y(null),ft=Y(null);function ct(o,s){switch(re(Ae,s),re($e,o),re(Ee,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?y0(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=y0(s),o=v0(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}te(Ee),re(Ee,o)}function Ut(){te(Ee),te($e),te(Ae)}function Jt(o){o.memoizedState!==null&&re(ft,o);var s=Ee.current,c=v0(s,o.type);s!==c&&(re($e,o),re(Ee,c))}function ar(o){$e.current===o&&(te(Ee),te($e)),ft.current===o&&(te(ft),Ml._currentValue=K)}var G=Object.prototype.hasOwnProperty,X=t.unstable_scheduleCallback,ne=t.unstable_cancelCallback,me=t.unstable_shouldYield,fe=t.unstable_requestPaint,le=t.unstable_now,Re=t.unstable_getCurrentPriorityLevel,Te=t.unstable_ImmediatePriority,pe=t.unstable_UserBlockingPriority,he=t.unstable_NormalPriority,Ye=t.unstable_LowPriority,Oe=t.unstable_IdlePriority,qe=t.log,nt=t.unstable_setDisableYieldValue,it=null,We=null;function ot(o){if(typeof qe=="function"&&nt(o),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(it,o)}catch{}}var mt=Math.clz32?Math.clz32:oi,Wn=Math.log,cn=Math.LN2;function oi(o){return o>>>=0,o===0?32:31-(Wn(o)/cn|0)|0}var To=256,vs=4194304;function en(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function nr(o,s,c){var f=o.pendingLanes;if(f===0)return 0;var m=0,b=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var _=f&134217727;return _!==0?(f=_&~b,f!==0?m=en(f):(k&=_,k!==0?m=en(k):c||(c=_&~o,c!==0&&(m=en(c))))):(_=f&~b,_!==0?m=en(_):k!==0?m=en(k):c||(c=f&~o,c!==0&&(m=en(c)))),m===0?0:s!==0&&s!==m&&(s&b)===0&&(b=m&-m,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:m}function ii(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function aS(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tg(){var o=To;return To<<=1,(To&4194048)===0&&(To=256),o}function ng(){var o=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),o}function kd(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function js(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function cS(o,s,c,f,m,b){var k=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var _=o.entanglements,M=o.expirationTimes,P=o.hiddenUpdates;for(c=k&~c;0<c;){var V=31-mt(c),W=1<<V;_[V]=0,M[V]=-1;var j=P[V];if(j!==null)for(P[V]=null,V=0;V<j.length;V++){var z=j[V];z!==null&&(z.lane&=-536870913)}c&=~W}f!==0&&rg(o,f,0),b!==0&&m===0&&o.tag!==0&&(o.suspendedLanes|=b&~(k&~s))}function rg(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var f=31-mt(s);o.entangledLanes|=s,o.entanglements[f]=o.entanglements[f]|1073741824|c&4194090}function og(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var f=31-mt(c),m=1<<f;m&s|o[f]&s&&(o[f]|=s),c&=~m}}function Cd(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function _d(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ig(){var o=H.p;return o!==0?o:(o=window.event,o===void 0?32:j0(o.type))}function uS(o,s){var c=H.p;try{return H.p=o,s()}finally{H.p=c}}var Ir=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ir,tn="__reactProps$"+Ir,ki="__reactContainer$"+Ir,Sd="__reactEvents$"+Ir,dS="__reactListeners$"+Ir,fS="__reactHandles$"+Ir,sg="__reactResources$"+Ir,zs="__reactMarker$"+Ir;function xd(o){delete o[Gt],delete o[tn],delete o[Sd],delete o[dS],delete o[fS]}function Ci(o){var s=o[Gt];if(s)return s;for(var c=o.parentNode;c;){if(s=c[ki]||c[Gt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=_0(o);o!==null;){if(c=o[Gt])return c;o=_0(o)}return s}o=c,c=o.parentNode}return null}function _i(o){if(o=o[Gt]||o[ki]){var s=o.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return o}return null}function $s(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Si(o){var s=o[sg];return s||(s=o[sg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(o){o[zs]=!0}var lg=new Set,ag={};function Mo(o,s){xi(o,s),xi(o+"Capture",s)}function xi(o,s){for(ag[o]=s,o=0;o<s.length;o++)lg.add(s[o])}var hS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cg={},ug={};function pS(o){return G.call(ug,o)?!0:G.call(cg,o)?!1:hS.test(o)?ug[o]=!0:(cg[o]=!0,!1)}function Aa(o,s,c){if(pS(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function Ra(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function cr(o,s,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+f)}}var Ed,dg;function Ei(o){if(Ed===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Ed=s&&s[1]||"",dg=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ed+o+dg}var Td=!1;function Md(o,s){if(!o||Td)return"";Td=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(z){var j=z}Reflect.construct(o,[],W)}else{try{W.call()}catch(z){j=z}o.call(W.prototype)}}else{try{throw Error()}catch(z){j=z}(W=o())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(z){if(z&&j&&typeof z.stack=="string")return[z.stack,j.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),k=b[0],_=b[1];if(k&&_){var M=k.split(`
`),P=_.split(`
`);for(m=f=0;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;for(;m<P.length&&!P[m].includes("DetermineComponentFrameRoot");)m++;if(f===M.length||m===P.length)for(f=M.length-1,m=P.length-1;1<=f&&0<=m&&M[f]!==P[m];)m--;for(;1<=f&&0<=m;f--,m--)if(M[f]!==P[m]){if(f!==1||m!==1)do if(f--,m--,0>m||M[f]!==P[m]){var V=`
`+M[f].replace(" at new "," at ");return o.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",o.displayName)),V}while(1<=f&&0<=m);break}}}finally{Td=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?Ei(c):""}function mS(o){switch(o.tag){case 26:case 27:case 5:return Ei(o.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Md(o.type,!1);case 11:return Md(o.type.render,!1);case 1:return Md(o.type,!0);case 31:return Ei("Activity");default:return""}}function fg(o){try{var s="";do s+=mS(o),o=o.return;while(o);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function En(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function hg(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gS(o){var s=hg(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),f=""+o[s];if(!o.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return m.call(this)},set:function(k){f=""+k,b.call(this,k)}}),Object.defineProperty(o,s,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Na(o){o._valueTracker||(o._valueTracker=gS(o))}function pg(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return o&&(f=hg(o)?o.checked?"true":"false":o.value),o=f,o!==c?(s.setValue(o),!0):!1}function Oa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var bS=/[\n"\\]/g;function In(o){return o.replace(bS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ad(o,s,c,f,m,b,k,_){o.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.type=k:o.removeAttribute("type"),s!=null?k==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+En(s)):o.value!==""+En(s)&&(o.value=""+En(s)):k!=="submit"&&k!=="reset"||o.removeAttribute("value"),s!=null?Rd(o,k,En(s)):c!=null?Rd(o,k,En(c)):f!=null&&o.removeAttribute("value"),m==null&&b!=null&&(o.defaultChecked=!!b),m!=null&&(o.checked=m&&typeof m!="function"&&typeof m!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?o.name=""+En(_):o.removeAttribute("name")}function mg(o,s,c,f,m,b,k,_){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;c=c!=null?""+En(c):"",s=s!=null?""+En(s):c,_||s===o.value||(o.value=s),o.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=_?o.checked:!!f,o.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.name=k)}function Rd(o,s,c){s==="number"&&Oa(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function Ti(o,s,c,f){if(o=o.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<o.length;c++)m=s.hasOwnProperty("$"+o[c].value),o[c].selected!==m&&(o[c].selected=m),m&&f&&(o[c].defaultSelected=!0)}else{for(c=""+En(c),s=null,m=0;m<o.length;m++){if(o[m].value===c){o[m].selected=!0,f&&(o[m].defaultSelected=!0);return}s!==null||o[m].disabled||(s=o[m])}s!==null&&(s.selected=!0)}}function gg(o,s,c){if(s!=null&&(s=""+En(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+En(c):""}function bg(o,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(r(92));if(de(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=En(s),o.defaultValue=c,f=o.textContent,f===c&&f!==""&&f!==null&&(o.value=f)}function Mi(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var yS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yg(o,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":f?o.setProperty(s,c):typeof c!="number"||c===0||yS.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function vg(o,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&c[m]!==f&&yg(o,m,f)}else for(var b in s)s.hasOwnProperty(b)&&yg(o,b,s[b])}function Nd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(o){return wS.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Od=null;function Dd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ai=null,Ri=null;function wg(o){var s=_i(o);if(s&&(o=s.stateNode)){var c=o[tn]||null;e:switch(o=s.stateNode,s.type){case"input":if(Ad(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+In(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==o&&f.form===o.form){var m=f[tn]||null;if(!m)throw Error(r(90));Ad(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===o.form&&pg(f)}break e;case"textarea":gg(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ti(o,!!c.multiple,s,!1)}}}var Ld=!1;function kg(o,s,c){if(Ld)return o(s,c);Ld=!0;try{var f=o(s);return f}finally{if(Ld=!1,(Ai!==null||Ri!==null)&&(yc(),Ai&&(s=Ai,o=Ri,Ri=Ai=null,wg(s),o)))for(s=0;s<o.length;s++)wg(o[s])}}function Hs(o,s){var c=o.stateNode;if(c===null)return null;var f=c[tn]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pd=!1;if(ur)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Pd=!1}var Br=null,Id=null,La=null;function Cg(){if(La)return La;var o,s=Id,c=s.length,f,m="value"in Br?Br.value:Br.textContent,b=m.length;for(o=0;o<c&&s[o]===m[o];o++);var k=c-o;for(f=1;f<=k&&s[c-f]===m[b-f];f++);return La=m.slice(o,1<f?1-f:void 0)}function Pa(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Ia(){return!0}function _g(){return!1}function nn(o){function s(c,f,m,b,k){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var _ in o)o.hasOwnProperty(_)&&(c=o[_],this[_]=c?c(b):b[_]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ia:_g,this.isPropagationStopped=_g,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),s}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=nn(Ao),Us=p({},Ao,{view:0,detail:0}),kS=nn(Us),Bd,jd,Fs,ja=p({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$d,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Fs&&(Fs&&o.type==="mousemove"?(Bd=o.screenX-Fs.screenX,jd=o.screenY-Fs.screenY):jd=Bd=0,Fs=o),Bd)},movementY:function(o){return"movementY"in o?o.movementY:jd}}),Sg=nn(ja),CS=p({},ja,{dataTransfer:0}),_S=nn(CS),SS=p({},Us,{relatedTarget:0}),zd=nn(SS),xS=p({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),ES=nn(xS),TS=p({},Ao,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),MS=nn(TS),AS=p({},Ao,{data:0}),xg=nn(AS),RS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=OS[o])?!!s[o]:!1}function $d(){return DS}var LS=p({},Us,{key:function(o){if(o.key){var s=RS[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Pa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?NS[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$d,charCode:function(o){return o.type==="keypress"?Pa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Pa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),PS=nn(LS),IS=p({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eg=nn(IS),BS=p({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$d}),jS=nn(BS),zS=p({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),$S=nn(zS),HS=p({},ja,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),VS=nn(HS),US=p({},Ao,{newState:0,oldState:0}),FS=nn(US),GS=[9,13,27,32],Hd=ur&&"CompositionEvent"in window,Gs=null;ur&&"documentMode"in document&&(Gs=document.documentMode);var qS=ur&&"TextEvent"in window&&!Gs,Tg=ur&&(!Hd||Gs&&8<Gs&&11>=Gs),Mg=" ",Ag=!1;function Rg(o,s){switch(o){case"keyup":return GS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ng(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ni=!1;function WS(o,s){switch(o){case"compositionend":return Ng(s);case"keypress":return s.which!==32?null:(Ag=!0,Mg);case"textInput":return o=s.data,o===Mg&&Ag?null:o;default:return null}}function KS(o,s){if(Ni)return o==="compositionend"||!Hd&&Rg(o,s)?(o=Cg(),La=Id=Br=null,Ni=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Tg&&s.locale!=="ko"?null:s.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!ZS[o.type]:s==="textarea"}function Dg(o,s,c,f){Ai?Ri?Ri.push(f):Ri=[f]:Ai=f,s=Sc(s,"onChange"),0<s.length&&(c=new Ba("onChange","change",null,c,f),o.push({event:c,listeners:s}))}var qs=null,Ws=null;function XS(o){h0(o,0)}function za(o){var s=$s(o);if(pg(s))return o}function Lg(o,s){if(o==="change")return s}var Pg=!1;if(ur){var Vd;if(ur){var Ud="oninput"in document;if(!Ud){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Ud=typeof Ig.oninput=="function"}Vd=Ud}else Vd=!1;Pg=Vd&&(!document.documentMode||9<document.documentMode)}function Bg(){qs&&(qs.detachEvent("onpropertychange",jg),Ws=qs=null)}function jg(o){if(o.propertyName==="value"&&za(Ws)){var s=[];Dg(s,Ws,o,Dd(o)),kg(XS,s)}}function YS(o,s,c){o==="focusin"?(Bg(),qs=s,Ws=c,qs.attachEvent("onpropertychange",jg)):o==="focusout"&&Bg()}function QS(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return za(Ws)}function JS(o,s){if(o==="click")return za(s)}function ex(o,s){if(o==="input"||o==="change")return za(s)}function tx(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var dn=typeof Object.is=="function"?Object.is:tx;function Ks(o,s){if(dn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!G.call(s,m)||!dn(o[m],s[m]))return!1}return!0}function zg(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $g(o,s){var c=zg(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=s&&f>=s)return{node:c,offset:s-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=zg(c)}}function Hg(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Hg(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Vg(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Oa(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=Oa(o.document)}return s}function Fd(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var nx=ur&&"documentMode"in document&&11>=document.documentMode,Oi=null,Gd=null,Zs=null,qd=!1;function Ug(o,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qd||Oi==null||Oi!==Oa(f)||(f=Oi,"selectionStart"in f&&Fd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zs&&Ks(Zs,f)||(Zs=f,f=Sc(Gd,"onSelect"),0<f.length&&(s=new Ba("onSelect","select",null,s,c),o.push({event:s,listeners:f}),s.target=Oi)))}function Ro(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var Di={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionrun:Ro("Transition","TransitionRun"),transitionstart:Ro("Transition","TransitionStart"),transitioncancel:Ro("Transition","TransitionCancel"),transitionend:Ro("Transition","TransitionEnd")},Wd={},Fg={};ur&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function No(o){if(Wd[o])return Wd[o];if(!Di[o])return o;var s=Di[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in Fg)return Wd[o]=s[c];return o}var Gg=No("animationend"),qg=No("animationiteration"),Wg=No("animationstart"),rx=No("transitionrun"),ox=No("transitionstart"),ix=No("transitioncancel"),Kg=No("transitionend"),Zg=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function $n(o,s){Zg.set(o,s),Mo(s,[o])}var Xg=new WeakMap;function Tn(o,s){if(typeof o=="object"&&o!==null){var c=Xg.get(o);return c!==void 0?c:(s={value:o,source:s,stack:fg(s)},Xg.set(o,s),s)}return{value:o,source:s,stack:fg(s)}}var Mn=[],Li=0,Zd=0;function $a(){for(var o=Li,s=Zd=Li=0;s<o;){var c=Mn[s];Mn[s++]=null;var f=Mn[s];Mn[s++]=null;var m=Mn[s];Mn[s++]=null;var b=Mn[s];if(Mn[s++]=null,f!==null&&m!==null){var k=f.pending;k===null?m.next=m:(m.next=k.next,k.next=m),f.pending=m}b!==0&&Yg(c,m,b)}}function Ha(o,s,c,f){Mn[Li++]=o,Mn[Li++]=s,Mn[Li++]=c,Mn[Li++]=f,Zd|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function Xd(o,s,c,f){return Ha(o,s,c,f),Va(o)}function Pi(o,s){return Ha(o,null,null,s),Va(o)}function Yg(o,s,c){o.lanes|=c;var f=o.alternate;f!==null&&(f.lanes|=c);for(var m=!1,b=o.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(m=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,m&&s!==null&&(m=31-mt(c),o=b.hiddenUpdates,f=o[m],f===null?o[m]=[s]:f.push(s),s.lane=c|536870912),b):null}function Va(o){if(50<wl)throw wl=0,rh=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Ii={};function sx(o,s,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(o,s,c,f){return new sx(o,s,c,f)}function Yd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function dr(o,s){var c=o.alternate;return c===null?(c=fn(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function Qg(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function Ua(o,s,c,f,m,b){var k=0;if(f=o,typeof o=="function")Yd(o)&&(k=1);else if(typeof o=="string")k=aE(o,c,Ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Q:return o=fn(31,c,s,m),o.elementType=Q,o.lanes=b,o;case w:return Oo(c.children,m,b,s);case C:k=8,m|=24;break;case S:return o=fn(12,c,s,m|2),o.elementType=S,o.lanes=b,o;case B:return o=fn(13,c,s,m),o.elementType=B,o.lanes=b,o;case F:return o=fn(19,c,s,m),o.elementType=F,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:case N:k=10;break e;case A:k=9;break e;case I:k=11;break e;case q:k=14;break e;case Z:k=16,f=null;break e}k=29,c=Error(r(130,o===null?"null":typeof o,"")),f=null}return s=fn(k,c,s,m),s.elementType=o,s.type=f,s.lanes=b,s}function Oo(o,s,c,f){return o=fn(7,o,f,s),o.lanes=c,o}function Qd(o,s,c){return o=fn(6,o,null,s),o.lanes=c,o}function Jd(o,s,c){return s=fn(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var Bi=[],ji=0,Fa=null,Ga=0,An=[],Rn=0,Do=null,fr=1,hr="";function Lo(o,s){Bi[ji++]=Ga,Bi[ji++]=Fa,Fa=o,Ga=s}function Jg(o,s,c){An[Rn++]=fr,An[Rn++]=hr,An[Rn++]=Do,Do=o;var f=fr;o=hr;var m=32-mt(f)-1;f&=~(1<<m),c+=1;var b=32-mt(s)+m;if(30<b){var k=m-m%5;b=(f&(1<<k)-1).toString(32),f>>=k,m-=k,fr=1<<32-mt(s)+m|c<<m|f,hr=b+o}else fr=1<<b|c<<m|f,hr=o}function ef(o){o.return!==null&&(Lo(o,1),Jg(o,1,0))}function tf(o){for(;o===Fa;)Fa=Bi[--ji],Bi[ji]=null,Ga=Bi[--ji],Bi[ji]=null;for(;o===Do;)Do=An[--Rn],An[Rn]=null,hr=An[--Rn],An[Rn]=null,fr=An[--Rn],An[Rn]=null}var Kt=null,ht=null,ze=!1,Po=null,Kn=!1,nf=Error(r(519));function Io(o){var s=Error(r(418,""));throw Qs(Tn(s,o)),nf}function eb(o){var s=o.stateNode,c=o.type,f=o.memoizedProps;switch(s[Gt]=o,s[tn]=f,c){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(c=0;c<Cl.length;c++)Pe(Cl[c],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),mg(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Na(s);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),bg(s,f.value,f.defaultValue,f.children),Na(s)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||b0(s.textContent,c)?(f.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),f.onScroll!=null&&Pe("scroll",s),f.onScrollEnd!=null&&Pe("scrollend",s),f.onClick!=null&&(s.onclick=xc),s=!0):s=!1,s||Io(o)}function tb(o){for(Kt=o.return;Kt;)switch(Kt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Kt=Kt.return}}function Xs(o){if(o!==Kt)return!1;if(!ze)return tb(o),ze=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||vh(o.type,o.memoizedProps)),c=!c),c&&ht&&Io(o),tb(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8)if(c=o.data,c==="/$"){if(s===0){ht=Vn(o.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;o=o.nextSibling}ht=null}}else s===27?(s=ht,Jr(o.type)?(o=_h,_h=null,ht=o):ht=s):ht=Kt?Vn(o.stateNode.nextSibling):null;return!0}function Ys(){ht=Kt=null,ze=!1}function nb(){var o=Po;return o!==null&&(sn===null?sn=o:sn.push.apply(sn,o),Po=null),o}function Qs(o){Po===null?Po=[o]:Po.push(o)}var rf=Y(null),Bo=null,pr=null;function jr(o,s,c){re(rf,s._currentValue),s._currentValue=c}function mr(o){o._currentValue=rf.current,te(rf)}function of(o,s,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),o===c)break;o=o.return}}function sf(o,s,c,f){var m=o.child;for(m!==null&&(m.return=o);m!==null;){var b=m.dependencies;if(b!==null){var k=m.child;b=b.firstContext;e:for(;b!==null;){var _=b;b=m;for(var M=0;M<s.length;M++)if(_.context===s[M]){b.lanes|=c,_=b.alternate,_!==null&&(_.lanes|=c),of(b.return,c,o),f||(k=null);break e}b=_.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(r(341));k.lanes|=c,b=k.alternate,b!==null&&(b.lanes|=c),of(k,c,o),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===o){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function Js(o,s,c,f){o=null;for(var m=s,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var _=m.type;dn(m.pendingProps.value,k.value)||(o!==null?o.push(_):o=[_])}}else if(m===ft.current){if(k=m.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(o!==null?o.push(Ml):o=[Ml])}m=m.return}o!==null&&sf(s,o,c,f),s.flags|=262144}function qa(o){for(o=o.firstContext;o!==null;){if(!dn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function jo(o){Bo=o,pr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function qt(o){return rb(Bo,o)}function Wa(o,s){return Bo===null&&jo(o),rb(o,s)}function rb(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},pr===null){if(o===null)throw Error(r(308));pr=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else pr=pr.next=s;return c}var lx=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,f){o.push(f)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},ax=t.unstable_scheduleCallback,cx=t.unstable_NormalPriority,Rt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new lx,data:new Map,refCount:0}}function el(o){o.refCount--,o.refCount===0&&ax(cx,function(){o.controller.abort()})}var tl=null,af=0,zi=0,$i=null;function ux(o,s){if(tl===null){var c=tl=[];af=0,zi=uh(),$i={status:"pending",value:void 0,then:function(f){c.push(f)}}}return af++,s.then(ob,ob),s}function ob(){if(--af===0&&tl!==null){$i!==null&&($i.status="fulfilled");var o=tl;tl=null,zi=0,$i=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function dx(o,s){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return o.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<c.length;m++)(0,c[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var ib=L.S;L.S=function(o,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ux(o,s),ib!==null&&ib(o,s)};var zo=Y(null);function cf(){var o=zo.current;return o!==null?o:et.pooledCache}function Ka(o,s){s===null?re(zo,zo.current):re(zo,s.pool)}function sb(){var o=cf();return o===null?null:{parent:Rt._currentValue,pool:o}}var nl=Error(r(460)),lb=Error(r(474)),Za=Error(r(542)),uf={then:function(){}};function ab(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Xa(){}function cb(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(Xa,Xa),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,db(o),o;default:if(typeof s.status=="string")s.then(Xa,Xa);else{if(o=et,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,db(o),o}throw rl=s,nl}}var rl=null;function ub(){if(rl===null)throw Error(r(459));var o=rl;return rl=null,o}function db(o){if(o===nl||o===Za)throw Error(r(483))}var zr=!1;function df(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function $r(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Hr(o,s,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Fe&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=Va(o),Yg(o,null,c),s}return Ha(o,f,s,c),Va(o)}function ol(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=o.pendingLanes,c|=f,s.lanes=c,og(o,c)}}function hf(o,s){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=k:b=b.next=k,c=c.next}while(c!==null);b===null?m=b=s:b=b.next=s}else m=b=s;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var pf=!1;function il(){if(pf){var o=$i;if(o!==null)throw o}}function sl(o,s,c,f){pf=!1;var m=o.updateQueue;zr=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,_=m.shared.pending;if(_!==null){m.shared.pending=null;var M=_,P=M.next;M.next=null,k===null?b=P:k.next=P,k=M;var V=o.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==k&&(_===null?V.firstBaseUpdate=P:_.next=P,V.lastBaseUpdate=M))}if(b!==null){var W=m.baseState;k=0,V=P=M=null,_=b;do{var j=_.lane&-536870913,z=j!==_.lane;if(z?(Ie&j)===j:(f&j)===j){j!==0&&j===zi&&(pf=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ve=o,ge=_;j=s;var Xe=c;switch(ge.tag){case 1:if(ve=ge.payload,typeof ve=="function"){W=ve.call(Xe,W,j);break e}W=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ge.payload,j=typeof ve=="function"?ve.call(Xe,W,j):ve,j==null)break e;W=p({},W,j);break e;case 2:zr=!0}}j=_.callback,j!==null&&(o.flags|=64,z&&(o.flags|=8192),z=m.callbacks,z===null?m.callbacks=[j]:z.push(j))}else z={lane:j,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(P=V=z,M=W):V=V.next=z,k|=j;if(_=_.next,_===null){if(_=m.shared.pending,_===null)break;z=_,_=z.next,z.next=null,m.lastBaseUpdate=z,m.shared.pending=null}}while(!0);V===null&&(M=W),m.baseState=M,m.firstBaseUpdate=P,m.lastBaseUpdate=V,b===null&&(m.shared.lanes=0),Zr|=k,o.lanes=k,o.memoizedState=W}}function fb(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function hb(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)fb(c[o],s)}var Hi=Y(null),Ya=Y(0);function pb(o,s){o=Cr,re(Ya,o),re(Hi,s),Cr=o|s.baseLanes}function mf(){re(Ya,Cr),re(Hi,Hi.current)}function gf(){Cr=Ya.current,te(Hi),te(Ya)}var Vr=0,Ne=null,Ke=null,St=null,Qa=!1,Vi=!1,$o=!1,Ja=0,ll=0,Ui=null,fx=0;function bt(){throw Error(r(321))}function bf(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!dn(o[c],s[c]))return!1;return!0}function yf(o,s,c,f,m,b){return Vr=b,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=o===null||o.memoizedState===null?Yb:Qb,$o=!1,b=c(f,m),$o=!1,Vi&&(b=gb(s,c,f,m)),mb(o),b}function mb(o){L.H=ic;var s=Ke!==null&&Ke.next!==null;if(Vr=0,St=Ke=Ne=null,Qa=!1,ll=0,Ui=null,s)throw Error(r(300));o===null||Lt||(o=o.dependencies,o!==null&&qa(o)&&(Lt=!0))}function gb(o,s,c,f){Ne=o;var m=0;do{if(Vi&&(Ui=null),ll=0,Vi=!1,25<=m)throw Error(r(301));if(m+=1,St=Ke=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=vx,b=s(c,f)}while(Vi);return b}function hx(){var o=L.H,s=o.useState()[0];return s=typeof s.then=="function"?al(s):s,o=o.useState()[0],(Ke!==null?Ke.memoizedState:null)!==o&&(Ne.flags|=1024),s}function vf(){var o=Ja!==0;return Ja=0,o}function wf(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function kf(o){if(Qa){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Qa=!1}Vr=0,St=Ke=Ne=null,Vi=!1,ll=Ja=0,Ui=null}function rn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=o:St=St.next=o,St}function xt(){if(Ke===null){var o=Ne.alternate;o=o!==null?o.memoizedState:null}else o=Ke.next;var s=St===null?Ne.memoizedState:St.next;if(s!==null)St=s,Ke=o;else{if(o===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));Ke=o,o={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},St===null?Ne.memoizedState=St=o:St=St.next=o}return St}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(o){var s=ll;return ll+=1,Ui===null&&(Ui=[]),o=cb(Ui,o,s),s=Ne,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Yb:Qb),o}function ec(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return al(o);if(o.$$typeof===N)return qt(o)}throw Error(r(438,String(o)))}function _f(o){var s=null,c=Ne.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Ne.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Cf(),Ne.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),f=0;f<o;f++)c[f]=ie;return s.index++,c}function gr(o,s){return typeof s=="function"?s(o):s}function tc(o){var s=xt();return Sf(s,Ke,o)}function Sf(o,s,c){var f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var m=o.baseQueue,b=f.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}s.baseQueue=m=b,f.pending=null}if(b=o.baseState,m===null)o.memoizedState=b;else{s=m.next;var _=k=null,M=null,P=s,V=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Ie&W)===W:(Vr&W)===W){var j=P.revertLane;if(j===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===zi&&(V=!0);else if((Vr&j)===j){P=P.next,j===zi&&(V=!0);continue}else W={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},M===null?(_=M=W,k=b):M=M.next=W,Ne.lanes|=j,Zr|=j;W=P.action,$o&&c(b,W),b=P.hasEagerState?P.eagerState:c(b,W)}else j={lane:W,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},M===null?(_=M=j,k=b):M=M.next=j,Ne.lanes|=W,Zr|=W;P=P.next}while(P!==null&&P!==s);if(M===null?k=b:M.next=_,!dn(b,o.memoizedState)&&(Lt=!0,V&&(c=$i,c!==null)))throw c;o.memoizedState=b,o.baseState=k,o.baseQueue=M,f.lastRenderedState=b}return m===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function xf(o){var s=xt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var f=c.dispatch,m=c.pending,b=s.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do b=o(b,k.action),k=k.next;while(k!==m);dn(b,s.memoizedState)||(Lt=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,f]}function bb(o,s,c){var f=Ne,m=xt(),b=ze;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var k=!dn((Ke||m).memoizedState,c);k&&(m.memoizedState=c,Lt=!0),m=m.queue;var _=wb.bind(null,f,m,o);if(cl(2048,8,_,[o]),m.getSnapshot!==s||k||St!==null&&St.memoizedState.tag&1){if(f.flags|=2048,Fi(9,nc(),vb.bind(null,f,m,c,s),null),et===null)throw Error(r(349));b||(Vr&124)!==0||yb(f,s,c)}return c}function yb(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=Ne.updateQueue,s===null?(s=Cf(),Ne.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function vb(o,s,c,f){s.value=c,s.getSnapshot=f,kb(s)&&Cb(o)}function wb(o,s,c){return c(function(){kb(s)&&Cb(o)})}function kb(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!dn(o,c)}catch{return!0}}function Cb(o){var s=Pi(o,2);s!==null&&bn(s,o,2)}function Ef(o){var s=rn();if(typeof o=="function"){var c=o;if(o=c(),$o){ot(!0);try{c()}finally{ot(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:o},s}function _b(o,s,c,f){return o.baseState=c,Sf(o,Ke,typeof f=="function"?f:gr)}function px(o,s,c,f,m){if(oc(o))throw Error(r(485));if(o=s.action,o!==null){var b={payload:m,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};L.T!==null?c(!0):b.isTransition=!1,f(b),c=s.pending,c===null?(b.next=s.pending=b,Sb(s,b)):(b.next=c.next,s.pending=c.next=b)}}function Sb(o,s){var c=s.action,f=s.payload,m=o.state;if(s.isTransition){var b=L.T,k={};L.T=k;try{var _=c(m,f),M=L.S;M!==null&&M(k,_),xb(o,s,_)}catch(P){Tf(o,s,P)}finally{L.T=b}}else try{b=c(m,f),xb(o,s,b)}catch(P){Tf(o,s,P)}}function xb(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Eb(o,s,f)},function(f){return Tf(o,s,f)}):Eb(o,s,c)}function Eb(o,s,c){s.status="fulfilled",s.value=c,Tb(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,Sb(o,c)))}function Tf(o,s,c){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,Tb(s),s=s.next;while(s!==f)}o.action=null}function Tb(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function Mb(o,s){return s}function Ab(o,s){if(ze){var c=et.formState;if(c!==null){e:{var f=Ne;if(ze){if(ht){t:{for(var m=ht,b=Kn;m.nodeType!==8;){if(!b){m=null;break t}if(m=Vn(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){ht=Vn(m.nextSibling),f=m.data==="F!";break e}}Io(f)}f=!1}f&&(s=c[0])}}return c=rn(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mb,lastRenderedState:s},c.queue=f,c=Kb.bind(null,Ne,f),f.dispatch=c,f=Ef(!1),b=Of.bind(null,Ne,!1,f.queue),f=rn(),m={state:s,dispatch:null,action:o,pending:null},f.queue=m,c=px.bind(null,Ne,m,b,c),m.dispatch=c,f.memoizedState=o,[s,c,!1]}function Rb(o){var s=xt();return Nb(s,Ke,o)}function Nb(o,s,c){if(s=Sf(o,s,Mb)[0],o=tc(gr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=al(s)}catch(k){throw k===nl?Za:k}else f=s;s=xt();var m=s.queue,b=m.dispatch;return c!==s.memoizedState&&(Ne.flags|=2048,Fi(9,nc(),mx.bind(null,m,c),null)),[f,b,o]}function mx(o,s){o.action=s}function Ob(o){var s=xt(),c=Ke;if(c!==null)return Nb(s,c,o);xt(),s=s.memoizedState,c=xt();var f=c.queue.dispatch;return c.memoizedState=o,[s,f,!1]}function Fi(o,s,c,f){return o={tag:o,create:c,deps:f,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=Cf(),Ne.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,s.lastEffect=o),o}function nc(){return{destroy:void 0,resource:void 0}}function Db(){return xt().memoizedState}function rc(o,s,c,f){var m=rn();f=f===void 0?null:f,Ne.flags|=o,m.memoizedState=Fi(1|s,nc(),c,f)}function cl(o,s,c,f){var m=xt();f=f===void 0?null:f;var b=m.memoizedState.inst;Ke!==null&&f!==null&&bf(f,Ke.memoizedState.deps)?m.memoizedState=Fi(s,b,c,f):(Ne.flags|=o,m.memoizedState=Fi(1|s,b,c,f))}function Lb(o,s){rc(8390656,8,o,s)}function Pb(o,s){cl(2048,8,o,s)}function Ib(o,s){return cl(4,2,o,s)}function Bb(o,s){return cl(4,4,o,s)}function jb(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function zb(o,s,c){c=c!=null?c.concat([o]):null,cl(4,4,jb.bind(null,s,o),c)}function Mf(){}function $b(o,s){var c=xt();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&bf(s,f[1])?f[0]:(c.memoizedState=[o,s],o)}function Hb(o,s){var c=xt();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&bf(s,f[1]))return f[0];if(f=o(),$o){ot(!0);try{o()}finally{ot(!1)}}return c.memoizedState=[f,s],f}function Af(o,s,c){return c===void 0||(Vr&1073741824)!==0?o.memoizedState=s:(o.memoizedState=c,o=Fy(),Ne.lanes|=o,Zr|=o,c)}function Vb(o,s,c,f){return dn(c,s)?c:Hi.current!==null?(o=Af(o,c,f),dn(o,s)||(Lt=!0),o):(Vr&42)===0?(Lt=!0,o.memoizedState=c):(o=Fy(),Ne.lanes|=o,Zr|=o,s)}function Ub(o,s,c,f,m){var b=H.p;H.p=b!==0&&8>b?b:8;var k=L.T,_={};L.T=_,Of(o,!1,s,c);try{var M=m(),P=L.S;if(P!==null&&P(_,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=dx(M,f);ul(o,s,V,gn(o))}else ul(o,s,f,gn(o))}catch(W){ul(o,s,{then:function(){},status:"rejected",reason:W},gn())}finally{H.p=b,L.T=k}}function gx(){}function Rf(o,s,c,f){if(o.tag!==5)throw Error(r(476));var m=Fb(o).queue;Ub(o,m,s,K,c===null?gx:function(){return Gb(o),c(f)})}function Fb(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:K},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function Gb(o){var s=Fb(o).next.queue;ul(o,s,{},gn())}function Nf(){return qt(Ml)}function qb(){return xt().memoizedState}function Wb(){return xt().memoizedState}function bx(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=gn();o=$r(c);var f=Hr(s,o,c);f!==null&&(bn(f,s,c),ol(f,s,c)),s={cache:lf()},o.payload=s;return}s=s.return}}function yx(o,s,c){var f=gn();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},oc(o)?Zb(s,c):(c=Xd(o,s,c,f),c!==null&&(bn(c,o,f),Xb(c,s,f)))}function Kb(o,s,c){var f=gn();ul(o,s,c,f)}function ul(o,s,c,f){var m={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(oc(o))Zb(s,m);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var k=s.lastRenderedState,_=b(k,c);if(m.hasEagerState=!0,m.eagerState=_,dn(_,k))return Ha(o,s,m,0),et===null&&$a(),!1}catch{}finally{}if(c=Xd(o,s,m,f),c!==null)return bn(c,o,f),Xb(c,s,f),!0}return!1}function Of(o,s,c,f){if(f={lane:2,revertLane:uh(),action:f,hasEagerState:!1,eagerState:null,next:null},oc(o)){if(s)throw Error(r(479))}else s=Xd(o,c,f,2),s!==null&&bn(s,o,2)}function oc(o){var s=o.alternate;return o===Ne||s!==null&&s===Ne}function Zb(o,s){Vi=Qa=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function Xb(o,s,c){if((c&4194048)!==0){var f=s.lanes;f&=o.pendingLanes,c|=f,s.lanes=c,og(o,c)}}var ic={readContext:qt,use:ec,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},Yb={readContext:qt,use:ec,useCallback:function(o,s){return rn().memoizedState=[o,s===void 0?null:s],o},useContext:qt,useEffect:Lb,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,rc(4194308,4,jb.bind(null,s,o),c)},useLayoutEffect:function(o,s){return rc(4194308,4,o,s)},useInsertionEffect:function(o,s){rc(4,2,o,s)},useMemo:function(o,s){var c=rn();s=s===void 0?null:s;var f=o();if($o){ot(!0);try{o()}finally{ot(!1)}}return c.memoizedState=[f,s],f},useReducer:function(o,s,c){var f=rn();if(c!==void 0){var m=c(s);if($o){ot(!0);try{c(s)}finally{ot(!1)}}}else m=s;return f.memoizedState=f.baseState=m,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:m},f.queue=o,o=o.dispatch=yx.bind(null,Ne,o),[f.memoizedState,o]},useRef:function(o){var s=rn();return o={current:o},s.memoizedState=o},useState:function(o){o=Ef(o);var s=o.queue,c=Kb.bind(null,Ne,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:Mf,useDeferredValue:function(o,s){var c=rn();return Af(c,o,s)},useTransition:function(){var o=Ef(!1);return o=Ub.bind(null,Ne,o.queue,!0,!1),rn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var f=Ne,m=rn();if(ze){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),et===null)throw Error(r(349));(Ie&124)!==0||yb(f,s,c)}m.memoizedState=c;var b={value:c,getSnapshot:s};return m.queue=b,Lb(wb.bind(null,f,b,o),[o]),f.flags|=2048,Fi(9,nc(),vb.bind(null,f,b,c,s),null),c},useId:function(){var o=rn(),s=et.identifierPrefix;if(ze){var c=hr,f=fr;c=(f&~(1<<32-mt(f)-1)).toString(32)+c,s="«"+s+"R"+c,c=Ja++,0<c&&(s+="H"+c.toString(32)),s+="»"}else c=fx++,s="«"+s+"r"+c.toString(32)+"»";return o.memoizedState=s},useHostTransitionStatus:Nf,useFormState:Ab,useActionState:Ab,useOptimistic:function(o){var s=rn();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Of.bind(null,Ne,!0,c),c.dispatch=s,[o,s]},useMemoCache:_f,useCacheRefresh:function(){return rn().memoizedState=bx.bind(null,Ne)}},Qb={readContext:qt,use:ec,useCallback:$b,useContext:qt,useEffect:Pb,useImperativeHandle:zb,useInsertionEffect:Ib,useLayoutEffect:Bb,useMemo:Hb,useReducer:tc,useRef:Db,useState:function(){return tc(gr)},useDebugValue:Mf,useDeferredValue:function(o,s){var c=xt();return Vb(c,Ke.memoizedState,o,s)},useTransition:function(){var o=tc(gr)[0],s=xt().memoizedState;return[typeof o=="boolean"?o:al(o),s]},useSyncExternalStore:bb,useId:qb,useHostTransitionStatus:Nf,useFormState:Rb,useActionState:Rb,useOptimistic:function(o,s){var c=xt();return _b(c,Ke,o,s)},useMemoCache:_f,useCacheRefresh:Wb},vx={readContext:qt,use:ec,useCallback:$b,useContext:qt,useEffect:Pb,useImperativeHandle:zb,useInsertionEffect:Ib,useLayoutEffect:Bb,useMemo:Hb,useReducer:xf,useRef:Db,useState:function(){return xf(gr)},useDebugValue:Mf,useDeferredValue:function(o,s){var c=xt();return Ke===null?Af(c,o,s):Vb(c,Ke.memoizedState,o,s)},useTransition:function(){var o=xf(gr)[0],s=xt().memoizedState;return[typeof o=="boolean"?o:al(o),s]},useSyncExternalStore:bb,useId:qb,useHostTransitionStatus:Nf,useFormState:Ob,useActionState:Ob,useOptimistic:function(o,s){var c=xt();return Ke!==null?_b(c,Ke,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Wb},Gi=null,dl=0;function sc(o){var s=dl;return dl+=1,Gi===null&&(Gi=[]),cb(Gi,o,s)}function fl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function lc(o,s){throw s.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Jb(o){var s=o._init;return s(o._payload)}function ey(o){function s(O,R){if(o){var D=O.deletions;D===null?(O.deletions=[R],O.flags|=16):D.push(R)}}function c(O,R){if(!o)return null;for(;R!==null;)s(O,R),R=R.sibling;return null}function f(O){for(var R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function m(O,R){return O=dr(O,R),O.index=0,O.sibling=null,O}function b(O,R,D){return O.index=D,o?(D=O.alternate,D!==null?(D=D.index,D<R?(O.flags|=67108866,R):D):(O.flags|=67108866,R)):(O.flags|=1048576,R)}function k(O){return o&&O.alternate===null&&(O.flags|=67108866),O}function _(O,R,D,U){return R===null||R.tag!==6?(R=Qd(D,O.mode,U),R.return=O,R):(R=m(R,D),R.return=O,R)}function M(O,R,D,U){var oe=D.type;return oe===w?V(O,R,D.props.children,U,D.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Z&&Jb(oe)===R.type)?(R=m(R,D.props),fl(R,D),R.return=O,R):(R=Ua(D.type,D.key,D.props,null,O.mode,U),fl(R,D),R.return=O,R)}function P(O,R,D,U){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=Jd(D,O.mode,U),R.return=O,R):(R=m(R,D.children||[]),R.return=O,R)}function V(O,R,D,U,oe){return R===null||R.tag!==7?(R=Oo(D,O.mode,U,oe),R.return=O,R):(R=m(R,D),R.return=O,R)}function W(O,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Qd(""+R,O.mode,D),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case y:return D=Ua(R.type,R.key,R.props,null,O.mode,D),fl(D,R),D.return=O,D;case v:return R=Jd(R,O.mode,D),R.return=O,R;case Z:var U=R._init;return R=U(R._payload),W(O,R,D)}if(de(R)||ue(R))return R=Oo(R,O.mode,D,null),R.return=O,R;if(typeof R.then=="function")return W(O,sc(R),D);if(R.$$typeof===N)return W(O,Wa(O,R),D);lc(O,R)}return null}function j(O,R,D,U){var oe=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return oe!==null?null:_(O,R,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case y:return D.key===oe?M(O,R,D,U):null;case v:return D.key===oe?P(O,R,D,U):null;case Z:return oe=D._init,D=oe(D._payload),j(O,R,D,U)}if(de(D)||ue(D))return oe!==null?null:V(O,R,D,U,null);if(typeof D.then=="function")return j(O,R,sc(D),U);if(D.$$typeof===N)return j(O,R,Wa(O,D),U);lc(O,D)}return null}function z(O,R,D,U,oe){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return O=O.get(D)||null,_(R,O,""+U,oe);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case y:return O=O.get(U.key===null?D:U.key)||null,M(R,O,U,oe);case v:return O=O.get(U.key===null?D:U.key)||null,P(R,O,U,oe);case Z:var De=U._init;return U=De(U._payload),z(O,R,D,U,oe)}if(de(U)||ue(U))return O=O.get(D)||null,V(R,O,U,oe,null);if(typeof U.then=="function")return z(O,R,D,sc(U),oe);if(U.$$typeof===N)return z(O,R,D,Wa(R,U),oe);lc(R,U)}return null}function ve(O,R,D,U){for(var oe=null,De=null,ce=R,ye=R=0,It=null;ce!==null&&ye<D.length;ye++){ce.index>ye?(It=ce,ce=null):It=ce.sibling;var Be=j(O,ce,D[ye],U);if(Be===null){ce===null&&(ce=It);break}o&&ce&&Be.alternate===null&&s(O,ce),R=b(Be,R,ye),De===null?oe=Be:De.sibling=Be,De=Be,ce=It}if(ye===D.length)return c(O,ce),ze&&Lo(O,ye),oe;if(ce===null){for(;ye<D.length;ye++)ce=W(O,D[ye],U),ce!==null&&(R=b(ce,R,ye),De===null?oe=ce:De.sibling=ce,De=ce);return ze&&Lo(O,ye),oe}for(ce=f(ce);ye<D.length;ye++)It=z(ce,O,ye,D[ye],U),It!==null&&(o&&It.alternate!==null&&ce.delete(It.key===null?ye:It.key),R=b(It,R,ye),De===null?oe=It:De.sibling=It,De=It);return o&&ce.forEach(function(oo){return s(O,oo)}),ze&&Lo(O,ye),oe}function ge(O,R,D,U){if(D==null)throw Error(r(151));for(var oe=null,De=null,ce=R,ye=R=0,It=null,Be=D.next();ce!==null&&!Be.done;ye++,Be=D.next()){ce.index>ye?(It=ce,ce=null):It=ce.sibling;var oo=j(O,ce,Be.value,U);if(oo===null){ce===null&&(ce=It);break}o&&ce&&oo.alternate===null&&s(O,ce),R=b(oo,R,ye),De===null?oe=oo:De.sibling=oo,De=oo,ce=It}if(Be.done)return c(O,ce),ze&&Lo(O,ye),oe;if(ce===null){for(;!Be.done;ye++,Be=D.next())Be=W(O,Be.value,U),Be!==null&&(R=b(Be,R,ye),De===null?oe=Be:De.sibling=Be,De=Be);return ze&&Lo(O,ye),oe}for(ce=f(ce);!Be.done;ye++,Be=D.next())Be=z(ce,O,ye,Be.value,U),Be!==null&&(o&&Be.alternate!==null&&ce.delete(Be.key===null?ye:Be.key),R=b(Be,R,ye),De===null?oe=Be:De.sibling=Be,De=Be);return o&&ce.forEach(function(wE){return s(O,wE)}),ze&&Lo(O,ye),oe}function Xe(O,R,D,U){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case y:e:{for(var oe=D.key;R!==null;){if(R.key===oe){if(oe=D.type,oe===w){if(R.tag===7){c(O,R.sibling),U=m(R,D.props.children),U.return=O,O=U;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Z&&Jb(oe)===R.type){c(O,R.sibling),U=m(R,D.props),fl(U,D),U.return=O,O=U;break e}c(O,R);break}else s(O,R);R=R.sibling}D.type===w?(U=Oo(D.props.children,O.mode,U,D.key),U.return=O,O=U):(U=Ua(D.type,D.key,D.props,null,O.mode,U),fl(U,D),U.return=O,O=U)}return k(O);case v:e:{for(oe=D.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){c(O,R.sibling),U=m(R,D.children||[]),U.return=O,O=U;break e}else{c(O,R);break}else s(O,R);R=R.sibling}U=Jd(D,O.mode,U),U.return=O,O=U}return k(O);case Z:return oe=D._init,D=oe(D._payload),Xe(O,R,D,U)}if(de(D))return ve(O,R,D,U);if(ue(D)){if(oe=ue(D),typeof oe!="function")throw Error(r(150));return D=oe.call(D),ge(O,R,D,U)}if(typeof D.then=="function")return Xe(O,R,sc(D),U);if(D.$$typeof===N)return Xe(O,R,Wa(O,D),U);lc(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(c(O,R.sibling),U=m(R,D),U.return=O,O=U):(c(O,R),U=Qd(D,O.mode,U),U.return=O,O=U),k(O)):c(O,R)}return function(O,R,D,U){try{dl=0;var oe=Xe(O,R,D,U);return Gi=null,oe}catch(ce){if(ce===nl||ce===Za)throw ce;var De=fn(29,ce,null,O.mode);return De.lanes=U,De.return=O,De}finally{}}}var qi=ey(!0),ty=ey(!1),Nn=Y(null),rr=null;function Ur(o){var s=o.alternate;re(Nt,Nt.current&1),re(Nn,o),rr===null&&(s===null||Hi.current!==null||s.memoizedState!==null)&&(rr=o)}function ny(o){if(o.tag===22){if(re(Nt,Nt.current),re(Nn,o),rr===null){var s=o.alternate;s!==null&&s.memoizedState!==null&&(rr=o)}}else Fr()}function Fr(){re(Nt,Nt.current),re(Nn,Nn.current)}function br(o){te(Nn),rr===o&&(rr=null),te(Nt)}var Nt=Y(0);function ac(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Ch(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Df(o,s,c,f){s=o.memoizedState,c=c(f,s),c=c==null?s:p({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Lf={enqueueSetState:function(o,s,c){o=o._reactInternals;var f=gn(),m=$r(f);m.payload=s,c!=null&&(m.callback=c),s=Hr(o,m,f),s!==null&&(bn(s,o,f),ol(s,o,f))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var f=gn(),m=$r(f);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=Hr(o,m,f),s!==null&&(bn(s,o,f),ol(s,o,f))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=gn(),f=$r(c);f.tag=2,s!=null&&(f.callback=s),s=Hr(o,f,c),s!==null&&(bn(s,o,c),ol(s,o,c))}};function ry(o,s,c,f,m,b,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,b,k):s.prototype&&s.prototype.isPureReactComponent?!Ks(c,f)||!Ks(m,b):!0}function oy(o,s,c,f){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==o&&Lf.enqueueReplaceState(s,s.state,null)}function Ho(o,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(o=o.defaultProps){c===s&&(c=p({},c));for(var m in o)c[m]===void 0&&(c[m]=o[m])}return c}var cc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function iy(o){cc(o)}function sy(o){console.error(o)}function ly(o){cc(o)}function uc(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function ay(o,s,c){try{var f=o.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Pf(o,s,c){return c=$r(c),c.tag=3,c.payload={element:null},c.callback=function(){uc(o,s)},c}function cy(o){return o=$r(o),o.tag=3,o}function uy(o,s,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=f.value;o.payload=function(){return m(b)},o.callback=function(){ay(s,c,f)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){ay(s,c,f),typeof m!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var _=f.stack;this.componentDidCatch(f.value,{componentStack:_!==null?_:""})})}function wx(o,s,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&Js(s,c,m,!0),c=Nn.current,c!==null){switch(c.tag){case 13:return rr===null?ih():c.alternate===null&&pt===0&&(pt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===uf?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),lh(o,f,m)),!1;case 22:return c.flags|=65536,f===uf?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),lh(o,f,m)),!1}throw Error(r(435,c.tag))}return lh(o,f,m),ih(),!1}if(ze)return s=Nn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==nf&&(o=Error(r(422),{cause:f}),Qs(Tn(o,c)))):(f!==nf&&(s=Error(r(423),{cause:f}),Qs(Tn(s,c))),o=o.current.alternate,o.flags|=65536,m&=-m,o.lanes|=m,f=Tn(f,c),m=Pf(o.stateNode,f,m),hf(o,m),pt!==4&&(pt=2)),!1;var b=Error(r(520),{cause:f});if(b=Tn(b,c),vl===null?vl=[b]:vl.push(b),pt!==4&&(pt=2),s===null)return!0;f=Tn(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=m&-m,c.lanes|=o,o=Pf(c.stateNode,f,o),hf(c,o),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xr===null||!Xr.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=cy(m),uy(m,o,c,f),hf(c,m),!1}c=c.return}while(c!==null);return!1}var dy=Error(r(461)),Lt=!1;function jt(o,s,c,f){s.child=o===null?ty(s,null,c,f):qi(s,o.child,c,f)}function fy(o,s,c,f,m){c=c.render;var b=s.ref;if("ref"in f){var k={};for(var _ in f)_!=="ref"&&(k[_]=f[_])}else k=f;return jo(s),f=yf(o,s,c,k,b,m),_=vf(),o!==null&&!Lt?(wf(o,s,m),yr(o,s,m)):(ze&&_&&ef(s),s.flags|=1,jt(o,s,f,m),s.child)}function hy(o,s,c,f,m){if(o===null){var b=c.type;return typeof b=="function"&&!Yd(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,py(o,s,b,f,m)):(o=Ua(c.type,null,f,s,s.mode,m),o.ref=s.ref,o.return=s,s.child=o)}if(b=o.child,!Uf(o,m)){var k=b.memoizedProps;if(c=c.compare,c=c!==null?c:Ks,c(k,f)&&o.ref===s.ref)return yr(o,s,m)}return s.flags|=1,o=dr(b,f),o.ref=s.ref,o.return=s,s.child=o}function py(o,s,c,f,m){if(o!==null){var b=o.memoizedProps;if(Ks(b,f)&&o.ref===s.ref)if(Lt=!1,s.pendingProps=f=b,Uf(o,m))(o.flags&131072)!==0&&(Lt=!0);else return s.lanes=o.lanes,yr(o,s,m)}return If(o,s,c,f,m)}function my(o,s,c){var f=s.pendingProps,m=f.children,b=o!==null?o.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=b!==null?b.baseLanes|c:c,o!==null){for(m=s.child=o.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;s.childLanes=b&~f}else s.childLanes=0,s.child=null;return gy(o,s,f,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ka(s,b!==null?b.cachePool:null),b!==null?pb(s,b):mf(),ny(s);else return s.lanes=s.childLanes=536870912,gy(o,s,b!==null?b.baseLanes|c:c,c)}else b!==null?(Ka(s,b.cachePool),pb(s,b),Fr(),s.memoizedState=null):(o!==null&&Ka(s,null),mf(),Fr());return jt(o,s,m,c),s.child}function gy(o,s,c,f){var m=cf();return m=m===null?null:{parent:Rt._currentValue,pool:m},s.memoizedState={baseLanes:c,cachePool:m},o!==null&&Ka(s,null),mf(),ny(s),o!==null&&Js(o,s,f,!0),null}function dc(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function If(o,s,c,f,m){return jo(s),c=yf(o,s,c,f,void 0,m),f=vf(),o!==null&&!Lt?(wf(o,s,m),yr(o,s,m)):(ze&&f&&ef(s),s.flags|=1,jt(o,s,c,m),s.child)}function by(o,s,c,f,m,b){return jo(s),s.updateQueue=null,c=gb(s,f,c,m),mb(o),f=vf(),o!==null&&!Lt?(wf(o,s,b),yr(o,s,b)):(ze&&f&&ef(s),s.flags|=1,jt(o,s,c,b),s.child)}function yy(o,s,c,f,m){if(jo(s),s.stateNode===null){var b=Ii,k=c.contextType;typeof k=="object"&&k!==null&&(b=qt(k)),b=new c(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Lf,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},df(s),k=c.contextType,b.context=typeof k=="object"&&k!==null?qt(k):Ii,b.state=s.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Df(s,c,k,f),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Lf.enqueueReplaceState(b,b.state,null),sl(s,f,b,m),il(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(o===null){b=s.stateNode;var _=s.memoizedProps,M=Ho(c,_);b.props=M;var P=b.context,V=c.contextType;k=Ii,typeof V=="object"&&V!==null&&(k=qt(V));var W=c.getDerivedStateFromProps;V=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,V||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_||P!==k)&&oy(s,b,f,k),zr=!1;var j=s.memoizedState;b.state=j,sl(s,f,b,m),il(),P=s.memoizedState,_||j!==P||zr?(typeof W=="function"&&(Df(s,c,W,f),P=s.memoizedState),(M=zr||ry(s,c,M,f,j,P,k))?(V||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=P),b.props=f,b.state=P,b.context=k,f=M):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,ff(o,s),k=s.memoizedProps,V=Ho(c,k),b.props=V,W=s.pendingProps,j=b.context,P=c.contextType,M=Ii,typeof P=="object"&&P!==null&&(M=qt(P)),_=c.getDerivedStateFromProps,(P=typeof _=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==W||j!==M)&&oy(s,b,f,M),zr=!1,j=s.memoizedState,b.state=j,sl(s,f,b,m),il();var z=s.memoizedState;k!==W||j!==z||zr||o!==null&&o.dependencies!==null&&qa(o.dependencies)?(typeof _=="function"&&(Df(s,c,_,f),z=s.memoizedState),(V=zr||ry(s,c,V,f,j,z,M)||o!==null&&o.dependencies!==null&&qa(o.dependencies))?(P||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,z,M),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,z,M)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===o.memoizedProps&&j===o.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&j===o.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=z),b.props=f,b.state=z,b.context=M,f=V):(typeof b.componentDidUpdate!="function"||k===o.memoizedProps&&j===o.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&j===o.memoizedState||(s.flags|=1024),f=!1)}return b=f,dc(o,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,o!==null&&f?(s.child=qi(s,o.child,null,m),s.child=qi(s,null,c,m)):jt(o,s,c,m),s.memoizedState=b.state,o=s.child):o=yr(o,s,m),o}function vy(o,s,c,f){return Ys(),s.flags|=256,jt(o,s,c,f),s.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(o){return{baseLanes:o,cachePool:sb()}}function zf(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=On),o}function wy(o,s,c){var f=s.pendingProps,m=!1,b=(s.flags&128)!==0,k;if((k=b)||(k=o!==null&&o.memoizedState===null?!1:(Nt.current&2)!==0),k&&(m=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,o===null){if(ze){if(m?Ur(s):Fr(),ze){var _=ht,M;if(M=_){e:{for(M=_,_=Kn;M.nodeType!==8;){if(!_){_=null;break e}if(M=Vn(M.nextSibling),M===null){_=null;break e}}_=M}_!==null?(s.memoizedState={dehydrated:_,treeContext:Do!==null?{id:fr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},M=fn(18,null,null,0),M.stateNode=_,M.return=s,s.child=M,Kt=s,ht=null,M=!0):M=!1}M||Io(s)}if(_=s.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Ch(_)?s.lanes=32:s.lanes=536870912,null;br(s)}return _=f.children,f=f.fallback,m?(Fr(),m=s.mode,_=fc({mode:"hidden",children:_},m),f=Oo(f,m,c,null),_.return=s,f.return=s,_.sibling=f,s.child=_,m=s.child,m.memoizedState=jf(c),m.childLanes=zf(o,k,c),s.memoizedState=Bf,f):(Ur(s),$f(s,_))}if(M=o.memoizedState,M!==null&&(_=M.dehydrated,_!==null)){if(b)s.flags&256?(Ur(s),s.flags&=-257,s=Hf(o,s,c)):s.memoizedState!==null?(Fr(),s.child=o.child,s.flags|=128,s=null):(Fr(),m=f.fallback,_=s.mode,f=fc({mode:"visible",children:f.children},_),m=Oo(m,_,c,null),m.flags|=2,f.return=s,m.return=s,f.sibling=m,s.child=f,qi(s,o.child,null,c),f=s.child,f.memoizedState=jf(c),f.childLanes=zf(o,k,c),s.memoizedState=Bf,s=m);else if(Ur(s),Ch(_)){if(k=_.nextSibling&&_.nextSibling.dataset,k)var P=k.dgst;k=P,f=Error(r(419)),f.stack="",f.digest=k,Qs({value:f,source:null,stack:null}),s=Hf(o,s,c)}else if(Lt||Js(o,s,c,!1),k=(c&o.childLanes)!==0,Lt||k){if(k=et,k!==null&&(f=c&-c,f=(f&42)!==0?1:Cd(f),f=(f&(k.suspendedLanes|c))!==0?0:f,f!==0&&f!==M.retryLane))throw M.retryLane=f,Pi(o,f),bn(k,o,f),dy;_.data==="$?"||ih(),s=Hf(o,s,c)}else _.data==="$?"?(s.flags|=192,s.child=o.child,s=null):(o=M.treeContext,ht=Vn(_.nextSibling),Kt=s,ze=!0,Po=null,Kn=!1,o!==null&&(An[Rn++]=fr,An[Rn++]=hr,An[Rn++]=Do,fr=o.id,hr=o.overflow,Do=s),s=$f(s,f.children),s.flags|=4096);return s}return m?(Fr(),m=f.fallback,_=s.mode,M=o.child,P=M.sibling,f=dr(M,{mode:"hidden",children:f.children}),f.subtreeFlags=M.subtreeFlags&65011712,P!==null?m=dr(P,m):(m=Oo(m,_,c,null),m.flags|=2),m.return=s,f.return=s,f.sibling=m,s.child=f,f=m,m=s.child,_=o.child.memoizedState,_===null?_=jf(c):(M=_.cachePool,M!==null?(P=Rt._currentValue,M=M.parent!==P?{parent:P,pool:P}:M):M=sb(),_={baseLanes:_.baseLanes|c,cachePool:M}),m.memoizedState=_,m.childLanes=zf(o,k,c),s.memoizedState=Bf,f):(Ur(s),c=o.child,o=c.sibling,c=dr(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,o!==null&&(k=s.deletions,k===null?(s.deletions=[o],s.flags|=16):k.push(o)),s.child=c,s.memoizedState=null,c)}function $f(o,s){return s=fc({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function fc(o,s){return o=fn(22,o,null,s),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Hf(o,s,c){return qi(s,o.child,null,c),o=$f(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function ky(o,s,c){o.lanes|=s;var f=o.alternate;f!==null&&(f.lanes|=s),of(o.return,s,c)}function Vf(o,s,c,f,m){var b=o.memoizedState;b===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=c,b.tailMode=m)}function Cy(o,s,c){var f=s.pendingProps,m=f.revealOrder,b=f.tail;if(jt(o,s,f.children,c),f=Nt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ky(o,c,s);else if(o.tag===19)ky(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}switch(re(Nt,f),m){case"forwards":for(c=s.child,m=null;c!==null;)o=c.alternate,o!==null&&ac(o)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),Vf(s,!1,m,c,b);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(o=m.alternate,o!==null&&ac(o)===null){s.child=m;break}o=m.sibling,m.sibling=c,c=m,m=o}Vf(s,!0,c,null,b);break;case"together":Vf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function yr(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),Zr|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(Js(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,c=dr(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=dr(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function Uf(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&qa(o)))}function kx(o,s,c){switch(s.tag){case 3:ct(s,s.stateNode.containerInfo),jr(s,Rt,o.memoizedState.cache),Ys();break;case 27:case 5:Jt(s);break;case 4:ct(s,s.stateNode.containerInfo);break;case 10:jr(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ur(s),s.flags|=128,null):(c&s.child.childLanes)!==0?wy(o,s,c):(Ur(s),o=yr(o,s,c),o!==null?o.sibling:null);Ur(s);break;case 19:var m=(o.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(Js(o,s,c,!1),f=(c&s.childLanes)!==0),m){if(f)return Cy(o,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),re(Nt,Nt.current),f)break;return null;case 22:case 23:return s.lanes=0,my(o,s,c);case 24:jr(s,Rt,o.memoizedState.cache)}return yr(o,s,c)}function _y(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)Lt=!0;else{if(!Uf(o,c)&&(s.flags&128)===0)return Lt=!1,kx(o,s,c);Lt=(o.flags&131072)!==0}else Lt=!1,ze&&(s.flags&1048576)!==0&&Jg(s,Ga,s.index);switch(s.lanes=0,s.tag){case 16:e:{o=s.pendingProps;var f=s.elementType,m=f._init;if(f=m(f._payload),s.type=f,typeof f=="function")Yd(f)?(o=Ho(f,o),s.tag=1,s=yy(null,s,f,o,c)):(s.tag=0,s=If(null,s,f,o,c));else{if(f!=null){if(m=f.$$typeof,m===I){s.tag=11,s=fy(null,s,f,o,c);break e}else if(m===q){s.tag=14,s=hy(null,s,f,o,c);break e}}throw s=we(f)||f,Error(r(306,s,""))}}return s;case 0:return If(o,s,s.type,s.pendingProps,c);case 1:return f=s.type,m=Ho(f,s.pendingProps),yy(o,s,f,m,c);case 3:e:{if(ct(s,s.stateNode.containerInfo),o===null)throw Error(r(387));f=s.pendingProps;var b=s.memoizedState;m=b.element,ff(o,s),sl(s,f,null,c);var k=s.memoizedState;if(f=k.cache,jr(s,Rt,f),f!==b.cache&&sf(s,[Rt],c,!0),il(),f=k.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=vy(o,s,f,c);break e}else if(f!==m){m=Tn(Error(r(424)),s),Qs(m),s=vy(o,s,f,c);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ht=Vn(o.firstChild),Kt=s,ze=!0,Po=null,Kn=!0,c=ty(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ys(),f===m){s=yr(o,s,c);break e}jt(o,s,f,c)}s=s.child}return s;case 26:return dc(o,s),o===null?(c=T0(s.type,null,s.pendingProps,null))?s.memoizedState=c:ze||(c=s.type,o=s.pendingProps,f=Ec(Ae.current).createElement(c),f[Gt]=s,f[tn]=o,$t(f,c,o),Dt(f),s.stateNode=f):s.memoizedState=T0(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Jt(s),o===null&&ze&&(f=s.stateNode=S0(s.type,s.pendingProps,Ae.current),Kt=s,Kn=!0,m=ht,Jr(s.type)?(_h=m,ht=Vn(f.firstChild)):ht=m),jt(o,s,s.pendingProps.children,c),dc(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&ze&&((m=f=ht)&&(f=Zx(f,s.type,s.pendingProps,Kn),f!==null?(s.stateNode=f,Kt=s,ht=Vn(f.firstChild),Kn=!1,m=!0):m=!1),m||Io(s)),Jt(s),m=s.type,b=s.pendingProps,k=o!==null?o.memoizedProps:null,f=b.children,vh(m,b)?f=null:k!==null&&vh(m,k)&&(s.flags|=32),s.memoizedState!==null&&(m=yf(o,s,hx,null,null,c),Ml._currentValue=m),dc(o,s),jt(o,s,f,c),s.child;case 6:return o===null&&ze&&((o=c=ht)&&(c=Xx(c,s.pendingProps,Kn),c!==null?(s.stateNode=c,Kt=s,ht=null,o=!0):o=!1),o||Io(s)),null;case 13:return wy(o,s,c);case 4:return ct(s,s.stateNode.containerInfo),f=s.pendingProps,o===null?s.child=qi(s,null,f,c):jt(o,s,f,c),s.child;case 11:return fy(o,s,s.type,s.pendingProps,c);case 7:return jt(o,s,s.pendingProps,c),s.child;case 8:return jt(o,s,s.pendingProps.children,c),s.child;case 12:return jt(o,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,jr(s,s.type,f.value),jt(o,s,f.children,c),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,jo(s),m=qt(m),f=f(m),s.flags|=1,jt(o,s,f,c),s.child;case 14:return hy(o,s,s.type,s.pendingProps,c);case 15:return py(o,s,s.type,s.pendingProps,c);case 19:return Cy(o,s,c);case 31:return f=s.pendingProps,c=s.mode,f={mode:f.mode,children:f.children},o===null?(c=fc(f,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=dr(o.child,f),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return my(o,s,c);case 24:return jo(s),f=qt(Rt),o===null?(m=cf(),m===null&&(m=et,b=lf(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),s.memoizedState={parent:f,cache:m},df(s),jr(s,Rt,m)):((o.lanes&c)!==0&&(ff(o,s),sl(s,null,null,c),il()),m=o.memoizedState,b=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),jr(s,Rt,f)):(f=b.cache,jr(s,Rt,f),f!==m.cache&&sf(s,[Rt],c,!0))),jt(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function vr(o){o.flags|=4}function Sy(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!O0(s)){if(s=Nn.current,s!==null&&((Ie&4194048)===Ie?rr!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||s!==rr))throw rl=uf,lb;o.flags|=8192}}function hc(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?ng():536870912,o.lanes|=s,Xi|=s)}function hl(o,s){if(!ze)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function ut(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(s)for(var m=o.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=f,o.childLanes=c,s}function Cx(o,s,c){var f=s.pendingProps;switch(tf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return c=s.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),mr(Rt),Ut(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(Xs(s)?vr(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nb())),ut(s),null;case 26:return c=s.memoizedState,o===null?(vr(s),c!==null?(ut(s),Sy(s,c)):(ut(s),s.flags&=-16777217)):c?c!==o.memoizedState?(vr(s),ut(s),Sy(s,c)):(ut(s),s.flags&=-16777217):(o.memoizedProps!==f&&vr(s),ut(s),s.flags&=-16777217),null;case 27:ar(s),c=Ae.current;var m=s.type;if(o!==null&&s.stateNode!=null)o.memoizedProps!==f&&vr(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return ut(s),null}o=Ee.current,Xs(s)?eb(s):(o=S0(m,f,c),s.stateNode=o,vr(s))}return ut(s),null;case 5:if(ar(s),c=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&vr(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(o=Ee.current,Xs(s))eb(s);else{switch(m=Ec(Ae.current),o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?o.multiple=!0:f.size&&(o.size=f.size);break;default:o=typeof f.is=="string"?m.createElement(c,{is:f.is}):m.createElement(c)}}o[Gt]=s,o[tn]=f;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=o;e:switch($t(o,c,f),c){case"button":case"input":case"select":case"textarea":o=!!f.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&vr(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==f&&vr(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(o=Ae.current,Xs(s)){if(o=s.stateNode,c=s.memoizedProps,f=null,m=Kt,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}o[Gt]=s,o=!!(o.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||b0(o.nodeValue,c)),o||Io(s)}else o=Ec(o).createTextNode(f),o[Gt]=s,s.stateNode=o}return ut(s),null;case 13:if(f=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(m=Xs(s),f!==null&&f.dehydrated!==null){if(o===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Gt]=s}else Ys(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),m=!1}else m=nb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(br(s),s):(br(s),null)}if(br(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=f!==null,o=o!==null&&o.memoizedState!==null,c){f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==m&&(f.flags|=2048)}return c!==o&&c&&(s.child.flags|=8192),hc(s,s.updateQueue),ut(s),null;case 4:return Ut(),o===null&&ph(s.stateNode.containerInfo),ut(s),null;case 10:return mr(s.type),ut(s),null;case 19:if(te(Nt),m=s.memoizedState,m===null)return ut(s),null;if(f=(s.flags&128)!==0,b=m.rendering,b===null)if(f)hl(m,!1);else{if(pt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(b=ac(o),b!==null){for(s.flags|=128,hl(m,!1),o=b.updateQueue,s.updateQueue=o,hc(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)Qg(c,o),c=c.sibling;return re(Nt,Nt.current&1|2),s.child}o=o.sibling}m.tail!==null&&le()>gc&&(s.flags|=128,f=!0,hl(m,!1),s.lanes=4194304)}else{if(!f)if(o=ac(b),o!==null){if(s.flags|=128,f=!0,o=o.updateQueue,s.updateQueue=o,hc(s,o),hl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ze)return ut(s),null}else 2*le()-m.renderingStartTime>gc&&c!==536870912&&(s.flags|=128,f=!0,hl(m,!1),s.lanes=4194304);m.isBackwards?(b.sibling=s.child,s.child=b):(o=m.last,o!==null?o.sibling=b:s.child=b,m.last=b)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=le(),s.sibling=null,o=Nt.current,re(Nt,f?o&1|2:o&1),s):(ut(s),null);case 22:case 23:return br(s),gf(),f=s.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),c=s.updateQueue,c!==null&&hc(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),o!==null&&te(zo),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),mr(Rt),ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _x(o,s){switch(tf(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return mr(Rt),Ut(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return ar(s),null;case 13:if(br(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ys()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return te(Nt),null;case 4:return Ut(),null;case 10:return mr(s.type),null;case 22:case 23:return br(s),gf(),o!==null&&te(zo),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return mr(Rt),null;case 25:return null;default:return null}}function xy(o,s){switch(tf(s),s.tag){case 3:mr(Rt),Ut();break;case 26:case 27:case 5:ar(s);break;case 4:Ut();break;case 13:br(s);break;case 19:te(Nt);break;case 10:mr(s.type);break;case 22:case 23:br(s),gf(),o!==null&&te(zo);break;case 24:mr(Rt)}}function pl(o,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&o)===o){f=void 0;var b=c.create,k=c.inst;f=b(),k.destroy=f}c=c.next}while(c!==m)}}catch(_){Qe(s,s.return,_)}}function Gr(o,s,c){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&o)===o){var k=f.inst,_=k.destroy;if(_!==void 0){k.destroy=void 0,m=s;var M=c,P=_;try{P()}catch(V){Qe(m,M,V)}}}f=f.next}while(f!==b)}}catch(V){Qe(s,s.return,V)}}function Ey(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{hb(s,c)}catch(f){Qe(o,o.return,f)}}}function Ty(o,s,c){c.props=Ho(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(f){Qe(o,s,f)}}function ml(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof c=="function"?o.refCleanup=c(f):c.current=f}}catch(m){Qe(o,s,m)}}function Zn(o,s){var c=o.ref,f=o.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){Qe(o,s,m)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Qe(o,s,m)}else c.current=null}function My(o){var s=o.type,c=o.memoizedProps,f=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){Qe(o,o.return,m)}}function Ff(o,s,c){try{var f=o.stateNode;Fx(f,o.type,c,s),f[tn]=s}catch(m){Qe(o,o.return,m)}}function Ay(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Jr(o.type)||o.tag===4}function Gf(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Ay(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Jr(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function qf(o,s,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=xc));else if(f!==4&&(f===27&&Jr(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(qf(o,s,c),o=o.sibling;o!==null;)qf(o,s,c),o=o.sibling}function pc(o,s,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(f!==4&&(f===27&&Jr(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(pc(o,s,c),o=o.sibling;o!==null;)pc(o,s,c),o=o.sibling}function Ry(o){var s=o.stateNode,c=o.memoizedProps;try{for(var f=o.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);$t(s,f,c),s[Gt]=o,s[tn]=c}catch(b){Qe(o,o.return,b)}}var wr=!1,yt=!1,Wf=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Sx(o,s){if(o=o.containerInfo,bh=Oc,o=Vg(o),Fd(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var k=0,_=-1,M=-1,P=0,V=0,W=o,j=null;t:for(;;){for(var z;W!==c||m!==0&&W.nodeType!==3||(_=k+m),W!==b||f!==0&&W.nodeType!==3||(M=k+f),W.nodeType===3&&(k+=W.nodeValue.length),(z=W.firstChild)!==null;)j=W,W=z;for(;;){if(W===o)break t;if(j===c&&++P===m&&(_=k),j===b&&++V===f&&(M=k),(z=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=z}c=_===-1||M===-1?null:{start:_,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(yh={focusedElem:o,selectionRange:c},Oc=!1,Pt=s;Pt!==null;)if(s=Pt,o=s.child,(s.subtreeFlags&1024)!==0&&o!==null)o.return=s,Pt=o;else for(;Pt!==null;){switch(s=Pt,b=s.alternate,o=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,c=s,m=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var ve=Ho(c.type,m,c.elementType===c.type);o=f.getSnapshotBeforeUpdate(ve,b),f.__reactInternalSnapshotBeforeUpdate=o}catch(ge){Qe(c,c.return,ge)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)kh(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":kh(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Pt=o;break}Pt=s.return}}function Oy(o,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:qr(o,c),f&4&&pl(5,c);break;case 1:if(qr(o,c),f&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(k){Qe(c,c.return,k)}else{var m=Ho(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(m,s,o.__reactInternalSnapshotBeforeUpdate)}catch(k){Qe(c,c.return,k)}}f&64&&Ey(c),f&512&&ml(c,c.return);break;case 3:if(qr(o,c),f&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{hb(o,s)}catch(k){Qe(c,c.return,k)}}break;case 27:s===null&&f&4&&Ry(c);case 26:case 5:qr(o,c),s===null&&f&4&&My(c),f&512&&ml(c,c.return);break;case 12:qr(o,c);break;case 13:qr(o,c),f&4&&Py(o,c),f&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=Dx.bind(null,c),Yx(o,c))));break;case 22:if(f=c.memoizedState!==null||wr,!f){s=s!==null&&s.memoizedState!==null||yt,m=wr;var b=yt;wr=f,(yt=s)&&!b?Wr(o,c,(c.subtreeFlags&8772)!==0):qr(o,c),wr=m,yt=b}break;case 30:break;default:qr(o,c)}}function Dy(o){var s=o.alternate;s!==null&&(o.alternate=null,Dy(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&xd(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var st=null,on=!1;function kr(o,s,c){for(c=c.child;c!==null;)Ly(o,s,c),c=c.sibling}function Ly(o,s,c){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(it,c)}catch{}switch(c.tag){case 26:yt||Zn(c,s),kr(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:yt||Zn(c,s);var f=st,m=on;Jr(c.type)&&(st=c.stateNode,on=!1),kr(o,s,c),Sl(c.stateNode),st=f,on=m;break;case 5:yt||Zn(c,s);case 6:if(f=st,m=on,st=null,kr(o,s,c),st=f,on=m,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(c.stateNode)}catch(b){Qe(c,s,b)}else try{st.removeChild(c.stateNode)}catch(b){Qe(c,s,b)}break;case 18:st!==null&&(on?(o=st,C0(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),Ol(o)):C0(st,c.stateNode));break;case 4:f=st,m=on,st=c.stateNode.containerInfo,on=!0,kr(o,s,c),st=f,on=m;break;case 0:case 11:case 14:case 15:yt||Gr(2,c,s),yt||Gr(4,c,s),kr(o,s,c);break;case 1:yt||(Zn(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Ty(c,s,f)),kr(o,s,c);break;case 21:kr(o,s,c);break;case 22:yt=(f=yt)||c.memoizedState!==null,kr(o,s,c),yt=f;break;default:kr(o,s,c)}}function Py(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ol(o)}catch(c){Qe(s,s.return,c)}}function xx(o){switch(o.tag){case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new Ny),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new Ny),s;default:throw Error(r(435,o.tag))}}function Kf(o,s){var c=xx(o);s.forEach(function(f){var m=Lx.bind(null,o,f);c.has(f)||(c.add(f),f.then(m,m))})}function hn(o,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],b=o,k=s,_=k;e:for(;_!==null;){switch(_.tag){case 27:if(Jr(_.type)){st=_.stateNode,on=!1;break e}break;case 5:st=_.stateNode,on=!1;break e;case 3:case 4:st=_.stateNode.containerInfo,on=!0;break e}_=_.return}if(st===null)throw Error(r(160));Ly(b,k,m),st=null,on=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Iy(s,o),s=s.sibling}var Hn=null;function Iy(o,s){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:hn(s,o),pn(o),f&4&&(Gr(3,o,o.return),pl(3,o),Gr(5,o,o.return));break;case 1:hn(s,o),pn(o),f&512&&(yt||c===null||Zn(c,c.return)),f&64&&wr&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=Hn;if(hn(s,o),pn(o),f&512&&(yt||c===null||Zn(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=o.memoizedState,c===null)if(f===null)if(o.stateNode===null){e:{f=o.type,c=o.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":b=m.getElementsByTagName("title")[0],(!b||b[zs]||b[Gt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(f),m.head.insertBefore(b,m.querySelector("head > title"))),$t(b,f,c),b[Gt]=o,Dt(b),f=b;break e;case"link":var k=R0("link","href",m).get(f+(c.href||""));if(k){for(var _=0;_<k.length;_++)if(b=k[_],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(_,1);break t}}b=m.createElement(f),$t(b,f,c),m.head.appendChild(b);break;case"meta":if(k=R0("meta","content",m).get(f+(c.content||""))){for(_=0;_<k.length;_++)if(b=k[_],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(_,1);break t}}b=m.createElement(f),$t(b,f,c),m.head.appendChild(b);break;default:throw Error(r(468,f))}b[Gt]=o,Dt(b),f=b}o.stateNode=f}else N0(m,o.type,o.stateNode);else o.stateNode=A0(m,f,o.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?N0(m,o.type,o.stateNode):A0(m,f,o.memoizedProps)):f===null&&o.stateNode!==null&&Ff(o,o.memoizedProps,c.memoizedProps)}break;case 27:hn(s,o),pn(o),f&512&&(yt||c===null||Zn(c,c.return)),c!==null&&f&4&&Ff(o,o.memoizedProps,c.memoizedProps);break;case 5:if(hn(s,o),pn(o),f&512&&(yt||c===null||Zn(c,c.return)),o.flags&32){m=o.stateNode;try{Mi(m,"")}catch(z){Qe(o,o.return,z)}}f&4&&o.stateNode!=null&&(m=o.memoizedProps,Ff(o,m,c!==null?c.memoizedProps:m)),f&1024&&(Wf=!0);break;case 6:if(hn(s,o),pn(o),f&4){if(o.stateNode===null)throw Error(r(162));f=o.memoizedProps,c=o.stateNode;try{c.nodeValue=f}catch(z){Qe(o,o.return,z)}}break;case 3:if(Ac=null,m=Hn,Hn=Tc(s.containerInfo),hn(s,o),Hn=m,pn(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ol(s.containerInfo)}catch(z){Qe(o,o.return,z)}Wf&&(Wf=!1,By(o));break;case 4:f=Hn,Hn=Tc(o.stateNode.containerInfo),hn(s,o),pn(o),Hn=f;break;case 12:hn(s,o),pn(o);break;case 13:hn(s,o),pn(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(eh=le()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Kf(o,f)));break;case 22:m=o.memoizedState!==null;var M=c!==null&&c.memoizedState!==null,P=wr,V=yt;if(wr=P||m,yt=V||M,hn(s,o),yt=V,wr=P,pn(o),f&8192)e:for(s=o.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(c===null||M||wr||yt||Vo(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){M=c=s;try{if(b=M.stateNode,m)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{_=M.stateNode;var W=M.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;_.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(z){Qe(M,M.return,z)}}}else if(s.tag===6){if(c===null){M=s;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(z){Qe(M,M.return,z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=o.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Kf(o,c))));break;case 19:hn(s,o),pn(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Kf(o,f)));break;case 30:break;case 21:break;default:hn(s,o),pn(o)}}function pn(o){var s=o.flags;if(s&2){try{for(var c,f=o.return;f!==null;){if(Ay(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var m=c.stateNode,b=Gf(o);pc(o,b,m);break;case 5:var k=c.stateNode;c.flags&32&&(Mi(k,""),c.flags&=-33);var _=Gf(o);pc(o,_,k);break;case 3:case 4:var M=c.stateNode.containerInfo,P=Gf(o);qf(o,P,M);break;default:throw Error(r(161))}}catch(V){Qe(o,o.return,V)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function By(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;By(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function qr(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Oy(o,s.alternate,s),s=s.sibling}function Vo(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Gr(4,s,s.return),Vo(s);break;case 1:Zn(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Ty(s,s.return,c),Vo(s);break;case 27:Sl(s.stateNode);case 26:case 5:Zn(s,s.return),Vo(s);break;case 22:s.memoizedState===null&&Vo(s);break;case 30:Vo(s);break;default:Vo(s)}o=o.sibling}}function Wr(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=o,b=s,k=b.flags;switch(b.tag){case 0:case 11:case 15:Wr(m,b,c),pl(4,b);break;case 1:if(Wr(m,b,c),f=b,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(P){Qe(f,f.return,P)}if(f=b,m=f.updateQueue,m!==null){var _=f.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)fb(M[m],_)}catch(P){Qe(f,f.return,P)}}c&&k&64&&Ey(b),ml(b,b.return);break;case 27:Ry(b);case 26:case 5:Wr(m,b,c),c&&f===null&&k&4&&My(b),ml(b,b.return);break;case 12:Wr(m,b,c);break;case 13:Wr(m,b,c),c&&k&4&&Py(m,b);break;case 22:b.memoizedState===null&&Wr(m,b,c),ml(b,b.return);break;case 30:break;default:Wr(m,b,c)}s=s.sibling}}function Zf(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&el(c))}function Xf(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&el(o))}function Xn(o,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jy(o,s,c,f),s=s.sibling}function jy(o,s,c,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Xn(o,s,c,f),m&2048&&pl(9,s);break;case 1:Xn(o,s,c,f);break;case 3:Xn(o,s,c,f),m&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&el(o)));break;case 12:if(m&2048){Xn(o,s,c,f),o=s.stateNode;try{var b=s.memoizedProps,k=b.id,_=b.onPostCommit;typeof _=="function"&&_(k,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(M){Qe(s,s.return,M)}}else Xn(o,s,c,f);break;case 13:Xn(o,s,c,f);break;case 23:break;case 22:b=s.stateNode,k=s.alternate,s.memoizedState!==null?b._visibility&2?Xn(o,s,c,f):gl(o,s):b._visibility&2?Xn(o,s,c,f):(b._visibility|=2,Wi(o,s,c,f,(s.subtreeFlags&10256)!==0)),m&2048&&Zf(k,s);break;case 24:Xn(o,s,c,f),m&2048&&Xf(s.alternate,s);break;default:Xn(o,s,c,f)}}function Wi(o,s,c,f,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=o,k=s,_=c,M=f,P=k.flags;switch(k.tag){case 0:case 11:case 15:Wi(b,k,_,M,m),pl(8,k);break;case 23:break;case 22:var V=k.stateNode;k.memoizedState!==null?V._visibility&2?Wi(b,k,_,M,m):gl(b,k):(V._visibility|=2,Wi(b,k,_,M,m)),m&&P&2048&&Zf(k.alternate,k);break;case 24:Wi(b,k,_,M,m),m&&P&2048&&Xf(k.alternate,k);break;default:Wi(b,k,_,M,m)}s=s.sibling}}function gl(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,f=s,m=f.flags;switch(f.tag){case 22:gl(c,f),m&2048&&Zf(f.alternate,f);break;case 24:gl(c,f),m&2048&&Xf(f.alternate,f);break;default:gl(c,f)}s=s.sibling}}var bl=8192;function Ki(o){if(o.subtreeFlags&bl)for(o=o.child;o!==null;)zy(o),o=o.sibling}function zy(o){switch(o.tag){case 26:Ki(o),o.flags&bl&&o.memoizedState!==null&&uE(Hn,o.memoizedState,o.memoizedProps);break;case 5:Ki(o);break;case 3:case 4:var s=Hn;Hn=Tc(o.stateNode.containerInfo),Ki(o),Hn=s;break;case 22:o.memoizedState===null&&(s=o.alternate,s!==null&&s.memoizedState!==null?(s=bl,bl=16777216,Ki(o),bl=s):Ki(o));break;default:Ki(o)}}function $y(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function yl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Pt=f,Vy(f,o)}$y(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Hy(o),o=o.sibling}function Hy(o){switch(o.tag){case 0:case 11:case 15:yl(o),o.flags&2048&&Gr(9,o,o.return);break;case 3:yl(o);break;case 12:yl(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,mc(o)):yl(o);break;default:yl(o)}}function mc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Pt=f,Vy(f,o)}$y(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Gr(8,s,s.return),mc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,mc(s));break;default:mc(s)}o=o.sibling}}function Vy(o,s){for(;Pt!==null;){var c=Pt;switch(c.tag){case 0:case 11:case 15:Gr(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:el(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Pt=f;else e:for(c=o;Pt!==null;){f=Pt;var m=f.sibling,b=f.return;if(Dy(f),f===c){Pt=null;break e}if(m!==null){m.return=b,Pt=m;break e}Pt=b}}}var Ex={getCacheForType:function(o){var s=qt(Rt),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c}},Tx=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Le=null,Ie=0,Ge=0,mn=null,Kr=!1,Zi=!1,Yf=!1,Cr=0,pt=0,Zr=0,Uo=0,Qf=0,On=0,Xi=0,vl=null,sn=null,Jf=!1,eh=0,gc=1/0,bc=null,Xr=null,zt=0,Yr=null,Yi=null,Qi=0,th=0,nh=null,Uy=null,wl=0,rh=null;function gn(){if((Fe&2)!==0&&Ie!==0)return Ie&-Ie;if(L.T!==null){var o=zi;return o!==0?o:uh()}return ig()}function Fy(){On===0&&(On=(Ie&536870912)===0||ze?tg():536870912);var o=Nn.current;return o!==null&&(o.flags|=32),On}function bn(o,s,c){(o===et&&(Ge===2||Ge===9)||o.cancelPendingCommit!==null)&&(Ji(o,0),Qr(o,Ie,On,!1)),js(o,c),((Fe&2)===0||o!==et)&&(o===et&&((Fe&2)===0&&(Uo|=c),pt===4&&Qr(o,Ie,On,!1)),Yn(o))}function Gy(o,s,c){if((Fe&6)!==0)throw Error(r(327));var f=!c&&(s&124)===0&&(s&o.expiredLanes)===0||ii(o,s),m=f?Rx(o,s):sh(o,s,!0),b=f;do{if(m===0){Zi&&!f&&Qr(o,s,0,!1);break}else{if(c=o.current.alternate,b&&!Mx(c)){m=sh(o,s,!1),b=!1;continue}if(m===2){if(b=s,o.errorRecoveryDisabledLanes&b)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var _=o;m=vl;var M=_.current.memoizedState.isDehydrated;if(M&&(Ji(_,k).flags|=256),k=sh(_,k,!1),k!==2){if(Yf&&!M){_.errorRecoveryDisabledLanes|=b,Uo|=b,m=4;break e}b=sn,sn=m,b!==null&&(sn===null?sn=b:sn.push.apply(sn,b))}m=k}if(b=!1,m!==2)continue}}if(m===1){Ji(o,0),Qr(o,s,0,!0);break}e:{switch(f=o,b=m,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Qr(f,s,On,!Kr);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=eh+300-le(),10<m)){if(Qr(f,s,On,!Kr),nr(f,0,!0)!==0)break e;f.timeoutHandle=w0(qy.bind(null,f,c,sn,bc,Jf,s,On,Uo,Xi,Kr,b,2,-0,0),m);break e}qy(f,c,sn,bc,Jf,s,On,Uo,Xi,Kr,b,0,-0,0)}}break}while(!0);Yn(o)}function qy(o,s,c,f,m,b,k,_,M,P,V,W,j,z){if(o.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:cE},zy(s),W=dE(),W!==null)){o.cancelPendingCommit=W(Jy.bind(null,o,s,b,c,f,m,k,_,M,V,1,j,z)),Qr(o,b,k,!P);return}Jy(o,s,b,c,f,m,k,_,M)}function Mx(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],b=m.getSnapshot;m=m.value;try{if(!dn(b(),m))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qr(o,s,c,f){s&=~Qf,s&=~Uo,o.suspendedLanes|=s,o.pingedLanes&=~s,f&&(o.warmLanes|=s),f=o.expirationTimes;for(var m=s;0<m;){var b=31-mt(m),k=1<<b;f[b]=-1,m&=~k}c!==0&&rg(o,c,s)}function yc(){return(Fe&6)===0?(kl(0),!1):!0}function oh(){if(Le!==null){if(Ge===0)var o=Le.return;else o=Le,pr=Bo=null,kf(o),Gi=null,dl=0,o=Le;for(;o!==null;)xy(o.alternate,o),o=o.return;Le=null}}function Ji(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,qx(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),oh(),et=o,Le=c=dr(o.current,null),Ie=s,Ge=0,mn=null,Kr=!1,Zi=ii(o,s),Yf=!1,Xi=On=Qf=Uo=Zr=pt=0,sn=vl=null,Jf=!1,(s&8)!==0&&(s|=s&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=s;0<f;){var m=31-mt(f),b=1<<m;s|=o[m],f&=~b}return Cr=s,$a(),c}function Wy(o,s){Ne=null,L.H=ic,s===nl||s===Za?(s=ub(),Ge=3):s===lb?(s=ub(),Ge=4):Ge=s===dy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,mn=s,Le===null&&(pt=1,uc(o,Tn(s,o.current)))}function Ky(){var o=L.H;return L.H=ic,o===null?ic:o}function Zy(){var o=L.A;return L.A=Ex,o}function ih(){pt=4,Kr||(Ie&4194048)!==Ie&&Nn.current!==null||(Zi=!0),(Zr&134217727)===0&&(Uo&134217727)===0||et===null||Qr(et,Ie,On,!1)}function sh(o,s,c){var f=Fe;Fe|=2;var m=Ky(),b=Zy();(et!==o||Ie!==s)&&(bc=null,Ji(o,s)),s=!1;var k=pt;e:do try{if(Ge!==0&&Le!==null){var _=Le,M=mn;switch(Ge){case 8:oh(),k=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(s=!0);var P=Ge;if(Ge=0,mn=null,es(o,_,M,P),c&&Zi){k=0;break e}break;default:P=Ge,Ge=0,mn=null,es(o,_,M,P)}}Ax(),k=pt;break}catch(V){Wy(o,V)}while(!0);return s&&o.shellSuspendCounter++,pr=Bo=null,Fe=f,L.H=m,L.A=b,Le===null&&(et=null,Ie=0,$a()),k}function Ax(){for(;Le!==null;)Xy(Le)}function Rx(o,s){var c=Fe;Fe|=2;var f=Ky(),m=Zy();et!==o||Ie!==s?(bc=null,gc=le()+500,Ji(o,s)):Zi=ii(o,s);e:do try{if(Ge!==0&&Le!==null){s=Le;var b=mn;t:switch(Ge){case 1:Ge=0,mn=null,es(o,s,b,1);break;case 2:case 9:if(ab(b)){Ge=0,mn=null,Yy(s);break}s=function(){Ge!==2&&Ge!==9||et!==o||(Ge=7),Yn(o)},b.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:ab(b)?(Ge=0,mn=null,Yy(s)):(Ge=0,mn=null,es(o,s,b,7));break;case 5:var k=null;switch(Le.tag){case 26:k=Le.memoizedState;case 5:case 27:var _=Le;if(!k||O0(k)){Ge=0,mn=null;var M=_.sibling;if(M!==null)Le=M;else{var P=_.return;P!==null?(Le=P,vc(P)):Le=null}break t}}Ge=0,mn=null,es(o,s,b,5);break;case 6:Ge=0,mn=null,es(o,s,b,6);break;case 8:oh(),pt=6;break e;default:throw Error(r(462))}}Nx();break}catch(V){Wy(o,V)}while(!0);return pr=Bo=null,L.H=f,L.A=m,Fe=c,Le!==null?0:(et=null,Ie=0,$a(),pt)}function Nx(){for(;Le!==null&&!me();)Xy(Le)}function Xy(o){var s=_y(o.alternate,o,Cr);o.memoizedProps=o.pendingProps,s===null?vc(o):Le=s}function Yy(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=by(c,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=by(c,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:kf(s);default:xy(c,s),s=Le=Qg(s,Cr),s=_y(c,s,Cr)}o.memoizedProps=o.pendingProps,s===null?vc(o):Le=s}function es(o,s,c,f){pr=Bo=null,kf(s),Gi=null,dl=0;var m=s.return;try{if(wx(o,m,s,c,Ie)){pt=1,uc(o,Tn(c,o.current)),Le=null;return}}catch(b){if(m!==null)throw Le=m,b;pt=1,uc(o,Tn(c,o.current)),Le=null;return}s.flags&32768?(ze||f===1?o=!0:Zi||(Ie&536870912)!==0?o=!1:(Kr=o=!0,(f===2||f===9||f===3||f===6)&&(f=Nn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Qy(s,o)):vc(s)}function vc(o){var s=o;do{if((s.flags&32768)!==0){Qy(s,Kr);return}o=s.return;var c=Cx(s.alternate,s,Cr);if(c!==null){Le=c;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=o}while(s!==null);pt===0&&(pt=5)}function Qy(o,s){do{var c=_x(o.alternate,o);if(c!==null){c.flags&=32767,Le=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){Le=o;return}Le=o=c}while(o!==null);pt=6,Le=null}function Jy(o,s,c,f,m,b,k,_,M){o.cancelPendingCommit=null;do wc();while(zt!==0);if((Fe&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Zd,cS(o,c,b,k,_,M),o===et&&(Le=et=null,Ie=0),Yi=s,Yr=o,Qi=c,th=b,nh=m,Uy=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Px(he,function(){return o0(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=L.T,L.T=null,m=H.p,H.p=2,k=Fe,Fe|=4;try{Sx(o,s,c)}finally{Fe=k,H.p=m,L.T=f}}zt=1,e0(),t0(),n0()}}function e0(){if(zt===1){zt=0;var o=Yr,s=Yi,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=L.T,L.T=null;var f=H.p;H.p=2;var m=Fe;Fe|=4;try{Iy(s,o);var b=yh,k=Vg(o.containerInfo),_=b.focusedElem,M=b.selectionRange;if(k!==_&&_&&_.ownerDocument&&Hg(_.ownerDocument.documentElement,_)){if(M!==null&&Fd(_)){var P=M.start,V=M.end;if(V===void 0&&(V=P),"selectionStart"in _)_.selectionStart=P,_.selectionEnd=Math.min(V,_.value.length);else{var W=_.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var z=j.getSelection(),ve=_.textContent.length,ge=Math.min(M.start,ve),Xe=M.end===void 0?ge:Math.min(M.end,ve);!z.extend&&ge>Xe&&(k=Xe,Xe=ge,ge=k);var O=$g(_,ge),R=$g(_,Xe);if(O&&R&&(z.rangeCount!==1||z.anchorNode!==O.node||z.anchorOffset!==O.offset||z.focusNode!==R.node||z.focusOffset!==R.offset)){var D=W.createRange();D.setStart(O.node,O.offset),z.removeAllRanges(),ge>Xe?(z.addRange(D),z.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),z.addRange(D))}}}}for(W=[],z=_;z=z.parentNode;)z.nodeType===1&&W.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<W.length;_++){var U=W[_];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Oc=!!bh,yh=bh=null}finally{Fe=m,H.p=f,L.T=c}}o.current=s,zt=2}}function t0(){if(zt===2){zt=0;var o=Yr,s=Yi,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=L.T,L.T=null;var f=H.p;H.p=2;var m=Fe;Fe|=4;try{Oy(o,s.alternate,s)}finally{Fe=m,H.p=f,L.T=c}}zt=3}}function n0(){if(zt===4||zt===3){zt=0,fe();var o=Yr,s=Yi,c=Qi,f=Uy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,Yi=Yr=null,r0(o,o.pendingLanes));var m=o.pendingLanes;if(m===0&&(Xr=null),_d(c),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(it,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=L.T,m=H.p,H.p=2,L.T=null;try{for(var b=o.onRecoverableError,k=0;k<f.length;k++){var _=f[k];b(_.value,{componentStack:_.stack})}}finally{L.T=s,H.p=m}}(Qi&3)!==0&&wc(),Yn(o),m=o.pendingLanes,(c&4194090)!==0&&(m&42)!==0?o===rh?wl++:(wl=0,rh=o):wl=0,kl(0)}}function r0(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,el(s)))}function wc(o){return e0(),t0(),n0(),o0()}function o0(){if(zt!==5)return!1;var o=Yr,s=th;th=0;var c=_d(Qi),f=L.T,m=H.p;try{H.p=32>c?32:c,L.T=null,c=nh,nh=null;var b=Yr,k=Qi;if(zt=0,Yi=Yr=null,Qi=0,(Fe&6)!==0)throw Error(r(331));var _=Fe;if(Fe|=4,Hy(b.current),jy(b,b.current,k,c),Fe=_,kl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(it,b)}catch{}return!0}finally{H.p=m,L.T=f,r0(o,s)}}function i0(o,s,c){s=Tn(c,s),s=Pf(o.stateNode,s,2),o=Hr(o,s,2),o!==null&&(js(o,2),Yn(o))}function Qe(o,s,c){if(o.tag===3)i0(o,o,c);else for(;s!==null;){if(s.tag===3){i0(s,o,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xr===null||!Xr.has(f))){o=Tn(c,o),c=cy(2),f=Hr(s,c,2),f!==null&&(uy(c,f,s,o),js(f,2),Yn(f));break}}s=s.return}}function lh(o,s,c){var f=o.pingCache;if(f===null){f=o.pingCache=new Tx;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(c)||(Yf=!0,m.add(c),o=Ox.bind(null,o,s,c),s.then(o,o))}function Ox(o,s,c){var f=o.pingCache;f!==null&&f.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,et===o&&(Ie&c)===c&&(pt===4||pt===3&&(Ie&62914560)===Ie&&300>le()-eh?(Fe&2)===0&&Ji(o,0):Qf|=c,Xi===Ie&&(Xi=0)),Yn(o)}function s0(o,s){s===0&&(s=ng()),o=Pi(o,s),o!==null&&(js(o,s),Yn(o))}function Dx(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),s0(o,c)}function Lx(o,s){var c=0;switch(o.tag){case 13:var f=o.stateNode,m=o.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),s0(o,c)}function Px(o,s){return X(o,s)}var kc=null,ts=null,ah=!1,Cc=!1,ch=!1,Fo=0;function Yn(o){o!==ts&&o.next===null&&(ts===null?kc=ts=o:ts=ts.next=o),Cc=!0,ah||(ah=!0,Bx())}function kl(o,s){if(!ch&&Cc){ch=!0;do for(var c=!1,f=kc;f!==null;){if(o!==0){var m=f.pendingLanes;if(m===0)var b=0;else{var k=f.suspendedLanes,_=f.pingedLanes;b=(1<<31-mt(42|o)+1)-1,b&=m&~(k&~_),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,u0(f,b))}else b=Ie,b=nr(f,f===et?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||ii(f,b)||(c=!0,u0(f,b));f=f.next}while(c);ch=!1}}function Ix(){l0()}function l0(){Cc=ah=!1;var o=0;Fo!==0&&(Gx()&&(o=Fo),Fo=0);for(var s=le(),c=null,f=kc;f!==null;){var m=f.next,b=a0(f,s);b===0?(f.next=null,c===null?kc=m:c.next=m,m===null&&(ts=c)):(c=f,(o!==0||(b&3)!==0)&&(Cc=!0)),f=m}kl(o)}function a0(o,s){for(var c=o.suspendedLanes,f=o.pingedLanes,m=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var k=31-mt(b),_=1<<k,M=m[k];M===-1?((_&c)===0||(_&f)!==0)&&(m[k]=aS(_,s)):M<=s&&(o.expiredLanes|=_),b&=~_}if(s=et,c=Ie,c=nr(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,c===0||o===s&&(Ge===2||Ge===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&ne(f),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||ii(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(f!==null&&ne(f),_d(c)){case 2:case 8:c=pe;break;case 32:c=he;break;case 268435456:c=Oe;break;default:c=he}return f=c0.bind(null,o),c=X(c,f),o.callbackPriority=s,o.callbackNode=c,s}return f!==null&&f!==null&&ne(f),o.callbackPriority=2,o.callbackNode=null,2}function c0(o,s){if(zt!==0&&zt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(wc()&&o.callbackNode!==c)return null;var f=Ie;return f=nr(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(Gy(o,f,s),a0(o,le()),o.callbackNode!=null&&o.callbackNode===c?c0.bind(null,o):null)}function u0(o,s){if(wc())return null;Gy(o,s,!0)}function Bx(){Wx(function(){(Fe&6)!==0?X(Te,Ix):l0()})}function uh(){return Fo===0&&(Fo=tg()),Fo}function d0(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Da(""+o)}function f0(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function jx(o,s,c,f,m){if(s==="submit"&&c&&c.stateNode===m){var b=d0((m[tn]||null).action),k=f.submitter;k&&(s=(s=k[tn]||null)?d0(s.formAction):k.getAttribute("formAction"),s!==null&&(b=s,k=null));var _=new Ba("action","action",null,f,m);o.push({event:_,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fo!==0){var M=k?f0(m,k):new FormData(m);Rf(c,{pending:!0,data:M,method:m.method,action:b},null,M)}}else typeof b=="function"&&(_.preventDefault(),M=k?f0(m,k):new FormData(m),Rf(c,{pending:!0,data:M,method:m.method,action:b},b,M))},currentTarget:m}]})}}for(var dh=0;dh<Kd.length;dh++){var fh=Kd[dh],zx=fh.toLowerCase(),$x=fh[0].toUpperCase()+fh.slice(1);$n(zx,"on"+$x)}$n(Gg,"onAnimationEnd"),$n(qg,"onAnimationIteration"),$n(Wg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(rx,"onTransitionRun"),$n(ox,"onTransitionStart"),$n(ix,"onTransitionCancel"),$n(Kg,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function h0(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],m=f.event;f=f.listeners;e:{var b=void 0;if(s)for(var k=f.length-1;0<=k;k--){var _=f[k],M=_.instance,P=_.currentTarget;if(_=_.listener,M!==b&&m.isPropagationStopped())break e;b=_,m.currentTarget=P;try{b(m)}catch(V){cc(V)}m.currentTarget=null,b=M}else for(k=0;k<f.length;k++){if(_=f[k],M=_.instance,P=_.currentTarget,_=_.listener,M!==b&&m.isPropagationStopped())break e;b=_,m.currentTarget=P;try{b(m)}catch(V){cc(V)}m.currentTarget=null,b=M}}}}function Pe(o,s){var c=s[Sd];c===void 0&&(c=s[Sd]=new Set);var f=o+"__bubble";c.has(f)||(p0(s,o,2,!1),c.add(f))}function hh(o,s,c){var f=0;s&&(f|=4),p0(c,o,f,s)}var _c="_reactListening"+Math.random().toString(36).slice(2);function ph(o){if(!o[_c]){o[_c]=!0,lg.forEach(function(c){c!=="selectionchange"&&(Hx.has(c)||hh(c,!1,o),hh(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[_c]||(s[_c]=!0,hh("selectionchange",!1,s))}}function p0(o,s,c,f){switch(j0(s)){case 2:var m=pE;break;case 8:m=mE;break;default:m=Mh}c=m.bind(null,s,c,o),m=void 0,!Pd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?o.addEventListener(s,c,{capture:!0,passive:m}):o.addEventListener(s,c,!0):m!==void 0?o.addEventListener(s,c,{passive:m}):o.addEventListener(s,c,!1)}function mh(o,s,c,f,m){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var _=f.stateNode.containerInfo;if(_===m)break;if(k===4)for(k=f.return;k!==null;){var M=k.tag;if((M===3||M===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;_!==null;){if(k=Ci(_),k===null)return;if(M=k.tag,M===5||M===6||M===26||M===27){f=b=k;continue e}_=_.parentNode}}f=f.return}kg(function(){var P=b,V=Dd(c),W=[];e:{var j=Zg.get(o);if(j!==void 0){var z=Ba,ve=o;switch(o){case"keypress":if(Pa(c)===0)break e;case"keydown":case"keyup":z=PS;break;case"focusin":ve="focus",z=zd;break;case"focusout":ve="blur",z=zd;break;case"beforeblur":case"afterblur":z=zd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=_S;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=jS;break;case Gg:case qg:case Wg:z=ES;break;case Kg:z=$S;break;case"scroll":case"scrollend":z=kS;break;case"wheel":z=VS;break;case"copy":case"cut":case"paste":z=MS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Eg;break;case"toggle":case"beforetoggle":z=FS}var ge=(s&4)!==0,Xe=!ge&&(o==="scroll"||o==="scrollend"),O=ge?j!==null?j+"Capture":null:j;ge=[];for(var R=P,D;R!==null;){var U=R;if(D=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||D===null||O===null||(U=Hs(R,O),U!=null&&ge.push(_l(R,U,D))),Xe)break;R=R.return}0<ge.length&&(j=new z(j,ve,null,c,V),W.push({event:j,listeners:ge}))}}if((s&7)===0){e:{if(j=o==="mouseover"||o==="pointerover",z=o==="mouseout"||o==="pointerout",j&&c!==Od&&(ve=c.relatedTarget||c.fromElement)&&(Ci(ve)||ve[ki]))break e;if((z||j)&&(j=V.window===V?V:(j=V.ownerDocument)?j.defaultView||j.parentWindow:window,z?(ve=c.relatedTarget||c.toElement,z=P,ve=ve?Ci(ve):null,ve!==null&&(Xe=l(ve),ge=ve.tag,ve!==Xe||ge!==5&&ge!==27&&ge!==6)&&(ve=null)):(z=null,ve=P),z!==ve)){if(ge=Sg,U="onMouseLeave",O="onMouseEnter",R="mouse",(o==="pointerout"||o==="pointerover")&&(ge=Eg,U="onPointerLeave",O="onPointerEnter",R="pointer"),Xe=z==null?j:$s(z),D=ve==null?j:$s(ve),j=new ge(U,R+"leave",z,c,V),j.target=Xe,j.relatedTarget=D,U=null,Ci(V)===P&&(ge=new ge(O,R+"enter",ve,c,V),ge.target=D,ge.relatedTarget=Xe,U=ge),Xe=U,z&&ve)t:{for(ge=z,O=ve,R=0,D=ge;D;D=ns(D))R++;for(D=0,U=O;U;U=ns(U))D++;for(;0<R-D;)ge=ns(ge),R--;for(;0<D-R;)O=ns(O),D--;for(;R--;){if(ge===O||O!==null&&ge===O.alternate)break t;ge=ns(ge),O=ns(O)}ge=null}else ge=null;z!==null&&m0(W,j,z,ge,!1),ve!==null&&Xe!==null&&m0(W,Xe,ve,ge,!0)}}e:{if(j=P?$s(P):window,z=j.nodeName&&j.nodeName.toLowerCase(),z==="select"||z==="input"&&j.type==="file")var oe=Lg;else if(Og(j))if(Pg)oe=ex;else{oe=QS;var De=YS}else z=j.nodeName,!z||z.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&Nd(P.elementType)&&(oe=Lg):oe=JS;if(oe&&(oe=oe(o,P))){Dg(W,oe,c,V);break e}De&&De(o,j,P),o==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Rd(j,"number",j.value)}switch(De=P?$s(P):window,o){case"focusin":(Og(De)||De.contentEditable==="true")&&(Oi=De,Gd=P,Zs=null);break;case"focusout":Zs=Gd=Oi=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,Ug(W,c,V);break;case"selectionchange":if(nx)break;case"keydown":case"keyup":Ug(W,c,V)}var ce;if(Hd)e:{switch(o){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ni?Rg(o,c)&&(ye="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(ye="onCompositionStart");ye&&(Tg&&c.locale!=="ko"&&(Ni||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ni&&(ce=Cg()):(Br=V,Id="value"in Br?Br.value:Br.textContent,Ni=!0)),De=Sc(P,ye),0<De.length&&(ye=new xg(ye,o,null,c,V),W.push({event:ye,listeners:De}),ce?ye.data=ce:(ce=Ng(c),ce!==null&&(ye.data=ce)))),(ce=qS?WS(o,c):KS(o,c))&&(ye=Sc(P,"onBeforeInput"),0<ye.length&&(De=new xg("onBeforeInput","beforeinput",null,c,V),W.push({event:De,listeners:ye}),De.data=ce)),jx(W,o,P,c,V)}h0(W,s)})}function _l(o,s,c){return{instance:o,listener:s,currentTarget:c}}function Sc(o,s){for(var c=s+"Capture",f=[];o!==null;){var m=o,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Hs(o,c),m!=null&&f.unshift(_l(o,m,b)),m=Hs(o,s),m!=null&&f.push(_l(o,m,b))),o.tag===3)return f;o=o.return}return[]}function ns(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function m0(o,s,c,f,m){for(var b=s._reactName,k=[];c!==null&&c!==f;){var _=c,M=_.alternate,P=_.stateNode;if(_=_.tag,M!==null&&M===f)break;_!==5&&_!==26&&_!==27||P===null||(M=P,m?(P=Hs(c,b),P!=null&&k.unshift(_l(c,P,M))):m||(P=Hs(c,b),P!=null&&k.push(_l(c,P,M)))),c=c.return}k.length!==0&&o.push({event:s,listeners:k})}var Vx=/\r\n?/g,Ux=/\u0000|\uFFFD/g;function g0(o){return(typeof o=="string"?o:""+o).replace(Vx,`
`).replace(Ux,"")}function b0(o,s){return s=g0(s),g0(o)===s}function xc(){}function Ze(o,s,c,f,m,b){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Mi(o,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Mi(o,""+f);break;case"className":Ra(o,"class",f);break;case"tabIndex":Ra(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ra(o,c,f);break;case"style":vg(o,f,b);break;case"data":if(s!=="object"){Ra(o,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(c);break}f=Da(""+f),o.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&Ze(o,s,"name",m.name,m,null),Ze(o,s,"formEncType",m.formEncType,m,null),Ze(o,s,"formMethod",m.formMethod,m,null),Ze(o,s,"formTarget",m.formTarget,m,null)):(Ze(o,s,"encType",m.encType,m,null),Ze(o,s,"method",m.method,m,null),Ze(o,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(c);break}f=Da(""+f),o.setAttribute(c,f);break;case"onClick":f!=null&&(o.onclick=xc);break;case"onScroll":f!=null&&Pe("scroll",o);break;case"onScrollEnd":f!=null&&Pe("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}c=Da(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(c,""+f):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":f===!0?o.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(c,f):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(c,f):o.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(c):o.setAttribute(c,f);break;case"popover":Pe("beforetoggle",o),Pe("toggle",o),Aa(o,"popover",f);break;case"xlinkActuate":cr(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":cr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":cr(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":cr(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":cr(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":cr(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":cr(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":cr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":cr(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Aa(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=vS.get(c)||c,Aa(o,c,f))}}function gh(o,s,c,f,m,b){switch(c){case"style":vg(o,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"children":typeof f=="string"?Mi(o,f):(typeof f=="number"||typeof f=="bigint")&&Mi(o,""+f);break;case"onScroll":f!=null&&Pe("scroll",o);break;case"onScrollEnd":f!=null&&Pe("scrollend",o);break;case"onClick":f!=null&&(o.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ag.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),s=c.slice(2,m?c.length-7:void 0),b=o[tn]||null,b=b!=null?b[c]:null,typeof b=="function"&&o.removeEventListener(s,b,m),typeof f=="function")){typeof b!="function"&&b!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,f,m);break e}c in o?o[c]=f:f===!0?o.setAttribute(c,""):Aa(o,c,f)}}}function $t(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",o),Pe("load",o);var f=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var k=c[b];if(k!=null)switch(b){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(o,s,b,k,c,null)}}m&&Ze(o,s,"srcSet",c.srcSet,c,null),f&&Ze(o,s,"src",c.src,c,null);return;case"input":Pe("invalid",o);var _=b=k=m=null,M=null,P=null;for(f in c)if(c.hasOwnProperty(f)){var V=c[f];if(V!=null)switch(f){case"name":m=V;break;case"type":k=V;break;case"checked":M=V;break;case"defaultChecked":P=V;break;case"value":b=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:Ze(o,s,f,V,c,null)}}mg(o,b,_,M,P,k,m,!1),Na(o);return;case"select":Pe("invalid",o),f=k=b=null;for(m in c)if(c.hasOwnProperty(m)&&(_=c[m],_!=null))switch(m){case"value":b=_;break;case"defaultValue":k=_;break;case"multiple":f=_;default:Ze(o,s,m,_,c,null)}s=b,c=k,o.multiple=!!f,s!=null?Ti(o,!!f,s,!1):c!=null&&Ti(o,!!f,c,!0);return;case"textarea":Pe("invalid",o),b=m=f=null;for(k in c)if(c.hasOwnProperty(k)&&(_=c[k],_!=null))switch(k){case"value":f=_;break;case"defaultValue":m=_;break;case"children":b=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ze(o,s,k,_,c,null)}bg(o,f,m,b),Na(o);return;case"option":for(M in c)if(c.hasOwnProperty(M)&&(f=c[M],f!=null))switch(M){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ze(o,s,M,f,c,null)}return;case"dialog":Pe("beforetoggle",o),Pe("toggle",o),Pe("cancel",o),Pe("close",o);break;case"iframe":case"object":Pe("load",o);break;case"video":case"audio":for(f=0;f<Cl.length;f++)Pe(Cl[f],o);break;case"image":Pe("error",o),Pe("load",o);break;case"details":Pe("toggle",o);break;case"embed":case"source":case"link":Pe("error",o),Pe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in c)if(c.hasOwnProperty(P)&&(f=c[P],f!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(o,s,P,f,c,null)}return;default:if(Nd(s)){for(V in c)c.hasOwnProperty(V)&&(f=c[V],f!==void 0&&gh(o,s,V,f,c,void 0));return}}for(_ in c)c.hasOwnProperty(_)&&(f=c[_],f!=null&&Ze(o,s,_,f,c,null))}function Fx(o,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,k=null,_=null,M=null,P=null,V=null;for(z in c){var W=c[z];if(c.hasOwnProperty(z)&&W!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":M=W;default:f.hasOwnProperty(z)||Ze(o,s,z,null,f,W)}}for(var j in f){var z=f[j];if(W=c[j],f.hasOwnProperty(j)&&(z!=null||W!=null))switch(j){case"type":b=z;break;case"name":m=z;break;case"checked":P=z;break;case"defaultChecked":V=z;break;case"value":k=z;break;case"defaultValue":_=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,s));break;default:z!==W&&Ze(o,s,j,z,f,W)}}Ad(o,k,_,M,P,V,b,m);return;case"select":z=k=_=j=null;for(b in c)if(M=c[b],c.hasOwnProperty(b)&&M!=null)switch(b){case"value":break;case"multiple":z=M;default:f.hasOwnProperty(b)||Ze(o,s,b,null,f,M)}for(m in f)if(b=f[m],M=c[m],f.hasOwnProperty(m)&&(b!=null||M!=null))switch(m){case"value":j=b;break;case"defaultValue":_=b;break;case"multiple":k=b;default:b!==M&&Ze(o,s,m,b,f,M)}s=_,c=k,f=z,j!=null?Ti(o,!!c,j,!1):!!f!=!!c&&(s!=null?Ti(o,!!c,s,!0):Ti(o,!!c,c?[]:"",!1));return;case"textarea":z=j=null;for(_ in c)if(m=c[_],c.hasOwnProperty(_)&&m!=null&&!f.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ze(o,s,_,null,f,m)}for(k in f)if(m=f[k],b=c[k],f.hasOwnProperty(k)&&(m!=null||b!=null))switch(k){case"value":j=m;break;case"defaultValue":z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==b&&Ze(o,s,k,m,f,b)}gg(o,j,z);return;case"option":for(var ve in c)if(j=c[ve],c.hasOwnProperty(ve)&&j!=null&&!f.hasOwnProperty(ve))switch(ve){case"selected":o.selected=!1;break;default:Ze(o,s,ve,null,f,j)}for(M in f)if(j=f[M],z=c[M],f.hasOwnProperty(M)&&j!==z&&(j!=null||z!=null))switch(M){case"selected":o.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ze(o,s,M,j,f,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in c)j=c[ge],c.hasOwnProperty(ge)&&j!=null&&!f.hasOwnProperty(ge)&&Ze(o,s,ge,null,f,j);for(P in f)if(j=f[P],z=c[P],f.hasOwnProperty(P)&&j!==z&&(j!=null||z!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Ze(o,s,P,j,f,z)}return;default:if(Nd(s)){for(var Xe in c)j=c[Xe],c.hasOwnProperty(Xe)&&j!==void 0&&!f.hasOwnProperty(Xe)&&gh(o,s,Xe,void 0,f,j);for(V in f)j=f[V],z=c[V],!f.hasOwnProperty(V)||j===z||j===void 0&&z===void 0||gh(o,s,V,j,f,z);return}}for(var O in c)j=c[O],c.hasOwnProperty(O)&&j!=null&&!f.hasOwnProperty(O)&&Ze(o,s,O,null,f,j);for(W in f)j=f[W],z=c[W],!f.hasOwnProperty(W)||j===z||j==null&&z==null||Ze(o,s,W,j,f,z)}var bh=null,yh=null;function Ec(o){return o.nodeType===9?o:o.ownerDocument}function y0(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function vh(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wh=null;function Gx(){var o=window.event;return o&&o.type==="popstate"?o===wh?!1:(wh=o,!0):(wh=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,qx=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(o){return k0.resolve(null).then(o).catch(Kx)}:w0;function Kx(o){setTimeout(function(){throw o})}function Jr(o){return o==="head"}function C0(o,s){var c=s,f=0,m=0;do{var b=c.nextSibling;if(o.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<f&&8>f){c=f;var k=o.ownerDocument;if(c&1&&Sl(k.documentElement),c&2&&Sl(k.body),c&4)for(c=k.head,Sl(c),k=c.firstChild;k;){var _=k.nextSibling,M=k.nodeName;k[zs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&k.rel.toLowerCase()==="stylesheet"||c.removeChild(k),k=_}}if(m===0){o.removeChild(b),Ol(s);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:f=c.charCodeAt(0)-48;else f=0;c=b}while(c);Ol(s)}function kh(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":kh(c),xd(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function Zx(o,s,c,f){for(;o.nodeType===1;){var m=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[zs])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(b!==m.rel||o.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||o.getAttribute("title")!==(m.title==null?null:m.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(m.src==null?null:m.src)||o.getAttribute("type")!==(m.type==null?null:m.type)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=Vn(o.nextSibling),o===null)break}return null}function Xx(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Vn(o.nextSibling),o===null))return null;return o}function Ch(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Yx(o,s){var c=o.ownerDocument;if(o.data!=="$?"||c.readyState==="complete")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function Vn(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return o}var _h=null;function _0(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return o;s--}else c==="/$"&&s++}o=o.previousSibling}return null}function S0(o,s,c){switch(s=Ec(c),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Sl(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);xd(o)}var Dn=new Map,x0=new Set;function Tc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var _r=H.d;H.d={f:Qx,r:Jx,D:eE,C:tE,L:nE,m:rE,X:iE,S:oE,M:sE};function Qx(){var o=_r.f(),s=yc();return o||s}function Jx(o){var s=_i(o);s!==null&&s.tag===5&&s.type==="form"?Gb(s):_r.r(o)}var rs=typeof document>"u"?null:document;function E0(o,s,c){var f=rs;if(f&&typeof s=="string"&&s){var m=In(s);m='link[rel="'+o+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),x0.has(m)||(x0.add(m),o={rel:o,crossOrigin:c,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),$t(s,"link",o),Dt(s),f.head.appendChild(s)))}}function eE(o){_r.D(o),E0("dns-prefetch",o,null)}function tE(o,s){_r.C(o,s),E0("preconnect",o,s)}function nE(o,s,c){_r.L(o,s,c);var f=rs;if(f&&o&&s){var m='link[rel="preload"][as="'+In(s)+'"]';s==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+In(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+In(c.imageSizes)+'"]')):m+='[href="'+In(o)+'"]';var b=m;switch(s){case"style":b=is(o);break;case"script":b=ss(o)}Dn.has(b)||(o=p({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),Dn.set(b,o),f.querySelector(m)!==null||s==="style"&&f.querySelector(xl(b))||s==="script"&&f.querySelector(El(b))||(s=f.createElement("link"),$t(s,"link",o),Dt(s),f.head.appendChild(s)))}}function rE(o,s){_r.m(o,s);var c=rs;if(c&&o){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+In(f)+'"][href="'+In(o)+'"]',b=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ss(o)}if(!Dn.has(b)&&(o=p({rel:"modulepreload",href:o},s),Dn.set(b,o),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(El(b)))return}f=c.createElement("link"),$t(f,"link",o),Dt(f),c.head.appendChild(f)}}}function oE(o,s,c){_r.S(o,s,c);var f=rs;if(f&&o){var m=Si(f).hoistableStyles,b=is(o);s=s||"default";var k=m.get(b);if(!k){var _={loading:0,preload:null};if(k=f.querySelector(xl(b)))_.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":s},c),(c=Dn.get(b))&&Sh(o,c);var M=k=f.createElement("link");Dt(M),$t(M,"link",o),M._p=new Promise(function(P,V){M.onload=P,M.onerror=V}),M.addEventListener("load",function(){_.loading|=1}),M.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Mc(k,s,f)}k={type:"stylesheet",instance:k,count:1,state:_},m.set(b,k)}}}function iE(o,s){_r.X(o,s);var c=rs;if(c&&o){var f=Si(c).hoistableScripts,m=ss(o),b=f.get(m);b||(b=c.querySelector(El(m)),b||(o=p({src:o,async:!0},s),(s=Dn.get(m))&&xh(o,s),b=c.createElement("script"),Dt(b),$t(b,"link",o),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function sE(o,s){_r.M(o,s);var c=rs;if(c&&o){var f=Si(c).hoistableScripts,m=ss(o),b=f.get(m);b||(b=c.querySelector(El(m)),b||(o=p({src:o,async:!0,type:"module"},s),(s=Dn.get(m))&&xh(o,s),b=c.createElement("script"),Dt(b),$t(b,"link",o),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function T0(o,s,c,f){var m=(m=Ae.current)?Tc(m):null;if(!m)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=is(c.href),c=Si(m).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=is(c.href);var b=Si(m).hoistableStyles,k=b.get(o);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,k),(b=m.querySelector(xl(o)))&&!b._p&&(k.instance=b,k.state.loading=5),Dn.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Dn.set(o,c),b||lE(m,o,c,k.state))),s&&f===null)throw Error(r(528,""));return k}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ss(c),c=Si(m).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function is(o){return'href="'+In(o)+'"'}function xl(o){return'link[rel="stylesheet"]['+o+"]"}function M0(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function lE(o,s,c,f){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=o.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),$t(s,"link",c),Dt(s),o.head.appendChild(s))}function ss(o){return'[src="'+In(o)+'"]'}function El(o){return"script[async]"+o}function A0(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=o.querySelector('style[data-href~="'+In(c.href)+'"]');if(f)return s.instance=f,Dt(f),f;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),Dt(f),$t(f,"style",m),Mc(f,c.precedence,o),s.instance=f;case"stylesheet":m=is(c.href);var b=o.querySelector(xl(m));if(b)return s.state.loading|=4,s.instance=b,Dt(b),b;f=M0(c),(m=Dn.get(m))&&Sh(f,m),b=(o.ownerDocument||o).createElement("link"),Dt(b);var k=b;return k._p=new Promise(function(_,M){k.onload=_,k.onerror=M}),$t(b,"link",f),s.state.loading|=4,Mc(b,c.precedence,o),s.instance=b;case"script":return b=ss(c.src),(m=o.querySelector(El(b)))?(s.instance=m,Dt(m),m):(f=c,(m=Dn.get(b))&&(f=p({},c),xh(f,m)),o=o.ownerDocument||o,m=o.createElement("script"),Dt(m),$t(m,"link",f),o.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Mc(f,c.precedence,o));return s.instance}function Mc(o,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,b=m,k=0;k<f.length;k++){var _=f[k];if(_.dataset.precedence===s)b=_;else if(b!==m)break}b?b.parentNode.insertBefore(o,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function Sh(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function xh(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Ac=null;function R0(o,s,c){if(Ac===null){var f=new Map,m=Ac=new Map;m.set(c,f)}else m=Ac,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(o))return f;for(f.set(o,null),c=c.getElementsByTagName(o),m=0;m<c.length;m++){var b=c[m];if(!(b[zs]||b[Gt]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(s)||"";k=o+k;var _=f.get(k);_?_.push(b):f.set(k,[b])}}return f}function N0(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function aE(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function O0(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Tl=null;function cE(){}function uE(o,s,c){if(Tl===null)throw Error(r(475));var f=Tl;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=is(c.href),b=o.querySelector(xl(m));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(f.count++,f=Rc.bind(f),o.then(f,f)),s.state.loading|=4,s.instance=b,Dt(b);return}b=o.ownerDocument||o,c=M0(c),(m=Dn.get(m))&&Sh(c,m),b=b.createElement("link"),Dt(b);var k=b;k._p=new Promise(function(_,M){k.onload=_,k.onerror=M}),$t(b,"link",c),s.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,o),(o=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Rc.bind(f),o.addEventListener("load",s),o.addEventListener("error",s))}}function dE(){if(Tl===null)throw Error(r(475));var o=Tl;return o.stylesheets&&o.count===0&&Eh(o,o.stylesheets),0<o.count?function(s){var c=setTimeout(function(){if(o.stylesheets&&Eh(o,o.stylesheets),o.unsuspend){var f=o.unsuspend;o.unsuspend=null,f()}},6e4);return o.unsuspend=s,function(){o.unsuspend=null,clearTimeout(c)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Nc=null;function Eh(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Nc=new Map,s.forEach(fE,o),Nc=null,Rc.call(o))}function fE(o,s){if(!(s.state.loading&4)){var c=Nc.get(o);if(c)var f=c.get(null);else{c=new Map,Nc.set(o,c);for(var m=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var k=m[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),f=k)}f&&c.set(null,f)}m=s.instance,k=m.getAttribute("data-precedence"),b=c.get(k)||f,b===f&&c.set(null,m),c.set(k,m),this.count++,f=Rc.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),b?b.parentNode.insertBefore(m,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(m,o.firstChild)),s.state.loading|=4}}var Ml={$$typeof:N,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function hE(o,s,c,f,m,b,k,_){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.hiddenUpdates=kd(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function D0(o,s,c,f,m,b,k,_,M,P,V,W){return o=new hE(o,s,c,k,_,M,P,W),s=1,b===!0&&(s|=24),b=fn(3,null,null,s),o.current=b,b.stateNode=o,s=lf(),s.refCount++,o.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:s},df(b),o}function L0(o){return o?(o=Ii,o):Ii}function P0(o,s,c,f,m,b){m=L0(m),f.context===null?f.context=m:f.pendingContext=m,f=$r(s),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=Hr(o,f,s),c!==null&&(bn(c,o,s),ol(c,o,s))}function I0(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function Th(o,s){I0(o,s),(o=o.alternate)&&I0(o,s)}function B0(o){if(o.tag===13){var s=Pi(o,67108864);s!==null&&bn(s,o,67108864),Th(o,67108864)}}var Oc=!0;function pE(o,s,c,f){var m=L.T;L.T=null;var b=H.p;try{H.p=2,Mh(o,s,c,f)}finally{H.p=b,L.T=m}}function mE(o,s,c,f){var m=L.T;L.T=null;var b=H.p;try{H.p=8,Mh(o,s,c,f)}finally{H.p=b,L.T=m}}function Mh(o,s,c,f){if(Oc){var m=Ah(f);if(m===null)mh(o,s,f,Dc,c),z0(o,f);else if(bE(m,o,s,c,f))f.stopPropagation();else if(z0(o,f),s&4&&-1<gE.indexOf(o)){for(;m!==null;){var b=_i(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=en(b.pendingLanes);if(k!==0){var _=b;for(_.pendingLanes|=2,_.entangledLanes|=2;k;){var M=1<<31-mt(k);_.entanglements[1]|=M,k&=~M}Yn(b),(Fe&6)===0&&(gc=le()+500,kl(0))}}break;case 13:_=Pi(b,2),_!==null&&bn(_,b,2),yc(),Th(b,2)}if(b=Ah(f),b===null&&mh(o,s,f,Dc,c),b===m)break;m=b}m!==null&&f.stopPropagation()}else mh(o,s,f,null,c)}}function Ah(o){return o=Dd(o),Rh(o)}var Dc=null;function Rh(o){if(Dc=null,o=Ci(o),o!==null){var s=l(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=a(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Dc=o,null}function j0(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Te:return 2;case pe:return 8;case he:case Ye:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var Nh=!1,eo=null,to=null,no=null,Al=new Map,Rl=new Map,ro=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z0(o,s){switch(o){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Al.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(s.pointerId)}}function Nl(o,s,c,f,m,b){return o===null||o.nativeEvent!==b?(o={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[m]},s!==null&&(s=_i(s),s!==null&&B0(s)),o):(o.eventSystemFlags|=f,s=o.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),o)}function bE(o,s,c,f,m){switch(s){case"focusin":return eo=Nl(eo,o,s,c,f,m),!0;case"dragenter":return to=Nl(to,o,s,c,f,m),!0;case"mouseover":return no=Nl(no,o,s,c,f,m),!0;case"pointerover":var b=m.pointerId;return Al.set(b,Nl(Al.get(b)||null,o,s,c,f,m)),!0;case"gotpointercapture":return b=m.pointerId,Rl.set(b,Nl(Rl.get(b)||null,o,s,c,f,m)),!0}return!1}function $0(o){var s=Ci(o.target);if(s!==null){var c=l(s);if(c!==null){if(s=c.tag,s===13){if(s=a(c),s!==null){o.blockedOn=s,uS(o.priority,function(){if(c.tag===13){var f=gn();f=Cd(f);var m=Pi(c,f);m!==null&&bn(m,c,f),Th(c,f)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lc(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Ah(o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);Od=f,c.target.dispatchEvent(f),Od=null}else return s=_i(c),s!==null&&B0(s),o.blockedOn=c,!1;s.shift()}return!0}function H0(o,s,c){Lc(o)&&c.delete(s)}function yE(){Nh=!1,eo!==null&&Lc(eo)&&(eo=null),to!==null&&Lc(to)&&(to=null),no!==null&&Lc(no)&&(no=null),Al.forEach(H0),Rl.forEach(H0)}function Pc(o,s){o.blockedOn===s&&(o.blockedOn=null,Nh||(Nh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yE)))}var Ic=null;function V0(o){Ic!==o&&(Ic=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ic===o&&(Ic=null);for(var s=0;s<o.length;s+=3){var c=o[s],f=o[s+1],m=o[s+2];if(typeof f!="function"){if(Rh(f||c)===null)continue;break}var b=_i(c);b!==null&&(o.splice(s,3),s-=3,Rf(b,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function Ol(o){function s(M){return Pc(M,o)}eo!==null&&Pc(eo,o),to!==null&&Pc(to,o),no!==null&&Pc(no,o),Al.forEach(s),Rl.forEach(s);for(var c=0;c<ro.length;c++){var f=ro[c];f.blockedOn===o&&(f.blockedOn=null)}for(;0<ro.length&&(c=ro[0],c.blockedOn===null);)$0(c),c.blockedOn===null&&ro.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],b=c[f+1],k=m[tn]||null;if(typeof b=="function")k||V0(c);else if(k){var _=null;if(b&&b.hasAttribute("formAction")){if(m=b,k=b[tn]||null)_=k.formAction;else if(Rh(m)!==null)continue}else _=k.action;typeof _=="function"?c[f+1]=_:(c.splice(f,3),f-=3),V0(c)}}}function Oh(o){this._internalRoot=o}Bc.prototype.render=Oh.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,f=gn();P0(c,f,o,s,null,null)},Bc.prototype.unmount=Oh.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;P0(o.current,2,null,o,null,null),yc(),s[ki]=null}};function Bc(o){this._internalRoot=o}Bc.prototype.unstable_scheduleHydration=function(o){if(o){var s=ig();o={blockedOn:null,target:o,priority:s};for(var c=0;c<ro.length&&s!==0&&s<ro[c].priority;c++);ro.splice(c,0,o),c===0&&$0(o)}};var U0=e.version;if(U0!=="19.1.0")throw Error(r(527,U0,"19.1.0"));H.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var vE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{it=jc.inject(vE),We=jc}catch{}}return Q0.createRoot=function(o,s){if(!i(o))throw Error(r(299));var c=!1,f="",m=iy,b=sy,k=ly,_=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks)),s=D0(o,1,!1,null,null,c,f,m,b,k,_,null),o[ki]=s.current,ph(o),new Oh(s)},Q0.hydrateRoot=function(o,s,c){if(!i(o))throw Error(r(299));var f=!1,m="",b=iy,k=sy,_=ly,M=null,P=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(_=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(M=c.unstable_transitionCallbacks),c.formState!==void 0&&(P=c.formState)),s=D0(o,1,!0,s,c??null,f,m,b,k,_,M,P),s.context=L0(null),c=s.current,f=gn(),f=Cd(f),m=$r(f),m.callback=null,Hr(c,m,f),c=f,s.current.lanes=c,js(s,c),Yn(s),o[ki]=s.current,ph(o),new Bc(s)},Q0.version="19.1.0",Q0}var tL;function Joe(){if(tL)return D2.exports;tL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),D2.exports=Qoe(),D2.exports}var eie=Joe();const nj=T.createContext(void 0);function Ma(t){return T.useContext(nj)}function tt(t){const e=Ma();if(!(e!=null&&e.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return e.editor}function sN(t,e,n){const r=Ma();e||(e=r==null?void 0:r.editor),T.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onSelectionChange(t,n)},[t,e,n])}function tie(t,e){const n=tt();e=e||n;const[r,i]=T.useState(()=>{if(t)return e.getSelectionBoundingBox()}),l=T.useCallback(()=>{if(!t)return;const a=e.getSelectionBoundingBox();i(a)},[e,t]);return sN(l,e,!0),T.useEffect(()=>{i(t?e.getSelectionBoundingBox():void 0)},[t,e]),r}function gd(t,e,n,r){const{refs:i,update:l,context:a,floatingStyles:u}=Um({open:t,...r}),{isMounted:d,styles:h}=iN(a),p=X7(a),{getReferenceProps:g,getFloatingProps:y}=Y7([p]);return T.useEffect(()=>{l()},[e,l]),T.useEffect(()=>{e!==null&&i.setReference({getBoundingClientRect:()=>e})},[e,i]),T.useMemo(()=>({isMounted:d,ref:i.setFloating,setReference:i.setReference,style:{display:"flex",...h,...u,zIndex:n},getFloatingProps:y,getReferenceProps:g}),[u,d,i.setFloating,i.setReference,h,n,y,g])}function Su(t){const[e,n]=T.useState();return T.useEffect(()=>t(r=>{n({...r})}),[t]),e}const rj=T.createContext(void 0);function Je(){return T.useContext(rj)}const L_=(t={},e=[])=>T.useMemo(()=>{const n=Hne.create(t);return window&&(window.ProseMirror=n._tiptapEditor),n},e);function _t(){return Ma().editor.dictionary}function lN(t,e){const n=Ma();e||(e=n==null?void 0:n.editor),T.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onChange(t)},[t,e])}const aN=t=>{const[e,n]=T.useState(!1),[r,i]=T.useState(t.editor.isEmpty),l=Je();lN(()=>{i(t.editor.isEmpty)},t.editor);const a=T.useCallback(()=>{n(!0)},[]),u=T.useCallback(()=>{n(!1)},[]);return T.useEffect(()=>{t.editable&&t.autoFocus&&t.editor.focus()},[t.autoFocus,t.editable,t.editor]),x.jsxs(x.Fragment,{children:[x.jsx(l.Comments.Editor,{autoFocus:t.autoFocus,className:"bn-comment-editor",editor:t.editor,onFocus:a,onBlur:u,editable:t.editable}),t.actions&&x.jsx("div",{className:"bn-comment-actions-wrapper",children:x.jsx(t.actions,{isFocused:e,isEmpty:r})})]})},nie=Yl(yi(UR.paragraph.implementation.node.config),{}),{textColor:d0e,backgroundColor:f0e,...rie}=FR,cN=$m.create({blockSpecs:{paragraph:nie},styleSpecs:rie});function oie(){const t=tt();if(!t.comments)throw new Error("Comments plugin not found");const e=t.comments,n=Je(),r=_t(),i=L_({trailingBlock:!1,dictionary:{...r,placeholders:{emptyDocument:r.placeholders.new_comment}},schema:cN,sideMenuDetection:"editor"});return x.jsx(n.Comments.Card,{className:"bn-thread",children:x.jsx(aN,{autoFocus:!0,editable:!0,editor:i,actions:({isEmpty:l})=>x.jsx(n.Generic.Toolbar.Root,{className:er("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:x.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:l,onClick:async()=>{await e.createThread({initialComment:{body:i.document}}),e.stopPendingComment()},children:"Save"})})})})}const iie=t=>{const e=tt();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=e.comments;T.useEffect(()=>{const p=n.onUpdate(g=>e.setForceSelectionVisible(g.pendingComment));return()=>p()},[n,e]);const r=Su(n.onUpdate.bind(n)),i=tie(r==null?void 0:r.pendingComment),{isMounted:l,ref:a,style:u,getFloatingProps:d}=gd((r==null?void 0:r.pendingComment)||!1,i||null,5e3,{placement:"bottom",middleware:[Ta(10),Rp(),Zl()],onOpenChange:p=>{p||(n.stopPendingComment(),e.focus())},...t.floatingOptions});if(!l||!r)return null;const h=t.floatingComposer||oie;return x.jsx("div",{ref:a,style:u,...d(),children:x.jsx(h,{})})};var oj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nL=lt.createContext&&lt.createContext(oj),sie=["attr","size","title"];function lie(t,e){if(t==null)return{};var n=aie(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vC(){return vC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vC.apply(this,arguments)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cie(t,e,n){return e=uie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=die(t,"string");return typeof e=="symbol"?e:e+""}function die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ij(t){return t&&t.map((e,n)=>lt.createElement(e.tag,wC({key:n},e.attr),ij(e.child)))}function at(t){return e=>lt.createElement(fie,vC({attr:wC({},t.attr)},e),ij(t.child))}function fie(t){var e=n=>{var{attr:r,size:i,title:l}=t,a=lie(t,sie),u=i||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),lt.createElement("svg",vC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:d,style:wC(wC({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&lt.createElement("title",null,l),t.children)};return nL!==void 0?lt.createElement(nL.Consumer,null,n=>e(n)):e(oj)}function hie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(t)}function sj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(t)}function pie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(t)}function mie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(t)}function uN(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(t)}function gie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(t)}function bie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(t)}function yie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(t)}function vie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(t)}function wie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(t)}function kie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(t)}function oL(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(t)}function lj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(t)}function aj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(t)}function cj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(t)}function Cie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(t)}function _ie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(t)}function iL(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(t)}function Sie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(t)}function xie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(t)}function uj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(t)}function dj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(t)}function fj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function hj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function Eie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(t)}function Tie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(t)}function pj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(t)}function Mie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(t)}function Aie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(t)}function dN(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(t)}function Rie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(t)}function Nie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(t)}function mj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(t)}function Oie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(t)}function Die(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(t)}function Lie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z"},child:[]}]})(t)}function gj(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(t)}function Pie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(t)}function Iie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(t)}function Bie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function jie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function zie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(t)}function $ie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(t)}function Hie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(t)}function Vie(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(t)}function sL(t){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(t)}let I2;async function Uie(){return I2||(I2=(async()=>{const[t,e]=await Promise.all([Me(()=>import("./module-BvCTiNll.js"),[]),Me(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in t?t.default:t,r="default"in e?e.default:e;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),I2)}function Fie(t){const e=T.useRef(null),n=T.useRef(null);return n.current&&n.current.update(t),T.useEffect(()=>((async()=>{const{emojiMart:r}=await Uie();n.current=new r.Picker({...t,ref:e})})(),()=>{n.current=null}),[]),lt.createElement("div",{ref:e})}const lL=t=>{const[e,n]=T.useState(!1),r=Je(),i=Ma();return x.jsxs(r.Generic.Popover.Root,{opened:e,children:[x.jsx(r.Generic.Popover.Trigger,{children:x.jsx("div",{onClick:l=>{l.preventDefault(),l.stopPropagation(),n(!e)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.children})}),x.jsx(r.Generic.Popover.Content,{variant:"panel-popover",children:x.jsx(Fie,{perLine:7,onClickOutside:()=>n(!1),onEmojiSelect:l=>{t.onEmojiSelect(l),n(!1)},theme:i==null?void 0:i.colorSchemePreference})})]})};function Gie(t,e){return fN(t,[e]).get(e)}function fN(t,e){const n=t.comments;if(!n)throw new Error("Comments plugin not found");const r=n.userStore,i=T.useCallback(()=>{const u=new Map;for(const d of e){const h=r.getUser(d);h&&u.set(d,h)}return u},[r,e]),l=T.useMemo(()=>({current:i()}),[i]),a=T.useCallback(u=>{const d=r.subscribe(h=>{l.current=i(),u()});return r.loadUsers(e),d},[r,i,e,l]);return T.useSyncExternalStore(a,()=>l.current)}const qie=t=>{const e=Je(),n=_t(),r=tt();if(!r.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const i=t.comment.reactions.find(d=>d.emoji===t.emoji);if(!i)throw new Error("Trying to render reaction badge for non-existing reaction");const[l,a]=T.useState([]),u=fN(r,l);return x.jsx(e.Generic.Badge.Root,{className:er("bn-badge","bn-comment-reaction"),text:i.userIds.length.toString(),icon:i.emoji,isSelected:r.comments.threadStore.auth.canDeleteReaction(t.comment,i.emoji),onClick:()=>t.onReactionSelect(i.emoji),onMouseEnter:()=>a(i.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(u.values()).map(d=>d.username).join(`
`)}`},i.emoji)},Wie=({comment:t,thread:e,showResolveButton:n})=>{const r=_t(),i=L_({initialContent:t.body,trailingBlock:!1,dictionary:{...r,placeholders:{emptyDocument:r.placeholders.edit_comment}},schema:cN,sideMenuDetection:"editor"},[t.body]),l=Je(),[a,u]=T.useState(!1),d=tt();if(!d.comments)throw new Error("Comments plugin not found");const h=d.comments.threadStore,p=T.useCallback(()=>{u(!0)},[]),g=T.useCallback(()=>{i.replaceBlocks(i.document,t.body),u(!1)},[i,t.body]),y=T.useCallback(async Z=>{await h.updateComment({commentId:t.id,comment:{body:i.document},threadId:e.id}),u(!1)},[t,e.id,i,h]),v=T.useCallback(async()=>{await h.deleteComment({commentId:t.id,threadId:e.id})},[t,e.id,h]),w=T.useCallback(async Z=>{h.auth.canAddReaction(t,Z)?await h.addReaction({threadId:e.id,commentId:t.id,emoji:Z}):h.auth.canDeleteReaction(t,Z)&&await h.deleteReaction({threadId:e.id,commentId:t.id,emoji:Z})},[h,t,e.id]),C=T.useCallback(async()=>{await h.resolveThread({threadId:e.id})},[e.id,h]),S=T.useCallback(async()=>{await h.unresolveThread({threadId:e.id})},[e.id,h]),E=Gie(d,t.userId);if(!t.body)return null;let A;const N=h.auth.canAddReaction(t),I=h.auth.canDeleteComment(t),B=h.auth.canUpdateComment(t),F=n&&(e.resolved?h.auth.canUnresolveThread(e):h.auth.canResolveThread(e));a||(A=x.jsxs(l.Generic.Toolbar.Root,{className:er("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[N&&x.jsx(lL,{onEmojiSelect:Z=>w(Z.native),children:x.jsx(l.Generic.Toolbar.Button,{mainTooltip:r.comments.actions.add_reaction,variant:"compact",children:x.jsx(sL,{size:16})},"add-reaction")}),F&&(e.resolved?x.jsx(l.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:S,children:x.jsx(hie,{size:16})},"reopen"):x.jsx(l.Generic.Toolbar.Button,{mainTooltip:r.comments.actions.resolve,variant:"compact",onClick:C,children:x.jsx(Iie,{size:16})},"resolve")),(I||B)&&x.jsxs(l.Generic.Menu.Root,{position:"bottom-start",children:[x.jsx(l.Generic.Menu.Trigger,{children:x.jsx(l.Generic.Toolbar.Button,{mainTooltip:r.comments.actions.more_actions,variant:"compact",children:x.jsx(Hie,{size:16})},"more-actions")}),x.jsxs(l.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[B&&x.jsx(l.Generic.Menu.Item,{icon:x.jsx(pie,{}),onClick:p,children:r.comments.actions.edit_comment},"edit-comment"),I&&x.jsx(l.Generic.Menu.Item,{icon:x.jsx(jie,{}),onClick:v,children:r.comments.actions.delete_comment},"delete-comment")]})]})]}));const q=t.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!t.body)throw new Error("soft deletes are not yet supported");return x.jsx(l.Comments.Comment,{authorInfo:E??"loading",timeString:q,edited:t.updatedAt.getTime()!==t.createdAt.getTime(),showActions:"hover",actions:A,className:"bn-thread-comment",children:x.jsx(aN,{autoFocus:a,editor:i,editable:a,actions:t.reactions.length>0||a?({isEmpty:Z})=>x.jsxs(x.Fragment,{children:[t.reactions.length>0&&!a&&x.jsxs(l.Generic.Badge.Group,{className:er("bn-badge-group","bn-comment-reactions"),children:[t.reactions.map(Q=>x.jsx(qie,{comment:t,emoji:Q.emoji,onReactionSelect:w},Q.emoji)),x.jsx(lL,{onEmojiSelect:Q=>w(Q.native),children:x.jsx(l.Generic.Badge.Root,{className:er("bn-badge","bn-comment-add-reaction"),text:"+",icon:x.jsx(sL,{size:16}),mainTooltip:r.comments.actions.add_reaction})})]}),a&&x.jsxs(l.Generic.Toolbar.Root,{variant:"action-toolbar",className:er("bn-action-toolbar","bn-comment-actions"),children:[x.jsx(l.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",onClick:y,isDisabled:Z,children:"Save"}),x.jsx(l.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Cancel",variant:"compact",onClick:g,children:"Cancel"})]})]}):void 0})})},Kie=({thread:t,maxCommentsBeforeCollapse:e})=>{const n=Je(),r=_t(),i=tt(),l=fN(i,t.resolvedBy?[t.resolvedBy]:[]),a=t.comments.map((u,d)=>x.jsx(Wie,{thread:t,comment:u,showResolveButton:d===0},u.id));if(t.resolved&&t.resolvedUpdatedAt&&t.resolvedBy){if(!l.get(t.resolvedBy))throw new Error(`User ${t.resolvedBy} resolved thread ${t.id}, but their data could not be found.`);const u=t.comments.findLastIndex(d=>t.resolvedUpdatedAt.getTime()>d.createdAt.getTime())+1;a.splice(u,0,x.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:t.resolvedBy&&l.get(t.resolvedBy)||"loading",timeString:t.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:x.jsx("div",{className:"bn-resolved-text",children:r.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return e&&a.length>e&&a.splice(1,a.length-2,x.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:r.comments.sidebar.more_replies(t.comments.length-2)},"expand-prompt")),a},bj=({thread:t,selected:e,referenceText:n,maxCommentsBeforeCollapse:r,onFocus:i,onBlur:l,tabIndex:a})=>{const u=Je(),d=_t(),h=tt().comments;if(!h)throw new Error("Comments plugin not found");const p=L_({trailingBlock:!1,dictionary:{...d,placeholders:{emptyDocument:d.placeholders.comment_reply}},schema:cN,sideMenuDetection:"editor"}),g=T.useCallback(async()=>{await h.threadStore.addComment({comment:{body:p.document},threadId:t.id}),p.removeBlocks(p.document)},[h,p,t.id]);return x.jsxs(u.Comments.Card,{className:"bn-thread",headerText:n,onFocus:i,onBlur:l,selected:e,tabIndex:a,children:[x.jsx(u.Comments.CardSection,{className:"bn-thread-comments",children:x.jsx(Kie,{thread:t,maxCommentsBeforeCollapse:e?void 0:r||5})}),e&&x.jsx(u.Comments.CardSection,{className:"bn-thread-composer",children:x.jsx(aN,{autoFocus:!1,editable:!0,editor:p,actions:({isEmpty:y})=>y?null:x.jsx(u.Generic.Toolbar.Root,{variant:"action-toolbar",className:er("bn-action-toolbar","bn-comment-actions"),children:x.jsx(u.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",isDisabled:y,onClick:g,children:"Save"})})})})]})};function Zie(t){const e=t.comments;if(!e)throw new Error("Comments plugin not found");const n=e.threadStore,r=T.useRef();r.current||(r.current=n.getThreads());const i=T.useCallback(l=>n.subscribe(a=>{r.current=a,l()}),[n]);return T.useSyncExternalStore(i,()=>r.current)}const Xie=t=>{const e=tt();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=Su(e.comments.onUpdate.bind(e.comments)),{isMounted:r,ref:i,style:l,getFloatingProps:a,setReference:u}=gd(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[Ta(10),Rp(),Zl()],onOpenChange:g=>{var y;g||((y=e.comments)==null||y.selectThread(void 0),e.focus())},...t.floatingOptions}),d=T.useCallback(()=>{var g;if(!(n!=null&&n.selectedThreadId))return;const y=(g=e.domElement)==null?void 0:g.querySelector(`[data-bn-thread-id="${n==null?void 0:n.selectedThreadId}"]`);y&&u(y)},[u,e,n==null?void 0:n.selectedThreadId]);T.useEffect(()=>{if(n!=null&&n.selectedThreadId)return e.onChange(()=>{d()})},[e,d,n==null?void 0:n.selectedThreadId]),T.useLayoutEffect(d,[d]);const h=Zie(e);if(!r||!n||!n.selectedThreadId)return null;const p=t.floatingThread||bj;return x.jsx("div",{ref:i,style:l,...a(),children:x.jsx(p,{thread:h.get(n.selectedThreadId),selected:!0})})},Yie=t=>{const e=Je(),n=_t(),{block:r}=t,i=tt(),[l,a]=T.useState(""),u=T.useCallback(p=>{a(p.currentTarget.value)},[]),d=T.useCallback(p=>{p.key==="Enter"&&(p.preventDefault(),i.updateBlock(r,{props:{name:lD(l),url:l}}))},[i,r,l]),h=T.useCallback(()=>{i.updateBlock(r,{props:{name:lD(l),url:l}})},[i,r,l]);return x.jsxs(e.FilePanel.TabPanel,{className:"bn-tab-panel",children:[x.jsx(e.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:l,onChange:u,onKeyDown:d,"data-test":"embed-input"}),x.jsx(e.FilePanel.Button,{className:"bn-button",onClick:h,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[r.type]||n.file_panel.embed.embed_button.file})]})},Qie=t=>{var e;const n=Je(),r=_t(),{block:i,setLoading:l}=t,a=tt(),[u,d]=T.useState(!1);T.useEffect(()=>{u&&setTimeout(()=>{d(!1)},3e3)},[u]);const h=T.useCallback(y=>{if(y===null)return;async function v(w){if(l(!0),a.uploadFile!==void 0)try{let C=await a.uploadFile(w);typeof C=="string"&&(C={props:{name:w.name,url:C}}),a.updateBlock(i,C)}catch{d(!0)}finally{l(!1)}}v(y)},[i,a,l]),p=a.schema.blockSchema[i.type],g=p.isFileBlock&&(e=p.fileBlockAccept)!=null&&e.length?p.fileBlockAccept.join(","):"*/*";return x.jsxs(n.FilePanel.TabPanel,{className:"bn-tab-panel",children:[x.jsx(n.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:g,placeholder:r.file_panel.upload.file_placeholder[i.type]||r.file_panel.upload.file_placeholder.file,value:null,onChange:h}),u&&x.jsx("div",{className:"bn-error-text",children:r.file_panel.upload.upload_error})]})},yj=t=>{const e=Je(),n=_t(),r=tt(),[i,l]=T.useState(!1),a=t.tabs??[...r.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:x.jsx(Qie,{block:t.block,setLoading:l})}]:[],{name:n.file_panel.embed.title,tabPanel:x.jsx(Yie,{block:t.block})}],[u,d]=T.useState(t.defaultOpenTab||a[0].name);return x.jsx(e.FilePanel.Root,{className:"bn-panel",defaultOpenTab:u,openTab:u,setOpenTab:d,tabs:a,loading:i})},Jie=t=>{const e=tt();if(!e.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=Su(e.filePanel.onUpdate.bind(e.filePanel)),{isMounted:r,ref:i,style:l,getFloatingProps:a}=gd((n==null?void 0:n.show)||!1,(n==null?void 0:n.referencePos)||null,5e3,{placement:"bottom",middleware:[Ta(10),Zl()],onOpenChange:g=>{g||(e.filePanel.closeMenu(),e.focus())},...t.floatingOptions});if(!r||!n)return null;const{show:u,referencePos:d,...h}=n,p=t.filePanel||yj;return x.jsx("div",{ref:i,style:l,...a(),children:x.jsx(p,{...h})})};function bd(t,e){lN(t,e),sN(t,e)}function hN(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function vi(t){const e=Ma();if(t||(t=e==null?void 0:e.editor),!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=t,[r,i]=T.useState(()=>{var l;return((l=n.getSelection())==null?void 0:l.blocks)||[n.getTextCursorPosition().block]});return bd(()=>{var l;return i(((l=n.getSelection())==null?void 0:l.blocks)||[n.getTextCursorPosition().block])},n),r}const ese={bold:wie,italic:Sie,underline:Rie,strike:Mie,code:mie};function tse(t,e){return t in e.schema.styleSchema&&e.schema.styleSchema[t].type===t&&e.schema.styleSchema[t].propSchema==="boolean"}const xw=t=>{const e=_t(),n=Je(),r=tt(),i=tse(t.basicTextStyle,r),l=vi(r),[a,u]=T.useState(t.basicTextStyle in r.getActiveStyles());bd(()=>{i&&u(t.basicTextStyle in r.getActiveStyles())},r);const d=p=>{if(r.focus(),!!i){if(r.schema.styleSchema[p].propSchema!=="boolean")throw new Error("can only toggle boolean styles");r.toggleStyles({[p]:!0})}};if(!T.useMemo(()=>i?!!l.find(p=>p.content!==void 0):!1,[i,l])||!r.isEditable)return null;const h=ese[t.basicTextStyle];return x.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":t.basicTextStyle,onClick:()=>d(t.basicTextStyle),isSelected:a,label:e.formatting_toolbar[t.basicTextStyle].tooltip,mainTooltip:e.formatting_toolbar[t.basicTextStyle].tooltip,secondaryTooltip:xs(e.formatting_toolbar[t.basicTextStyle].secondary_tooltip,e.generic.ctrl_shortcut),icon:x.jsx(h,{})})},FM=t=>{const e=t.textColor||"default",n=t.backgroundColor||"default",r=t.size||16,i=T.useMemo(()=>({pointerEvents:"none",fontSize:(r*.75).toString()+"px",height:r.toString()+"px",lineHeight:r.toString()+"px",textAlign:"center",width:r.toString()+"px"}),[r]);return x.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":e,style:i,children:"A"})},aL=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],P_=t=>{const e=Je(),n=_t();return x.jsxs(x.Fragment,{children:[x.jsx(()=>t.text?x.jsxs(x.Fragment,{children:[x.jsx(e.Generic.Menu.Label,{children:n.color_picker.text_title}),aL.map(r=>x.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.text.setColor(r)},"data-test":"text-color-"+r,icon:x.jsx(FM,{textColor:r,size:t.iconSize}),checked:t.text.color===r,children:n.color_picker.colors[r]},"text-color-"+r))]}):null,{}),x.jsx(()=>t.background?x.jsxs(x.Fragment,{children:[x.jsx(e.Generic.Menu.Label,{children:n.color_picker.background_title}),aL.map(r=>x.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.background.setColor(r)},"data-test":"background-color-"+r,icon:x.jsx(FM,{backgroundColor:r,size:t.iconSize}),checked:t.background.color===r,children:n.color_picker.colors[r]},"background-color-"+r))]}):null,{})]})};function cL(t,e){return`${t}Color`in e.schema.styleSchema&&e.schema.styleSchema[`${t}Color`].type===`${t}Color`&&e.schema.styleSchema[`${t}Color`].propSchema==="string"}const nse=()=>{const t=Je(),e=_t(),n=tt(),r=cL("text",n),i=cL("background",n),l=vi(n),[a,u]=T.useState(r&&n.getActiveStyles().textColor||"default"),[d,h]=T.useState(i&&n.getActiveStyles().backgroundColor||"default");bd(()=>{r&&u(n.getActiveStyles().textColor||"default"),i&&h(n.getActiveStyles().backgroundColor||"default")},n);const p=T.useCallback(y=>{if(!r)throw Error("Tried to set text color, but style does not exist in editor schema.");y==="default"?n.removeStyles({textColor:y}):n.addStyles({textColor:y}),setTimeout(()=>{n.focus()})},[n,r]),g=T.useCallback(y=>{if(!i)throw Error("Tried to set background color, but style does not exist in editor schema.");y==="default"?n.removeStyles({backgroundColor:y}):n.addStyles({backgroundColor:y}),setTimeout(()=>{n.focus()})},[i,n]);return!T.useMemo(()=>{if(!r&&!i)return!1;for(const y of l)if(y.content!==void 0)return!0;return!1},[i,l,r])||!n.isEditable?null:x.jsxs(t.Generic.Menu.Root,{children:[x.jsx(t.Generic.Menu.Trigger,{children:x.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:e.formatting_toolbar.colors.tooltip,mainTooltip:e.formatting_toolbar.colors.tooltip,icon:x.jsx(FM,{textColor:a,backgroundColor:d,size:20})})}),x.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:x.jsx(P_,{text:r?{color:a,setColor:p}:void 0,background:i?{color:d,setColor:g}:void 0})})]})},uL=t=>{for(const e of v7)if(t.startsWith(e))return t;return`${w7}://${t}`},vj=t=>{const e=Je(),n=_t(),{url:r,text:i,editLink:l,showTextField:a}=t,[u,d]=T.useState(r),[h,p]=T.useState(i);T.useEffect(()=>{d(r),p(i)},[i,r]);const g=T.useCallback(C=>{C.key==="Enter"&&(C.preventDefault(),l(uL(u),h))},[l,u,h]),y=T.useCallback(C=>d(C.currentTarget.value),[]),v=T.useCallback(C=>p(C.currentTarget.value),[]),w=T.useCallback(()=>l(uL(u),h),[l,u,h]);return x.jsxs(e.Generic.Form.Root,{children:[x.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:x.jsx(uj,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:u,onKeyDown:g,onChange:y,onSubmit:w}),a!==!1&&x.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:x.jsx(dN,{}),placeholder:n.link_toolbar.form.title_placeholder,value:h,onKeyDown:g,onChange:v,onSubmit:w})]})};function rse(t){return"link"in t.schema.inlineContentSchema&&t.schema.inlineContentSchema.link==="link"}const ose=()=>{var t;const e=tt(),n=Je(),r=_t(),i=rse(e),l=vi(e),[a,u]=T.useState(!1),[d,h]=T.useState(e.getSelectedLinkUrl()||""),[p,g]=T.useState(e.getSelectedText());bd(()=>{u(!1),g(e.getSelectedText()||""),h(e.getSelectedLinkUrl()||"")},e),T.useEffect(()=>{var v;const w=C=>{(C.ctrlKey||C.metaKey)&&C.key==="k"&&(u(!0),C.preventDefault())};return(v=e.prosemirrorView)==null||v.dom.addEventListener("keydown",w),()=>{var C;(C=e.prosemirrorView)==null||C.dom.removeEventListener("keydown",w)}},[(t=e.prosemirrorView)==null?void 0:t.dom]);const y=T.useCallback(v=>{e.createLink(v),e.focus()},[e]);return!T.useMemo(()=>{if(!i)return!1;for(const v of l)if(v.content===void 0)return!1;return!NM(e.prosemirrorState.selection)},[i,l,e.prosemirrorState.selection])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:x.jsxs(n.Generic.Popover.Root,{opened:a,children:[x.jsx(n.Generic.Popover.Trigger,{children:x.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:r.formatting_toolbar.link.tooltip,mainTooltip:r.formatting_toolbar.link.tooltip,secondaryTooltip:xs(r.formatting_toolbar.link.secondary_tooltip,r.generic.ctrl_shortcut),icon:x.jsx(uj,{}),onClick:()=>u(!0)})}),x.jsx(n.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:x.jsx(vj,{url:d,text:p,editLink:y,showTextField:!1})})]})},ise=()=>{const t=_t(),e=Je(),n=tt(),[r,i]=T.useState(),l=vi(n),a=T.useMemo(()=>{if(l.length!==1)return;const h=l[0];if(I1(h,n))return i(h.props.caption),h},[n,l]),u=T.useCallback(h=>{a&&h.key==="Enter"&&(h.preventDefault(),n.updateBlock(a,{props:{caption:r}}))},[r,n,a]),d=T.useCallback(h=>i(h.currentTarget.value),[]);return!a||B1(a,n)||!n.isEditable?null:x.jsxs(e.Generic.Popover.Root,{children:[x.jsx(e.Generic.Popover.Trigger,{children:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_caption.tooltip,mainTooltip:t.formatting_toolbar.file_caption.tooltip,icon:x.jsx(iL,{}),isSelected:a.props.caption!==""})}),x.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:x.jsx(e.Generic.Form.Root,{children:x.jsx(e.Generic.Form.TextInput,{name:"file-caption",icon:x.jsx(iL,{}),value:r||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_caption.input_placeholder,onKeyDown:u,onChange:d})})})]})},sse=()=>{const t=_t(),e=Je(),n=tt(),r=vi(n),i=T.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(I1(a,n))return a},[n,r]),l=T.useCallback(()=>{n.focus(),n.removeBlocks([i])},[n,i]);return!i||B1(i,n)||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_delete.tooltip[i.type]||t.formatting_toolbar.file_delete.tooltip.file,mainTooltip:t.formatting_toolbar.file_delete.tooltip[i.type]||t.formatting_toolbar.file_delete.tooltip.file,icon:x.jsx(Bie,{}),onClick:l})},lse=()=>{const t=_t(),e=Je(),n=tt(),[r,i]=T.useState(),l=vi(n),a=T.useMemo(()=>{if(l.length!==1)return;const h=l[0];if(I1(h,n))return i(h.props.name),h},[n,l]),u=T.useCallback(h=>{a&&h.key==="Enter"&&(h.preventDefault(),n.updateBlock(a,{props:{name:r}}))},[r,n,a]),d=T.useCallback(h=>i(h.currentTarget.value),[]);return!a||B1(a,n)||!n.isEditable?null:x.jsxs(e.Generic.Popover.Root,{children:[x.jsx(e.Generic.Popover.Trigger,{children:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_rename.tooltip[a.type]||t.formatting_toolbar.file_rename.tooltip.file,mainTooltip:t.formatting_toolbar.file_rename.tooltip[a.type]||t.formatting_toolbar.file_rename.tooltip.file,icon:x.jsx(oL,{})})}),x.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:x.jsx(e.Generic.Form.Root,{children:x.jsx(e.Generic.Form.TextInput,{name:"file-name",icon:x.jsx(oL,{}),value:r||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_rename.input_placeholder[a.type]||t.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:u,onChange:d})})})]})},ase=()=>{const t=_t(),e=Je(),n=tt(),r=vi(n),[i,l]=T.useState(!1);T.useEffect(()=>{l(!1)},[r]);const a=r.length===1?r[0]:void 0;return a===void 0||!I1(a,n)||!n.isEditable?null:x.jsxs(e.Generic.Popover.Root,{opened:i,position:"bottom",children:[x.jsx(e.Generic.Popover.Trigger,{children:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",onClick:()=>l(!i),isSelected:i,mainTooltip:t.formatting_toolbar.file_replace.tooltip[a.type]||t.formatting_toolbar.file_replace.tooltip.file,label:t.formatting_toolbar.file_replace.tooltip[a.type]||t.formatting_toolbar.file_replace.tooltip.file,icon:x.jsx(Die,{})})}),x.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:x.jsx(yj,{block:a})})]})},cse=()=>{const t=_t(),e=Je(),n=tt(),r=vi(n),[i,l]=T.useState(()=>n.canNestBlock());bd(()=>{l(n.canNestBlock())},n);const a=T.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!T.useMemo(()=>!r.find(u=>n.schema.blockSchema[u.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:a,isDisabled:!i,label:t.formatting_toolbar.nest.tooltip,mainTooltip:t.formatting_toolbar.nest.tooltip,secondaryTooltip:xs(t.formatting_toolbar.nest.secondary_tooltip,t.generic.ctrl_shortcut),icon:x.jsx(_ie,{})})},use=()=>{const t=_t(),e=Je(),n=tt(),r=vi(n),[i,l]=T.useState(()=>n.canUnnestBlock());bd(()=>{l(n.canUnnestBlock())},n);const a=T.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!T.useMemo(()=>!r.find(u=>n.schema.blockSchema[u.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:a,isDisabled:!i,label:t.formatting_toolbar.unnest.tooltip,mainTooltip:t.formatting_toolbar.unnest.tooltip,secondaryTooltip:xs(t.formatting_toolbar.unnest.secondary_tooltip,t.generic.ctrl_shortcut),icon:x.jsx(Cie,{})})},dse=t=>[{name:t.slash_menu.paragraph.title,type:"paragraph",icon:dN,isSelected:e=>e.type==="paragraph"},{name:t.slash_menu.heading.title,type:"heading",props:{level:1},icon:lj,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===1},{name:t.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:aj,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===2},{name:t.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:cj,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===3},{name:t.slash_menu.quote.title,type:"quote",icon:pj,isSelected:e=>e.type==="quote"},{name:t.slash_menu.bullet_list.title,type:"bulletListItem",icon:hj,isSelected:e=>e.type==="bulletListItem"},{name:t.slash_menu.numbered_list.title,type:"numberedListItem",icon:fj,isSelected:e=>e.type==="numberedListItem"},{name:t.slash_menu.check_list.title,type:"checkListItem",icon:dj,isSelected:e=>e.type==="checkListItem"}],fse=t=>{const e=Je(),n=_t(),r=tt(),i=vi(r),[l,a]=T.useState(r.getTextCursorPosition().block),u=T.useMemo(()=>(t.items||dse(n)).filter(p=>p.type in r.schema.blockSchema),[r,n,t.items]),d=T.useMemo(()=>u.find(p=>p.type===l.type)!==void 0,[l.type,u]),h=T.useMemo(()=>{const p=g=>{r.focus();for(const y of i)r.updateBlock(y,{type:g.type,props:g.props})};return u.map(g=>{const y=g.icon;return{text:g.name,icon:x.jsx(y,{size:16}),onClick:()=>p(g),isSelected:g.isSelected(l)}})},[l,u,r,i]);return bd(()=>{a(r.getTextCursorPosition().block)},r),!d||!r.isEditable?null:x.jsx(e.FormattingToolbar.Select,{className:"bn-select",items:h})},hse=()=>{const t=_t(),e=Je(),n=tt(),r=T.useCallback(()=>{var i;(i=n.comments)==null||i.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:x.jsx(sj,{}),onClick:r}):null},pse=()=>{const t=_t(),e=Je(),n=tt(),r=T.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:x.jsx(sj,{}),onClick:r})};function GM(t,e){try{const n=new URL(t,e);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const mse=()=>{const t=_t(),e=Je(),n=tt(),r=vi(n),i=T.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(I1(a,n))return a},[n,r]),l=T.useCallback(()=>{i&&i.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(i.props.url).then(a=>window.open(GM(a,window.location.href))):window.open(GM(i.props.url,window.location.href)))},[n,i]);return!i||B1(i,n)?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_download.tooltip[i.type]||t.formatting_toolbar.file_download.tooltip.file,mainTooltip:t.formatting_toolbar.file_download.tooltip[i.type]||t.formatting_toolbar.file_download.tooltip.file,icon:x.jsx(zie,{}),onClick:l})},gse=()=>{const t=_t(),e=Je(),n=tt(),r=vi(n),i=T.useMemo(()=>{if(r.length!==1)return;const a=r[0];if($ee(a,n))return a},[n,r]),l=T.useCallback(()=>{i&&n.updateBlock(i,{props:{showPreview:!i.props.showPreview}})},[n,i]);return!i||B1(i,n)||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:t.formatting_toolbar.file_preview_toggle.tooltip,icon:x.jsx(Oie,{}),isSelected:i.props.showPreview,onClick:l})},bse=()=>{const t=_t(),e=Je(),n=tt(),r=vi(n),i=T.useMemo(()=>{var a;if(r.length!==1)return;const u=r[0];if(u.type==="table")return(a=n.tableHandles)==null?void 0:a.getMergeDirection(u)},[n,r]),l=T.useCallback(()=>{var a;(a=n.tableHandles)==null||a.mergeCells()},[n]);return!n.isEditable||i===void 0||!n.settings.tables.splitCells?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:t.formatting_toolbar.table_cell_merge.tooltip,icon:i==="horizontal"?x.jsx(Eie,{}):x.jsx(Tie,{}),onClick:l})},yse={left:yie,center:gie,right:vie,justify:bie},B2=t=>{const e=Je(),n=_t(),r=tt(),i=vi(r),l=T.useMemo(()=>{var d;const h=i[0];if(RM("textAlignment",h,r))return h.props.textAlignment;if(h.type==="table"){const p=(d=r.tableHandles)==null?void 0:d.getCellSelection();if(!p)return;const g=p.cells.map(({row:v,col:w})=>ld(h.content.rows[v].cells[w]).props.textAlignment),y=g[0];if(g.every(v=>v===y))return y}},[r,i]),a=T.useCallback(d=>{var h;r.focus();for(const p of i)if(Qp("textAlignment",p.type,r))r.updateBlock(p,{props:{textAlignment:d}});else if(p.type==="table"){const g=(h=r.tableHandles)==null?void 0:h.getCellSelection();if(!g)continue;const y=p.content.rows.map(v=>({...v,cells:v.cells.map(w=>ld(w))}));g.cells.forEach(({row:v,col:w})=>{y[v].cells[w].props.textAlignment=d}),r.updateBlock(p,{type:"table",content:{...p.content,type:"tableContent",rows:y}}),r.setTextCursorPosition(p)}},[r,i]);if(!T.useMemo(()=>!!i.find(d=>"textAlignment"in d.props||d.type==="table"&&d.children),[i])||!r.isEditable)return null;const u=yse[t.textAlignment];return x.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${t.textAlignment.slice(0,1).toUpperCase()+t.textAlignment.slice(1)}`,onClick:()=>a(t.textAlignment),isSelected:l===t.textAlignment,label:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,icon:x.jsx(u,{})})},wj=t=>[x.jsx(fse,{items:t},"blockTypeSelect"),x.jsx(bse,{},"tableCellMergeButton"),x.jsx(ise,{},"fileCaptionButton"),x.jsx(ase,{},"replaceFileButton"),x.jsx(lse,{},"fileRenameButton"),x.jsx(sse,{},"fileDeleteButton"),x.jsx(mse,{},"fileDownloadButton"),x.jsx(gse,{},"filePreviewButton"),x.jsx(xw,{basicTextStyle:"bold"},"boldStyleButton"),x.jsx(xw,{basicTextStyle:"italic"},"italicStyleButton"),x.jsx(xw,{basicTextStyle:"underline"},"underlineStyleButton"),x.jsx(xw,{basicTextStyle:"strike"},"strikeStyleButton"),x.jsx(B2,{textAlignment:"left"},"textAlignLeftButton"),x.jsx(B2,{textAlignment:"center"},"textAlignCenterButton"),x.jsx(B2,{textAlignment:"right"},"textAlignRightButton"),x.jsx(nse,{},"colorStyleButton"),x.jsx(cse,{},"nestBlockButton"),x.jsx(use,{},"unnestBlockButton"),x.jsx(ose,{},"createLinkButton"),x.jsx(hse,{},"addCommentButton"),x.jsx(pse,{},"addTiptapCommentButton")],kj=t=>{const e=Je();return x.jsx(e.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:t.children||wj(t.blockTypeSelectItems)})},dL=t=>{switch(t){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},Cj=t=>{const e=T.useRef(null),n=tt(),[r,i]=T.useState(()=>{const y=n.getTextCursorPosition().block;return"textAlignment"in y.props?dL(y.props.textAlignment):"top-start"});bd(()=>{const y=n.getTextCursorPosition().block;"textAlignment"in y.props?i(dL(y.props.textAlignment)):i("top-start")},n);const l=Su(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:a,ref:u,style:d,getFloatingProps:h}=gd((l==null?void 0:l.show)||!1,(l==null?void 0:l.referencePos)||null,3e3,{placement:r,middleware:[Ta(10),Rp(),Zl()],onOpenChange:(y,v)=>{y||(n.formattingToolbar.closeMenu(),n.focus())},...t.floatingOptions}),p=T.useMemo(()=>hN([e,u]),[e,u]);if(!a||!l)return null;if(!l.show&&e.current)return x.jsx("div",{ref:p,style:d,dangerouslySetInnerHTML:{__html:e.current.innerHTML}});const g=t.formattingToolbar||kj;return x.jsx("div",{ref:p,style:d,...h(),children:x.jsx(g,{})})},vse=t=>{const e=Je(),n=_t();return x.jsx(e.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:t.deleteLink,icon:x.jsx(xie,{})})},wse=t=>{const e=Je(),n=_t();return x.jsxs(e.Generic.Popover.Root,{children:[x.jsx(e.Generic.Popover.Trigger,{children:x.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),x.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:x.jsx(vj,{...t})})]})},kse=t=>{const e=Je(),n=_t();return x.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(GM(t.url,window.location.href),"_blank")},icon:x.jsx($ie,{})})},Cse=t=>{const e=Je();return t.children?x.jsx(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",children:t.children}):x.jsxs(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:t.stopHideTimer,onMouseLeave:t.startHideTimer,children:[x.jsx(wse,{url:t.url,text:t.text,editLink:t.editLink}),x.jsx(kse,{url:t.url}),x.jsx(vse,{deleteLink:t.deleteLink})]})},_se=t=>{const e=tt(),n={deleteLink:e.linkToolbar.deleteLink,editLink:e.linkToolbar.editLink,startHideTimer:e.linkToolbar.startHideTimer,stopHideTimer:e.linkToolbar.stopHideTimer},r=Su(e.linkToolbar.onUpdate.bind(e.linkToolbar)),{isMounted:i,ref:l,style:a,getFloatingProps:u}=gd((r==null?void 0:r.show)||!1,(r==null?void 0:r.referencePos)||null,4e3,{placement:"top-start",middleware:[Ta(10),Zl()],onOpenChange:y=>{y||(e.linkToolbar.closeMenu(),e.focus())},...t.floatingOptions});if(!i||!r)return null;const{show:d,referencePos:h,...p}=r,g=t.linkToolbar||Cse;return x.jsx("div",{ref:l,style:a,...u(),children:x.jsx(g,{...p,...n})})};function Sse(t){return at({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(t)}const xse=t=>{const e=Je(),n=_t(),r=tt(),i=T.useCallback(()=>{const l=t.block.content;if(l!==void 0&&Array.isArray(l)&&l.length===0)r.setTextCursorPosition(t.block),r.openSuggestionMenu("/");else{const a=r.insertBlocks([{type:"paragraph"}],t.block,"after")[0];r.setTextCursorPosition(a),r.openSuggestionMenu("/")}},[r,t.block]);return x.jsx(e.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:x.jsx(Sse,{size:24,onClick:i,"data-test":"dragHandleAdd"})})};function _j(t){return at({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function Ese(t){return at({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}const Tse=t=>{const e=Je(),n=tt();return!Qp("textColor",t.block.type,n)&&!Qp("backgroundColor",t.block.type,n)?null:x.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[x.jsx(e.Generic.Menu.Trigger,{sub:!0,children:x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children})}),x.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:x.jsx(P_,{iconSize:18,text:Qp("textColor",t.block.type,n)&&RM("textColor",t.block,n)?{color:t.block.props.textColor,setColor:r=>n.updateBlock(t.block,{type:t.block.type,props:{textColor:r}})}:void 0,background:Qp("backgroundColor",t.block.type,n)&&RM("backgroundColor",t.block,n)?{color:t.block.props.backgroundColor,setColor:r=>n.updateBlock(t.block,{props:{backgroundColor:r}})}:void 0})})]})},Mse=t=>{const e=Je(),n=tt();return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([t.block]),children:t.children})},Ase=t=>{const e=Je(),n=tt();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!t.block.content.headerRows;return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=n.getBlock(t.block.id);i&&n.updateBlock(i,{...i,content:{...i.content,headerRows:r?void 0:1}})},children:t.children})},Rse=t=>{const e=Je(),n=tt();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!t.block.content.headerCols;return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{n.updateBlock(t.block,{type:"table",content:{...t.block.content,type:"tableContent",headerCols:r?void 0:1}})},children:t.children})},Nse=t=>{const e=Je(),n=_t();return x.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||x.jsxs(x.Fragment,{children:[x.jsx(Mse,{...t,children:n.drag_handle.delete_menuitem}),x.jsx(Tse,{...t,children:n.drag_handle.colors_menuitem}),x.jsx(Ase,{...t,children:n.drag_handle.header_row_menuitem}),x.jsx(Rse,{...t,children:n.drag_handle.header_column_menuitem})]})})},Ose=t=>{const e=Je(),n=_t(),r=t.dragHandleMenu||Nse;return x.jsxs(e.Generic.Menu.Root,{onOpenChange:i=>{i?t.freezeMenu():t.unfreezeMenu()},position:"left",children:[x.jsx(e.Generic.Menu.Trigger,{children:x.jsx(e.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:i=>t.blockDragStart(i,t.block),onDragEnd:t.blockDragEnd,className:"bn-button",icon:x.jsx(_j,{size:24,"data-test":"dragHandle"})})}),x.jsx(r,{block:t.block,children:t.children})]})},Dse=t=>{const e=Je(),n=T.useMemo(()=>{const r={"data-block-type":t.block.type};return t.block.type==="heading"&&(r["data-level"]=t.block.props.level.toString()),t.editor.schema.blockSchema[t.block.type].isFileBlock&&(t.block.props.url?r["data-url"]="true":r["data-url"]="false"),r},[t.block,t.editor.schema.blockSchema]);return x.jsx(e.SideMenu.Root,{className:"bn-side-menu",...n,children:t.children||x.jsxs(x.Fragment,{children:[x.jsx(xse,{...t}),x.jsx(Ose,{...t})]})})},Lse=t=>{const e=tt(),n={blockDragStart:e.sideMenu.blockDragStart,blockDragEnd:e.sideMenu.blockDragEnd,freezeMenu:e.sideMenu.freezeMenu,unfreezeMenu:e.sideMenu.unfreezeMenu},r=Su(e.sideMenu.onUpdate.bind(e.sideMenu)),{isMounted:i,ref:l,style:a,getFloatingProps:u}=gd((r==null?void 0:r.show)||!1,(r==null?void 0:r.referencePos)||null,1e3,{placement:"left-start",...t.floatingOptions});if(!i||!r)return null;const{show:d,referencePos:h,...p}=r,g=t.sideMenu||Dse;return x.jsx("div",{ref:l,style:a,...u(),children:x.jsx(g,{...p,...n,editor:e})})};async function Pse(t,e){return(await Une(t,e)).map(({id:n,onItemClick:r})=>({id:n,onItemClick:r,icon:n}))}function Ise(t){const e=Je(),n=_t(),{items:r,loadingState:i,selectedIndex:l,onItemClick:a,columns:u}=t,d=i==="loading-initial"||i==="loading"?x.jsx(e.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:u,children:n.suggestion_menu.loading}):null,h=T.useMemo(()=>{const p=[];for(let g=0;g<r.length;g++){const y=r[g];p.push(x.jsx(e.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:y,id:`bn-grid-suggestion-menu-item-${g}`,isSelected:g===l,onClick:()=>a==null?void 0:a(y)},y.id))}return p},[e,r,a,l]);return x.jsxs(e.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:u,className:"bn-grid-suggestion-menu",children:[d,h,h.length===0&&t.loadingState==="loaded"&&x.jsx(e.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:u,children:n.suggestion_menu.no_items_title})]})}function Sj(t,e,n,r=3){const i=T.useRef(0);T.useEffect(()=>{e!==void 0&&(t.length>0?i.current=e.length:e.length-i.current>r&&n())},[n,r,t.length,e])}function xj(t,e){const[n,r]=T.useState([]),[i,l]=T.useState(!1),a=T.useRef(),u=T.useRef();return T.useEffect(()=>{const d=t;a.current=t,l(!0),e(t).then(h=>{a.current===d&&(r(h),l(!1),u.current=d)})},[t,e]),{items:n||[],usedQuery:u.current,loadingState:u.current===void 0?"loading-initial":i?"loading":"loaded"}}function Bse(t,e,n,r,i){const[l,a]=T.useState(0),u=r!==void 0&&r>1;return T.useEffect(()=>{var d;const h=p=>(p.key==="ArrowLeft"&&(p.preventDefault(),n.length&&a((l-1+n.length)%n.length)),p.key==="ArrowRight"&&(p.preventDefault(),n.length&&a((l+1+n.length)%n.length)),p.key==="ArrowUp"?(p.preventDefault(),n.length&&a((l-r+n.length)%n.length),!0):p.key==="ArrowDown"?(p.preventDefault(),n.length&&a((l+r)%n.length),!0):p.key==="Enter"&&!p.isComposing?(p.preventDefault(),n.length&&(i==null||i(n[l])),!0):!1);return(d=t.domElement)==null||d.addEventListener("keydown",h,!0),()=>{var p;(p=t.domElement)==null||p.removeEventListener("keydown",h,!0)}},[t.domElement,n,l,i,r,u]),T.useEffect(()=>{a(0)},[e]),{selectedIndex:n.length===0?void 0:l}}function jse(t){const e=Ma().setContentEditableProps,n=tt(),{getItems:r,gridSuggestionMenuComponent:i,query:l,clearQuery:a,closeMenu:u,onItemClick:d,columns:h}=t,p=T.useCallback(C=>{u(),a(),d==null||d(C)},[d,u,a]),{items:g,usedQuery:y,loadingState:v}=xj(l,r);Sj(g,y,u);const{selectedIndex:w}=Bse(n,l,g,h,p);return T.useEffect(()=>(e(C=>({...C,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(C=>({...C,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),T.useEffect(()=>(e(C=>({...C,"aria-activedescendant":w?"bn-suggestion-menu-item-"+w:void 0})),()=>{e(C=>({...C,"aria-activedescendant":void 0}))}),[e,w]),x.jsx(i,{items:g,onItemClick:p,loadingState:v,selectedIndex:w,columns:h})}function zse(t){const e=tt(),{triggerCharacter:n,gridSuggestionMenuComponent:r,columns:i,minQueryLength:l,onItemClick:a,getItems:u,floatingOptions:d}=t,h=T.useMemo(()=>a||(A=>{A.onItemClick(e)}),[e,a]),p=T.useMemo(()=>u||(async A=>await Pse(e,A)),[e,u]),g={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},y=T.useCallback(A=>e.suggestionMenus.onUpdate(n,A),[e.suggestionMenus,n]),v=Su(y),{isMounted:w,ref:C,style:S,getFloatingProps:E}=gd((v==null?void 0:v.show)||!1,(v==null?void 0:v.referencePos)||null,2e3,{placement:"bottom-start",middleware:[Ta(10),Zl(),D_({apply({availableHeight:A,elements:N}){Object.assign(N.floating.style,{maxHeight:`${A-10}px`})}})],onOpenChange(A){A||e.suggestionMenus.closeMenu()},...d});return!w||!v||!(v!=null&&v.ignoreQueryLength)&&l&&(v.query.startsWith(" ")||v.query.length<l)?null:x.jsx("div",{ref:C,style:S,...E(),children:x.jsx(jse,{query:v.query,closeMenu:g.closeMenu,clearQuery:g.clearQuery,getItems:p,columns:i,gridSuggestionMenuComponent:r||Ise,onItemClick:h})})}function $se(t){const e=Je(),n=_t(),{items:r,loadingState:i,selectedIndex:l,onItemClick:a}=t,u=i==="loading-initial"||i==="loading"?x.jsx(e.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader",children:n.suggestion_menu.loading}):null,d=T.useMemo(()=>{let h;const p=[];for(let g=0;g<r.length;g++){const y=r[g];y.group!==h&&(h=y.group,p.push(x.jsx(e.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:h},h))),p.push(x.jsx(e.SuggestionMenu.Item,{className:"bn-suggestion-menu-item",item:y,id:`bn-suggestion-menu-item-${g}`,isSelected:g===l,onClick:()=>a==null?void 0:a(y)},y.title))}return p},[e,r,a,l]);return x.jsxs(e.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[d,d.length===0&&(t.loadingState==="loading"||t.loadingState==="loaded")&&x.jsx(e.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),u]})}function Hse(t,e,n,r){const[i,l]=T.useState(0);return T.useEffect(()=>{var a;const u=d=>d.key==="ArrowUp"?(d.preventDefault(),n.length&&l((i-1+n.length)%n.length),!0):d.key==="ArrowDown"?(d.preventDefault(),n.length&&l((i+1)%n.length),!0):d.key==="Enter"&&!d.isComposing?(d.preventDefault(),d.stopPropagation(),n.length&&(r==null||r(n[i])),!0):!1;return(a=t.domElement)==null||a.addEventListener("keydown",u,!0),()=>{var d;(d=t.domElement)==null||d.removeEventListener("keydown",u,!0)}},[t.domElement,n,i,r]),T.useEffect(()=>{l(0)},[e]),{selectedIndex:n.length===0?void 0:i}}function Vse(t){const e=Ma().setContentEditableProps,n=tt(),{getItems:r,suggestionMenuComponent:i,query:l,clearQuery:a,closeMenu:u,onItemClick:d}=t,h=T.useCallback(w=>{u(),a(),d==null||d(w)},[d,u,a]),{items:p,usedQuery:g,loadingState:y}=xj(l,r);Sj(p,g,u);const{selectedIndex:v}=Hse(n,l,p,h);return T.useEffect(()=>(e(w=>({...w,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(w=>({...w,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),T.useEffect(()=>(e(w=>({...w,"aria-activedescendant":v?"bn-suggestion-menu-item-"+v:void 0})),()=>{e(w=>({...w,"aria-activedescendant":void 0}))}),[e,v]),x.jsx(i,{items:p,onItemClick:h,loadingState:y,selectedIndex:v})}const Use={heading:lj,heading_2:aj,heading_3:cj,quote:pj,numbered_list:fj,bullet_list:hj,check_list:dj,paragraph:dN,table:Aie,image:mj,video:Nie,audio:gj,file:uN,emoji:Vie,code_block:kie};function Ej(t){return Vee(t).map(e=>{const n=Use[e.key];return{...e,icon:x.jsx(n,{size:18})}})}function Tj(t){const e=tt(),{triggerCharacter:n,suggestionMenuComponent:r,minQueryLength:i,onItemClick:l,getItems:a,floatingOptions:u}=t,d=T.useMemo(()=>l||(E=>{E.onItemClick(e)}),[e,l]),h=T.useMemo(()=>a||(async E=>n7(Ej(e),E)),[e,a]),p={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},g=T.useCallback(E=>e.suggestionMenus.onUpdate(n,E),[e.suggestionMenus,n]),y=Su(g),{isMounted:v,ref:w,style:C,getFloatingProps:S}=gd((y==null?void 0:y.show)||!1,(y==null?void 0:y.referencePos)||null,2e3,{placement:"bottom-start",middleware:[Ta(10),Zl({mainAxis:!0,crossAxis:!1}),Rp(),D_({apply({availableHeight:E,elements:A}){Object.assign(A.floating.style,{maxHeight:`${E-10}px`})}})],onOpenChange(E){E||e.suggestionMenus.closeMenu()},...u});return!v||!y||!(y!=null&&y.ignoreQueryLength)&&i&&(y.query.startsWith(" ")||y.query.length<i)?null:x.jsx("div",{ref:w,style:C,...S(),children:x.jsx(Vse,{query:y.query,closeMenu:p.closeMenu,clearQuery:p.clearQuery,getItems:h,suggestionMenuComponent:r||$se,onItemClick:d})})}const Fse=(t,e=.3)=>{const n=Math.floor(t)+e,r=Math.ceil(t)-e;return t>=n&&t<=r?Math.round(t):t<n?Math.floor(t):Math.ceil(t)},Gse=t=>{const e=Je(),n=T.useRef(!1),[r,i]=T.useState(),l=T.useCallback(u=>{t.onMouseDown(),i({originalContent:t.block.content,originalCroppedContent:{rows:t.editor.tableHandles.cropEmptyRowsOrColumns(t.block,t.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:t.orientation==="addOrRemoveColumns"?u.clientX:u.clientY}),n.current=!1,u.preventDefault()},[t]),a=T.useCallback(()=>{n.current||t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns(t.block,"columns",1):t.editor.tableHandles.addRowsOrColumns(t.block,"rows",1)}})},[t.block,t.orientation,t.editor]);return T.useEffect(()=>{const u=d=>{var h,p;if(!r)throw new Error("editingState is undefined");n.current=!0;const g=(t.orientation==="addOrRemoveColumns"?d.clientX:d.clientY)-r.startPos,y=t.orientation==="addOrRemoveColumns"?((h=r.originalCroppedContent.rows[0])==null?void 0:h.cells.length)??0:r.originalCroppedContent.rows.length,v=t.orientation==="addOrRemoveColumns"?((p=r.originalContent.rows[0])==null?void 0:p.cells.length)??0:r.originalContent.rows.length,w=t.orientation==="addOrRemoveColumns"?t.block.content.rows[0].cells.length:t.block.content.rows.length,C=v+Fse(g/(t.orientation==="addOrRemoveColumns"?VR:xee),.3);C>=y&&C>0&&C!==w&&(t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"columns",C-y):t.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"rows",C-y)}}),t.block.content&&t.editor.setTextCursorPosition(t.block))};return r&&window.addEventListener("mousemove",u),()=>{window.removeEventListener("mousemove",u)}},[r,t.block,t.editor,t.orientation]),T.useEffect(()=>{const u=t.onMouseUp,d=()=>{i(void 0),u()};return r&&window.addEventListener("mouseup",d),()=>{window.removeEventListener("mouseup",d)}},[r,t.onMouseUp]),x.jsx(e.TableHandle.ExtendButton,{className:er("bn-extend-button",t.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",r!==null?"bn-extend-button-editing":""),onClick:a,onMouseDown:l,children:t.children||x.jsx(Pie,{size:18,"data-test":"extendButton"})})},fL=t=>{const e=Je(),n=_t(),r=tt().tableHandles;return r?x.jsx(e.Generic.Menu.Item,{onClick:()=>{r.addRowOrColumn(t.index,t.orientation==="row"?{orientation:"row",side:t.side}:{orientation:"column",side:t.side})},children:n.table_handle[`add_${t.side}_menuitem`]}):null},qse=t=>{const e=Je(),n=_t(),r=tt().tableHandles;return r?x.jsx(e.Generic.Menu.Item,{onClick:()=>{r.removeRowOrColumn(t.index,t.orientation)},children:t.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},Wse=t=>{const e=Je(),n=_t(),r=tt(),i=r.tableHandles,l=T.useMemo(()=>!i||!t.block?[]:t.orientation==="row"?i.getCellsAtRowHandle(t.block,t.index):i.getCellsAtColumnHandle(t.block,t.index),[t.block,t.index,t.orientation,i]),a=(d,h)=>{const p=t.block.content.rows.map(g=>({...g,cells:g.cells.map(y=>ld(y))}));l.forEach(({row:g,col:y})=>{h==="text"?p[g].cells[y].props.textColor=d:p[g].cells[y].props.backgroundColor=d}),r.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:p}}),r.setTextCursorPosition(t.block)};if(!l||!l[0]||!i||r.settings.tables.cellTextColor===!1&&r.settings.tables.cellBackgroundColor===!1)return null;const u=ld(l[0].cell);return x.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[x.jsx(e.Generic.Menu.Trigger,{sub:!0,children:x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||n.drag_handle.colors_menuitem})}),x.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:x.jsx(P_,{iconSize:18,text:r.settings.tables.cellTextColor?{color:l.every(({cell:d})=>ad(d)&&d.props.textColor===u.props.textColor)?u.props.textColor:"default",setColor:d=>{a(d,"text")}}:void 0,background:r.settings.tables.cellBackgroundColor?{color:l.every(({cell:d})=>ad(d)&&d.props.backgroundColor===u.props.backgroundColor)?u.props.backgroundColor:"default",setColor:d=>a(d,"background")}:void 0})})]})},Kse=t=>{const e=Je(),n=_t(),r=tt();if(!r.tableHandles||t.index!==0||t.orientation!=="row"||!r.settings.tables.headers)return null;const i=!!t.block.content.headerRows;return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const l=r.getBlock(t.block.id);l&&r.updateBlock(l,{...l,content:{...l.content,headerRows:i?void 0:1}})},children:n.drag_handle.header_row_menuitem})},Zse=t=>{const e=Je(),n=_t(),r=tt();if(!r.tableHandles||t.index!==0||t.orientation!=="column"||!r.settings.tables.headers)return null;const i=!!t.block.content.headerCols;return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const l=r.getBlock(t.block.id);l&&r.updateBlock(l,{...l,content:{...l.content,headerCols:i?void 0:1}})},children:n.drag_handle.header_column_menuitem})},Xse=t=>{const e=Je();return x.jsx(e.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:t.children||x.jsxs(x.Fragment,{children:[x.jsx(qse,{orientation:t.orientation,block:t.block,index:t.index}),x.jsx(fL,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"above":"left"}),x.jsx(fL,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"below":"right"}),x.jsx(Kse,{orientation:t.orientation,block:t.block,index:t.index}),x.jsx(Zse,{orientation:t.orientation,block:t.block,index:t.index}),x.jsx(Wse,{orientation:t.orientation,block:t.block,index:t.index})]})})},Yse=t=>{const e=Je(),[n,r]=T.useState(!1),i=t.tableHandleMenu||Xse,l=T.useMemo(()=>{const a=t.editor.tableHandles;return!a||!t.block?!1:t.orientation==="column"?a.getCellsAtColumnHandle(t.block,t.index).every(({cell:u})=>kp(u)===1):a.getCellsAtRowHandle(t.block,t.index).every(({cell:u})=>f1(u)===1)},[t.block,t.editor.tableHandles,t.index,t.orientation]);return x.jsxs(e.Generic.Menu.Root,{onOpenChange:a=>{a?(t.freezeHandles(),t.hideOtherSide()):(t.unfreezeHandles(),t.showOtherSide(),t.editor.focus())},position:"right",children:[x.jsx(e.Generic.Menu.Trigger,{children:x.jsx(e.TableHandle.Root,{className:er("bn-table-handle",n?"bn-table-handle-dragging":"",l?"":"bn-table-handle-not-draggable"),draggable:l,onDragStart:a=>{r(!0),t.dragStart(a)},onDragEnd:()=>{t.dragEnd(),r(!1)},style:t.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:t.children||x.jsx(_j,{size:24,"data-test":"tableHandle"})})}),Ul.createPortal(x.jsx(i,{orientation:t.orientation,block:t.block,index:t.index}),t.menuContainer)]})};function hL(t,e,n){const{refs:r,update:i,context:l,floatingStyles:a}=Um({open:e,placement:t==="addOrRemoveColumns"?"right":"bottom",middleware:[D_({apply({rects:h,elements:p}){Object.assign(p.floating.style,t==="addOrRemoveColumns"?{height:`${h.reference.height}px`}:{width:`${h.reference.width}px`})}})]}),{isMounted:u,styles:d}=iN(l);return T.useEffect(()=>{i()},[n,i]),T.useEffect(()=>{n!==null&&r.setReference({getBoundingClientRect:()=>n})},[t,n,r]),T.useMemo(()=>({isMounted:u,ref:r.setFloating,style:{display:"flex",...d,...a}}),[a,u,r.setFloating,d])}function Qse(t,e,n){const r=hL("addOrRemoveRows",e,n),i=hL("addOrRemoveColumns",t,n);return T.useMemo(()=>({addOrRemoveRowsButton:r,addOrRemoveColumnsButton:i}),[i,r])}function Jse(t,e,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(e.x,n.mousePos,e.width,0):new DOMRect(e.x,t.y,e.width,t.height)}function ele(t,e,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,e.y,0,e.height):new DOMRect(t.x,e.y,t.width,e.height)}function tle(t){return new DOMRect(t.x,t.y,t.width,0)}function j2(t,e,n,r,i){const{refs:l,update:a,context:u,floatingStyles:d}=Um({open:e,placement:t==="row"?"left":t==="col"?"top":"bottom-end",middleware:[Ta(t==="row"?-10:t==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:h,styles:p}=iN(u);return T.useEffect(()=>{a()},[n,r,a]),T.useEffect(()=>{n===null||r===null||i&&t==="cell"||l.setReference({getBoundingClientRect:()=>(t==="row"?Jse:t==="col"?ele:tle)(n,r,i)})},[i,t,n,r,l]),T.useMemo(()=>({isMounted:h,ref:l.setFloating,style:{display:"flex",...p,...d}}),[d,h,l.setFloating,p])}function nle(t,e,n,r){const i=j2("row",t,e,n,r),l=j2("col",t,e,n,r),a=j2("cell",t,e,n,r);return T.useMemo(()=>({rowHandle:i,colHandle:l,cellHandle:a}),[l,i,a])}const rle=t=>{var e,n;const r=Je(),i=_t(),l=tt(),a=(d,h)=>{const p=t.block.content.rows.map(g=>({...g,cells:g.cells.map(y=>ld(y))}));h==="text"?p[t.rowIndex].cells[t.colIndex].props.textColor=d:p[t.rowIndex].cells[t.colIndex].props.backgroundColor=d,l.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:p}}),l.setTextCursorPosition(t.block)},u=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!u||l.settings.tables.cellTextColor===!1&&l.settings.tables.cellBackgroundColor===!1?null:x.jsxs(r.Generic.Menu.Root,{position:"right",sub:!0,children:[x.jsx(r.Generic.Menu.Trigger,{sub:!0,children:x.jsx(r.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||i.drag_handle.colors_menuitem})}),x.jsx(r.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:x.jsx(P_,{iconSize:18,text:l.settings.tables.cellTextColor?{color:ad(u)?u.props.textColor:"default",setColor:d=>a(d,"text")}:void 0,background:l.settings.tables.cellBackgroundColor?{color:ad(u)?u.props.backgroundColor:"default",setColor:d=>a(d,"background")}:void 0})})]})},ole=t=>{var e,n;const r=Je(),i=_t(),l=tt(),a=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!a||!ad(a)||f1(a)===1&&kp(a)===1||!l.settings.tables.splitCells?null:x.jsx(r.Generic.Menu.Item,{onClick:()=>{var u;(u=l.tableHandles)==null||u.splitCell({row:t.rowIndex,col:t.colIndex})},children:i.table_handle.split_cell_menuitem})},ile=t=>{const e=Je();return x.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||x.jsxs(x.Fragment,{children:[x.jsx(ole,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),x.jsx(rle,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex})]})})},sle=t=>{const e=Je(),n=t.tableCellMenu||ile;return!t.editor.settings.tables.splitCells&&!t.editor.settings.tables.cellBackgroundColor&&!t.editor.settings.tables.cellTextColor?null:x.jsxs(e.Generic.Menu.Root,{onOpenChange:r=>{r?t.freezeHandles():(t.unfreezeHandles(),t.editor.focus())},position:"right",children:[x.jsx(e.Generic.Menu.Trigger,{children:x.jsx(e.Generic.Menu.Button,{className:"bn-table-cell-handle",children:t.children||x.jsx(Ese,{size:12,"data-test":"tableCellHandle"})})}),Ul.createPortal(x.jsx(n,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),t.menuContainer)]})},lle=t=>{var e,n;const r=tt(),[i,l]=T.useState(null);if(!r.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const a={rowDragStart:r.tableHandles.rowDragStart,colDragStart:r.tableHandles.colDragStart,dragEnd:r.tableHandles.dragEnd,freezeHandles:r.tableHandles.freezeHandles,unfreezeHandles:r.tableHandles.unfreezeHandles},{freezeHandles:u,unfreezeHandles:d}=a,h=T.useCallback(()=>{u(),B(!0),N(!0)},[u]),p=T.useCallback(()=>{d(),B(!1),N(!1)},[d]),g=Su(r.tableHandles.onUpdate.bind(r.tableHandles)),y=T.useMemo(()=>{var Q,ie;return g!=null&&g.draggingState?{draggedCellOrientation:(Q=g==null?void 0:g.draggingState)==null?void 0:Q.draggedCellOrientation,mousePos:(ie=g==null?void 0:g.draggingState)==null?void 0:ie.mousePos}:void 0},[g==null?void 0:g.draggingState,(e=g==null?void 0:g.draggingState)==null?void 0:e.draggedCellOrientation,(n=g==null?void 0:g.draggingState)==null?void 0:n.mousePos]),{rowHandle:v,colHandle:w,cellHandle:C}=nle((g==null?void 0:g.show)||!1,(g==null?void 0:g.referencePosCell)||null,(g==null?void 0:g.referencePosTable)||null,y),{addOrRemoveColumnsButton:S,addOrRemoveRowsButton:E}=Qse((g==null?void 0:g.showAddOrRemoveColumnsButton)||!1,(g==null?void 0:g.showAddOrRemoveRowsButton)||!1,(g==null?void 0:g.referencePosTable)||null),[A,N]=T.useState(!1),[I,B]=T.useState(!1);if(!g)return null;const F=t.tableHandle||Yse,q=t.extendButton||Gse,Z=t.tableCellHandle||sle;return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:l}),x.jsxs(xoe,{root:g.widgetContainer,children:[!A&&i&&v.isMounted&&g.rowIndex!==void 0&&x.jsx("div",{ref:v.ref,style:v.style,children:x.jsx(F,{editor:r,orientation:"row",showOtherSide:()=>B(!1),hideOtherSide:()=>B(!0),index:g.rowIndex,block:g.block,dragStart:a.rowDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:i})}),!I&&i&&w.isMounted&&g.colIndex!==void 0&&x.jsx("div",{ref:w.ref,style:w.style,children:x.jsx(F,{editor:r,orientation:"column",showOtherSide:()=>N(!1),hideOtherSide:()=>N(!0),index:g.colIndex,block:g.block,dragStart:a.colDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:i})}),i&&C.isMounted&&g.colIndex!==void 0&&g.rowIndex!==void 0&&x.jsx("div",{ref:C.ref,style:C.style,children:x.jsx(Z,{editor:r,block:g.block,rowIndex:g.rowIndex,colIndex:g.colIndex,menuContainer:i,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles})}),x.jsx("div",{ref:E.ref,style:E.style,children:x.jsx(q,{editor:r,orientation:"addOrRemoveRows",block:g.block,onMouseDown:h,onMouseUp:p})}),x.jsx("div",{ref:S.ref,style:S.style,children:x.jsx(q,{editor:r,orientation:"addOrRemoveColumns",block:g.block,onMouseDown:h,onMouseUp:p})})]})]})};function ale(t){const e=tt();if(!e)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return x.jsxs(x.Fragment,{children:[t.formattingToolbar!==!1&&x.jsx(Cj,{}),t.linkToolbar!==!1&&x.jsx(_se,{}),t.slashMenu!==!1&&x.jsx(Tj,{triggerCharacter:"/"}),t.emojiPicker!==!1&&x.jsx(zse,{triggerCharacter:":",columns:10,minQueryLength:2}),t.sideMenu!==!1&&x.jsx(Lse,{}),e.filePanel&&t.filePanel!==!1&&x.jsx(Jie,{}),e.tableHandles&&t.tableHandles!==!1&&x.jsx(lle,{}),e.comments&&t.comments!==!1&&x.jsxs(x.Fragment,{children:[x.jsx(iie,{}),x.jsx(Xie,{})]})]})}const Mj=()=>{const t=T.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: dark)")},[]),e=T.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: light)")},[]),n=t==null?void 0:t.matches,r=e==null?void 0:e.matches,[i,l]=T.useState(n?"dark":r?"light":"no-preference");return T.useEffect(()=>{l(n?"dark":r?"light":"no-preference")},[n,r]),T.useEffect(()=>{if(typeof(t==null?void 0:t.addEventListener)=="function"){const a=({matches:d})=>d&&l("dark"),u=({matches:d})=>d&&l("light");return t==null||t.addEventListener("change",a),e==null||e.addEventListener("change",u),()=>{t==null||t.removeEventListener("change",a),e==null||e.removeEventListener("change",u)}}else{const a=()=>l(t.matches?"dark":e.matches?"light":"no-preference");return t==null||t.addEventListener("change",a),e==null||e.addEventListener("change",a),()=>{t==null||t.removeEventListener("change",a),e==null||e.removeEventListener("change",a)}}},[t,e]),i},Aj=T.createContext(void 0);function cle(){return T.useContext(Aj)}function ule(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Ul.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}const dle=({contentComponent:t})=>{const e=T.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return x.jsx(x.Fragment,{children:Object.values(e)})},fle=T.forwardRef((t,e)=>{const[n,r]=T.useState();return T.useImperativeHandle(e,()=>(i,l)=>{Ul.flushSync(()=>{r({node:i,container:l})}),r(void 0)},[]),x.jsx(x.Fragment,{children:n&&Ul.createPortal(n.node,n.container)})}),pL=()=>{};function hle(t,e){const{editor:n,className:r,theme:i,children:l,editable:a,onSelectionChange:u,onChange:d,formattingToolbar:h,linkToolbar:p,slashMenu:g,emojiPicker:y,sideMenu:v,filePanel:w,tableHandles:C,comments:S,autoFocus:E,renderEditor:A=!n.headless,...N}=t,[I,B]=T.useState(),F=Ma(),q=Mj(),Z=(F==null?void 0:F.colorSchemePreference)||q,Q=i||(Z==="dark"?"dark":"light");lN(d||pL,n),sN(u||pL,n),T.useEffect(()=>{n.isEditable=a!==!1},[a,n]);const ie=T.useCallback(we=>{n.elementRenderer=we},[n]),ke=T.useMemo(()=>({...F,editor:n,setContentEditableProps:B}),[F,n]),ue={formattingToolbar:h,linkToolbar:p,slashMenu:g,emojiPicker:y,sideMenu:v,filePanel:w,tableHandles:C,comments:S},xe={autoFocus:E,contentEditableProps:I};return x.jsx(nj.Provider,{value:ke,children:x.jsxs(Aj.Provider,{value:{editorProps:xe,defaultUIProps:ue},children:[x.jsx(fle,{ref:ie}),x.jsx(ple,{className:r,renderEditor:A,editorColorScheme:Q,ref:e,...N,children:l})]})})}const ple=lt.forwardRef(({className:t,renderEditor:e,editorColorScheme:n,children:r,...i},l)=>x.jsx("div",{className:er("bn-container",n,t),"data-color-scheme":n,...i,ref:l,children:e?x.jsx(gle,{children:r}):r})),mle=lt.forwardRef(hle),gle=t=>{const e=cle(),n=tt(),r=T.useMemo(()=>ule(),[]),i=T.useCallback(l=>{n.mount(l,r)},[n,r]);return x.jsxs(x.Fragment,{children:[x.jsx(dle,{contentComponent:r}),x.jsx(ble,{...e.editorProps,...t,mount:i}),x.jsx(ale,{...e.defaultUIProps}),t.children]})},ble=t=>{const{autoFocus:e,mount:n,contentEditableProps:r}=t;return x.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":e,ref:n,...r})};function mL(t,e){let n;const r=document.createElement("div");let i;if(e!=null&&e.elementRenderer)e.elementRenderer(t(d=>n=d||void 0),r);else{if(!(e!=null&&e.headless))throw new Error("elementRenderer not available, expected headless editor");i=eie.createRoot(r),Ul.flushSync(()=>{i.render(t(d=>n=d||void 0))})}if(!r.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n==null||n.setAttribute("data-tmp-find","true");const l=r.cloneNode(!0),a=l.firstElementChild,u=l.querySelector("[data-tmp-find]");return u==null||u.removeAttribute("data-tmp-find"),i==null||i.unmount(),{dom:a,contentDOM:u||void 0}}function z2(t){var e;return x.jsx(Foe,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(t.domAttributes||{}).filter(([n])=>n!=="class")),className:er("bn-block-content",((e=t.domAttributes)==null?void 0:e.class)||""),"data-content-type":t.blockType,...Object.fromEntries(Object.entries(t.blockProps).filter(([n,r])=>{const i=t.propSchema[n];return!IR.includes(n)&&r!==i.default}).map(([n,r])=>[hC(n),r])),"data-file-block":t.isFileBlock===!0||void 0,children:t.children})}function I_(t,e){const n=yi({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return L1(t.propSchema)},parseHTML(){return A6(t,e.parse)},renderHTML({HTMLAttributes:r}){const i=document.createElement("div");return fv({dom:i,contentDOM:t.content==="inline"?i:void 0},t.type,{},t.propSchema,t.isFileBlock,r)},addNodeView(){return r=>{const i=Zoe(l=>{var a;const u=this.options.editor,d=E6(l.getPos,u,this.editor,t.type),h=((a=this.options.domAttributes)==null?void 0:a.blockContent)||{},p=tj().nodeViewContentRef;if(!p)throw new Error("nodeViewContentRef is not set");const g=e.render;return x.jsx(z2,{blockType:d.type,blockProps:d.props,propSchema:t.propSchema,isFileBlock:t.isFileBlock,domAttributes:h,children:x.jsx(g,{block:d,editor:u,contentRef:p})})},{className:"bn-react-node-view-renderer"})(r);return t.isSelectable===!1&&M6(i,this.editor),i}}});return BR(t,{node:n,toInternalHTML:(r,i)=>{var l,a;const u=((l=n.options.domAttributes)==null?void 0:l.blockContent)||{},d=e.render,h=mL(p=>x.jsx(z2,{blockType:r.type,blockProps:r.props,propSchema:t.propSchema,domAttributes:u,children:x.jsx(d,{block:r,editor:i,contentRef:p})}),i);return(a=h.contentDOM)==null||a.setAttribute("data-editable",""),h},toExternalHTML:(r,i)=>{var l,a;const u=((l=n.options.domAttributes)==null?void 0:l.blockContent)||{},d=e.toExternalHTML||e.render,h=mL(p=>x.jsx(z2,{blockType:r.type,blockProps:r.props,propSchema:t.propSchema,domAttributes:u,children:x.jsx(d,{block:r,editor:i,contentRef:p})}),i);return(a=h.contentDOM)==null||a.setAttribute("data-editable",""),h}})}function pN(t){const e=tt(),[n,r]=T.useState("loading"),[i,l]=T.useState();if(T.useEffect(()=>{let a=!0;return(async()=>{let u="";r("loading");try{u=e.resolveFileUrl?await e.resolveFileUrl(t):t}catch{r("error");return}a&&(r("loaded"),l(u))})(),()=>{a=!1}},[e,t]),n!=="loaded")return{loadingState:n};if(!i)throw new Error("Finished fetching file but did not get download URL.");return{loadingState:n,downloadUrl:i}}const mN=t=>x.jsxs("figure",{children:[t.children,x.jsx("figcaption",{children:t.caption})]});function yle(t){const e=tt();T.useEffect(()=>e.onUploadEnd(t),[t,e])}function vle(t){const e=tt();T.useEffect(()=>e.onUploadStart(t),[t,e])}function Rj(t){const[e,n]=T.useState(!1);return vle(r=>{r===t&&n(!0)}),yle(r=>{r===t&&n(!1)}),e}const wle=t=>{const e=_t(),n=T.useCallback(i=>{i.preventDefault()},[]),r=T.useCallback(()=>{t.editor.dispatch(t.editor._tiptapEditor.state.tr.setMeta(t.editor.filePanel.plugin,{block:t.block}))},[t.block,t.editor]);return x.jsxs("div",{className:"bn-add-file-button",onMouseDown:n,onClick:r,children:[x.jsx("div",{className:"bn-add-file-button-icon",children:t.buttonIcon||x.jsx(uN,{size:24})}),x.jsx("div",{className:"bn-add-file-button-text",children:t.buttonText||e.file_blocks.file.add_button_text})]})},kle=t=>x.jsxs("div",{className:"bn-file-name-with-icon",contentEditable:!1,draggable:!1,children:[x.jsx("div",{className:"bn-file-icon",children:x.jsx(uN,{size:24})}),x.jsx("p",{className:"bn-file-name",children:t.block.props.name})]}),gN=t=>{const e=Rj(t.block.id);return x.jsx("div",{className:"bn-file-block-content-wrapper",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:t.style,children:e?x.jsx("div",{className:"bn-file-loading-preview",children:"Loading..."}):t.block.props.url===""?x.jsx(wle,{...t}):x.jsxs(x.Fragment,{children:[t.block.props.showPreview===!1||!t.children?x.jsx(kle,{...t}):t.children,t.block.props.caption&&x.jsx("p",{className:"bn-file-caption",children:t.block.props.caption})]})})},B_=t=>x.jsxs("div",{children:[t.children,x.jsx("p",{children:t.caption})]}),Cle=t=>{const e=pN(t.block.props.url);return x.jsx("audio",{className:"bn-audio",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},_le=t=>{if(!t.block.props.url)return x.jsx("p",{children:"Add audio"});const e=t.block.props.showPreview?x.jsx("audio",{src:t.block.props.url}):x.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?x.jsx(mN,{caption:t.block.props.caption,children:e}):x.jsx(B_,{caption:t.block.props.caption,children:e}):e},Sle=t=>x.jsx(gN,{...t,buttonText:t.editor.dictionary.file_blocks.audio.add_button_text,buttonIcon:x.jsx(gj,{size:24}),children:x.jsx(Cle,{...t})});I_(V6,{render:Sle,parse:U6,toExternalHTML:_le});const xle=t=>{if(!t.block.props.url)return x.jsx("p",{children:"Add file"});const e=x.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?x.jsx(B_,{caption:t.block.props.caption,children:e}):e},Ele=t=>x.jsx(gN,{...t});I_(F6,{render:Ele,parse:G6,toExternalHTML:xle});const Nj=t=>{const[e,n]=T.useState(void 0),[r,i]=T.useState(t.block.props.previewWidth),[l,a]=T.useState(!1),u=T.useRef(null);T.useEffect(()=>{const v=C=>{let S;t.block.props.textAlignment==="center"?e.handleUsed==="left"?S=e.initialWidth+(e.initialClientX-C.clientX)*2:S=e.initialWidth+(C.clientX-e.initialClientX)*2:e.handleUsed==="left"?S=e.initialWidth+e.initialClientX-C.clientX:S=e.initialWidth+C.clientX-e.initialClientX;const E=64;S<E?i(E):i(S)},w=()=>{n(void 0),t.editor.updateBlock(t.block,{props:{previewWidth:r}})};return e&&(window.addEventListener("mousemove",v),window.addEventListener("mouseup",w)),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",w)}},[t,e,r]);const d=T.useCallback(()=>{t.editor.isEditable&&a(!0)},[t.editor.isEditable]),h=T.useCallback(()=>{a(!1)},[]),p=T.useCallback(v=>{v.preventDefault(),n({handleUsed:"left",initialWidth:u.current.clientWidth,initialClientX:v.clientX})},[]),g=T.useCallback(v=>{v.preventDefault(),n({handleUsed:"right",initialWidth:u.current.clientWidth,initialClientX:v.clientX})},[]),y=Rj(t.block.id);return x.jsx(gN,{...t,onMouseEnter:d,onMouseLeave:h,style:t.block.props.url&&!y&&t.block.props.showPreview?{width:`${r}px`}:void 0,children:x.jsxs("div",{className:"bn-visual-media-wrapper",ref:u,children:[t.children,(l||e)&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"bn-resize-handle",style:{left:"4px"},onMouseDown:p}),x.jsx("div",{className:"bn-resize-handle",style:{right:"4px"},onMouseDown:g})]})]})})},Tle=t=>{const e=pN(t.block.props.url);return x.jsx("img",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,alt:t.block.props.caption||"BlockNote image",contentEditable:!1,draggable:!1})},Mle=t=>{if(!t.block.props.url)return x.jsx("p",{children:"Add image"});const e=t.block.props.showPreview?x.jsx("img",{src:t.block.props.url,alt:t.block.props.name||t.block.props.caption||"BlockNote image",width:t.block.props.previewWidth}):x.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?x.jsx(mN,{caption:t.block.props.caption,children:e}):x.jsx(B_,{caption:t.block.props.caption,children:e}):e},Ale=t=>x.jsx(Nj,{...t,buttonText:t.editor.dictionary.file_blocks.image.add_button_text,buttonIcon:x.jsx(mj,{size:24}),children:x.jsx(Tle,{...t})});I_(W6,{render:Ale,parse:K6,toExternalHTML:Mle});const Rle=t=>{const e=pN(t.block.props.url);return x.jsx("video",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},Nle=t=>{if(!t.block.props.url)return x.jsx("p",{children:"Add video"});const e=t.block.props.showPreview?x.jsx("video",{src:t.block.props.url}):x.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?x.jsx(mN,{caption:t.block.props.caption,children:e}):x.jsx(B_,{caption:t.block.props.caption,children:e}):e},Ole=t=>x.jsx(Nj,{...t,buttonText:t.editor.dictionary.file_blocks.video.add_button_text,buttonIcon:x.jsx(Lie,{size:24}),children:x.jsx(Rle,{...t})});I_(J6,{render:Ole,parse:e7,toExternalHTML:Nle});lt.memo(({thread:t,selectedThreadId:e,editor:n,maxCommentsBeforeCollapse:r,referenceText:i})=>{const l=T.useCallback(u=>{var d;u.target.closest(".bn-action-toolbar")||(d=n.comments)==null||d.selectThread(t.id)},[n.comments,t.id]),a=T.useCallback(u=>{var d;if(!u.relatedTarget||u.relatedTarget.closest(".bn-action-toolbar"))return;const h=u.target instanceof Node?u.target:null,p=u.relatedTarget instanceof Node?u.relatedTarget.closest(".bn-thread"):null;(!h||!p||!p.contains(h))&&((d=n.comments)==null||d.selectThread(void 0))},[n.comments]);return x.jsx(bj,{thread:t,selected:t.id===e,referenceText:i,maxCommentsBeforeCollapse:r,onFocus:l,onBlur:a,tabIndex:0})});function Oj(t,e){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.top<r.top,l=n.bottom>r.bottom;return i&&l?"both":i?"top":l?"bottom":"none"}function Dj(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,l=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)l.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return l}function Dle(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,l;r<i;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}function fa(t){return Object.keys(t)}function $2(t){return t&&typeof t=="object"&&!Array.isArray(t)}function bN(t,e){const n={...t},r=e;return $2(t)&&$2(e)&&Object.keys(e).forEach(i=>{$2(r[i])&&i in t?n[i]=bN(n[i],r[i]):n[i]=r[i]}),n}function Lle(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function Ple(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function Ile(t){const e=Ple(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function H2(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function Lj(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?H2(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(l=>n(l)).join(",");if(r.includes(" "))return r.split(" ").map(l=>n(l)).join(" ");if(r.includes(t))return e?H2(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const l=`${Number(i)/16}${t}`;return e?H2(l):l}}return r}return n}const be=Lj("rem",{shouldScale:!0}),gL=Lj("em");function j_(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function Pj(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(r=>e.test(r))}return!1}function $1(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==T.Fragment:!1}function z_(t){const e=T.createContext(null);return[({children:i,value:l})=>x.jsx(e.Provider,{value:l,children:i}),()=>{const i=T.useContext(e);if(i===null)throw new Error(t);return i}]}function yN(t=null){const e=T.createContext(t);return[({children:i,value:l})=>x.jsx(e.Provider,{value:l,children:i}),()=>T.useContext(e)]}function bL(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function kC(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function Ble(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function jle(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function zle(t,e,n){return kC(t,n)===kC(e,n)}function Ij({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:l="rtl",orientation:a}){return u=>{var w;n==null||n(u);const d=Array.from(((w=kC(u.currentTarget,t))==null?void 0:w.querySelectorAll(e))||[]).filter(C=>zle(u.currentTarget,C,t)),h=d.findIndex(C=>u.currentTarget===C),p=jle(h,d,r),g=Ble(h,d,r),y=l==="rtl"?g:p,v=l==="rtl"?p:g;switch(u.key){case"ArrowRight":{a==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[y].focus(),i&&d[y].click());break}case"ArrowLeft":{a==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[v].focus(),i&&d[v].click());break}case"ArrowUp":{a==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[g].focus(),i&&d[g].click());break}case"ArrowDown":{a==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[p].focus(),i&&d[p].click());break}case"Home":{u.stopPropagation(),u.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{u.stopPropagation(),u.preventDefault();const C=d.length-1;!d[C].disabled&&d[C].focus();break}}}}const $le={app:100,modal:200,popover:300,overlay:400,max:9999};function H1(t){return $le[t]}const Hle=()=>{};function Vle(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||Hle:n=>{var r;n.key==="Escape"&&(t(n),(r=e.onTrigger)==null||r.call(e))}}function xn(t,e="size",n=!0){if(t!==void 0)return Pj(t)?n?be(t):t:`var(--${e}-${t})`}function V1(t){return xn(t,"mantine-spacing")}function Eo(t){return t===void 0?"var(--mantine-radius-default)":xn(t,"mantine-radius")}function mi(t){return xn(t,"mantine-font-size")}function Ule(t){return xn(t,"mantine-line-height",!1)}function Bj(t){if(t)return xn(t,"mantine-shadow",!1)}function aa(t,e){return n=>{t==null||t(n),e==null||e(n)}}function Fle(t,e,n){var r;return n?Array.from(((r=kC(n,e))==null?void 0:r.querySelectorAll(t))||[]).findIndex(i=>i===n):null}function Gle(){const[t,e]=T.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function qle(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}const yL=["mousedown","touchstart"];function Wle(t,e,n){const r=T.useRef(null);return T.useEffect(()=>{const i=l=>{const{target:a}=l??{};if(Array.isArray(n)){const u=(a==null?void 0:a.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(a)&&a.tagName!=="HTML";n.every(h=>!!h&&!l.composedPath().includes(h))&&!u&&t()}else r.current&&!r.current.contains(a)&&t()};return(e||yL).forEach(l=>document.addEventListener(l,i)),()=>{(e||yL).forEach(l=>document.removeEventListener(l,i))}},[r,t,n]),r}function Kle(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function Zle(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function Xle(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=T.useState(n?e:Zle(t)),l=T.useRef(null);return T.useEffect(()=>{if("matchMedia"in window)return l.current=window.matchMedia(t),i(l.current.matches),Kle(l.current,a=>i(a.matches))},[t]),r}const $_=typeof document<"u"?T.useLayoutEffect:T.useEffect;function ud(t,e){const n=T.useRef(!1);T.useEffect(()=>()=>{n.current=!1},[]),T.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function Yle({opened:t,shouldReturnFocus:e=!0}){const n=T.useRef(null),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return ud(()=>{let i=-1;const l=a=>{a.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",l),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",l)}},[t,e]),r}const Qle=/input|select|textarea|button|object/,jj="a, input, select, textarea, button, object, [tabindex]";function Jle(t){return t.style.display==="none"}function eae(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(Jle(n))return!1;n=n.parentNode}return!0}function zj(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function qM(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(zj(t));return(Qle.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&eae(t)}function $j(t){const e=zj(t);return(Number.isNaN(e)||e>=0)&&qM(t)}function tae(t){return Array.from(t.querySelectorAll(jj)).filter($j)}function nae(t,e){const n=tae(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let l=r===i.activeElement||t===i.activeElement;const a=i.activeElement;if(a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(l=n.filter(p=>p.getAttribute("type")==="radio"&&p.getAttribute("name")===a.getAttribute("name")).includes(r)),!l)return;e.preventDefault();const d=n[e.shiftKey?n.length-1:0];d&&d.focus()}function Hj(t=!0){const e=T.useRef(null),n=i=>{let l=i.querySelector("[data-autofocus]");if(!l){const a=Array.from(i.querySelectorAll(jj));l=a.find($j)||a.find(qM)||null,!l&&qM(i)&&(l=i)}l&&l.focus({preventScroll:!0})},r=T.useCallback(i=>{t&&i!==null&&e.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),e.current=i):e.current=null)},[t]);return T.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const i=l=>{l.key==="Tab"&&e.current&&nae(e.current,l)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t]),r}const rae=lt.useId||(()=>{});function oae(){const t=rae();return t?`mantine-${t.replace(/:/g,"")}`:""}function U1(t){const e=oae(),[n,r]=T.useState(e);return $_(()=>{r(qle())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function CC(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function F1(...t){const e=new Map;return n=>{if(t.forEach(r=>{const i=CC(r,n);i&&e.set(r,i)}),e.size>0)return()=>{t.forEach(r=>{const i=e.get(r);i?i():CC(r,null)}),e.clear()}}}function xu(...t){return T.useCallback(F1(...t),t)}function Fm({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,l]=T.useState(e!==void 0?e:n),a=(u,...d)=>{l(u),r==null||r(u,...d)};return t!==void 0?[t,r,!0]:[i,a,!1]}function iae(t,e){return Xle("(prefers-reduced-motion: reduce)",t,e)}function sae(){const[t,e]=T.useState(!1),n=T.useRef(null),r=T.useCallback(()=>e(!0),[]),i=T.useCallback(()=>e(!1),[]);return T.useEffect(()=>{const l=n.current;if(l)return l.addEventListener("mouseenter",r),l.addEventListener("mouseleave",i),()=>{l==null||l.removeEventListener("mouseenter",r),l==null||l.removeEventListener("mouseleave",i)}},[n.current]),{ref:n,hovered:t}}function lae(t){return t.currentTarget instanceof HTMLElement&&t.relatedTarget instanceof HTMLElement?t.currentTarget.contains(t.relatedTarget):!1}function Vj({onBlur:t,onFocus:e}={}){const n=T.useRef(null),[r,i]=T.useState(!1),l=T.useRef(!1),a=h=>{i(h),l.current=h},u=h=>{l.current||(a(!0),e==null||e(h))},d=h=>{l.current&&!lae(h)&&(a(!1),t==null||t(h))};return T.useEffect(()=>{const h=n.current;if(h)return h.addEventListener("focusin",u),h.addEventListener("focusout",d),()=>{h==null||h.removeEventListener("focusin",u),h==null||h.removeEventListener("focusout",d)}},[u,d]),{ref:n,focused:r}}function vN(t){var n;const e=lt.version;return typeof lt.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}function Uj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Uj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Eu(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Uj(t))&&(r&&(r+=" "),r+=e);return r}const aae={};function cae(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=Eu(e[r],i):e[r]=i})}),e}function H_({theme:t,classNames:e,props:n,stylesCtx:r}){const l=(Array.isArray(e)?e:[e]).map(a=>typeof a=="function"?a(t,n,r):a||aae);return cae(l)}function _C({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((l,a)=>typeof a=="function"?{...l,...a(t,n,r)}:{...l,...a},{})}const Fj=T.createContext(null);function yd(){const t=T.useContext(Fj);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function uae(){return yd().cssVariablesResolver}function dae(){return yd().classNamesPrefix}function wN(){return yd().getStyleNonce}function fae(){return yd().withStaticClasses}function hae(){return yd().headless}function pae(){var t;return(t=yd().stylesTransform)==null?void 0:t.sx}function mae(){var t;return(t=yd().stylesTransform)==null?void 0:t.styles}function Gj(){return yd().env||"default"}function gae(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function bae(t){let e=t.replace("#","");if(e.length===3){const a=e.split("");e=[a[0],a[0],a[1],a[1],a[2],a[2]].join("")}if(e.length===8){const a=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,l=n&255;return{r,g:i,b:l,a:1}}function yae(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i||1}}function vae(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,l=parseInt(n[3],10)/100,a=n[5]?parseFloat(n[5]):void 0,u=(1-Math.abs(2*l-1))*i,d=r/60,h=u*(1-Math.abs(d%2-1)),p=l-u/2;let g,y,v;return d>=0&&d<1?(g=u,y=h,v=0):d>=1&&d<2?(g=h,y=u,v=0):d>=2&&d<3?(g=0,y=u,v=h):d>=3&&d<4?(g=0,y=h,v=u):d>=4&&d<5?(g=h,y=0,v=u):(g=u,y=0,v=h),{r:Math.round((g+p)*255),g:Math.round((y+p)*255),b:Math.round((v+p)*255),a:a||1}}function kN(t){return gae(t)?bae(t):t.startsWith("rgb")?yae(t):t.startsWith("hsl")?vae(t):{r:0,g:0,b:0,a:1}}function Ew(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:l}=kN(t),a=1-e,u=d=>Math.round(d*a);return`rgba(${u(n)}, ${u(r)}, ${u(i)}, ${l})`}function m1(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function V2(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function wae(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function kae(t){if(t.startsWith("oklch("))return(wae(t)||0)/100;const{r:e,g:n,b:r}=kN(t),i=e/255,l=n/255,a=r/255,u=V2(i),d=V2(l),h=V2(a);return .2126*u+.7152*d+.0722*h}function J0(t,e=.179){return t.startsWith("var(")?!1:kae(t)>e}function Gm({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:J0(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:J0(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:J0(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),l=i?Number(i):void 0,a=r in e.colors;if(a){const u=l!==void 0?e.colors[r][l]:e.colors[r][m1(e,n||"light")];return{color:r,value:u,shade:l,isThemeColor:a,isLight:J0(u,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${l}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:a,isLight:J0(t,e.luminanceThreshold),shade:l,variable:void 0}}function wa(t,e){const n=Gm({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function WM(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},r=wa(n.from,e),i=wa(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function ia(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const l=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${l}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=kN(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const zp=ia,Cae=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const l=Gm({color:t,theme:e}),a=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const u=a&&l.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return l.isThemeColor?l.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:u,border:`${be(1)} solid transparent`}:{background:`var(--mantine-color-${l.color}-${l.shade})`,hover:`var(--mantine-color-${l.color}-${l.shade===9?8:l.shade+1})`,color:u,border:`${be(1)} solid transparent`}:{background:t,hover:Ew(t,.1),color:u,border:`${be(1)} solid transparent`}}if(n==="light"){if(l.isThemeColor){if(l.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${be(1)} solid transparent`};const u=e.colors[l.color][l.shade];return{background:ia(u,.1),hover:ia(u,.12),color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${be(1)} solid transparent`}}return{background:ia(t,.1),hover:ia(t,.12),color:t,border:`${be(1)} solid transparent`}}if(n==="outline")return l.isThemeColor?l.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${be(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:ia(e.colors[l.color][l.shade],.05),color:`var(--mantine-color-${l.color}-${l.shade})`,border:`${be(1)} solid var(--mantine-color-${l.color}-${l.shade})`}:{background:"transparent",hover:ia(t,.05),color:t,border:`${be(1)} solid ${t}`};if(n==="subtle"){if(l.isThemeColor){if(l.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${be(1)} solid transparent`};const u=e.colors[l.color][l.shade];return{background:"transparent",hover:ia(u,.12),color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${be(1)} solid transparent`}}return{background:"transparent",hover:ia(t,.12),color:t,border:`${be(1)} solid transparent`}}return n==="transparent"?l.isThemeColor?l.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${be(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${be(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${be(1)} solid transparent`}:n==="white"?l.isThemeColor?l.shade===void 0?{background:"var(--mantine-color-white)",hover:Ew(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${be(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ew(e.white,.01),color:`var(--mantine-color-${l.color}-${l.shade})`,border:`${be(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ew(e.white,.01),color:t,border:`${be(1)} solid transparent`}:n==="gradient"?{background:WM(r,e),hover:WM(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${be(1)} solid var(--mantine-color-default-border)`}:{}},_ae={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},vL="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",CN={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:_ae,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Cae,autoContrast:!1,luminanceThreshold:.3,fontFamily:vL,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:vL,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:be(34),lineHeight:"1.3"},h2:{fontSize:be(26),lineHeight:"1.35"},h3:{fontSize:be(22),lineHeight:"1.4"},h4:{fontSize:be(18),lineHeight:"1.45"},h5:{fontSize:be(16),lineHeight:"1.5"},h6:{fontSize:be(14),lineHeight:"1.5"}}},fontSizes:{xs:be(12),sm:be(14),md:be(16),lg:be(18),xl:be(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:be(2),sm:be(4),md:be(8),lg:be(16),xl:be(32)},spacing:{xs:be(10),sm:be(12),md:be(16),lg:be(20),xl:be(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), 0 ${be(1)} ${be(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(10)} ${be(15)} ${be(-5)}, rgba(0, 0, 0, 0.04) 0 ${be(7)} ${be(7)} ${be(-5)}`,md:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(20)} ${be(25)} ${be(-5)}, rgba(0, 0, 0, 0.04) 0 ${be(10)} ${be(10)} ${be(-5)}`,lg:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(28)} ${be(23)} ${be(-7)}, rgba(0, 0, 0, 0.04) 0 ${be(12)} ${be(12)} ${be(-7)}`,xl:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(36)} ${be(28)} ${be(-7)}, rgba(0, 0, 0, 0.04) 0 ${be(17)} ${be(17)} ${be(-7)}`},other:{},components:{}};function wL(t){return t==="auto"||t==="dark"||t==="light"}function Sae({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return wL(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&wL(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const xae="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",kL="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function U2(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function CL(t){if(!(t.primaryColor in t.colors))throw new Error(xae);if(typeof t.primaryShade=="object"&&(!U2(t.primaryShade.dark)||!U2(t.primaryShade.light)))throw new Error(kL);if(typeof t.primaryShade=="number"&&!U2(t.primaryShade))throw new Error(kL)}function Eae(t,e){var r;if(!e)return CL(t),t;const n=bN(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),CL(n),n}const _N=T.createContext(null),Tae=()=>T.useContext(_N)||CN;function ys(){const t=T.useContext(_N);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function qj({theme:t,children:e,inherit:n=!0}){const r=Tae(),i=T.useMemo(()=>Eae(n?r:CN,t),[t,r,n]);return x.jsx(_N.Provider,{value:i,children:e})}qj.displayName="@mantine/core/MantineThemeProvider";function Mae(){const t=ys(),e=wN(),n=fa(t.breakpoints).reduce((r,i)=>{const l=t.breakpoints[i].includes("px"),a=Ile(t.breakpoints[i]),u=l?`${a-.1}px`:gL(a-.1),d=l?`${a}px`:gL(a);return`${r}@media (max-width: ${u}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return x.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function F2(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function ev(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function Aae(t,e){const n=F2(t.variables),r=n?ev(e,n):"",i=F2(t.dark),l=F2(t.light),a=i?ev(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,i):"",u=l?ev(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,l):"";return`${r}${a}${u}`}function Wj({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Gm({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function _L(t,e){return Wj({color:t.colors[t.primaryColor][m1(t,e)],theme:t,autoContrast:null})}function Tw({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const u=m1(t,"light"),d={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${u===9?8:u+1})`,[`--mantine-color-${r}-light`]:zp(t.colors[e][u],.1),[`--mantine-color-${r}-light-hover`]:zp(t.colors[e][u],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${u})`,[`--mantine-color-${r}-outline-hover`]:zp(t.colors[e][u],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...d}:d}const l=m1(t,"dark"),a={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${l})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${l===9?8:l+1})`,[`--mantine-color-${r}-light`]:zp(t.colors[e][Math.max(0,l-2)],.15),[`--mantine-color-${r}-light-hover`]:zp(t.colors[e][Math.max(0,l-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(l-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(l-4,0)})`,[`--mantine-color-${r}-outline-hover`]:zp(t.colors[e][Math.max(l-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...a}:a}function Rae(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function $p(t,e,n){fa(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const Kj=t=>{const e=m1(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:be(t.defaultRadius),r={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":_L(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":_L(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};$p(r.variables,t.breakpoints,"breakpoint"),$p(r.variables,t.spacing,"spacing"),$p(r.variables,t.fontSizes,"font-size"),$p(r.variables,t.lineHeights,"line-height"),$p(r.variables,t.shadows,"shadow"),$p(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((l,a)=>{r.variables[`--mantine-primary-color-${a}`]=`var(--mantine-color-${t.primaryColor}-${a})`}),fa(t.colors).forEach(l=>{const a=t.colors[l];if(Rae(a)){Object.assign(r.light,Tw({theme:t,name:a.name,color:a.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,Tw({theme:t,name:a.name,color:a.dark,colorScheme:"dark",withColorValues:!0}));return}a.forEach((u,d)=>{r.variables[`--mantine-color-${l}-${d}`]=u}),Object.assign(r.light,Tw({theme:t,color:l,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,Tw({theme:t,color:l,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return fa(i).forEach(l=>{r.variables[`--mantine-${l}-font-size`]=i[l].fontSize,r.variables[`--mantine-${l}-line-height`]=i[l].lineHeight,r.variables[`--mantine-${l}-font-weight`]=i[l].fontWeight||t.headings.fontWeight}),r};function Nae({theme:t,generator:e}){const n=Kj(t),r=e==null?void 0:e(t);return r?bN(n,r):n}const G2=Kj(CN);function Oae(t){const e={variables:{},light:{},dark:{}};return fa(t.variables).forEach(n=>{G2.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),fa(t.light).forEach(n=>{G2.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),fa(t.dark).forEach(n=>{G2.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function Dae(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Zj({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=ys(),r=wN(),i=uae(),l=Nae({theme:n,generator:i}),a=t===":root"&&e,u=a?Oae(l):l,d=Aae(u,t);return d?x.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${d}${a?"":Dae(t)}`}}):null}Zj.displayName="@mantine/CssVariables";function Lae(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Hp(t,e){var i,l;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),r=t!=="auto"?t:n?"dark":"light";(l=e())==null||l.setAttribute("data-mantine-color-scheme",r)}function Pae({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=T.useRef(null),[l,a]=T.useState(()=>t.get(e)),u=r||l,d=T.useCallback(p=>{r||(Hp(p,n),a(p),t.set(p))},[t.set,u,r]),h=T.useCallback(()=>{a(e),Hp(e,n),t.clear()},[t.clear,e]);return T.useEffect(()=>(t.subscribe(d),t.unsubscribe),[t.subscribe,t.unsubscribe]),$_(()=>{Hp(t.get(e),n)},[]),T.useEffect(()=>{var g;if(r)return Hp(r,n),()=>{};r===void 0&&Hp(l,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const p=y=>{l==="auto"&&Hp(y.matches?"dark":"light",n)};return(g=i.current)==null||g.addEventListener("change",p),()=>{var y;return(y=i.current)==null?void 0:y.removeEventListener("change",p)}},[l,r]),{colorScheme:u,setColorScheme:d,clearColorScheme:h}}function Iae({respectReducedMotion:t,getRootElement:e}){$_(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}Lae();function Xj({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:l=!0,withCssVariables:a=!0,cssVariablesSelector:u=":root",classNamesPrefix:d="mantine",colorSchemeManager:h=Sae(),defaultColorScheme:p="light",getRootElement:g=()=>document.documentElement,cssVariablesResolver:y,forceColorScheme:v,stylesTransform:w,env:C}){const{colorScheme:S,setColorScheme:E,clearColorScheme:A}=Pae({defaultColorScheme:p,forceColorScheme:v,manager:h,getRootElement:g});return Iae({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:g}),x.jsx(Fj.Provider,{value:{colorScheme:S,setColorScheme:E,clearColorScheme:A,getRootElement:g,classNamesPrefix:d,getStyleNonce:n,cssVariablesResolver:y,cssVariablesSelector:u,withStaticClasses:r,stylesTransform:w,env:C},children:x.jsxs(qj,{theme:t,children:[a&&x.jsx(Zj,{cssVariablesSelector:u,deduplicateCssVariables:l}),i&&x.jsx(Mae,{}),e]})})}Xj.displayName="@mantine/core/MantineProvider";function V_({classNames:t,styles:e,props:n,stylesCtx:r}){const i=ys();return{resolvedClassNames:H_({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:_C({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const Bae={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function jae({theme:t,options:e,unstyled:n}){return Eu((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||Bae[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function zae({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return H_({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:e})[t]}function SL({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return H_({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function $ae({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function Hae({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function Vae({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function Uae({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(l=>{var a,u;return(u=H_({theme:e,classNames:(a=e.components[l])==null?void 0:a.classNames,props:r,stylesCtx:i}))==null?void 0:u[n]})}function Fae({options:t,classes:e,selector:n,unstyled:r}){return t!=null&&t.variant&&!r?e[`${n}--${t.variant}`]:void 0}function Gae({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:l,classes:a,unstyled:u,className:d,rootSelector:h,props:p,stylesCtx:g,withStaticClasses:y,headless:v,transformedStyles:w}){return Eu(jae({theme:t,options:e,unstyled:u||v}),Uae({theme:t,themeName:n,selector:r,props:p,stylesCtx:g}),Fae({options:e,classes:a,selector:r,unstyled:u}),SL({selector:r,stylesCtx:g,theme:t,classNames:l,props:p}),SL({selector:r,stylesCtx:g,theme:t,classNames:w,props:p}),zae({selector:r,stylesCtx:g,options:e,props:p,theme:t}),$ae({rootSelector:h,selector:r,className:d}),Hae({selector:r,classes:a,unstyled:u||v}),y&&!v&&Vae({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function qae({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(l=>{var a;return _C({theme:t,styles:(a=t.components[l])==null?void 0:a.styles,props:n,stylesCtx:r})[i]}).reduce((l,a)=>({...l,...a}),{})}function KM({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...KM({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function Wae(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...j_(n[r])}}),e),{})}function Kae({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:l,themeName:a,headless:u}){var d;return(d=Wae([u?{}:e==null?void 0:e(n,r,i),...a.map(h=>{var p,g,y;return(y=(g=(p=n.components)==null?void 0:p[h])==null?void 0:g.vars)==null?void 0:y.call(g,n,r,i)}),t==null?void 0:t(n,r,i)]))==null?void 0:d[l]}function Zae({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:l,rootSelector:a,styles:u,style:d,vars:h,varsResolver:p,headless:g,withStylesTransform:y}){return{...!y&&qae({theme:t,themeName:e,props:i,stylesCtx:l,selector:n}),...!y&&_C({theme:t,styles:u,props:i,stylesCtx:l})[n],...!y&&_C({theme:t,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:l})[n],...Kae({theme:t,props:i,stylesCtx:l,vars:h,varsResolver:p,selector:n,themeName:e,headless:g}),...a===n?KM({style:d,theme:t}):null,...KM({style:r==null?void 0:r.style,theme:t})}}function Xae({props:t,stylesCtx:e,themeName:n}){var a;const r=ys(),i=(a=mae())==null?void 0:a();return{getTransformedStyles:u=>i?[...u.map(h=>i(h,{props:t,theme:r,ctx:e})),...n.map(h=>{var p;return i((p=r.components[h])==null?void 0:p.styles,{props:t,theme:r,ctx:e})})].filter(Boolean):[],withStylesTransform:!!i}}function Vt({name:t,classes:e,props:n,stylesCtx:r,className:i,style:l,rootSelector:a="root",unstyled:u,classNames:d,styles:h,vars:p,varsResolver:g}){const y=ys(),v=dae(),w=fae(),C=hae(),S=(Array.isArray(t)?t:[t]).filter(N=>N),{withStylesTransform:E,getTransformedStyles:A}=Xae({props:n,stylesCtx:r,themeName:S});return(N,I)=>({className:Gae({theme:y,options:I,themeName:S,selector:N,classNamesPrefix:v,classNames:d,classes:e,unstyled:u,className:i,rootSelector:a,props:n,stylesCtx:r,withStaticClasses:w,headless:C,transformedStyles:A([I==null?void 0:I.styles,h])}),style:Zae({theme:y,themeName:S,selector:N,options:I,props:n,stylesCtx:r,rootSelector:a,styles:h,style:l,vars:p,varsResolver:g,headless:C,withStylesTransform:E})})}function Yae(t,e){return typeof t=="boolean"?t:e.autoContrast}function He(t,e,n){var a;const r=ys(),i=(a=r.components[t])==null?void 0:a.defaultProps,l=typeof i=="function"?i(r):i;return{...e,...l,...j_(n)}}function q2(t){return fa(t).reduce((e,n)=>t[n]!==void 0?`${e}${Lle(n)}:${t[n]};`:e,"").trim()}function Qae({selector:t,styles:e,media:n,container:r}){const i=e?q2(e):"",l=Array.isArray(n)?n.map(u=>`@media${u.query}{${t}{${q2(u.styles)}}}`):[],a=Array.isArray(r)?r.map(u=>`@container ${u.query}{${t}{${q2(u.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${l.join("")}${a.join("")}`.trim()}function Yj(t){const e=wN();return x.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:Qae(t)}})}function U_(t){const{m:e,mx:n,my:r,mt:i,mb:l,ml:a,mr:u,me:d,ms:h,p,px:g,py:y,pt:v,pb:w,pl:C,pr:S,pe:E,ps:A,bd:N,bg:I,c:B,opacity:F,ff:q,fz:Z,fw:Q,lts:ie,ta:ke,lh:ue,fs:xe,tt:we,td:de,w:L,miw:H,maw:K,h:ee,mih:$,mah:Y,bgsz:te,bgp:re,bgr:Ee,bga:$e,pos:Ae,top:ft,left:ct,bottom:Ut,right:Jt,inset:ar,display:G,flex:X,hiddenFrom:ne,visibleFrom:me,lightHidden:fe,darkHidden:le,sx:Re,...Te}=t;return{styleProps:j_({m:e,mx:n,my:r,mt:i,mb:l,ml:a,mr:u,me:d,ms:h,p,px:g,py:y,pt:v,pb:w,pl:C,pr:S,pe:E,ps:A,bd:N,bg:I,c:B,opacity:F,ff:q,fz:Z,fw:Q,lts:ie,ta:ke,lh:ue,fs:xe,tt:we,td:de,w:L,miw:H,maw:K,h:ee,mih:$,mah:Y,bgsz:te,bgp:re,bgr:Ee,bga:$e,pos:Ae,top:ft,left:ct,bottom:Ut,right:Jt,inset:ar,display:G,flex:X,hiddenFrom:ne,visibleFrom:me,lightHidden:fe,darkHidden:le,sx:Re}),rest:Te}}const Jae={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function SN(t,e){const n=Gm({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function ece(t,e){const n=Gm({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:SN(t,e)}function tce(t,e){if(typeof t=="number")return be(t);if(typeof t=="string"){const[n,r,...i]=t.split(" ").filter(a=>a.trim()!=="");let l=`${be(n)}`;return r&&(l+=` ${r}`),i.length>0&&(l+=` ${SN(i.join(" "),e)}`),l.trim()}return t}const xL={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function nce(t){return typeof t=="string"&&t in xL?xL[t]:t}const rce=["h1","h2","h3","h4","h5","h6"];function oce(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&rce.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?be(t):t}function ice(t){return t}const sce=["h1","h2","h3","h4","h5","h6"];function lce(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&sce.includes(t)?`var(--mantine-${t}-line-height)`:t}function ace(t){return typeof t=="number"?be(t):t}function cce(t,e){if(typeof t=="number")return be(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return be(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const W2={color:SN,textColor:ece,fontSize:oce,spacing:cce,identity:ice,size:ace,lineHeight:lce,fontFamily:nce,border:tce};function EL(t){return t.replace("(min-width: ","").replace("em)","")}function uce({media:t,...e}){const r=Object.keys(t).sort((i,l)=>Number(EL(i))-Number(EL(l))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function dce(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function fce(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function hce(t){return typeof t=="object"&&t!==null?fa(t).filter(e=>e!=="base"):[]}function pce(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function Qj({styleProps:t,data:e,theme:n}){return uce(fa(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const l=e[i],a=Array.isArray(l.property)?l.property:[l.property],u=fce(t[i]);if(!dce(t[i]))return a.forEach(h=>{r.inlineStyles[h]=W2[l.type](u,n)}),r;r.hasResponsiveStyles=!0;const d=hce(t[i]);return a.forEach(h=>{u&&(r.styles[h]=W2[l.type](u,n)),d.forEach(p=>{const g=`(min-width: ${n.breakpoints[p]})`;r.media[g]={...r.media[g],[h]:W2[l.type](pce(t[i],p),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Jj(){return`__m__-${T.useId().replace(/:/g,"")}`}function e9(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...e9(r,e)}),{}):typeof t=="function"?t(e):t??{}}function t9(t){return t.startsWith("data-")?t:`data-${t}`}function mce(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[t9(n)]=t[n]),e},{})}function n9(t){return t?typeof t=="string"?{[t9(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...n9(n)}),{}):mce(t):null}function ZM(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...ZM(r,e)}),{}):typeof t=="function"?t(e):t??{}}function gce({theme:t,style:e,vars:n,styleProps:r}){const i=ZM(e,t),l=ZM(n,t);return{...i,...l,...r}}const r9=T.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:l,size:a,hiddenFrom:u,visibleFrom:d,lightHidden:h,darkHidden:p,renderRoot:g,__size:y,...v},w)=>{var Z;const C=ys(),S=t||"div",{styleProps:E,rest:A}=U_(v),N=pae(),I=(Z=N==null?void 0:N())==null?void 0:Z(E.sx),B=Jj(),F=Qj({styleProps:E,theme:C,data:Jae}),q={ref:w,style:gce({theme:C,style:e,vars:n,styleProps:F.inlineStyles}),className:Eu(r,I,{[B]:F.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":p,[`mantine-hidden-from-${u}`]:u,[`mantine-visible-from-${d}`]:d}),"data-variant":i,"data-size":Pj(a)?void 0:a||void 0,size:y,...n9(l),...A};return x.jsxs(x.Fragment,{children:[F.hasResponsiveStyles&&x.jsx(Yj,{selector:`.${B}`,styles:F.styles,media:F.media}),typeof g=="function"?g(q):x.jsx(S,{...q})]})});r9.displayName="@mantine/core/Box";const dt=r9;function o9(t){return t}function bce(t){const e=t;return n=>{const r=T.forwardRef((i,l)=>x.jsx(e,{...n,...i,ref:l}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r}}function Ft(t){const e=T.forwardRef(t);return e.extend=o9,e.withProps=n=>{const r=T.forwardRef((i,l)=>x.jsx(e,{...n,...i,ref:l}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e}function ri(t){const e=T.forwardRef(t);return e.withProps=n=>{const r=T.forwardRef((i,l)=>x.jsx(e,{...n,...i,ref:l}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e.extend=o9,e}const yce=T.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function G1(){return T.useContext(yce)}var i9={root:"m_87cf2631"};const vce={__staticSelector:"UnstyledButton"},Np=ri((t,e)=>{const n=He("UnstyledButton",vce,t),{className:r,component:i="button",__staticSelector:l,unstyled:a,classNames:u,styles:d,style:h,...p}=n,g=Vt({name:l,props:n,classes:i9,className:r,style:h,classNames:u,styles:d,unstyled:a});return x.jsx(dt,{...g("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...p})});Np.classes=i9;Np.displayName="@mantine/core/UnstyledButton";var s9={root:"m_515a97f8"};const wce={},xN=Ft((t,e)=>{const n=He("VisuallyHidden",wce,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,...h}=n,p=Vt({name:"VisuallyHidden",classes:s9,props:n,className:i,style:l,classNames:r,styles:a,unstyled:u});return x.jsx(dt,{component:"span",ref:e,...p("root"),...h})});xN.classes=s9;xN.displayName="@mantine/core/VisuallyHidden";var l9={root:"m_1b7284a3"};const kce={},Cce=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:Eo(e),"--paper-shadow":Bj(n)}}),EN=ri((t,e)=>{const n=He("Paper",kce,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,withBorder:d,vars:h,radius:p,shadow:g,variant:y,mod:v,...w}=n,C=Vt({name:"Paper",props:n,classes:l9,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:h,varsResolver:Cce});return x.jsx(dt,{ref:e,mod:[{"data-with-border":d},v],...C("root"),variant:y,...w})});EN.classes=l9;EN.displayName="@mantine/core/Paper";function a9(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}function TL(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function ML(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const _ce={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Sce({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:l,arrowY:a,dir:u}){const[d,h="center"]=t.split("-"),p={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[_ce[d]]:r},g=-e/2;return d==="left"?{...p,...TL(h,a,n,i),right:g,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...p,...TL(h,a,n,i),left:g,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...p,...ML(h,l,n,i,u),bottom:g,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...p,...ML(h,l,n,i,u),top:g,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const TN=T.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:l,arrowX:a,arrowY:u,style:d,...h},p)=>{const{dir:g}=G1();return l?x.jsx("div",{...h,ref:p,style:{...d,...Sce({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:g,arrowX:a,arrowY:u})}}):null});TN.displayName="@mantine/core/FloatingArrow";var c9={root:"m_9814e45f"};const xce={zIndex:H1("modal")},Ece=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:l,zIndex:a})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&ia(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${be(i)})`:void 0,"--overlay-radius":l===void 0?void 0:Eo(l),"--overlay-z-index":a==null?void 0:a.toString()}}),g1=ri((t,e)=>{const n=He("Overlay",xce,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,fixed:h,center:p,children:g,radius:y,zIndex:v,gradient:w,blur:C,color:S,backgroundOpacity:E,mod:A,...N}=n,I=Vt({name:"Overlay",props:n,classes:c9,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:Ece});return x.jsx(dt,{ref:e,...I("root"),mod:[{center:p,fixed:h},A],...N,children:g})});g1.classes=c9;g1.displayName="@mantine/core/Overlay";function K2(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function Tce({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||K2(n):t;if(e){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=K2(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return K2(n)}const Mce={},u9=Ft((t,e)=>{const{children:n,target:r,reuseTargetNode:i,...l}=He("Portal",Mce,t),[a,u]=T.useState(!1),d=T.useRef(null);return $_(()=>(u(!0),d.current=Tce({target:r,reuseTargetNode:i,...l}),CC(e,d.current),!r&&!i&&d.current&&document.body.appendChild(d.current),()=>{!r&&!i&&d.current&&document.body.removeChild(d.current)}),[r]),!a||!d.current?null:Ul.createPortal(x.jsx(x.Fragment,{children:n}),d.current)});u9.displayName="@mantine/core/Portal";const q1=Ft(({withinPortal:t=!0,children:e,...n},r)=>Gj()==="test"||!t?x.jsx(x.Fragment,{children:e}):x.jsx(u9,{ref:r,...n,children:e}));q1.displayName="@mantine/core/OptionalPortal";const tv=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Mw={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...tv("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...tv("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...tv("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...tv("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...tv("top"),common:{transformOrigin:"top right"}}},AL={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Ace({transition:t,state:e,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in Mw?{transitionProperty:Mw[t].transitionProperty,...i,...Mw[t].common,...Mw[t][AL[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[AL[e]]}}function Rce({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:l,onEntered:a,onExited:u,enterDelay:d,exitDelay:h}){const p=ys(),g=iae(),y=p.respectReducedMotion?g:!1,[v,w]=T.useState(y?0:t),[C,S]=T.useState(r?"entered":"exited"),E=T.useRef(-1),A=T.useRef(-1),N=T.useRef(-1),I=F=>{const q=F?i:l,Z=F?a:u;window.clearTimeout(E.current);const Q=y?0:F?t:e;w(Q),Q===0?(typeof q=="function"&&q(),typeof Z=="function"&&Z(),S(F?"entered":"exited")):N.current=requestAnimationFrame(()=>{OA.flushSync(()=>{S(F?"pre-entering":"pre-exiting")}),N.current=requestAnimationFrame(()=>{typeof q=="function"&&q(),S(F?"entering":"exiting"),E.current=window.setTimeout(()=>{typeof Z=="function"&&Z(),S(F?"entered":"exited")},Q)})})},B=F=>{if(window.clearTimeout(A.current),typeof(F?d:h)!="number"){I(F);return}A.current=window.setTimeout(()=>{I(F)},F?d:h)};return ud(()=>{B(r)},[r]),T.useEffect(()=>()=>{window.clearTimeout(E.current),cancelAnimationFrame(N.current)},[]),{transitionDuration:v,transitionStatus:C,transitionTimingFunction:n||"ease"}}function Op({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:l,timingFunction:a="ease",onExit:u,onEntered:d,onEnter:h,onExited:p,enterDelay:g,exitDelay:y}){const v=Gj(),{transitionDuration:w,transitionStatus:C,transitionTimingFunction:S}=Rce({mounted:i,exitDuration:r,duration:n,timingFunction:a,onExit:u,onEntered:d,onEnter:h,onExited:p,enterDelay:g,exitDelay:y});return w===0||v==="test"?i?x.jsx(x.Fragment,{children:l({})}):t?l({display:"none"}):null:C==="exited"?t?l({display:"none"}):null:x.jsx(x.Fragment,{children:l(Ace({transition:e,duration:w,state:C,timingFunction:S}))})}Op.displayName="@mantine/core/Transition";const[Nce,d9]=z_("Popover component was not found in the tree");function MN({children:t,active:e=!0,refProp:n="ref",innerRef:r}){const i=Hj(e),l=xu(i,r);return $1(t)?T.cloneElement(t,{[n]:l}):t}function f9(t){return x.jsx(xN,{tabIndex:-1,"data-autofocus":!0,...t})}MN.displayName="@mantine/core/FocusTrap";f9.displayName="@mantine/core/FocusTrapInitialFocus";MN.InitialFocus=f9;var h9={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const Oce={},F_=Ft((t,e)=>{var S,E,A,N;const n=He("PopoverDropdown",Oce,t),{className:r,style:i,vars:l,children:a,onKeyDownCapture:u,variant:d,classNames:h,styles:p,...g}=n,y=d9(),v=Yle({opened:y.opened,shouldReturnFocus:y.returnFocus}),w=y.withRoles?{"aria-labelledby":y.getTargetId(),id:y.getDropdownId(),role:"dialog",tabIndex:-1}:{},C=xu(e,y.floating);return y.disabled?null:x.jsx(q1,{...y.portalProps,withinPortal:y.withinPortal,children:x.jsx(Op,{mounted:y.opened,...y.transitionProps,transition:((S=y.transitionProps)==null?void 0:S.transition)||"fade",duration:((E=y.transitionProps)==null?void 0:E.duration)??150,keepMounted:y.keepMounted,exitDuration:typeof((A=y.transitionProps)==null?void 0:A.exitDuration)=="number"?y.transitionProps.exitDuration:(N=y.transitionProps)==null?void 0:N.duration,children:I=>x.jsx(MN,{active:y.trapFocus&&y.opened,innerRef:C,children:x.jsxs(dt,{...w,...g,variant:d,onKeyDownCapture:Vle(()=>{var B,F;(B=y.onClose)==null||B.call(y),(F=y.onDismiss)==null||F.call(y)},{active:y.closeOnEscape,onTrigger:v,onKeyDown:u}),"data-position":y.placement,"data-fixed":y.floatingStrategy==="fixed"||void 0,...y.getStyles("dropdown",{className:r,props:n,classNames:h,styles:p,style:[{...I,zIndex:y.zIndex,top:y.y??0,left:y.x??0,width:y.width==="target"?void 0:be(y.width)},y.resolvedStyles.dropdown,p==null?void 0:p.dropdown,i]}),children:[a,x.jsx(TN,{ref:y.arrowRef,arrowX:y.arrowX,arrowY:y.arrowY,visible:y.withArrow,position:y.placement,arrowSize:y.arrowSize,arrowRadius:y.arrowRadius,arrowOffset:y.arrowOffset,arrowPosition:y.arrowPosition,...y.getStyles("arrow",{props:n,classNames:h,styles:p})})]})})})})});F_.classes=h9;F_.displayName="@mantine/core/PopoverDropdown";const Dce={refProp:"ref",popupType:"dialog"},AN=Ft((t,e)=>{const{children:n,refProp:r,popupType:i,...l}=He("PopoverTarget",Dce,t);if(!$1(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=l,u=d9(),d=xu(u.reference,vN(n),e),h=u.withRoles?{"aria-haspopup":i,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return T.cloneElement(n,{...a,...h,...u.targetProps,className:Eu(u.targetProps.className,a.className,n.props.className),[r]:d,...u.controlled?null:{onClick:u.onToggle}})});AN.displayName="@mantine/core/PopoverTarget";function p9({opened:t,floating:e,position:n,positionDependencies:r}){const[i,l]=T.useState(0);T.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return Qre(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,n]),ud(()=>{e.update()},r),ud(()=>{l(a=>a+1)},[t])}function Lce(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function Pce(t,e){const n=Lce(t.middlewares),r=[Ta(t.offset)];return n.shift&&r.push(Rp(typeof n.shift=="boolean"?{limiter:jD(),padding:5}:{limiter:jD(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?Zl():Zl(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?Dv():Dv(n.inline)),r.push(U7({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&r.push(D_({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:l,availableHeight:a,...u}){var p;const h=((p=e().refs.floating.current)==null?void 0:p.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:l,availableHeight:a,...u}):Object.assign(h,{maxWidth:`${l}px`,maxHeight:`${a}px`})),t.width==="target"&&Object.assign(h,{width:`${i.reference.width}px`})}})),r}function Ice(t){const[e,n]=Fm({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=T.useRef(e),i=()=>{e&&n(!1)},l=()=>n(!e),a=Um({strategy:t.strategy,placement:t.position,middleware:Pce(t,()=>a)});return p9({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:a}),ud(()=>{var u;(u=t.onPositionChange)==null||u.call(t,a.placement)},[a.placement]),ud(()=>{var u,d;e!==r.current&&(e?(d=t.onOpen)==null||d.call(t):(u=t.onClose)==null||u.call(t)),r.current=e},[e,t.onClose,t.onOpen]),{floating:a,controlled:typeof t.opened=="boolean",opened:e,onClose:i,onToggle:l}}const Bce={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:H1("popover"),__staticSelector:"Popover",width:"max-content"},jce=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:Eo(e),"--popover-shadow":Bj(n)}});function vd(t){var nt,it,We,ot,mt,Wn;const e=He("Popover",Bce,t),{children:n,position:r,offset:i,onPositionChange:l,positionDependencies:a,opened:u,transitionProps:d,onExitTransitionEnd:h,onEnterTransitionEnd:p,width:g,middlewares:y,withArrow:v,arrowSize:w,arrowOffset:C,arrowRadius:S,arrowPosition:E,unstyled:A,classNames:N,styles:I,closeOnClickOutside:B,withinPortal:F,portalProps:q,closeOnEscape:Z,clickOutsideEvents:Q,trapFocus:ie,onClose:ke,onDismiss:ue,onOpen:xe,onChange:we,zIndex:de,radius:L,shadow:H,id:K,defaultOpened:ee,__staticSelector:$,withRoles:Y,disabled:te,returnFocus:re,variant:Ee,keepMounted:$e,vars:Ae,floatingStrategy:ft,withOverlay:ct,overlayProps:Ut,...Jt}=e,ar=Vt({name:$,props:e,classes:h9,classNames:N,styles:I,unstyled:A,rootSelector:"dropdown",vars:Ae,varsResolver:jce}),{resolvedStyles:G}=V_({classNames:N,styles:I,props:e}),X=T.useRef(null),[ne,me]=T.useState(null),[fe,le]=T.useState(null),{dir:Re}=G1(),Te=U1(K),pe=Ice({middlewares:y,width:g,position:a9(Re,r),offset:typeof i=="number"?i+(v?w/2:0):i,arrowRef:X,arrowOffset:C,onPositionChange:l,positionDependencies:a,opened:u,defaultOpened:ee,onChange:we,onOpen:xe,onClose:ke,onDismiss:ue,strategy:ft});Wle(()=>{B&&(pe.onClose(),ue==null||ue())},Q,[ne,fe]);const he=T.useCallback(cn=>{me(cn),pe.floating.refs.setReference(cn)},[pe.floating.refs.setReference]),Ye=T.useCallback(cn=>{le(cn),pe.floating.refs.setFloating(cn)},[pe.floating.refs.setFloating]),Oe=T.useCallback(()=>{var cn;(cn=d==null?void 0:d.onExited)==null||cn.call(d),h==null||h()},[d==null?void 0:d.onExited,h]),qe=T.useCallback(()=>{var cn;(cn=d==null?void 0:d.onEntered)==null||cn.call(d),p==null||p()},[d==null?void 0:d.onEntered,p]);return x.jsxs(Nce,{value:{returnFocus:re,disabled:te,controlled:pe.controlled,reference:he,floating:Ye,x:pe.floating.x,y:pe.floating.y,arrowX:(We=(it=(nt=pe.floating)==null?void 0:nt.middlewareData)==null?void 0:it.arrow)==null?void 0:We.x,arrowY:(Wn=(mt=(ot=pe.floating)==null?void 0:ot.middlewareData)==null?void 0:mt.arrow)==null?void 0:Wn.y,opened:pe.opened,arrowRef:X,transitionProps:{...d,onExited:Oe,onEntered:qe},width:g,withArrow:v,arrowSize:w,arrowOffset:C,arrowRadius:S,arrowPosition:E,placement:pe.floating.placement,trapFocus:ie,withinPortal:F,portalProps:q,zIndex:de,radius:L,shadow:H,closeOnEscape:Z,onDismiss:ue,onClose:pe.onClose,onToggle:pe.onToggle,getTargetId:()=>`${Te}-target`,getDropdownId:()=>`${Te}-dropdown`,withRoles:Y,targetProps:Jt,__staticSelector:$,classNames:N,styles:I,unstyled:A,variant:Ee,keepMounted:$e,getStyles:ar,resolvedStyles:G,floatingStrategy:ft},children:[n,ct&&x.jsx(Op,{transition:"fade",mounted:pe.opened,duration:(d==null?void 0:d.duration)||250,exitDuration:(d==null?void 0:d.exitDuration)||250,children:cn=>x.jsx(q1,{withinPortal:F,children:x.jsx(g1,{...Ut,...ar("overlay",{className:Ut==null?void 0:Ut.className,style:[cn,Ut==null?void 0:Ut.style]})})})})]})}vd.Target=AN;vd.Dropdown=F_;vd.displayName="@mantine/core/Popover";vd.extend=t=>t;var zl={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const m9=T.forwardRef(({className:t,...e},n)=>x.jsxs(dt,{component:"span",className:Eu(zl.barsLoader,t),...e,ref:n,children:[x.jsx("span",{className:zl.bar}),x.jsx("span",{className:zl.bar}),x.jsx("span",{className:zl.bar})]}));m9.displayName="@mantine/core/Bars";const g9=T.forwardRef(({className:t,...e},n)=>x.jsxs(dt,{component:"span",className:Eu(zl.dotsLoader,t),...e,ref:n,children:[x.jsx("span",{className:zl.dot}),x.jsx("span",{className:zl.dot}),x.jsx("span",{className:zl.dot})]}));g9.displayName="@mantine/core/Dots";const b9=T.forwardRef(({className:t,...e},n)=>x.jsx(dt,{component:"span",className:Eu(zl.ovalLoader,t),...e,ref:n}));b9.displayName="@mantine/core/Oval";const y9={bars:m9,oval:b9,dots:g9},zce={loaders:y9,type:"oval"},$ce=(t,{size:e,color:n})=>({root:{"--loader-size":xn(e,"loader-size"),"--loader-color":n?wa(n,t):void 0}}),wd=Ft((t,e)=>{const n=He("Loader",zce,t),{size:r,color:i,type:l,vars:a,className:u,style:d,classNames:h,styles:p,unstyled:g,loaders:y,variant:v,children:w,...C}=n,S=Vt({name:"Loader",props:n,classes:zl,className:u,style:d,classNames:h,styles:p,unstyled:g,vars:a,varsResolver:$ce});return w?x.jsx(dt,{...S("root"),ref:e,...C,children:w}):x.jsx(dt,{...S("root"),ref:e,component:y[l],variant:v,size:r,...C})});wd.defaultLoaders=y9;wd.classes=zl;wd.displayName="@mantine/core/Loader";var qm={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const RL={orientation:"horizontal"},Hce=(t,{borderWidth:e})=>({group:{"--ai-border-width":be(e)}}),RN=Ft((t,e)=>{const n=He("ActionIconGroup",RL,t),{className:r,style:i,classNames:l,styles:a,unstyled:u,orientation:d,vars:h,borderWidth:p,variant:g,mod:y,...v}=He("ActionIconGroup",RL,t),w=Vt({name:"ActionIconGroup",props:n,classes:qm,className:r,style:i,classNames:l,styles:a,unstyled:u,vars:h,varsResolver:Hce,rootSelector:"group"});return x.jsx(dt,{...w("group"),ref:e,variant:g,mod:[{"data-orientation":d},y],role:"group",...v})});RN.classes=qm;RN.displayName="@mantine/core/ActionIconGroup";const NL={},Vce=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:l,size:a})=>{const u=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:l});return{groupSection:{"--section-height":xn(a,"section-height"),"--section-padding-x":xn(a,"section-padding-x"),"--section-fz":mi(a),"--section-radius":e===void 0?void 0:Eo(e),"--section-bg":n||i?u.background:void 0,"--section-color":u.color,"--section-bd":n||i?u.border:void 0}}},NN=Ft((t,e)=>{const n=He("ActionIconGroupSection",NL,t),{className:r,style:i,classNames:l,styles:a,unstyled:u,vars:d,variant:h,gradient:p,radius:g,autoContrast:y,...v}=He("ActionIconGroupSection",NL,t),w=Vt({name:"ActionIconGroupSection",props:n,classes:qm,className:r,style:i,classNames:l,styles:a,unstyled:u,vars:d,varsResolver:Vce,rootSelector:"groupSection"});return x.jsx(dt,{...w("groupSection"),ref:e,variant:h,...v})});NN.classes=qm;NN.displayName="@mantine/core/ActionIconGroupSection";const Uce={},Fce=(t,{size:e,radius:n,variant:r,gradient:i,color:l,autoContrast:a})=>{const u=t.variantColorResolver({color:l||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:a});return{root:{"--ai-size":xn(e,"ai-size"),"--ai-radius":n===void 0?void 0:Eo(n),"--ai-bg":l||r?u.background:void 0,"--ai-hover":l||r?u.hover:void 0,"--ai-hover-color":l||r?u.hoverColor:void 0,"--ai-color":u.color,"--ai-bd":l||r?u.border:void 0}}},Dp=ri((t,e)=>{const n=He("ActionIcon",Uce,t),{className:r,unstyled:i,variant:l,classNames:a,styles:u,style:d,loading:h,loaderProps:p,size:g,color:y,radius:v,__staticSelector:w,gradient:C,vars:S,children:E,disabled:A,"data-disabled":N,autoContrast:I,mod:B,...F}=n,q=Vt({name:["ActionIcon",w],props:n,className:r,style:d,classes:qm,classNames:a,styles:u,unstyled:i,vars:S,varsResolver:Fce});return x.jsxs(Np,{...q("root",{active:!A&&!h&&!N}),...F,unstyled:i,variant:l,size:g,disabled:A||h,ref:e,mod:[{loading:h,disabled:A||N},B],children:[x.jsx(Op,{mounted:!!h,transition:"slide-down",duration:150,children:Z=>x.jsx(dt,{component:"span",...q("loader",{style:Z}),"aria-hidden":!0,children:x.jsx(wd,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...p})})}),x.jsx(dt,{component:"span",mod:{loading:h},...q("icon"),children:E})]})});Dp.classes=qm;Dp.displayName="@mantine/core/ActionIcon";Dp.Group=RN;Dp.GroupSection=NN;const v9=T.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n,children:x.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));v9.displayName="@mantine/core/CloseIcon";var w9={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Gce={variant:"subtle"},qce=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":xn(e,"cb-size"),"--cb-radius":n===void 0?void 0:Eo(n),"--cb-icon-size":be(r)}}),G_=ri((t,e)=>{const n=He("CloseButton",Gce,t),{iconSize:r,children:i,vars:l,radius:a,className:u,classNames:d,style:h,styles:p,unstyled:g,"data-disabled":y,disabled:v,variant:w,icon:C,mod:S,__staticSelector:E,...A}=n,N=Vt({name:E||"CloseButton",props:n,className:u,style:h,classes:w9,classNames:d,styles:p,unstyled:g,vars:l,varsResolver:qce});return x.jsxs(Np,{ref:e,...A,unstyled:g,variant:w,disabled:v,mod:[{disabled:v||y},S],...N("root",{variant:w,active:!v&&!y}),children:[C||x.jsx(v9,{}),i]})});G_.classes=w9;G_.displayName="@mantine/core/CloseButton";function Wce(t){return T.Children.toArray(t).filter(Boolean)}var k9={root:"m_4081bf90"};const Kce={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Zce=(t,{grow:e,preventGrowOverflow:n,gap:r,align:i,justify:l,wrap:a},{childWidth:u})=>({root:{"--group-child-width":e&&n?u:void 0,"--group-gap":V1(r),"--group-align":i,"--group-justify":l,"--group-wrap":a}}),uo=Ft((t,e)=>{const n=He("Group",Kce,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,children:d,gap:h,align:p,justify:g,wrap:y,grow:v,preventGrowOverflow:w,vars:C,variant:S,__size:E,mod:A,...N}=n,I=Wce(d),B=I.length,F=V1(h??"md"),Z={childWidth:`calc(${100/B}% - (${F} - ${F} / ${B}))`},Q=Vt({name:"Group",props:n,stylesCtx:Z,className:i,style:l,classes:k9,classNames:r,styles:a,unstyled:u,vars:C,varsResolver:Zce});return x.jsx(dt,{...Q("root"),ref:e,variant:S,mod:[{grow:v},A],size:E,...N,children:I})});uo.classes=k9;uo.displayName="@mantine/core/Group";const[Xce,Yce]=yN({size:"sm"}),Qce={},C9=Ft((t,e)=>{const n=He("InputClearButton",Qce,t),{size:r,variant:i,vars:l,classNames:a,styles:u,...d}=n,h=Yce(),{resolvedClassNames:p,resolvedStyles:g}=V_({classNames:a,styles:u,props:n});return x.jsx(G_,{variant:i||"transparent",ref:e,size:r||(h==null?void 0:h.size)||"sm",classNames:p,styles:g,__staticSelector:"InputClearButton",...d})});C9.displayName="@mantine/core/InputClearButton";const[Jce,q_]=yN({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Bs={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const OL={},eue=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${mi(e)} - ${be(2)})`}}),W_=Ft((t,e)=>{const n=He("InputDescription",OL,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,size:h,__staticSelector:p,__inheritStyles:g=!0,variant:y,...v}=He("InputDescription",OL,n),w=q_(),C=Vt({name:["InputWrapper",p],props:n,classes:Bs,className:i,style:l,classNames:r,styles:a,unstyled:u,rootSelector:"description",vars:d,varsResolver:eue}),S=g&&(w==null?void 0:w.getStyles)||C;return x.jsx(dt,{component:"p",ref:e,variant:y,size:h,...S("description",w!=null&&w.getStyles?{className:i,style:l}:void 0),...v})});W_.classes=Bs;W_.displayName="@mantine/core/InputDescription";const tue={},nue=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${mi(e)} - ${be(2)})`}}),K_=Ft((t,e)=>{const n=He("InputError",tue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,size:h,__staticSelector:p,__inheritStyles:g=!0,variant:y,...v}=n,w=Vt({name:["InputWrapper",p],props:n,classes:Bs,className:i,style:l,classNames:r,styles:a,unstyled:u,rootSelector:"error",vars:d,varsResolver:nue}),C=q_(),S=g&&(C==null?void 0:C.getStyles)||w;return x.jsx(dt,{component:"p",ref:e,variant:y,size:h,...S("error",C!=null&&C.getStyles?{className:i,style:l}:void 0),...v})});K_.classes=Bs;K_.displayName="@mantine/core/InputError";const DL={labelElement:"label"},rue=(t,{size:e})=>({label:{"--input-label-size":mi(e),"--input-asterisk-color":void 0}}),Z_=Ft((t,e)=>{const n=He("InputLabel",DL,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,labelElement:h,size:p,required:g,htmlFor:y,onMouseDown:v,children:w,__staticSelector:C,variant:S,mod:E,...A}=He("InputLabel",DL,n),N=Vt({name:["InputWrapper",C],props:n,classes:Bs,className:i,style:l,classNames:r,styles:a,unstyled:u,rootSelector:"label",vars:d,varsResolver:rue}),I=q_(),B=(I==null?void 0:I.getStyles)||N;return x.jsxs(dt,{...B("label",I!=null&&I.getStyles?{className:i,style:l}:void 0),component:h,variant:S,size:p,ref:e,htmlFor:h==="label"?y:void 0,mod:[{required:g},E],onMouseDown:F=>{v==null||v(F),!F.defaultPrevented&&F.detail>1&&F.preventDefault()},...A,children:[w,g&&x.jsx("span",{...B("required"),"aria-hidden":!0,children:" *"})]})});Z_.classes=Bs;Z_.displayName="@mantine/core/InputLabel";const LL={},ON=Ft((t,e)=>{const n=He("InputPlaceholder",LL,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,__staticSelector:h,variant:p,error:g,mod:y,...v}=He("InputPlaceholder",LL,n),w=Vt({name:["InputPlaceholder",h],props:n,classes:Bs,className:i,style:l,classNames:r,styles:a,unstyled:u,rootSelector:"placeholder"});return x.jsx(dt,{...w("placeholder"),mod:[{error:!!g},y],component:"span",variant:p,ref:e,...v})});ON.classes=Bs;ON.displayName="@mantine/core/InputPlaceholder";function oue(t,{hasDescription:e,hasError:n}){const r=t.findIndex(d=>d==="input"),i=t.slice(0,r),l=t.slice(r+1),a=e&&i.includes("description")||n&&i.includes("error");return{offsetBottom:e&&l.includes("description")||n&&l.includes("error"),offsetTop:a}}const iue={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},sue=(t,{size:e})=>({label:{"--input-label-size":mi(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${mi(e)} - ${be(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${mi(e)} - ${be(2)})`}}),DN=Ft((t,e)=>{const n=He("InputWrapper",iue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,size:h,variant:p,__staticSelector:g,inputContainer:y,inputWrapperOrder:v,label:w,error:C,description:S,labelProps:E,descriptionProps:A,errorProps:N,labelElement:I,children:B,withAsterisk:F,id:q,required:Z,__stylesApiProps:Q,mod:ie,...ke}=n,ue=Vt({name:["InputWrapper",g],props:Q||n,classes:Bs,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:sue}),xe={size:h,variant:p,__staticSelector:g},we=U1(q),de=typeof F=="boolean"?F:Z,L=(N==null?void 0:N.id)||`${we}-error`,H=(A==null?void 0:A.id)||`${we}-description`,K=we,ee=!!C&&typeof C!="boolean",$=!!S,Y=`${ee?L:""} ${$?H:""}`,te=Y.trim().length>0?Y.trim():void 0,re=(E==null?void 0:E.id)||`${we}-label`,Ee=w&&x.jsx(Z_,{labelElement:I,id:re,htmlFor:K,required:de,...xe,...E,children:w},"label"),$e=$&&x.jsx(W_,{...A,...xe,size:(A==null?void 0:A.size)||xe.size,id:(A==null?void 0:A.id)||H,children:S},"description"),Ae=x.jsx(T.Fragment,{children:y(B)},"input"),ft=ee&&T.createElement(K_,{...N,...xe,size:(N==null?void 0:N.size)||xe.size,key:"error",id:(N==null?void 0:N.id)||L},C),ct=v.map(Ut=>{switch(Ut){case"label":return Ee;case"input":return Ae;case"description":return $e;case"error":return ft;default:return null}});return x.jsx(Jce,{value:{getStyles:ue,describedBy:te,inputId:K,labelId:re,...oue(v,{hasDescription:$,hasError:ee})},children:x.jsx(dt,{ref:e,variant:p,size:h,mod:[{error:!!C},ie],...ue("root"),...ke,children:ct})})});DN.classes=Bs;DN.displayName="@mantine/core/InputWrapper";const lue={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},aue=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":xn(e.size,"input-height"),"--input-fz":mi(e.size),"--input-radius":e.radius===void 0?void 0:Eo(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?be(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?be(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?xn(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),bs=ri((t,e)=>{const n=He("Input",lue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,required:d,__staticSelector:h,__stylesApiProps:p,size:g,wrapperProps:y,error:v,disabled:w,leftSection:C,leftSectionProps:S,leftSectionWidth:E,rightSection:A,rightSectionProps:N,rightSectionWidth:I,rightSectionPointerEvents:B,leftSectionPointerEvents:F,variant:q,vars:Z,pointer:Q,multiline:ie,radius:ke,id:ue,withAria:xe,withErrorStyles:we,mod:de,inputSize:L,__clearSection:H,__clearable:K,__defaultRightSection:ee,...$}=n,{styleProps:Y,rest:te}=U_($),re=q_(),Ee={offsetBottom:re==null?void 0:re.offsetBottom,offsetTop:re==null?void 0:re.offsetTop},$e=Vt({name:["Input",h],props:p||n,classes:Bs,className:i,style:l,classNames:r,styles:a,unstyled:u,stylesCtx:Ee,rootSelector:"wrapper",vars:Z,varsResolver:aue}),Ae=xe?{required:d,disabled:w,"aria-invalid":!!v,"aria-describedby":re==null?void 0:re.describedBy,id:(re==null?void 0:re.inputId)||ue}:{},ft=A||K&&H||ee;return x.jsx(Xce,{value:{size:g||"sm"},children:x.jsxs(dt,{...$e("wrapper"),...Y,...y,mod:[{error:!!v&&we,pointer:Q,disabled:w,multiline:ie,"data-with-right-section":!!ft,"data-with-left-section":!!C},de],variant:q,size:g,children:[C&&x.jsx("div",{...S,"data-position":"left",...$e("section",{className:S==null?void 0:S.className,style:S==null?void 0:S.style}),children:C}),x.jsx(dt,{component:"input",...te,...Ae,ref:e,required:d,mod:{disabled:w,error:!!v&&we},variant:q,__size:L,...$e("input")}),ft&&x.jsx("div",{...N,"data-position":"right",...$e("section",{className:N==null?void 0:N.className,style:N==null?void 0:N.style}),children:ft})]})})});bs.classes=Bs;bs.Wrapper=DN;bs.Label=Z_;bs.Error=K_;bs.Description=W_;bs.Placeholder=ON;bs.ClearButton=C9;bs.displayName="@mantine/core/Input";function cue(t,e,n){const r=He(t,e,n),{label:i,description:l,error:a,required:u,classNames:d,styles:h,className:p,unstyled:g,__staticSelector:y,__stylesApiProps:v,errorProps:w,labelProps:C,descriptionProps:S,wrapperProps:E,id:A,size:N,style:I,inputContainer:B,inputWrapperOrder:F,withAsterisk:q,variant:Z,vars:Q,mod:ie,...ke}=r,{styleProps:ue,rest:xe}=U_(ke),we={label:i,description:l,error:a,required:u,classNames:d,className:p,__staticSelector:y,__stylesApiProps:v||r,errorProps:w,labelProps:C,descriptionProps:S,unstyled:g,styles:h,size:N,style:I,inputContainer:B,inputWrapperOrder:F,withAsterisk:q,variant:Z,id:A,mod:ie,...E};return{...xe,classNames:d,styles:h,unstyled:g,wrapperProps:{...we,...ue},inputProps:{required:u,classNames:d,styles:h,unstyled:g,size:N,__staticSelector:y,__stylesApiProps:v||r,error:a,variant:Z,id:A}}}const uue={__staticSelector:"InputBase",withAria:!0},Wm=ri((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=cue("InputBase",uue,t);return x.jsx(bs.Wrapper,{...r,children:x.jsx(bs,{...n,...i,ref:e})})});Wm.classes={...bs.classes,...bs.Wrapper.classes};Wm.displayName="@mantine/core/InputBase";const due={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var _9={root:"m_8bffd616"};const fue={},LN=ri((t,e)=>{const n=He("Flex",fue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,gap:h,rowGap:p,columnGap:g,align:y,justify:v,wrap:w,direction:C,...S}=n,E=Vt({name:"Flex",classes:_9,props:n,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d}),A=ys(),N=Jj(),I=Qj({styleProps:{gap:h,rowGap:p,columnGap:g,align:y,justify:v,wrap:w,direction:C},theme:A,data:due});return x.jsxs(x.Fragment,{children:[I.hasResponsiveStyles&&x.jsx(Yj,{selector:`.${N}`,styles:I.styles,media:I.media}),x.jsx(dt,{ref:e,...E("root",{className:N,style:j_(I.inlineStyles)}),...S})]})});LN.classes=_9;LN.displayName="@mantine/core/Flex";var S9={root:"m_b6d8b162"};function hue(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const pue={inherit:!1},mue=(t,{variant:e,lineClamp:n,gradient:r,size:i,color:l})=>({root:{"--text-fz":mi(i),"--text-lh":Ule(i),"--text-gradient":e==="gradient"?WM(r,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":l?wa(l,t):void 0}}),ka=ri((t,e)=>{const n=He("Text",pue,t),{lineClamp:r,truncate:i,inline:l,inherit:a,gradient:u,span:d,__staticSelector:h,vars:p,className:g,style:y,classNames:v,styles:w,unstyled:C,variant:S,mod:E,size:A,...N}=n,I=Vt({name:["Text",h],props:n,classes:S9,className:g,style:y,classNames:v,styles:w,unstyled:C,vars:p,varsResolver:mue});return x.jsx(dt,{...I("root",{focusable:!0}),ref:e,component:d?"span":"p",variant:S,mod:[{"data-truncate":hue(i),"data-line-clamp":typeof r=="number","data-inline":l,"data-inherit":a},E],size:A,...N})});ka.classes=S9;ka.displayName="@mantine/core/Text";function PN({size:t,style:e,...n}){const r=t!==void 0?{width:be(t),height:be(t),...e}:e;return x.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:x.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const x9=T.createContext(null),gue=x9.Provider;function bue(){return{withinGroup:!!T.useContext(x9)}}var X_={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const yue={},vue=(t,{spacing:e})=>({group:{"--ag-spacing":V1(e)}}),IN=Ft((t,e)=>{const n=He("AvatarGroup",yue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,spacing:h,...p}=n,g=Vt({name:"AvatarGroup",classes:X_,props:n,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:vue,rootSelector:"group"});return x.jsx(gue,{value:!0,children:x.jsx(dt,{ref:e,...g("group"),...p})})});IN.classes=X_;IN.displayName="@mantine/core/AvatarGroup";function wue(t){return x.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function kue(t){let e=0;for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n);e=(e<<5)-e+r,e|=0}return e}const Cue=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function _ue(t,e=Cue){const n=kue(t),r=Math.abs(n)%e.length;return e[r]}function Sue(t,e=2){const n=t.split(" ");return n.length===1?t.slice(0,e).toUpperCase():n.map(r=>r[0]).slice(0,e).join("").toUpperCase()}const xue={},Eue=(t,{size:e,radius:n,variant:r,gradient:i,color:l,autoContrast:a,name:u,allowedInitialsColors:d})=>{const h=l==="initials"&&typeof u=="string"?_ue(u,d):l,p=t.variantColorResolver({color:h||"gray",theme:t,gradient:i,variant:r||"light",autoContrast:a});return{root:{"--avatar-size":xn(e,"avatar-size"),"--avatar-radius":n===void 0?void 0:Eo(n),"--avatar-bg":h||r?p.background:void 0,"--avatar-color":h||r?p.color:void 0,"--avatar-bd":h||r?p.border:void 0}}},Y_=ri((t,e)=>{const n=He("Avatar",xue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,src:h,alt:p,radius:g,color:y,gradient:v,imageProps:w,children:C,autoContrast:S,mod:E,name:A,allowedInitialsColors:N,...I}=n,B=bue(),[F,q]=T.useState(!h),Z=Vt({name:"Avatar",props:n,classes:X_,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:Eue});return T.useEffect(()=>q(!h),[h]),x.jsx(dt,{...Z("root"),mod:[{"within-group":B.withinGroup},E],ref:e,...I,children:F?x.jsx("span",{...Z("placeholder"),title:p,children:C||typeof A=="string"&&Sue(A)||x.jsx(wue,{})}):x.jsx("img",{...w,...Z("image"),src:h,alt:p,onError:Q=>{var ie;q(!0),(ie=w==null?void 0:w.onError)==null||ie.call(w,Q)}})})});Y_.classes=X_;Y_.displayName="@mantine/core/Avatar";Y_.Group=IN;var E9={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const Tue={},Mue=(t,{radius:e,color:n,gradient:r,variant:i,size:l,autoContrast:a})=>{const u=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--badge-height":xn(l,"badge-height"),"--badge-padding-x":xn(l,"badge-padding-x"),"--badge-fz":xn(l,"badge-fz"),"--badge-radius":e===void 0?void 0:Eo(e),"--badge-bg":n||i?u.background:void 0,"--badge-color":n||i?u.color:void 0,"--badge-bd":n||i?u.border:void 0,"--badge-dot-color":i==="dot"?wa(n,t):void 0}}},BN=ri((t,e)=>{const n=He("Badge",Tue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,radius:h,color:p,gradient:g,leftSection:y,rightSection:v,children:w,variant:C,fullWidth:S,autoContrast:E,circle:A,mod:N,...I}=n,B=Vt({name:"Badge",props:n,classes:E9,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:Mue});return x.jsxs(dt,{variant:C,mod:[{block:S,circle:A,"with-right-section":!!v,"with-left-section":!!y},N],...B("root",{variant:C}),ref:e,...I,children:[y&&x.jsx("span",{...B("section"),"data-position":"left",children:y}),x.jsx("span",{...B("label"),children:w}),v&&x.jsx("span",{...B("section"),"data-position":"right",children:v})]})});BN.classes=E9;BN.displayName="@mantine/core/Badge";var Km={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const PL={orientation:"horizontal"},Aue=(t,{borderWidth:e})=>({group:{"--button-border-width":be(e)}}),jN=Ft((t,e)=>{const n=He("ButtonGroup",PL,t),{className:r,style:i,classNames:l,styles:a,unstyled:u,orientation:d,vars:h,borderWidth:p,variant:g,mod:y,...v}=He("ButtonGroup",PL,t),w=Vt({name:"ButtonGroup",props:n,classes:Km,className:r,style:i,classNames:l,styles:a,unstyled:u,vars:h,varsResolver:Aue,rootSelector:"group"});return x.jsx(dt,{...w("group"),ref:e,variant:g,mod:[{"data-orientation":d},y],role:"group",...v})});jN.classes=Km;jN.displayName="@mantine/core/ButtonGroup";const IL={},Rue=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:l,size:a})=>{const u=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:l});return{groupSection:{"--section-height":xn(a,"section-height"),"--section-padding-x":xn(a,"section-padding-x"),"--section-fz":a!=null&&a.includes("compact")?mi(a.replace("compact-","")):mi(a),"--section-radius":e===void 0?void 0:Eo(e),"--section-bg":n||i?u.background:void 0,"--section-color":u.color,"--section-bd":n||i?u.border:void 0}}},zN=Ft((t,e)=>{const n=He("ButtonGroupSection",IL,t),{className:r,style:i,classNames:l,styles:a,unstyled:u,vars:d,variant:h,gradient:p,radius:g,autoContrast:y,...v}=He("ButtonGroupSection",IL,t),w=Vt({name:"ButtonGroupSection",props:n,classes:Km,className:r,style:i,classNames:l,styles:a,unstyled:u,vars:d,varsResolver:Rue,rootSelector:"groupSection"});return x.jsx(dt,{...w("groupSection"),ref:e,variant:h,...v})});zN.classes=Km;zN.displayName="@mantine/core/ButtonGroupSection";const Nue={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${be(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Oue={},Due=(t,{radius:e,color:n,gradient:r,variant:i,size:l,justify:a,autoContrast:u})=>{const d=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:u});return{root:{"--button-justify":a,"--button-height":xn(l,"button-height"),"--button-padding-x":xn(l,"button-padding-x"),"--button-fz":l!=null&&l.includes("compact")?mi(l.replace("compact-","")):mi(l),"--button-radius":e===void 0?void 0:Eo(e),"--button-bg":n||i?d.background:void 0,"--button-hover":n||i?d.hover:void 0,"--button-color":d.color,"--button-bd":n||i?d.border:void 0,"--button-hover-color":n||i?d.hoverColor:void 0}}},Ql=ri((t,e)=>{const n=He("Button",Oue,t),{style:r,vars:i,className:l,color:a,disabled:u,children:d,leftSection:h,rightSection:p,fullWidth:g,variant:y,radius:v,loading:w,loaderProps:C,gradient:S,classNames:E,styles:A,unstyled:N,"data-disabled":I,autoContrast:B,mod:F,...q}=n,Z=Vt({name:"Button",props:n,classes:Km,className:l,style:r,classNames:E,styles:A,unstyled:N,vars:i,varsResolver:Due}),Q=!!h,ie=!!p;return x.jsxs(Np,{ref:e,...Z("root",{active:!u&&!w&&!I}),unstyled:N,variant:y,disabled:u||w,mod:[{disabled:u||I,loading:w,block:g,"with-left-section":Q,"with-right-section":ie},F],...q,children:[x.jsx(Op,{mounted:!!w,transition:Nue,duration:150,children:ke=>x.jsx(dt,{component:"span",...Z("loader",{style:ke}),"aria-hidden":!0,children:x.jsx(wd,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...C})})}),x.jsxs("span",{...Z("inner"),children:[h&&x.jsx(dt,{component:"span",...Z("section"),mod:{position:"left"},children:h}),x.jsx(dt,{component:"span",mod:{loading:w},...Z("label"),children:d}),p&&x.jsx(dt,{component:"span",...Z("section"),mod:{position:"right"},children:p})]})]})});Ql.classes=Km;Ql.displayName="@mantine/core/Button";Ql.Group=jN;Ql.GroupSection=zN;const[Lue,Pue]=z_("Card component was not found in tree");var $N={root:"m_e615b15f",section:"m_599a2148"};const Iue={},Q_=ri((t,e)=>{const n=He("CardSection",Iue,t),{classNames:r,className:i,style:l,styles:a,vars:u,withBorder:d,inheritPadding:h,mod:p,...g}=n,y=Pue();return x.jsx(dt,{ref:e,mod:[{"with-border":d,"inherit-padding":h},p],...y.getStyles("section",{className:i,style:l,styles:a,classNames:r}),...g})});Q_.classes=$N;Q_.displayName="@mantine/core/CardSection";const Bue={},jue=(t,{padding:e})=>({root:{"--card-padding":V1(e)}}),W1=ri((t,e)=>{const n=He("Card",Bue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,children:h,padding:p,...g}=n,y=Vt({name:"Card",props:n,classes:$N,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:jue}),v=T.Children.toArray(h),w=v.map((C,S)=>typeof C=="object"&&C&&"type"in C&&C.type===Q_?T.cloneElement(C,{"data-first-section":S===0||void 0,"data-last-section":S===v.length-1||void 0}):C);return x.jsx(Lue,{value:{getStyles:y},children:x.jsx(EN,{ref:e,unstyled:u,...y("root"),...g,children:w})})});W1.classes=$N;W1.displayName="@mantine/core/Card";W1.Section=Q_;const[zue,$ue]=yN(),Hue={};function T9(t){const{value:e,defaultValue:n,onChange:r,multiple:i,children:l}=He("ChipGroup",Hue,t),[a,u]=Fm({value:e,defaultValue:n,finalValue:i?[]:null,onChange:r}),d=p=>Array.isArray(a)?a.includes(p):p===a,h=p=>{const g=p.currentTarget.value;Array.isArray(a)?u(a.includes(g)?a.filter(y=>y!==g):[...a,g]):u(g)};return x.jsx(zue,{value:{isChipSelected:d,onChange:h,multiple:i},children:l})}T9.displayName="@mantine/core/ChipGroup";var M9={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const Vue={type:"checkbox"},Uue=(t,{size:e,radius:n,variant:r,color:i,autoContrast:l})=>{const a=t.variantColorResolver({color:i||t.primaryColor,theme:t,variant:r||"filled",autoContrast:l});return{root:{"--chip-fz":mi(e),"--chip-size":xn(e,"chip-size"),"--chip-radius":n===void 0?void 0:Eo(n),"--chip-checked-padding":xn(e,"chip-checked-padding"),"--chip-padding":xn(e,"chip-padding"),"--chip-icon-size":xn(e,"chip-icon-size"),"--chip-bg":i||r?a.background:void 0,"--chip-hover":i||r?a.hover:void 0,"--chip-color":i||r?a.color:void 0,"--chip-bd":i||r?a.border:void 0,"--chip-spacing":xn(e,"chip-spacing")}}},J_=Ft((t,e)=>{const n=He("Chip",Vue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,id:h,checked:p,defaultChecked:g,onChange:y,value:v,wrapperProps:w,type:C,disabled:S,children:E,size:A,variant:N,icon:I,rootRef:B,autoContrast:F,mod:q,...Z}=n,Q=Vt({name:"Chip",classes:M9,props:n,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:Uue}),ie=$ue(),ke=U1(h),{styleProps:ue,rest:xe}=U_(Z),[we,de]=Fm({value:p,defaultValue:g,finalValue:!1,onChange:y}),L=ie?{checked:ie.isChipSelected(v),onChange:K=>{ie.onChange(K),y==null||y(K.currentTarget.checked)},type:ie.multiple?"checkbox":"radio"}:{},H=L.checked||we;return x.jsxs(dt,{size:A,variant:N,ref:B,mod:q,...Q("root"),...ue,...w,children:[x.jsx("input",{type:C,...Q("input"),checked:H,onChange:K=>de(K.currentTarget.checked),id:ke,disabled:S,ref:e,value:v,...L,...xe}),x.jsxs("label",{htmlFor:ke,"data-checked":H||void 0,"data-disabled":S||void 0,...Q("label",{variant:N||"filled"}),children:[H&&x.jsx("span",{...Q("iconWrapper"),children:I||x.jsx(PN,{...Q("checkIcon")})}),x.jsx("span",{children:E})]})]})});J_.classes=M9;J_.displayName="@mantine/core/Chip";J_.Group=T9;var A9={root:"m_3eebeb36",label:"m_9e365f20"};const Fue={orientation:"horizontal"},Gue=(t,{color:e,variant:n,size:r})=>({root:{"--divider-color":e?wa(e,t):void 0,"--divider-border-style":n,"--divider-size":xn(r,"divider-size")}}),HN=Ft((t,e)=>{const n=He("Divider",Fue,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,color:h,orientation:p,label:g,labelPosition:y,mod:v,...w}=n,C=Vt({name:"Divider",classes:A9,props:n,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:Gue});return x.jsx(dt,{ref:e,mod:[{orientation:p,"with-label":!!g},v],...C("root"),...w,role:"separator",children:g&&x.jsx(dt,{component:"span",mod:{position:y},...C("label"),children:g})})});HN.classes=A9;HN.displayName="@mantine/core/Divider";const que={multiple:!1},R9=T.forwardRef((t,e)=>{const{onChange:n,children:r,multiple:i,accept:l,name:a,form:u,resetRef:d,disabled:h,capture:p,inputProps:g,...y}=He("FileButton",que,t),v=T.useRef(null),w=()=>{var E;!h&&((E=v.current)==null||E.click())},C=E=>{n(i?Array.from(E.currentTarget.files):E.currentTarget.files[0]||null)};return CC(d,()=>{v.current&&(v.current.value="")}),x.jsxs(x.Fragment,{children:[r({onClick:w,...y}),x.jsx("input",{style:{display:"none"},type:"file",accept:l,multiple:i,onChange:C,ref:xu(e,v),name:a,form:u,capture:p,...g})]})});R9.displayName="@mantine/core/FileButton";const Wue=({value:t})=>x.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t==null?void 0:t.name}),Kue={valueComponent:Wue},VN=Ft((t,e)=>{const n=He("FileInput",Kue,t),{unstyled:r,vars:i,onChange:l,value:a,defaultValue:u,multiple:d,accept:h,name:p,form:g,valueComponent:y,clearable:v,clearButtonProps:w,readOnly:C,capture:S,fileInputProps:E,rightSection:A,size:N,placeholder:I,component:B,resetRef:F,classNames:q,styles:Z,...Q}=n,ie=T.useRef(null),{resolvedClassNames:ke,resolvedStyles:ue}=V_({classNames:q,styles:Z,props:n}),[xe,we]=Fm({value:a,defaultValue:u,onChange:l,finalValue:d?[]:null}),de=Array.isArray(xe)?xe.length!==0:xe!==null,L=A||(v&&de&&!C?x.jsx(G_,{...w,variant:"subtle",onClick:()=>we(d?[]:null),size:N,unstyled:r}):null);T.useEffect(()=>{var K;(Array.isArray(xe)&&xe.length===0||xe===null)&&((K=ie.current)==null||K.call(ie))},[xe]);const H=y;return x.jsx(R9,{onChange:we,multiple:d,accept:h,name:p,form:g,resetRef:xu(ie,F),disabled:C,capture:S,inputProps:E,children:K=>x.jsx(Wm,{component:B||"button",ref:e,rightSection:L,...K,...Q,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:N,classNames:q,styles:Z,children:de?x.jsx(H,{value:xe}):x.jsx(bs.Placeholder,{__staticSelector:"FileInput",classNames:ke,styles:ue,children:I})})})});VN.classes=Wm.classes;VN.displayName="@mantine/core/FileInput";const Zue=VN;function Xue({open:t,close:e,openDelay:n,closeDelay:r}){const i=T.useRef(-1),l=T.useRef(-1),a=()=>{window.clearTimeout(i.current),window.clearTimeout(l.current)},u=()=>{a(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)},d=()=>{a(),r===0||r===void 0?e():l.current=window.setTimeout(e,r)};return T.useEffect(()=>a,[]),{openDropdown:u,closeDropdown:d}}var N9={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const BL={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:H1("overlay")},Yue=(t,{zIndex:e})=>({root:{"--lo-z-index":e==null?void 0:e.toString()}}),UN=Ft((t,e)=>{const n=He("LoadingOverlay",BL,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,transitionProps:h,loaderProps:p,overlayProps:g,visible:y,zIndex:v,...w}=n,C=ys(),S=Vt({name:"LoadingOverlay",classes:N9,props:n,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:Yue}),E={...BL.overlayProps,...g};return x.jsx(Op,{transition:"fade",...h,mounted:!!y,children:A=>x.jsxs(dt,{...S("root",{style:A}),ref:e,...w,children:[x.jsx(wd,{...S("loader"),unstyled:u,...p}),x.jsx(g1,{...E,...S("overlay"),darkHidden:!0,unstyled:u,color:(g==null?void 0:g.color)||C.white}),x.jsx(g1,{...E,...S("overlay"),lightHidden:!0,unstyled:u,color:(g==null?void 0:g.color)||C.colors.dark[5]})]})})});UN.classes=N9;UN.displayName="@mantine/core/LoadingOverlay";const[Que,K1]=z_("Menu component was not found in the tree");var Zm={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Jue={},FN=Ft((t,e)=>{const{classNames:n,className:r,style:i,styles:l,vars:a,...u}=He("MenuDivider",Jue,t),d=K1();return x.jsx(dt,{ref:e,...d.getStyles("divider",{className:r,style:i,styles:l,classNames:n}),...u})});FN.classes=Zm;FN.displayName="@mantine/core/MenuDivider";const ede={},GN=Ft((t,e)=>{const{classNames:n,className:r,style:i,styles:l,vars:a,onMouseEnter:u,onMouseLeave:d,onKeyDown:h,children:p,...g}=He("MenuDropdown",ede,t),y=T.useRef(null),v=K1(),w=aa(h,E=>{var A,N;(E.key==="ArrowUp"||E.key==="ArrowDown")&&(E.preventDefault(),(N=(A=y.current)==null?void 0:A.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||N.focus())}),C=aa(u,()=>(v.trigger==="hover"||v.trigger==="click-hover")&&v.openDropdown()),S=aa(d,()=>(v.trigger==="hover"||v.trigger==="click-hover")&&v.closeDropdown());return x.jsxs(vd.Dropdown,{...g,onMouseEnter:C,onMouseLeave:S,role:"menu","aria-orientation":"vertical",ref:xu(e,y),...v.getStyles("dropdown",{className:r,style:i,styles:l,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:w,children:[v.withInitialFocusPlaceholder&&x.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),p]})});GN.classes=Zm;GN.displayName="@mantine/core/MenuDropdown";const tde={},qN=ri((t,e)=>{const{classNames:n,className:r,style:i,styles:l,vars:a,color:u,closeMenuOnClick:d,leftSection:h,rightSection:p,children:g,disabled:y,"data-disabled":v,...w}=He("MenuItem",tde,t),C=K1(),S=ys(),{dir:E}=G1(),A=T.useRef(null),N=C.getItemIndex(A.current),I=w,B=aa(I.onMouseLeave,()=>C.setHovered(-1)),F=aa(I.onMouseEnter,()=>C.setHovered(C.getItemIndex(A.current))),q=aa(I.onClick,()=>{v||(typeof d=="boolean"?d&&C.closeDropdownImmediately():C.closeOnItemClick&&C.closeDropdownImmediately())}),Z=aa(I.onFocus,()=>C.setHovered(C.getItemIndex(A.current))),Q=u?S.variantColorResolver({color:u,theme:S,variant:"light"}):void 0,ie=u?Gm({color:u,theme:S}):null;return x.jsxs(Np,{...w,unstyled:C.unstyled,tabIndex:C.menuItemTabIndex,onFocus:Z,...C.getStyles("item",{className:r,style:i,styles:l,classNames:n}),ref:xu(A,e),role:"menuitem",disabled:y,"data-menu-item":!0,"data-disabled":y||v||void 0,"data-hovered":C.hovered===N?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:F,onMouseLeave:B,onClick:q,onKeyDown:Ij({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:C.loop,dir:E,orientation:"vertical",onKeyDown:I.onKeyDown}),__vars:{"--menu-item-color":ie!=null&&ie.isThemeColor&&(ie==null?void 0:ie.shade)===void 0?`var(--mantine-color-${ie.color}-6)`:Q==null?void 0:Q.color,"--menu-item-hover":Q==null?void 0:Q.hover},children:[h&&x.jsx("div",{...C.getStyles("itemSection",{styles:l,classNames:n}),"data-position":"left",children:h}),g&&x.jsx("div",{...C.getStyles("itemLabel",{styles:l,classNames:n}),children:g}),p&&x.jsx("div",{...C.getStyles("itemSection",{styles:l,classNames:n}),"data-position":"right",children:p})]})});qN.classes=Zm;qN.displayName="@mantine/core/MenuItem";const nde={},WN=Ft((t,e)=>{const{classNames:n,className:r,style:i,styles:l,vars:a,...u}=He("MenuLabel",nde,t),d=K1();return x.jsx(dt,{ref:e,...d.getStyles("label",{className:r,style:i,styles:l,classNames:n}),...u})});WN.classes=Zm;WN.displayName="@mantine/core/MenuLabel";const rde={refProp:"ref"},O9=T.forwardRef((t,e)=>{const{children:n,refProp:r,...i}=He("MenuTarget",rde,t);if(!$1(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const l=K1(),a=n.props,u=aa(a.onClick,()=>{l.trigger==="click"?l.toggleDropdown():l.trigger==="click-hover"&&(l.setOpenedViaClick(!0),l.opened||l.openDropdown())}),d=aa(a.onMouseEnter,()=>(l.trigger==="hover"||l.trigger==="click-hover")&&l.openDropdown()),h=aa(a.onMouseLeave,()=>{(l.trigger==="hover"||l.trigger==="click-hover"&&!l.openedViaClick)&&l.closeDropdown()});return x.jsx(vd.Target,{refProp:r,popupType:"menu",ref:e,...i,children:T.cloneElement(n,{onClick:u,onMouseEnter:d,onMouseLeave:h,"data-expanded":l.opened?!0:void 0})})});O9.displayName="@mantine/core/MenuTarget";const ode={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function qn(t){const e=He("Menu",ode,t),{children:n,onOpen:r,onClose:i,opened:l,defaultOpened:a,trapFocus:u,onChange:d,closeOnItemClick:h,loop:p,closeOnEscape:g,trigger:y,openDelay:v,closeDelay:w,classNames:C,styles:S,unstyled:E,variant:A,vars:N,menuItemTabIndex:I,keepMounted:B,withInitialFocusPlaceholder:F,...q}=e,Z=Vt({name:"Menu",classes:Zm,props:e,classNames:C,styles:S,unstyled:E}),[Q,{setHovered:ie,resetHovered:ke}]=Gle(),[ue,xe]=Fm({value:l,defaultValue:a,finalValue:!1,onChange:d}),[we,de]=T.useState(!1),L=()=>{xe(!1),de(!1),ue&&(i==null||i())},H=()=>{xe(!0),!ue&&(r==null||r())},K=()=>{ue?L():H()},{openDropdown:ee,closeDropdown:$}=Xue({open:H,close:L,closeDelay:w,openDelay:v}),Y=Ee=>Fle("[data-menu-item]","[data-menu-dropdown]",Ee),{resolvedClassNames:te,resolvedStyles:re}=V_({classNames:C,styles:S,props:e});return ud(()=>{ke()},[ue]),x.jsx(Que,{value:{getStyles:Z,opened:ue,toggleDropdown:K,getItemIndex:Y,hovered:Q,setHovered:ie,openedViaClick:we,setOpenedViaClick:de,closeOnItemClick:h,closeDropdown:y==="click"?L:$,openDropdown:y==="click"?H:ee,closeDropdownImmediately:L,loop:p,trigger:y,unstyled:E,menuItemTabIndex:I,withInitialFocusPlaceholder:F},children:x.jsx(vd,{...q,opened:ue,onChange:K,defaultOpened:a,trapFocus:B?!1:u,closeOnEscape:g,__staticSelector:"Menu",classNames:te,styles:re,unstyled:E,variant:A,keepMounted:B,children:n})})}qn.extend=t=>t;qn.withProps=bce(qn);qn.classes=Zm;qn.displayName="@mantine/core/Menu";qn.Item=qN;qn.Label=WN;qn.Dropdown=GN;qn.Target=O9;qn.Divider=FN;const ide={duration:100,transition:"fade"};function sde(t,e){return{...ide,...e,...t}}function lde({offset:t,position:e,defaultOpened:n}){const[r,i]=T.useState(n),l=T.useRef(null),{x:a,y:u,elements:d,refs:h,update:p,placement:g}=Um({placement:e,middleware:[Rp({crossAxis:!0,padding:5,rootBoundary:"document"})]}),y=g.includes("right")?t:e.includes("left")?t*-1:0,v=g.includes("bottom")?t:e.includes("top")?t*-1:0,w=T.useCallback(({clientX:C,clientY:S})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:C,y:S,left:C+y,top:S+v,right:C,bottom:S}}})},[d.reference]);return T.useEffect(()=>{if(h.floating.current){const C=l.current;C.addEventListener("mousemove",w);const S=fu(h.floating.current);return S.forEach(E=>{E.addEventListener("scroll",p)}),()=>{C.removeEventListener("mousemove",w),S.forEach(E=>{E.removeEventListener("scroll",p)})}}},[d.reference,h.floating.current,p,w,r]),{handleMouseMove:w,x:a,y:u,opened:r,setOpened:i,boundaryRef:l,floating:h.setFloating}}var eS={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const ade={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:H1("popover")},cde=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Eo(e),"--tooltip-bg":n?wa(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),KN=Ft((t,e)=>{const n=He("TooltipFloating",ade,t),{children:r,refProp:i,withinPortal:l,style:a,className:u,classNames:d,styles:h,unstyled:p,radius:g,color:y,label:v,offset:w,position:C,multiline:S,zIndex:E,disabled:A,defaultOpened:N,variant:I,vars:B,portalProps:F,...q}=n,Z=ys(),Q=Vt({name:"TooltipFloating",props:n,classes:eS,className:u,style:a,classNames:d,styles:h,unstyled:p,rootSelector:"tooltip",vars:B,varsResolver:cde}),{handleMouseMove:ie,x:ke,y:ue,opened:xe,boundaryRef:we,floating:de,setOpened:L}=lde({offset:w,position:C,defaultOpened:N});if(!$1(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const H=xu(we,vN(r),e),K=r.props,ee=Y=>{var te;(te=K.onMouseEnter)==null||te.call(K,Y),ie(Y),L(!0)},$=Y=>{var te;(te=K.onMouseLeave)==null||te.call(K,Y),L(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(q1,{...F,withinPortal:l,children:x.jsx(dt,{...q,...Q("tooltip",{style:{...e9(a,Z),zIndex:E,display:!A&&xe?"block":"none",top:(ue&&Math.round(ue))??"",left:(ke&&Math.round(ke))??""}}),variant:I,ref:de,mod:{multiline:S},children:v})}),T.cloneElement(r,{...K,[i]:H,onMouseEnter:ee,onMouseLeave:$})]})});KN.classes=eS;KN.displayName="@mantine/core/TooltipFloating";const D9=T.createContext(!1),ude=D9.Provider,dde=()=>T.useContext(D9),fde={openDelay:0,closeDelay:0};function ZN(t){const{openDelay:e,closeDelay:n,children:r}=He("TooltipGroup",fde,t);return x.jsx(ude,{value:!0,children:x.jsx(yoe,{delay:{open:e,close:n},children:r})})}ZN.displayName="@mantine/core/TooltipGroup";ZN.extend=t=>t;function hde(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function pde(t){const e=hde(t.middlewares),n=[Ta(t.offset)];return e.shift&&n.push(Rp(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?Zl():Zl(e.flip)),n.push(U7({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?Dv():Dv(e.inline)):t.inline&&n.push(Dv()),n}function mde(t){var F,q,Z;const[e,n]=T.useState(t.defaultOpened),i=typeof t.opened=="boolean"?t.opened:e,l=dde(),a=U1(),u=T.useCallback(Q=>{n(Q),Q&&A(a)},[a]),{x:d,y:h,context:p,refs:g,update:y,placement:v,middlewareData:{arrow:{x:w,y:C}={}}}=Um({strategy:t.strategy,placement:t.position,open:i,onOpenChange:u,middleware:pde(t)}),{delay:S,currentId:E,setCurrentId:A}=voe(p,{id:a}),{getReferenceProps:N,getFloatingProps:I}=Y7([goe(p,{enabled:(F=t.events)==null?void 0:F.hover,delay:l?S:{open:t.openDelay,close:t.closeDelay},mouseOnly:!((q=t.events)!=null&&q.touch)}),Noe(p,{enabled:(Z=t.events)==null?void 0:Z.focus,visibleOnly:!0}),Doe(p,{role:"tooltip"}),X7(p,{enabled:typeof t.opened>"u"})]);p9({opened:i,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:g,update:y}}),ud(()=>{var Q;(Q=t.onPositionChange)==null||Q.call(t,v)},[v]);const B=i&&E&&E!==a;return{x:d,y:h,arrowX:w,arrowY:C,reference:g.setReference,floating:g.setFloating,getFloatingProps:I,getReferenceProps:N,isGroupPhase:B,opened:i,placement:v}}const jL={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:H1("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},gde=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Eo(e),"--tooltip-bg":n?wa(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Xm=Ft((t,e)=>{const n=He("Tooltip",jL,t),{children:r,position:i,refProp:l,label:a,openDelay:u,closeDelay:d,onPositionChange:h,opened:p,defaultOpened:g,withinPortal:y,radius:v,color:w,classNames:C,styles:S,unstyled:E,style:A,className:N,withArrow:I,arrowSize:B,arrowOffset:F,arrowRadius:q,arrowPosition:Z,offset:Q,transitionProps:ie,multiline:ke,events:ue,zIndex:xe,disabled:we,positionDependencies:de,onClick:L,onMouseEnter:H,onMouseLeave:K,inline:ee,variant:$,keepMounted:Y,vars:te,portalProps:re,mod:Ee,floatingStrategy:$e,middlewares:Ae,...ft}=He("Tooltip",jL,n),{dir:ct}=G1(),Ut=T.useRef(null),Jt=mde({position:a9(ct,i),closeDelay:d,openDelay:u,onPositionChange:h,opened:p,defaultOpened:g,events:ue,arrowRef:Ut,arrowOffset:F,offset:typeof Q=="number"?Q+(I?B/2:0):Q,positionDependencies:[...de,r],inline:ee,strategy:$e,middlewares:Ae}),ar=Vt({name:"Tooltip",props:n,classes:eS,className:N,style:A,classNames:C,styles:S,unstyled:E,rootSelector:"tooltip",vars:te,varsResolver:gde});if(!$1(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const G=xu(Jt.reference,vN(r),e),X=sde(ie,{duration:100,transition:"fade"}),ne=r.props;return x.jsxs(x.Fragment,{children:[x.jsx(q1,{...re,withinPortal:y,children:x.jsx(Op,{...X,keepMounted:Y,mounted:!we&&!!Jt.opened,duration:Jt.isGroupPhase?10:X.duration,children:me=>x.jsxs(dt,{...ft,"data-fixed":$e==="fixed"||void 0,variant:$,mod:[{multiline:ke},Ee],...Jt.getFloatingProps({ref:Jt.floating,className:ar("tooltip").className,style:{...ar("tooltip").style,...me,zIndex:xe,top:Jt.y??0,left:Jt.x??0}}),children:[a,x.jsx(TN,{ref:Ut,arrowX:Jt.arrowX,arrowY:Jt.arrowY,visible:I,position:Jt.placement,arrowSize:B,arrowOffset:F,arrowRadius:q,arrowPosition:Z,...ar("arrow")})]})})}),T.cloneElement(r,Jt.getReferenceProps({onClick:L,onMouseEnter:H,onMouseLeave:K,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Eu(N,ne.className),...ne,[l]:G}))]})});Xm.classes=eS;Xm.displayName="@mantine/core/Tooltip";Xm.Floating=KN;Xm.Group=ZN;var L9={root:"m_18320242","skeleton-fade":"m_299c329c"};const bde={visible:!0,animate:!0},yde=(t,{width:e,height:n,radius:r,circle:i})=>({root:{"--skeleton-height":be(n),"--skeleton-width":be(i?n:e),"--skeleton-radius":i?"1000px":r===void 0?void 0:Eo(r)}}),SC=Ft((t,e)=>{const n=He("Skeleton",bde,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,width:h,height:p,circle:g,visible:y,radius:v,animate:w,mod:C,...S}=n,E=Vt({name:"Skeleton",classes:L9,props:n,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:yde});return x.jsx(dt,{ref:e,...E("root"),mod:[{visible:y,animate:w},C],...S})});SC.classes=L9;SC.displayName="@mantine/core/Skeleton";var P9={root:"m_6d731127"};const vde={gap:"md",align:"stretch",justify:"flex-start"},wde=(t,{gap:e,align:n,justify:r})=>({root:{"--stack-gap":V1(e),"--stack-align":n,"--stack-justify":r}}),Z1=Ft((t,e)=>{const n=He("Stack",vde,t),{classNames:r,className:i,style:l,styles:a,unstyled:u,vars:d,align:h,justify:p,gap:g,variant:y,...v}=n,w=Vt({name:"Stack",props:n,classes:P9,className:i,style:l,classNames:r,styles:a,unstyled:u,vars:d,varsResolver:wde});return x.jsx(dt,{ref:e,...w("root"),variant:y,...v})});Z1.classes=P9;Z1.displayName="@mantine/core/Stack";const[kde,XN]=z_("Tabs component was not found in the tree");var X1={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Cde={},YN=Ft((t,e)=>{const n=He("TabsList",Cde,t),{children:r,className:i,grow:l,justify:a,classNames:u,styles:d,style:h,mod:p,...g}=n,y=XN();return x.jsx(dt,{...g,...y.getStyles("list",{className:i,style:h,classNames:u,styles:d,props:n,variant:y.variant}),ref:e,role:"tablist",variant:y.variant,mod:[{grow:l,orientation:y.orientation,placement:y.orientation==="vertical"&&y.placement,inverted:y.inverted},p],"aria-orientation":y.orientation,__vars:{"--tabs-justify":a},children:r})});YN.classes=X1;YN.displayName="@mantine/core/TabsList";const _de={},QN=Ft((t,e)=>{const n=He("TabsPanel",_de,t),{children:r,className:i,value:l,classNames:a,styles:u,style:d,mod:h,keepMounted:p,...g}=n,y=XN(),v=y.value===l,w=y.keepMounted||p||v?r:null;return x.jsx(dt,{...g,...y.getStyles("panel",{className:i,classNames:a,styles:u,style:[d,v?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:y.orientation},h],role:"tabpanel",id:y.getPanelId(l),"aria-labelledby":y.getTabId(l),children:w})});QN.classes=X1;QN.displayName="@mantine/core/TabsPanel";const Sde={},JN=Ft((t,e)=>{const n=He("TabsTab",Sde,t),{className:r,children:i,rightSection:l,leftSection:a,value:u,onClick:d,onKeyDown:h,disabled:p,color:g,style:y,classNames:v,styles:w,vars:C,mod:S,tabIndex:E,...A}=n,N=ys(),{dir:I}=G1(),B=XN(),F=u===B.value,q=Q=>{B.onChange(B.allowTabDeactivation&&u===B.value?null:u),d==null||d(Q)},Z={classNames:v,styles:w,props:n};return x.jsxs(Np,{...A,...B.getStyles("tab",{className:r,style:y,variant:B.variant,...Z}),disabled:p,unstyled:B.unstyled,variant:B.variant,mod:[{active:F,disabled:p,orientation:B.orientation,inverted:B.inverted,placement:B.orientation==="vertical"&&B.placement},S],ref:e,role:"tab",id:B.getTabId(u),"aria-selected":F,tabIndex:E!==void 0?E:F||B.value===null?0:-1,"aria-controls":B.getPanelId(u),onClick:q,__vars:{"--tabs-color":g?wa(g,N):void 0},onKeyDown:Ij({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:B.activateTabWithKeyboard,loop:B.loop,orientation:B.orientation||"horizontal",dir:I,onKeyDown:h}),children:[a&&x.jsx("span",{...B.getStyles("tabSection",Z),"data-position":"left",children:a}),i&&x.jsx("span",{...B.getStyles("tabLabel",Z),children:i}),l&&x.jsx("span",{...B.getStyles("tabSection",Z),"data-position":"right",children:l})]})});JN.classes=X1;JN.displayName="@mantine/core/TabsTab";const zL="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",xde={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Ede=(t,{radius:e,color:n,autoContrast:r})=>({root:{"--tabs-radius":Eo(e),"--tabs-color":wa(n,t),"--tabs-text-color":Yae(r,t)?Wj({color:n,theme:t,autoContrast:r}):void 0}}),ou=Ft((t,e)=>{const n=He("Tabs",xde,t),{defaultValue:r,value:i,onChange:l,orientation:a,children:u,loop:d,id:h,activateTabWithKeyboard:p,allowTabDeactivation:g,variant:y,color:v,radius:w,inverted:C,placement:S,keepMounted:E,classNames:A,styles:N,unstyled:I,className:B,style:F,vars:q,autoContrast:Z,mod:Q,...ie}=n,ke=U1(h),[ue,xe]=Fm({value:i,defaultValue:r,finalValue:null,onChange:l}),we=Vt({name:"Tabs",props:n,classes:X1,className:B,style:F,classNames:A,styles:N,unstyled:I,vars:q,varsResolver:Ede});return x.jsx(kde,{value:{placement:S,value:ue,orientation:a,id:ke,loop:d,activateTabWithKeyboard:p,getTabId:bL(`${ke}-tab`,zL),getPanelId:bL(`${ke}-panel`,zL),onChange:xe,allowTabDeactivation:g,variant:y,color:v,radius:w,inverted:C,keepMounted:E,unstyled:I,getStyles:we},children:x.jsx(dt,{ref:e,id:ke,variant:y,mod:[{orientation:a,inverted:a==="horizontal"&&C,placement:a==="vertical"&&S},Q],...we("root"),...ie,children:u})})});ou.classes=X1;ou.displayName="@mantine/core/Tabs";ou.Tab=JN;ou.Panel=QN;ou.List=YN;const Tde={},tS=Ft((t,e)=>{const n=He("TextInput",Tde,t);return x.jsx(Wm,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});tS.classes=Wm.classes;tS.displayName="@mantine/core/TextInput";const I9=(t,e,n=!1)=>{const r=[];function i(l,a="--bn"){for(const u in l){const d=u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),h=`${a}-${d}`;typeof l[u]!="object"?(typeof l[u]=="number"&&(l[u]=`${l[u]}px`),n?e.style.removeProperty(h):e.style.setProperty(h,l[u].toString())):i(l[u],h)}}return i(t),r},$L=(t,e)=>I9(t,e),Mde={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},Ade=t=>I9(Mde,t,!0),B9=t=>x.jsxs(Z1,{gap:0,className:"bn-tooltip",children:[x.jsx(ka,{size:"sm",lineClamp:5,children:t.mainTooltip}),t.secondaryTooltip&&x.jsx(ka,{size:"xs",lineClamp:5,children:t.secondaryTooltip})]}),Z2=T.forwardRef((t,e)=>{const{className:n,children:r,mainTooltip:i,secondaryTooltip:l,icon:a,isSelected:u,isDisabled:d,onClick:h,label:p,variant:g,...y}=t;Mt(y,!1);const[v,w]=T.useState(!1),C=r?x.jsx(Ql,{"aria-label":p,className:n,onMouseDown:S=>{xM()&&S.currentTarget.focus()},onClick:S=>{w(!0),h==null||h(S)},onPointerLeave:()=>w(!1),"aria-pressed":u,"data-selected":u||void 0,"data-test":i?i.slice(0,1).toLowerCase()+i.replace(/\s+/g,"").slice(1):void 0,size:g==="compact"?"compact-xs":"xs",disabled:d||!1,ref:e,...y,children:r}):x.jsx(Dp,{className:n,"aria-label":p,onMouseDown:S=>{xM()&&S.currentTarget.focus()},onClick:S=>{w(!0),h==null||h(S)},onPointerLeave:()=>w(!1),"aria-pressed":u,"data-selected":u||void 0,"data-test":i?i.slice(0,1).toLowerCase()+i.replace(/\s+/g,"").slice(1):void 0,size:g==="compact"?20:30,disabled:d||!1,ref:e,...y,children:a});return i?x.jsx(Xm,{disabled:v,withinPortal:!1,label:x.jsx(B9,{mainTooltip:i,secondaryTooltip:l}),children:C}):C}),Rde=T.forwardRef((t,e)=>{const{className:n,text:r,icon:i,isSelected:l,mainTooltip:a,secondaryTooltip:u,onClick:d,onMouseEnter:h,...p}=t;Mt(p,!1);const[g,y]=T.useState(!1),v=x.jsxs(J_,{className:n,checked:l===!0,wrapperProps:{onMouseEnter:h,onMouseLeave:()=>y(!1),onClick:w=>{y(!0),d==null||d(w)}},variant:"light",icon:null,ref:e,children:[x.jsx("span",{children:i}),x.jsx("span",{children:r})]});return!a||g?v:x.jsx(Xm,{refProp:"rootRef",withinPortal:!1,label:x.jsx(B9,{mainTooltip:a,secondaryTooltip:u}),children:v})}),Nde=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i),x.jsx(uo,{className:n,ref:e,children:r})}),Ode=T.forwardRef((t,e)=>{const{className:n,children:r,headerText:i,selected:l,onFocus:a,onBlur:u,tabIndex:d,...h}=t;Mt(h,!1);const p=T.useRef(null);return T.useEffect(()=>{var g;l&&((g=p.current)==null||g.scrollIntoView({behavior:"smooth",block:"center"}))},[l]),x.jsxs(W1,{className:er(n,l?"selected":""),onFocus:a,onBlur:u,tabIndex:d,ref:hN([e,p]),children:[i&&x.jsx(ka,{className:"bn-header-text",children:i}),r]})}),Dde=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i,!1),x.jsx(W1.Section,{className:n,ref:e,children:r})}),Lde=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i,!1),x.jsx(HN,{className:n,label:x.jsx(ka,{children:r}),ref:e})}),Pde=T.forwardRef((t,e)=>{const{authorInfo:n,timeString:r,edited:i,...l}=t;return Mt(l,!1),n==="loading"?x.jsxs(uo,{children:[x.jsx(SC,{height:24,width:24}),x.jsx("div",{children:x.jsx(SC,{height:12,width:100})})]}):x.jsxs(uo,{children:[x.jsx(Y_,{src:n.avatarUrl,alt:n.username,radius:"xl",size:"sm",color:"initials"}),x.jsxs(ka,{fz:"sm",fw:"bold",children:[n.username,x.jsxs(ka,{fz:"xs",c:"dimmed",span:!0,ml:"xs",children:[r," ",i&&"(edited)"]})]})]})}),Ide=T.forwardRef((t,e)=>{const{className:n,showActions:r,authorInfo:i,timeString:l,edited:a,actions:u,children:d,...h}=t,{hovered:p,ref:g}=sae(),{focused:y,ref:v}=Vj(),w=hN([e,g]);return Mt(h,!1),x.jsxs(uo,{pos:"relative",ref:w,className:n,children:[u&&(r===!0||r===void 0||r==="hover"&&p||y)?x.jsx(uo,{ref:v,style:{position:"absolute",right:0,top:0,zIndex:10},children:u}):null,x.jsx(Pde,{...t}),d]})}),Bde=T.forwardRef((t,e)=>{const{className:n,autoFocus:r,onFocus:i,onBlur:l,editor:a,editable:u,...d}=t;return Mt(d,!1),x.jsx(V9,{autoFocus:r,className:n,editor:t.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:u,ref:e,onFocus:i,onBlur:l,children:x.jsx(Cj,{formattingToolbar:jde})})}),jde=()=>{const t=wj([]).filter(e=>e.key!=="nestBlockButton"&&e.key!=="unnestBlockButton");return x.jsx(kj,{blockTypeSelectItems:[],children:t})},zde=T.forwardRef((t,e)=>{const{className:n,name:r,label:i,icon:l,value:a,autoFocus:u,placeholder:d,onKeyDown:h,onChange:p,onSubmit:g,...y}=t;return Mt(y),x.jsx(tS,{size:"xs",className:n,ref:e,name:r,label:i,leftSection:l,value:a,autoFocus:u,"data-autofocus":u?"true":void 0,placeholder:d,onKeyDown:h,onChange:p,onSubmit:g})});var j9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HL=lt.createContext&&lt.createContext(j9),$de=["attr","size","title"];function Hde(t,e){if(t==null)return{};var n=Vde(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xC(){return xC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xC.apply(this,arguments)}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){Ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ude(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Gde(t,"string");return typeof e=="symbol"?e:e+""}function Gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z9(t){return t&&t.map((e,n)=>lt.createElement(e.tag,EC({key:n},e.attr),z9(e.child)))}function $9(t){return e=>lt.createElement(qde,xC({attr:EC({},t.attr)},e),z9(t.child))}function qde(t){var e=n=>{var{attr:r,size:i,title:l}=t,a=Hde(t,$de),u=i||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),lt.createElement("svg",xC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:d,style:EC(EC({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&lt.createElement("title",null,l),t.children)};return HL!==void 0?lt.createElement(HL.Consumer,null,n=>e(n)):e(j9)}function Wde(t){return $9({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function Kde(t){return $9({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}const H9=T.createContext(void 0),Zde=T.forwardRef((t,e)=>{const{children:n,onOpenChange:r,position:i,sub:l,...a}=t;Mt(a);const[u,d]=T.useState(!1),h=T.useRef(null),p=T.useRef(),g=T.useCallback(()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{d(!1)},250)},[]),y=T.useCallback(()=>{p.current&&clearTimeout(p.current),d(!0)},[]);return x.jsx(H9.Provider,{value:{onMenuMouseOver:y,onMenuMouseLeave:g},children:x.jsx(qn.Item,{className:"bn-menu-item bn-mt-sub-menu-item",ref:F1(e,h),onMouseOver:y,onMouseLeave:g,children:x.jsx(qn,{portalProps:{target:h.current?h.current.parentElement:void 0},middlewares:{flip:!0,shift:!0,inline:!1,size:!0},trigger:"hover",opened:u,onChange:r,position:i,children:n})})})}),Xde=t=>{const{children:e,onOpenChange:n,position:r,sub:i,...l}=t;return Mt(l),i?x.jsx(Zde,{...t}):x.jsx(qn,{withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:r,children:e})},Yde=T.forwardRef((t,e)=>{const{className:n,children:r,icon:i,checked:l,subTrigger:a,onClick:u,...d}=t;return Mt(d,!1),a?x.jsxs("div",{onClick:h=>{h.preventDefault(),h.stopPropagation()},ref:e,...d,children:[r,x.jsx(Kde,{size:15})]}):x.jsx(qn.Item,{className:n,ref:e,leftSection:i,rightSection:l?x.jsx(PN,{size:10}):l===!1?x.jsx("div",{className:"bn-tick-space"}):null,onClick:u,...d,children:r})}),Qde=t=>{const{children:e,sub:n,...r}=t;return Mt(r),x.jsx(qn.Target,{children:e})},Jde=T.forwardRef((t,e)=>{const{className:n,children:r,sub:i,...l}=t;Mt(l);const a=T.useContext(H9);return x.jsx(qn.Dropdown,{className:n,ref:e,onMouseOver:a==null?void 0:a.onMenuMouseOver,onMouseLeave:a==null?void 0:a.onMenuMouseLeave,children:r})}),efe=T.forwardRef((t,e)=>{const{className:n,...r}=t;return Mt(r),x.jsx(qn.Divider,{className:n,ref:e})}),tfe=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i),x.jsx(qn.Label,{className:n,ref:e,children:r})}),nfe=T.forwardRef((t,e)=>{const{className:n,children:r,icon:i,onClick:l,onDragEnd:a,onDragStart:u,draggable:d,label:h,...p}=t;return Mt(p,!1),i?x.jsx(Dp,{size:24,className:n,ref:e,onClick:l,onDragEnd:a,onDragStart:u,draggable:d,"aria-label":h,...p,children:i}):x.jsx(Ql,{className:n,ref:e,onClick:l,onDragEnd:a,onDragStart:u,draggable:d,"aria-label":h,...p,children:r})}),rfe=T.forwardRef((t,e)=>{const{className:n,tabs:r,defaultOpenTab:i,openTab:l,setOpenTab:a,loading:u,...d}=t;return Mt(d),x.jsx(uo,{className:n,ref:e,children:x.jsxs(ou,{value:l,defaultValue:i,onChange:a,children:[u&&x.jsx(UN,{visible:u}),x.jsx(ou.List,{children:r.map(h=>x.jsx(ou.Tab,{"data-test":`${h.name.toLowerCase()}-tab`,value:h.name,children:h.name},h.name))}),r.map(h=>x.jsx(ou.Panel,{value:h.name,children:h.tabPanel},h.name))]})})}),ofe=T.forwardRef((t,e)=>{const{className:n,children:r,onClick:i,label:l,...a}=t;return Mt(a),x.jsx(Ql,{size:"xs","aria-label":l,className:n,ref:e,onClick:i,...a,children:r})}),ife=T.forwardRef((t,e)=>{const{className:n,accept:r,value:i,placeholder:l,onChange:a,...u}=t;return Mt(u),x.jsx(Zue,{size:"xs",className:n,ref:e,accept:r,value:i,placeholder:l,onChange:a,...u})}),sfe=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i),x.jsx("div",{className:n,ref:e,children:r})}),lfe=T.forwardRef((t,e)=>{const{className:n,value:r,placeholder:i,onKeyDown:l,onChange:a,...u}=t;return Mt(u),x.jsx(tS,{size:"xs","data-test":"embed-input",className:n,ref:e,value:r,placeholder:i,onKeyDown:l,onChange:a})}),afe=t=>{const{opened:e,position:n,children:r,...i}=t;return Mt(i),x.jsx(vd,{withinPortal:!1,opened:e,position:n,children:r})},cfe=t=>{const{children:e,...n}=t;return Mt(n),x.jsx(AN,{children:e})},ufe=T.forwardRef((t,e)=>{const{className:n,children:r,variant:i,...l}=t;return Mt(l),x.jsx(F_,{className:n,ref:e,children:r})}),dfe=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i,!1),x.jsx(uo,{align:"center",gap:0,className:n,ref:e,...i,children:r})}),ffe=T.forwardRef((t,e)=>{const{className:n,children:r,icon:i,onClick:l,onDragEnd:a,onDragStart:u,draggable:d,label:h,...p}=t;return Mt(p,!1),i?x.jsx(Dp,{size:24,className:n,ref:e,onClick:l,onDragEnd:a,onDragStart:u,draggable:d,"aria-label":h,...p,children:i}):x.jsx(Ql,{className:n,ref:e,onClick:l,onDragEnd:a,onDragStart:u,draggable:d,"aria-label":h,...p,children:r})}),hfe=T.forwardRef((t,e)=>{const{className:n,children:r,id:i,...l}=t;return Mt(l),x.jsx(Z1,{gap:0,className:n,ref:e,id:i,role:"listbox",children:r})}),pfe=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i),x.jsx(uo,{className:n,ref:e,children:x.jsx(uo,{className:"bn-mt-suggestion-menu-item-title",children:r})})}),mfe=T.forwardRef((t,e)=>{const{className:n,isSelected:r,onClick:i,item:l,id:a,...u}=t;Mt(u);const d=T.useRef(null);return T.useEffect(()=>{if(!d.current||!r)return;const h=Oj(d.current,document.querySelector(".bn-suggestion-menu"));h==="top"?d.current.scrollIntoView(!0):h==="bottom"&&d.current.scrollIntoView(!1)},[r]),x.jsxs(uo,{gap:0,className:n,ref:F1(e,d),id:a,role:"option",onClick:i,"aria-selected":r||void 0,children:[l.icon&&x.jsx(uo,{className:"bn-mt-suggestion-menu-item-section","data-position":"left",children:l.icon}),x.jsxs(Z1,{gap:0,className:"bn-mt-suggestion-menu-item-body",children:[x.jsx(ka,{className:"bn-mt-suggestion-menu-item-title",children:l.title}),x.jsx(ka,{className:"bn-mt-suggestion-menu-item-subtitle",children:l.subtext})]}),l.badge&&x.jsx(uo,{"data-position":"right",className:"bn-mt-suggestion-menu-item-section",children:x.jsx(BN,{size:"xs",children:l.badge})})]})}),gfe=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i),x.jsx(uo,{className:n,ref:e,children:r})}),bfe=T.forwardRef((t,e)=>{const{className:n,children:r,...i}=t;return Mt(i),x.jsx(wd,{className:n,type:"dots",ref:e})}),yfe=T.forwardRef((t,e)=>{const{className:n,children:r,id:i,columns:l,...a}=t;return Mt(a),x.jsx("div",{className:n,style:{gridTemplateColumns:`repeat(${l}, 1fr)`},ref:e,id:i,role:"grid",children:r})}),vfe=T.forwardRef((t,e)=>{const{className:n,children:r,columns:i,...l}=t;return Mt(l),x.jsx(uo,{className:n,style:{gridColumn:`1 / ${i+1}`},ref:e,children:x.jsx(uo,{className:"bn-mt-suggestion-menu-item-title",children:r})})}),wfe=T.forwardRef((t,e)=>{const{className:n,isSelected:r,onClick:i,item:l,id:a,...u}=t;Mt(u);const d=T.useRef(null);return T.useEffect(()=>{if(!d.current||!r)return;const h=Oj(d.current,document.querySelector(".bn-grid-suggestion-menu"));h==="top"?d.current.scrollIntoView(!0):h==="bottom"&&d.current.scrollIntoView(!1)},[r]),x.jsx("div",{className:n,ref:F1(e,d),id:a,role:"option",onClick:i,"aria-selected":r||void 0,children:l.icon})}),kfe=T.forwardRef((t,e)=>{const{className:n,children:r,columns:i,...l}=t;return Mt(l),x.jsx(wd,{className:n,style:{gridColumn:`1 / ${i+1}`},type:"dots",ref:e})}),Cfe=T.forwardRef((t,e)=>{const{children:n,className:r,onMouseDown:i,onClick:l,...a}=t;return Mt(a,!1),x.jsx(Ql,{className:r,ref:e,onMouseDown:i,onClick:l,...a,children:n})}),_fe=T.forwardRef((t,e)=>{const{className:n,children:r,draggable:i,onDragStart:l,onDragEnd:a,style:u,label:d,...h}=t;return Mt(h,!1),x.jsx(Ql,{className:n,ref:e,"aria-label":d,draggable:i,onDragStart:l,onDragEnd:a,style:u,...h,children:r})}),X2=T.forwardRef((t,e)=>{const{className:n,children:r,onMouseEnter:i,onMouseLeave:l,variant:a,...u}=t;Mt(u);const{ref:d,focused:h}=Vj(),p=Hj(h),g=F1(e,d,p);return x.jsx(LN,{className:n,ref:g,role:"toolbar",onMouseEnter:i,onMouseLeave:l,gap:a==="action-toolbar"?2:void 0,children:r})}),Y2=T.forwardRef((t,e)=>{const{className:n,items:r,isDisabled:i,...l}=t;Mt(l);const a=r.filter(u=>u.isSelected)[0];return a?x.jsxs(qn,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:i,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},children:[x.jsx(qn.Target,{children:x.jsx(Ql,{onMouseDown:u=>{xM()&&u.currentTarget.focus()},leftSection:a.icon,rightSection:x.jsx(Wde,{}),size:"xs",variant:"subtle",disabled:i,children:a.text})}),x.jsx(qn.Dropdown,{className:n,ref:e,children:r.map(u=>x.jsx(qn.Item,{onClick:u.onClick,leftSection:u.icon,rightSection:u.isSelected?x.jsx(PN,{size:10,className:"bn-tick-icon"}):x.jsx("div",{className:"bn-tick-space"}),disabled:u.isDisabled,children:u.text},u.text))})]}):null}),Sfe={FormattingToolbar:{Root:X2,Button:Z2,Select:Y2},FilePanel:{Root:rfe,Button:ofe,FileInput:ife,TabPanel:sfe,TextInput:lfe},GridSuggestionMenu:{Root:yfe,Item:wfe,EmptyItem:vfe,Loader:kfe},LinkToolbar:{Root:X2,Button:Z2,Select:Y2},SideMenu:{Root:dfe,Button:ffe},SuggestionMenu:{Root:hfe,Item:mfe,EmptyItem:pfe,Label:gfe,Loader:bfe},TableHandle:{Root:_fe,ExtendButton:Cfe},Generic:{Badge:{Root:Rde,Group:Nde},Form:{Root:t=>x.jsx("div",{children:t.children}),TextInput:zde},Menu:{Root:Xde,Trigger:Qde,Dropdown:Jde,Divider:efe,Label:tfe,Item:Yde,Button:nfe},Popover:{Root:afe,Trigger:cfe,Content:ufe},Toolbar:{Root:X2,Button:Z2,Select:Y2}},Comments:{Comment:Ide,Editor:Bde,Card:Ode,CardSection:Dde,ExpandSectionsPrompt:Lde}},xfe={activeClassName:""},V9=t=>{const{className:e,theme:n,...r}=t,i=Ma(),l=Mj(),a=(i==null?void 0:i.colorSchemePreference)||l,u=T.useCallback(h=>{if(h&&(Ade(h),typeof n=="object")){if("light"in n&&"dark"in n){$L(n[a==="dark"?"dark":"light"],h);return}$L(n,h);return}},[a,n]),d=typeof n=="string"?n:a!=="no-preference"?a:"light";return x.jsx(rj.Provider,{value:Sfe,children:x.jsx(Xj,{theme:xfe,cssVariablesSelector:".bn-mantine",getRootElement:()=>{},children:x.jsx(mle,{"data-mantine-color-scheme":d,className:er("bn-mantine",e||""),theme:typeof n=="object"?void 0:n,...r,ref:u})})})};var Efe=Object.defineProperty,Tfe=(t,e,n)=>e in t?Efe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ko=(t,e,n)=>Tfe(t,typeof e!="symbol"?e+"":e,n);const Mfe={slash_menu:{two_columns:{title:"عمودان",subtext:"عمودان جنبًا إلى جنب",aliases:["أعمدة","صف","تقسيم"],group:"الكتل الأساسية"},three_columns:{title:"ثلاثة أعمدة",subtext:"ثلاثة أعمدة جنبًا إلى جنب",aliases:["أعمدة","صف","تقسيم"],group:"الكتل الأساسية"}}},Afe={slash_menu:{two_columns:{title:"Zwei Spalten",subtext:"Zwei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blöcke"},three_columns:{title:"Drei Spalten",subtext:"Drei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blöcke"}}},Rfe={slash_menu:{two_columns:{title:"Two Columns",subtext:"Two columns side by side",aliases:["columns","row","split"],group:"Basic blocks"},three_columns:{title:"Three Columns",subtext:"Three columns side by side",aliases:["columns","row","split"],group:"Basic blocks"}}},Nfe={slash_menu:{two_columns:{title:"Dos Columnas",subtext:"Dos columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques básicos"},three_columns:{title:"Tres Columnas",subtext:"Tres columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques básicos"}}},Ofe={slash_menu:{two_columns:{title:"Deux Colonnes",subtext:"Deux colonnes côte à côte",aliases:["colonnes","rangée","partager"],group:"Blocs de base"},three_columns:{title:"Trois Colonnes",subtext:"Trois colonnes côte à côte",aliases:["colonnes","rangée","partager"],group:"Blocs de base"}}},Dfe={slash_menu:{two_columns:{title:"Dva Stupca",subtext:"Dva stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"},three_columns:{title:"Tri Stupca",subtext:"Tri stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"}}},Lfe={slash_menu:{two_columns:{title:"Tvær Dálkar",subtext:"Tvær dálkar hlið við hlið",aliases:["dálkar","röð","skipta"],group:"Grunnblokkar"},three_columns:{title:"Þrír Dálkar",subtext:"Þrír dálkar hlið við hlið",aliases:["dálkar","röð","skipta"],group:"Grunnblokkar"}}},Pfe={slash_menu:{two_columns:{title:"二列",subtext:"二列並んで",aliases:["列","行","分割"],group:"基本ブロック"},three_columns:{title:"三列",subtext:"三列並んで",aliases:["列","行","分割"],group:"基本ブロック"}}},Ife={slash_menu:{two_columns:{title:"두 열",subtext:"두 열 나란히",aliases:["열","행","분할"],group:"기본 블록"},three_columns:{title:"세 열",subtext:"세 열 나란히",aliases:["열","행","분할"],group:"기본 블록"}}},Bfe={slash_menu:{two_columns:{title:"Twee Kolommen",subtext:"Twee kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"},three_columns:{title:"Drie Kolommen",subtext:"Drie kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"}}},jfe={slash_menu:{two_columns:{title:"Dwie Kolumny",subtext:"Dwie kolumny obok siebie",aliases:["kolumny","rząd","podzielić"],group:"Podstawowe bloki"},three_columns:{title:"Trzy Kolumny",subtext:"Trzy kolumny obok siebie",aliases:["kolumny","rząd","podzielić"],group:"Podstawowe bloki"}}},zfe={slash_menu:{two_columns:{title:"Duas Colunas",subtext:"Duas colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos básicos"},three_columns:{title:"Três Colunas",subtext:"Três colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos básicos"}}},$fe={slash_menu:{two_columns:{title:"Два Столбца",subtext:"Два столбца рядом",aliases:["столбцы","ряд","разделить"],group:"Базовые блоки"},three_columns:{title:"Три Столбца",subtext:"Три столбца рядом",aliases:["столбцы","ряд","разделить"],group:"Базовые блоки"}}},Hfe={slash_menu:{two_columns:{title:"Hai Cột",subtext:"Hai cột cạnh nhau",aliases:["cột","hàng","chia"],group:"Khối cơ bản"},three_columns:{title:"Ba Cột",subtext:"Ba cột cạnh nhau",aliases:["cột","hàng","chia"],group:"Khối cơ bản"}}},Vfe={slash_menu:{two_columns:{title:"两列",subtext:"两列并排",aliases:["列","行","分割"],group:"基础"},three_columns:{title:"三列",subtext:"三列并排",aliases:["列","行","分割"],group:"基础"}}},Ufe=Object.freeze(Object.defineProperty({__proto__:null,ar:Mfe,de:Afe,en:Rfe,es:Nfe,fr:Ofe,hr:Dfe,is:Lfe,ja:Pfe,ko:Ife,nl:Bfe,pl:jfe,pt:zfe,ru:$fe,vi:Hfe,zh:Vfe},Symbol.toStringTag,{value:"Module"}));function UL(t){if(!t.dictionary.multi_column)throw new Error("Multi-column dictionary not found");return t.dictionary.multi_column}const Hu=new Ht("ColumnResizePlugin");class Ffe{constructor(e,n){Ko(this,"editor"),Ko(this,"view"),Ko(this,"RESIZE_MARGIN_WIDTH_PX",20),Ko(this,"COLUMN_MIN_WIDTH_PERCENT",.5),Ko(this,"getColumnHoverOrDefaultState",r=>{if(!this.editor.isEditable)return{type:"default"};const i=r.target;if(!this.view.dom.contains(i))return{type:"default"};const l=i.closest(".bn-block-column");if(!l)return{type:"default"};const a=r.clientX,u=l.getBoundingClientRect(),d=a<u.left+this.RESIZE_MARGIN_WIDTH_PX?"left":a>u.right-this.RESIZE_MARGIN_WIDTH_PX?"right":"none",h=d==="left"?l.previousElementSibling:d==="right"?l.nextElementSibling:void 0;if(!h)return{type:"default"};const p=d==="left"?h:l,g=d==="left"?l:h,y=p.getAttribute("data-id"),v=g.getAttribute("data-id"),w=ni(y,this.view.state.doc),C=ni(v,this.view.state.doc);if(!w||!C||!w.posBeforeNode)throw new Error("Column not found");return{type:"hover",leftColumn:{element:p,id:y,...w},rightColumn:{element:g,id:v,...C}}}),Ko(this,"mouseDownHandler",r=>{let i=this.getColumnHoverOrDefaultState(r);if(i.type==="default")return;r.preventDefault();const l=r.clientX,a=i.leftColumn.element.getBoundingClientRect().width,u=i.rightColumn.element.getBoundingClientRect().width,d=i.leftColumn.node.attrs.width,h=i.rightColumn.node.attrs.width;i={type:"resize",startPos:l,leftColumn:{...i.leftColumn,widthPx:a,widthPercent:d},rightColumn:{...i.rightColumn,widthPx:u,widthPercent:h}},this.view.dispatch(this.view.state.tr.setMeta(Hu,i)),this.editor.sideMenu.freezeMenu()}),Ko(this,"mouseMoveHandler",r=>{var i,l;const a=Hu.getState(this.view.state);if(!a)return;if(a.type!=="resize"){const g=this.getColumnHoverOrDefaultState(r),y=a.type==="default"&&g.type==="default",v=a.type!=="default"&&g.type!=="default"&&a.leftColumn.id===g.leftColumn.id&&a.rightColumn.id===g.rightColumn.id;if(y||v||g.type==="hover"&&(l=(i=this.editor.sideMenu.view)==null?void 0:i.state)!=null&&l.show)return;this.view.dispatch(this.view.state.tr.setMeta(Hu,g));return}const u=(r.clientX-a.startPos)*a.leftColumn.widthPercent,d=(a.leftColumn.widthPx+u)/a.leftColumn.widthPx-1;let h=a.leftColumn.widthPercent+d,p=a.rightColumn.widthPercent-d;h<this.COLUMN_MIN_WIDTH_PERCENT?(p-=this.COLUMN_MIN_WIDTH_PERCENT-h,h=this.COLUMN_MIN_WIDTH_PERCENT):p<this.COLUMN_MIN_WIDTH_PERCENT&&(h-=this.COLUMN_MIN_WIDTH_PERCENT-p,p=this.COLUMN_MIN_WIDTH_PERCENT),this.view.dispatch(this.view.state.tr.setNodeAttribute(a.leftColumn.posBeforeNode,"width",h).setNodeAttribute(a.rightColumn.posBeforeNode,"width",p).setMeta("addToHistory",!1))}),Ko(this,"mouseUpHandler",r=>{const i=Hu.getState(this.view.state);if(!i||i.type!=="resize")return;const l=this.getColumnHoverOrDefaultState(r);this.view.dispatch(this.view.state.tr.setMeta(Hu,l)),this.editor.sideMenu.unfreezeMenu()}),this.editor=e,this.view=n,this.view.dom.addEventListener("mousedown",this.mouseDownHandler),document.body.addEventListener("mousemove",this.mouseMoveHandler),document.body.addEventListener("mouseup",this.mouseUpHandler)}destroy(){this.view.dom.removeEventListener("mousedown",this.mouseDownHandler),document.body.removeEventListener("mousemove",this.mouseMoveHandler),document.body.removeEventListener("mouseup",this.mouseUpHandler)}}const Gfe=t=>new Ct({key:Hu,props:{decorations:e=>{const n=Hu.getState(e);return!n||n.type==="default"?Ot.empty:Ot.create(e.doc,[Qt.node(n.leftColumn.posBeforeNode,n.leftColumn.posBeforeNode+n.leftColumn.node.nodeSize,{style:"box-shadow: 4px 0 0 #ccc; cursor: col-resize"}),Qt.node(n.rightColumn.posBeforeNode,n.rightColumn.posBeforeNode+n.rightColumn.node.nodeSize,{style:"cursor: col-resize"})])}},state:{init:()=>({type:"default"}),apply:(e,n)=>{const r=e.getMeta(Hu);return r===void 0?n:r}},view:e=>new Ffe(t,e)}),qfe=t=>an.create({name:"columnResize",addProseMirrorPlugins(){return[Gfe(t)]}}),Wfe=yi({name:"column",group:"bnBlock childContainer",content:"blockContainer+",priority:40,defining:!0,addAttributes(){return{width:{default:1,parseHTML:t=>{const e=t.getAttribute("data-width");if(e===null)return null;const n=parseFloat(e);return isFinite(n)?n:null},renderHTML:t=>({"data-width":t.width.toString(),style:`flex-grow: ${t.width};`})}}},parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column",e.setAttribute("data-node-type",this.name);for(const[n,r]of Object.entries(t))e.setAttribute(n,r);return{dom:e,contentDOM:e}},addExtensions(){return[qfe(this.options.editor)]}}),Kfe=yi({name:"columnList",group:"childContainer bnBlock blockGroupChild",content:"column column+",priority:40,defining:!0,parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column-list",e.setAttribute("data-node-type",this.name);for(const[n,r]of Object.entries(t))e.setAttribute(n,r);return e.style.display="flex",{dom:e,contentDOM:e}}}),U9=Yl(Wfe,{width:{default:1}}),F9=Yl(Kfe,{}),FL=$m.create({blockSpecs:{column:U9,columnList:F9}}),Zfe=t=>$m.create({blockSpecs:{...t.blockSpecs,column:U9,columnList:F9},inlineContentSpecs:t.inlineContentSpecs,styleSpecs:t.styleSpecs}),TC=.1;function Xfe(t){return{left:t.clientX,top:t.clientY}}function Yfe(t){const e=t.editor;return new Ct({view(n){return new Qfe(n,t)},props:{handleDrop(n,r,i,l){const a=n.posAtCoords(Xfe(r));if(!a)throw new Error("Could not get event position");const u=G9(n.state,a),d=sd(u),h=n.nodeDOM(u.posBeforeNode).getBoundingClientRect();let p="regular";if(r.clientX<=h.left+h.width*TC&&(p="left"),r.clientX>=h.right-h.width*TC&&(p="right"),p==="regular")return!1;const g=jn(i.content.child(0),e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);if(d.blockNoteType==="column"){const y=n.state.doc.resolve(d.bnBlock.beforePos).node(),v=jn(y,e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);let w=0;v.children.forEach(A=>{w+=A.props.width});const C=w/v.children.length;if(C<.99||C>1.01){const A=1/C;v.children.forEach(N=>{N.props.width=N.props.width*A})}const S=v.children.findIndex(A=>A.id===d.bnBlock.node.attrs.id),E=v.children.map(A=>({...A,children:A.children.filter(N=>N.id!==g.id)})).filter(A=>A.children.length>0).toSpliced(p==="left"?S:S+1,0,{type:"column",children:[g],props:{},content:void 0,id:D1.options.generateID()});e.removeBlocks([g]),e.updateBlock(v,{children:E})}else{const y=jn(d.bnBlock.node,e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);if(y.id===g.id)return;const v=p==="left"?[g,y]:[y,g];e.removeBlocks([g]),e.replaceBlocks([y],[{type:"columnList",children:v.map(w=>({type:"column",children:[w]}))}])}return!0}}})}class Qfe{constructor(e,n){Ko(this,"width"),Ko(this,"color"),Ko(this,"class"),Ko(this,"cursorPos"),Ko(this,"element",null),Ko(this,"timeout"),Ko(this,"handlers"),this.editorView=e,this.width=n.width??1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{const i=l=>{this[r](l)};return e.dom.addEventListener(r,i,r==="drop"?!0:void 0),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n,e==="drop"?!0:void 0))}update(e,n){this.cursorPos!=null&&n.doc!==e.state.doc&&(this.cursorPos.pos>e.state.doc.content.size?this.setCursor(void 0):this.updateOverlay())}setCursor(e){var n,r;e===this.cursorPos||(e==null?void 0:e.pos)===((n=this.cursorPos)==null?void 0:n.pos)&&(e==null?void 0:e.position)===((r=this.cursorPos)==null?void 0:r.position)||(this.cursorPos=e,e?this.updateOverlay():(this.element.parentNode.removeChild(this.element),this.element=null))}updateOverlay(){if(!this.cursorPos)throw new Error("updateOverlay called with no cursor position");const e=this.editorView.state.doc.resolve(this.cursorPos.pos),n=!e.parent.inlineContent;let r;const i=this.editorView.dom,l=i.getBoundingClientRect(),a=l.width/i.offsetWidth,u=l.height/i.offsetHeight;if(n){const g=e.nodeBefore,y=e.nodeAfter;if(g||y)if(this.cursorPos.position==="left"||this.cursorPos.position==="right"){const v=this.editorView.nodeDOM(this.cursorPos.pos);if(!v)throw new Error("nodeDOM returned null in updateOverlay");const w=v.getBoundingClientRect(),C=this.width/2*u,S=this.cursorPos.position==="left"?w.left:w.right;r={left:S-C,right:S+C,top:w.top,bottom:w.bottom}}else{const v=this.editorView.nodeDOM(this.cursorPos.pos-(g?g.nodeSize:0));if(v){const w=v.getBoundingClientRect();let C=g?w.bottom:w.top;g&&y&&(C=(C+this.editorView.nodeDOM(this.cursorPos.pos).getBoundingClientRect().top)/2);const S=this.width/2*u;this.cursorPos.position==="regular"&&(r={left:w.left,right:w.right,top:C-S,bottom:C+S})}}}if(!r){const g=this.editorView.coordsAtPos(this.cursorPos.pos),y=this.width/2*a;r={left:g.left-y,right:g.left+y,top:g.top,bottom:g.bottom}}const d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-vertical",this.cursorPos.position!=="regular"),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!d||d===document.body&&getComputedStyle(d).position==="static")h=-window.scrollX,p=-window.scrollY;else{const g=d.getBoundingClientRect(),y=g.width/d.offsetWidth,v=g.height/d.offsetHeight;h=g.left-d.scrollLeft*y,p=g.top-d.scrollTop*v}this.element.style.left=(r.left-h)/a+"px",this.element.style.top=(r.top-p)/u+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(void 0),e)}dragover(e){if(!this.editorView.editable)return;const n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,l=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!l){let a="regular",u=n.pos;const d=G9(this.editorView.state,n),h=this.editorView.nodeDOM(d.posBeforeNode).getBoundingClientRect();if(e.clientX<=h.left+h.width*TC&&(a="left",u=d.posBeforeNode),e.clientX>=h.right-h.width*TC&&(a="right",u=d.posBeforeNode),a==="regular"&&this.editorView.dragging&&this.editorView.dragging.slice){const p=PA(this.editorView.state.doc,u,this.editorView.dragging.slice);p!=null&&(u=p)}this.setCursor({pos:u,position:a}),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.setCursor(void 0)}dragleave(e){(e.target===this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(void 0)}}function G9(t,e){const n=mu(t.doc,e.pos);let r=t.doc.resolve(n.posBeforeNode);return r.parent.type.name==="column"&&(r=t.doc.resolve(r.before())),{posBeforeNode:r.pos,node:r.nodeAfter}}var q9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GL=lt.createContext&&lt.createContext(q9),Jfe=["attr","size","title"];function ehe(t,e){if(t==null)return{};var n=the(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function the(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MC.apply(this,arguments)}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nhe(t,e,n){return e=rhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=ohe(t,"string");return typeof e=="symbol"?e:e+""}function ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W9(t){return t&&t.map((e,n)=>lt.createElement(e.tag,AC({key:n},e.attr),W9(e.child)))}function K9(t){return e=>lt.createElement(ihe,MC({attr:AC({},t.attr)},e),W9(t.child))}function ihe(t){var e=n=>{var{attr:r,size:i,title:l}=t,a=ehe(t,Jfe),u=i||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),lt.createElement("svg",MC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:d,style:AC(AC({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&lt.createElement("title",null,l),t.children)};return GL!==void 0?lt.createElement(GL.Consumer,null,n=>e(n)):e(q9)}function she(t){return K9({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"},child:[]}]})(t)}function lhe(t){return K9({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm6 -1v18m6 -18v18"},child:[]}]})(t)}function ahe(t){return"column"in t.schema.blockSchema&&t.schema.blockSchema.columnList===FL.blockSchema.columnList&&"column"in t.schema.blockSchema&&t.schema.blockSchema.column===FL.blockSchema.column}function che(t){const e=[];return ahe(t)&&e.push({...UL(t).slash_menu.two_columns,icon:x.jsx(she,{size:18}),onItemClick:()=>{po(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}},{...UL(t).slash_menu.three_columns,icon:x.jsx(lhe,{size:18}),onItemClick:()=>{po(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}}),e}var uhe=function(t){return typeof t=="function"};function dhe(t){var e=T.useRef(t);e.current=T.useMemo(function(){return t},[t]);var n=T.useRef();return n.current||(n.current=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.current.apply(this,r)}),n.current}function fhe(t){var e=T.useRef(t);return e.current=t,e}var Z9=function(t){var e=fhe(t);T.useEffect(function(){return function(){e.current()}},[])},hhe=function(t){T.useEffect(function(){t==null||t()},[])},phe=function(){var t=Dj(T.useState({}),2),e=t[1];return T.useCallback(function(){return e({})},[])};function mhe(t,e){e===void 0&&(e={});var n=t??{},r=e.defaultValue,i=e.defaultValuePropName,l=i===void 0?"defaultValue":i,a=e.valuePropName,u=a===void 0?"value":a,d=e.trigger,h=d===void 0?"onChange":d,p=n[u],g=Object.prototype.hasOwnProperty.call(n,u),y=T.useMemo(function(){return g?p:Object.prototype.hasOwnProperty.call(n,l)?n[l]:r},[]),v=T.useRef(y);g&&(v.current=p);var w=phe();function C(S){for(var E=[],A=1;A<arguments.length;A++)E[A-1]=arguments[A];var N=uhe(S)?S(v.current):S;g||(v.current=N,w()),n[h]&&n[h].apply(n,Dle([N],Dj(E),!1))}return[v.current,dhe(C)]}let Ar=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function ghe(t){return e3(t)}function e3(t){return Array.isArray(t)?bhe(t):t instanceof RegExp?t:typeof t=="object"?yhe(t):t}function bhe(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=e3(t[n]);return e}function yhe(t){let e={};for(let n in t)e[n]=e3(t[n]);return e}function X9(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function Y9(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?Y9(t.substring(0,t.length-1)):t.substr(~e+1)}var Q2=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Aw=class{static hasCaptures(t){return t===null?!1:(Q2.lastIndex=0,Q2.test(t))}static replaceCaptures(t,e,n){return t.replace(Q2,(r,i,l,a)=>{let u=n[parseInt(i||l,10)];if(u){let d=e.substring(u.start,u.end);for(;d[0]===".";)d=d.substring(1);switch(a){case"downcase":return d.toLowerCase();case"upcase":return d.toUpperCase();default:return d}}else return r})}};function Q9(t,e){return t<e?-1:t>e?1:0}function J9(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let i=0;i<n;i++){let l=Q9(t[i],e[i]);if(l!==0)return l}return 0}return n-r}function WL(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function ez(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var tz=class{constructor(t){ae(this,"cache",new Map);this.fn=t}get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},RC=class{constructor(t,e,n){ae(this,"_cachedMatchRoot",new tz(t=>this._root.match(t)));this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(khe(t),e)}static createFromParsedTheme(t,e){return _he(t,e)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,r=this._cachedMatchRoot.get(e).find(i=>vhe(t.parent,i.parentScopes));return r?new nz(r.fontStyle,r.foreground,r.background):null}},J2=class tk{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new tk(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new tk(n,e[r]);return n}push(e){return new tk(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function vhe(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],i=!0}for(;t&&!whe(t.scopeName,r);){if(i)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function whe(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var nz=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function khe(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let i=0,l=e.length;i<l;i++){let a=e[i];if(!a.settings)continue;let u;if(typeof a.scope=="string"){let g=a.scope;g=g.replace(/^[,]+/,""),g=g.replace(/[,]+$/,""),u=g.split(",")}else Array.isArray(a.scope)?u=a.scope:u=[""];let d=-1;if(typeof a.settings.fontStyle=="string"){d=0;let g=a.settings.fontStyle.split(" ");for(let y=0,v=g.length;y<v;y++)switch(g[y]){case"italic":d=d|1;break;case"bold":d=d|2;break;case"underline":d=d|4;break;case"strikethrough":d=d|8;break}}let h=null;typeof a.settings.foreground=="string"&&WL(a.settings.foreground)&&(h=a.settings.foreground);let p=null;typeof a.settings.background=="string"&&WL(a.settings.background)&&(p=a.settings.background);for(let g=0,y=u.length;g<y;g++){let w=u[g].trim().split(" "),C=w[w.length-1],S=null;w.length>1&&(S=w.slice(0,w.length-1),S.reverse()),n[r++]=new Che(C,S,i,d,h,p)}}return n}var Che=class{constructor(t,e,n,r,i,l){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=i,this.background=l}},Rs=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Rs||{});function _he(t,e){t.sort((d,h)=>{let p=Q9(d.scope,h.scope);return p!==0||(p=J9(d.parentScopes,h.parentScopes),p!==0)?p:d.index-h.index});let n=0,r="#000000",i="#ffffff";for(;t.length>=1&&t[0].scope==="";){let d=t.shift();d.fontStyle!==-1&&(n=d.fontStyle),d.foreground!==null&&(r=d.foreground),d.background!==null&&(i=d.background)}let l=new She(e),a=new nz(n,l.getId(r),l.getId(i)),u=new Ehe(new XM(0,null,-1,0,0),[]);for(let d=0,h=t.length;d<h;d++){let p=t[d];u.insert(0,p.scope,p.parentScopes,p.fontStyle,l.getId(p.foreground),l.getId(p.background))}return new RC(l,a,u)}var She=class{constructor(t){ae(this,"_isFrozen");ae(this,"_lastColorId");ae(this,"_id2color");ae(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},xhe=Object.freeze([]),XM=class rz{constructor(e,n,r,i,l){ae(this,"scopeDepth");ae(this,"parentScopes");ae(this,"fontStyle");ae(this,"foreground");ae(this,"background");this.scopeDepth=e,this.parentScopes=n||xhe,this.fontStyle=r,this.foreground=i,this.background=l}clone(){return new rz(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)}},Ehe=class YM{constructor(e,n=[],r={}){ae(this,"_rulesWithParentScopes");this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,i=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[i]===">"&&i++,!(r>=e.parentScopes.length||i>=n.parentScopes.length);){const l=n.parentScopes[i].length-e.parentScopes[r].length;if(l!==0)return l;r++,i++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),i,l;if(r===-1?(i=e,l=""):(i=e.substring(0,r),l=e.substring(r+1)),this._children.hasOwnProperty(i))return this._children[i].match(l)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(YM._cmpBySpecificity),n}insert(e,n,r,i,l,a){if(n===""){this._doInsertHere(e,r,i,l,a);return}let u=n.indexOf("."),d,h;u===-1?(d=n,h=""):(d=n.substring(0,u),h=n.substring(u+1));let p;this._children.hasOwnProperty(d)?p=this._children[d]:(p=new YM(this._mainRule.clone(),XM.cloneArr(this._rulesWithParentScopes)),this._children[d]=p),p.insert(e+1,h,r,i,l,a)}_doInsertHere(e,n,r,i,l){if(n===null){this._mainRule.acceptOverwrite(e,r,i,l);return}for(let a=0,u=this._rulesWithParentScopes.length;a<u;a++){let d=this._rulesWithParentScopes[a];if(J9(d.parentScopes,n)===0){d.acceptOverwrite(e,r,i,l);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),l===0&&(l=this._mainRule.background),this._rulesWithParentScopes.push(new XM(e,n,r,i,l))}},Om=class ks{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=ks.getLanguageId(e),r=ks.getTokenType(e),i=ks.getFontStyle(e),l=ks.getForeground(e),a=ks.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:l,background:a})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,i,l,a,u){let d=ks.getLanguageId(e),h=ks.getTokenType(e),p=ks.containsBalancedBrackets(e)?1:0,g=ks.getFontStyle(e),y=ks.getForeground(e),v=ks.getBackground(e);return n!==0&&(d=n),r!==8&&(h=r),i!==null&&(p=i?1:0),l!==-1&&(g=l),a!==0&&(y=a),u!==0&&(v=u),(d<<0|h<<8|p<<10|g<<11|y<<15|v<<24)>>>0}};function NC(t,e){const n=[],r=The(t);let i=r.next();for(;i!==null;){let d=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":d=1;break;case"L":d=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let h=a();if(n.push({matcher:h,priority:d}),i!==",")break;i=r.next()}return n;function l(){if(i==="-"){i=r.next();const d=l();return h=>!!d&&!d(h)}if(i==="("){i=r.next();const d=u();return i===")"&&(i=r.next()),d}if(KL(i)){const d=[];do d.push(i),i=r.next();while(KL(i));return h=>e(d,h)}return null}function a(){const d=[];let h=l();for(;h;)d.push(h),h=l();return p=>d.every(g=>g(p))}function u(){const d=[];let h=a();for(;h&&(d.push(h),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");h=a()}return p=>d.some(g=>g(p))}}function KL(t){return!!t&&!!t.match(/[\w\.:]+/)}function The(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function oz(t){typeof t.dispose=="function"&&t.dispose()}var b1=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Mhe=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Ahe=class{constructor(){ae(this,"_references",[]);ae(this,"_seenReferenceKeys",new Set);ae(this,"visitedRule",new Set)}get references(){return this._references}add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},Rhe=class{constructor(t,e){ae(this,"seenFullScopeRequests",new Set);ae(this,"seenPartialScopeRequests",new Set);ae(this,"Q");this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new b1(this.initialScopeName)]}processQueue(){const t=this.Q;this.Q=[];const e=new Ahe;for(const n of t)Nhe(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof b1){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function Nhe(t,e,n,r){const i=n.lookup(t.scopeName);if(!i){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const l=n.lookup(e);t instanceof b1?nk({baseGrammar:l,selfGrammar:i},r):QM(t.ruleName,{baseGrammar:l,selfGrammar:i,repository:i.repository},r);const a=n.injections(t.scopeName);if(a)for(const u of a)r.add(new b1(u))}function QM(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];OC([r],e,n)}}function nk(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&OC(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&OC(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function OC(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const i=r.repository?X9({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&OC(r.patterns,{...e,repository:i},n);const l=r.include;if(!l)continue;const a=iz(l);switch(a.kind){case 0:nk({...e,selfGrammar:e.baseGrammar},n);break;case 1:nk(e,n);break;case 2:QM(a.ruleName,{...e,repository:i},n);break;case 3:case 4:const u=a.scopeName===e.selfGrammar.scopeName?e.selfGrammar:a.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(u){const d={baseGrammar:e.baseGrammar,selfGrammar:u,repository:i};a.kind===4?QM(a.ruleName,d,n):nk(d,n)}else a.kind===4?n.add(new Mhe(a.scopeName,a.ruleName)):n.add(new b1(a.scopeName));break}}}var Ohe=class{constructor(){ae(this,"kind",0)}},Dhe=class{constructor(){ae(this,"kind",1)}},Lhe=class{constructor(t){ae(this,"kind",2);this.ruleName=t}},Phe=class{constructor(t){ae(this,"kind",3);this.scopeName=t}},Ihe=class{constructor(t,e){ae(this,"kind",4);this.scopeName=t,this.ruleName=e}};function iz(t){if(t==="$base")return new Ohe;if(t==="$self")return new Dhe;const e=t.indexOf("#");if(e===-1)return new Phe(t);if(e===0)return new Lhe(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new Ihe(n,r)}}var Bhe=/\\(\d+)/,ZL=/\\(\d+)/g,jhe=-1,sz=-2;var Y1=class{constructor(t,e,n,r){ae(this,"$location");ae(this,"id");ae(this,"_nameIsCapturing");ae(this,"_name");ae(this,"_contentNameIsCapturing");ae(this,"_contentName");this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=Aw.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=Aw.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${Y9(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Aw.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Aw.replaceCaptures(this._contentName,t,e)}},zhe=class extends Y1{constructor(e,n,r,i,l){super(e,n,r,i);ae(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=l}dispose(){}collectPatterns(e,n){throw new Error("Not supported!")}compile(e,n){throw new Error("Not supported!")}compileAG(e,n,r,i){throw new Error("Not supported!")}},$he=class extends Y1{constructor(e,n,r,i,l){super(e,n,r,null);ae(this,"_match");ae(this,"captures");ae(this,"_cachedCompiledPatterns");this._match=new y1(i,this.id),this.captures=l,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,n){n.push(this._match)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,i){return this._getCachedCompiledPatterns(e).compileAG(e,r,i)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new v1,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},XL=class extends Y1{constructor(e,n,r,i,l){super(e,n,r,i);ae(this,"hasMissingPatterns");ae(this,"patterns");ae(this,"_cachedCompiledPatterns");this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,n){for(const r of this.patterns)e.getRule(r).collectPatterns(e,n)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,i){return this._getCachedCompiledPatterns(e).compileAG(e,r,i)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new v1,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},JM=class extends Y1{constructor(e,n,r,i,l,a,u,d,h,p){super(e,n,r,i);ae(this,"_begin");ae(this,"beginCaptures");ae(this,"_end");ae(this,"endHasBackReferences");ae(this,"endCaptures");ae(this,"applyEndPatternLast");ae(this,"hasMissingPatterns");ae(this,"patterns");ae(this,"_cachedCompiledPatterns");this._begin=new y1(l,this.id),this.beginCaptures=a,this._end=new y1(u||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=d,this.applyEndPatternLast=h||!1,this.patterns=p.patterns,this.hasMissingPatterns=p.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,n){return this._end.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e,n).compile(e)}compileAG(e,n,r,i){return this._getCachedCompiledPatterns(e,n).compileAG(e,r,i)}_getCachedCompiledPatterns(e,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new v1;for(const r of this.patterns)e.getRule(r).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}},DC=class extends Y1{constructor(e,n,r,i,l,a,u,d,h){super(e,n,r,i);ae(this,"_begin");ae(this,"beginCaptures");ae(this,"whileCaptures");ae(this,"_while");ae(this,"whileHasBackReferences");ae(this,"hasMissingPatterns");ae(this,"patterns");ae(this,"_cachedCompiledPatterns");ae(this,"_cachedCompiledWhilePatterns");this._begin=new y1(l,this.id),this.beginCaptures=a,this.whileCaptures=d,this._while=new y1(u,sz),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=h.patterns,this.hasMissingPatterns=h.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,n){return this._while.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,i){return this._getCachedCompiledPatterns(e).compileAG(e,r,i)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new v1;for(const n of this.patterns)e.getRule(n).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,n){return this._getCachedCompiledWhilePatterns(e,n).compile(e)}compileWhileAG(e,n,r,i){return this._getCachedCompiledWhilePatterns(e,n).compileAG(e,r,i)}_getCachedCompiledWhilePatterns(e,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new v1,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||"￿"),this._cachedCompiledWhilePatterns}},lz=class ho{static createCaptureRule(e,n,r,i,l){return e.registerRule(a=>new zhe(n,a,r,i,l))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(i=>{if(e.id=i,e.match)return new $he(e.$vscodeTextmateLocation,e.id,e.name,e.match,ho._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=X9({},r,e.repository));let l=e.patterns;return typeof l>"u"&&e.include&&(l=[{include:e.include}]),new XL(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,ho._compilePatterns(l,n,r))}return e.while?new DC(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,ho._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,ho._compileCaptures(e.whileCaptures||e.captures,n,r),ho._compilePatterns(e.patterns,n,r)):new JM(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,ho._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,ho._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,ho._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let i=[];if(e){let l=0;for(const a in e){if(a==="$vscodeTextmateLocation")continue;const u=parseInt(a,10);u>l&&(l=u)}for(let a=0;a<=l;a++)i[a]=null;for(const a in e){if(a==="$vscodeTextmateLocation")continue;const u=parseInt(a,10);let d=0;e[a].patterns&&(d=ho.getCompiledRuleId(e[a],n,r)),i[u]=ho.createCaptureRule(n,e[a].$vscodeTextmateLocation,e[a].name,e[a].contentName,d)}}return i}static _compilePatterns(e,n,r){let i=[];if(e)for(let l=0,a=e.length;l<a;l++){const u=e[l];let d=-1;if(u.include){const h=iz(u.include);switch(h.kind){case 0:case 1:d=ho.getCompiledRuleId(r[u.include],n,r);break;case 2:let p=r[h.ruleName];p&&(d=ho.getCompiledRuleId(p,n,r));break;case 3:case 4:const g=h.scopeName,y=h.kind===4?h.ruleName:null,v=n.getExternalGrammar(g,r);if(v)if(y){let w=v.repository[y];w&&(d=ho.getCompiledRuleId(w,n,v.repository))}else d=ho.getCompiledRuleId(v.repository.$self,n,v.repository);break}}else d=ho.getCompiledRuleId(u,n,r);if(d!==-1){const h=n.getRule(d);let p=!1;if((h instanceof XL||h instanceof JM||h instanceof DC)&&h.hasMissingPatterns&&h.patterns.length===0&&(p=!0),p)continue;i.push(d)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}}},y1=class az{constructor(e,n){ae(this,"source");ae(this,"ruleId");ae(this,"hasAnchor");ae(this,"hasBackReferences");ae(this,"_anchorCache");if(e&&typeof e=="string"){const r=e.length;let i=0,l=[],a=!1;for(let u=0;u<r;u++)if(e.charAt(u)==="\\"&&u+1<r){const h=e.charAt(u+1);h==="z"?(l.push(e.substring(i,u)),l.push("$(?!\\n)(?<!\\n)"),i=u+2):(h==="A"||h==="G")&&(a=!0),u++}this.hasAnchor=a,i===0?this.source=e:(l.push(e.substring(i,r)),this.source=l.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=Bhe.test(this.source):this.hasBackReferences=!1}clone(){return new az(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(i=>e.substring(i.start,i.end));return ZL.lastIndex=0,this.source.replace(ZL,(i,l)=>ez(r[parseInt(l,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],i=[],l,a,u,d;for(l=0,a=this.source.length;l<a;l++)u=this.source.charAt(l),e[l]=u,n[l]=u,r[l]=u,i[l]=u,u==="\\"&&l+1<a&&(d=this.source.charAt(l+1),d==="A"?(e[l+1]="￿",n[l+1]="￿",r[l+1]="A",i[l+1]="A"):d==="G"?(e[l+1]="￿",n[l+1]="G",r[l+1]="￿",i[l+1]="G"):(e[l+1]=d,n[l+1]=d,r[l+1]=d,i[l+1]=d),l++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},v1=class{constructor(){ae(this,"_items");ae(this,"_hasAnchors");ae(this,"_cached");ae(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new YL(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(i=>i.resolveAnchors(e,n));return new YL(t,r,this._items.map(i=>i.ruleId))}},YL=class{constructor(t,e,n){ae(this,"scanner");this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},eT=class{constructor(t,e){this.languageId=t,this.tokenType=e}},Jc,Hhe=(Jc=class{constructor(e,n){ae(this,"_defaultAttributes");ae(this,"_embeddedLanguagesMatcher");ae(this,"_getBasicScopeAttributes",new tz(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new eT(n,r)}));this._defaultAttributes=new eT(e,8),this._embeddedLanguagesMatcher=new Vhe(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?Jc._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(Jc.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},ae(Jc,"_NULL_SCOPE_METADATA",new eT(0,0)),ae(Jc,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),Jc),Vhe=class{constructor(t){ae(this,"values");ae(this,"scopesRegExp");if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>ez(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},QL=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function cz(t,e,n,r,i,l,a,u){const d=e.content.length;let h=!1,p=-1;if(a){const v=Uhe(t,e,n,r,i,l);i=v.stack,r=v.linePos,n=v.isFirstLine,p=v.anchorPosition}const g=Date.now();for(;!h;){if(u!==0&&Date.now()-g>u)return new QL(i,!0);y()}return new QL(i,!1);function y(){const v=Fhe(t,e,n,r,i,p);if(!v){l.produce(i,d),h=!0;return}const w=v.captureIndices,C=v.matchedRuleId,S=w&&w.length>0?w[0].end>r:!1;if(C===jhe){const E=i.getRule(t);l.produce(i,w[0].start),i=i.withContentNameScopesList(i.nameScopesList),pv(t,e,n,i,l,E.endCaptures,w),l.produce(i,w[0].end);const A=i;if(i=i.parent,p=A.getAnchorPos(),!S&&A.getEnterPos()===r){i=A,l.produce(i,d),h=!0;return}}else{const E=t.getRule(C);l.produce(i,w[0].start);const A=i,N=E.getName(e.content,w),I=i.contentNameScopesList.pushAttributed(N,t);if(i=i.push(C,r,p,w[0].end===d,null,I,I),E instanceof JM){const B=E;pv(t,e,n,i,l,B.beginCaptures,w),l.produce(i,w[0].end),p=w[0].end;const F=B.getContentName(e.content,w),q=I.pushAttributed(F,t);if(i=i.withContentNameScopesList(q),B.endHasBackReferences&&(i=i.withEndRule(B.getEndWithResolvedBackReferences(e.content,w))),!S&&A.hasSameRuleAs(i)){i=i.pop(),l.produce(i,d),h=!0;return}}else if(E instanceof DC){const B=E;pv(t,e,n,i,l,B.beginCaptures,w),l.produce(i,w[0].end),p=w[0].end;const F=B.getContentName(e.content,w),q=I.pushAttributed(F,t);if(i=i.withContentNameScopesList(q),B.whileHasBackReferences&&(i=i.withEndRule(B.getWhileWithResolvedBackReferences(e.content,w))),!S&&A.hasSameRuleAs(i)){i=i.pop(),l.produce(i,d),h=!0;return}}else if(pv(t,e,n,i,l,E.captures,w),l.produce(i,w[0].end),i=i.pop(),!S){i=i.safePop(),l.produce(i,d),h=!0;return}}w[0].end>r&&(r=w[0].end,n=!1)}}function Uhe(t,e,n,r,i,l){let a=i.beginRuleCapturedEOL?0:-1;const u=[];for(let d=i;d;d=d.pop()){const h=d.getRule(t);h instanceof DC&&u.push({rule:h,stack:d})}for(let d=u.pop();d;d=u.pop()){const{ruleScanner:h,findOptions:p}=Whe(d.rule,t,d.stack.endRule,n,r===a),g=h.findNextMatchSync(e,r,p);if(g){if(g.ruleId!==sz){i=d.stack.pop();break}g.captureIndices&&g.captureIndices.length&&(l.produce(d.stack,g.captureIndices[0].start),pv(t,e,n,d.stack,l,d.rule.whileCaptures,g.captureIndices),l.produce(d.stack,g.captureIndices[0].end),a=g.captureIndices[0].end,g.captureIndices[0].end>r&&(r=g.captureIndices[0].end,n=!1))}else{i=d.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:a,isFirstLine:n}}function Fhe(t,e,n,r,i,l){const a=Ghe(t,e,n,r,i,l),u=t.getInjections();if(u.length===0)return a;const d=qhe(u,t,e,n,r,i,l);if(!d)return a;if(!a)return d;const h=a.captureIndices[0].start,p=d.captureIndices[0].start;return p<h||d.priorityMatch&&p===h?d:a}function Ghe(t,e,n,r,i,l){const a=i.getRule(t),{ruleScanner:u,findOptions:d}=uz(a,t,i.endRule,n,r===l),h=u.findNextMatchSync(e,r,d);return h?{captureIndices:h.captureIndices,matchedRuleId:h.ruleId}:null}function qhe(t,e,n,r,i,l,a){let u=Number.MAX_VALUE,d=null,h,p=0;const g=l.contentNameScopesList.getScopeNames();for(let y=0,v=t.length;y<v;y++){const w=t[y];if(!w.matcher(g))continue;const C=e.getRule(w.ruleId),{ruleScanner:S,findOptions:E}=uz(C,e,null,r,i===a),A=S.findNextMatchSync(n,i,E);if(!A)continue;const N=A.captureIndices[0].start;if(!(N>=u)&&(u=N,d=A.captureIndices,h=A.ruleId,p=w.priority,u===i))break}return d?{priorityMatch:p===-1,captureIndices:d,matchedRuleId:h}:null}function uz(t,e,n,r,i){return{ruleScanner:t.compileAG(e,n,r,i),findOptions:0}}function Whe(t,e,n,r,i){return{ruleScanner:t.compileWhileAG(e,n,r,i),findOptions:0}}function pv(t,e,n,r,i,l,a){if(l.length===0)return;const u=e.content,d=Math.min(l.length,a.length),h=[],p=a[0].end;for(let g=0;g<d;g++){const y=l[g];if(y===null)continue;const v=a[g];if(v.length===0)continue;if(v.start>p)break;for(;h.length>0&&h[h.length-1].endPos<=v.start;)i.produceFromScopes(h[h.length-1].scopes,h[h.length-1].endPos),h.pop();if(h.length>0?i.produceFromScopes(h[h.length-1].scopes,v.start):i.produce(r,v.start),y.retokenizeCapturedWithRuleId){const C=y.getName(u,a),S=r.contentNameScopesList.pushAttributed(C,t),E=y.getContentName(u,a),A=S.pushAttributed(E,t),N=r.push(y.retokenizeCapturedWithRuleId,v.start,-1,!1,null,S,A),I=t.createOnigString(u.substring(0,v.end));cz(t,I,n&&v.start===0,v.start,N,i,!1,0),oz(I);continue}const w=y.getName(u,a);if(w!==null){const S=(h.length>0?h[h.length-1].scopes:r.contentNameScopesList).pushAttributed(w,t);h.push(new Khe(S,v.end))}}for(;h.length>0;)i.produceFromScopes(h[h.length-1].scopes,h[h.length-1].endPos),h.pop()}var Khe=class{constructor(t,e){ae(this,"scopes");ae(this,"endPos");this.scopes=t,this.endPos=e}};function Zhe(t,e,n,r,i,l,a,u){return new Yhe(t,e,n,r,i,l,a,u)}function JL(t,e,n,r,i){const l=NC(e,LC),a=lz.getCompiledRuleId(n,r,i.repository);for(const u of l)t.push({debugSelector:e,matcher:u.matcher,ruleId:a,grammar:i,priority:u.priority})}function LC(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let i=n;i<e.length;i++)if(Xhe(e[i],r))return n=i+1,!0;return!1})}function Xhe(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var Yhe=class{constructor(t,e,n,r,i,l,a,u){ae(this,"_rootId");ae(this,"_lastRuleId");ae(this,"_ruleId2desc");ae(this,"_includedGrammars");ae(this,"_grammarRepository");ae(this,"_grammar");ae(this,"_injections");ae(this,"_basicScopeAttributesProvider");ae(this,"_tokenTypeMatchers");if(this._rootScopeName=t,this.balancedBracketSelectors=l,this._onigLib=u,this._basicScopeAttributesProvider=new Hhe(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=a,this._grammar=e5(e,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const d of Object.keys(i)){const h=NC(d,LC);for(const p of h)this._tokenTypeMatchers.push({matcher:p.matcher,type:i[d]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),injections:i=>this._grammarRepository.injections(i)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const i=r.injections;if(i)for(let a in i)JL(e,a,i[a],this,r);const l=this._grammarRepository.injections(n);l&&l.forEach(a=>{const u=this.getExternalGrammar(a);if(u){const d=u.injectionSelector;d&&JL(e,d,u,this,u)}})}return e.sort((i,l)=>i.priority-l.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=e5(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=lz.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!e||e===eA.NULL){i=!0;const h=this._basicScopeAttributesProvider.getDefaultAttributes(),p=this.themeProvider.getDefaults(),g=Om.set(0,h.languageId,h.tokenType,null,p.fontStyle,p.foregroundId,p.backgroundId),y=this.getRule(this._rootId).getName(null,null);let v;y?v=Lv.createRootAndLookUpScopeName(y,g,this):v=Lv.createRoot("unknown",g),e=new eA(null,this._rootId,-1,-1,!1,null,v,v)}else i=!1,e.reset();t=t+`
`;const l=this.createOnigString(t),a=l.content.length,u=new Jhe(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),d=cz(this,l,i,0,e,u,!0,r);return oz(l),{lineLength:a,lineTokens:u,ruleStack:d.stack,stoppedEarly:d.stoppedEarly}}};function e5(t,e){return t=ghe(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var Lv=class ta{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,i=(e==null?void 0:e.scopePath)??null;for(const l of n)i=J2.push(i,l.scopeNames),r=new ta(r,i,l.encodedTokenAttributes);return r}static createRoot(e,n){return new ta(null,new J2(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const i=r.getMetadataForScope(e),l=new J2(null,e),a=r.themeProvider.themeMatch(l),u=ta.mergeAttributes(n,i,a);return new ta(null,l,u)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return ta.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let i=-1,l=0,a=0;return r!==null&&(i=r.fontStyle,l=r.foregroundId,a=r.backgroundId),Om.set(e,n.languageId,n.tokenType,null,i,l,a)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return ta._pushAttributed(this,e,n);const r=e.split(/ /g);let i=this;for(const l of r)i=ta._pushAttributed(i,l,n);return i}static _pushAttributed(e,n,r){const i=r.getMetadataForScope(n),l=e.scopePath.push(n),a=r.themeProvider.themeMatch(l),u=ta.mergeAttributes(e.tokenAttributes,i,a);return new ta(e,l,u)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){var i;const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(((i=r.parent)==null?void 0:i.scopePath)??null)}),r=r.parent;return r===e?n.reverse():void 0}},Ts,eA=(Ts=class{constructor(e,n,r,i,l,a,u,d){ae(this,"_stackElementBrand");ae(this,"_enterPos");ae(this,"_anchorPos");ae(this,"depth");this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=l,this.endRule=a,this.nameScopesList=u,this.contentNameScopesList=d,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=i}equals(e){return e===null?!1:Ts._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?Lv.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Ts._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,i,l,a,u){return new Ts(this,e,n,r,i,l,a,u)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){var r,i;return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${(r=this.nameScopesList)==null?void 0:r.toString()}, ${(i=this.contentNameScopesList)==null?void 0:i.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Ts(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){var e,n,r;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((n=this.nameScopesList)==null?void 0:n.getExtensionIfDefined(((e=this.parent)==null?void 0:e.nameScopesList)??null))??[],contentNameScopesList:((r=this.contentNameScopesList)==null?void 0:r.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(e,n){const r=Lv.fromExtension((e==null?void 0:e.nameScopesList)??null,n.nameScopesList);return new Ts(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,Lv.fromExtension(r,n.contentNameScopesList))}},ae(Ts,"NULL",new Ts(null,0,0,0,!1,null,null,null)),Ts),Qhe=class{constructor(t,e){ae(this,"balancedBracketScopes");ae(this,"unbalancedBracketScopes");ae(this,"allowAny",!1);this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):NC(n,LC).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>NC(n,LC).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},Jhe=class{constructor(t,e,n,r){ae(this,"_emitBinaryTokens");ae(this,"_lineText");ae(this,"_tokens");ae(this,"_binaryTokens");ae(this,"_lastTokenEndIndex");ae(this,"_tokenTypeOverrides");this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){var r;if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let i=(t==null?void 0:t.tokenAttributes)??0,l=!1;if((r=this.balancedBracketSelectors)!=null&&r.matchesAlways&&(l=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const a=(t==null?void 0:t.getScopeNames())??[];for(const u of this._tokenTypeOverrides)u.matcher(a)&&(i=Om.set(i,0,u.type,null,-1,0,0));this.balancedBracketSelectors&&(l=this.balancedBracketSelectors.match(a))}if(l&&(i=Om.set(i,0,8,l,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===i){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(i),this._lastTokenEndIndex=e;return}const n=(t==null?void 0:t.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,i=this._binaryTokens.length;r<i;r++)n[r]=this._binaryTokens[r];return n}},epe=class{constructor(t,e){ae(this,"_grammars",new Map);ae(this,"_rawGrammars",new Map);ae(this,"_injectionGrammars",new Map);ae(this,"_theme");this._onigLib=e,this._theme=t}dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,i){if(!this._grammars.has(t)){let l=this._rawGrammars.get(t);if(!l)return null;this._grammars.set(t,Zhe(t,l,e,n,r,i,this,this._onigLib))}return this._grammars.get(t)}},tpe=class{constructor(e){ae(this,"_options");ae(this,"_syncRegistry");ae(this,"_ensureGrammarCache");this._options=e,this._syncRegistry=new epe(RC.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(RC.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new Qhe(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,i,l){const a=new Rhe(this._syncRegistry,e);for(;a.Q.length>0;)a.Q.map(u=>this._loadSingleGrammar(u.scopeName)),a.processQueue();return this._grammarForScopeName(e,n,r,i,l)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,i=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,i)}_grammarForScopeName(e,n=0,r=null,i=null,l=null){return this._syncRegistry.grammarForScopeName(e,n,r,i,l)}},tA=eA.NULL;const npe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Q1{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Q1.prototype.normal={};Q1.prototype.property={};Q1.prototype.space=void 0;function dz(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Q1(n,r,e)}function nA(t){return t.toLowerCase()}class wi{constructor(e,n){this.attribute=n,this.property=e}}wi.prototype.attribute="";wi.prototype.booleanish=!1;wi.prototype.boolean=!1;wi.prototype.commaOrSpaceSeparated=!1;wi.prototype.commaSeparated=!1;wi.prototype.defined=!1;wi.prototype.mustUseProperty=!1;wi.prototype.number=!1;wi.prototype.overloadedBoolean=!1;wi.prototype.property="";wi.prototype.spaceSeparated=!1;wi.prototype.space=void 0;let rpe=0;const wt=Lp(),or=Lp(),fz=Lp(),_e=Lp(),kn=Lp(),mm=Lp(),ls=Lp();function Lp(){return 2**++rpe}const rA=Object.freeze(Object.defineProperty({__proto__:null,boolean:wt,booleanish:or,commaOrSpaceSeparated:ls,commaSeparated:mm,number:_e,overloadedBoolean:fz,spaceSeparated:kn},Symbol.toStringTag,{value:"Module"})),tT=Object.keys(rA);class t3 extends wi{constructor(e,n,r,i){let l=-1;if(super(e,n),t5(this,"space",i),typeof r=="number")for(;++l<tT.length;){const a=tT[l];t5(this,tT[l],(r&rA[a])===rA[a])}}}t3.prototype.defined=!0;function t5(t,e,n){n&&(t[e]=n)}function Ym(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const l=new t3(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),e[r]=l,n[nA(r)]=r,n[nA(l.attribute)]=r}return new Q1(e,n,t.space)}const hz=Ym({properties:{ariaActiveDescendant:null,ariaAtomic:or,ariaAutoComplete:null,ariaBusy:or,ariaChecked:or,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:kn,ariaCurrent:null,ariaDescribedBy:kn,ariaDetails:null,ariaDisabled:or,ariaDropEffect:kn,ariaErrorMessage:null,ariaExpanded:or,ariaFlowTo:kn,ariaGrabbed:or,ariaHasPopup:null,ariaHidden:or,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kn,ariaLevel:_e,ariaLive:null,ariaModal:or,ariaMultiLine:or,ariaMultiSelectable:or,ariaOrientation:null,ariaOwns:kn,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:or,ariaReadOnly:or,ariaRelevant:null,ariaRequired:or,ariaRoleDescription:kn,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:or,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function pz(t,e){return e in t?t[e]:e}function mz(t,e){return pz(t,e.toLowerCase())}const ope=Ym({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mm,acceptCharset:kn,accessKey:kn,action:null,allow:null,allowFullScreen:wt,allowPaymentRequest:wt,allowUserMedia:wt,alt:null,as:null,async:wt,autoCapitalize:null,autoComplete:kn,autoFocus:wt,autoPlay:wt,blocking:kn,capture:null,charSet:null,checked:wt,cite:null,className:kn,cols:_e,colSpan:null,content:null,contentEditable:or,controls:wt,controlsList:kn,coords:_e|mm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:wt,defer:wt,dir:null,dirName:null,disabled:wt,download:fz,draggable:or,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:wt,formTarget:null,headers:kn,height:_e,hidden:wt,high:_e,href:null,hrefLang:null,htmlFor:kn,httpEquiv:kn,id:null,imageSizes:null,imageSrcSet:null,inert:wt,inputMode:null,integrity:null,is:null,isMap:wt,itemId:null,itemProp:kn,itemRef:kn,itemScope:wt,itemType:kn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:wt,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:wt,muted:wt,name:null,nonce:null,noModule:wt,noValidate:wt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:wt,optimum:_e,pattern:null,ping:kn,placeholder:null,playsInline:wt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:wt,referrerPolicy:null,rel:kn,required:wt,reversed:wt,rows:_e,rowSpan:_e,sandbox:kn,scope:null,scoped:wt,seamless:wt,selected:wt,shadowRootClonable:wt,shadowRootDelegatesFocus:wt,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:or,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:wt,useMap:null,value:or,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:kn,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:wt,declare:wt,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:wt,noHref:wt,noShade:wt,noWrap:wt,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:or,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:wt,disableRemotePlayback:wt,prefix:null,property:null,results:_e,security:null,unselectable:null},space:"html",transform:mz}),ipe=Ym({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ls,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:kn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:wt,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mm,g2:mm,glyphName:mm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:ls,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ls,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ls,rev:ls,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ls,requiredFeatures:ls,requiredFonts:ls,requiredFormats:ls,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:ls,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ls,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ls,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pz}),gz=Ym({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),bz=Ym({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mz}),yz=Ym({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),spe=/[A-Z]/g,n5=/-[a-z]/g,lpe=/^data[-\w.:]+$/i;function ape(t,e){const n=nA(e);let r=e,i=wi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&lpe.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(n5,upe);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!n5.test(l)){let a=l.replace(spe,cpe);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=t3}return new i(r,e)}function cpe(t){return"-"+t.toLowerCase()}function upe(t){return t.charAt(1).toUpperCase()}const dpe=dz([hz,ope,gz,bz,yz],"html"),vz=dz([hz,ipe,gz,bz,yz],"svg"),r5={}.hasOwnProperty;function fpe(t,e){const n=e||{};function r(i,...l){let a=r.invalid;const u=r.handlers;if(i&&r5.call(i,t)){const d=String(i[t]);a=r5.call(u,d)?u[d]:r.unknown}if(a)return a.call(this,i,...l)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const hpe=/["&'<>`]/g,ppe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mpe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,gpe=/[|\\{}()[\]^$+*?.]/g,o5=new WeakMap;function bpe(t,e){if(t=t.replace(e.subset?ype(e.subset):hpe,r),e.subset||e.escapeOnly)return t;return t.replace(ppe,n).replace(mpe,r);function n(i,l,a){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(l+2),e)}function r(i,l,a){return e.format(i.charCodeAt(0),a.charCodeAt(l+1),e)}}function ype(t){let e=o5.get(t);return e||(e=vpe(t),o5.set(t,e)),e}function vpe(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(gpe,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const wpe=/[\dA-Fa-f]/;function kpe(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!wpe.test(String.fromCharCode(e))?r:r+";"}const Cpe=/\d/;function _pe(t,e,n){const r="&#"+String(t);return n&&e&&!Cpe.test(String.fromCharCode(e))?r:r+";"}const Spe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],nT={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},xpe=["cent","copy","divide","gt","lt","not","para","times"],wz={}.hasOwnProperty,oA={};let Rw;for(Rw in nT)wz.call(nT,Rw)&&(oA[nT[Rw]]=Rw);const Epe=/[^\dA-Za-z]/;function Tpe(t,e,n,r){const i=String.fromCharCode(t);if(wz.call(oA,i)){const l=oA[i],a="&"+l;return n&&Spe.includes(l)&&!xpe.includes(l)&&(!r||e&&e!==61&&Epe.test(String.fromCharCode(e)))?a:a+";"}return""}function Mpe(t,e,n){let r=kpe(t,e,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=Tpe(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const l=_pe(t,e,n.omitOptionalSemicolons);l.length<r.length&&(r=l)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function gm(t,e){return bpe(t,Object.assign({format:Mpe},e))}const Ape=/^>|^->|<!--|-->|--!>|<!-$/g,Rpe=[">"],Npe=["<",">"];function Ope(t,e,n,r){return r.settings.bogusComments?"<?"+gm(t.value,Object.assign({},r.settings.characterReferences,{subset:Rpe}))+">":"<!--"+t.value.replace(Ape,i)+"-->";function i(l){return gm(l,Object.assign({},r.settings.characterReferences,{subset:Npe}))}}function Dpe(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function i5(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function m0e(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,l=!1;for(;!l;){r===-1&&(r=n.length,l=!0);const a=n.slice(i,r).trim();(a||!l)&&e.push(a),i=r+1,r=n.indexOf(",",i)}return e}function Lpe(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function g0e(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Ppe(t){return t.join(" ").trim()}const Ipe=/[ \t\n\f\r]/g;function n3(t){return typeof t=="object"?t.type==="text"?s5(t.value):!1:s5(t)}function s5(t){return t.replace(Ipe,"")===""}const Tr=Cz(1),kz=Cz(-1),Bpe=[];function Cz(t){return e;function e(n,r,i){const l=n?n.children:Bpe;let a=(r||0)+t,u=l[a];if(!i)for(;u&&n3(u);)a+=t,u=l[a];return u}}const jpe={}.hasOwnProperty;function _z(t){return e;function e(n,r,i){return jpe.call(t,n.tagName)&&t[n.tagName](n,r,i)}}const r3=_z({body:$pe,caption:rT,colgroup:rT,dd:Fpe,dt:Upe,head:rT,html:zpe,li:Vpe,optgroup:Gpe,option:qpe,p:Hpe,rp:l5,rt:l5,tbody:Kpe,td:a5,tfoot:Zpe,th:a5,thead:Wpe,tr:Xpe});function rT(t,e,n){const r=Tr(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&n3(r.value.charAt(0)))}function zpe(t,e,n){const r=Tr(n,e);return!r||r.type!=="comment"}function $pe(t,e,n){const r=Tr(n,e);return!r||r.type!=="comment"}function Hpe(t,e,n){const r=Tr(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function Vpe(t,e,n){const r=Tr(n,e);return!r||r.type==="element"&&r.tagName==="li"}function Upe(t,e,n){const r=Tr(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function Fpe(t,e,n){const r=Tr(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function l5(t,e,n){const r=Tr(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function Gpe(t,e,n){const r=Tr(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function qpe(t,e,n){const r=Tr(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function Wpe(t,e,n){const r=Tr(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function Kpe(t,e,n){const r=Tr(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function Zpe(t,e,n){return!Tr(n,e)}function Xpe(t,e,n){const r=Tr(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function a5(t,e,n){const r=Tr(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const Ype=_z({body:eme,colgroup:tme,head:Jpe,html:Qpe,tbody:nme});function Qpe(t){const e=Tr(t,-1);return!e||e.type!=="comment"}function Jpe(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function eme(t){const e=Tr(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&n3(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function tme(t,e,n){const r=kz(n,e),i=Tr(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&r3(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function nme(t,e,n){const r=kz(n,e),i=Tr(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&r3(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Nw={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function rme(t,e,n,r){const i=r.schema,l=i.space==="svg"?!1:r.settings.omitOptionalTags;let a=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const u=[];let d;i.space==="html"&&t.tagName==="svg"&&(r.schema=vz);const h=ome(r,t.properties),p=r.all(i.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=i,p&&(a=!1),(h||!l||!Ype(t,e,n))&&(u.push("<",t.tagName,h?" "+h:""),a&&(i.space==="svg"||r.settings.closeSelfClosing)&&(d=h.charAt(h.length-1),(!r.settings.tightSelfClosing||d==="/"||d&&d!=='"'&&d!=="'")&&u.push(" "),u.push("/")),u.push(">")),u.push(p),!a&&(!l||!r3(t,e,n))&&u.push("</"+t.tagName+">"),u.join("")}function ome(t,e){const n=[];let r=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const l=ime(t,i,e[i]);l&&n.push(l)}}for(;++r<n.length;){const l=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&l!=='"'&&l!=="'"&&(n[r]+=" ")}return n.join("")}function ime(t,e,n){const r=ape(t.schema,e),i=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,l=t.settings.allowDangerousCharacters?0:1;let a=t.quote,u;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const d=gm(r.attribute,Object.assign({},t.settings.characterReferences,{subset:Nw.name[i][l]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?Lpe:Ppe)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?d:(t.settings.preferUnquoted&&(u=gm(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Nw.unquoted[i][l]}))),u!==n&&(t.settings.quoteSmart&&i5(n,a)>i5(n,t.alternative)&&(a=t.alternative),u=a+gm(n,Object.assign({},t.settings.characterReferences,{subset:(a==="'"?Nw.single:Nw.double)[i][l],attribute:!0}))+a),d+(u&&"="+u))}const sme=["<","&"];function Sz(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:gm(t.value,Object.assign({},r.settings.characterReferences,{subset:sme}))}function lme(t,e,n,r){return r.settings.allowDangerousHtml?t.value:Sz(t,e,n,r)}function ame(t,e,n,r){return r.all(t)}const cme=fpe("type",{invalid:ume,unknown:dme,handlers:{comment:Ope,doctype:Dpe,element:rme,raw:lme,root:ame,text:Sz}});function ume(t){throw new Error("Expected node, not `"+t+"`")}function dme(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const fme={},hme={},pme=[];function mme(t,e){const n=e||fme,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:gme,all:bme,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||npe,characterReferences:n.characterReferences||hme,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?vz:dpe,quote:r,alternative:i}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function gme(t,e,n){return cme(t,e,n,this)}function bme(t){const e=[],n=t&&t.children||pme;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function PC(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[i,l]of Object.entries((e==null?void 0:e.colorReplacements)||{}))typeof l=="string"?n[i]=l:i===r&&Object.assign(n,l);return n}function Yh(t,e){return t&&((e==null?void 0:e[t==null?void 0:t.toLowerCase()])||t)}function yme(t){return Array.isArray(t)?t:[t]}async function xz(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function o3(t){return!t||["plaintext","txt","text","plain"].includes(t)}function Ez(t){return t==="ansi"||o3(t)}function i3(t){return t==="none"}function Tz(t){return i3(t)}function Mz(t,e){var r;if(!e)return t;t.properties||(t.properties={}),(r=t.properties).class||(r.class=[]),typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const i of n)i&&!t.properties.class.includes(i)&&t.properties.class.push(i);return t}function nS(t,e=!1){var l;const n=t.split(/(\r?\n)/g);let r=0;const i=[];for(let a=0;a<n.length;a+=2){const u=e?n[a]+(n[a+1]||""):n[a];i.push([u,r]),r+=n[a].length,r+=((l=n[a+1])==null?void 0:l.length)||0}return i}function vme(t){const e=nS(t,!0).map(([i])=>i);function n(i){if(i===t.length)return{line:e.length-1,character:e[e.length-1].length};let l=i,a=0;for(const u of e){if(l<u.length)break;l-=u.length,a++}return{line:a,character:l}}function r(i,l){let a=0;for(let u=0;u<i;u++)a+=e[u].length;return a+=l,a}return{lines:e,indexToPos:n,posToIndex:r}}function wme(t,e){let n=0;const r=[];for(const i of e)i>n&&r.push({...t,content:t.content.slice(n,i),offset:t.offset+n}),n=i;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function kme(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,i)=>r-i);return n.length?t.map(r=>r.flatMap(i=>{const l=n.filter(a=>i.offset<a&&a<i.offset+i.content.length).map(a=>a-i.offset).sort((a,u)=>a-u);return l.length?wme(i,l):i})):t}function Cme(t,e,n,r){const i={content:t.content,explanation:t.explanation,offset:t.offset},l=e.map(d=>Az(t.variants[d])),a=new Set(l.flatMap(d=>Object.keys(d))),u={};return l.forEach((d,h)=>{for(const p of a){const g=d[p]||"inherit";if(h===0&&r)u[p]=g;else{const y=p==="color"?"":p==="background-color"?"-bg":`-${p}`,v=n+e[h]+(p==="color"?"":y);u[v]=g}}}),i.htmlStyle=u,i}function Az(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&Rs.Italic&&(e["font-style"]="italic"),t.fontStyle&Rs.Bold&&(e["font-weight"]="bold");const n=[];t.fontStyle&Rs.Underline&&n.push("underline"),t.fontStyle&Rs.Strikethrough&&n.push("line-through"),n.length&&(e["text-decoration"]=n.join(" "))}return e}function _me(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const Rz=new WeakMap;function rS(t,e){Rz.set(t,e)}function w1(t){return Rz.get(t)}class Qm{constructor(...e){ae(this,"_stacks",{});ae(this,"lang");if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,i]=e;this.lang=r,this._stacks={[i]:n}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Qm(Object.fromEntries(yme(n).map(r=>[r,tA])),e)}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return Sme(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function Sme(t){const e=[],n=new Set;function r(i){var a;if(n.has(i))return;n.add(i);const l=(a=i==null?void 0:i.nameScopesList)==null?void 0:a.scopeName;l&&e.push(l),i.parent&&r(i.parent)}return r(t),e}function xme(t,e){if(!(t instanceof Qm))throw new Ar("Invalid grammar state");return t.getInternalStack(e)}function Eme(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(a){if(typeof a=="number"){if(a<0||a>n.source.length)throw new Ar(`Invalid decoration offset: ${a}. Code length: ${n.source.length}`);return{...i.indexToPos(a),offset:a}}else{const u=i.lines[a.line];if(u===void 0)throw new Ar(`Invalid decoration position ${JSON.stringify(a)}. Lines length: ${i.lines.length}`);if(a.character<0||a.character>u.length)throw new Ar(`Invalid decoration position ${JSON.stringify(a)}. Line ${a.line} length: ${u.length}`);return{...a,offset:i.posToIndex(a.line,a.character)}}};const i=vme(n.source),l=(n.options.decorations||[]).map(a=>({...a,start:r(a.start),end:r(a.end)}));Tme(l),t.set(n.meta,{decorations:l,converter:i,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){var a;if(!((a=this.options.decorations)!=null&&a.length))return;const i=e(this).decorations.flatMap(u=>[u.start.offset,u.end.offset]);return kme(n,i)},code(n){var p;if(!((p=this.options.decorations)!=null&&p.length))return;const r=e(this),i=Array.from(n.children).filter(g=>g.type==="element"&&g.tagName==="span");if(i.length!==r.converter.lines.length)throw new Ar(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function l(g,y,v,w){const C=i[g];let S="",E=-1,A=-1;if(y===0&&(E=0),v===0&&(A=0),v===Number.POSITIVE_INFINITY&&(A=C.children.length),E===-1||A===-1)for(let I=0;I<C.children.length;I++)S+=Nz(C.children[I]),E===-1&&S.length===y&&(E=I+1),A===-1&&S.length===v&&(A=I+1);if(E===-1)throw new Ar(`Failed to find start index for decoration ${JSON.stringify(w.start)}`);if(A===-1)throw new Ar(`Failed to find end index for decoration ${JSON.stringify(w.end)}`);const N=C.children.slice(E,A);if(!w.alwaysWrap&&N.length===C.children.length)u(C,w,"line");else if(!w.alwaysWrap&&N.length===1&&N[0].type==="element")u(N[0],w,"token");else{const I={type:"element",tagName:"span",properties:{},children:N};u(I,w,"wrapper"),C.children.splice(E,N.length,I)}}function a(g,y){i[g]=u(i[g],y,"line")}function u(g,y,v){var S;const w=y.properties||{},C=y.transform||(E=>E);return g.tagName=y.tagName||"span",g.properties={...g.properties,...w,class:g.properties.class},(S=y.properties)!=null&&S.class&&Mz(g,y.properties.class),g=C(g,v)||g,g}const d=[],h=r.decorations.sort((g,y)=>y.start.offset-g.start.offset||g.end.offset-y.end.offset);for(const g of h){const{start:y,end:v}=g;if(y.line===v.line)l(y.line,y.character,v.character,g);else if(y.line<v.line){l(y.line,y.character,Number.POSITIVE_INFINITY,g);for(let w=y.line+1;w<v.line;w++)d.unshift(()=>a(w,g));l(v.line,0,v.character,g)}}d.forEach(g=>g())}}}function Tme(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new Ar(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const i=t[r],l=n.start.offset<=i.start.offset&&i.start.offset<n.end.offset,a=n.start.offset<i.end.offset&&i.end.offset<=n.end.offset,u=i.start.offset<=n.start.offset&&n.start.offset<i.end.offset,d=i.start.offset<n.end.offset&&n.end.offset<=i.end.offset;if(l||a||u||d){if(l&&a||u&&d)continue;throw new Ar(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}function Nz(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(Nz).join(""):""}const Mme=[Eme()];function IC(t){return[...t.transformers||[],...Mme]}var Qh=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],oT={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function Ame(t,e){const n=t.indexOf("\x1B",e);if(n!==-1&&t[n+1]==="["){const r=t.indexOf("m",n);if(r!==-1)return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function c5(t){const e=t.shift();if(e==="2"){const n=t.splice(0,3).map(r=>Number.parseInt(r));return n.length!==3||n.some(r=>Number.isNaN(r))?void 0:{type:"rgb",rgb:n}}else if(e==="5"){const n=t.shift();if(n)return{type:"table",index:Number(n)}}}function Rme(t){const e=[];for(;t.length>0;){const n=t.shift();if(!n)continue;const r=Number.parseInt(n);if(!Number.isNaN(r))if(r===0)e.push({type:"resetAll"});else if(r<=9)oT[r]&&e.push({type:"setDecoration",value:oT[r]});else if(r<=29){const i=oT[r-20];i&&(e.push({type:"resetDecoration",value:i}),i==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Qh[r-30]}});else if(r===38){const i=c5(t);i&&e.push({type:"setForegroundColor",value:i})}else if(r===39)e.push({type:"resetForegroundColor"});else if(r<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Qh[r-40]}});else if(r===48){const i=c5(t);i&&e.push({type:"setBackgroundColor",value:i})}else r===49?e.push({type:"resetBackgroundColor"}):r===53?e.push({type:"setDecoration",value:"overline"}):r===55?e.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Qh[r-90+8]}}):r>=100&&r<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Qh[r-100+8]}})}return e}function Nme(){let t=null,e=null,n=new Set;return{parse(r){const i=[];let l=0;do{const a=Ame(r,l),u=a.sequence?r.substring(l,a.startPosition):r.substring(l);if(u.length>0&&i.push({value:u,foreground:t,background:e,decorations:new Set(n)}),a.sequence){const d=Rme(a.sequence);for(const h of d)h.type==="resetAll"?(t=null,e=null,n.clear()):h.type==="resetForegroundColor"?t=null:h.type==="resetBackgroundColor"?e=null:h.type==="resetDecoration"&&n.delete(h.value);for(const h of d)h.type==="setForegroundColor"?t=h.value:h.type==="setBackgroundColor"?e=h.value:h.type==="setDecoration"&&n.add(h.value)}l=a.position}while(l<r.length);return i}}}var Ome={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Dme(t=Ome){function e(u){return t[u]}function n(u){return`#${u.map(d=>Math.max(0,Math.min(d,255)).toString(16).padStart(2,"0")).join("")}`}let r;function i(){if(r)return r;r=[];for(let h=0;h<Qh.length;h++)r.push(e(Qh[h]));let u=[0,95,135,175,215,255];for(let h=0;h<6;h++)for(let p=0;p<6;p++)for(let g=0;g<6;g++)r.push(n([u[h],u[p],u[g]]));let d=8;for(let h=0;h<24;h++,d+=10)r.push(n([d,d,d]));return r}function l(u){return i()[u]}function a(u){switch(u.type){case"named":return e(u.name);case"rgb":return n(u.rgb);case"table":return l(u.index)}}return{value:a}}function Lme(t,e,n){const r=PC(t,n),i=nS(e),l=Dme(Object.fromEntries(Qh.map(u=>{var d;return[u,(d=t.colors)==null?void 0:d[`terminal.ansi${u[0].toUpperCase()}${u.substring(1)}`]]}))),a=Nme();return i.map(u=>a.parse(u[0]).map(d=>{let h,p;d.decorations.has("reverse")?(h=d.background?l.value(d.background):t.bg,p=d.foreground?l.value(d.foreground):t.fg):(h=d.foreground?l.value(d.foreground):t.fg,p=d.background?l.value(d.background):void 0),h=Yh(h,r),p=Yh(p,r),d.decorations.has("dim")&&(h=Pme(h));let g=Rs.None;return d.decorations.has("bold")&&(g|=Rs.Bold),d.decorations.has("italic")&&(g|=Rs.Italic),d.decorations.has("underline")&&(g|=Rs.Underline),d.decorations.has("strikethrough")&&(g|=Rs.Strikethrough),{content:d.value,offset:u[1],color:h,bgColor:p,fontStyle:g}}))}function Pme(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function s3(t,e,n={}){const{lang:r="text",theme:i=t.getLoadedThemes()[0]}=n;if(o3(r)||i3(i))return nS(e).map(d=>[{content:d[0],offset:d[1]}]);const{theme:l,colorMap:a}=t.setTheme(i);if(r==="ansi")return Lme(l,e,n);const u=t.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==u.name)throw new Ar(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${u.name}"`);if(!n.grammarState.themes.includes(l.name))throw new Ar(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${l.name}"`)}return Bme(e,u,l,a,n)}function Ime(...t){if(t.length===2)return w1(t[1]);const[e,n,r={}]=t,{lang:i="text",theme:l=e.getLoadedThemes()[0]}=r;if(o3(i)||i3(l))throw new Ar("Plain language does not have grammar state");if(i==="ansi")throw new Ar("ANSI language does not have grammar state");const{theme:a,colorMap:u}=e.setTheme(l),d=e.getLanguage(i);return new Qm(BC(n,d,a,u,r).stateStack,d.name,a.name)}function Bme(t,e,n,r,i){const l=BC(t,e,n,r,i),a=new Qm(BC(t,e,n,r,i).stateStack,e.name,n.name);return rS(l.tokens,a),l.tokens}function BC(t,e,n,r,i){const l=PC(n,i),{tokenizeMaxLineLength:a=0,tokenizeTimeLimit:u=500}=i,d=nS(t);let h=i.grammarState?xme(i.grammarState,n.name)??tA:i.grammarContextCode!=null?BC(i.grammarContextCode,e,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:tA,p=[];const g=[];for(let y=0,v=d.length;y<v;y++){const[w,C]=d[y];if(w===""){p=[],g.push([]);continue}if(a>0&&w.length>=a){p=[],g.push([{content:w,offset:C,color:"",fontStyle:0}]);continue}let S,E,A;i.includeExplanation&&(S=e.tokenizeLine(w,h,u),E=S.tokens,A=0);const N=e.tokenizeLine2(w,h,u),I=N.tokens.length/2;for(let B=0;B<I;B++){const F=N.tokens[2*B],q=B+1<I?N.tokens[2*B+2]:w.length;if(F===q)continue;const Z=N.tokens[2*B+1],Q=Yh(r[Om.getForeground(Z)],l),ie=Om.getFontStyle(Z),ke={content:w.substring(F,q),offset:C+F,color:Q,fontStyle:ie};if(i.includeExplanation){const ue=[];if(i.includeExplanation!=="scopeName")for(const we of n.settings){let de;switch(typeof we.scope){case"string":de=we.scope.split(/,/).map(L=>L.trim());break;case"object":de=we.scope;break;default:continue}ue.push({settings:we,selectors:de.map(L=>L.split(/ /))})}ke.explanation=[];let xe=0;for(;F+xe<q;){const we=E[A],de=w.substring(we.startIndex,we.endIndex);xe+=de.length,ke.explanation.push({content:de,scopes:i.includeExplanation==="scopeName"?jme(we.scopes):zme(ue,we.scopes)}),A+=1}}p.push(ke)}g.push(p),p=[],h=N.ruleStack}return{tokens:g,stateStack:h}}function jme(t){return t.map(e=>({scopeName:e}))}function zme(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const l=e[r];n[r]={scopeName:l,themeMatches:Hme(t,l,e.slice(0,r))}}return n}function u5(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function $me(t,e,n){if(!u5(t[t.length-1],e))return!1;let r=t.length-2,i=n.length-1;for(;r>=0&&i>=0;)u5(t[r],n[i])&&(r-=1),i-=1;return r===-1}function Hme(t,e,n){const r=[];for(const{selectors:i,settings:l}of t)for(const a of i)if($me(a,e,n)){r.push(l);break}return r}function Oz(t,e,n){const r=Object.entries(n.themes).filter(d=>d[1]).map(d=>({color:d[0],theme:d[1]})),i=r.map(d=>{const h=s3(t,e,{...n,theme:d.theme}),p=w1(h),g=typeof d.theme=="string"?d.theme:d.theme.name;return{tokens:h,state:p,theme:g}}),l=Vme(...i.map(d=>d.tokens)),a=l[0].map((d,h)=>d.map((p,g)=>{const y={content:p.content,variants:{},offset:p.offset};return"includeExplanation"in n&&n.includeExplanation&&(y.explanation=p.explanation),l.forEach((v,w)=>{const{content:C,explanation:S,offset:E,...A}=v[h][g];y.variants[r[w].color]=A}),y})),u=i[0].state?new Qm(Object.fromEntries(i.map(d=>{var h;return[d.theme,(h=d.state)==null?void 0:h.getInternalStack(d.theme)]})),i[0].state.lang):void 0;return u&&rS(a,u),a}function Vme(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const i=t.map(d=>d[r]),l=e.map(()=>[]);e.forEach((d,h)=>d.push(l[h]));const a=i.map(()=>0),u=i.map(d=>d[0]);for(;u.every(d=>d);){const d=Math.min(...u.map(h=>h.content.length));for(let h=0;h<n;h++){const p=u[h];p.content.length===d?(l[h].push(p),a[h]+=1,u[h]=i[h][a[h]]):(l[h].push({...p,content:p.content.slice(0,d)}),u[h]={...p,content:p.content.slice(d),offset:p.offset+d})}}}return e}function jC(t,e,n){let r,i,l,a,u,d;if("themes"in n){const{defaultColor:h="light",cssVariablePrefix:p="--shiki-"}=n,g=Object.entries(n.themes).filter(S=>S[1]).map(S=>({color:S[0],theme:S[1]})).sort((S,E)=>S.color===h?-1:E.color===h?1:0);if(g.length===0)throw new Ar("`themes` option must not be empty");const y=Oz(t,e,n);if(d=w1(y),h&&!g.find(S=>S.color===h))throw new Ar(`\`themes\` option must contain the defaultColor key \`${h}\``);const v=g.map(S=>t.getTheme(S.theme)),w=g.map(S=>S.color);l=y.map(S=>S.map(E=>Cme(E,w,p,h))),d&&rS(l,d);const C=g.map(S=>PC(S.theme,n));i=g.map((S,E)=>(E===0&&h?"":`${p+S.color}:`)+(Yh(v[E].fg,C[E])||"inherit")).join(";"),r=g.map((S,E)=>(E===0&&h?"":`${p+S.color}-bg:`)+(Yh(v[E].bg,C[E])||"inherit")).join(";"),a=`shiki-themes ${v.map(S=>S.name).join(" ")}`,u=h?void 0:[i,r].join(";")}else if("theme"in n){const h=PC(n.theme,n);l=s3(t,e,n);const p=t.getTheme(n.theme);r=Yh(p.bg,h),i=Yh(p.fg,h),a=p.name,d=w1(l)}else throw new Ar("Invalid options, either `theme` or `themes` must be provided");return{tokens:l,fg:i,bg:r,themeName:a,rootStyle:u,grammarState:d}}function zC(t,e,n,r={meta:{},options:n,codeToHast:(i,l)=>zC(t,i,l),codeToTokens:(i,l)=>jC(t,i,l)}){var v,w;let i=e;for(const C of IC(n))i=((v=C.preprocess)==null?void 0:v.call(r,i,n))||i;let{tokens:l,fg:a,bg:u,themeName:d,rootStyle:h,grammarState:p}=jC(t,i,n);const{mergeWhitespaces:g=!0}=n;g===!0?l=Fme(l):g==="never"&&(l=Gme(l));const y={...r,get source(){return i}};for(const C of IC(n))l=((w=C.tokens)==null?void 0:w.call(y,l))||l;return Ume(l,{...n,fg:a,bg:u,themeName:d,rootStyle:h},y,p)}function Ume(t,e,n,r=w1(t)){var w,C,S;const i=IC(e),l=[],a={type:"root",children:[]},{structure:u="classic",tabindex:d="0"}=e;let h={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...d!==!1&&d!=null?{tabindex:d.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([E])=>!E.startsWith("_")))},children:[]},p={type:"element",tagName:"code",properties:{},children:l};const g=[],y={...n,structure:u,addClassToHast:Mz,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return a},get pre(){return h},get code(){return p},get lines(){return g}};if(t.forEach((E,A)=>{var B,F;A&&(u==="inline"?a.children.push({type:"element",tagName:"br",properties:{},children:[]}):u==="classic"&&l.push({type:"text",value:`
`}));let N={type:"element",tagName:"span",properties:{class:"line"},children:[]},I=0;for(const q of E){let Z={type:"element",tagName:"span",properties:{...q.htmlAttrs},children:[{type:"text",value:q.content}]};const Q=_me(q.htmlStyle||Az(q));Q&&(Z.properties.style=Q);for(const ie of i)Z=((B=ie==null?void 0:ie.span)==null?void 0:B.call(y,Z,A+1,I,N,q))||Z;u==="inline"?a.children.push(Z):u==="classic"&&N.children.push(Z),I+=q.content.length}if(u==="classic"){for(const q of i)N=((F=q==null?void 0:q.line)==null?void 0:F.call(y,N,A+1))||N;g.push(N),l.push(N)}}),u==="classic"){for(const E of i)p=((w=E==null?void 0:E.code)==null?void 0:w.call(y,p))||p;h.children.push(p);for(const E of i)h=((C=E==null?void 0:E.pre)==null?void 0:C.call(y,h))||h;a.children.push(h)}let v=a;for(const E of i)v=((S=E==null?void 0:E.root)==null?void 0:S.call(y,v))||v;return r&&rS(v,r),v}function Fme(t){return t.map(e=>{const n=[];let r="",i=0;return e.forEach((l,a)=>{const d=!(l.fontStyle&&(l.fontStyle&Rs.Underline||l.fontStyle&Rs.Strikethrough));d&&l.content.match(/^\s+$/)&&e[a+1]?(i||(i=l.offset),r+=l.content):r?(d?n.push({...l,offset:i,content:r+l.content}):n.push({content:r,offset:i},l),i=0,r=""):n.push(l)}),n})}function Gme(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,i,l,a]=r;if(!i&&!a)return n;const u=[{...n,offset:n.offset+i.length,content:l}];return i&&u.unshift({content:i,offset:n.offset}),a&&u.push({content:a,offset:n.offset+i.length+l.length}),u}))}const qme=mme;function Wme(t,e,n){var l;const r={meta:{},options:n,codeToHast:(a,u)=>zC(t,a,u),codeToTokens:(a,u)=>jC(t,a,u)};let i=qme(zC(t,e,n,r));for(const a of IC(n))i=((l=a.postprocess)==null?void 0:l.call(r,i,n))||i;return i}const d5={light:"#333333",dark:"#bbbbbb"},f5={light:"#fffffe",dark:"#1e1e1e"},h5="__shiki_resolved";function l3(t){var u,d,h,p,g;if(t!=null&&t[h5])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||(e.type="dark"),e.colorReplacements={...e.colorReplacements},e.settings||(e.settings=[]);let{bg:n,fg:r}=e;if(!n||!r){const y=e.settings?e.settings.find(v=>!v.name&&!v.scope):void 0;(u=y==null?void 0:y.settings)!=null&&u.foreground&&(r=y.settings.foreground),(d=y==null?void 0:y.settings)!=null&&d.background&&(n=y.settings.background),!r&&((h=e==null?void 0:e.colors)!=null&&h["editor.foreground"])&&(r=e.colors["editor.foreground"]),!n&&((p=e==null?void 0:e.colors)!=null&&p["editor.background"])&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?d5.light:d5.dark),n||(n=e.type==="light"?f5.light:f5.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let i=0;const l=new Map;function a(y){var w;if(l.has(y))return l.get(y);i+=1;const v=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return(w=e.colorReplacements)!=null&&w[`#${v}`]?a(y):(l.set(y,v),v)}e.settings=e.settings.map(y=>{var S,E;const v=((S=y.settings)==null?void 0:S.foreground)&&!y.settings.foreground.startsWith("#"),w=((E=y.settings)==null?void 0:E.background)&&!y.settings.background.startsWith("#");if(!v&&!w)return y;const C={...y,settings:{...y.settings}};if(v){const A=a(y.settings.foreground);e.colorReplacements[A]=y.settings.foreground,C.settings.foreground=A}if(w){const A=a(y.settings.background);e.colorReplacements[A]=y.settings.background,C.settings.background=A}return C});for(const y of Object.keys(e.colors||{}))if((y==="editor.foreground"||y==="editor.background"||y.startsWith("terminal.ansi"))&&!((g=e.colors[y])!=null&&g.startsWith("#"))){const v=a(e.colors[y]);e.colorReplacements[v]=e.colors[y],e.colors[y]=v}return Object.defineProperty(e,h5,{enumerable:!1,writable:!1,value:!0}),e}async function Dz(t){return Array.from(new Set((await Promise.all(t.filter(e=>!Ez(e)).map(async e=>await xz(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function Lz(t){return(await Promise.all(t.map(async n=>Tz(n)?null:l3(await xz(n))))).filter(n=>!!n)}let Kme=3;function Zme(t,e=3){e>Kme||console.trace(`[SHIKI DEPRECATE]: ${t}`)}class em extends Error{constructor(e){super(e),this.name="ShikiError"}}class Xme extends tpe{constructor(n,r,i,l={}){super(n);ae(this,"_resolvedThemes",new Map);ae(this,"_resolvedGrammars",new Map);ae(this,"_langMap",new Map);ae(this,"_langGraph",new Map);ae(this,"_textmateThemeCache",new WeakMap);ae(this,"_loadedThemesCache",null);ae(this,"_loadedLanguagesCache",null);this._resolver=n,this._themes=r,this._langs=i,this._alias=l,this._themes.map(a=>this.loadTheme(a)),this.loadLanguages(this._langs)}getTheme(n){return typeof n=="string"?this._resolvedThemes.get(n):this.loadTheme(n)}loadTheme(n){const r=l3(n);return r.name&&(this._resolvedThemes.set(r.name,r),this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(n){let r=this._textmateThemeCache.get(n);r||(r=RC.createFromRawTheme(n),this._textmateThemeCache.set(n,r)),this._syncRegistry.setTheme(r)}getGrammar(n){if(this._alias[n]){const r=new Set([n]);for(;this._alias[n];){if(n=this._alias[n],r.has(n))throw new em(`Circular alias \`${Array.from(r).join(" -> ")} -> ${n}\``);r.add(n)}}return this._resolvedGrammars.get(n)}loadLanguage(n){var a,u,d,h;if(this.getGrammar(n.name))return;const r=new Set([...this._langMap.values()].filter(p=>{var g;return(g=p.embeddedLangsLazy)==null?void 0:g.includes(n.name)}));this._resolver.addLanguage(n);const i={balancedBracketSelectors:n.balancedBracketSelectors||["*"],unbalancedBracketSelectors:n.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(n.scopeName,n);const l=this.loadGrammarWithConfiguration(n.scopeName,1,i);if(l.name=n.name,this._resolvedGrammars.set(n.name,l),n.aliases&&n.aliases.forEach(p=>{this._alias[p]=n.name}),this._loadedLanguagesCache=null,r.size)for(const p of r)this._resolvedGrammars.delete(p.name),this._loadedLanguagesCache=null,(u=(a=this._syncRegistry)==null?void 0:a._injectionGrammars)==null||u.delete(p.scopeName),(h=(d=this._syncRegistry)==null?void 0:d._grammars)==null||h.delete(p.scopeName),this.loadLanguage(this._langMap.get(p.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(n){for(const l of n)this.resolveEmbeddedLanguages(l);const r=Array.from(this._langGraph.entries()),i=r.filter(([l,a])=>!a);if(i.length){const l=r.filter(([a,u])=>{var d;return u&&((d=u.embeddedLangs)==null?void 0:d.some(h=>i.map(([p])=>p).includes(h)))}).filter(a=>!i.includes(a));throw new em(`Missing languages ${i.map(([a])=>`\`${a}\``).join(", ")}, required by ${l.map(([a])=>`\`${a}\``).join(", ")}`)}for(const[l,a]of r)this._resolver.addLanguage(a);for(const[l,a]of r)this.loadLanguage(a)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(n){if(this._langMap.set(n.name,n),this._langGraph.set(n.name,n),n.embeddedLangs)for(const r of n.embeddedLangs)this._langGraph.set(r,this._langMap.get(r))}}class Yme{constructor(e,n){ae(this,"_langs",new Map);ae(this,"_scopeToLang",new Map);ae(this,"_injections",new Map);ae(this,"_onigLib");this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let i=1;i<=n.length;i++){const l=n.slice(0,i).join(".");r=[...r,...this._injections.get(l)||[]]}return r}}let nv=0;function Qme(t){nv+=1,t.warnings!==!1&&nv>=10&&nv%10===0&&console.warn(`[Shiki] ${nv} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new em("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(l3),i=new Yme(t.engine,n),l=new Xme(i,r,n,t.langAlias);let a;function u(A){S();const N=l.getGrammar(typeof A=="string"?A:A.name);if(!N)throw new em(`Language \`${A}\` not found, you may need to load it first`);return N}function d(A){if(A==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};S();const N=l.getTheme(A);if(!N)throw new em(`Theme \`${A}\` not found, you may need to load it first`);return N}function h(A){S();const N=d(A);a!==A&&(l.setTheme(N),a=A);const I=l.getColorMap();return{theme:N,colorMap:I}}function p(){return S(),l.getLoadedThemes()}function g(){return S(),l.getLoadedLanguages()}function y(...A){S(),l.loadLanguages(A.flat(1))}async function v(...A){return y(await Dz(A))}function w(...A){S();for(const N of A.flat(1))l.loadTheme(N)}async function C(...A){return S(),w(await Lz(A))}function S(){if(e)throw new em("Shiki instance has been disposed")}function E(){e||(e=!0,l.dispose(),nv-=1)}return{setTheme:h,getTheme:d,getLanguage:u,getLoadedThemes:p,getLoadedLanguages:g,loadLanguage:v,loadLanguageSync:y,loadTheme:C,loadThemeSync:w,dispose:E,[Symbol.dispose]:E}}async function Jme(t){t.engine||Zme("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,n,r]=await Promise.all([Lz(t.themes||[]),Dz(t.langs||[]),t.engine]);return Qme({...t,themes:e,langs:n,engine:r})}async function ege(t){const e=await Jme(t);return{getLastGrammarState:(...n)=>Ime(e,...n),codeToTokensBase:(n,r)=>s3(e,n,r),codeToTokensWithThemes:(n,r)=>Oz(e,n,r),codeToTokens:(n,r)=>jC(e,n,r),codeToHast:(n,r)=>zC(e,n,r),codeToHtml:(n,r)=>Wme(e,n,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function tge(t){const e=t.langs,n=t.themes,r=t.engine;async function i(l){function a(g){if(typeof g=="string"){if(Ez(g))return[];const y=e[g];if(!y)throw new Ar(`Language \`${g}\` is not included in this bundle. You may want to load it from external source.`);return y}return g}function u(g){if(Tz(g))return"none";if(typeof g=="string"){const y=n[g];if(!y)throw new Ar(`Theme \`${g}\` is not included in this bundle. You may want to load it from external source.`);return y}return g}const d=(l.themes??[]).map(g=>u(g)),h=(l.langs??[]).map(g=>a(g)),p=await ege({engine:l.engine??r(),...l,themes:d,langs:h});return{...p,loadLanguage(...g){return p.loadLanguage(...g.map(a))},loadTheme(...g){return p.loadTheme(...g.map(u))},getBundledLanguages(){return e},getBundledThemes(){return n}}}return i}function Jm(t){if([...t].length!==1)throw new Error(`Expected "${t}" to be a single code point`);return t.codePointAt(0)}function nge(t,e,n){return t.has(e)||t.set(e,n),t.get(e)}const a3=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),Rr=String.raw;function eg(t,e){if(t==null)throw new Error(e??"Value expected");return t}const Pz=Rr`\[\^?`,Iz=`c.? | C(?:-.?)?|${Rr`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${Rr`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${Rr`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${Rr`o\{[^\}]*\}?`}|${Rr`\d{1,3}`}`,c3=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,Ow=new RegExp(Rr`
  \\ (?:
    ${Iz}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${c3.source})+
  | ${Pz}
  | .
`.replace(/\s+/g,""),"gsu"),iT=new RegExp(Rr`
  \\ (?:
    ${Iz}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${Pz}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function rge(t,e={}){const n={flags:"",...e,rules:{captureGroup:!1,singleline:!1,...e.rules}};if(typeof t!="string")throw new Error("String expected as pattern");const r=Cge(n.flags),i=[r.extended],l={captureGroup:n.rules.captureGroup,getCurrentModX(){return i.at(-1)},numOpenGroups:0,popModX(){i.pop()},pushModX(g){i.push(g)},replaceCurrentModX(g){i[i.length-1]=g},singleline:n.rules.singleline};let a=[],u;for(Ow.lastIndex=0;u=Ow.exec(t);){const g=oge(l,t,u[0],Ow.lastIndex);g.tokens?a.push(...g.tokens):g.token&&a.push(g.token),g.lastIndex!==void 0&&(Ow.lastIndex=g.lastIndex)}const d=[];let h=0;a.filter(g=>g.type==="GroupOpen").forEach(g=>{g.kind==="capturing"?g.number=++h:g.raw==="("&&d.push(g)}),h||d.forEach((g,y)=>{g.kind="capturing",g.number=y+1});const p=h||d.length;return{tokens:a.map(g=>g.type==="EscapedNumber"?Sge(g,p):g).flat(),flags:r}}function oge(t,e,n,r){const[i,l]=n;if(n==="["||n==="[^"){const a=ige(e,n,r);return{tokens:a.tokens,lastIndex:a.lastIndex}}if(i==="\\"){if("AbBGyYzZ".includes(l))return{token:p5(n,n)};if(/^\\g[<']/.test(n)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(n))throw new Error(`Invalid group name "${n}"`);return{token:mge(n)}}if(/^\\k[<']/.test(n)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(n))throw new Error(`Invalid group name "${n}"`);return{token:jz(n)}}if(l==="K")return{token:zz("keep",n)};if(l==="N"||l==="R")return{token:Jh("newline",n,{negate:l==="N"})};if(l==="O")return{token:Jh("any",n)};if(l==="X")return{token:Jh("grapheme",n)};const a=Bz(n,{inCharClass:!1});return Array.isArray(a)?{tokens:a}:{token:a}}if(i==="("){if(l==="*")return{token:vge(n)};if(n==="(?{")throw new Error(`Unsupported callout "${n}"`);if(n.startsWith("(?#")){if(e[r]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:r+1}}if(/^\(\?[-imx]+[:)]$/.test(n))return{token:yge(n,t)};if(t.pushModX(t.getCurrentModX()),t.numOpenGroups++,n==="("&&!t.captureGroup||n==="(?:")return{token:Zp("group",n)};if(n==="(?>")return{token:Zp("atomic",n)};if(n==="(?="||n==="(?!"||n==="(?<="||n==="(?<!")return{token:Zp(n[2]==="<"?"lookbehind":"lookahead",n,{negate:n.endsWith("!")})};if(n==="("&&t.captureGroup||n.startsWith("(?<")&&n.endsWith(">")||n.startsWith("(?'")&&n.endsWith("'"))return{token:Zp("capturing",n,{...n!=="("&&{name:n.slice(3,-1)}})};if(n.startsWith("(?~")){if(n==="(?~|")throw new Error(`Unsupported absence function kind "${n}"`);return{token:Zp("absence_repeater",n)}}throw n==="(?("?new Error(`Unsupported conditional "${n}"`):new Error(`Invalid or unsupported group option "${n}"`)}if(n===")"){if(t.popModX(),t.numOpenGroups--,t.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:fge(n)}}if(t.getCurrentModX()){if(n==="#"){const a=e.indexOf(`
`,r);return{lastIndex:a===-1?e.length:a}}if(/^\s$/.test(n)){const a=/\s+/y;return a.lastIndex=r,{lastIndex:a.exec(e)?a.lastIndex:r}}}if(n===".")return{token:Jh("dot",n)};if(n==="^"||n==="$"){const a=t.singleline?{"^":Rr`\A`,$:Rr`\Z`}[n]:n;return{token:p5(a,n)}}return n==="|"?{token:lge(n)}:c3.test(n)?{tokens:xge(n)}:{token:iu(Jm(n),n)}}function ige(t,e,n){const r=[m5(e[1]==="^",e)];let i=1,l;for(iT.lastIndex=n;l=iT.exec(t);){const a=l[0];if(a[0]==="["&&a[1]!==":")i++,r.push(m5(a[1]==="^",a));else if(a==="]"){if(r.at(-1).type==="CharacterClassOpen")r.push(iu(93,a));else if(i--,r.push(age(a)),!i)break}else{const u=sge(a);Array.isArray(u)?r.push(...u):r.push(u)}}return{tokens:r,lastIndex:iT.lastIndex||t.length}}function sge(t){if(t[0]==="\\")return Bz(t,{inCharClass:!0});if(t[0]==="["){const e=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(t);if(!e||!a3.has(e.groups.name))throw new Error(`Invalid POSIX class "${t}"`);return Jh("posix",t,{value:e.groups.name,negate:!!e.groups.negate})}return t==="-"?cge(t):t==="&&"?uge(t):iu(Jm(t),t)}function Bz(t,{inCharClass:e}){const n=t[1];if(n==="c"||n==="C")return bge(t);if("dDhHsSwW".includes(n))return wge(t);if(t.startsWith(Rr`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${t}"`);if(/^\\[pP]\{/.test(t)){if(t.length===3)throw new Error(`Incomplete or invalid Unicode property "${t}"`);return kge(t)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(t))try{const r=t.split(/\\x/).slice(1).map(a=>parseInt(a,16)),i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(r)),l=new TextEncoder;return[...i].map(a=>{const u=[...l.encode(a)].map(d=>`\\x${d.toString(16)}`).join("");return iu(Jm(a),u)})}catch{throw new Error(`Multibyte code "${t}" incomplete or invalid in Oniguruma`)}if(n==="u"||n==="x")return iu(_ge(t),t);if(g5.has(n))return iu(g5.get(n),t);if(/\d/.test(n))return dge(e,t);if(t==="\\")throw new Error(Rr`Incomplete escape "\"`);if(n==="M")throw new Error(`Unsupported meta "${t}"`);if([...t].length===2)return iu(t.codePointAt(1),t);throw new Error(`Unexpected escape "${t}"`)}function lge(t){return{type:"Alternator",raw:t}}function p5(t,e){return{type:"Assertion",kind:t,raw:e}}function jz(t){return{type:"Backreference",raw:t}}function iu(t,e){return{type:"Character",value:t,raw:e}}function age(t){return{type:"CharacterClassClose",raw:t}}function cge(t){return{type:"CharacterClassHyphen",raw:t}}function uge(t){return{type:"CharacterClassIntersector",raw:t}}function m5(t,e){return{type:"CharacterClassOpen",negate:t,raw:e}}function Jh(t,e,n={}){return{type:"CharacterSet",kind:t,...n,raw:e}}function zz(t,e,n={}){return t==="keep"?{type:"Directive",kind:t,raw:e}:{type:"Directive",kind:t,flags:eg(n.flags),raw:e}}function dge(t,e){return{type:"EscapedNumber",inCharClass:t,raw:e}}function fge(t){return{type:"GroupClose",raw:t}}function Zp(t,e,n={}){return{type:"GroupOpen",kind:t,...n,raw:e}}function hge(t,e,n,r){return{type:"NamedCallout",kind:t,tag:e,arguments:n,raw:r}}function pge(t,e,n,r){return{type:"Quantifier",kind:t,min:e,max:n,raw:r}}function mge(t){return{type:"Subroutine",raw:t}}const gge=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),g5=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function bge(t){const e=t[1]==="c"?t[2]:t[3];if(!e||!/[A-Za-z]/.test(e))throw new Error(`Unsupported control character "${t}"`);return iu(Jm(e.toUpperCase())-64,t)}function yge(t,e){let{on:n,off:r}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(t).groups;r??(r="");const i=(e.getCurrentModX()||n.includes("x"))&&!r.includes("x"),l=y5(n),a=y5(r),u={};if(l&&(u.enable=l),a&&(u.disable=a),t.endsWith(")"))return e.replaceCurrentModX(i),zz("flags",t,{flags:u});if(t.endsWith(":"))return e.pushModX(i),e.numOpenGroups++,Zp("group",t,{...(l||a)&&{flags:u}});throw new Error(`Unexpected flag modifier "${t}"`)}function vge(t){const e=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(t);if(!e)throw new Error(`Incomplete or invalid named callout "${t}"`);const{name:n,tag:r,args:i}=e.groups;if(!n)throw new Error(`Invalid named callout "${t}"`);if(r==="")throw new Error(`Named callout tag with empty value not allowed "${t}"`);const l=i?i.split(",").filter(p=>p!=="").map(p=>/^[+-]?\d+$/.test(p)?+p:p):[],[a,u,d]=l,h=gge.has(n)?n.toLowerCase():"custom";switch(h){case"fail":case"mismatch":case"skip":if(l.length>0)throw new Error(`Named callout arguments not allowed "${l}"`);break;case"error":if(l.length>1)throw new Error(`Named callout allows only one argument "${l}"`);if(typeof a=="string")throw new Error(`Named callout argument must be a number "${a}"`);break;case"max":if(!l.length||l.length>2)throw new Error(`Named callout must have one or two arguments "${l}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(l.length===2&&(typeof u=="number"||!/^[<>X]$/.test(u)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${u}"`);break;case"count":case"total_count":if(l.length>1)throw new Error(`Named callout allows only one argument "${l}"`);if(l.length===1&&(typeof a=="number"||!/^[<>X]$/.test(a)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${a}"`);break;case"cmp":if(l.length!==3)throw new Error(`Named callout must have three arguments "${l}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(typeof u=="number"||!/^(?:[<>!=]=|[<>])$/.test(u))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${u}"`);if(typeof d=="string"&&!/^[A-Za-z_]\w*$/.test(d))throw new Error(`Named callout argument three must be a tag or number "${d}"`);break;case"custom":throw new Error(`Undefined callout name "${n}"`);default:throw new Error(`Unexpected named callout kind "${h}"`)}return hge(h,r??null,(i==null?void 0:i.split(","))??null,t)}function b5(t){let e=null,n,r;if(t[0]==="{"){const{minStr:i,maxStr:l}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(t).groups,a=1e5;if(+i>a||l&&+l>a)throw new Error("Quantifier value unsupported in Oniguruma");if(n=+i,r=l===void 0?+i:l===""?1/0:+l,n>r&&(e="possessive",[n,r]=[r,n]),t.endsWith("?")){if(e==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');e="lazy"}else e||(e="greedy")}else n=t[0]==="+"?1:0,r=t[0]==="?"?1:1/0,e=t[1]==="+"?"possessive":t[1]==="?"?"lazy":"greedy";return pge(e,n,r,t)}function wge(t){const e=t[1].toLowerCase();return Jh({d:"digit",h:"hex",s:"space",w:"word"}[e],t,{negate:t[1]!==e})}function kge(t){const{p:e,neg:n,value:r}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(t).groups;return Jh("property",t,{value:r,negate:e==="P"&&!n||e==="p"&&!!n})}function y5(t){const e={};return t.includes("i")&&(e.ignoreCase=!0),t.includes("m")&&(e.dotAll=!0),t.includes("x")&&(e.extended=!0),Object.keys(e).length?e:null}function Cge(t){if(!/^[imxDPSW]*$/.test(t))throw new Error(`Flags "${t}" includes unsupported value`);const e={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1};for(const n of t)e[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[n]]=!0;return e}function _ge(t){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(t))throw new Error(`Incomplete or invalid escape "${t}"`);const e=t[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(t).groups.hex:t.slice(2);return parseInt(e,16)}function Sge(t,e){const{raw:n,inCharClass:r}=t,i=n.slice(1);if(!r&&(i!=="0"&&i.length===1||i[0]!=="0"&&+i<=e))return[jz(n)];const l=[],a=i.match(/^[0-7]+|\d/g);for(let u=0;u<a.length;u++){const d=a[u];let h;if(u===0&&d!=="8"&&d!=="9"){if(h=parseInt(d,8),h>127)throw new Error(Rr`Octal encoded byte above 177 unsupported "${n}"`)}else h=Jm(d);l.push(iu(h,(u===0?"\\":"")+d))}return l}function xge(t){const e=[],n=new RegExp(c3,"gy");let r;for(;r=n.exec(t);){const i=r[0];if(i[0]==="{"){const l=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(i);if(l){const{min:a,max:u}=l.groups;if(+a>+u&&i.endsWith("?")){n.lastIndex--,e.push(b5(i.slice(0,-1)));continue}}}e.push(b5(i))}return e}function $z(t,e){if(!Array.isArray(t.body))throw new Error("Expected node with body array");if(t.body.length!==1)return!1;const n=t.body[0];return!e||Object.keys(e).every(r=>e[r]===n[r])}function Ege(t){return Tge.has(t.type)}const Tge=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function Hz(t,e={}){const n={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...e,rules:{captureGroup:!1,singleline:!1,...e.rules}},r=rge(t,{flags:n.flags,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline}}),i=(y,v)=>{const w=r.tokens[l.nextIndex];switch(l.parent=y,l.nextIndex++,w.type){case"Alternator":return Sp();case"Assertion":return Mge(w);case"Backreference":return Age(w,l);case"Character":return oS(w.value,{useLastValid:!!v.isCheckingRangeEnd});case"CharacterClassHyphen":return Rge(w,l,v);case"CharacterClassOpen":return Nge(w,l,v);case"CharacterSet":return Oge(w,l);case"Directive":return jge(w.kind,{flags:w.flags});case"GroupOpen":return Dge(w,l,v);case"NamedCallout":return $ge(w.kind,w.tag,w.arguments);case"Quantifier":return Lge(w,l);case"Subroutine":return Pge(w,l);default:throw new Error(`Unexpected token type "${w.type}"`)}},l={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:n.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:n.skipBackrefValidation,skipLookbehindValidation:n.skipLookbehindValidation,skipPropertyNameValidation:n.skipPropertyNameValidation,subroutines:[],tokens:r.tokens,unicodePropertyMap:n.unicodePropertyMap,walk:i},a=Vge(zge(r.flags));let u=a.body[0];for(;l.nextIndex<r.tokens.length;){const y=i(u,{});y.type==="Alternative"?(a.body.push(y),u=y):u.body.push(y)}const{capturingGroups:d,hasNumberedRef:h,namedGroupsByName:p,subroutines:g}=l;if(h&&p.size&&!n.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:y}of g)if(typeof y=="number"){if(y>d.length)throw new Error("Subroutine uses a group number that's not defined");y&&(d[y-1].isSubroutined=!0)}else if(p.has(y)){if(p.get(y).length>1)throw new Error(Rr`Subroutine uses a duplicate group name "\g<${y}>"`);p.get(y)[0].isSubroutined=!0}else throw new Error(Rr`Subroutine uses a group name that's not defined "\g<${y}>"`);return a}function Mge({kind:t}){return iA(eg({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"grapheme_boundary","\\Y":"grapheme_boundary","\\z":"string_end","\\Z":"string_end_newline"}[t],`Unexpected assertion kind "${t}"`),{negate:t===Rr`\B`||t===Rr`\Y`})}function Age({raw:t},e){const n=/^\\k[<']/.test(t),r=n?t.slice(3,-1):t.slice(1),i=(l,a=!1)=>{const u=e.capturingGroups.length;let d=!1;if(l>u)if(e.skipBackrefValidation)d=!0;else throw new Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,sA(a?u+1-l:l,{orphan:d})};if(n){const l=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(r);if(l)return i(+l.groups.num,!!l.groups.sign);if(/[-+]/.test(r))throw new Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(r))throw new Error(`Group name not defined to the left "${t}"`);return sA(r)}return i(+r)}function Rge(t,e,n){const{tokens:r,walk:i}=e,l=e.parent,a=l.body.at(-1),u=r[e.nextIndex];if(!n.isCheckingRangeEnd&&a&&a.type!=="CharacterClass"&&a.type!=="CharacterClassRange"&&u&&u.type!=="CharacterClassOpen"&&u.type!=="CharacterClassClose"&&u.type!=="CharacterClassIntersector"){const d=i(l,{...n,isCheckingRangeEnd:!0});if(a.type==="Character"&&d.type==="Character")return l.body.pop(),Bge(a,d);throw new Error("Invalid character class range")}return oS(Jm("-"))}function Nge({negate:t},e,n){const{tokens:r,walk:i}=e,l=r[e.nextIndex],a=[rk()];let u=k5(l);for(;u.type!=="CharacterClassClose";){if(u.type==="CharacterClassIntersector")a.push(rk()),e.nextIndex++;else{const h=a.at(-1);h.body.push(i(h,n))}u=k5(r[e.nextIndex],l)}const d=rk({negate:t});return a.length===1?d.body=a[0].body:(d.kind="intersection",d.body=a.map(h=>h.body.length===1?h.body[0]:h)),e.nextIndex++,d}function Oge({kind:t,negate:e,value:n},r){const{normalizeUnknownPropertyNames:i,skipPropertyNameValidation:l,unicodePropertyMap:a}=r;if(t==="property"){const u=iS(n);if(a3.has(u)&&!(a!=null&&a.has(u)))t="posix",n=u;else return Xp(n,{negate:e,normalizeUnknownPropertyNames:i,skipPropertyNameValidation:l,unicodePropertyMap:a})}return t==="posix"?Hge(n,{negate:e}):lA(t,{negate:e})}function Dge(t,e,n){const{tokens:r,capturingGroups:i,namedGroupsByName:l,skipLookbehindValidation:a,walk:u}=e,d=Uge(t),h=d.type==="AbsenceFunction",p=w5(d),g=p&&d.negate;if(d.type==="CapturingGroup"&&(i.push(d),d.name&&nge(l,d.name,[]).push(d)),h&&n.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let y=C5(r[e.nextIndex]);for(;y.type!=="GroupClose";){if(y.type==="Alternator")d.body.push(Sp()),e.nextIndex++;else{const v=d.body.at(-1),w=u(v,{...n,isInAbsenceFunction:n.isInAbsenceFunction||h,isInLookbehind:n.isInLookbehind||p,isInNegLookbehind:n.isInNegLookbehind||g});if(v.body.push(w),(p||n.isInLookbehind)&&!a){const C="Lookbehind includes a pattern not allowed by Oniguruma";if(g||n.isInNegLookbehind){if(v5(w)||w.type==="CapturingGroup")throw new Error(C)}else if(v5(w)||w5(w)&&w.negate)throw new Error(C)}}y=C5(r[e.nextIndex])}return e.nextIndex++,d}function Lge({kind:t,min:e,max:n},r){const i=r.parent,l=i.body.at(-1);if(!l||!Ege(l))throw new Error("Quantifier requires a repeatable token");const a=Uz(t,e,n,l);return i.body.pop(),a}function Pge({raw:t},e){const{capturingGroups:n,subroutines:r}=e;let i=t.slice(3,-1);const l=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(i);if(l){const u=+l.groups.num,d=n.length;if(e.hasNumberedRef=!0,i={"":u,"+":d+u,"-":d+1-u}[l.groups.sign],i<1)throw new Error("Invalid subroutine number")}else i==="0"&&(i=0);const a=Fz(i);return r.push(a),a}function Ige(t,e){return{type:"AbsenceFunction",kind:t,body:J1(e==null?void 0:e.body)}}function Sp(t){return{type:"Alternative",body:Gz(t==null?void 0:t.body)}}function iA(t,e){const n={type:"Assertion",kind:t};return(t==="word_boundary"||t==="grapheme_boundary")&&(n.negate=!!(e!=null&&e.negate)),n}function sA(t,e){const n=!!(e!=null&&e.orphan);return{type:"Backreference",ref:t,...n&&{orphan:n}}}function Vz(t,e){const n={name:void 0,isSubroutined:!1,...e};if(n.name!==void 0&&!Fge(n.name))throw new Error(`Group name "${n.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:t,...n.name&&{name:n.name},...n.isSubroutined&&{isSubroutined:n.isSubroutined},body:J1(e==null?void 0:e.body)}}function oS(t,e){const n={useLastValid:!1,...e};if(t>1114111){const r=t.toString(16);if(n.useLastValid)t=1114111;else throw t>1310719?new Error(`Invalid code point out of range "\\x{${r}}"`):new Error(`Invalid code point out of range in JS "\\x{${r}}"`)}return{type:"Character",value:t}}function rk(t){const e={kind:"union",negate:!1,...t};return{type:"CharacterClass",kind:e.kind,negate:e.negate,body:Gz(t==null?void 0:t.body)}}function Bge(t,e){if(e.value<t.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:t,max:e}}function lA(t,e){const n=!!(e!=null&&e.negate),r={type:"CharacterSet",kind:t};return(t==="digit"||t==="hex"||t==="newline"||t==="space"||t==="word")&&(r.negate=n),(t==="grapheme"||t==="newline"&&!n)&&(r.variableLength=!0),r}function jge(t,e={}){if(t==="keep")return{type:"Directive",kind:t};if(t==="flags")return{type:"Directive",kind:t,flags:eg(e.flags)};throw new Error(`Unexpected directive kind "${t}"`)}function zge(t){return{type:"Flags",...t}}function Bl(t){const e=t==null?void 0:t.atomic,n=t==null?void 0:t.flags;if(e&&n)throw new Error("Atomic group cannot have flags");return{type:"Group",...e&&{atomic:e},...n&&{flags:n},body:J1(t==null?void 0:t.body)}}function Fh(t){const e={behind:!1,negate:!1,...t};return{type:"LookaroundAssertion",kind:e.behind?"lookbehind":"lookahead",negate:e.negate,body:J1(t==null?void 0:t.body)}}function $ge(t,e,n){return{type:"NamedCallout",kind:t,tag:e,arguments:n}}function Hge(t,e){const n=!!(e!=null&&e.negate);if(!a3.has(t))throw new Error(`Invalid POSIX class "${t}"`);return{type:"CharacterSet",kind:"posix",value:t,negate:n}}function Uz(t,e,n,r){if(e>n)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:t,min:e,max:n,body:r}}function Vge(t,e){return{type:"Regex",body:J1(e==null?void 0:e.body),flags:t}}function Fz(t){return{type:"Subroutine",ref:t}}function Xp(t,e){var i;const n={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...e};let r=(i=n.unicodePropertyMap)==null?void 0:i.get(iS(t));if(!r){if(n.normalizeUnknownPropertyNames)r=Gge(t);else if(n.unicodePropertyMap&&!n.skipPropertyNameValidation)throw new Error(Rr`Invalid Unicode property "\p{${t}}"`)}return{type:"CharacterSet",kind:"property",value:r??t,negate:n.negate}}function Uge({flags:t,kind:e,name:n,negate:r,number:i}){switch(e){case"absence_repeater":return Ige("repeater");case"atomic":return Bl({atomic:!0});case"capturing":return Vz(i,{name:n});case"group":return Bl({flags:t});case"lookahead":case"lookbehind":return Fh({behind:e==="lookbehind",negate:r});default:throw new Error(`Unexpected group kind "${e}"`)}}function J1(t){if(t===void 0)t=[Sp()];else if(!Array.isArray(t)||!t.length||!t.every(e=>e.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return t}function Gz(t){if(t===void 0)t=[];else if(!Array.isArray(t)||!t.every(e=>!!e.type))throw new Error("Invalid body; expected array of nodes");return t}function v5(t){return t.type==="LookaroundAssertion"&&t.kind==="lookahead"}function w5(t){return t.type==="LookaroundAssertion"&&t.kind==="lookbehind"}function Fge(t){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(t)}function Gge(t){return t.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase())}function iS(t){return t.replace(/[- _]+/g,"").toLowerCase()}function k5(t,e){return eg(t,`${(e==null?void 0:e.type)==="Character"&&e.value===93?"Empty":"Unclosed"} character class`)}function C5(t){return eg(t,"Unclosed group")}const u3=String.raw,_5=u3`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,S5=u3`\u{E0061}-\u{E007A}`,qge=()=>new RegExp(u3`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${S5}]{2}[\u{E0030}-\u{E0039}${S5}]{1,3}\u{E007F}|${_5}(?:\u200D${_5})*`,"gu");function Pv(t,e,n=null){function r(l,a){for(let u=0;u<l.length;u++){const d=i(l[u],a,u,l);u=Math.max(-1,u+d)}}function i(l,a=null,u=null,d=null){var E,A;let h=0,p=!1;const g={node:l,parent:a,key:u,container:d,root:t,remove(){Dw(d).splice(Math.max(0,Vp(u)+h),1),h--,p=!0},removeAllNextSiblings(){return Dw(d).splice(Vp(u)+1)},removeAllPrevSiblings(){const N=Vp(u)+h;return h-=N,Dw(d).splice(0,Math.max(0,N))},replaceWith(N,I={}){const B=!!I.traverse;d?d[Math.max(0,Vp(u)+h)]=N:eg(a,"Can't replace root node")[u]=N,B&&i(N,a,u,d),p=!0},replaceWithMultiple(N,I={}){const B=!!I.traverse;if(Dw(d).splice(Math.max(0,Vp(u)+h),1,...N),h+=N.length-1,B){let F=0;for(let q=0;q<N.length;q++)F+=i(N[q],a,Vp(u)+q+F,d)}p=!0},skip(){p=!0}},{type:y}=l,v=e["*"],w=e[y],C=typeof v=="function"?v:v==null?void 0:v.enter,S=typeof w=="function"?w:w==null?void 0:w.enter;if(C==null||C(g,n),S==null||S(g,n),!p)switch(y){case"AbsenceFunction":case"CapturingGroup":case"Group":r(l.body,l);break;case"Alternative":case"CharacterClass":r(l.body,l);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":i(l.min,l,"min"),i(l.max,l,"max");break;case"LookaroundAssertion":r(l.body,l);break;case"Quantifier":i(l.body,l,"body");break;case"Regex":r(l.body,l),i(l.flags,l,"flags");break;default:throw new Error(`Unexpected node type "${y}"`)}return(E=w==null?void 0:w.exit)==null||E.call(w,g,n),(A=v==null?void 0:v.exit)==null||A.call(v,g,n),h}return i(t),t}function Dw(t){if(!Array.isArray(t))throw new Error("Container expected");return t}function Vp(t){if(typeof t!="number")throw new Error("Numeric key expected");return t}const Wge=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function Kge(t,e){for(let n=0;n<t.length;n++)t[n]>=e&&t[n]++}function Zge(t,e,n,r){return t.slice(0,e)+r+t.slice(e+n.length)}const Os=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function d3(t,e,n,r){const i=new RegExp(String.raw`${e}|(?<$skip>\[\^?|\\?.)`,"gsu"),l=[!1];let a=0,u="";for(const d of t.matchAll(i)){const{0:h,groups:{$skip:p}}=d;if(!p&&(!r||r===Os.DEFAULT==!a)){n instanceof Function?u+=n(d,{context:a?Os.CHAR_CLASS:Os.DEFAULT,negated:l[l.length-1]}):u+=n;continue}h[0]==="["?(a++,l.push(h[1]==="^")):h==="]"&&a&&(a--,l.pop()),u+=h}return u}function qz(t,e,n,r){d3(t,e,n,r)}function Xge(t,e,n=0,r){if(!new RegExp(e,"su").test(t))return null;const i=new RegExp(`${e}|(?<$skip>\\\\?.)`,"gsu");i.lastIndex=n;let l=0,a;for(;a=i.exec(t);){const{0:u,groups:{$skip:d}}=a;if(!d&&(!r||r===Os.DEFAULT==!l))return a;u==="["?l++:u==="]"&&l&&l--,i.lastIndex==a.index&&i.lastIndex++}return null}function Lw(t,e,n){return!!Xge(t,e,0,n)}function Yge(t,e){const n=/\\?./gsu;n.lastIndex=e;let r=t.length,i=0,l=1,a;for(;a=n.exec(t);){const[u]=a;if(u==="[")i++;else if(i)u==="]"&&i--;else if(u==="(")l++;else if(u===")"&&(l--,!l)){r=a.index;break}}return t.slice(e,r)}const x5=new RegExp(String.raw`(?<noncapturingStart>${Wge})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function Qge(t,e){const n=(e==null?void 0:e.hiddenCaptures)??[];let r=(e==null?void 0:e.captureTransfers)??new Map;if(!/\(\?>/.test(t))return{pattern:t,captureTransfers:r,hiddenCaptures:n};const i="(?>",l="(?:(?=(",a=[0],u=[];let d=0,h=0,p=NaN,g;do{g=!1;let y=0,v=0,w=!1,C;for(x5.lastIndex=Number.isNaN(p)?0:p+l.length;C=x5.exec(t);){const{0:S,index:E,groups:{capturingStart:A,noncapturingStart:N}}=C;if(S==="[")y++;else if(y)S==="]"&&y--;else if(S===i&&!w)p=E,w=!0;else if(w&&N)v++;else if(A)w?v++:(d++,a.push(d+h));else if(S===")"&&w){if(!v){h++;const I=d+h;if(t=`${t.slice(0,p)}${l}${t.slice(p+i.length,E)}))<$$${I}>)${t.slice(E+1)}`,g=!0,u.push(I),Kge(n,I),r.size){const B=new Map;r.forEach((F,q)=>{B.set(q>=I?q+1:q,F.map(Z=>Z>=I?Z+1:Z))}),r=B}break}v--}}}while(g);return n.push(...u),t=d3(t,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:y,groups:{backrefNum:v,wrappedBackrefNum:w}})=>{if(v){const C=+v;if(C>a.length-1)throw new Error(`Backref "${y}" greater than number of captures`);return`\\${a[C]}`}return`\\${w}`},Os.DEFAULT),{pattern:t,captureTransfers:r,hiddenCaptures:n}}const Wz=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,sT=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${Wz})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function Jge(t){if(!new RegExp(`${Wz}\\+`).test(t))return{pattern:t};const e=[];let n=null,r=null,i="",l=0,a;for(sT.lastIndex=0;a=sT.exec(t);){const{0:u,index:d,groups:{qBase:h,qMod:p,invalidQ:g}}=a;if(u==="[")l||(r=d),l++;else if(u==="]")l?l--:r=null;else if(!l)if(p==="+"&&i&&!i.startsWith("(")){if(g)throw new Error(`Invalid quantifier "${u}"`);let y=-1;if(/^\{\d+\}$/.test(h))t=Zge(t,d+h.length,p,"");else{if(i===")"||i==="]"){const v=i===")"?n:r;if(v===null)throw new Error(`Invalid unmatched "${i}"`);t=`${t.slice(0,v)}(?>${t.slice(v,d)}${h})${t.slice(d+u.length)}`}else t=`${t.slice(0,d-i.length)}(?>${i}${h})${t.slice(d+u.length)}`;y+=4}sT.lastIndex+=y}else u[0]==="("?e.push(d):u===")"&&(n=e.length?e.pop():null);i=u}return{pattern:t}}const Ns=String.raw,ebe=Ns`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,aA=Ns`\(\?R=(?<rDepth>[^\)]+)\)|${ebe}`,sS=Ns`\(\?<(?![=!])(?<captureName>[^>]+)>`,Kz=Ns`${sS}|(?<unnamed>\()(?!\?)`,Bh=new RegExp(Ns`${sS}|${aA}|\(\?|\\?.`,"gsu"),lT="Cannot use multiple overlapping recursions";function tbe(t,e){const{hiddenCaptures:n,mode:r}={hiddenCaptures:[],mode:"plugin",...e};let i=(e==null?void 0:e.captureTransfers)??new Map;if(!new RegExp(aA,"su").test(t))return{pattern:t,captureTransfers:i,hiddenCaptures:n};if(r==="plugin"&&Lw(t,Ns`\(\?\(DEFINE\)`,Os.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const l=[],a=Lw(t,Ns`\\[1-9]`,Os.DEFAULT),u=new Map,d=[];let h=!1,p=0,g=0,y;for(Bh.lastIndex=0;y=Bh.exec(t);){const{0:v,groups:{captureName:w,rDepth:C,gRNameOrNum:S,gRDepth:E}}=y;if(v==="[")p++;else if(p)v==="]"&&p--;else if(C){if(E5(C),h)throw new Error(lT);if(a)throw new Error(`${r==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const A=t.slice(0,y.index),N=t.slice(Bh.lastIndex);if(Lw(N,aA,Os.DEFAULT))throw new Error(lT);const I=+C-1;t=T5(A,N,I,!1,n,l,g),i=A5(i,A,I,l.length,0,g);break}else if(S){E5(E);let A=!1;for(const ue of d)if(ue.name===S||ue.num===+S){if(A=!0,ue.hasRecursedWithin)throw new Error(lT);break}if(!A)throw new Error(Ns`Recursive \g cannot be used outside the referenced group "${r==="external"?S:Ns`\g<${S}&R=${E}>`}"`);const N=u.get(S),I=Yge(t,N);if(a&&Lw(I,Ns`${sS}|\((?!\?)`,Os.DEFAULT))throw new Error(`${r==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const B=t.slice(N,y.index),F=I.slice(B.length+v.length),q=l.length,Z=+E-1,Q=T5(B,F,Z,!0,n,l,g);i=A5(i,B,Z,l.length-q,q,g);const ie=t.slice(0,N),ke=t.slice(N+I.length);t=`${ie}${Q}${ke}`,Bh.lastIndex+=Q.length-v.length-B.length-F.length,d.forEach(ue=>ue.hasRecursedWithin=!0),h=!0}else if(w)g++,u.set(String(g),Bh.lastIndex),u.set(w,Bh.lastIndex),d.push({num:g,name:w});else if(v[0]==="("){const A=v==="(";A&&(g++,u.set(String(g),Bh.lastIndex)),d.push(A?{num:g}:{})}else v===")"&&d.pop()}return n.push(...l),{pattern:t,captureTransfers:i,hiddenCaptures:n}}function E5(t){const e=`Max depth must be integer between 2 and 100; used ${t}`;if(!/^[1-9]\d*$/.test(t))throw new Error(e);if(t=+t,t<2||t>100)throw new Error(e)}function T5(t,e,n,r,i,l,a){const u=new Set;r&&qz(t+e,sS,({groups:{captureName:h}})=>{u.add(h)},Os.DEFAULT);const d=[n,r?u:null,i,l,a];return`${t}${M5(`(?:${t}`,"forward",...d)}(?:)${M5(`${e})`,"backward",...d)}${e}`}function M5(t,e,n,r,i,l,a){const d=p=>e==="forward"?p+2:n-p+2-1;let h="";for(let p=0;p<n;p++){const g=d(p);h+=d3(t,Ns`${Kz}|\\k<(?<backref>[^>]+)>`,({0:y,groups:{captureName:v,unnamed:w,backref:C}})=>{if(C&&r&&!r.has(C))return y;const S=`_$${g}`;if(w||v){const E=a+l.length+1;return l.push(E),nbe(i,E),w?y:`(?<${v}${S}>`}return Ns`\k<${C}${S}>`},Os.DEFAULT)}return h}function nbe(t,e){for(let n=0;n<t.length;n++)t[n]>=e&&t[n]++}function A5(t,e,n,r,i,l){if(t.size&&r){let a=0;qz(e,Kz,()=>a++,Os.DEFAULT);const u=l-a+i,d=new Map;return t.forEach((h,p)=>{const g=(r-a*n)/n,y=a*n,v=p>u+a?p+r:p,w=[];for(const C of h)if(C<=u)w.push(C);else if(C>u+a+g)w.push(C+r);else if(C<=u+a)for(let S=0;S<=n;S++)w.push(C+a*S);else for(let S=0;S<=n;S++)w.push(C+y+g*S);d.set(v,w)}),d}return t}var Sr=String.fromCodePoint,kt=String.raw,Dm={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};Dm.bugLiteralHyphenIsRange=(()=>{if(!Dm.unicodeSets)return!1;try{new RegExp(kt`[\d\-a]`,"v")}catch{return!0}return!1})();function $C(t,{enable:e,disable:n}){return{dotAll:!(n!=null&&n.dotAll)&&!!(e!=null&&e.dotAll||t.dotAll),ignoreCase:!(n!=null&&n.ignoreCase)&&!!(e!=null&&e.ignoreCase||t.ignoreCase)}}function k1(t,e,n){return t.has(e)||t.set(e,n),t.get(e)}function cA(t,e){return R5[t]>=R5[e]}function rbe(t,e){if(t==null)throw new Error(e??"Value expected");return t}var R5={ES2025:2025,ES2024:2024,ES2018:2018},obe={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function Zz(t={}){if({}.toString.call(t)!=="[object Object]")throw new Error("Unexpected options");if(t.target!==void 0&&!obe[t.target])throw new Error(`Unexpected target "${t.target}"`);const e={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...t,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...t.rules}};return e.target==="auto"&&(e.target=Dm.flagGroups?"ES2025":Dm.unicodeSets?"ES2024":"ES2018"),e}var ibe="[	-\r ]",Fc=kt`[\p{L}\p{M}\p{N}\p{Pc}]`,sbe=new Set([Sr(304),Sr(305)]);function Xz(t){if(sbe.has(t))return[t];const e=new Set,n=t.toLowerCase(),r=n.toUpperCase(),i=cbe.get(n),l=lbe.get(n),a=abe.get(n);return[...r].length===1&&e.add(r),a&&e.add(a),i&&e.add(i),e.add(n),l&&e.add(l),[...e]}var f3=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(t=>[iS(t),t])),lbe=new Map([["s",Sr(383)],[Sr(383),"s"]]),abe=new Map([[Sr(223),Sr(7838)],[Sr(107),Sr(8490)],[Sr(229),Sr(8491)],[Sr(969),Sr(8486)]]),cbe=new Map([Ru(453),Ru(456),Ru(459),Ru(498),...aT(8072,8079),...aT(8088,8095),...aT(8104,8111),Ru(8124),Ru(8140),Ru(8188)]),ube=new Map([["alnum",kt`[\p{Alpha}\p{Nd}]`],["alpha",kt`\p{Alpha}`],["ascii",kt`\p{ASCII}`],["blank",kt`[\p{Zs}\t]`],["cntrl",kt`\p{Cc}`],["digit",kt`\p{Nd}`],["graph",kt`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",kt`\p{Lower}`],["print",kt`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",kt`[\p{P}\p{S}]`],["space",kt`\p{space}`],["upper",kt`\p{Upper}`],["word",kt`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",kt`\p{AHex}`]]);function dbe(t,e){const n=[];for(let r=t;r<=e;r++)n.push(r);return n}function Ru(t){const e=Sr(t);return[e.toLowerCase(),e]}function aT(t,e){return dbe(t,e).map(n=>Ru(n))}var Yz=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function fbe(t,e){const n={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...e};Qz(t);const r={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:cA(n.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:t.flags.digitIsAscii,spaceIsAscii:t.flags.spaceIsAscii,wordIsAscii:t.flags.wordIsAscii};Pv(t,hbe,r);const i={dotAll:t.flags.dotAll,ignoreCase:t.flags.ignoreCase},l={currentFlags:i,prevFlags:null,globalFlags:i,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:r.subroutineRefMap};Pv(t,pbe,l);const a={groupsByName:l.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:l.reffedNodesByReferencer};return Pv(t,mbe,a),t._originMap=l.groupOriginByCopy,t._strategy=r.strategy,t}var hbe={AbsenceFunction({node:t,parent:e,replaceWith:n}){const{body:r,kind:i}=t;if(i==="repeater"){const l=Bl();l.body[0].body.push(Fh({negate:!0,body:r}),Xp("Any"));const a=Bl();a.body[0].body.push(Uz("greedy",0,1/0,l)),n(Qn(a,e),{traverse:!0})}else throw new Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:t,parent:e,key:n},{flagDirectivesByAlt:r}){const i=t.body.filter(l=>l.kind==="flags");for(let l=n+1;l<e.body.length;l++){const a=e.body[l];k1(r,a,[]).push(...i)}},exit({node:t},{flagDirectivesByAlt:e}){var n;if((n=e.get(t))!=null&&n.length){const r=e$(e.get(t));if(r){const i=Bl({flags:r});i.body[0].body=t.body,t.body=[Qn(i,t)]}}}},Assertion({node:t,parent:e,key:n,container:r,root:i,remove:l,replaceWith:a},u){const{kind:d,negate:h}=t,{asciiWordBoundaries:p,avoidSubclass:g,supportedGNodes:y,wordIsAscii:v}=u;if(d==="grapheme_boundary")throw new Error(`Unsupported grapheme boundary "\\${h?"Y":"y"}"`);if(d==="line_end")a(Qn(Fh({body:[Sp({body:[iA("string_end")]}),Sp({body:[oS(10)]})]}),e));else if(d==="line_start")a(Qn(Gc(kt`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),e));else if(d==="search_start")if(y.has(t))i.flags.sticky=!0,l();else{const w=r[n-1];if(w&&kbe(w))a(Qn(Fh({negate:!0}),e));else{if(g)throw new Error(kt`Uses "\G" in a way that requires a subclass`);a(Nu(iA("string_start"),e)),u.strategy="clip_search"}}else if(!(d==="string_end"||d==="string_start"))if(d==="string_end_newline")a(Qn(Gc(kt`(?=\n?\z)`),e));else if(d==="word_boundary"){if(!v&&!p){const w=`(?:(?<=${Fc})(?!${Fc})|(?<!${Fc})(?=${Fc}))`,C=`(?:(?<=${Fc})(?=${Fc})|(?<!${Fc})(?!${Fc}))`;a(Qn(Gc(h?C:w),e))}}else throw new Error(`Unexpected assertion kind "${d}"`)},Backreference({node:t},{jsGroupNameMap:e}){let{ref:n}=t;typeof n=="string"&&!uT(n)&&(n=cT(n,e),t.ref=n)},CapturingGroup({node:t},{jsGroupNameMap:e,subroutineRefMap:n}){let{name:r}=t;r&&!uT(r)&&(r=cT(r,e),t.name=r),n.set(t.number,t),r&&n.set(r,t)},CharacterClassRange({node:t,parent:e,replaceWith:n}){if(e.kind==="intersection"){const r=rk({body:[t]});n(Qn(r,e),{traverse:!0})}},CharacterSet({node:t,parent:e,replaceWith:n},{accuracy:r,minTargetEs2024:i,digitIsAscii:l,spaceIsAscii:a,wordIsAscii:u}){const{kind:d,negate:h,value:p}=t;if(l&&(d==="digit"||p==="digit")){n(Nu(lA("digit",{negate:h}),e));return}if(a&&(d==="space"||p==="space")){n(Qn(dT(Gc(ibe),h),e));return}if(u&&(d==="word"||p==="word")){n(Nu(lA("word",{negate:h}),e));return}if(d==="any")n(Nu(Xp("Any"),e));else if(d==="digit")n(Nu(Xp("Nd",{negate:h}),e));else if(d!=="dot")if(d==="grapheme"){if(r==="strict")throw new Error(kt`Use of "\X" requires non-strict accuracy`);const g=i?kt`\p{RGI_Emoji}`:qge().source.replace(/\\u\{/g,"\\x{");n(Qn(Gc(kt`(?>\r\n|${g}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),e))}else if(d==="hex")n(Nu(Xp("AHex",{negate:h}),e));else if(d==="newline")n(Qn(Gc(h?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),e));else if(d==="posix")if(!i&&(p==="graph"||p==="print")){if(r==="strict")throw new Error(`POSIX class "${p}" requires min target ES2024 or non-strict accuracy`);let g={graph:"!-~",print:" -~"}[p];h&&(g=`\0-${Sr(g.codePointAt(0)-1)}${Sr(g.codePointAt(2)+1)}-􏿿`),n(Qn(Gc(`[${g}]`),e))}else n(Qn(dT(Gc(ube.get(p)),h),e));else if(d==="property")f3.has(iS(p))||(t.key="sc");else if(d==="space")n(Nu(Xp("space",{negate:h}),e));else if(d==="word")n(Qn(dT(Gc(Fc),h),e));else throw new Error(`Unexpected character set kind "${d}"`)},Directive({node:t,parent:e,root:n,remove:r,replaceWith:i,removeAllPrevSiblings:l,removeAllNextSiblings:a}){const{kind:u,flags:d}=t;if(u==="flags")if(!d.enable&&!d.disable)r();else{const h=Bl({flags:d});h.body[0].body=a(),i(Qn(h,e),{traverse:!0})}else if(u==="keep"){const h=n.body[0],g=n.body.length===1&&$z(h,{type:"Group"})&&h.body[0].body.length===1?h.body[0]:n;if(e.parent!==g||g.body.length>1)throw new Error(kt`Uses "\K" in a way that's unsupported`);const y=Fh({behind:!0});y.body[0].body=l(),i(Qn(y,e))}else throw new Error(`Unexpected directive kind "${u}"`)},Flags({node:t,parent:e}){if(t.posixIsAscii)throw new Error('Unsupported flag "P"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii"].forEach(n=>delete t[n]),Object.assign(t,{global:!1,hasIndices:!1,multiline:!1,sticky:t.sticky??!1}),e.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:t}){if(!t.flags)return;const{enable:e,disable:n}=t.flags;e!=null&&e.extended&&delete e.extended,n!=null&&n.extended&&delete n.extended,e!=null&&e.dotAll&&(n!=null&&n.dotAll)&&delete e.dotAll,e!=null&&e.ignoreCase&&(n!=null&&n.ignoreCase)&&delete e.ignoreCase,e&&!Object.keys(e).length&&delete t.flags.enable,n&&!Object.keys(n).length&&delete t.flags.disable,!t.flags.enable&&!t.flags.disable&&delete t.flags},LookaroundAssertion({node:t},e){const{kind:n}=t;n==="lookbehind"&&(e.passedLookbehind=!0)},NamedCallout({node:t,parent:e,replaceWith:n}){const{kind:r}=t;if(r==="fail")n(Qn(Fh({negate:!0}),e));else throw new Error(`Unsupported named callout "(*${r.toUpperCase()}"`)},Quantifier({node:t}){if(t.body.type==="Quantifier"){const e=Bl();e.body[0].body.push(t.body),t.body=Qn(e,t)}},Regex:{enter({node:t},{supportedGNodes:e}){const n=[];let r=!1,i=!1;for(const l of t.body)if(l.body.length===1&&l.body[0].kind==="search_start")l.body.pop();else{const a=n$(l.body);a?(r=!0,Array.isArray(a)?n.push(...a):n.push(a)):i=!0}r&&!i&&n.forEach(l=>e.add(l))},exit(t,{accuracy:e,passedLookbehind:n,strategy:r}){if(e==="strict"&&n&&r)throw new Error(kt`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:t},{jsGroupNameMap:e}){let{ref:n}=t;typeof n=="string"&&!uT(n)&&(n=cT(n,e),t.ref=n)}},pbe={Backreference({node:t},{multiplexCapturesToLeftByRef:e,reffedNodesByReferencer:n}){const{orphan:r,ref:i}=t;r||n.set(t,[...e.get(i).map(({node:l})=>l)])},CapturingGroup:{enter({node:t,parent:e,replaceWith:n,skip:r},{groupOriginByCopy:i,groupsByName:l,multiplexCapturesToLeftByRef:a,openRefs:u,reffedNodesByReferencer:d}){const h=i.get(t);if(h&&u.has(t.number)){const g=Nu(N5(t.number),e);d.set(g,u.get(t.number)),n(g);return}u.set(t.number,t),a.set(t.number,[]),t.name&&k1(a,t.name,[]);const p=a.get(t.name??t.number);for(let g=0;g<p.length;g++){const y=p[g];if(h===y.node||h&&h===y.origin||t===y.origin){p.splice(g,1);break}}if(a.get(t.number).push({node:t,origin:h}),t.name&&a.get(t.name).push({node:t,origin:h}),t.name){const g=k1(l,t.name,new Map);let y=!1;if(h)y=!0;else for(const v of g.values())if(!v.hasDuplicateNameToRemove){y=!0;break}l.get(t.name).set(t,{node:t,hasDuplicateNameToRemove:y})}},exit({node:t},{openRefs:e}){e.delete(t.number)}},Group:{enter({node:t},e){e.prevFlags=e.currentFlags,t.flags&&(e.currentFlags=$C(e.currentFlags,t.flags))},exit(t,e){e.currentFlags=e.prevFlags}},Subroutine({node:t,parent:e,replaceWith:n},r){const{isRecursive:i,ref:l}=t;if(i){let p=e;for(;(p=p.parent)&&!(p.type==="CapturingGroup"&&(p.name===l||p.number===l)););r.reffedNodesByReferencer.set(t,p);return}const a=r.subroutineRefMap.get(l),u=l===0,d=u?N5(0):Jz(a,r.groupOriginByCopy,null);let h=d;if(!u){const p=e$(ybe(a,y=>y.type==="Group"&&!!y.flags)),g=p?$C(r.globalFlags,p):r.globalFlags;gbe(g,r.currentFlags)||(h=Bl({flags:vbe(g)}),h.body[0].body.push(d))}n(Qn(h,e),{traverse:!u})}},mbe={Backreference({node:t,parent:e,replaceWith:n},r){if(t.orphan){r.highestOrphanBackref=Math.max(r.highestOrphanBackref,t.ref);return}const l=r.reffedNodesByReferencer.get(t).filter(a=>bbe(a,t));if(!l.length)n(Qn(Fh({negate:!0}),e));else if(l.length>1){const a=Bl({atomic:!0,body:l.reverse().map(u=>Sp({body:[sA(u.number)]}))});n(Qn(a,e))}else t.ref=l[0].number},CapturingGroup({node:t},e){t.number=++e.numCapturesToLeft,t.name&&e.groupsByName.get(t.name).get(t).hasDuplicateNameToRemove&&delete t.name},Regex:{exit({node:t},e){const n=Math.max(e.highestOrphanBackref-e.numCapturesToLeft,0);for(let r=0;r<n;r++){const i=Vz();t.body.at(-1).body.push(i)}}},Subroutine({node:t},e){!t.isRecursive||t.ref===0||(t.ref=e.reffedNodesByReferencer.get(t).number)}};function Qz(t){Pv(t,{"*"({node:e,parent:n}){e.parent=n}})}function gbe(t,e){return t.dotAll===e.dotAll&&t.ignoreCase===e.ignoreCase}function bbe(t,e){let n=e;do{if(n.type==="Regex")return!1;if(n.type==="Alternative")continue;if(n===t)return!1;const r=t$(n.parent);for(const i of r){if(i===n)break;if(i===t||r$(i,t))return!0}}while(n=n.parent);throw new Error("Unexpected path")}function Jz(t,e,n,r){const i=Array.isArray(t)?[]:{};for(const[l,a]of Object.entries(t))l==="parent"?i.parent=Array.isArray(n)?r:n:a&&typeof a=="object"?i[l]=Jz(a,e,i,n):(l==="type"&&a==="CapturingGroup"&&e.set(i,e.get(t)??t),i[l]=a);return i}function N5(t){const e=Fz(t);return e.isRecursive=!0,e}function ybe(t,e){const n=[];for(;t=t.parent;)(!e||e(t))&&n.push(t);return n}function cT(t,e){if(e.has(t))return e.get(t);const n=`$${e.size}_${t.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return e.set(t,n),n}function e$(t){const e=["dotAll","ignoreCase"],n={enable:{},disable:{}};return t.forEach(({flags:r})=>{e.forEach(i=>{var l,a;(l=r.enable)!=null&&l[i]&&(delete n.disable[i],n.enable[i]=!0),(a=r.disable)!=null&&a[i]&&(n.disable[i]=!0)})}),Object.keys(n.enable).length||delete n.enable,Object.keys(n.disable).length||delete n.disable,n.enable||n.disable?n:null}function vbe({dotAll:t,ignoreCase:e}){const n={};return(t||e)&&(n.enable={},t&&(n.enable.dotAll=!0),e&&(n.enable.ignoreCase=!0)),(!t||!e)&&(n.disable={},!t&&(n.disable.dotAll=!0),!e&&(n.disable.ignoreCase=!0)),n}function t$(t){if(!t)throw new Error("Node expected");const{body:e}=t;return Array.isArray(e)?e:e?[e]:null}function n$(t){const e=t.find(n=>n.kind==="search_start"||Cbe(n,{negate:!1})||!wbe(n));if(!e)return null;if(e.kind==="search_start")return e;if(e.type==="LookaroundAssertion")return e.body[0].body[0];if(e.type==="CapturingGroup"||e.type==="Group"){const n=[];for(const r of e.body){const i=n$(r.body);if(!i)return null;Array.isArray(i)?n.push(...i):n.push(i)}return n}return null}function r$(t,e){const n=t$(t)??[];for(const r of n)if(r===e||r$(r,e))return!0;return!1}function wbe({type:t}){return t==="Assertion"||t==="Directive"||t==="LookaroundAssertion"}function kbe(t){const e=["Character","CharacterClass","CharacterSet"];return e.includes(t.type)||t.type==="Quantifier"&&t.min&&e.includes(t.body.type)}function Cbe(t,e){const n={negate:null,...e};return t.type==="LookaroundAssertion"&&(n.negate===null||t.negate===n.negate)&&t.body.length===1&&$z(t.body[0],{type:"Assertion",kind:"search_start"})}function uT(t){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(t)}function Gc(t,e){const r=Hz(t,{...e,unicodePropertyMap:f3}).body;return r.length>1||r[0].body.length>1?Bl({body:r}):r[0].body[0]}function dT(t,e){return t.negate=e,t}function Nu(t,e){return t.parent=e,t}function Qn(t,e){return Qz(t),t.parent=e,t}function _be(t,e){const n=Zz(e),r=cA(n.target,"ES2024"),i=cA(n.target,"ES2025"),l=n.rules.recursionLimit;if(!Number.isInteger(l)||l<2||l>20)throw new Error("Invalid recursionLimit; use 2-20");let a=null,u=null;if(!i){const v=[t.flags.ignoreCase];Pv(t,Sbe,{getCurrentModI:()=>v.at(-1),popModI(){v.pop()},pushModI(w){v.push(w)},setHasCasedChar(){v.at(-1)?a=!0:u=!0}})}const d={dotAll:t.flags.dotAll,ignoreCase:!!((t.flags.ignoreCase||a)&&!u)};let h=t;const p={accuracy:n.accuracy,appliedGlobalFlags:d,captureMap:new Map,currentFlags:{dotAll:t.flags.dotAll,ignoreCase:t.flags.ignoreCase},inCharClass:!1,lastNode:h,originMap:t._originMap,recursionLimit:l,useAppliedIgnoreCase:!!(!i&&a&&u),useFlagMods:i,useFlagV:r,verbose:n.verbose};function g(v){return p.lastNode=h,h=v,rbe(xbe[v.type],`Unexpected node type "${v.type}"`)(v,p,g)}const y={pattern:t.body.map(g).join("|"),flags:g(t.flags),options:{...t.options}};return r||(delete y.options.force.v,y.options.disable.v=!0,y.options.unicodeSetsPlugin=null),y._captureTransfers=new Map,y._hiddenCaptures=[],p.captureMap.forEach((v,w)=>{v.hidden&&y._hiddenCaptures.push(w),v.transferTo&&k1(y._captureTransfers,v.transferTo,[]).push(w)}),y}var Sbe={"*":{enter({node:t},e){if(D5(t)){const n=e.getCurrentModI();e.pushModI(t.flags?$C({ignoreCase:n},t.flags).ignoreCase:n)}},exit({node:t},e){D5(t)&&e.popModI()}},Backreference(t,e){e.setHasCasedChar()},Character({node:t},e){h3(Sr(t.value))&&e.setHasCasedChar()},CharacterClassRange({node:t,skip:e},n){e(),o$(t,{firstOnly:!0}).length&&n.setHasCasedChar()},CharacterSet({node:t},e){t.kind==="property"&&Yz.has(t.value)&&e.setHasCasedChar()}},xbe={Alternative({body:t},e,n){return t.map(n).join("")},Assertion({kind:t,negate:e}){if(t==="string_end")return"$";if(t==="string_start")return"^";if(t==="word_boundary")return e?kt`\B`:kt`\b`;throw new Error(`Unexpected assertion kind "${t}"`)},Backreference({ref:t},e){if(typeof t!="number")throw new Error("Unexpected named backref in transformed AST");if(!e.useFlagMods&&e.accuracy==="strict"&&e.currentFlags.ignoreCase&&!e.captureMap.get(t).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+t},CapturingGroup(t,e,n){const{body:r,name:i,number:l}=t,a={ignoreCase:e.currentFlags.ignoreCase},u=e.originMap.get(t);return u&&(a.hidden=!0,l>u.number&&(a.transferTo=u.number)),e.captureMap.set(l,a),`(${i?`?<${i}>`:""}${r.map(n).join("|")})`},Character({value:t},e){const n=Sr(t),r=Up(t,{escDigit:e.lastNode.type==="Backreference",inCharClass:e.inCharClass,useFlagV:e.useFlagV});if(r!==n)return r;if(e.useAppliedIgnoreCase&&e.currentFlags.ignoreCase&&h3(n)){const i=Xz(n);return e.inCharClass?i.join(""):i.length>1?`[${i.join("")}]`:i[0]}return n},CharacterClass(t,e,n){const{kind:r,negate:i,parent:l}=t;let{body:a}=t;if(r==="intersection"&&!e.useFlagV)throw new Error("Use of class intersection requires min target ES2024");Dm.bugLiteralHyphenIsRange&&e.useFlagV&&a.some(L5)&&(a=a.filter(h=>!L5(h)),a.push(oS(45)));const u=()=>`[${i?"^":""}${a.map(n).join(r==="intersection"?"&&":"")}]`;if(!e.inCharClass){if(!e.useFlagV&&!i){const p=a.filter(g=>g.type==="CharacterClass"&&g.kind==="union"&&g.negate);if(p.length){const g=Bl(),y=g.body[0];return g.parent=l,y.parent=g,a=a.filter(v=>!p.includes(v)),t.body=a,a.length?(t.parent=y,y.body.push(t)):g.body.pop(),p.forEach(v=>{const w=Sp({body:[v]});v.parent=w,w.parent=g,g.body.push(w)}),n(g)}}e.inCharClass=!0;const h=u();return e.inCharClass=!1,h}const d=a[0];if(r==="union"&&!i&&d&&((!e.useFlagV||!e.verbose)&&l.kind==="union"&&!(Dm.bugLiteralHyphenIsRange&&e.useFlagV)||!e.verbose&&l.kind==="intersection"&&a.length===1&&d.type!=="CharacterClassRange"))return a.map(n).join("");if(!e.useFlagV&&l.type==="CharacterClass")throw new Error("Use of nested character class requires min target ES2024");return u()},CharacterClassRange(t,e){const n=t.min.value,r=t.max.value,i={escDigit:!1,inCharClass:!0,useFlagV:e.useFlagV},l=Up(n,i),a=Up(r,i),u=new Set;if(e.useAppliedIgnoreCase&&e.currentFlags.ignoreCase){const d=o$(t);Rbe(d).forEach(p=>{u.add(Array.isArray(p)?`${Up(p[0],i)}-${Up(p[1],i)}`:Up(p,i))})}return`${l}-${a}${[...u].join("")}`},CharacterSet({kind:t,negate:e,value:n,key:r},i){if(t==="dot")return i.currentFlags.dotAll?i.appliedGlobalFlags.dotAll||i.useFlagMods?".":"[^]":kt`[^\n]`;if(t==="digit")return e?kt`\D`:kt`\d`;if(t==="property"){if(i.useAppliedIgnoreCase&&i.currentFlags.ignoreCase&&Yz.has(n))throw new Error(`Unicode property "${n}" can't be case-insensitive when other chars have specific case`);return`${e?kt`\P`:kt`\p`}{${r?`${r}=`:""}${n}}`}if(t==="word")return e?kt`\W`:kt`\w`;throw new Error(`Unexpected character set kind "${t}"`)},Flags(t,e){return(e.appliedGlobalFlags.ignoreCase?"i":"")+(t.dotAll?"s":"")+(t.sticky?"y":"")},Group({atomic:t,body:e,flags:n,parent:r},i,l){const a=i.currentFlags;n&&(i.currentFlags=$C(a,n));const u=e.map(l).join("|"),d=!i.verbose&&e.length===1&&r.type!=="Quantifier"&&!t&&(!i.useFlagMods||!n)?u:`(?${Nbe(t,n,i.useFlagMods)}${u})`;return i.currentFlags=a,d},LookaroundAssertion({body:t,kind:e,negate:n},r,i){return`(?${`${e==="lookahead"?"":"<"}${n?"!":"="}`}${t.map(i).join("|")})`},Quantifier(t,e,n){return n(t.body)+Obe(t)},Subroutine({isRecursive:t,ref:e},n){if(!t)throw new Error("Unexpected non-recursive subroutine in transformed AST");const r=n.recursionLimit;return e===0?`(?R=${r})`:kt`\g<${e}&R=${r}>`}},Ebe=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Tbe=new Set(["-","\\","]","^","["]),Mbe=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),O5=new Map([[9,kt`\t`],[10,kt`\n`],[11,kt`\v`],[12,kt`\f`],[13,kt`\r`],[8232,kt`\u2028`],[8233,kt`\u2029`],[65279,kt`\uFEFF`]]),Abe=new RegExp("^\\p{Cased}$","u");function h3(t){return Abe.test(t)}function o$(t,e){const n=!!(e!=null&&e.firstOnly),r=t.min.value,i=t.max.value,l=[];if(r<65&&(i===65535||i>=131071)||r===65536&&i>=131071)return l;for(let a=r;a<=i;a++){const u=Sr(a);if(!h3(u))continue;const d=Xz(u).filter(h=>{const p=h.codePointAt(0);return p<r||p>i});if(d.length&&(l.push(...d),n))break}return l}function Up(t,{escDigit:e,inCharClass:n,useFlagV:r}){if(O5.has(t))return O5.get(t);if(t<32||t>126&&t<160||t>262143||e&&Dbe(t))return t>255?`\\u{${t.toString(16).toUpperCase()}}`:`\\x${t.toString(16).toUpperCase().padStart(2,"0")}`;const i=n?r?Mbe:Tbe:Ebe,l=Sr(t);return(i.has(l)?"\\":"")+l}function Rbe(t){const e=t.map(i=>i.codePointAt(0)).sort((i,l)=>i-l),n=[];let r=null;for(let i=0;i<e.length;i++)e[i+1]===e[i]+1?r??(r=e[i]):r===null?n.push(e[i]):(n.push([r,e[i]]),r=null);return n}function Nbe(t,e,n){if(t)return">";let r="";if(e&&n){const{enable:i,disable:l}=e;r=(i!=null&&i.ignoreCase?"i":"")+(i!=null&&i.dotAll?"s":"")+(l?"-":"")+(l!=null&&l.ignoreCase?"i":"")+(l!=null&&l.dotAll?"s":"")}return`${r}:`}function Obe({kind:t,max:e,min:n}){let r;return!n&&e===1?r="?":!n&&e===1/0?r="*":n===1&&e===1/0?r="+":n===e?r=`{${n}}`:r=`{${n},${e===1/0?"":e}}`,r+{greedy:"",lazy:"?",possessive:"+"}[t]}function D5({type:t}){return t==="CapturingGroup"||t==="Group"||t==="LookaroundAssertion"}function Dbe(t){return t>47&&t<58}function L5({type:t,value:e}){return t==="Character"&&e===45}var Vu,Xc,ep,Uu,tp,C1,uA,ed,Lbe=(ed=class extends RegExp{constructor(n,r,i){var e=(...Q0e)=>(super(...Q0e),Dh(this,C1),Dh(this,Vu,new Map),Dh(this,Xc,null),Dh(this,ep),Dh(this,Uu,null),Dh(this,tp,null),ae(this,"rawOptions",{}),this);const l=!!(i!=null&&i.lazyCompile);if(n instanceof RegExp){if(i)throw new Error("Cannot provide options when copying a regexp");const a=n;e(a,r),Dl(this,ep,a.source),a instanceof ed&&(Dl(this,Vu,Go(a,Vu)),Dl(this,Uu,Go(a,Uu)),Dl(this,tp,Go(a,tp)),this.rawOptions=a.rawOptions)}else{const a={hiddenCaptures:[],strategy:null,transfers:[],...i};e(l?"":n,r),Dl(this,ep,n),Dl(this,Vu,Ibe(a.hiddenCaptures,a.transfers)),Dl(this,tp,a.strategy),this.rawOptions=i??{}}l||Dl(this,Xc,this)}get source(){return Go(this,ep)||"(?:)"}exec(n){if(!Go(this,Xc)){const{lazyCompile:l,...a}=this.rawOptions;Dl(this,Xc,new ed(Go(this,ep),this.flags,a))}const r=this.global||this.sticky,i=this.lastIndex;if(Go(this,tp)==="clip_search"&&r&&i){this.lastIndex=0;const l=CE(this,C1,uA).call(this,n.slice(i));return l&&(Pbe(l,i,n,this.hasIndices),this.lastIndex+=i),l}return CE(this,C1,uA).call(this,n)}},Vu=new WeakMap,Xc=new WeakMap,ep=new WeakMap,Uu=new WeakMap,tp=new WeakMap,C1=new WeakSet,uA=function(n){Go(this,Xc).lastIndex=this.lastIndex;const r=b3(ed.prototype,this,"exec").call(Go(this,Xc),n);if(this.lastIndex=Go(this,Xc).lastIndex,!r||!Go(this,Vu).size)return r;const i=[...r];r.length=1;let l;this.hasIndices&&(l=[...r.indices],r.indices.length=1);const a=[0];for(let u=1;u<i.length;u++){const{hidden:d,transferTo:h}=Go(this,Vu).get(u)??{};if(d?a.push(null):(a.push(r.length),r.push(i[u]),this.hasIndices&&r.indices.push(l[u])),h&&i[u]!==void 0){const p=a[h];if(!p)throw new Error(`Invalid capture transfer to "${p}"`);if(r[p]=i[u],this.hasIndices&&(r.indices[p]=l[u]),r.groups){Go(this,Uu)||Dl(this,Uu,Bbe(this.source));const g=Go(this,Uu).get(h);g&&(r.groups[g]=i[u],this.hasIndices&&(r.indices.groups[g]=l[u]))}}}return r},ed);function Pbe(t,e,n,r){if(t.index+=e,t.input=n,r){const i=t.indices;for(let a=0;a<i.length;a++){const u=i[a];u&&(i[a]=[u[0]+e,u[1]+e])}const l=i.groups;l&&Object.keys(l).forEach(a=>{const u=l[a];u&&(l[a]=[u[0]+e,u[1]+e])})}}function Ibe(t,e){const n=new Map;for(const r of t)n.set(r,{hidden:!0});for(const[r,i]of e)for(const l of i)k1(n,l,{}).transferTo=r;return n}function Bbe(t){const e=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map;let r=0,i=0,l;for(;l=e.exec(t);){const{0:a,groups:{capture:u,name:d}}=l;a==="["?r++:r?a==="]"&&r--:u&&(i++,d&&n.set(i,d))}return n}function jbe(t,e){const n=zbe(t,e);return n.options?new Lbe(n.pattern,n.flags,n.options):new RegExp(n.pattern,n.flags)}function zbe(t,e){const n=Zz(e),r=Hz(t,{flags:n.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline},skipBackrefValidation:n.rules.allowOrphanBackrefs,unicodePropertyMap:f3}),i=fbe(r,{accuracy:n.accuracy,asciiWordBoundaries:n.rules.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,bestEffortTarget:n.target}),l=_be(i,n),a=tbe(l.pattern,{captureTransfers:l._captureTransfers,hiddenCaptures:l._hiddenCaptures,mode:"external"}),u=Jge(a.pattern),d=Qge(u.pattern,{captureTransfers:a.captureTransfers,hiddenCaptures:a.hiddenCaptures}),h={pattern:d.pattern,flags:`${n.hasIndices?"d":""}${n.global?"g":""}${l.flags}${l.options.disable.v?"u":"v"}`};if(n.avoidSubclass){if(n.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const p=d.hiddenCaptures.sort((w,C)=>w-C),g=Array.from(d.captureTransfers),y=i._strategy,v=h.pattern.length>=n.lazyCompileLength;(p.length||g.length||y||v)&&(h.options={...p.length&&{hiddenCaptures:p},...g.length&&{transfers:g},...y&&{strategy:y},...v&&{lazyCompile:v}})}return h}const P5=4294967295;class $be{constructor(e,n={}){ae(this,"regexps");this.patterns=e,this.options=n;const{forgiving:r=!1,cache:i,regexConstructor:l}=n;if(!l)throw new Error("Option `regexConstructor` is not provided");this.regexps=e.map(a=>{if(typeof a!="string")return a;const u=i==null?void 0:i.get(a);if(u){if(u instanceof RegExp)return u;if(r)return null;throw u}try{const d=l(a);return i==null||i.set(a,d),d}catch(d){if(i==null||i.set(a,d),r)return null;throw d}})}findNextMatchSync(e,n,r){const i=typeof e=="string"?e:e.content,l=[];function a(u,d,h=0){return{index:u,captureIndices:d.indices.map(p=>p==null?{start:P5,end:P5,length:0}:{start:p[0]+h,end:p[1]+h,length:p[1]-p[0]})}}for(let u=0;u<this.regexps.length;u++){const d=this.regexps[u];if(d)try{d.lastIndex=n;const h=d.exec(i);if(!h)continue;if(h.index===n)return a(u,h,0);l.push([u,h,0])}catch(h){if(this.options.forgiving)continue;throw h}}if(l.length){const u=Math.min(...l.map(d=>d[1].index));for(const[d,h,p]of l)if(h.index===u)return a(d,h,p)}return null}}function Hbe(t,e){return jbe(t,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...e})}function Vbe(t={}){const e=Object.assign({target:"auto",cache:new Map},t);return e.regexConstructor||(e.regexConstructor=n=>Hbe(n,{target:e.target})),{createScanner(n){return new $be(n,e)},createString(n){return{content:n}}}}const Ube={c:()=>Me(()=>import("./c-DQELURDk.js"),[]),cpp:()=>Me(()=>import("./cpp-D82uecsE.js"),__vite__mapDeps([24,25,26,27,28])),"c++":()=>Me(()=>import("./cpp-D82uecsE.js"),__vite__mapDeps([24,25,26,27,28])),css:()=>Me(()=>import("./css-BoQQxBie.js"),[]),glsl:()=>Me(()=>import("./glsl-h0hsPDtH.js"),__vite__mapDeps([26,27])),graphql:()=>Me(()=>import("./graphql-B3yvHD_M.js"),__vite__mapDeps([29,30,31,32,33])),gql:()=>Me(()=>import("./graphql-B3yvHD_M.js"),__vite__mapDeps([29,30,31,32,33])),haml:()=>Me(()=>import("./haml-CR9E6aXY.js"),__vite__mapDeps([34,30,35])),html:()=>Me(()=>import("./html-DsBkTFdy.js"),__vite__mapDeps([36,30,35])),java:()=>Me(()=>import("./java-Bbr7hVXb.js"),[]),javascript:()=>Me(()=>import("./javascript-DnWxMo7b.js"),[]),js:()=>Me(()=>import("./javascript-DnWxMo7b.js"),[]),json:()=>Me(()=>import("./json-MtVCqODg.js"),[]),jsonc:()=>Me(()=>import("./jsonc-BY96ZF9p.js"),[]),jsonl:()=>Me(()=>import("./jsonl-C4VksMDG.js"),[]),jsx:()=>Me(()=>import("./jsx-CuJo4zxc.js"),[]),julia:()=>Me(()=>import("./julia-Bw3RQhdT.js"),__vite__mapDeps([37,24,25,26,27,28,38,30,39])),jl:()=>Me(()=>import("./julia-Bw3RQhdT.js"),__vite__mapDeps([37,24,25,26,27,28,38,30,39])),less:()=>Me(()=>import("./less-C8DTNoJX.js"),[]),markdown:()=>Me(()=>import("./markdown-89iOoXSK.js"),[]),md:()=>Me(()=>import("./markdown-89iOoXSK.js"),[]),mdx:()=>Me(()=>import("./mdx-v_35pf1E.js"),[]),php:()=>Me(()=>import("./php-6QytEjo7.js"),__vite__mapDeps([40,36,30,35,41,42,28,43])),postcss:()=>Me(()=>import("./postcss-Lc9p0BGC.js"),[]),pug:()=>Me(()=>import("./pug-B_BsH3BW.js"),__vite__mapDeps([44,30,35,36])),jade:()=>Me(()=>import("./pug-B_BsH3BW.js"),__vite__mapDeps([44,30,35,36])),python:()=>Me(()=>import("./python-l0_EA7WF.js"),[]),py:()=>Me(()=>import("./python-l0_EA7WF.js"),[]),r:()=>Me(()=>import("./r-Bp2dwu96.js"),[]),regexp:()=>Me(()=>import("./regexp-BQv5Oyoy.js"),[]),regex:()=>Me(()=>import("./regexp-BQv5Oyoy.js"),[]),sass:()=>Me(()=>import("./sass-DwMelvTf.js"),[]),scss:()=>Me(()=>import("./scss-DFuTukr_.js"),__vite__mapDeps([45,35])),shellscript:()=>Me(()=>import("./shellscript-DZRudzCt.js"),[]),bash:()=>Me(()=>import("./shellscript-DZRudzCt.js"),[]),sh:()=>Me(()=>import("./shellscript-DZRudzCt.js"),[]),shell:()=>Me(()=>import("./shellscript-DZRudzCt.js"),[]),zsh:()=>Me(()=>import("./shellscript-DZRudzCt.js"),[]),sql:()=>Me(()=>import("./sql-CRwShwgG.js"),[]),svelte:()=>Me(()=>import("./svelte-D-kKjIIQ.js"),__vite__mapDeps([46,30,31,35,47])),typescript:()=>Me(()=>import("./typescript-BmIb1rS1.js"),[]),ts:()=>Me(()=>import("./typescript-BmIb1rS1.js"),[]),vue:()=>Me(()=>import("./vue-DXfpG9_P.js"),__vite__mapDeps([48,36,30,35,31,43])),"vue-html":()=>Me(()=>import("./vue-html-B2oM6NB2.js"),__vite__mapDeps([49,48,36,30,35,31,43])),wasm:()=>Me(()=>import("./wasm-O3whNjSJ.js"),[]),wgsl:()=>Me(()=>import("./wgsl-B_-VCzAW.js"),[]),xml:()=>Me(()=>import("./xml-DA7scxi1.js"),__vite__mapDeps([41,42])),yaml:()=>Me(()=>import("./yaml-BOK0MEqo.js"),[]),yml:()=>Me(()=>import("./yaml-BOK0MEqo.js"),[]),tsx:()=>Me(()=>import("./tsx-DGLEtJaR.js"),[]),typescriptreact:()=>Me(()=>import("./tsx-DGLEtJaR.js"),[]),haskell:()=>Me(()=>import("./haskell-CSlmAHVl.js"),[]),hs:()=>Me(()=>import("./haskell-CSlmAHVl.js"),[]),"c#":()=>Me(()=>import("./csharp-ch2NnAk9.js"),[]),csharp:()=>Me(()=>import("./csharp-ch2NnAk9.js"),[]),cs:()=>Me(()=>import("./csharp-ch2NnAk9.js"),[]),latex:()=>Me(()=>import("./latex-DDC6e2Q9.js"),__vite__mapDeps([50,39])),lua:()=>Me(()=>import("./lua-pktYF_7c.js"),__vite__mapDeps([51,27])),mermaid:()=>Me(()=>import("./mermaid-DSfCzET2.js"),[]),mmd:()=>Me(()=>import("./mermaid-DSfCzET2.js"),[]),ruby:()=>Me(()=>import("./ruby-Cpns1qvJ.js"),__vite__mapDeps([52,36,30,35,34,41,42,28,29,31,32,33,24,25,26,27,53,51,54])),rb:()=>Me(()=>import("./ruby-Cpns1qvJ.js"),__vite__mapDeps([52,36,30,35,34,41,42,28,29,31,32,33,24,25,26,27,53,51,54])),rust:()=>Me(()=>import("./rust-DDYRqtrA.js"),[]),rs:()=>Me(()=>import("./rust-DDYRqtrA.js"),[]),scala:()=>Me(()=>import("./scala-Ck6vODtn.js"),[]),swift:()=>Me(()=>import("./swift-D0KJ6XA0.js"),[]),kotlin:()=>Me(()=>import("./kotlin-BaF8BQe8.js"),[]),kt:()=>Me(()=>import("./kotlin-BaF8BQe8.js"),[]),kts:()=>Me(()=>import("./kotlin-BaF8BQe8.js"),[]),"objective-c":()=>Me(()=>import("./objective-c-BKg-kwXr.js"),[]),objc:()=>Me(()=>import("./objective-c-BKg-kwXr.js"),[])},Fbe={"github-dark":()=>Me(()=>import("./github-dark-DHJKELXO.js"),[]),"github-light":()=>Me(()=>import("./github-light-DAi9KRSo.js"),[])},Gbe=tge({langs:Ube,themes:Fbe,engine:()=>Vbe()}),qbe={defaultLanguage:"javascript",supportedLanguages:{text:{name:"Plain Text",aliases:["text","txt","plain"]},c:{name:"C",aliases:["c"]},cpp:{name:"C++",aliases:["cpp","c++"]},css:{name:"CSS",aliases:["css"]},glsl:{name:"GLSL",aliases:["glsl"]},graphql:{name:"GraphQL",aliases:["graphql","gql"]},haml:{name:"Ruby Haml",aliases:["haml"]},html:{name:"HTML",aliases:["html"]},java:{name:"Java",aliases:["java"]},javascript:{name:"JavaScript",aliases:["javascript","js"]},json:{name:"JSON",aliases:["json"]},jsonc:{name:"JSON with Comments",aliases:["jsonc"]},jsonl:{name:"JSON Lines",aliases:["jsonl"]},jsx:{name:"JSX",aliases:["jsx"]},julia:{name:"Julia",aliases:["julia","jl"]},less:{name:"Less",aliases:["less"]},markdown:{name:"Markdown",aliases:["markdown","md"]},mdx:{name:"MDX",aliases:["mdx"]},php:{name:"PHP",aliases:["php"]},postcss:{name:"PostCSS",aliases:["postcss"]},pug:{name:"Pug",aliases:["pug","jade"]},python:{name:"Python",aliases:["python","py"]},r:{name:"R",aliases:["r"]},regexp:{name:"RegExp",aliases:["regexp","regex"]},sass:{name:"Sass",aliases:["sass"]},scss:{name:"SCSS",aliases:["scss"]},shellscript:{name:"Shell",aliases:["shellscript","bash","sh","shell","zsh"]},sql:{name:"SQL",aliases:["sql"]},svelte:{name:"Svelte",aliases:["svelte"]},typescript:{name:"TypeScript",aliases:["typescript","ts"]},vue:{name:"Vue",aliases:["vue"]},"vue-html":{name:"Vue HTML",aliases:["vue-html"]},wasm:{name:"WebAssembly",aliases:["wasm"]},wgsl:{name:"WGSL",aliases:["wgsl"]},xml:{name:"XML",aliases:["xml"]},yaml:{name:"YAML",aliases:["yaml","yml"]},tsx:{name:"TSX",aliases:["tsx","typescriptreact"]},haskell:{name:"Haskell",aliases:["haskell","hs"]},csharp:{name:"C#",aliases:["c#","csharp","cs"]},latex:{name:"LaTeX",aliases:["latex"]},lua:{name:"Lua",aliases:["lua"]},mermaid:{name:"Mermaid",aliases:["mermaid","mmd"]},ruby:{name:"Ruby",aliases:["ruby","rb"]},rust:{name:"Rust",aliases:["rust","rs"]},scala:{name:"Scala",aliases:["scala"]},swift:{name:"Swift",aliases:["swift"]},kotlin:{name:"Kotlin",aliases:["kotlin","kt","kts"]},"objective-c":{name:"Objective C",aliases:["objective-c","objc"]}},createHighlighter:()=>Gbe({themes:["github-dark","github-light"],langs:[]})};var fT={exports:{}},rv={},I5={exports:{}},B5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function Wbe(){return j5||(j5=1,function(t){function e(L,H){var K=L.length;L.push(H);e:for(;0<K;){var ee=K-1>>>1,$=L[ee];if(0<i($,H))L[ee]=H,L[K]=$,K=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],K=L.pop();if(K!==H){L[0]=K;e:for(var ee=0,$=L.length,Y=$>>>1;ee<Y;){var te=2*(ee+1)-1,re=L[te],Ee=te+1,$e=L[Ee];if(0>i(re,K))Ee<$&&0>i($e,re)?(L[ee]=$e,L[Ee]=K,ee=Ee):(L[ee]=re,L[te]=K,ee=te);else if(Ee<$&&0>i($e,K))L[ee]=$e,L[Ee]=K,ee=Ee;else break e}}return H}function i(L,H){var K=L.sortIndex-H.sortIndex;return K!==0?K:L.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var d=[],h=[],p=1,g=null,y=3,v=!1,w=!1,C=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(L){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=L)r(h),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(h)}}function B(L){if(C=!1,I(L),!w)if(n(d)!==null)w=!0,F||(F=!0,ue());else{var H=n(h);H!==null&&de(B,H.startTime-L)}}var F=!1,q=-1,Z=5,Q=-1;function ie(){return S?!0:!(t.unstable_now()-Q<Z)}function ke(){if(S=!1,F){var L=t.unstable_now();Q=L;var H=!0;try{e:{w=!1,C&&(C=!1,A(q),q=-1),v=!0;var K=y;try{t:{for(I(L),g=n(d);g!==null&&!(g.expirationTime>L&&ie());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,y=g.priorityLevel;var $=ee(g.expirationTime<=L);if(L=t.unstable_now(),typeof $=="function"){g.callback=$,I(L),H=!0;break t}g===n(d)&&r(d),I(L)}else r(d);g=n(d)}if(g!==null)H=!0;else{var Y=n(h);Y!==null&&de(B,Y.startTime-L),H=!1}}break e}finally{g=null,y=K,v=!1}H=void 0}}finally{H?ue():F=!1}}}var ue;if(typeof N=="function")ue=function(){N(ke)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,we=xe.port2;xe.port1.onmessage=ke,ue=function(){we.postMessage(null)}}else ue=function(){E(ke,0)};function de(L,H){q=E(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(L){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var K=y;y=H;try{return L()}finally{y=K}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=y;y=L;try{return H()}finally{y=K}},t.unstable_scheduleCallback=function(L,H,K){var ee=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,L){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=K+$,L={id:p++,callback:H,priorityLevel:L,startTime:K,expirationTime:$,sortIndex:-1},K>ee?(L.sortIndex=K,e(h,L),n(d)===null&&L===n(h)&&(C?(A(q),q=-1):C=!0,de(B,K-ee))):(L.sortIndex=$,e(d,L),w||v||(w=!0,F||(F=!0,ue()))),L},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(L){var H=y;return function(){var K=y;y=H;try{return L.apply(this,arguments)}finally{y=K}}}}(B5)),B5}var z5;function Kbe(){return z5||(z5=1,I5.exports=Wbe()),I5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $5;function Zbe(){if($5)return rv;$5=1;var t=Kbe(),e=lt,n=OA;function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function l(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function a(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(l(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=l(o),s===null)throw Error(r(188));return s!==o?null:o}for(var c=o,f=s;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return u(m),o;if(b===f)return u(m),s;b=b.sibling}throw Error(r(188))}if(c.return!==f.return)c=m,f=b;else{for(var k=!1,_=m.child;_;){if(_===c){k=!0,c=m,f=b;break}if(_===f){k=!0,f=m,c=b;break}_=_.sibling}if(!k){for(_=b.child;_;){if(_===c){k=!0,c=b,f=m;break}if(_===f){k=!0,f=b,c=m;break}_=_.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function ue(o){return o===null||typeof o!="object"?null:(o=ke&&o[ke]||o["@@iterator"],typeof o=="function"?o:null)}var xe=Symbol.for("react.client.reference");function we(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===xe?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case B:return"Suspense";case F:return"SuspenseList";case Q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case N:return(o.displayName||"Context")+".Provider";case A:return(o._context.displayName||"Context")+".Consumer";case I:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return s=o.displayName||null,s!==null?s:we(o.type)||"Memo";case Z:s=o._payload,o=o._init;try{return we(o(s))}catch{}}return null}var de=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ee=[],$=-1;function Y(o){return{current:o}}function te(o){0>$||(o.current=ee[$],ee[$]=null,$--)}function re(o,s){$++,ee[$]=o.current,o.current=s}var Ee=Y(null),$e=Y(null),Ae=Y(null),ft=Y(null);function ct(o,s){switch(re(Ae,s),re($e,o),re(Ee,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?y0(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=y0(s),o=v0(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}te(Ee),re(Ee,o)}function Ut(){te(Ee),te($e),te(Ae)}function Jt(o){o.memoizedState!==null&&re(ft,o);var s=Ee.current,c=v0(s,o.type);s!==c&&(re($e,o),re(Ee,c))}function ar(o){$e.current===o&&(te(Ee),te($e)),ft.current===o&&(te(ft),Ml._currentValue=K)}var G=Object.prototype.hasOwnProperty,X=t.unstable_scheduleCallback,ne=t.unstable_cancelCallback,me=t.unstable_shouldYield,fe=t.unstable_requestPaint,le=t.unstable_now,Re=t.unstable_getCurrentPriorityLevel,Te=t.unstable_ImmediatePriority,pe=t.unstable_UserBlockingPriority,he=t.unstable_NormalPriority,Ye=t.unstable_LowPriority,Oe=t.unstable_IdlePriority,qe=t.log,nt=t.unstable_setDisableYieldValue,it=null,We=null;function ot(o){if(typeof qe=="function"&&nt(o),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(it,o)}catch{}}var mt=Math.clz32?Math.clz32:oi,Wn=Math.log,cn=Math.LN2;function oi(o){return o>>>=0,o===0?32:31-(Wn(o)/cn|0)|0}var To=256,vs=4194304;function en(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function nr(o,s,c){var f=o.pendingLanes;if(f===0)return 0;var m=0,b=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var _=f&134217727;return _!==0?(f=_&~b,f!==0?m=en(f):(k&=_,k!==0?m=en(k):c||(c=_&~o,c!==0&&(m=en(c))))):(_=f&~b,_!==0?m=en(_):k!==0?m=en(k):c||(c=f&~o,c!==0&&(m=en(c)))),m===0?0:s!==0&&s!==m&&(s&b)===0&&(b=m&-m,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:m}function ii(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function aS(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tg(){var o=To;return To<<=1,(To&4194048)===0&&(To=256),o}function ng(){var o=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),o}function kd(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function js(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function cS(o,s,c,f,m,b){var k=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var _=o.entanglements,M=o.expirationTimes,P=o.hiddenUpdates;for(c=k&~c;0<c;){var V=31-mt(c),W=1<<V;_[V]=0,M[V]=-1;var j=P[V];if(j!==null)for(P[V]=null,V=0;V<j.length;V++){var z=j[V];z!==null&&(z.lane&=-536870913)}c&=~W}f!==0&&rg(o,f,0),b!==0&&m===0&&o.tag!==0&&(o.suspendedLanes|=b&~(k&~s))}function rg(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var f=31-mt(s);o.entangledLanes|=s,o.entanglements[f]=o.entanglements[f]|1073741824|c&4194090}function og(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var f=31-mt(c),m=1<<f;m&s|o[f]&s&&(o[f]|=s),c&=~m}}function Cd(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function _d(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ig(){var o=H.p;return o!==0?o:(o=window.event,o===void 0?32:j0(o.type))}function uS(o,s){var c=H.p;try{return H.p=o,s()}finally{H.p=c}}var Ir=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ir,tn="__reactProps$"+Ir,ki="__reactContainer$"+Ir,Sd="__reactEvents$"+Ir,dS="__reactListeners$"+Ir,fS="__reactHandles$"+Ir,sg="__reactResources$"+Ir,zs="__reactMarker$"+Ir;function xd(o){delete o[Gt],delete o[tn],delete o[Sd],delete o[dS],delete o[fS]}function Ci(o){var s=o[Gt];if(s)return s;for(var c=o.parentNode;c;){if(s=c[ki]||c[Gt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=_0(o);o!==null;){if(c=o[Gt])return c;o=_0(o)}return s}o=c,c=o.parentNode}return null}function _i(o){if(o=o[Gt]||o[ki]){var s=o.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return o}return null}function $s(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Si(o){var s=o[sg];return s||(s=o[sg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(o){o[zs]=!0}var lg=new Set,ag={};function Mo(o,s){xi(o,s),xi(o+"Capture",s)}function xi(o,s){for(ag[o]=s,o=0;o<s.length;o++)lg.add(s[o])}var hS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cg={},ug={};function pS(o){return G.call(ug,o)?!0:G.call(cg,o)?!1:hS.test(o)?ug[o]=!0:(cg[o]=!0,!1)}function Aa(o,s,c){if(pS(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function Ra(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function cr(o,s,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+f)}}var Ed,dg;function Ei(o){if(Ed===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Ed=s&&s[1]||"",dg=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ed+o+dg}var Td=!1;function Md(o,s){if(!o||Td)return"";Td=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(z){var j=z}Reflect.construct(o,[],W)}else{try{W.call()}catch(z){j=z}o.call(W.prototype)}}else{try{throw Error()}catch(z){j=z}(W=o())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(z){if(z&&j&&typeof z.stack=="string")return[z.stack,j.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),k=b[0],_=b[1];if(k&&_){var M=k.split(`
`),P=_.split(`
`);for(m=f=0;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;for(;m<P.length&&!P[m].includes("DetermineComponentFrameRoot");)m++;if(f===M.length||m===P.length)for(f=M.length-1,m=P.length-1;1<=f&&0<=m&&M[f]!==P[m];)m--;for(;1<=f&&0<=m;f--,m--)if(M[f]!==P[m]){if(f!==1||m!==1)do if(f--,m--,0>m||M[f]!==P[m]){var V=`
`+M[f].replace(" at new "," at ");return o.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",o.displayName)),V}while(1<=f&&0<=m);break}}}finally{Td=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?Ei(c):""}function mS(o){switch(o.tag){case 26:case 27:case 5:return Ei(o.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Md(o.type,!1);case 11:return Md(o.type.render,!1);case 1:return Md(o.type,!0);case 31:return Ei("Activity");default:return""}}function fg(o){try{var s="";do s+=mS(o),o=o.return;while(o);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function En(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function hg(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gS(o){var s=hg(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),f=""+o[s];if(!o.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return m.call(this)},set:function(k){f=""+k,b.call(this,k)}}),Object.defineProperty(o,s,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Na(o){o._valueTracker||(o._valueTracker=gS(o))}function pg(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return o&&(f=hg(o)?o.checked?"true":"false":o.value),o=f,o!==c?(s.setValue(o),!0):!1}function Oa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var bS=/[\n"\\]/g;function In(o){return o.replace(bS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ad(o,s,c,f,m,b,k,_){o.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.type=k:o.removeAttribute("type"),s!=null?k==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+En(s)):o.value!==""+En(s)&&(o.value=""+En(s)):k!=="submit"&&k!=="reset"||o.removeAttribute("value"),s!=null?Rd(o,k,En(s)):c!=null?Rd(o,k,En(c)):f!=null&&o.removeAttribute("value"),m==null&&b!=null&&(o.defaultChecked=!!b),m!=null&&(o.checked=m&&typeof m!="function"&&typeof m!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?o.name=""+En(_):o.removeAttribute("name")}function mg(o,s,c,f,m,b,k,_){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;c=c!=null?""+En(c):"",s=s!=null?""+En(s):c,_||s===o.value||(o.value=s),o.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=_?o.checked:!!f,o.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.name=k)}function Rd(o,s,c){s==="number"&&Oa(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function Ti(o,s,c,f){if(o=o.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<o.length;c++)m=s.hasOwnProperty("$"+o[c].value),o[c].selected!==m&&(o[c].selected=m),m&&f&&(o[c].defaultSelected=!0)}else{for(c=""+En(c),s=null,m=0;m<o.length;m++){if(o[m].value===c){o[m].selected=!0,f&&(o[m].defaultSelected=!0);return}s!==null||o[m].disabled||(s=o[m])}s!==null&&(s.selected=!0)}}function gg(o,s,c){if(s!=null&&(s=""+En(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+En(c):""}function bg(o,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(r(92));if(de(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=En(s),o.defaultValue=c,f=o.textContent,f===c&&f!==""&&f!==null&&(o.value=f)}function Mi(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var yS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yg(o,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":f?o.setProperty(s,c):typeof c!="number"||c===0||yS.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function vg(o,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&c[m]!==f&&yg(o,m,f)}else for(var b in s)s.hasOwnProperty(b)&&yg(o,b,s[b])}function Nd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(o){return wS.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Od=null;function Dd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ai=null,Ri=null;function wg(o){var s=_i(o);if(s&&(o=s.stateNode)){var c=o[tn]||null;e:switch(o=s.stateNode,s.type){case"input":if(Ad(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+In(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==o&&f.form===o.form){var m=f[tn]||null;if(!m)throw Error(r(90));Ad(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===o.form&&pg(f)}break e;case"textarea":gg(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ti(o,!!c.multiple,s,!1)}}}var Ld=!1;function kg(o,s,c){if(Ld)return o(s,c);Ld=!0;try{var f=o(s);return f}finally{if(Ld=!1,(Ai!==null||Ri!==null)&&(yc(),Ai&&(s=Ai,o=Ri,Ri=Ai=null,wg(s),o)))for(s=0;s<o.length;s++)wg(o[s])}}function Hs(o,s){var c=o.stateNode;if(c===null)return null;var f=c[tn]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pd=!1;if(ur)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Pd=!1}var Br=null,Id=null,La=null;function Cg(){if(La)return La;var o,s=Id,c=s.length,f,m="value"in Br?Br.value:Br.textContent,b=m.length;for(o=0;o<c&&s[o]===m[o];o++);var k=c-o;for(f=1;f<=k&&s[c-f]===m[b-f];f++);return La=m.slice(o,1<f?1-f:void 0)}function Pa(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Ia(){return!0}function _g(){return!1}function nn(o){function s(c,f,m,b,k){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var _ in o)o.hasOwnProperty(_)&&(c=o[_],this[_]=c?c(b):b[_]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ia:_g,this.isPropagationStopped=_g,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),s}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=nn(Ao),Us=p({},Ao,{view:0,detail:0}),kS=nn(Us),Bd,jd,Fs,ja=p({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$d,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Fs&&(Fs&&o.type==="mousemove"?(Bd=o.screenX-Fs.screenX,jd=o.screenY-Fs.screenY):jd=Bd=0,Fs=o),Bd)},movementY:function(o){return"movementY"in o?o.movementY:jd}}),Sg=nn(ja),CS=p({},ja,{dataTransfer:0}),_S=nn(CS),SS=p({},Us,{relatedTarget:0}),zd=nn(SS),xS=p({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),ES=nn(xS),TS=p({},Ao,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),MS=nn(TS),AS=p({},Ao,{data:0}),xg=nn(AS),RS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=OS[o])?!!s[o]:!1}function $d(){return DS}var LS=p({},Us,{key:function(o){if(o.key){var s=RS[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Pa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?NS[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$d,charCode:function(o){return o.type==="keypress"?Pa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Pa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),PS=nn(LS),IS=p({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eg=nn(IS),BS=p({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$d}),jS=nn(BS),zS=p({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),$S=nn(zS),HS=p({},ja,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),VS=nn(HS),US=p({},Ao,{newState:0,oldState:0}),FS=nn(US),GS=[9,13,27,32],Hd=ur&&"CompositionEvent"in window,Gs=null;ur&&"documentMode"in document&&(Gs=document.documentMode);var qS=ur&&"TextEvent"in window&&!Gs,Tg=ur&&(!Hd||Gs&&8<Gs&&11>=Gs),Mg=" ",Ag=!1;function Rg(o,s){switch(o){case"keyup":return GS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ng(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ni=!1;function WS(o,s){switch(o){case"compositionend":return Ng(s);case"keypress":return s.which!==32?null:(Ag=!0,Mg);case"textInput":return o=s.data,o===Mg&&Ag?null:o;default:return null}}function KS(o,s){if(Ni)return o==="compositionend"||!Hd&&Rg(o,s)?(o=Cg(),La=Id=Br=null,Ni=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Tg&&s.locale!=="ko"?null:s.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!ZS[o.type]:s==="textarea"}function Dg(o,s,c,f){Ai?Ri?Ri.push(f):Ri=[f]:Ai=f,s=Sc(s,"onChange"),0<s.length&&(c=new Ba("onChange","change",null,c,f),o.push({event:c,listeners:s}))}var qs=null,Ws=null;function XS(o){h0(o,0)}function za(o){var s=$s(o);if(pg(s))return o}function Lg(o,s){if(o==="change")return s}var Pg=!1;if(ur){var Vd;if(ur){var Ud="oninput"in document;if(!Ud){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Ud=typeof Ig.oninput=="function"}Vd=Ud}else Vd=!1;Pg=Vd&&(!document.documentMode||9<document.documentMode)}function Bg(){qs&&(qs.detachEvent("onpropertychange",jg),Ws=qs=null)}function jg(o){if(o.propertyName==="value"&&za(Ws)){var s=[];Dg(s,Ws,o,Dd(o)),kg(XS,s)}}function YS(o,s,c){o==="focusin"?(Bg(),qs=s,Ws=c,qs.attachEvent("onpropertychange",jg)):o==="focusout"&&Bg()}function QS(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return za(Ws)}function JS(o,s){if(o==="click")return za(s)}function ex(o,s){if(o==="input"||o==="change")return za(s)}function tx(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var dn=typeof Object.is=="function"?Object.is:tx;function Ks(o,s){if(dn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!G.call(s,m)||!dn(o[m],s[m]))return!1}return!0}function zg(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $g(o,s){var c=zg(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=s&&f>=s)return{node:c,offset:s-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=zg(c)}}function Hg(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Hg(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Vg(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Oa(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=Oa(o.document)}return s}function Fd(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var nx=ur&&"documentMode"in document&&11>=document.documentMode,Oi=null,Gd=null,Zs=null,qd=!1;function Ug(o,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qd||Oi==null||Oi!==Oa(f)||(f=Oi,"selectionStart"in f&&Fd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zs&&Ks(Zs,f)||(Zs=f,f=Sc(Gd,"onSelect"),0<f.length&&(s=new Ba("onSelect","select",null,s,c),o.push({event:s,listeners:f}),s.target=Oi)))}function Ro(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var Di={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionrun:Ro("Transition","TransitionRun"),transitionstart:Ro("Transition","TransitionStart"),transitioncancel:Ro("Transition","TransitionCancel"),transitionend:Ro("Transition","TransitionEnd")},Wd={},Fg={};ur&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function No(o){if(Wd[o])return Wd[o];if(!Di[o])return o;var s=Di[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in Fg)return Wd[o]=s[c];return o}var Gg=No("animationend"),qg=No("animationiteration"),Wg=No("animationstart"),rx=No("transitionrun"),ox=No("transitionstart"),ix=No("transitioncancel"),Kg=No("transitionend"),Zg=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function $n(o,s){Zg.set(o,s),Mo(s,[o])}var Xg=new WeakMap;function Tn(o,s){if(typeof o=="object"&&o!==null){var c=Xg.get(o);return c!==void 0?c:(s={value:o,source:s,stack:fg(s)},Xg.set(o,s),s)}return{value:o,source:s,stack:fg(s)}}var Mn=[],Li=0,Zd=0;function $a(){for(var o=Li,s=Zd=Li=0;s<o;){var c=Mn[s];Mn[s++]=null;var f=Mn[s];Mn[s++]=null;var m=Mn[s];Mn[s++]=null;var b=Mn[s];if(Mn[s++]=null,f!==null&&m!==null){var k=f.pending;k===null?m.next=m:(m.next=k.next,k.next=m),f.pending=m}b!==0&&Yg(c,m,b)}}function Ha(o,s,c,f){Mn[Li++]=o,Mn[Li++]=s,Mn[Li++]=c,Mn[Li++]=f,Zd|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function Xd(o,s,c,f){return Ha(o,s,c,f),Va(o)}function Pi(o,s){return Ha(o,null,null,s),Va(o)}function Yg(o,s,c){o.lanes|=c;var f=o.alternate;f!==null&&(f.lanes|=c);for(var m=!1,b=o.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(m=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,m&&s!==null&&(m=31-mt(c),o=b.hiddenUpdates,f=o[m],f===null?o[m]=[s]:f.push(s),s.lane=c|536870912),b):null}function Va(o){if(50<wl)throw wl=0,rh=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Ii={};function sx(o,s,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(o,s,c,f){return new sx(o,s,c,f)}function Yd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function dr(o,s){var c=o.alternate;return c===null?(c=fn(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function Qg(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function Ua(o,s,c,f,m,b){var k=0;if(f=o,typeof o=="function")Yd(o)&&(k=1);else if(typeof o=="string")k=aE(o,c,Ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Q:return o=fn(31,c,s,m),o.elementType=Q,o.lanes=b,o;case w:return Oo(c.children,m,b,s);case C:k=8,m|=24;break;case S:return o=fn(12,c,s,m|2),o.elementType=S,o.lanes=b,o;case B:return o=fn(13,c,s,m),o.elementType=B,o.lanes=b,o;case F:return o=fn(19,c,s,m),o.elementType=F,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:case N:k=10;break e;case A:k=9;break e;case I:k=11;break e;case q:k=14;break e;case Z:k=16,f=null;break e}k=29,c=Error(r(130,o===null?"null":typeof o,"")),f=null}return s=fn(k,c,s,m),s.elementType=o,s.type=f,s.lanes=b,s}function Oo(o,s,c,f){return o=fn(7,o,f,s),o.lanes=c,o}function Qd(o,s,c){return o=fn(6,o,null,s),o.lanes=c,o}function Jd(o,s,c){return s=fn(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var Bi=[],ji=0,Fa=null,Ga=0,An=[],Rn=0,Do=null,fr=1,hr="";function Lo(o,s){Bi[ji++]=Ga,Bi[ji++]=Fa,Fa=o,Ga=s}function Jg(o,s,c){An[Rn++]=fr,An[Rn++]=hr,An[Rn++]=Do,Do=o;var f=fr;o=hr;var m=32-mt(f)-1;f&=~(1<<m),c+=1;var b=32-mt(s)+m;if(30<b){var k=m-m%5;b=(f&(1<<k)-1).toString(32),f>>=k,m-=k,fr=1<<32-mt(s)+m|c<<m|f,hr=b+o}else fr=1<<b|c<<m|f,hr=o}function ef(o){o.return!==null&&(Lo(o,1),Jg(o,1,0))}function tf(o){for(;o===Fa;)Fa=Bi[--ji],Bi[ji]=null,Ga=Bi[--ji],Bi[ji]=null;for(;o===Do;)Do=An[--Rn],An[Rn]=null,hr=An[--Rn],An[Rn]=null,fr=An[--Rn],An[Rn]=null}var Kt=null,ht=null,ze=!1,Po=null,Kn=!1,nf=Error(r(519));function Io(o){var s=Error(r(418,""));throw Qs(Tn(s,o)),nf}function eb(o){var s=o.stateNode,c=o.type,f=o.memoizedProps;switch(s[Gt]=o,s[tn]=f,c){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(c=0;c<Cl.length;c++)Pe(Cl[c],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),mg(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Na(s);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),bg(s,f.value,f.defaultValue,f.children),Na(s)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||b0(s.textContent,c)?(f.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),f.onScroll!=null&&Pe("scroll",s),f.onScrollEnd!=null&&Pe("scrollend",s),f.onClick!=null&&(s.onclick=xc),s=!0):s=!1,s||Io(o)}function tb(o){for(Kt=o.return;Kt;)switch(Kt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Kt=Kt.return}}function Xs(o){if(o!==Kt)return!1;if(!ze)return tb(o),ze=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||vh(o.type,o.memoizedProps)),c=!c),c&&ht&&Io(o),tb(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8)if(c=o.data,c==="/$"){if(s===0){ht=Vn(o.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;o=o.nextSibling}ht=null}}else s===27?(s=ht,Jr(o.type)?(o=_h,_h=null,ht=o):ht=s):ht=Kt?Vn(o.stateNode.nextSibling):null;return!0}function Ys(){ht=Kt=null,ze=!1}function nb(){var o=Po;return o!==null&&(sn===null?sn=o:sn.push.apply(sn,o),Po=null),o}function Qs(o){Po===null?Po=[o]:Po.push(o)}var rf=Y(null),Bo=null,pr=null;function jr(o,s,c){re(rf,s._currentValue),s._currentValue=c}function mr(o){o._currentValue=rf.current,te(rf)}function of(o,s,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),o===c)break;o=o.return}}function sf(o,s,c,f){var m=o.child;for(m!==null&&(m.return=o);m!==null;){var b=m.dependencies;if(b!==null){var k=m.child;b=b.firstContext;e:for(;b!==null;){var _=b;b=m;for(var M=0;M<s.length;M++)if(_.context===s[M]){b.lanes|=c,_=b.alternate,_!==null&&(_.lanes|=c),of(b.return,c,o),f||(k=null);break e}b=_.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(r(341));k.lanes|=c,b=k.alternate,b!==null&&(b.lanes|=c),of(k,c,o),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===o){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function Js(o,s,c,f){o=null;for(var m=s,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var _=m.type;dn(m.pendingProps.value,k.value)||(o!==null?o.push(_):o=[_])}}else if(m===ft.current){if(k=m.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(o!==null?o.push(Ml):o=[Ml])}m=m.return}o!==null&&sf(s,o,c,f),s.flags|=262144}function qa(o){for(o=o.firstContext;o!==null;){if(!dn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function jo(o){Bo=o,pr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function qt(o){return rb(Bo,o)}function Wa(o,s){return Bo===null&&jo(o),rb(o,s)}function rb(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},pr===null){if(o===null)throw Error(r(308));pr=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else pr=pr.next=s;return c}var lx=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,f){o.push(f)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},ax=t.unstable_scheduleCallback,cx=t.unstable_NormalPriority,Rt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new lx,data:new Map,refCount:0}}function el(o){o.refCount--,o.refCount===0&&ax(cx,function(){o.controller.abort()})}var tl=null,af=0,zi=0,$i=null;function ux(o,s){if(tl===null){var c=tl=[];af=0,zi=uh(),$i={status:"pending",value:void 0,then:function(f){c.push(f)}}}return af++,s.then(ob,ob),s}function ob(){if(--af===0&&tl!==null){$i!==null&&($i.status="fulfilled");var o=tl;tl=null,zi=0,$i=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function dx(o,s){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return o.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<c.length;m++)(0,c[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var ib=L.S;L.S=function(o,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ux(o,s),ib!==null&&ib(o,s)};var zo=Y(null);function cf(){var o=zo.current;return o!==null?o:et.pooledCache}function Ka(o,s){s===null?re(zo,zo.current):re(zo,s.pool)}function sb(){var o=cf();return o===null?null:{parent:Rt._currentValue,pool:o}}var nl=Error(r(460)),lb=Error(r(474)),Za=Error(r(542)),uf={then:function(){}};function ab(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Xa(){}function cb(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(Xa,Xa),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,db(o),o;default:if(typeof s.status=="string")s.then(Xa,Xa);else{if(o=et,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,db(o),o}throw rl=s,nl}}var rl=null;function ub(){if(rl===null)throw Error(r(459));var o=rl;return rl=null,o}function db(o){if(o===nl||o===Za)throw Error(r(483))}var zr=!1;function df(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function $r(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Hr(o,s,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Fe&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=Va(o),Yg(o,null,c),s}return Ha(o,f,s,c),Va(o)}function ol(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=o.pendingLanes,c|=f,s.lanes=c,og(o,c)}}function hf(o,s){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=k:b=b.next=k,c=c.next}while(c!==null);b===null?m=b=s:b=b.next=s}else m=b=s;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var pf=!1;function il(){if(pf){var o=$i;if(o!==null)throw o}}function sl(o,s,c,f){pf=!1;var m=o.updateQueue;zr=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,_=m.shared.pending;if(_!==null){m.shared.pending=null;var M=_,P=M.next;M.next=null,k===null?b=P:k.next=P,k=M;var V=o.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==k&&(_===null?V.firstBaseUpdate=P:_.next=P,V.lastBaseUpdate=M))}if(b!==null){var W=m.baseState;k=0,V=P=M=null,_=b;do{var j=_.lane&-536870913,z=j!==_.lane;if(z?(Ie&j)===j:(f&j)===j){j!==0&&j===zi&&(pf=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ve=o,ge=_;j=s;var Xe=c;switch(ge.tag){case 1:if(ve=ge.payload,typeof ve=="function"){W=ve.call(Xe,W,j);break e}W=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ge.payload,j=typeof ve=="function"?ve.call(Xe,W,j):ve,j==null)break e;W=p({},W,j);break e;case 2:zr=!0}}j=_.callback,j!==null&&(o.flags|=64,z&&(o.flags|=8192),z=m.callbacks,z===null?m.callbacks=[j]:z.push(j))}else z={lane:j,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(P=V=z,M=W):V=V.next=z,k|=j;if(_=_.next,_===null){if(_=m.shared.pending,_===null)break;z=_,_=z.next,z.next=null,m.lastBaseUpdate=z,m.shared.pending=null}}while(!0);V===null&&(M=W),m.baseState=M,m.firstBaseUpdate=P,m.lastBaseUpdate=V,b===null&&(m.shared.lanes=0),Zr|=k,o.lanes=k,o.memoizedState=W}}function fb(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function hb(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)fb(c[o],s)}var Hi=Y(null),Ya=Y(0);function pb(o,s){o=Cr,re(Ya,o),re(Hi,s),Cr=o|s.baseLanes}function mf(){re(Ya,Cr),re(Hi,Hi.current)}function gf(){Cr=Ya.current,te(Hi),te(Ya)}var Vr=0,Ne=null,Ke=null,St=null,Qa=!1,Vi=!1,$o=!1,Ja=0,ll=0,Ui=null,fx=0;function bt(){throw Error(r(321))}function bf(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!dn(o[c],s[c]))return!1;return!0}function yf(o,s,c,f,m,b){return Vr=b,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=o===null||o.memoizedState===null?Yb:Qb,$o=!1,b=c(f,m),$o=!1,Vi&&(b=gb(s,c,f,m)),mb(o),b}function mb(o){L.H=ic;var s=Ke!==null&&Ke.next!==null;if(Vr=0,St=Ke=Ne=null,Qa=!1,ll=0,Ui=null,s)throw Error(r(300));o===null||Lt||(o=o.dependencies,o!==null&&qa(o)&&(Lt=!0))}function gb(o,s,c,f){Ne=o;var m=0;do{if(Vi&&(Ui=null),ll=0,Vi=!1,25<=m)throw Error(r(301));if(m+=1,St=Ke=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=vx,b=s(c,f)}while(Vi);return b}function hx(){var o=L.H,s=o.useState()[0];return s=typeof s.then=="function"?al(s):s,o=o.useState()[0],(Ke!==null?Ke.memoizedState:null)!==o&&(Ne.flags|=1024),s}function vf(){var o=Ja!==0;return Ja=0,o}function wf(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function kf(o){if(Qa){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Qa=!1}Vr=0,St=Ke=Ne=null,Vi=!1,ll=Ja=0,Ui=null}function rn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=o:St=St.next=o,St}function xt(){if(Ke===null){var o=Ne.alternate;o=o!==null?o.memoizedState:null}else o=Ke.next;var s=St===null?Ne.memoizedState:St.next;if(s!==null)St=s,Ke=o;else{if(o===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));Ke=o,o={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},St===null?Ne.memoizedState=St=o:St=St.next=o}return St}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(o){var s=ll;return ll+=1,Ui===null&&(Ui=[]),o=cb(Ui,o,s),s=Ne,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Yb:Qb),o}function ec(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return al(o);if(o.$$typeof===N)return qt(o)}throw Error(r(438,String(o)))}function _f(o){var s=null,c=Ne.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Ne.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Cf(),Ne.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),f=0;f<o;f++)c[f]=ie;return s.index++,c}function gr(o,s){return typeof s=="function"?s(o):s}function tc(o){var s=xt();return Sf(s,Ke,o)}function Sf(o,s,c){var f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var m=o.baseQueue,b=f.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}s.baseQueue=m=b,f.pending=null}if(b=o.baseState,m===null)o.memoizedState=b;else{s=m.next;var _=k=null,M=null,P=s,V=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Ie&W)===W:(Vr&W)===W){var j=P.revertLane;if(j===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===zi&&(V=!0);else if((Vr&j)===j){P=P.next,j===zi&&(V=!0);continue}else W={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},M===null?(_=M=W,k=b):M=M.next=W,Ne.lanes|=j,Zr|=j;W=P.action,$o&&c(b,W),b=P.hasEagerState?P.eagerState:c(b,W)}else j={lane:W,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},M===null?(_=M=j,k=b):M=M.next=j,Ne.lanes|=W,Zr|=W;P=P.next}while(P!==null&&P!==s);if(M===null?k=b:M.next=_,!dn(b,o.memoizedState)&&(Lt=!0,V&&(c=$i,c!==null)))throw c;o.memoizedState=b,o.baseState=k,o.baseQueue=M,f.lastRenderedState=b}return m===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function xf(o){var s=xt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var f=c.dispatch,m=c.pending,b=s.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do b=o(b,k.action),k=k.next;while(k!==m);dn(b,s.memoizedState)||(Lt=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,f]}function bb(o,s,c){var f=Ne,m=xt(),b=ze;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var k=!dn((Ke||m).memoizedState,c);k&&(m.memoizedState=c,Lt=!0),m=m.queue;var _=wb.bind(null,f,m,o);if(cl(2048,8,_,[o]),m.getSnapshot!==s||k||St!==null&&St.memoizedState.tag&1){if(f.flags|=2048,Fi(9,nc(),vb.bind(null,f,m,c,s),null),et===null)throw Error(r(349));b||(Vr&124)!==0||yb(f,s,c)}return c}function yb(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=Ne.updateQueue,s===null?(s=Cf(),Ne.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function vb(o,s,c,f){s.value=c,s.getSnapshot=f,kb(s)&&Cb(o)}function wb(o,s,c){return c(function(){kb(s)&&Cb(o)})}function kb(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!dn(o,c)}catch{return!0}}function Cb(o){var s=Pi(o,2);s!==null&&bn(s,o,2)}function Ef(o){var s=rn();if(typeof o=="function"){var c=o;if(o=c(),$o){ot(!0);try{c()}finally{ot(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:o},s}function _b(o,s,c,f){return o.baseState=c,Sf(o,Ke,typeof f=="function"?f:gr)}function px(o,s,c,f,m){if(oc(o))throw Error(r(485));if(o=s.action,o!==null){var b={payload:m,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};L.T!==null?c(!0):b.isTransition=!1,f(b),c=s.pending,c===null?(b.next=s.pending=b,Sb(s,b)):(b.next=c.next,s.pending=c.next=b)}}function Sb(o,s){var c=s.action,f=s.payload,m=o.state;if(s.isTransition){var b=L.T,k={};L.T=k;try{var _=c(m,f),M=L.S;M!==null&&M(k,_),xb(o,s,_)}catch(P){Tf(o,s,P)}finally{L.T=b}}else try{b=c(m,f),xb(o,s,b)}catch(P){Tf(o,s,P)}}function xb(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Eb(o,s,f)},function(f){return Tf(o,s,f)}):Eb(o,s,c)}function Eb(o,s,c){s.status="fulfilled",s.value=c,Tb(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,Sb(o,c)))}function Tf(o,s,c){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,Tb(s),s=s.next;while(s!==f)}o.action=null}function Tb(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function Mb(o,s){return s}function Ab(o,s){if(ze){var c=et.formState;if(c!==null){e:{var f=Ne;if(ze){if(ht){t:{for(var m=ht,b=Kn;m.nodeType!==8;){if(!b){m=null;break t}if(m=Vn(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){ht=Vn(m.nextSibling),f=m.data==="F!";break e}}Io(f)}f=!1}f&&(s=c[0])}}return c=rn(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mb,lastRenderedState:s},c.queue=f,c=Kb.bind(null,Ne,f),f.dispatch=c,f=Ef(!1),b=Of.bind(null,Ne,!1,f.queue),f=rn(),m={state:s,dispatch:null,action:o,pending:null},f.queue=m,c=px.bind(null,Ne,m,b,c),m.dispatch=c,f.memoizedState=o,[s,c,!1]}function Rb(o){var s=xt();return Nb(s,Ke,o)}function Nb(o,s,c){if(s=Sf(o,s,Mb)[0],o=tc(gr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=al(s)}catch(k){throw k===nl?Za:k}else f=s;s=xt();var m=s.queue,b=m.dispatch;return c!==s.memoizedState&&(Ne.flags|=2048,Fi(9,nc(),mx.bind(null,m,c),null)),[f,b,o]}function mx(o,s){o.action=s}function Ob(o){var s=xt(),c=Ke;if(c!==null)return Nb(s,c,o);xt(),s=s.memoizedState,c=xt();var f=c.queue.dispatch;return c.memoizedState=o,[s,f,!1]}function Fi(o,s,c,f){return o={tag:o,create:c,deps:f,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=Cf(),Ne.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,s.lastEffect=o),o}function nc(){return{destroy:void 0,resource:void 0}}function Db(){return xt().memoizedState}function rc(o,s,c,f){var m=rn();f=f===void 0?null:f,Ne.flags|=o,m.memoizedState=Fi(1|s,nc(),c,f)}function cl(o,s,c,f){var m=xt();f=f===void 0?null:f;var b=m.memoizedState.inst;Ke!==null&&f!==null&&bf(f,Ke.memoizedState.deps)?m.memoizedState=Fi(s,b,c,f):(Ne.flags|=o,m.memoizedState=Fi(1|s,b,c,f))}function Lb(o,s){rc(8390656,8,o,s)}function Pb(o,s){cl(2048,8,o,s)}function Ib(o,s){return cl(4,2,o,s)}function Bb(o,s){return cl(4,4,o,s)}function jb(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function zb(o,s,c){c=c!=null?c.concat([o]):null,cl(4,4,jb.bind(null,s,o),c)}function Mf(){}function $b(o,s){var c=xt();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&bf(s,f[1])?f[0]:(c.memoizedState=[o,s],o)}function Hb(o,s){var c=xt();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&bf(s,f[1]))return f[0];if(f=o(),$o){ot(!0);try{o()}finally{ot(!1)}}return c.memoizedState=[f,s],f}function Af(o,s,c){return c===void 0||(Vr&1073741824)!==0?o.memoizedState=s:(o.memoizedState=c,o=Fy(),Ne.lanes|=o,Zr|=o,c)}function Vb(o,s,c,f){return dn(c,s)?c:Hi.current!==null?(o=Af(o,c,f),dn(o,s)||(Lt=!0),o):(Vr&42)===0?(Lt=!0,o.memoizedState=c):(o=Fy(),Ne.lanes|=o,Zr|=o,s)}function Ub(o,s,c,f,m){var b=H.p;H.p=b!==0&&8>b?b:8;var k=L.T,_={};L.T=_,Of(o,!1,s,c);try{var M=m(),P=L.S;if(P!==null&&P(_,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=dx(M,f);ul(o,s,V,gn(o))}else ul(o,s,f,gn(o))}catch(W){ul(o,s,{then:function(){},status:"rejected",reason:W},gn())}finally{H.p=b,L.T=k}}function gx(){}function Rf(o,s,c,f){if(o.tag!==5)throw Error(r(476));var m=Fb(o).queue;Ub(o,m,s,K,c===null?gx:function(){return Gb(o),c(f)})}function Fb(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:K},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function Gb(o){var s=Fb(o).next.queue;ul(o,s,{},gn())}function Nf(){return qt(Ml)}function qb(){return xt().memoizedState}function Wb(){return xt().memoizedState}function bx(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=gn();o=$r(c);var f=Hr(s,o,c);f!==null&&(bn(f,s,c),ol(f,s,c)),s={cache:lf()},o.payload=s;return}s=s.return}}function yx(o,s,c){var f=gn();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},oc(o)?Zb(s,c):(c=Xd(o,s,c,f),c!==null&&(bn(c,o,f),Xb(c,s,f)))}function Kb(o,s,c){var f=gn();ul(o,s,c,f)}function ul(o,s,c,f){var m={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(oc(o))Zb(s,m);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var k=s.lastRenderedState,_=b(k,c);if(m.hasEagerState=!0,m.eagerState=_,dn(_,k))return Ha(o,s,m,0),et===null&&$a(),!1}catch{}finally{}if(c=Xd(o,s,m,f),c!==null)return bn(c,o,f),Xb(c,s,f),!0}return!1}function Of(o,s,c,f){if(f={lane:2,revertLane:uh(),action:f,hasEagerState:!1,eagerState:null,next:null},oc(o)){if(s)throw Error(r(479))}else s=Xd(o,c,f,2),s!==null&&bn(s,o,2)}function oc(o){var s=o.alternate;return o===Ne||s!==null&&s===Ne}function Zb(o,s){Vi=Qa=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function Xb(o,s,c){if((c&4194048)!==0){var f=s.lanes;f&=o.pendingLanes,c|=f,s.lanes=c,og(o,c)}}var ic={readContext:qt,use:ec,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},Yb={readContext:qt,use:ec,useCallback:function(o,s){return rn().memoizedState=[o,s===void 0?null:s],o},useContext:qt,useEffect:Lb,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,rc(4194308,4,jb.bind(null,s,o),c)},useLayoutEffect:function(o,s){return rc(4194308,4,o,s)},useInsertionEffect:function(o,s){rc(4,2,o,s)},useMemo:function(o,s){var c=rn();s=s===void 0?null:s;var f=o();if($o){ot(!0);try{o()}finally{ot(!1)}}return c.memoizedState=[f,s],f},useReducer:function(o,s,c){var f=rn();if(c!==void 0){var m=c(s);if($o){ot(!0);try{c(s)}finally{ot(!1)}}}else m=s;return f.memoizedState=f.baseState=m,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:m},f.queue=o,o=o.dispatch=yx.bind(null,Ne,o),[f.memoizedState,o]},useRef:function(o){var s=rn();return o={current:o},s.memoizedState=o},useState:function(o){o=Ef(o);var s=o.queue,c=Kb.bind(null,Ne,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:Mf,useDeferredValue:function(o,s){var c=rn();return Af(c,o,s)},useTransition:function(){var o=Ef(!1);return o=Ub.bind(null,Ne,o.queue,!0,!1),rn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var f=Ne,m=rn();if(ze){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),et===null)throw Error(r(349));(Ie&124)!==0||yb(f,s,c)}m.memoizedState=c;var b={value:c,getSnapshot:s};return m.queue=b,Lb(wb.bind(null,f,b,o),[o]),f.flags|=2048,Fi(9,nc(),vb.bind(null,f,b,c,s),null),c},useId:function(){var o=rn(),s=et.identifierPrefix;if(ze){var c=hr,f=fr;c=(f&~(1<<32-mt(f)-1)).toString(32)+c,s="«"+s+"R"+c,c=Ja++,0<c&&(s+="H"+c.toString(32)),s+="»"}else c=fx++,s="«"+s+"r"+c.toString(32)+"»";return o.memoizedState=s},useHostTransitionStatus:Nf,useFormState:Ab,useActionState:Ab,useOptimistic:function(o){var s=rn();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Of.bind(null,Ne,!0,c),c.dispatch=s,[o,s]},useMemoCache:_f,useCacheRefresh:function(){return rn().memoizedState=bx.bind(null,Ne)}},Qb={readContext:qt,use:ec,useCallback:$b,useContext:qt,useEffect:Pb,useImperativeHandle:zb,useInsertionEffect:Ib,useLayoutEffect:Bb,useMemo:Hb,useReducer:tc,useRef:Db,useState:function(){return tc(gr)},useDebugValue:Mf,useDeferredValue:function(o,s){var c=xt();return Vb(c,Ke.memoizedState,o,s)},useTransition:function(){var o=tc(gr)[0],s=xt().memoizedState;return[typeof o=="boolean"?o:al(o),s]},useSyncExternalStore:bb,useId:qb,useHostTransitionStatus:Nf,useFormState:Rb,useActionState:Rb,useOptimistic:function(o,s){var c=xt();return _b(c,Ke,o,s)},useMemoCache:_f,useCacheRefresh:Wb},vx={readContext:qt,use:ec,useCallback:$b,useContext:qt,useEffect:Pb,useImperativeHandle:zb,useInsertionEffect:Ib,useLayoutEffect:Bb,useMemo:Hb,useReducer:xf,useRef:Db,useState:function(){return xf(gr)},useDebugValue:Mf,useDeferredValue:function(o,s){var c=xt();return Ke===null?Af(c,o,s):Vb(c,Ke.memoizedState,o,s)},useTransition:function(){var o=xf(gr)[0],s=xt().memoizedState;return[typeof o=="boolean"?o:al(o),s]},useSyncExternalStore:bb,useId:qb,useHostTransitionStatus:Nf,useFormState:Ob,useActionState:Ob,useOptimistic:function(o,s){var c=xt();return Ke!==null?_b(c,Ke,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Wb},Gi=null,dl=0;function sc(o){var s=dl;return dl+=1,Gi===null&&(Gi=[]),cb(Gi,o,s)}function fl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function lc(o,s){throw s.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Jb(o){var s=o._init;return s(o._payload)}function ey(o){function s(O,R){if(o){var D=O.deletions;D===null?(O.deletions=[R],O.flags|=16):D.push(R)}}function c(O,R){if(!o)return null;for(;R!==null;)s(O,R),R=R.sibling;return null}function f(O){for(var R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function m(O,R){return O=dr(O,R),O.index=0,O.sibling=null,O}function b(O,R,D){return O.index=D,o?(D=O.alternate,D!==null?(D=D.index,D<R?(O.flags|=67108866,R):D):(O.flags|=67108866,R)):(O.flags|=1048576,R)}function k(O){return o&&O.alternate===null&&(O.flags|=67108866),O}function _(O,R,D,U){return R===null||R.tag!==6?(R=Qd(D,O.mode,U),R.return=O,R):(R=m(R,D),R.return=O,R)}function M(O,R,D,U){var oe=D.type;return oe===w?V(O,R,D.props.children,U,D.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Z&&Jb(oe)===R.type)?(R=m(R,D.props),fl(R,D),R.return=O,R):(R=Ua(D.type,D.key,D.props,null,O.mode,U),fl(R,D),R.return=O,R)}function P(O,R,D,U){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=Jd(D,O.mode,U),R.return=O,R):(R=m(R,D.children||[]),R.return=O,R)}function V(O,R,D,U,oe){return R===null||R.tag!==7?(R=Oo(D,O.mode,U,oe),R.return=O,R):(R=m(R,D),R.return=O,R)}function W(O,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Qd(""+R,O.mode,D),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case y:return D=Ua(R.type,R.key,R.props,null,O.mode,D),fl(D,R),D.return=O,D;case v:return R=Jd(R,O.mode,D),R.return=O,R;case Z:var U=R._init;return R=U(R._payload),W(O,R,D)}if(de(R)||ue(R))return R=Oo(R,O.mode,D,null),R.return=O,R;if(typeof R.then=="function")return W(O,sc(R),D);if(R.$$typeof===N)return W(O,Wa(O,R),D);lc(O,R)}return null}function j(O,R,D,U){var oe=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return oe!==null?null:_(O,R,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case y:return D.key===oe?M(O,R,D,U):null;case v:return D.key===oe?P(O,R,D,U):null;case Z:return oe=D._init,D=oe(D._payload),j(O,R,D,U)}if(de(D)||ue(D))return oe!==null?null:V(O,R,D,U,null);if(typeof D.then=="function")return j(O,R,sc(D),U);if(D.$$typeof===N)return j(O,R,Wa(O,D),U);lc(O,D)}return null}function z(O,R,D,U,oe){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return O=O.get(D)||null,_(R,O,""+U,oe);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case y:return O=O.get(U.key===null?D:U.key)||null,M(R,O,U,oe);case v:return O=O.get(U.key===null?D:U.key)||null,P(R,O,U,oe);case Z:var De=U._init;return U=De(U._payload),z(O,R,D,U,oe)}if(de(U)||ue(U))return O=O.get(D)||null,V(R,O,U,oe,null);if(typeof U.then=="function")return z(O,R,D,sc(U),oe);if(U.$$typeof===N)return z(O,R,D,Wa(R,U),oe);lc(R,U)}return null}function ve(O,R,D,U){for(var oe=null,De=null,ce=R,ye=R=0,It=null;ce!==null&&ye<D.length;ye++){ce.index>ye?(It=ce,ce=null):It=ce.sibling;var Be=j(O,ce,D[ye],U);if(Be===null){ce===null&&(ce=It);break}o&&ce&&Be.alternate===null&&s(O,ce),R=b(Be,R,ye),De===null?oe=Be:De.sibling=Be,De=Be,ce=It}if(ye===D.length)return c(O,ce),ze&&Lo(O,ye),oe;if(ce===null){for(;ye<D.length;ye++)ce=W(O,D[ye],U),ce!==null&&(R=b(ce,R,ye),De===null?oe=ce:De.sibling=ce,De=ce);return ze&&Lo(O,ye),oe}for(ce=f(ce);ye<D.length;ye++)It=z(ce,O,ye,D[ye],U),It!==null&&(o&&It.alternate!==null&&ce.delete(It.key===null?ye:It.key),R=b(It,R,ye),De===null?oe=It:De.sibling=It,De=It);return o&&ce.forEach(function(oo){return s(O,oo)}),ze&&Lo(O,ye),oe}function ge(O,R,D,U){if(D==null)throw Error(r(151));for(var oe=null,De=null,ce=R,ye=R=0,It=null,Be=D.next();ce!==null&&!Be.done;ye++,Be=D.next()){ce.index>ye?(It=ce,ce=null):It=ce.sibling;var oo=j(O,ce,Be.value,U);if(oo===null){ce===null&&(ce=It);break}o&&ce&&oo.alternate===null&&s(O,ce),R=b(oo,R,ye),De===null?oe=oo:De.sibling=oo,De=oo,ce=It}if(Be.done)return c(O,ce),ze&&Lo(O,ye),oe;if(ce===null){for(;!Be.done;ye++,Be=D.next())Be=W(O,Be.value,U),Be!==null&&(R=b(Be,R,ye),De===null?oe=Be:De.sibling=Be,De=Be);return ze&&Lo(O,ye),oe}for(ce=f(ce);!Be.done;ye++,Be=D.next())Be=z(ce,O,ye,Be.value,U),Be!==null&&(o&&Be.alternate!==null&&ce.delete(Be.key===null?ye:Be.key),R=b(Be,R,ye),De===null?oe=Be:De.sibling=Be,De=Be);return o&&ce.forEach(function(wE){return s(O,wE)}),ze&&Lo(O,ye),oe}function Xe(O,R,D,U){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case y:e:{for(var oe=D.key;R!==null;){if(R.key===oe){if(oe=D.type,oe===w){if(R.tag===7){c(O,R.sibling),U=m(R,D.props.children),U.return=O,O=U;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Z&&Jb(oe)===R.type){c(O,R.sibling),U=m(R,D.props),fl(U,D),U.return=O,O=U;break e}c(O,R);break}else s(O,R);R=R.sibling}D.type===w?(U=Oo(D.props.children,O.mode,U,D.key),U.return=O,O=U):(U=Ua(D.type,D.key,D.props,null,O.mode,U),fl(U,D),U.return=O,O=U)}return k(O);case v:e:{for(oe=D.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){c(O,R.sibling),U=m(R,D.children||[]),U.return=O,O=U;break e}else{c(O,R);break}else s(O,R);R=R.sibling}U=Jd(D,O.mode,U),U.return=O,O=U}return k(O);case Z:return oe=D._init,D=oe(D._payload),Xe(O,R,D,U)}if(de(D))return ve(O,R,D,U);if(ue(D)){if(oe=ue(D),typeof oe!="function")throw Error(r(150));return D=oe.call(D),ge(O,R,D,U)}if(typeof D.then=="function")return Xe(O,R,sc(D),U);if(D.$$typeof===N)return Xe(O,R,Wa(O,D),U);lc(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(c(O,R.sibling),U=m(R,D),U.return=O,O=U):(c(O,R),U=Qd(D,O.mode,U),U.return=O,O=U),k(O)):c(O,R)}return function(O,R,D,U){try{dl=0;var oe=Xe(O,R,D,U);return Gi=null,oe}catch(ce){if(ce===nl||ce===Za)throw ce;var De=fn(29,ce,null,O.mode);return De.lanes=U,De.return=O,De}finally{}}}var qi=ey(!0),ty=ey(!1),Nn=Y(null),rr=null;function Ur(o){var s=o.alternate;re(Nt,Nt.current&1),re(Nn,o),rr===null&&(s===null||Hi.current!==null||s.memoizedState!==null)&&(rr=o)}function ny(o){if(o.tag===22){if(re(Nt,Nt.current),re(Nn,o),rr===null){var s=o.alternate;s!==null&&s.memoizedState!==null&&(rr=o)}}else Fr()}function Fr(){re(Nt,Nt.current),re(Nn,Nn.current)}function br(o){te(Nn),rr===o&&(rr=null),te(Nt)}var Nt=Y(0);function ac(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Ch(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Df(o,s,c,f){s=o.memoizedState,c=c(f,s),c=c==null?s:p({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Lf={enqueueSetState:function(o,s,c){o=o._reactInternals;var f=gn(),m=$r(f);m.payload=s,c!=null&&(m.callback=c),s=Hr(o,m,f),s!==null&&(bn(s,o,f),ol(s,o,f))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var f=gn(),m=$r(f);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=Hr(o,m,f),s!==null&&(bn(s,o,f),ol(s,o,f))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=gn(),f=$r(c);f.tag=2,s!=null&&(f.callback=s),s=Hr(o,f,c),s!==null&&(bn(s,o,c),ol(s,o,c))}};function ry(o,s,c,f,m,b,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,b,k):s.prototype&&s.prototype.isPureReactComponent?!Ks(c,f)||!Ks(m,b):!0}function oy(o,s,c,f){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==o&&Lf.enqueueReplaceState(s,s.state,null)}function Ho(o,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(o=o.defaultProps){c===s&&(c=p({},c));for(var m in o)c[m]===void 0&&(c[m]=o[m])}return c}var cc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function iy(o){cc(o)}function sy(o){console.error(o)}function ly(o){cc(o)}function uc(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function ay(o,s,c){try{var f=o.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Pf(o,s,c){return c=$r(c),c.tag=3,c.payload={element:null},c.callback=function(){uc(o,s)},c}function cy(o){return o=$r(o),o.tag=3,o}function uy(o,s,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=f.value;o.payload=function(){return m(b)},o.callback=function(){ay(s,c,f)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){ay(s,c,f),typeof m!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var _=f.stack;this.componentDidCatch(f.value,{componentStack:_!==null?_:""})})}function wx(o,s,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&Js(s,c,m,!0),c=Nn.current,c!==null){switch(c.tag){case 13:return rr===null?ih():c.alternate===null&&pt===0&&(pt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===uf?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),lh(o,f,m)),!1;case 22:return c.flags|=65536,f===uf?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),lh(o,f,m)),!1}throw Error(r(435,c.tag))}return lh(o,f,m),ih(),!1}if(ze)return s=Nn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==nf&&(o=Error(r(422),{cause:f}),Qs(Tn(o,c)))):(f!==nf&&(s=Error(r(423),{cause:f}),Qs(Tn(s,c))),o=o.current.alternate,o.flags|=65536,m&=-m,o.lanes|=m,f=Tn(f,c),m=Pf(o.stateNode,f,m),hf(o,m),pt!==4&&(pt=2)),!1;var b=Error(r(520),{cause:f});if(b=Tn(b,c),vl===null?vl=[b]:vl.push(b),pt!==4&&(pt=2),s===null)return!0;f=Tn(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=m&-m,c.lanes|=o,o=Pf(c.stateNode,f,o),hf(c,o),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xr===null||!Xr.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=cy(m),uy(m,o,c,f),hf(c,m),!1}c=c.return}while(c!==null);return!1}var dy=Error(r(461)),Lt=!1;function jt(o,s,c,f){s.child=o===null?ty(s,null,c,f):qi(s,o.child,c,f)}function fy(o,s,c,f,m){c=c.render;var b=s.ref;if("ref"in f){var k={};for(var _ in f)_!=="ref"&&(k[_]=f[_])}else k=f;return jo(s),f=yf(o,s,c,k,b,m),_=vf(),o!==null&&!Lt?(wf(o,s,m),yr(o,s,m)):(ze&&_&&ef(s),s.flags|=1,jt(o,s,f,m),s.child)}function hy(o,s,c,f,m){if(o===null){var b=c.type;return typeof b=="function"&&!Yd(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,py(o,s,b,f,m)):(o=Ua(c.type,null,f,s,s.mode,m),o.ref=s.ref,o.return=s,s.child=o)}if(b=o.child,!Uf(o,m)){var k=b.memoizedProps;if(c=c.compare,c=c!==null?c:Ks,c(k,f)&&o.ref===s.ref)return yr(o,s,m)}return s.flags|=1,o=dr(b,f),o.ref=s.ref,o.return=s,s.child=o}function py(o,s,c,f,m){if(o!==null){var b=o.memoizedProps;if(Ks(b,f)&&o.ref===s.ref)if(Lt=!1,s.pendingProps=f=b,Uf(o,m))(o.flags&131072)!==0&&(Lt=!0);else return s.lanes=o.lanes,yr(o,s,m)}return If(o,s,c,f,m)}function my(o,s,c){var f=s.pendingProps,m=f.children,b=o!==null?o.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=b!==null?b.baseLanes|c:c,o!==null){for(m=s.child=o.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;s.childLanes=b&~f}else s.childLanes=0,s.child=null;return gy(o,s,f,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ka(s,b!==null?b.cachePool:null),b!==null?pb(s,b):mf(),ny(s);else return s.lanes=s.childLanes=536870912,gy(o,s,b!==null?b.baseLanes|c:c,c)}else b!==null?(Ka(s,b.cachePool),pb(s,b),Fr(),s.memoizedState=null):(o!==null&&Ka(s,null),mf(),Fr());return jt(o,s,m,c),s.child}function gy(o,s,c,f){var m=cf();return m=m===null?null:{parent:Rt._currentValue,pool:m},s.memoizedState={baseLanes:c,cachePool:m},o!==null&&Ka(s,null),mf(),ny(s),o!==null&&Js(o,s,f,!0),null}function dc(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function If(o,s,c,f,m){return jo(s),c=yf(o,s,c,f,void 0,m),f=vf(),o!==null&&!Lt?(wf(o,s,m),yr(o,s,m)):(ze&&f&&ef(s),s.flags|=1,jt(o,s,c,m),s.child)}function by(o,s,c,f,m,b){return jo(s),s.updateQueue=null,c=gb(s,f,c,m),mb(o),f=vf(),o!==null&&!Lt?(wf(o,s,b),yr(o,s,b)):(ze&&f&&ef(s),s.flags|=1,jt(o,s,c,b),s.child)}function yy(o,s,c,f,m){if(jo(s),s.stateNode===null){var b=Ii,k=c.contextType;typeof k=="object"&&k!==null&&(b=qt(k)),b=new c(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Lf,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},df(s),k=c.contextType,b.context=typeof k=="object"&&k!==null?qt(k):Ii,b.state=s.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Df(s,c,k,f),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Lf.enqueueReplaceState(b,b.state,null),sl(s,f,b,m),il(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(o===null){b=s.stateNode;var _=s.memoizedProps,M=Ho(c,_);b.props=M;var P=b.context,V=c.contextType;k=Ii,typeof V=="object"&&V!==null&&(k=qt(V));var W=c.getDerivedStateFromProps;V=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,V||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_||P!==k)&&oy(s,b,f,k),zr=!1;var j=s.memoizedState;b.state=j,sl(s,f,b,m),il(),P=s.memoizedState,_||j!==P||zr?(typeof W=="function"&&(Df(s,c,W,f),P=s.memoizedState),(M=zr||ry(s,c,M,f,j,P,k))?(V||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=P),b.props=f,b.state=P,b.context=k,f=M):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,ff(o,s),k=s.memoizedProps,V=Ho(c,k),b.props=V,W=s.pendingProps,j=b.context,P=c.contextType,M=Ii,typeof P=="object"&&P!==null&&(M=qt(P)),_=c.getDerivedStateFromProps,(P=typeof _=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==W||j!==M)&&oy(s,b,f,M),zr=!1,j=s.memoizedState,b.state=j,sl(s,f,b,m),il();var z=s.memoizedState;k!==W||j!==z||zr||o!==null&&o.dependencies!==null&&qa(o.dependencies)?(typeof _=="function"&&(Df(s,c,_,f),z=s.memoizedState),(V=zr||ry(s,c,V,f,j,z,M)||o!==null&&o.dependencies!==null&&qa(o.dependencies))?(P||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,z,M),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,z,M)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===o.memoizedProps&&j===o.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&j===o.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=z),b.props=f,b.state=z,b.context=M,f=V):(typeof b.componentDidUpdate!="function"||k===o.memoizedProps&&j===o.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&j===o.memoizedState||(s.flags|=1024),f=!1)}return b=f,dc(o,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,o!==null&&f?(s.child=qi(s,o.child,null,m),s.child=qi(s,null,c,m)):jt(o,s,c,m),s.memoizedState=b.state,o=s.child):o=yr(o,s,m),o}function vy(o,s,c,f){return Ys(),s.flags|=256,jt(o,s,c,f),s.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(o){return{baseLanes:o,cachePool:sb()}}function zf(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=On),o}function wy(o,s,c){var f=s.pendingProps,m=!1,b=(s.flags&128)!==0,k;if((k=b)||(k=o!==null&&o.memoizedState===null?!1:(Nt.current&2)!==0),k&&(m=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,o===null){if(ze){if(m?Ur(s):Fr(),ze){var _=ht,M;if(M=_){e:{for(M=_,_=Kn;M.nodeType!==8;){if(!_){_=null;break e}if(M=Vn(M.nextSibling),M===null){_=null;break e}}_=M}_!==null?(s.memoizedState={dehydrated:_,treeContext:Do!==null?{id:fr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},M=fn(18,null,null,0),M.stateNode=_,M.return=s,s.child=M,Kt=s,ht=null,M=!0):M=!1}M||Io(s)}if(_=s.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Ch(_)?s.lanes=32:s.lanes=536870912,null;br(s)}return _=f.children,f=f.fallback,m?(Fr(),m=s.mode,_=fc({mode:"hidden",children:_},m),f=Oo(f,m,c,null),_.return=s,f.return=s,_.sibling=f,s.child=_,m=s.child,m.memoizedState=jf(c),m.childLanes=zf(o,k,c),s.memoizedState=Bf,f):(Ur(s),$f(s,_))}if(M=o.memoizedState,M!==null&&(_=M.dehydrated,_!==null)){if(b)s.flags&256?(Ur(s),s.flags&=-257,s=Hf(o,s,c)):s.memoizedState!==null?(Fr(),s.child=o.child,s.flags|=128,s=null):(Fr(),m=f.fallback,_=s.mode,f=fc({mode:"visible",children:f.children},_),m=Oo(m,_,c,null),m.flags|=2,f.return=s,m.return=s,f.sibling=m,s.child=f,qi(s,o.child,null,c),f=s.child,f.memoizedState=jf(c),f.childLanes=zf(o,k,c),s.memoizedState=Bf,s=m);else if(Ur(s),Ch(_)){if(k=_.nextSibling&&_.nextSibling.dataset,k)var P=k.dgst;k=P,f=Error(r(419)),f.stack="",f.digest=k,Qs({value:f,source:null,stack:null}),s=Hf(o,s,c)}else if(Lt||Js(o,s,c,!1),k=(c&o.childLanes)!==0,Lt||k){if(k=et,k!==null&&(f=c&-c,f=(f&42)!==0?1:Cd(f),f=(f&(k.suspendedLanes|c))!==0?0:f,f!==0&&f!==M.retryLane))throw M.retryLane=f,Pi(o,f),bn(k,o,f),dy;_.data==="$?"||ih(),s=Hf(o,s,c)}else _.data==="$?"?(s.flags|=192,s.child=o.child,s=null):(o=M.treeContext,ht=Vn(_.nextSibling),Kt=s,ze=!0,Po=null,Kn=!1,o!==null&&(An[Rn++]=fr,An[Rn++]=hr,An[Rn++]=Do,fr=o.id,hr=o.overflow,Do=s),s=$f(s,f.children),s.flags|=4096);return s}return m?(Fr(),m=f.fallback,_=s.mode,M=o.child,P=M.sibling,f=dr(M,{mode:"hidden",children:f.children}),f.subtreeFlags=M.subtreeFlags&65011712,P!==null?m=dr(P,m):(m=Oo(m,_,c,null),m.flags|=2),m.return=s,f.return=s,f.sibling=m,s.child=f,f=m,m=s.child,_=o.child.memoizedState,_===null?_=jf(c):(M=_.cachePool,M!==null?(P=Rt._currentValue,M=M.parent!==P?{parent:P,pool:P}:M):M=sb(),_={baseLanes:_.baseLanes|c,cachePool:M}),m.memoizedState=_,m.childLanes=zf(o,k,c),s.memoizedState=Bf,f):(Ur(s),c=o.child,o=c.sibling,c=dr(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,o!==null&&(k=s.deletions,k===null?(s.deletions=[o],s.flags|=16):k.push(o)),s.child=c,s.memoizedState=null,c)}function $f(o,s){return s=fc({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function fc(o,s){return o=fn(22,o,null,s),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Hf(o,s,c){return qi(s,o.child,null,c),o=$f(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function ky(o,s,c){o.lanes|=s;var f=o.alternate;f!==null&&(f.lanes|=s),of(o.return,s,c)}function Vf(o,s,c,f,m){var b=o.memoizedState;b===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=c,b.tailMode=m)}function Cy(o,s,c){var f=s.pendingProps,m=f.revealOrder,b=f.tail;if(jt(o,s,f.children,c),f=Nt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ky(o,c,s);else if(o.tag===19)ky(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}switch(re(Nt,f),m){case"forwards":for(c=s.child,m=null;c!==null;)o=c.alternate,o!==null&&ac(o)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),Vf(s,!1,m,c,b);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(o=m.alternate,o!==null&&ac(o)===null){s.child=m;break}o=m.sibling,m.sibling=c,c=m,m=o}Vf(s,!0,c,null,b);break;case"together":Vf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function yr(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),Zr|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(Js(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,c=dr(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=dr(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function Uf(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&qa(o)))}function kx(o,s,c){switch(s.tag){case 3:ct(s,s.stateNode.containerInfo),jr(s,Rt,o.memoizedState.cache),Ys();break;case 27:case 5:Jt(s);break;case 4:ct(s,s.stateNode.containerInfo);break;case 10:jr(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ur(s),s.flags|=128,null):(c&s.child.childLanes)!==0?wy(o,s,c):(Ur(s),o=yr(o,s,c),o!==null?o.sibling:null);Ur(s);break;case 19:var m=(o.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(Js(o,s,c,!1),f=(c&s.childLanes)!==0),m){if(f)return Cy(o,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),re(Nt,Nt.current),f)break;return null;case 22:case 23:return s.lanes=0,my(o,s,c);case 24:jr(s,Rt,o.memoizedState.cache)}return yr(o,s,c)}function _y(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)Lt=!0;else{if(!Uf(o,c)&&(s.flags&128)===0)return Lt=!1,kx(o,s,c);Lt=(o.flags&131072)!==0}else Lt=!1,ze&&(s.flags&1048576)!==0&&Jg(s,Ga,s.index);switch(s.lanes=0,s.tag){case 16:e:{o=s.pendingProps;var f=s.elementType,m=f._init;if(f=m(f._payload),s.type=f,typeof f=="function")Yd(f)?(o=Ho(f,o),s.tag=1,s=yy(null,s,f,o,c)):(s.tag=0,s=If(null,s,f,o,c));else{if(f!=null){if(m=f.$$typeof,m===I){s.tag=11,s=fy(null,s,f,o,c);break e}else if(m===q){s.tag=14,s=hy(null,s,f,o,c);break e}}throw s=we(f)||f,Error(r(306,s,""))}}return s;case 0:return If(o,s,s.type,s.pendingProps,c);case 1:return f=s.type,m=Ho(f,s.pendingProps),yy(o,s,f,m,c);case 3:e:{if(ct(s,s.stateNode.containerInfo),o===null)throw Error(r(387));f=s.pendingProps;var b=s.memoizedState;m=b.element,ff(o,s),sl(s,f,null,c);var k=s.memoizedState;if(f=k.cache,jr(s,Rt,f),f!==b.cache&&sf(s,[Rt],c,!0),il(),f=k.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=vy(o,s,f,c);break e}else if(f!==m){m=Tn(Error(r(424)),s),Qs(m),s=vy(o,s,f,c);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ht=Vn(o.firstChild),Kt=s,ze=!0,Po=null,Kn=!0,c=ty(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ys(),f===m){s=yr(o,s,c);break e}jt(o,s,f,c)}s=s.child}return s;case 26:return dc(o,s),o===null?(c=T0(s.type,null,s.pendingProps,null))?s.memoizedState=c:ze||(c=s.type,o=s.pendingProps,f=Ec(Ae.current).createElement(c),f[Gt]=s,f[tn]=o,$t(f,c,o),Dt(f),s.stateNode=f):s.memoizedState=T0(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Jt(s),o===null&&ze&&(f=s.stateNode=S0(s.type,s.pendingProps,Ae.current),Kt=s,Kn=!0,m=ht,Jr(s.type)?(_h=m,ht=Vn(f.firstChild)):ht=m),jt(o,s,s.pendingProps.children,c),dc(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&ze&&((m=f=ht)&&(f=Zx(f,s.type,s.pendingProps,Kn),f!==null?(s.stateNode=f,Kt=s,ht=Vn(f.firstChild),Kn=!1,m=!0):m=!1),m||Io(s)),Jt(s),m=s.type,b=s.pendingProps,k=o!==null?o.memoizedProps:null,f=b.children,vh(m,b)?f=null:k!==null&&vh(m,k)&&(s.flags|=32),s.memoizedState!==null&&(m=yf(o,s,hx,null,null,c),Ml._currentValue=m),dc(o,s),jt(o,s,f,c),s.child;case 6:return o===null&&ze&&((o=c=ht)&&(c=Xx(c,s.pendingProps,Kn),c!==null?(s.stateNode=c,Kt=s,ht=null,o=!0):o=!1),o||Io(s)),null;case 13:return wy(o,s,c);case 4:return ct(s,s.stateNode.containerInfo),f=s.pendingProps,o===null?s.child=qi(s,null,f,c):jt(o,s,f,c),s.child;case 11:return fy(o,s,s.type,s.pendingProps,c);case 7:return jt(o,s,s.pendingProps,c),s.child;case 8:return jt(o,s,s.pendingProps.children,c),s.child;case 12:return jt(o,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,jr(s,s.type,f.value),jt(o,s,f.children,c),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,jo(s),m=qt(m),f=f(m),s.flags|=1,jt(o,s,f,c),s.child;case 14:return hy(o,s,s.type,s.pendingProps,c);case 15:return py(o,s,s.type,s.pendingProps,c);case 19:return Cy(o,s,c);case 31:return f=s.pendingProps,c=s.mode,f={mode:f.mode,children:f.children},o===null?(c=fc(f,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=dr(o.child,f),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return my(o,s,c);case 24:return jo(s),f=qt(Rt),o===null?(m=cf(),m===null&&(m=et,b=lf(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),s.memoizedState={parent:f,cache:m},df(s),jr(s,Rt,m)):((o.lanes&c)!==0&&(ff(o,s),sl(s,null,null,c),il()),m=o.memoizedState,b=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),jr(s,Rt,f)):(f=b.cache,jr(s,Rt,f),f!==m.cache&&sf(s,[Rt],c,!0))),jt(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function vr(o){o.flags|=4}function Sy(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!O0(s)){if(s=Nn.current,s!==null&&((Ie&4194048)===Ie?rr!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||s!==rr))throw rl=uf,lb;o.flags|=8192}}function hc(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?ng():536870912,o.lanes|=s,Xi|=s)}function hl(o,s){if(!ze)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function ut(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(s)for(var m=o.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=f,o.childLanes=c,s}function Cx(o,s,c){var f=s.pendingProps;switch(tf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return c=s.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),mr(Rt),Ut(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(Xs(s)?vr(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nb())),ut(s),null;case 26:return c=s.memoizedState,o===null?(vr(s),c!==null?(ut(s),Sy(s,c)):(ut(s),s.flags&=-16777217)):c?c!==o.memoizedState?(vr(s),ut(s),Sy(s,c)):(ut(s),s.flags&=-16777217):(o.memoizedProps!==f&&vr(s),ut(s),s.flags&=-16777217),null;case 27:ar(s),c=Ae.current;var m=s.type;if(o!==null&&s.stateNode!=null)o.memoizedProps!==f&&vr(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return ut(s),null}o=Ee.current,Xs(s)?eb(s):(o=S0(m,f,c),s.stateNode=o,vr(s))}return ut(s),null;case 5:if(ar(s),c=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&vr(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(o=Ee.current,Xs(s))eb(s);else{switch(m=Ec(Ae.current),o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?o.multiple=!0:f.size&&(o.size=f.size);break;default:o=typeof f.is=="string"?m.createElement(c,{is:f.is}):m.createElement(c)}}o[Gt]=s,o[tn]=f;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=o;e:switch($t(o,c,f),c){case"button":case"input":case"select":case"textarea":o=!!f.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&vr(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==f&&vr(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(o=Ae.current,Xs(s)){if(o=s.stateNode,c=s.memoizedProps,f=null,m=Kt,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}o[Gt]=s,o=!!(o.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||b0(o.nodeValue,c)),o||Io(s)}else o=Ec(o).createTextNode(f),o[Gt]=s,s.stateNode=o}return ut(s),null;case 13:if(f=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(m=Xs(s),f!==null&&f.dehydrated!==null){if(o===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Gt]=s}else Ys(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),m=!1}else m=nb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(br(s),s):(br(s),null)}if(br(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=f!==null,o=o!==null&&o.memoizedState!==null,c){f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==m&&(f.flags|=2048)}return c!==o&&c&&(s.child.flags|=8192),hc(s,s.updateQueue),ut(s),null;case 4:return Ut(),o===null&&ph(s.stateNode.containerInfo),ut(s),null;case 10:return mr(s.type),ut(s),null;case 19:if(te(Nt),m=s.memoizedState,m===null)return ut(s),null;if(f=(s.flags&128)!==0,b=m.rendering,b===null)if(f)hl(m,!1);else{if(pt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(b=ac(o),b!==null){for(s.flags|=128,hl(m,!1),o=b.updateQueue,s.updateQueue=o,hc(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)Qg(c,o),c=c.sibling;return re(Nt,Nt.current&1|2),s.child}o=o.sibling}m.tail!==null&&le()>gc&&(s.flags|=128,f=!0,hl(m,!1),s.lanes=4194304)}else{if(!f)if(o=ac(b),o!==null){if(s.flags|=128,f=!0,o=o.updateQueue,s.updateQueue=o,hc(s,o),hl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ze)return ut(s),null}else 2*le()-m.renderingStartTime>gc&&c!==536870912&&(s.flags|=128,f=!0,hl(m,!1),s.lanes=4194304);m.isBackwards?(b.sibling=s.child,s.child=b):(o=m.last,o!==null?o.sibling=b:s.child=b,m.last=b)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=le(),s.sibling=null,o=Nt.current,re(Nt,f?o&1|2:o&1),s):(ut(s),null);case 22:case 23:return br(s),gf(),f=s.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),c=s.updateQueue,c!==null&&hc(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),o!==null&&te(zo),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),mr(Rt),ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _x(o,s){switch(tf(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return mr(Rt),Ut(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return ar(s),null;case 13:if(br(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ys()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return te(Nt),null;case 4:return Ut(),null;case 10:return mr(s.type),null;case 22:case 23:return br(s),gf(),o!==null&&te(zo),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return mr(Rt),null;case 25:return null;default:return null}}function xy(o,s){switch(tf(s),s.tag){case 3:mr(Rt),Ut();break;case 26:case 27:case 5:ar(s);break;case 4:Ut();break;case 13:br(s);break;case 19:te(Nt);break;case 10:mr(s.type);break;case 22:case 23:br(s),gf(),o!==null&&te(zo);break;case 24:mr(Rt)}}function pl(o,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&o)===o){f=void 0;var b=c.create,k=c.inst;f=b(),k.destroy=f}c=c.next}while(c!==m)}}catch(_){Qe(s,s.return,_)}}function Gr(o,s,c){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&o)===o){var k=f.inst,_=k.destroy;if(_!==void 0){k.destroy=void 0,m=s;var M=c,P=_;try{P()}catch(V){Qe(m,M,V)}}}f=f.next}while(f!==b)}}catch(V){Qe(s,s.return,V)}}function Ey(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{hb(s,c)}catch(f){Qe(o,o.return,f)}}}function Ty(o,s,c){c.props=Ho(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(f){Qe(o,s,f)}}function ml(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof c=="function"?o.refCleanup=c(f):c.current=f}}catch(m){Qe(o,s,m)}}function Zn(o,s){var c=o.ref,f=o.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){Qe(o,s,m)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Qe(o,s,m)}else c.current=null}function My(o){var s=o.type,c=o.memoizedProps,f=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){Qe(o,o.return,m)}}function Ff(o,s,c){try{var f=o.stateNode;Fx(f,o.type,c,s),f[tn]=s}catch(m){Qe(o,o.return,m)}}function Ay(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Jr(o.type)||o.tag===4}function Gf(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Ay(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Jr(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function qf(o,s,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=xc));else if(f!==4&&(f===27&&Jr(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(qf(o,s,c),o=o.sibling;o!==null;)qf(o,s,c),o=o.sibling}function pc(o,s,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(f!==4&&(f===27&&Jr(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(pc(o,s,c),o=o.sibling;o!==null;)pc(o,s,c),o=o.sibling}function Ry(o){var s=o.stateNode,c=o.memoizedProps;try{for(var f=o.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);$t(s,f,c),s[Gt]=o,s[tn]=c}catch(b){Qe(o,o.return,b)}}var wr=!1,yt=!1,Wf=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Sx(o,s){if(o=o.containerInfo,bh=Oc,o=Vg(o),Fd(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var k=0,_=-1,M=-1,P=0,V=0,W=o,j=null;t:for(;;){for(var z;W!==c||m!==0&&W.nodeType!==3||(_=k+m),W!==b||f!==0&&W.nodeType!==3||(M=k+f),W.nodeType===3&&(k+=W.nodeValue.length),(z=W.firstChild)!==null;)j=W,W=z;for(;;){if(W===o)break t;if(j===c&&++P===m&&(_=k),j===b&&++V===f&&(M=k),(z=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=z}c=_===-1||M===-1?null:{start:_,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(yh={focusedElem:o,selectionRange:c},Oc=!1,Pt=s;Pt!==null;)if(s=Pt,o=s.child,(s.subtreeFlags&1024)!==0&&o!==null)o.return=s,Pt=o;else for(;Pt!==null;){switch(s=Pt,b=s.alternate,o=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,c=s,m=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var ve=Ho(c.type,m,c.elementType===c.type);o=f.getSnapshotBeforeUpdate(ve,b),f.__reactInternalSnapshotBeforeUpdate=o}catch(ge){Qe(c,c.return,ge)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)kh(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":kh(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Pt=o;break}Pt=s.return}}function Oy(o,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:qr(o,c),f&4&&pl(5,c);break;case 1:if(qr(o,c),f&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(k){Qe(c,c.return,k)}else{var m=Ho(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(m,s,o.__reactInternalSnapshotBeforeUpdate)}catch(k){Qe(c,c.return,k)}}f&64&&Ey(c),f&512&&ml(c,c.return);break;case 3:if(qr(o,c),f&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{hb(o,s)}catch(k){Qe(c,c.return,k)}}break;case 27:s===null&&f&4&&Ry(c);case 26:case 5:qr(o,c),s===null&&f&4&&My(c),f&512&&ml(c,c.return);break;case 12:qr(o,c);break;case 13:qr(o,c),f&4&&Py(o,c),f&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=Dx.bind(null,c),Yx(o,c))));break;case 22:if(f=c.memoizedState!==null||wr,!f){s=s!==null&&s.memoizedState!==null||yt,m=wr;var b=yt;wr=f,(yt=s)&&!b?Wr(o,c,(c.subtreeFlags&8772)!==0):qr(o,c),wr=m,yt=b}break;case 30:break;default:qr(o,c)}}function Dy(o){var s=o.alternate;s!==null&&(o.alternate=null,Dy(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&xd(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var st=null,on=!1;function kr(o,s,c){for(c=c.child;c!==null;)Ly(o,s,c),c=c.sibling}function Ly(o,s,c){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(it,c)}catch{}switch(c.tag){case 26:yt||Zn(c,s),kr(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:yt||Zn(c,s);var f=st,m=on;Jr(c.type)&&(st=c.stateNode,on=!1),kr(o,s,c),Sl(c.stateNode),st=f,on=m;break;case 5:yt||Zn(c,s);case 6:if(f=st,m=on,st=null,kr(o,s,c),st=f,on=m,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(c.stateNode)}catch(b){Qe(c,s,b)}else try{st.removeChild(c.stateNode)}catch(b){Qe(c,s,b)}break;case 18:st!==null&&(on?(o=st,C0(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),Ol(o)):C0(st,c.stateNode));break;case 4:f=st,m=on,st=c.stateNode.containerInfo,on=!0,kr(o,s,c),st=f,on=m;break;case 0:case 11:case 14:case 15:yt||Gr(2,c,s),yt||Gr(4,c,s),kr(o,s,c);break;case 1:yt||(Zn(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Ty(c,s,f)),kr(o,s,c);break;case 21:kr(o,s,c);break;case 22:yt=(f=yt)||c.memoizedState!==null,kr(o,s,c),yt=f;break;default:kr(o,s,c)}}function Py(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ol(o)}catch(c){Qe(s,s.return,c)}}function xx(o){switch(o.tag){case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new Ny),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new Ny),s;default:throw Error(r(435,o.tag))}}function Kf(o,s){var c=xx(o);s.forEach(function(f){var m=Lx.bind(null,o,f);c.has(f)||(c.add(f),f.then(m,m))})}function hn(o,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],b=o,k=s,_=k;e:for(;_!==null;){switch(_.tag){case 27:if(Jr(_.type)){st=_.stateNode,on=!1;break e}break;case 5:st=_.stateNode,on=!1;break e;case 3:case 4:st=_.stateNode.containerInfo,on=!0;break e}_=_.return}if(st===null)throw Error(r(160));Ly(b,k,m),st=null,on=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Iy(s,o),s=s.sibling}var Hn=null;function Iy(o,s){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:hn(s,o),pn(o),f&4&&(Gr(3,o,o.return),pl(3,o),Gr(5,o,o.return));break;case 1:hn(s,o),pn(o),f&512&&(yt||c===null||Zn(c,c.return)),f&64&&wr&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=Hn;if(hn(s,o),pn(o),f&512&&(yt||c===null||Zn(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=o.memoizedState,c===null)if(f===null)if(o.stateNode===null){e:{f=o.type,c=o.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":b=m.getElementsByTagName("title")[0],(!b||b[zs]||b[Gt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(f),m.head.insertBefore(b,m.querySelector("head > title"))),$t(b,f,c),b[Gt]=o,Dt(b),f=b;break e;case"link":var k=R0("link","href",m).get(f+(c.href||""));if(k){for(var _=0;_<k.length;_++)if(b=k[_],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(_,1);break t}}b=m.createElement(f),$t(b,f,c),m.head.appendChild(b);break;case"meta":if(k=R0("meta","content",m).get(f+(c.content||""))){for(_=0;_<k.length;_++)if(b=k[_],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(_,1);break t}}b=m.createElement(f),$t(b,f,c),m.head.appendChild(b);break;default:throw Error(r(468,f))}b[Gt]=o,Dt(b),f=b}o.stateNode=f}else N0(m,o.type,o.stateNode);else o.stateNode=A0(m,f,o.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?N0(m,o.type,o.stateNode):A0(m,f,o.memoizedProps)):f===null&&o.stateNode!==null&&Ff(o,o.memoizedProps,c.memoizedProps)}break;case 27:hn(s,o),pn(o),f&512&&(yt||c===null||Zn(c,c.return)),c!==null&&f&4&&Ff(o,o.memoizedProps,c.memoizedProps);break;case 5:if(hn(s,o),pn(o),f&512&&(yt||c===null||Zn(c,c.return)),o.flags&32){m=o.stateNode;try{Mi(m,"")}catch(z){Qe(o,o.return,z)}}f&4&&o.stateNode!=null&&(m=o.memoizedProps,Ff(o,m,c!==null?c.memoizedProps:m)),f&1024&&(Wf=!0);break;case 6:if(hn(s,o),pn(o),f&4){if(o.stateNode===null)throw Error(r(162));f=o.memoizedProps,c=o.stateNode;try{c.nodeValue=f}catch(z){Qe(o,o.return,z)}}break;case 3:if(Ac=null,m=Hn,Hn=Tc(s.containerInfo),hn(s,o),Hn=m,pn(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ol(s.containerInfo)}catch(z){Qe(o,o.return,z)}Wf&&(Wf=!1,By(o));break;case 4:f=Hn,Hn=Tc(o.stateNode.containerInfo),hn(s,o),pn(o),Hn=f;break;case 12:hn(s,o),pn(o);break;case 13:hn(s,o),pn(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(eh=le()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Kf(o,f)));break;case 22:m=o.memoizedState!==null;var M=c!==null&&c.memoizedState!==null,P=wr,V=yt;if(wr=P||m,yt=V||M,hn(s,o),yt=V,wr=P,pn(o),f&8192)e:for(s=o.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(c===null||M||wr||yt||Vo(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){M=c=s;try{if(b=M.stateNode,m)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{_=M.stateNode;var W=M.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;_.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(z){Qe(M,M.return,z)}}}else if(s.tag===6){if(c===null){M=s;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(z){Qe(M,M.return,z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=o.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Kf(o,c))));break;case 19:hn(s,o),pn(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Kf(o,f)));break;case 30:break;case 21:break;default:hn(s,o),pn(o)}}function pn(o){var s=o.flags;if(s&2){try{for(var c,f=o.return;f!==null;){if(Ay(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var m=c.stateNode,b=Gf(o);pc(o,b,m);break;case 5:var k=c.stateNode;c.flags&32&&(Mi(k,""),c.flags&=-33);var _=Gf(o);pc(o,_,k);break;case 3:case 4:var M=c.stateNode.containerInfo,P=Gf(o);qf(o,P,M);break;default:throw Error(r(161))}}catch(V){Qe(o,o.return,V)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function By(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;By(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function qr(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Oy(o,s.alternate,s),s=s.sibling}function Vo(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Gr(4,s,s.return),Vo(s);break;case 1:Zn(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Ty(s,s.return,c),Vo(s);break;case 27:Sl(s.stateNode);case 26:case 5:Zn(s,s.return),Vo(s);break;case 22:s.memoizedState===null&&Vo(s);break;case 30:Vo(s);break;default:Vo(s)}o=o.sibling}}function Wr(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=o,b=s,k=b.flags;switch(b.tag){case 0:case 11:case 15:Wr(m,b,c),pl(4,b);break;case 1:if(Wr(m,b,c),f=b,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(P){Qe(f,f.return,P)}if(f=b,m=f.updateQueue,m!==null){var _=f.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)fb(M[m],_)}catch(P){Qe(f,f.return,P)}}c&&k&64&&Ey(b),ml(b,b.return);break;case 27:Ry(b);case 26:case 5:Wr(m,b,c),c&&f===null&&k&4&&My(b),ml(b,b.return);break;case 12:Wr(m,b,c);break;case 13:Wr(m,b,c),c&&k&4&&Py(m,b);break;case 22:b.memoizedState===null&&Wr(m,b,c),ml(b,b.return);break;case 30:break;default:Wr(m,b,c)}s=s.sibling}}function Zf(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&el(c))}function Xf(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&el(o))}function Xn(o,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jy(o,s,c,f),s=s.sibling}function jy(o,s,c,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Xn(o,s,c,f),m&2048&&pl(9,s);break;case 1:Xn(o,s,c,f);break;case 3:Xn(o,s,c,f),m&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&el(o)));break;case 12:if(m&2048){Xn(o,s,c,f),o=s.stateNode;try{var b=s.memoizedProps,k=b.id,_=b.onPostCommit;typeof _=="function"&&_(k,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(M){Qe(s,s.return,M)}}else Xn(o,s,c,f);break;case 13:Xn(o,s,c,f);break;case 23:break;case 22:b=s.stateNode,k=s.alternate,s.memoizedState!==null?b._visibility&2?Xn(o,s,c,f):gl(o,s):b._visibility&2?Xn(o,s,c,f):(b._visibility|=2,Wi(o,s,c,f,(s.subtreeFlags&10256)!==0)),m&2048&&Zf(k,s);break;case 24:Xn(o,s,c,f),m&2048&&Xf(s.alternate,s);break;default:Xn(o,s,c,f)}}function Wi(o,s,c,f,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=o,k=s,_=c,M=f,P=k.flags;switch(k.tag){case 0:case 11:case 15:Wi(b,k,_,M,m),pl(8,k);break;case 23:break;case 22:var V=k.stateNode;k.memoizedState!==null?V._visibility&2?Wi(b,k,_,M,m):gl(b,k):(V._visibility|=2,Wi(b,k,_,M,m)),m&&P&2048&&Zf(k.alternate,k);break;case 24:Wi(b,k,_,M,m),m&&P&2048&&Xf(k.alternate,k);break;default:Wi(b,k,_,M,m)}s=s.sibling}}function gl(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,f=s,m=f.flags;switch(f.tag){case 22:gl(c,f),m&2048&&Zf(f.alternate,f);break;case 24:gl(c,f),m&2048&&Xf(f.alternate,f);break;default:gl(c,f)}s=s.sibling}}var bl=8192;function Ki(o){if(o.subtreeFlags&bl)for(o=o.child;o!==null;)zy(o),o=o.sibling}function zy(o){switch(o.tag){case 26:Ki(o),o.flags&bl&&o.memoizedState!==null&&uE(Hn,o.memoizedState,o.memoizedProps);break;case 5:Ki(o);break;case 3:case 4:var s=Hn;Hn=Tc(o.stateNode.containerInfo),Ki(o),Hn=s;break;case 22:o.memoizedState===null&&(s=o.alternate,s!==null&&s.memoizedState!==null?(s=bl,bl=16777216,Ki(o),bl=s):Ki(o));break;default:Ki(o)}}function $y(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function yl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Pt=f,Vy(f,o)}$y(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Hy(o),o=o.sibling}function Hy(o){switch(o.tag){case 0:case 11:case 15:yl(o),o.flags&2048&&Gr(9,o,o.return);break;case 3:yl(o);break;case 12:yl(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,mc(o)):yl(o);break;default:yl(o)}}function mc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Pt=f,Vy(f,o)}$y(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Gr(8,s,s.return),mc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,mc(s));break;default:mc(s)}o=o.sibling}}function Vy(o,s){for(;Pt!==null;){var c=Pt;switch(c.tag){case 0:case 11:case 15:Gr(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:el(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Pt=f;else e:for(c=o;Pt!==null;){f=Pt;var m=f.sibling,b=f.return;if(Dy(f),f===c){Pt=null;break e}if(m!==null){m.return=b,Pt=m;break e}Pt=b}}}var Ex={getCacheForType:function(o){var s=qt(Rt),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c}},Tx=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Le=null,Ie=0,Ge=0,mn=null,Kr=!1,Zi=!1,Yf=!1,Cr=0,pt=0,Zr=0,Uo=0,Qf=0,On=0,Xi=0,vl=null,sn=null,Jf=!1,eh=0,gc=1/0,bc=null,Xr=null,zt=0,Yr=null,Yi=null,Qi=0,th=0,nh=null,Uy=null,wl=0,rh=null;function gn(){if((Fe&2)!==0&&Ie!==0)return Ie&-Ie;if(L.T!==null){var o=zi;return o!==0?o:uh()}return ig()}function Fy(){On===0&&(On=(Ie&536870912)===0||ze?tg():536870912);var o=Nn.current;return o!==null&&(o.flags|=32),On}function bn(o,s,c){(o===et&&(Ge===2||Ge===9)||o.cancelPendingCommit!==null)&&(Ji(o,0),Qr(o,Ie,On,!1)),js(o,c),((Fe&2)===0||o!==et)&&(o===et&&((Fe&2)===0&&(Uo|=c),pt===4&&Qr(o,Ie,On,!1)),Yn(o))}function Gy(o,s,c){if((Fe&6)!==0)throw Error(r(327));var f=!c&&(s&124)===0&&(s&o.expiredLanes)===0||ii(o,s),m=f?Rx(o,s):sh(o,s,!0),b=f;do{if(m===0){Zi&&!f&&Qr(o,s,0,!1);break}else{if(c=o.current.alternate,b&&!Mx(c)){m=sh(o,s,!1),b=!1;continue}if(m===2){if(b=s,o.errorRecoveryDisabledLanes&b)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var _=o;m=vl;var M=_.current.memoizedState.isDehydrated;if(M&&(Ji(_,k).flags|=256),k=sh(_,k,!1),k!==2){if(Yf&&!M){_.errorRecoveryDisabledLanes|=b,Uo|=b,m=4;break e}b=sn,sn=m,b!==null&&(sn===null?sn=b:sn.push.apply(sn,b))}m=k}if(b=!1,m!==2)continue}}if(m===1){Ji(o,0),Qr(o,s,0,!0);break}e:{switch(f=o,b=m,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Qr(f,s,On,!Kr);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=eh+300-le(),10<m)){if(Qr(f,s,On,!Kr),nr(f,0,!0)!==0)break e;f.timeoutHandle=w0(qy.bind(null,f,c,sn,bc,Jf,s,On,Uo,Xi,Kr,b,2,-0,0),m);break e}qy(f,c,sn,bc,Jf,s,On,Uo,Xi,Kr,b,0,-0,0)}}break}while(!0);Yn(o)}function qy(o,s,c,f,m,b,k,_,M,P,V,W,j,z){if(o.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:cE},zy(s),W=dE(),W!==null)){o.cancelPendingCommit=W(Jy.bind(null,o,s,b,c,f,m,k,_,M,V,1,j,z)),Qr(o,b,k,!P);return}Jy(o,s,b,c,f,m,k,_,M)}function Mx(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],b=m.getSnapshot;m=m.value;try{if(!dn(b(),m))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qr(o,s,c,f){s&=~Qf,s&=~Uo,o.suspendedLanes|=s,o.pingedLanes&=~s,f&&(o.warmLanes|=s),f=o.expirationTimes;for(var m=s;0<m;){var b=31-mt(m),k=1<<b;f[b]=-1,m&=~k}c!==0&&rg(o,c,s)}function yc(){return(Fe&6)===0?(kl(0),!1):!0}function oh(){if(Le!==null){if(Ge===0)var o=Le.return;else o=Le,pr=Bo=null,kf(o),Gi=null,dl=0,o=Le;for(;o!==null;)xy(o.alternate,o),o=o.return;Le=null}}function Ji(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,qx(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),oh(),et=o,Le=c=dr(o.current,null),Ie=s,Ge=0,mn=null,Kr=!1,Zi=ii(o,s),Yf=!1,Xi=On=Qf=Uo=Zr=pt=0,sn=vl=null,Jf=!1,(s&8)!==0&&(s|=s&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=s;0<f;){var m=31-mt(f),b=1<<m;s|=o[m],f&=~b}return Cr=s,$a(),c}function Wy(o,s){Ne=null,L.H=ic,s===nl||s===Za?(s=ub(),Ge=3):s===lb?(s=ub(),Ge=4):Ge=s===dy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,mn=s,Le===null&&(pt=1,uc(o,Tn(s,o.current)))}function Ky(){var o=L.H;return L.H=ic,o===null?ic:o}function Zy(){var o=L.A;return L.A=Ex,o}function ih(){pt=4,Kr||(Ie&4194048)!==Ie&&Nn.current!==null||(Zi=!0),(Zr&134217727)===0&&(Uo&134217727)===0||et===null||Qr(et,Ie,On,!1)}function sh(o,s,c){var f=Fe;Fe|=2;var m=Ky(),b=Zy();(et!==o||Ie!==s)&&(bc=null,Ji(o,s)),s=!1;var k=pt;e:do try{if(Ge!==0&&Le!==null){var _=Le,M=mn;switch(Ge){case 8:oh(),k=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(s=!0);var P=Ge;if(Ge=0,mn=null,es(o,_,M,P),c&&Zi){k=0;break e}break;default:P=Ge,Ge=0,mn=null,es(o,_,M,P)}}Ax(),k=pt;break}catch(V){Wy(o,V)}while(!0);return s&&o.shellSuspendCounter++,pr=Bo=null,Fe=f,L.H=m,L.A=b,Le===null&&(et=null,Ie=0,$a()),k}function Ax(){for(;Le!==null;)Xy(Le)}function Rx(o,s){var c=Fe;Fe|=2;var f=Ky(),m=Zy();et!==o||Ie!==s?(bc=null,gc=le()+500,Ji(o,s)):Zi=ii(o,s);e:do try{if(Ge!==0&&Le!==null){s=Le;var b=mn;t:switch(Ge){case 1:Ge=0,mn=null,es(o,s,b,1);break;case 2:case 9:if(ab(b)){Ge=0,mn=null,Yy(s);break}s=function(){Ge!==2&&Ge!==9||et!==o||(Ge=7),Yn(o)},b.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:ab(b)?(Ge=0,mn=null,Yy(s)):(Ge=0,mn=null,es(o,s,b,7));break;case 5:var k=null;switch(Le.tag){case 26:k=Le.memoizedState;case 5:case 27:var _=Le;if(!k||O0(k)){Ge=0,mn=null;var M=_.sibling;if(M!==null)Le=M;else{var P=_.return;P!==null?(Le=P,vc(P)):Le=null}break t}}Ge=0,mn=null,es(o,s,b,5);break;case 6:Ge=0,mn=null,es(o,s,b,6);break;case 8:oh(),pt=6;break e;default:throw Error(r(462))}}Nx();break}catch(V){Wy(o,V)}while(!0);return pr=Bo=null,L.H=f,L.A=m,Fe=c,Le!==null?0:(et=null,Ie=0,$a(),pt)}function Nx(){for(;Le!==null&&!me();)Xy(Le)}function Xy(o){var s=_y(o.alternate,o,Cr);o.memoizedProps=o.pendingProps,s===null?vc(o):Le=s}function Yy(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=by(c,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=by(c,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:kf(s);default:xy(c,s),s=Le=Qg(s,Cr),s=_y(c,s,Cr)}o.memoizedProps=o.pendingProps,s===null?vc(o):Le=s}function es(o,s,c,f){pr=Bo=null,kf(s),Gi=null,dl=0;var m=s.return;try{if(wx(o,m,s,c,Ie)){pt=1,uc(o,Tn(c,o.current)),Le=null;return}}catch(b){if(m!==null)throw Le=m,b;pt=1,uc(o,Tn(c,o.current)),Le=null;return}s.flags&32768?(ze||f===1?o=!0:Zi||(Ie&536870912)!==0?o=!1:(Kr=o=!0,(f===2||f===9||f===3||f===6)&&(f=Nn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Qy(s,o)):vc(s)}function vc(o){var s=o;do{if((s.flags&32768)!==0){Qy(s,Kr);return}o=s.return;var c=Cx(s.alternate,s,Cr);if(c!==null){Le=c;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=o}while(s!==null);pt===0&&(pt=5)}function Qy(o,s){do{var c=_x(o.alternate,o);if(c!==null){c.flags&=32767,Le=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){Le=o;return}Le=o=c}while(o!==null);pt=6,Le=null}function Jy(o,s,c,f,m,b,k,_,M){o.cancelPendingCommit=null;do wc();while(zt!==0);if((Fe&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Zd,cS(o,c,b,k,_,M),o===et&&(Le=et=null,Ie=0),Yi=s,Yr=o,Qi=c,th=b,nh=m,Uy=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Px(he,function(){return o0(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=L.T,L.T=null,m=H.p,H.p=2,k=Fe,Fe|=4;try{Sx(o,s,c)}finally{Fe=k,H.p=m,L.T=f}}zt=1,e0(),t0(),n0()}}function e0(){if(zt===1){zt=0;var o=Yr,s=Yi,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=L.T,L.T=null;var f=H.p;H.p=2;var m=Fe;Fe|=4;try{Iy(s,o);var b=yh,k=Vg(o.containerInfo),_=b.focusedElem,M=b.selectionRange;if(k!==_&&_&&_.ownerDocument&&Hg(_.ownerDocument.documentElement,_)){if(M!==null&&Fd(_)){var P=M.start,V=M.end;if(V===void 0&&(V=P),"selectionStart"in _)_.selectionStart=P,_.selectionEnd=Math.min(V,_.value.length);else{var W=_.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var z=j.getSelection(),ve=_.textContent.length,ge=Math.min(M.start,ve),Xe=M.end===void 0?ge:Math.min(M.end,ve);!z.extend&&ge>Xe&&(k=Xe,Xe=ge,ge=k);var O=$g(_,ge),R=$g(_,Xe);if(O&&R&&(z.rangeCount!==1||z.anchorNode!==O.node||z.anchorOffset!==O.offset||z.focusNode!==R.node||z.focusOffset!==R.offset)){var D=W.createRange();D.setStart(O.node,O.offset),z.removeAllRanges(),ge>Xe?(z.addRange(D),z.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),z.addRange(D))}}}}for(W=[],z=_;z=z.parentNode;)z.nodeType===1&&W.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<W.length;_++){var U=W[_];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Oc=!!bh,yh=bh=null}finally{Fe=m,H.p=f,L.T=c}}o.current=s,zt=2}}function t0(){if(zt===2){zt=0;var o=Yr,s=Yi,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=L.T,L.T=null;var f=H.p;H.p=2;var m=Fe;Fe|=4;try{Oy(o,s.alternate,s)}finally{Fe=m,H.p=f,L.T=c}}zt=3}}function n0(){if(zt===4||zt===3){zt=0,fe();var o=Yr,s=Yi,c=Qi,f=Uy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,Yi=Yr=null,r0(o,o.pendingLanes));var m=o.pendingLanes;if(m===0&&(Xr=null),_d(c),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(it,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=L.T,m=H.p,H.p=2,L.T=null;try{for(var b=o.onRecoverableError,k=0;k<f.length;k++){var _=f[k];b(_.value,{componentStack:_.stack})}}finally{L.T=s,H.p=m}}(Qi&3)!==0&&wc(),Yn(o),m=o.pendingLanes,(c&4194090)!==0&&(m&42)!==0?o===rh?wl++:(wl=0,rh=o):wl=0,kl(0)}}function r0(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,el(s)))}function wc(o){return e0(),t0(),n0(),o0()}function o0(){if(zt!==5)return!1;var o=Yr,s=th;th=0;var c=_d(Qi),f=L.T,m=H.p;try{H.p=32>c?32:c,L.T=null,c=nh,nh=null;var b=Yr,k=Qi;if(zt=0,Yi=Yr=null,Qi=0,(Fe&6)!==0)throw Error(r(331));var _=Fe;if(Fe|=4,Hy(b.current),jy(b,b.current,k,c),Fe=_,kl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(it,b)}catch{}return!0}finally{H.p=m,L.T=f,r0(o,s)}}function i0(o,s,c){s=Tn(c,s),s=Pf(o.stateNode,s,2),o=Hr(o,s,2),o!==null&&(js(o,2),Yn(o))}function Qe(o,s,c){if(o.tag===3)i0(o,o,c);else for(;s!==null;){if(s.tag===3){i0(s,o,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xr===null||!Xr.has(f))){o=Tn(c,o),c=cy(2),f=Hr(s,c,2),f!==null&&(uy(c,f,s,o),js(f,2),Yn(f));break}}s=s.return}}function lh(o,s,c){var f=o.pingCache;if(f===null){f=o.pingCache=new Tx;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(c)||(Yf=!0,m.add(c),o=Ox.bind(null,o,s,c),s.then(o,o))}function Ox(o,s,c){var f=o.pingCache;f!==null&&f.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,et===o&&(Ie&c)===c&&(pt===4||pt===3&&(Ie&62914560)===Ie&&300>le()-eh?(Fe&2)===0&&Ji(o,0):Qf|=c,Xi===Ie&&(Xi=0)),Yn(o)}function s0(o,s){s===0&&(s=ng()),o=Pi(o,s),o!==null&&(js(o,s),Yn(o))}function Dx(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),s0(o,c)}function Lx(o,s){var c=0;switch(o.tag){case 13:var f=o.stateNode,m=o.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),s0(o,c)}function Px(o,s){return X(o,s)}var kc=null,ts=null,ah=!1,Cc=!1,ch=!1,Fo=0;function Yn(o){o!==ts&&o.next===null&&(ts===null?kc=ts=o:ts=ts.next=o),Cc=!0,ah||(ah=!0,Bx())}function kl(o,s){if(!ch&&Cc){ch=!0;do for(var c=!1,f=kc;f!==null;){if(o!==0){var m=f.pendingLanes;if(m===0)var b=0;else{var k=f.suspendedLanes,_=f.pingedLanes;b=(1<<31-mt(42|o)+1)-1,b&=m&~(k&~_),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,u0(f,b))}else b=Ie,b=nr(f,f===et?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||ii(f,b)||(c=!0,u0(f,b));f=f.next}while(c);ch=!1}}function Ix(){l0()}function l0(){Cc=ah=!1;var o=0;Fo!==0&&(Gx()&&(o=Fo),Fo=0);for(var s=le(),c=null,f=kc;f!==null;){var m=f.next,b=a0(f,s);b===0?(f.next=null,c===null?kc=m:c.next=m,m===null&&(ts=c)):(c=f,(o!==0||(b&3)!==0)&&(Cc=!0)),f=m}kl(o)}function a0(o,s){for(var c=o.suspendedLanes,f=o.pingedLanes,m=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var k=31-mt(b),_=1<<k,M=m[k];M===-1?((_&c)===0||(_&f)!==0)&&(m[k]=aS(_,s)):M<=s&&(o.expiredLanes|=_),b&=~_}if(s=et,c=Ie,c=nr(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,c===0||o===s&&(Ge===2||Ge===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&ne(f),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||ii(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(f!==null&&ne(f),_d(c)){case 2:case 8:c=pe;break;case 32:c=he;break;case 268435456:c=Oe;break;default:c=he}return f=c0.bind(null,o),c=X(c,f),o.callbackPriority=s,o.callbackNode=c,s}return f!==null&&f!==null&&ne(f),o.callbackPriority=2,o.callbackNode=null,2}function c0(o,s){if(zt!==0&&zt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(wc()&&o.callbackNode!==c)return null;var f=Ie;return f=nr(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(Gy(o,f,s),a0(o,le()),o.callbackNode!=null&&o.callbackNode===c?c0.bind(null,o):null)}function u0(o,s){if(wc())return null;Gy(o,s,!0)}function Bx(){Wx(function(){(Fe&6)!==0?X(Te,Ix):l0()})}function uh(){return Fo===0&&(Fo=tg()),Fo}function d0(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Da(""+o)}function f0(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function jx(o,s,c,f,m){if(s==="submit"&&c&&c.stateNode===m){var b=d0((m[tn]||null).action),k=f.submitter;k&&(s=(s=k[tn]||null)?d0(s.formAction):k.getAttribute("formAction"),s!==null&&(b=s,k=null));var _=new Ba("action","action",null,f,m);o.push({event:_,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fo!==0){var M=k?f0(m,k):new FormData(m);Rf(c,{pending:!0,data:M,method:m.method,action:b},null,M)}}else typeof b=="function"&&(_.preventDefault(),M=k?f0(m,k):new FormData(m),Rf(c,{pending:!0,data:M,method:m.method,action:b},b,M))},currentTarget:m}]})}}for(var dh=0;dh<Kd.length;dh++){var fh=Kd[dh],zx=fh.toLowerCase(),$x=fh[0].toUpperCase()+fh.slice(1);$n(zx,"on"+$x)}$n(Gg,"onAnimationEnd"),$n(qg,"onAnimationIteration"),$n(Wg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(rx,"onTransitionRun"),$n(ox,"onTransitionStart"),$n(ix,"onTransitionCancel"),$n(Kg,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function h0(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],m=f.event;f=f.listeners;e:{var b=void 0;if(s)for(var k=f.length-1;0<=k;k--){var _=f[k],M=_.instance,P=_.currentTarget;if(_=_.listener,M!==b&&m.isPropagationStopped())break e;b=_,m.currentTarget=P;try{b(m)}catch(V){cc(V)}m.currentTarget=null,b=M}else for(k=0;k<f.length;k++){if(_=f[k],M=_.instance,P=_.currentTarget,_=_.listener,M!==b&&m.isPropagationStopped())break e;b=_,m.currentTarget=P;try{b(m)}catch(V){cc(V)}m.currentTarget=null,b=M}}}}function Pe(o,s){var c=s[Sd];c===void 0&&(c=s[Sd]=new Set);var f=o+"__bubble";c.has(f)||(p0(s,o,2,!1),c.add(f))}function hh(o,s,c){var f=0;s&&(f|=4),p0(c,o,f,s)}var _c="_reactListening"+Math.random().toString(36).slice(2);function ph(o){if(!o[_c]){o[_c]=!0,lg.forEach(function(c){c!=="selectionchange"&&(Hx.has(c)||hh(c,!1,o),hh(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[_c]||(s[_c]=!0,hh("selectionchange",!1,s))}}function p0(o,s,c,f){switch(j0(s)){case 2:var m=pE;break;case 8:m=mE;break;default:m=Mh}c=m.bind(null,s,c,o),m=void 0,!Pd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?o.addEventListener(s,c,{capture:!0,passive:m}):o.addEventListener(s,c,!0):m!==void 0?o.addEventListener(s,c,{passive:m}):o.addEventListener(s,c,!1)}function mh(o,s,c,f,m){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var _=f.stateNode.containerInfo;if(_===m)break;if(k===4)for(k=f.return;k!==null;){var M=k.tag;if((M===3||M===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;_!==null;){if(k=Ci(_),k===null)return;if(M=k.tag,M===5||M===6||M===26||M===27){f=b=k;continue e}_=_.parentNode}}f=f.return}kg(function(){var P=b,V=Dd(c),W=[];e:{var j=Zg.get(o);if(j!==void 0){var z=Ba,ve=o;switch(o){case"keypress":if(Pa(c)===0)break e;case"keydown":case"keyup":z=PS;break;case"focusin":ve="focus",z=zd;break;case"focusout":ve="blur",z=zd;break;case"beforeblur":case"afterblur":z=zd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=_S;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=jS;break;case Gg:case qg:case Wg:z=ES;break;case Kg:z=$S;break;case"scroll":case"scrollend":z=kS;break;case"wheel":z=VS;break;case"copy":case"cut":case"paste":z=MS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Eg;break;case"toggle":case"beforetoggle":z=FS}var ge=(s&4)!==0,Xe=!ge&&(o==="scroll"||o==="scrollend"),O=ge?j!==null?j+"Capture":null:j;ge=[];for(var R=P,D;R!==null;){var U=R;if(D=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||D===null||O===null||(U=Hs(R,O),U!=null&&ge.push(_l(R,U,D))),Xe)break;R=R.return}0<ge.length&&(j=new z(j,ve,null,c,V),W.push({event:j,listeners:ge}))}}if((s&7)===0){e:{if(j=o==="mouseover"||o==="pointerover",z=o==="mouseout"||o==="pointerout",j&&c!==Od&&(ve=c.relatedTarget||c.fromElement)&&(Ci(ve)||ve[ki]))break e;if((z||j)&&(j=V.window===V?V:(j=V.ownerDocument)?j.defaultView||j.parentWindow:window,z?(ve=c.relatedTarget||c.toElement,z=P,ve=ve?Ci(ve):null,ve!==null&&(Xe=l(ve),ge=ve.tag,ve!==Xe||ge!==5&&ge!==27&&ge!==6)&&(ve=null)):(z=null,ve=P),z!==ve)){if(ge=Sg,U="onMouseLeave",O="onMouseEnter",R="mouse",(o==="pointerout"||o==="pointerover")&&(ge=Eg,U="onPointerLeave",O="onPointerEnter",R="pointer"),Xe=z==null?j:$s(z),D=ve==null?j:$s(ve),j=new ge(U,R+"leave",z,c,V),j.target=Xe,j.relatedTarget=D,U=null,Ci(V)===P&&(ge=new ge(O,R+"enter",ve,c,V),ge.target=D,ge.relatedTarget=Xe,U=ge),Xe=U,z&&ve)t:{for(ge=z,O=ve,R=0,D=ge;D;D=ns(D))R++;for(D=0,U=O;U;U=ns(U))D++;for(;0<R-D;)ge=ns(ge),R--;for(;0<D-R;)O=ns(O),D--;for(;R--;){if(ge===O||O!==null&&ge===O.alternate)break t;ge=ns(ge),O=ns(O)}ge=null}else ge=null;z!==null&&m0(W,j,z,ge,!1),ve!==null&&Xe!==null&&m0(W,Xe,ve,ge,!0)}}e:{if(j=P?$s(P):window,z=j.nodeName&&j.nodeName.toLowerCase(),z==="select"||z==="input"&&j.type==="file")var oe=Lg;else if(Og(j))if(Pg)oe=ex;else{oe=QS;var De=YS}else z=j.nodeName,!z||z.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&Nd(P.elementType)&&(oe=Lg):oe=JS;if(oe&&(oe=oe(o,P))){Dg(W,oe,c,V);break e}De&&De(o,j,P),o==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Rd(j,"number",j.value)}switch(De=P?$s(P):window,o){case"focusin":(Og(De)||De.contentEditable==="true")&&(Oi=De,Gd=P,Zs=null);break;case"focusout":Zs=Gd=Oi=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,Ug(W,c,V);break;case"selectionchange":if(nx)break;case"keydown":case"keyup":Ug(W,c,V)}var ce;if(Hd)e:{switch(o){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ni?Rg(o,c)&&(ye="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(ye="onCompositionStart");ye&&(Tg&&c.locale!=="ko"&&(Ni||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ni&&(ce=Cg()):(Br=V,Id="value"in Br?Br.value:Br.textContent,Ni=!0)),De=Sc(P,ye),0<De.length&&(ye=new xg(ye,o,null,c,V),W.push({event:ye,listeners:De}),ce?ye.data=ce:(ce=Ng(c),ce!==null&&(ye.data=ce)))),(ce=qS?WS(o,c):KS(o,c))&&(ye=Sc(P,"onBeforeInput"),0<ye.length&&(De=new xg("onBeforeInput","beforeinput",null,c,V),W.push({event:De,listeners:ye}),De.data=ce)),jx(W,o,P,c,V)}h0(W,s)})}function _l(o,s,c){return{instance:o,listener:s,currentTarget:c}}function Sc(o,s){for(var c=s+"Capture",f=[];o!==null;){var m=o,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Hs(o,c),m!=null&&f.unshift(_l(o,m,b)),m=Hs(o,s),m!=null&&f.push(_l(o,m,b))),o.tag===3)return f;o=o.return}return[]}function ns(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function m0(o,s,c,f,m){for(var b=s._reactName,k=[];c!==null&&c!==f;){var _=c,M=_.alternate,P=_.stateNode;if(_=_.tag,M!==null&&M===f)break;_!==5&&_!==26&&_!==27||P===null||(M=P,m?(P=Hs(c,b),P!=null&&k.unshift(_l(c,P,M))):m||(P=Hs(c,b),P!=null&&k.push(_l(c,P,M)))),c=c.return}k.length!==0&&o.push({event:s,listeners:k})}var Vx=/\r\n?/g,Ux=/\u0000|\uFFFD/g;function g0(o){return(typeof o=="string"?o:""+o).replace(Vx,`
`).replace(Ux,"")}function b0(o,s){return s=g0(s),g0(o)===s}function xc(){}function Ze(o,s,c,f,m,b){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Mi(o,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Mi(o,""+f);break;case"className":Ra(o,"class",f);break;case"tabIndex":Ra(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ra(o,c,f);break;case"style":vg(o,f,b);break;case"data":if(s!=="object"){Ra(o,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(c);break}f=Da(""+f),o.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&Ze(o,s,"name",m.name,m,null),Ze(o,s,"formEncType",m.formEncType,m,null),Ze(o,s,"formMethod",m.formMethod,m,null),Ze(o,s,"formTarget",m.formTarget,m,null)):(Ze(o,s,"encType",m.encType,m,null),Ze(o,s,"method",m.method,m,null),Ze(o,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(c);break}f=Da(""+f),o.setAttribute(c,f);break;case"onClick":f!=null&&(o.onclick=xc);break;case"onScroll":f!=null&&Pe("scroll",o);break;case"onScrollEnd":f!=null&&Pe("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}c=Da(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(c,""+f):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":f===!0?o.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(c,f):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(c,f):o.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(c):o.setAttribute(c,f);break;case"popover":Pe("beforetoggle",o),Pe("toggle",o),Aa(o,"popover",f);break;case"xlinkActuate":cr(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":cr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":cr(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":cr(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":cr(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":cr(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":cr(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":cr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":cr(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Aa(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=vS.get(c)||c,Aa(o,c,f))}}function gh(o,s,c,f,m,b){switch(c){case"style":vg(o,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"children":typeof f=="string"?Mi(o,f):(typeof f=="number"||typeof f=="bigint")&&Mi(o,""+f);break;case"onScroll":f!=null&&Pe("scroll",o);break;case"onScrollEnd":f!=null&&Pe("scrollend",o);break;case"onClick":f!=null&&(o.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ag.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),s=c.slice(2,m?c.length-7:void 0),b=o[tn]||null,b=b!=null?b[c]:null,typeof b=="function"&&o.removeEventListener(s,b,m),typeof f=="function")){typeof b!="function"&&b!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,f,m);break e}c in o?o[c]=f:f===!0?o.setAttribute(c,""):Aa(o,c,f)}}}function $t(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",o),Pe("load",o);var f=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var k=c[b];if(k!=null)switch(b){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(o,s,b,k,c,null)}}m&&Ze(o,s,"srcSet",c.srcSet,c,null),f&&Ze(o,s,"src",c.src,c,null);return;case"input":Pe("invalid",o);var _=b=k=m=null,M=null,P=null;for(f in c)if(c.hasOwnProperty(f)){var V=c[f];if(V!=null)switch(f){case"name":m=V;break;case"type":k=V;break;case"checked":M=V;break;case"defaultChecked":P=V;break;case"value":b=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:Ze(o,s,f,V,c,null)}}mg(o,b,_,M,P,k,m,!1),Na(o);return;case"select":Pe("invalid",o),f=k=b=null;for(m in c)if(c.hasOwnProperty(m)&&(_=c[m],_!=null))switch(m){case"value":b=_;break;case"defaultValue":k=_;break;case"multiple":f=_;default:Ze(o,s,m,_,c,null)}s=b,c=k,o.multiple=!!f,s!=null?Ti(o,!!f,s,!1):c!=null&&Ti(o,!!f,c,!0);return;case"textarea":Pe("invalid",o),b=m=f=null;for(k in c)if(c.hasOwnProperty(k)&&(_=c[k],_!=null))switch(k){case"value":f=_;break;case"defaultValue":m=_;break;case"children":b=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ze(o,s,k,_,c,null)}bg(o,f,m,b),Na(o);return;case"option":for(M in c)if(c.hasOwnProperty(M)&&(f=c[M],f!=null))switch(M){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ze(o,s,M,f,c,null)}return;case"dialog":Pe("beforetoggle",o),Pe("toggle",o),Pe("cancel",o),Pe("close",o);break;case"iframe":case"object":Pe("load",o);break;case"video":case"audio":for(f=0;f<Cl.length;f++)Pe(Cl[f],o);break;case"image":Pe("error",o),Pe("load",o);break;case"details":Pe("toggle",o);break;case"embed":case"source":case"link":Pe("error",o),Pe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in c)if(c.hasOwnProperty(P)&&(f=c[P],f!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(o,s,P,f,c,null)}return;default:if(Nd(s)){for(V in c)c.hasOwnProperty(V)&&(f=c[V],f!==void 0&&gh(o,s,V,f,c,void 0));return}}for(_ in c)c.hasOwnProperty(_)&&(f=c[_],f!=null&&Ze(o,s,_,f,c,null))}function Fx(o,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,k=null,_=null,M=null,P=null,V=null;for(z in c){var W=c[z];if(c.hasOwnProperty(z)&&W!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":M=W;default:f.hasOwnProperty(z)||Ze(o,s,z,null,f,W)}}for(var j in f){var z=f[j];if(W=c[j],f.hasOwnProperty(j)&&(z!=null||W!=null))switch(j){case"type":b=z;break;case"name":m=z;break;case"checked":P=z;break;case"defaultChecked":V=z;break;case"value":k=z;break;case"defaultValue":_=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,s));break;default:z!==W&&Ze(o,s,j,z,f,W)}}Ad(o,k,_,M,P,V,b,m);return;case"select":z=k=_=j=null;for(b in c)if(M=c[b],c.hasOwnProperty(b)&&M!=null)switch(b){case"value":break;case"multiple":z=M;default:f.hasOwnProperty(b)||Ze(o,s,b,null,f,M)}for(m in f)if(b=f[m],M=c[m],f.hasOwnProperty(m)&&(b!=null||M!=null))switch(m){case"value":j=b;break;case"defaultValue":_=b;break;case"multiple":k=b;default:b!==M&&Ze(o,s,m,b,f,M)}s=_,c=k,f=z,j!=null?Ti(o,!!c,j,!1):!!f!=!!c&&(s!=null?Ti(o,!!c,s,!0):Ti(o,!!c,c?[]:"",!1));return;case"textarea":z=j=null;for(_ in c)if(m=c[_],c.hasOwnProperty(_)&&m!=null&&!f.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ze(o,s,_,null,f,m)}for(k in f)if(m=f[k],b=c[k],f.hasOwnProperty(k)&&(m!=null||b!=null))switch(k){case"value":j=m;break;case"defaultValue":z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==b&&Ze(o,s,k,m,f,b)}gg(o,j,z);return;case"option":for(var ve in c)if(j=c[ve],c.hasOwnProperty(ve)&&j!=null&&!f.hasOwnProperty(ve))switch(ve){case"selected":o.selected=!1;break;default:Ze(o,s,ve,null,f,j)}for(M in f)if(j=f[M],z=c[M],f.hasOwnProperty(M)&&j!==z&&(j!=null||z!=null))switch(M){case"selected":o.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ze(o,s,M,j,f,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in c)j=c[ge],c.hasOwnProperty(ge)&&j!=null&&!f.hasOwnProperty(ge)&&Ze(o,s,ge,null,f,j);for(P in f)if(j=f[P],z=c[P],f.hasOwnProperty(P)&&j!==z&&(j!=null||z!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Ze(o,s,P,j,f,z)}return;default:if(Nd(s)){for(var Xe in c)j=c[Xe],c.hasOwnProperty(Xe)&&j!==void 0&&!f.hasOwnProperty(Xe)&&gh(o,s,Xe,void 0,f,j);for(V in f)j=f[V],z=c[V],!f.hasOwnProperty(V)||j===z||j===void 0&&z===void 0||gh(o,s,V,j,f,z);return}}for(var O in c)j=c[O],c.hasOwnProperty(O)&&j!=null&&!f.hasOwnProperty(O)&&Ze(o,s,O,null,f,j);for(W in f)j=f[W],z=c[W],!f.hasOwnProperty(W)||j===z||j==null&&z==null||Ze(o,s,W,j,f,z)}var bh=null,yh=null;function Ec(o){return o.nodeType===9?o:o.ownerDocument}function y0(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function vh(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wh=null;function Gx(){var o=window.event;return o&&o.type==="popstate"?o===wh?!1:(wh=o,!0):(wh=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,qx=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(o){return k0.resolve(null).then(o).catch(Kx)}:w0;function Kx(o){setTimeout(function(){throw o})}function Jr(o){return o==="head"}function C0(o,s){var c=s,f=0,m=0;do{var b=c.nextSibling;if(o.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<f&&8>f){c=f;var k=o.ownerDocument;if(c&1&&Sl(k.documentElement),c&2&&Sl(k.body),c&4)for(c=k.head,Sl(c),k=c.firstChild;k;){var _=k.nextSibling,M=k.nodeName;k[zs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&k.rel.toLowerCase()==="stylesheet"||c.removeChild(k),k=_}}if(m===0){o.removeChild(b),Ol(s);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:f=c.charCodeAt(0)-48;else f=0;c=b}while(c);Ol(s)}function kh(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":kh(c),xd(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function Zx(o,s,c,f){for(;o.nodeType===1;){var m=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[zs])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence")||b!==m.rel||o.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||o.getAttribute("title")!==(m.title==null?null:m.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(m.src==null?null:m.src)||o.getAttribute("type")!==(m.type==null?null:m.type)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=Vn(o.nextSibling),o===null)break}return null}function Xx(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Vn(o.nextSibling),o===null))return null;return o}function Ch(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Yx(o,s){var c=o.ownerDocument;if(o.data!=="$?"||c.readyState==="complete")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function Vn(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return o}var _h=null;function _0(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return o;s--}else c==="/$"&&s++}o=o.previousSibling}return null}function S0(o,s,c){switch(s=Ec(c),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Sl(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);xd(o)}var Dn=new Map,x0=new Set;function Tc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var _r=H.d;H.d={f:Qx,r:Jx,D:eE,C:tE,L:nE,m:rE,X:iE,S:oE,M:sE};function Qx(){var o=_r.f(),s=yc();return o||s}function Jx(o){var s=_i(o);s!==null&&s.tag===5&&s.type==="form"?Gb(s):_r.r(o)}var rs=typeof document>"u"?null:document;function E0(o,s,c){var f=rs;if(f&&typeof s=="string"&&s){var m=In(s);m='link[rel="'+o+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),x0.has(m)||(x0.add(m),o={rel:o,crossOrigin:c,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),$t(s,"link",o),Dt(s),f.head.appendChild(s)))}}function eE(o){_r.D(o),E0("dns-prefetch",o,null)}function tE(o,s){_r.C(o,s),E0("preconnect",o,s)}function nE(o,s,c){_r.L(o,s,c);var f=rs;if(f&&o&&s){var m='link[rel="preload"][as="'+In(s)+'"]';s==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+In(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+In(c.imageSizes)+'"]')):m+='[href="'+In(o)+'"]';var b=m;switch(s){case"style":b=is(o);break;case"script":b=ss(o)}Dn.has(b)||(o=p({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),Dn.set(b,o),f.querySelector(m)!==null||s==="style"&&f.querySelector(xl(b))||s==="script"&&f.querySelector(El(b))||(s=f.createElement("link"),$t(s,"link",o),Dt(s),f.head.appendChild(s)))}}function rE(o,s){_r.m(o,s);var c=rs;if(c&&o){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+In(f)+'"][href="'+In(o)+'"]',b=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ss(o)}if(!Dn.has(b)&&(o=p({rel:"modulepreload",href:o},s),Dn.set(b,o),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(El(b)))return}f=c.createElement("link"),$t(f,"link",o),Dt(f),c.head.appendChild(f)}}}function oE(o,s,c){_r.S(o,s,c);var f=rs;if(f&&o){var m=Si(f).hoistableStyles,b=is(o);s=s||"default";var k=m.get(b);if(!k){var _={loading:0,preload:null};if(k=f.querySelector(xl(b)))_.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":s},c),(c=Dn.get(b))&&Sh(o,c);var M=k=f.createElement("link");Dt(M),$t(M,"link",o),M._p=new Promise(function(P,V){M.onload=P,M.onerror=V}),M.addEventListener("load",function(){_.loading|=1}),M.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Mc(k,s,f)}k={type:"stylesheet",instance:k,count:1,state:_},m.set(b,k)}}}function iE(o,s){_r.X(o,s);var c=rs;if(c&&o){var f=Si(c).hoistableScripts,m=ss(o),b=f.get(m);b||(b=c.querySelector(El(m)),b||(o=p({src:o,async:!0},s),(s=Dn.get(m))&&xh(o,s),b=c.createElement("script"),Dt(b),$t(b,"link",o),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function sE(o,s){_r.M(o,s);var c=rs;if(c&&o){var f=Si(c).hoistableScripts,m=ss(o),b=f.get(m);b||(b=c.querySelector(El(m)),b||(o=p({src:o,async:!0,type:"module"},s),(s=Dn.get(m))&&xh(o,s),b=c.createElement("script"),Dt(b),$t(b,"link",o),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function T0(o,s,c,f){var m=(m=Ae.current)?Tc(m):null;if(!m)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=is(c.href),c=Si(m).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=is(c.href);var b=Si(m).hoistableStyles,k=b.get(o);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,k),(b=m.querySelector(xl(o)))&&!b._p&&(k.instance=b,k.state.loading=5),Dn.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Dn.set(o,c),b||lE(m,o,c,k.state))),s&&f===null)throw Error(r(528,""));return k}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ss(c),c=Si(m).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function is(o){return'href="'+In(o)+'"'}function xl(o){return'link[rel="stylesheet"]['+o+"]"}function M0(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function lE(o,s,c,f){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=o.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),$t(s,"link",c),Dt(s),o.head.appendChild(s))}function ss(o){return'[src="'+In(o)+'"]'}function El(o){return"script[async]"+o}function A0(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=o.querySelector('style[data-href~="'+In(c.href)+'"]');if(f)return s.instance=f,Dt(f),f;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),Dt(f),$t(f,"style",m),Mc(f,c.precedence,o),s.instance=f;case"stylesheet":m=is(c.href);var b=o.querySelector(xl(m));if(b)return s.state.loading|=4,s.instance=b,Dt(b),b;f=M0(c),(m=Dn.get(m))&&Sh(f,m),b=(o.ownerDocument||o).createElement("link"),Dt(b);var k=b;return k._p=new Promise(function(_,M){k.onload=_,k.onerror=M}),$t(b,"link",f),s.state.loading|=4,Mc(b,c.precedence,o),s.instance=b;case"script":return b=ss(c.src),(m=o.querySelector(El(b)))?(s.instance=m,Dt(m),m):(f=c,(m=Dn.get(b))&&(f=p({},c),xh(f,m)),o=o.ownerDocument||o,m=o.createElement("script"),Dt(m),$t(m,"link",f),o.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Mc(f,c.precedence,o));return s.instance}function Mc(o,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,b=m,k=0;k<f.length;k++){var _=f[k];if(_.dataset.precedence===s)b=_;else if(b!==m)break}b?b.parentNode.insertBefore(o,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function Sh(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function xh(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Ac=null;function R0(o,s,c){if(Ac===null){var f=new Map,m=Ac=new Map;m.set(c,f)}else m=Ac,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(o))return f;for(f.set(o,null),c=c.getElementsByTagName(o),m=0;m<c.length;m++){var b=c[m];if(!(b[zs]||b[Gt]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(s)||"";k=o+k;var _=f.get(k);_?_.push(b):f.set(k,[b])}}return f}function N0(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function aE(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function O0(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Tl=null;function cE(){}function uE(o,s,c){if(Tl===null)throw Error(r(475));var f=Tl;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=is(c.href),b=o.querySelector(xl(m));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(f.count++,f=Rc.bind(f),o.then(f,f)),s.state.loading|=4,s.instance=b,Dt(b);return}b=o.ownerDocument||o,c=M0(c),(m=Dn.get(m))&&Sh(c,m),b=b.createElement("link"),Dt(b);var k=b;k._p=new Promise(function(_,M){k.onload=_,k.onerror=M}),$t(b,"link",c),s.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,o),(o=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Rc.bind(f),o.addEventListener("load",s),o.addEventListener("error",s))}}function dE(){if(Tl===null)throw Error(r(475));var o=Tl;return o.stylesheets&&o.count===0&&Eh(o,o.stylesheets),0<o.count?function(s){var c=setTimeout(function(){if(o.stylesheets&&Eh(o,o.stylesheets),o.unsuspend){var f=o.unsuspend;o.unsuspend=null,f()}},6e4);return o.unsuspend=s,function(){o.unsuspend=null,clearTimeout(c)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Nc=null;function Eh(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Nc=new Map,s.forEach(fE,o),Nc=null,Rc.call(o))}function fE(o,s){if(!(s.state.loading&4)){var c=Nc.get(o);if(c)var f=c.get(null);else{c=new Map,Nc.set(o,c);for(var m=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var k=m[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),f=k)}f&&c.set(null,f)}m=s.instance,k=m.getAttribute("data-precedence"),b=c.get(k)||f,b===f&&c.set(null,m),c.set(k,m),this.count++,f=Rc.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),b?b.parentNode.insertBefore(m,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(m,o.firstChild)),s.state.loading|=4}}var Ml={$$typeof:N,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function hE(o,s,c,f,m,b,k,_){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.hiddenUpdates=kd(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function D0(o,s,c,f,m,b,k,_,M,P,V,W){return o=new hE(o,s,c,k,_,M,P,W),s=1,b===!0&&(s|=24),b=fn(3,null,null,s),o.current=b,b.stateNode=o,s=lf(),s.refCount++,o.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:s},df(b),o}function L0(o){return o?(o=Ii,o):Ii}function P0(o,s,c,f,m,b){m=L0(m),f.context===null?f.context=m:f.pendingContext=m,f=$r(s),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=Hr(o,f,s),c!==null&&(bn(c,o,s),ol(c,o,s))}function I0(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function Th(o,s){I0(o,s),(o=o.alternate)&&I0(o,s)}function B0(o){if(o.tag===13){var s=Pi(o,67108864);s!==null&&bn(s,o,67108864),Th(o,67108864)}}var Oc=!0;function pE(o,s,c,f){var m=L.T;L.T=null;var b=H.p;try{H.p=2,Mh(o,s,c,f)}finally{H.p=b,L.T=m}}function mE(o,s,c,f){var m=L.T;L.T=null;var b=H.p;try{H.p=8,Mh(o,s,c,f)}finally{H.p=b,L.T=m}}function Mh(o,s,c,f){if(Oc){var m=Ah(f);if(m===null)mh(o,s,f,Dc,c),z0(o,f);else if(bE(m,o,s,c,f))f.stopPropagation();else if(z0(o,f),s&4&&-1<gE.indexOf(o)){for(;m!==null;){var b=_i(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=en(b.pendingLanes);if(k!==0){var _=b;for(_.pendingLanes|=2,_.entangledLanes|=2;k;){var M=1<<31-mt(k);_.entanglements[1]|=M,k&=~M}Yn(b),(Fe&6)===0&&(gc=le()+500,kl(0))}}break;case 13:_=Pi(b,2),_!==null&&bn(_,b,2),yc(),Th(b,2)}if(b=Ah(f),b===null&&mh(o,s,f,Dc,c),b===m)break;m=b}m!==null&&f.stopPropagation()}else mh(o,s,f,null,c)}}function Ah(o){return o=Dd(o),Rh(o)}var Dc=null;function Rh(o){if(Dc=null,o=Ci(o),o!==null){var s=l(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=a(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Dc=o,null}function j0(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Te:return 2;case pe:return 8;case he:case Ye:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var Nh=!1,eo=null,to=null,no=null,Al=new Map,Rl=new Map,ro=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z0(o,s){switch(o){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Al.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(s.pointerId)}}function Nl(o,s,c,f,m,b){return o===null||o.nativeEvent!==b?(o={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[m]},s!==null&&(s=_i(s),s!==null&&B0(s)),o):(o.eventSystemFlags|=f,s=o.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),o)}function bE(o,s,c,f,m){switch(s){case"focusin":return eo=Nl(eo,o,s,c,f,m),!0;case"dragenter":return to=Nl(to,o,s,c,f,m),!0;case"mouseover":return no=Nl(no,o,s,c,f,m),!0;case"pointerover":var b=m.pointerId;return Al.set(b,Nl(Al.get(b)||null,o,s,c,f,m)),!0;case"gotpointercapture":return b=m.pointerId,Rl.set(b,Nl(Rl.get(b)||null,o,s,c,f,m)),!0}return!1}function $0(o){var s=Ci(o.target);if(s!==null){var c=l(s);if(c!==null){if(s=c.tag,s===13){if(s=a(c),s!==null){o.blockedOn=s,uS(o.priority,function(){if(c.tag===13){var f=gn();f=Cd(f);var m=Pi(c,f);m!==null&&bn(m,c,f),Th(c,f)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lc(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Ah(o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);Od=f,c.target.dispatchEvent(f),Od=null}else return s=_i(c),s!==null&&B0(s),o.blockedOn=c,!1;s.shift()}return!0}function H0(o,s,c){Lc(o)&&c.delete(s)}function yE(){Nh=!1,eo!==null&&Lc(eo)&&(eo=null),to!==null&&Lc(to)&&(to=null),no!==null&&Lc(no)&&(no=null),Al.forEach(H0),Rl.forEach(H0)}function Pc(o,s){o.blockedOn===s&&(o.blockedOn=null,Nh||(Nh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yE)))}var Ic=null;function V0(o){Ic!==o&&(Ic=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ic===o&&(Ic=null);for(var s=0;s<o.length;s+=3){var c=o[s],f=o[s+1],m=o[s+2];if(typeof f!="function"){if(Rh(f||c)===null)continue;break}var b=_i(c);b!==null&&(o.splice(s,3),s-=3,Rf(b,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function Ol(o){function s(M){return Pc(M,o)}eo!==null&&Pc(eo,o),to!==null&&Pc(to,o),no!==null&&Pc(no,o),Al.forEach(s),Rl.forEach(s);for(var c=0;c<ro.length;c++){var f=ro[c];f.blockedOn===o&&(f.blockedOn=null)}for(;0<ro.length&&(c=ro[0],c.blockedOn===null);)$0(c),c.blockedOn===null&&ro.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],b=c[f+1],k=m[tn]||null;if(typeof b=="function")k||V0(c);else if(k){var _=null;if(b&&b.hasAttribute("formAction")){if(m=b,k=b[tn]||null)_=k.formAction;else if(Rh(m)!==null)continue}else _=k.action;typeof _=="function"?c[f+1]=_:(c.splice(f,3),f-=3),V0(c)}}}function Oh(o){this._internalRoot=o}Bc.prototype.render=Oh.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,f=gn();P0(c,f,o,s,null,null)},Bc.prototype.unmount=Oh.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;P0(o.current,2,null,o,null,null),yc(),s[ki]=null}};function Bc(o){this._internalRoot=o}Bc.prototype.unstable_scheduleHydration=function(o){if(o){var s=ig();o={blockedOn:null,target:o,priority:s};for(var c=0;c<ro.length&&s!==0&&s<ro[c].priority;c++);ro.splice(c,0,o),c===0&&$0(o)}};var U0=e.version;if(U0!=="19.1.0")throw Error(r(527,U0,"19.1.0"));H.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var vE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{it=jc.inject(vE),We=jc}catch{}}return rv.createRoot=function(o,s){if(!i(o))throw Error(r(299));var c=!1,f="",m=iy,b=sy,k=ly,_=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks)),s=D0(o,1,!1,null,null,c,f,m,b,k,_,null),o[ki]=s.current,ph(o),new Oh(s)},rv.hydrateRoot=function(o,s,c){if(!i(o))throw Error(r(299));var f=!1,m="",b=iy,k=sy,_=ly,M=null,P=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(_=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(M=c.unstable_transitionCallbacks),c.formState!==void 0&&(P=c.formState)),s=D0(o,1,!0,s,c??null,f,m,b,k,_,M,P),s.context=L0(null),c=s.current,f=gn(),f=Cd(f),m=$r(f),m.callback=null,Hr(c,m,f),c=f,s.current.lanes=c,js(s,c),Yn(s),o[ki]=s.current,ph(o),new Bc(s)},rv.version="19.1.0",rv}var H5;function Xbe(){if(H5)return fT.exports;H5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fT.exports=Zbe(),fT.exports}var Ybe=Xbe(),V5={exports:{}},ov={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function Qbe(){if(U5)return ov;U5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,l){var a=null;if(l!==void 0&&(a=""+l),i.key!==void 0&&(a=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:l}}return ov.Fragment=e,ov.jsx=n,ov.jsxs=n,ov}var F5;function Jbe(){return F5||(F5=1,V5.exports=Qbe()),V5.exports}var dA=Jbe();const eye={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{image:{add_button_text:"Add image"},video:{add_button_text:"Add video"},audio:{add_button_text:"Add audio"},file:{add_button_text:"Add file"}},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found",loading:"Loading…"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:t=>`${t} more replies`}},generic:{ctrl_shortcut:"Ctrl"}},tye={slash_menu:{heading:{title:"عنوان 1",subtext:"يستخدم لعناوين المستوى الأعلى",aliases:["ع","عنوان1","ع1"],group:"العناوين"},heading_2:{title:"عنوان 2",subtext:"يستخدم للأقسام الرئيسية",aliases:["ع2","عنوان2","عنوان فرعي"],group:"العناوين"},heading_3:{title:"عنوان 3",subtext:"يستخدم للأقسام الفرعية والعناوين المجموعة",aliases:["ع3","عنوان3","عنوان فرعي"],group:"العناوين"},quote:{title:"اقتباس",subtext:"اقتباس أو مقتطف",aliases:["quotation","blockquote","bq"],group:"الكتل الأساسية"},numbered_list:{title:"قائمة مرقمة",subtext:"تستخدم لعرض قائمة مرقمة",aliases:["ق","عناصر قائمة","قائمة","قائمة مرقمة"],group:"الكتل الأساسية"},bullet_list:{title:"قائمة نقطية",subtext:"تستخدم لعرض قائمة غير مرتبة",aliases:["ق","عناصر قائمة","قائمة","قائمة نقطية"],group:"الكتل الأساسية"},check_list:{title:"قائمة تحقق",subtext:"تستخدم لعرض قائمة بمربعات التحقق",aliases:["قوائم غير مرتبة","عناصر قائمة","قائمة","قائمة تحقق","قائمة التحقق","قائمة مشطوبة","مربع التحقق"],group:"الكتل الأساسية"},paragraph:{title:"فقرة",subtext:"تستخدم لنص الوثيقة الأساسي",aliases:["ف","فقرة"],group:"الكتل الأساسية"},code_block:{title:"كود",subtext:"يستخدم لعرض الكود مع تحديد الصيغة",aliases:["كود","مسبق"],group:"الكتل الأساسية"},page_break:{title:"فاصل الصفحة",subtext:"فاصل الصفحة",aliases:["page","break","separator","فاصل","الصفحة"],group:"الكتل الأساسية"},table:{title:"جدول",subtext:"يستخدم للجداول",aliases:["جدول"],group:"متقدم"},image:{title:"صورة",subtext:"إدراج صورة",aliases:["صورة","رفع صورة","تحميل","صورة","صورة","وسائط","رابط"],group:"وسائط"},video:{title:"فيديو",subtext:"إدراج فيديو",aliases:["فيديو","رفع فيديو","تحميل","فيديو","فيلم","وسائط","رابط"],group:"وسائط"},audio:{title:"صوت",subtext:"إدراج صوت",aliases:["صوت","رفع صوت","تحميل","صوت","صوت","وسائط","رابط"],group:"وسائط"},file:{title:"ملف",subtext:"إدراج ملف",aliases:["ملف","تحميل","تضمين","وسائط","رابط"],group:"وسائط"},emoji:{title:"الرموز التعبيرية",subtext:"تُستخدم لإدراج رمز تعبيري",aliases:["رمز تعبيري","إيموجي","إيموت","عاطفة","وجه"],group:"آخرون"}},placeholders:{default:"أدخل نصًا أو اكتب '/' للأوامر",heading:"عنوان",bulletListItem:"قائمة",numberedListItem:"قائمة",checkListItem:"قائمة",new_comment:"اكتب تعليقًا...",edit_comment:"تحرير التعليق...",comment_reply:"أضف تعليقًا..."},file_blocks:{image:{add_button_text:"إضافة صورة"},video:{add_button_text:"إضافة فيديو"},audio:{add_button_text:"إضافة صوت"},file:{add_button_text:"إضافة ملف"}},side_menu:{add_block_label:"إضافة محتوي",drag_handle_label:"فتح قائمة المحتويات"},drag_handle:{delete_menuitem:"حذف",colors_menuitem:"ألوان",header_row_menuitem:"عنوان الصف",header_column_menuitem:"عنوان العمود"},table_handle:{delete_column_menuitem:"حذف عمود",delete_row_menuitem:"حذف صف",add_left_menuitem:"إضافة عمود إلى اليسار",add_right_menuitem:"إضافة عمود إلى اليمين",add_above_menuitem:"إضافة صف أعلى",add_below_menuitem:"إضافة صف أسفل",split_cell_menuitem:"تقسيم الخلية",merge_cells_menuitem:"جمع الخلايا",background_color_menuitem:"لون الخلفية"},suggestion_menu:{no_items_title:"لم يتم العثور على عناصر",loading:"جارٍ التحميل…"},color_picker:{text_title:"نص",background_title:"خلفية",colors:{default:"افتراضي",gray:"رمادي",brown:"بني",red:"أحمر",orange:"برتقالي",yellow:"أصفر",green:"أخضر",blue:"أزرق",purple:"أرجواني",pink:"وردي"}},formatting_toolbar:{bold:{tooltip:"عريض",secondary_tooltip:"Mod+B"},italic:{tooltip:"مائل",secondary_tooltip:"Mod+I"},underline:{tooltip:"تحته خط",secondary_tooltip:"Mod+U"},strike:{tooltip:"مشطوب",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"كود",secondary_tooltip:""},colors:{tooltip:"ألوان"},link:{tooltip:"إنشاء رابط",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"تحرير التسمية التوضيحية",input_placeholder:"تحرير التسمية التوضيحية"},file_replace:{tooltip:{image:"استبدال الصورة",video:"استبدال الفيديو",audio:"استبدال الصوت",file:"استبدال الملف"}},file_rename:{tooltip:{image:"إعادة تسمية الصورة",video:"إعادة تسمية الفيديو",audio:"إعادة تسمية الصوت",file:"إعادة تسمية الملف"},input_placeholder:{image:"إعادة تسمية الصورة",video:"إعادة تسمية الفيديو",audio:"إعادة تسمية الصوت",file:"إعادة تسمية الملف"}},file_download:{tooltip:{image:"تنزيل الصورة",video:"تنزيل الفيديو",audio:"تنزيل الصوت",file:"تنزيل الملف"}},file_delete:{tooltip:{image:"حذف الصورة",video:"حذف الفيديو",audio:"حذف الصوت",file:"حذف الملف"}},file_preview_toggle:{tooltip:"تبديل المعاينة"},nest:{tooltip:"محتويات متداخلة",secondary_tooltip:"Tab"},unnest:{tooltip:"إلغاء التداخل",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"محاذاة النص إلى اليسار"},align_center:{tooltip:"محاذاة النص في المنتصف"},align_right:{tooltip:"محاذاة النص إلى اليمين"},align_justify:{tooltip:"ضبط النص"},table_cell_merge:{tooltip:"جمع الخلايا"},comment:{tooltip:"إضافة ملاحظة"}},file_panel:{upload:{title:"تحميل",file_placeholder:{image:"تحميل صورة",video:"تحميل فيديو",audio:"تحميل صوت",file:"تحميل ملف"},upload_error:"خطأ: فشل التحميل"},embed:{title:"تضمين",embed_button:{image:"تضمين صورة",video:"تضمين فيديو",audio:"تضمين صوت",file:"تضمين ملف"},url_placeholder:"أدخل الرابط"}},link_toolbar:{delete:{tooltip:"إزالة الرابط"},edit:{text:"تحرير الرابط",tooltip:"تحرير"},open:{tooltip:"فتح في تبويب جديد"},form:{title_placeholder:"تحرير العنوان",url_placeholder:"تحرير الرابط"}},comments:{actions:{add_reaction:"أضف تفاعلًا",resolve:"حل",edit_comment:"تحرير التعليق",delete_comment:"حذف التعليق",more_actions:"المزيد من الإجراءات"},reactions:{reacted_by:"تفاعل بواسطة"},sidebar:{marked_as_resolved:"تم وضع علامة كتم الحل",more_replies:t=>`${t} ردود أخرى`}},generic:{ctrl_shortcut:"Ctrl"}},nye={slash_menu:{heading:{title:"Überschrift 1",subtext:"Hauptebene Überschrift",aliases:["h","überschrift1","h1"],group:"Überschriften"},heading_2:{title:"Überschrift 2",subtext:"Wichtige Abschnittsüberschrift",aliases:["h2","überschrift2","unterüberschrift"],group:"Überschriften"},heading_3:{title:"Überschrift 3",subtext:"Unterabschnitts- und Gruppenüberschrift",aliases:["h3","überschrift3","unterüberschrift"],group:"Überschriften"},quote:{title:"Zitat",subtext:"Zitat oder Auszug",aliases:["quotation","blockquote","bq"],group:"Grundlegende Blöcke"},numbered_list:{title:"Nummerierte Liste",subtext:"Liste mit nummerierten Elementen",aliases:["ol","li","liste","nummerierteliste","nummerierte liste"],group:"Grundlegende Blöcke"},bullet_list:{title:"Aufzählungsliste",subtext:"Liste mit unnummerierten Elementen",aliases:["ul","li","liste","aufzählungsliste","aufzählung liste"],group:"Grundlegende Blöcke"},check_list:{title:"Checkliste",subtext:"Liste mit Kontrollkästchen",aliases:["ul","li","liste","checkliste","check liste","geprüfte liste","kontrollkästchen"],group:"Grundlegende Blöcke"},paragraph:{title:"Absatz",subtext:"Der Hauptteil Ihres Dokuments",aliases:["p","absatz"],group:"Grundlegende Blöcke"},code_block:{title:"Codeblock",subtext:"Codeblock mit Syntaxhervorhebung",aliases:["code","pre"],group:"Grundlegende Blöcke"},page_break:{title:"Seitenumbruch",subtext:"Seitentrenner",aliases:["page","break","separator","seitenumbruch","trenner"],group:"Grundlegende Blöcke"},table:{title:"Tabelle",subtext:"Tabelle mit editierbaren Zellen",aliases:["tabelle"],group:"Erweitert"},image:{title:"Bild",subtext:"Größenveränderbares Bild mit Beschriftung",aliases:["bild","bildhochladen","hochladen","img","bild","medien","url"],group:"Medien"},video:{title:"Video",subtext:"Größenveränderbares Video mit Beschriftung",aliases:["video","videoupload","hochladen","mp4","film","medien","url"],group:"Medien"},audio:{title:"Audio",subtext:"Eingebettetes Audio mit Beschriftung",aliases:["audio","audioupload","hochladen","mp3","ton","medien","url"],group:"Medien"},file:{title:"Datei",subtext:"Eingebettete Datei",aliases:["datei","hochladen","einbetten","medien","url"],group:"Medien"},emoji:{title:"Emoji",subtext:"Nach Emoji suchen und einfügen",aliases:["emoji","emote","emotion","gesicht"],group:"Andere"}},placeholders:{default:"Text eingeben oder '/' für Befehle tippen",heading:"Überschrift",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Einen Kommentar schreiben …",edit_comment:"Kommentar bearbeiten …",comment_reply:"Kommentar hinzufügen …"},file_blocks:{image:{add_button_text:"Bild hinzufügen"},video:{add_button_text:"Video hinzufügen"},audio:{add_button_text:"Audio hinzufügen"},file:{add_button_text:"Datei hinzufügen"}},side_menu:{add_block_label:"Block hinzufügen",drag_handle_label:"Blockmenü öffnen"},drag_handle:{delete_menuitem:"Löschen",colors_menuitem:"Farben",header_row_menuitem:"Kopfzeile",header_column_menuitem:"Kopfspalte"},table_handle:{delete_column_menuitem:"Spalte löschen",delete_row_menuitem:"Zeile löschen",add_left_menuitem:"Spalte links hinzufügen",add_right_menuitem:"Spalte rechts hinzufügen",add_above_menuitem:"Zeile oberhalb hinzufügen",add_below_menuitem:"Zeile unterhalb hinzufügen",split_cell_menuitem:"Zelle teilen",merge_cells_menuitem:"Zellen zusammenführen",background_color_menuitem:"Hintergrundfarbe"},suggestion_menu:{no_items_title:"Keine Elemente gefunden",loading:"Laden …"},color_picker:{text_title:"Text",background_title:"Hintergrund",colors:{default:"Standard",gray:"Grau",brown:"Braun",red:"Rot",orange:"Orange",yellow:"Gelb",green:"Grün",blue:"Blau",purple:"Lila",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fett",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Unterstrichen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Durchgestrichen",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Farben"},link:{tooltip:"Link erstellen",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Beschriftung bearbeiten",input_placeholder:"Beschriftung bearbeiten"},file_replace:{tooltip:{image:"Bild ersetzen",video:"Video ersetzen",audio:"Audio ersetzen",file:"Datei ersetzen"}},file_rename:{tooltip:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"},input_placeholder:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"}},file_download:{tooltip:{image:"Bild herunterladen",video:"Video herunterladen",audio:"Audio herunterladen",file:"Datei herunterladen"}},file_delete:{tooltip:{image:"Bild löschen",video:"Video löschen",audio:"Audio löschen",file:"Datei löschen"}},file_preview_toggle:{tooltip:"Vorschau umschalten"},nest:{tooltip:"Block verschachteln",secondary_tooltip:"Tab"},unnest:{tooltip:"Block entnesten",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Text linksbündig"},align_center:{tooltip:"Text zentrieren"},align_right:{tooltip:"Text rechtsbündig"},align_justify:{tooltip:"Text Blocksatz"},table_cell_merge:{tooltip:"Zellen zusammenführen"},comment:{tooltip:"Kommentar hinzufügen"}},file_panel:{upload:{title:"Hochladen",file_placeholder:{image:"Bild hochladen",video:"Video hochladen",audio:"Audio hochladen",file:"Datei hochladen"},upload_error:"Fehler: Hochladen fehlgeschlagen"},embed:{title:"Einbetten",embed_button:{image:"Bild einbetten",video:"Video einbetten",audio:"Audio einbetten",file:"Datei einbetten"},url_placeholder:"URL eingeben"}},link_toolbar:{delete:{tooltip:"Link entfernen"},edit:{text:"Link bearbeiten",tooltip:"Bearbeiten"},open:{tooltip:"In neuem Tab öffnen"},form:{title_placeholder:"Titel bearbeiten",url_placeholder:"URL bearbeiten"}},comments:{actions:{add_reaction:"Reaktion hinzufügen",resolve:"Lösen",edit_comment:"Kommentar bearbeiten",delete_comment:"Kommentar löschen",more_actions:"Weitere Aktionen"},reactions:{reacted_by:"Reagiert von"},sidebar:{marked_as_resolved:"Als gelöst markiert",more_replies:t=>`${t} weitere Antworten`}},generic:{ctrl_shortcut:"Strg"}},rye={slash_menu:{heading:{title:"Encabezado 1",subtext:"Encabezado de primer nivel",aliases:["h","encabezado1","h1"],group:"Encabezados"},heading_2:{title:"Encabezado 2",subtext:"Encabezado de sección principal",aliases:["h2","encabezado2","subencabezado"],group:"Encabezados"},heading_3:{title:"Encabezado 3",subtext:"Encabezado de subsección y grupo",aliases:["h3","encabezado3","subencabezado"],group:"Encabezados"},quote:{title:"Cita",subtext:"Cita o extracto",aliases:["quotation","blockquote","bq"],group:"Bloques básicos"},numbered_list:{title:"Lista Numerada",subtext:"Lista con elementos ordenados",aliases:["ol","li","lista","lista numerada"],group:"Bloques básicos"},bullet_list:{title:"Lista con Viñetas",subtext:"Lista con elementos no ordenados",aliases:["ul","li","lista","lista con viñetas"],group:"Bloques básicos"},check_list:{title:"Lista de Verificación",subtext:"Lista con casillas de verificación",aliases:["ul","li","lista","lista de verificación","lista de chequeo","checkbox"],group:"Bloques básicos"},paragraph:{title:"Párrafo",subtext:"El cuerpo de tu documento",aliases:["p","párrafo"],group:"Bloques básicos"},code_block:{title:"Bloque de Código",subtext:"Bloque de código con resaltado de sintaxis",aliases:["code","pre"],group:"Bloques básicos"},page_break:{title:"Salto de página",subtext:"Separador de página",aliases:["page","break","separator","salto","separador"],group:"Bloques básicos"},table:{title:"Tabla",subtext:"Tabla con celdas editables",aliases:["tabla"],group:"Avanzado"},image:{title:"Imagen",subtext:"Imagen redimensionable con leyenda",aliases:["imagen","subir imagen","cargar","img","foto","media","url"],group:"Medios"},video:{title:"Vídeo",subtext:"Vídeo redimensionable con leyenda",aliases:["video","subir vídeo","cargar","mp4","película","media","url"],group:"Medios"},audio:{title:"Audio",subtext:"Audio incrustado con leyenda",aliases:["audio","subir audio","cargar","mp3","sonido","media","url"],group:"Medios"},file:{title:"Archivo",subtext:"Archivo incrustado",aliases:["archivo","cargar","incrustar","media","url"],group:"Medios"},emoji:{title:"Emoji",subtext:"Busca e inserta un emoji",aliases:["emoji","emoticono","emoción","cara"],group:"Otros"}},placeholders:{default:"Escribe o teclea '/' para comandos",heading:"Encabezado",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escribe un comentario...",edit_comment:"Editar comentario...",comment_reply:"Agregar comentario..."},file_blocks:{image:{add_button_text:"Agregar imagen"},video:{add_button_text:"Agregar vídeo"},audio:{add_button_text:"Agregar audio"},file:{add_button_text:"Agregar archivo"}},side_menu:{add_block_label:"Agregar bloque",drag_handle_label:"Abrir menú de bloque"},drag_handle:{delete_menuitem:"Eliminar",colors_menuitem:"Colores",header_row_menuitem:"Fila de encabezado",header_column_menuitem:"Columna de encabezado"},table_handle:{delete_column_menuitem:"Eliminar columna",delete_row_menuitem:"Eliminar fila",add_left_menuitem:"Agregar columna a la izquierda",add_right_menuitem:"Agregar columna a la derecha",add_above_menuitem:"Agregar fila arriba",add_below_menuitem:"Agregar fila abajo",split_cell_menuitem:"Dividir celda",merge_cells_menuitem:"Combinar celdas",background_color_menuitem:"Color de fondo"},suggestion_menu:{no_items_title:"No se encontraron elementos",loading:"Cargando…"},color_picker:{text_title:"Texto",background_title:"Fondo",colors:{default:"Por defecto",gray:"Gris",brown:"Marrón",red:"Rojo",orange:"Naranja",yellow:"Amarillo",green:"Verde",blue:"Azul",purple:"Morado",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrita",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursiva",secondary_tooltip:"Mod+I"},underline:{tooltip:"Subrayado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Tachado",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Colores"},link:{tooltip:"Crear enlace",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar leyenda",input_placeholder:"Editar leyenda"},file_replace:{tooltip:{image:"Reemplazar imagen",video:"Reemplazar vídeo",audio:"Reemplazar audio",file:"Reemplazar archivo"}},file_rename:{tooltip:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"},input_placeholder:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"}},file_download:{tooltip:{image:"Descargar imagen",video:"Descargar vídeo",audio:"Descargar audio",file:"Descargar archivo"}},file_delete:{tooltip:{image:"Eliminar imagen",video:"Eliminar vídeo",audio:"Eliminar audio",file:"Eliminar archivo"}},file_preview_toggle:{tooltip:"Alternar vista previa"},nest:{tooltip:"Anidar bloque",secondary_tooltip:"Tab"},unnest:{tooltip:"Desanidar bloque",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinear texto a la izquierda"},align_center:{tooltip:"Alinear texto al centro"},align_right:{tooltip:"Alinear texto a la derecha"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Combinar celdas"},comment:{tooltip:"Añadir comentario"}},file_panel:{upload:{title:"Subir",file_placeholder:{image:"Subir imagen",video:"Subir vídeo",audio:"Subir audio",file:"Subir archivo"},upload_error:"Error: Fallo en la subida"},embed:{title:"Incrustar",embed_button:{image:"Incrustar imagen",video:"Incrustar vídeo",audio:"Incrustar audio",file:"Incrustar archivo"},url_placeholder:"Introduce la URL"}},link_toolbar:{delete:{tooltip:"Eliminar enlace"},edit:{text:"Editar enlace",tooltip:"Editar"},open:{tooltip:"Abrir en nueva pestaña"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{actions:{add_reaction:"Agregar reacción",resolve:"Resolver",edit_comment:"Editar comentario",delete_comment:"Eliminar comentario",more_actions:"Más acciones"},reactions:{reacted_by:"Reaccionado por"},sidebar:{marked_as_resolved:"Marcado como resuelto",more_replies:t=>`${t} respuestas más`}},generic:{ctrl_shortcut:"Ctrl"}},oye={slash_menu:{heading:{title:"Titre 1",subtext:"Utilisé pour un titre de premier niveau",aliases:["h","titre1","h1"],group:"Titres"},heading_2:{title:"Titre 2",subtext:"Titre de deuxième niveau Utilisé pour les sections clés",aliases:["h2","titre2","sous-titre"],group:"Titres"},heading_3:{title:"Titre 3",subtext:"Titre de troisième niveau utilisé pour les sous-sections et les titres de groupe",aliases:["h3","titre3","sous-titre"],group:"Titres"},quote:{title:"Citation",subtext:"Citation ou extrait",aliases:["quotation","blockquote","bq"],group:"Blocs de base"},numbered_list:{title:"Liste Numérotée",subtext:"Utilisé pour afficher une liste numérotée",aliases:["ol","li","liste","listenumérotée","liste numérotée"],group:"Blocs de base"},bullet_list:{title:"Liste à puces",subtext:"Utilisé pour afficher une liste à puce non numérotée",aliases:["ul","li","liste","listeàpuces","liste à puces","bullet points","bulletpoints"],group:"Blocs de base"},check_list:{title:"Liste de tâches",subtext:"Utilisé pour afficher une liste avec des cases à cocher",aliases:["ul","li","liste","liste de vérification","liste cochée","case à cocher","checklist","checkbox","check box","to do","todo"],group:"Blocs de base"},paragraph:{title:"Paragraphe",subtext:"Utilisé pour le corps de votre document",aliases:["p","paragraphe","texte"],group:"Blocs de base"},code_block:{title:"Bloc de code",subtext:"Bloc de code avec coloration syntaxique",aliases:["code","pre"],group:"Blocs de base"},page_break:{title:"Saut de page",subtext:"Séparateur de page",aliases:["page","break","separator","saut","séparateur"],group:"Blocs de base"},table:{title:"Tableau",subtext:"Utilisé pour les tableaux",aliases:["tableau","grille"],group:"Avancé"},image:{title:"Image",subtext:"Insérer une image",aliases:["image","uploadImage","télécharger image","téléverser image","uploader image","img","photo","média","url"],group:"Médias"},video:{title:"Vidéo",subtext:"Insérer une vidéo",aliases:["vidéo","télécharger vidéo","téléverser vidéo","mp4","film","média","url"],group:"Média"},audio:{title:"Audio",subtext:"Insérer un audio",aliases:["audio","télécharger audio","téléverser audio","mp3","son","média","url"],group:"Média"},file:{title:"Fichier",subtext:"Insérer un fichier",aliases:["fichier","téléverser fichier","intégrer fichier","insérer fichier","média","url"],group:"Média"},emoji:{title:"Emoji",subtext:"Utilisé pour insérer un emoji",aliases:["emoji","émoticône","émotion","visage","smiley"],group:"Autres"}},placeholders:{default:"Entrez du texte ou tapez '/' pour faire apparaître les options de mise en page",heading:"Titre",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Écrire un commentaire...",edit_comment:"Modifier le commentaire...",comment_reply:"Ajouter un commentaire..."},file_blocks:{image:{add_button_text:"Ajouter une image"},video:{add_button_text:"Ajouter une vidéo"},audio:{add_button_text:"Ajouter un audio"},file:{add_button_text:"Ajouter un fichier"}},side_menu:{add_block_label:"Ajouter un bloc",drag_handle_label:"Ouvrir le menu du bloc"},drag_handle:{delete_menuitem:"Supprimer",colors_menuitem:"Couleurs",header_row_menuitem:"En-tête de ligne",header_column_menuitem:"En-tête de colonne"},table_handle:{delete_column_menuitem:"Supprimer la colonne",delete_row_menuitem:"Supprimer la ligne",add_left_menuitem:"Ajouter une colonne à gauche",add_right_menuitem:"Ajouter une colonne à droite",add_above_menuitem:"Ajouter une ligne au-dessus",add_below_menuitem:"Ajouter une ligne en dessous",split_cell_menuitem:"Diviser la cellule",merge_cells_menuitem:"Fusionner les cellules",background_color_menuitem:"Couleur de fond"},suggestion_menu:{no_items_title:"Aucun élément trouvé",loading:"Chargement…"},color_picker:{text_title:"Texte",background_title:"Fond",colors:{default:"Défaut",gray:"Gris",brown:"Marron",red:"Rouge",orange:"Orange",yellow:"Jaune",green:"Vert",blue:"Bleu",purple:"Violet",pink:"Rose"}},formatting_toolbar:{bold:{tooltip:"Gras",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italique",secondary_tooltip:"Mod+I"},underline:{tooltip:"Souligner",secondary_tooltip:"Mod+U"},strike:{tooltip:"Barré",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Couleurs"},link:{tooltip:"Créer un lien",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Modifier la légende",input_placeholder:"Modifier la légende"},file_replace:{tooltip:{image:"Remplacer l'image",video:"Remplacer la vidéo",audio:"Remplacer l'audio",file:"Remplacer le fichier"}},file_rename:{tooltip:{image:"Renommer l'image",video:"Renommer la vidéo",audio:"Renommer l'audio",file:"Renommer le fichier"},input_placeholder:{image:"Renommer l'image",video:"Renommer la vidéo",audio:"Renommer l'audio",file:"Renommer le fichier"}},file_download:{tooltip:{image:"Télécharger l'image",video:"Télécharger la vidéo",audio:"Télécharger l'audio",file:"Télécharger le fichier"}},file_delete:{tooltip:{image:"Supprimer l'image",video:"Supprimer la vidéo",audio:"Supprimer l'audio",file:"Supprimer le fichier"}},file_preview_toggle:{tooltip:"Basculer l'aperçu"},nest:{tooltip:"Augmenter le retrait du bloc",secondary_tooltip:"Tab"},unnest:{tooltip:"Diminuer le retait du bloc",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Aligner le texte à gauche"},align_center:{tooltip:"Aligner le texte au centre"},align_right:{tooltip:"Aligner le texte à droite"},align_justify:{tooltip:"Justifier le texte"},table_cell_merge:{tooltip:"Fusionner les cellules"},comment:{tooltip:"Ajouter un commentaire"}},file_panel:{upload:{title:"Télécharger",file_placeholder:{image:"Télécharger une image",video:"Télécharger une vidéo",audio:"Télécharger un fichier audio",file:"Télécharger un fichier"},upload_error:"Erreur : échec du téléchargement"},embed:{title:"Intégrer",embed_button:{image:"Intégrer une image",video:"Intégrer une vidéo",audio:"Intégrer un fichier audio",file:"Intégrer un fichier"},url_placeholder:"Entrez l'URL"}},link_toolbar:{delete:{tooltip:"Supprimer le lien"},edit:{text:"Modifier le lien",tooltip:"Modifier"},open:{tooltip:"Ouvrir dans un nouvel onglet"},form:{title_placeholder:"Modifier le titre",url_placeholder:"Modifier l'URL"}},comments:{actions:{add_reaction:"Ajouter une réaction",resolve:"Résoudre",edit_comment:"Modifier le commentaire",delete_comment:"Supprimer le commentaire",more_actions:"Plus d'actions"},reactions:{reacted_by:"Réagi par"},sidebar:{marked_as_resolved:"Marqué comme résolu",more_replies:t=>`${t} réponses de plus`}},generic:{ctrl_shortcut:"Ctrl"}},iye={slash_menu:{heading:{title:"Naslov 1",subtext:"Glavni naslov",aliases:["h","naslov1","h1"],group:"Naslovi"},heading_2:{title:"Naslov 2",subtext:"Naslov poglavlja",aliases:["h2","naslov2","podnaslov"],group:"Naslovi"},heading_3:{title:"Naslov 3",subtext:"Naslov podpoglavlja",aliases:["h3","naslov3","podnaslov"],group:"Naslovi"},quote:{title:"Citat",subtext:"Citat ili izvadak",aliases:["quotation","blockquote","bq"],group:"Osnovni blokovi"},numbered_list:{title:"Numerirani popis",subtext:"Popis s numeriranim stavkama",aliases:["poredaniPopis","stavkaPopisa","popis","numeriraniPopis","numerirani popis"],group:"Osnovni blokovi"},bullet_list:{title:"Popis s oznakama",subtext:"Popis s grafičkim oznakama",aliases:["neporedaniPopis","stavkaPopisa","popis","popisSOznakama","popis s oznakama"],group:"Osnovni blokovi"},check_list:{title:"Check lista",subtext:"Popis s kućicama za označavanje",aliases:["neporedaniPopis","stavkaPopisa","popis","popisZaProvjeru","check lista","označeni popis","kućicaZaOznačavanje"],group:"Osnovni blokovi"},paragraph:{title:"Normalan tekst",subtext:"Tekst paragrafa",aliases:["p","paragraf"],group:"Osnovni blokovi"},table:{title:"Tablica",subtext:"Tablica s podesivim ćelijama",aliases:["tablica"],group:"Napredno"},code_block:{title:"Blok koda",subtext:"Blok koda sa sintaksnim isticanjem",aliases:["code","pre"],group:"Osnovni blokovi"},page_break:{title:"Prijelom stranice",subtext:"Razdjelnik stranice",aliases:["page","break","separator","prijelom","razdjelnik"],group:"Osnovni blokovi"},image:{title:"Slika",subtext:"Slika s podesivom veličinom i natpisom",aliases:["slika","učitavanjeSlike","učitaj","img","fotografija","medij","url"],group:"Mediji"},video:{title:"Video",subtext:"Video s podesivom veličinom i natpisom",aliases:["video","učitavanjeVidea","učitaj","mp4","film","medij","url"],group:"Mediji"},audio:{title:"Audio",subtext:"Audio s natpisom",aliases:["audio","učitavanjeAudija","učitaj","mp3","zvuk","medij","url"],group:"Mediji"},file:{title:"Datoteka",subtext:"Ugrađena datoteka",aliases:["datoteka","učitaj","ugradi","medij","url"],group:"Mediji"},emoji:{title:"Emoji",subtext:"Pretraži i umetni emoji",aliases:["emoji","emotikon","emocija","lice"],group:"Ostalo"}},placeholders:{default:"Unesi tekst ili upiši ‘/’ za naredbe",heading:"Naslov",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napišite komentar...",edit_comment:"Uredi komentar...",comment_reply:"Dodaj komentar..."},file_blocks:{image:{add_button_text:"Dodaj sliku"},video:{add_button_text:"Dodaj video"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj datoteku"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Meni za dodavanje bloka"},drag_handle:{delete_menuitem:"Ukloni",colors_menuitem:"Boje",header_row_menuitem:"Zaglavni redak",header_column_menuitem:"Zaglavni stupac"},table_handle:{delete_column_menuitem:"Ukloni stupac",delete_row_menuitem:"Ukloni redak",add_left_menuitem:"Dodaj stupac lijevo",add_right_menuitem:"Dodaj stupac desno",add_above_menuitem:"Dodaj redak iznad",add_below_menuitem:"Dodaj redak ispod",split_cell_menuitem:"Podijeli ćeliju",merge_cells_menuitem:"Spoji ćelije",background_color_menuitem:"Boja pozadine"},suggestion_menu:{no_items_title:"Stavke nisu pronađene",loading:"Učitavanje…"},color_picker:{text_title:"Tekst",background_title:"Pozadina",colors:{default:"Zadano",gray:"Siva",brown:"Smeđa",red:"Crvena",orange:"Narančasta",yellow:"Žuta",green:"Zelena",blue:"Plava",purple:"Ljubičasta",pink:"Ružičasta"}},formatting_toolbar:{bold:{tooltip:"Podebljano",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kurziv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podcrtano",secondary_tooltip:"Mod+U"},strike:{tooltip:"Precrtano",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Boja"},link:{tooltip:"Kreiraj poveznicu",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Uredi natpis",input_placeholder:"Uredi natpis"},file_replace:{tooltip:{image:"Zamijeni sliku",video:"Zamijeni video",audio:"Zamijeni audio",file:"Zamijeni datoteku"}},file_rename:{tooltip:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"},input_placeholder:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"}},file_download:{tooltip:{image:"Preuzmi sliku",video:"Preuzmi video",audio:"Preuzmi audio",file:"Preuzmi datoteku"}},file_delete:{tooltip:{image:"Ukloni sliku",video:"Ukloni video",audio:"Ukloni audio",file:"Ukloni datoteku"}},file_preview_toggle:{tooltip:"Prikaži/sakrij pregled"},nest:{tooltip:"Ugnijezdi blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Razgnijezdi blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Poravnaj tekst lijevo"},align_center:{tooltip:"Poravnaj tekst po sredini"},align_right:{tooltip:"Poravnaj tekst desno"},align_justify:{tooltip:"Poravnaj tekst obostrano"},table_cell_merge:{tooltip:"Spoji ćelije"},comment:{tooltip:"Dodaj komentar"}},file_panel:{upload:{title:"Učitaj",file_placeholder:{image:"Učitaj sliku",video:"Učitaj video",audio:"Učitaj audio",file:"Učitaj datoteku"},upload_error:"Pogreška: Učitavanje nije uspjelo"},embed:{title:"Ugradi",embed_button:{image:"Ugradi sliku",video:"Ugradi video",audio:"Ugradi audio",file:"Ugradi datoteku"},url_placeholder:"Dodaj URL"}},link_toolbar:{delete:{tooltip:"Ukloni poveznicu"},edit:{text:"Uredi poveznicu",tooltip:"Uredi"},open:{tooltip:"Otvori u novoj kartici"},form:{title_placeholder:"Uredi naslov",url_placeholder:"Uredi URL"}},comments:{actions:{add_reaction:"Dodaj reakciju",resolve:"Riješi",edit_comment:"Uredi komentar",delete_comment:"Obriši komentar",more_actions:"Više radnji"},reactions:{reacted_by:"Reagirao/la"},sidebar:{marked_as_resolved:"Označeno kao riješeno",more_replies:t=>`${t} dodatnih odgovora`}},generic:{ctrl_shortcut:"Ctrl"}},sye={slash_menu:{heading:{title:"Fyrirsögn 1",subtext:"Notað fyrir efstu fyrirsögn",aliases:["h","fyrirsogn1","h1"],group:"Fyrirsagnir"},heading_2:{title:"Fyrirsögn 2",subtext:"Notað fyrir lykilhluta",aliases:["h2","fyrirsogn2","undirfyrirsogn"],group:"Fyrirsagnir"},heading_3:{title:"Fyrirsögn 3",subtext:"Notað fyrir undirhluta og hópfyrirsagnir",aliases:["h3","fyrirsogn3","undirfyrirsogn"],group:"Fyrirsagnir"},quote:{title:"Tilvitnun",subtext:"Tilvitnun eða útdráttur",aliases:["quotation","blockquote","bq"],group:"Grunnblokkar"},numbered_list:{title:"Númeruð listi",subtext:"Notað til að birta númeraðan lista",aliases:["ol","li","listi","numeradurlisti"],group:"Grunnblokkar"},bullet_list:{title:"Punktalisti",subtext:"Notað til að birta óraðaðan lista",aliases:["ul","li","listi","punktalisti"],group:"Grunnblokkar"},check_list:{title:"Athugunarlisti",subtext:"Notað til að sýna lista með gátreitum",aliases:["ul","li","listi","athugunarlisti","merktur listi"],group:"Grunnblokkar"},paragraph:{title:"Málsgrein",subtext:"Notað fyrir meginmál skjalsins",aliases:["p","malsgrein"],group:"Grunnblokkar"},code_block:{title:"Kóðablokk",subtext:"Kóðablokkur með litskiptingu",aliases:["kóði","pre"],group:"Grunnblokkar"},page_break:{title:"Síðubrot",subtext:"Síðuskil",aliases:["page","break","separator","síðubrot","síðuskil"],group:"Grunnblokkir"},table:{title:"Tafla",subtext:"Notað fyrir töflur",aliases:["tafla"],group:"Ítarlegt"},image:{title:"Mynd",subtext:"Settu inn mynd",aliases:["mynd","myndaupphlaed","upphlaed","img","mynd","media","url"],group:"Miðlar"},video:{title:"Myndband",subtext:"Setja inn myndband",aliases:["myndband","videoUpphala","hlaða upp","mp4","kvikmynd","miðill","url"],group:"Miðill"},audio:{title:"Hljóð",subtext:"Setja inn hljóð",aliases:["hljóð","audioUpphala","hlaða upp","mp3","hljóð","miðill","url"],group:"Miðlar"},file:{title:"Skrá",subtext:"Setja inn skrá",aliases:["skrá","hlaða upp","fella inn","miðill","url"],group:"Miðlar"},emoji:{title:"Emoji",subtext:"Notað til að setja inn smámynd",aliases:["emoji","andlitsávísun","tilfinningar","andlit"],group:"Annað"}},placeholders:{default:"Sláðu inn texta eða skrifaðu '/' fyrir skipanir",heading:"Fyrirsögn",bulletListItem:"Listi",numberedListItem:"Listi",checkListItem:"Listi",new_comment:"Skrifaðu athugasemd...",edit_comment:"Breyta athugasemd...",comment_reply:"Bæta við athugasemd..."},file_blocks:{image:{add_button_text:"Bæta við mynd"},video:{add_button_text:"Bæta við myndbandi"},audio:{add_button_text:"Bæta við hljóði"},file:{add_button_text:"Bæta við skrá"}},side_menu:{add_block_label:"Bæta við blokki",drag_handle_label:"Opna blokkarvalmynd"},drag_handle:{delete_menuitem:"Eyða",colors_menuitem:"Litir",header_row_menuitem:"Höfuðröð",header_column_menuitem:"Höfuðdálkur"},table_handle:{delete_column_menuitem:"Eyða dálki",delete_row_menuitem:"Eyða röð",add_left_menuitem:"Bæta dálki við til vinstri",add_right_menuitem:"Bæta dálki við til hægri",add_above_menuitem:"Bæta röð við fyrir ofan",add_below_menuitem:"Bæta röð við fyrir neðan",split_cell_menuitem:"Splita dálk",merge_cells_menuitem:"Sameina dálka",background_color_menuitem:"Breyta bakgrunni"},suggestion_menu:{no_items_title:"Engir hlutir fundust",loading:"Hleður…"},color_picker:{text_title:"Texti",background_title:"Bakgrunnur",colors:{default:"Sjálfgefið",gray:"Grár",brown:"Brúnn",red:"Rauður",orange:"Appelsínugulur",yellow:"Gulur",green:"Grænn",blue:"Blár",purple:"Fjólublár",pink:"Bleikur"}},formatting_toolbar:{bold:{tooltip:"Feitletrað",secondary_tooltip:"Mod+B"},italic:{tooltip:"Skáletrað",secondary_tooltip:"Mod+I"},underline:{tooltip:"Undirstrikað",secondary_tooltip:"Mod+U"},strike:{tooltip:"Yfirstrikað",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kóði",secondary_tooltip:""},colors:{tooltip:"Litir"},link:{tooltip:"Búa til tengil",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Breyta myndatexta",input_placeholder:"Breyta myndatexta"},file_replace:{tooltip:{image:"Skipta um mynd",video:"Skipta um myndband",audio:"Skipta um hljóð",file:"Skipta um skrá"}},file_rename:{tooltip:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hljóð",file:"Endurnefna skrá"},input_placeholder:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hljóð",file:"Endurnefna skrá"}},file_download:{tooltip:{image:"Sækja mynd",video:"Sækja myndband",audio:"Sækja hljóð",file:"Sækja skrá"}},file_delete:{tooltip:{image:"Eyða mynd",video:"Eyða myndbandi",audio:"Eyða hljóði",file:"Eyða skrá"}},file_preview_toggle:{tooltip:"Skipta um forskoðun"},nest:{tooltip:"Fella blokk saman",secondary_tooltip:"Tab"},unnest:{tooltip:"Afþýða blokk",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Vinstrijafna texta"},align_center:{tooltip:"Miðjustilla texta"},align_right:{tooltip:"Hægrijafna texta"},align_justify:{tooltip:"Jafna texta"},table_cell_merge:{tooltip:"Sameina dálka"},comment:{tooltip:"Bæta við athugasemd"}},file_panel:{upload:{title:"Hlaða upp",file_placeholder:{image:"Hlaða upp mynd",video:"Hlaða upp myndband",audio:"Hlaða upp hljóð",file:"Hlaða upp skrá"},upload_error:"Villa: Upphleðsla mistókst"},embed:{title:"Innsetja",embed_button:{image:"Innsetja mynd",video:"Innsetja myndband",audio:"Innsetja hljóð",file:"Innsetja skrá"},url_placeholder:"Sláðu inn URL"}},link_toolbar:{delete:{tooltip:"Fjarlægja tengil"},edit:{text:"Breyta tengli",tooltip:"Breyta"},open:{tooltip:"Opna í nýjum flipa"},form:{title_placeholder:"Breyta titli",url_placeholder:"Breyta URL"}},comments:{actions:{add_reaction:"Bæta við viðbrögðum",resolve:"Leysa",edit_comment:"Breyta athugasemd",delete_comment:"Eyða athugasemd",more_actions:"Fleiri aðgerðir"},reactions:{reacted_by:"Brást við af"},sidebar:{marked_as_resolved:"Merkt sem leyst",more_replies:t=>`${t} fleiri svör`}},generic:{ctrl_shortcut:"Ctrl"}},lye={slash_menu:{heading:{title:"Intestazione 1",subtext:"Intestazione di primo livello",aliases:["h","intestazione1","h1"],group:"Intestazioni"},heading_2:{title:"Intestazione 2",subtext:"Intestazione di sezione chiave",aliases:["h2","intestazione2","sottotitolo"],group:"Intestazioni"},heading_3:{title:"Intestazione 3",subtext:"Intestazione di sottosezione e gruppo",aliases:["h3","intestazione3","sottotitolo"],group:"Intestazioni"},quote:{title:"Citazione",subtext:"Citazione o estratto",aliases:["quotation","blockquote","bq"],group:"Blocchi Base"},numbered_list:{title:"Elenco Numerato",subtext:"Elenco con elementi ordinati",aliases:["ol","li","elenco","elenconumerato","elenco numerato"],group:"Blocchi Base"},bullet_list:{title:"Elenco Puntato",subtext:"Elenco con elementi non ordinati",aliases:["ul","li","elenco","elencopuntato","elenco puntato"],group:"Blocchi Base"},check_list:{title:"Elenco di Controllo",subtext:"Elenco con caselle di controllo",aliases:["ul","li","elenco","elencocontrollo","elenco controllo","elenco verificato","casella di controllo"],group:"Blocchi Base"},paragraph:{title:"Paragrafo",subtext:"Il corpo del tuo documento",aliases:["p","paragrafo"],group:"Blocchi Base"},code_block:{title:"Blocco di Codice",subtext:"Blocco di codice con evidenziazione della sintassi",aliases:["code","pre"],group:"Blocchi Base"},page_break:{title:"Interruzione di Pagina",subtext:"Separatore di pagina",aliases:["pagina","interruzione","separatore"],group:"Blocchi base"},table:{title:"Tabella",subtext:"Tabella con celle modificabili",aliases:["tabella"],group:"Avanzato"},image:{title:"Immagine",subtext:"Immagine ridimensionabile con didascalia",aliases:["immagine","caricaImmagine","carica","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Video ridimensionabile con didascalia",aliases:["video","caricaVideo","carica","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Audio incorporato con didascalia",aliases:["audio","caricaAudio","carica","mp3","suono","media","url"],group:"Media"},file:{title:"File",subtext:"File incorporato",aliases:["file","carica","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Cerca e inserisci un'emoji",aliases:["emoji","emote","emozione","faccia"],group:"Altri"}},placeholders:{default:"Inserisci testo o digita '/' per i comandi",heading:"Intestazione",bulletListItem:"Elenco",numberedListItem:"Elenco",checkListItem:"Elenco",new_comment:"Scrivi un commento...",edit_comment:"Modifica commento...",comment_reply:"Aggiungi commento..."},file_blocks:{image:{add_button_text:"Aggiungi immagine"},video:{add_button_text:"Aggiungi video"},audio:{add_button_text:"Aggiungi audio"},file:{add_button_text:"Aggiungi file"}},side_menu:{add_block_label:"Aggiungi blocco",drag_handle_label:"Apri menu blocco"},drag_handle:{delete_menuitem:"Elimina",colors_menuitem:"Colori",header_row_menuitem:"Riga intestazione",header_column_menuitem:"Colonna intestazione"},table_handle:{delete_column_menuitem:"Elimina colonna",delete_row_menuitem:"Elimina riga",add_left_menuitem:"Aggiungi colonna a sinistra",add_right_menuitem:"Aggiungi colonna a destra",add_above_menuitem:"Aggiungi riga sopra",add_below_menuitem:"Aggiungi riga sotto",split_cell_menuitem:"Dividi cella",merge_cells_menuitem:"Unisci celle",background_color_menuitem:"Colore di sfondo"},suggestion_menu:{no_items_title:"Nessun elemento trovato",loading:"Caricamento…"},color_picker:{text_title:"Testo",background_title:"Sfondo",colors:{default:"Predefinito",gray:"Grigio",brown:"Marrone",red:"Rosso",orange:"Arancione",yellow:"Giallo",green:"Verde",blue:"Blu",purple:"Viola",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Grassetto",secondary_tooltip:"Cmd+B"},italic:{tooltip:"Corsivo",secondary_tooltip:"Cmd+I"},underline:{tooltip:"Sottolineato",secondary_tooltip:"Cmd+U"},strike:{tooltip:"Barrato",secondary_tooltip:"Cmd+Shift+S"},code:{tooltip:"Codice",secondary_tooltip:""},colors:{tooltip:"Colori"},link:{tooltip:"Crea link",secondary_tooltip:"Cmd+K"},file_caption:{tooltip:"Modifica didascalia",input_placeholder:"Modifica didascalia"},file_replace:{tooltip:{image:"Sostituisci immagine",video:"Sostituisci video",audio:"Sostituisci audio",file:"Sostituisci file"}},file_rename:{tooltip:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"},input_placeholder:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"}},file_download:{tooltip:{image:"Scarica immagine",video:"Scarica video",audio:"Scarica audio",file:"Scarica file"}},file_delete:{tooltip:{image:"Elimina immagine",video:"Elimina video",audio:"Elimina audio",file:"Elimina file"}},file_preview_toggle:{tooltip:"Attiva/disattiva anteprima"},nest:{tooltip:"Annida blocco",secondary_tooltip:"Tab"},unnest:{tooltip:"Disannida blocco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Allinea testo a sinistra"},align_center:{tooltip:"Allinea testo al centro"},align_right:{tooltip:"Allinea testo a destra"},align_justify:{tooltip:"Giustifica testo"},table_cell_merge:{tooltip:"Unisci celle"},comment:{tooltip:"Aggiungi commento"}},file_panel:{upload:{title:"Carica",file_placeholder:{image:"Carica immagine",video:"Carica video",audio:"Carica audio",file:"Carica file"},upload_error:"Errore: Caricamento fallito"},embed:{title:"Incorpora",embed_button:{image:"Incorpora immagine",video:"Incorpora video",audio:"Incorpora audio",file:"Incorpora file"},url_placeholder:"Inserisci URL"}},link_toolbar:{delete:{tooltip:"Rimuovi link"},edit:{text:"Modifica link",tooltip:"Modifica"},open:{tooltip:"Apri in una nuova scheda"},form:{title_placeholder:"Modifica titolo",url_placeholder:"Modifica URL"}},comments:{actions:{add_reaction:"Aggiungi reazione",resolve:"Risolvi",edit_comment:"Modifica commento",delete_comment:"Elimina commento",more_actions:"Altre azioni"},reactions:{reacted_by:"Reagito da"},sidebar:{marked_as_resolved:"Contrassegnato come risolto",more_replies:t=>`${t} altre risposte`}},generic:{ctrl_shortcut:"Ctrl"}},aye={slash_menu:{heading:{title:"見出し１",subtext:"トップレベルの見出しに使用",aliases:["h","見出し１","h1","大見出し"],group:"見出し"},heading_2:{title:"見出し２",subtext:"重要なセクションに使用",aliases:["h2","見出し2","subheading","中見出し"],group:"見出し"},heading_3:{title:"見出し３",subtext:"セクションやグループの見出しに使用",aliases:["h3","見出し3","subheading","小見出し"],group:"見出し"},quote:{title:"引用",subtext:"引用または抜粋",aliases:["quotation","blockquote","bq"],group:"基本ブロック"},numbered_list:{title:"番号付リスト",subtext:"番号付リストを表示するために使用",aliases:["ol","li","numberedlist","numbered list","リスト","番号付リスト","番号 リスト"],group:"基本ブロック"},bullet_list:{title:"箇条書き",subtext:"箇条書きを表示するために使用",aliases:["ul","li","bulletlist","bullet list","リスト","箇条書きリスト"],group:"基本ブロック"},check_list:{title:"チェックリスト",subtext:"チェックボックス付きリストを表示するために使用されます",aliases:["ul","li","list","checklist","checked list","リスト","チェックリスト","チェックされたリスト"],group:"基本ブロック"},paragraph:{title:"標準テキスト",subtext:"本文に使用",aliases:["p","paragraph","標準テキスト"],group:"基本ブロック"},code_block:{title:"コードブロック",subtext:"シンタックスハイライト付きのコードブロック",aliases:["code","pre","コード","コードブロック"],group:"基本ブロック"},page_break:{title:"改ページ",subtext:"ページ区切り",aliases:["page","break","separator","改ページ","区切り"],group:"基本ブロック"},table:{title:"表",subtext:"表に使用",aliases:["table","表","テーブル"],group:"高度なブロック"},image:{title:"画像",subtext:"画像を挿入",aliases:["image","imageUpload","upload","img","picture","media","url","画像"],group:"メディア"},video:{title:"ビデオ",subtext:"ビデオを挿入",aliases:["video","videoUpload","upload","mp4","film","media","url","ビデオ"],group:"メディア"},audio:{title:"オーディオ",subtext:"オーディオを挿入",aliases:["audio","audioUpload","upload","mp3","sound","media","url","オーディオ"],group:"メディア"},file:{title:"ファイル",subtext:"ファイルを挿入",aliases:["file","upload","embed","media","url","ファイル"],group:"メディア"},emoji:{title:"絵文字",subtext:"絵文字を挿入するために使用します",aliases:["絵文字","顔文字","感情表現","顔"],group:"その他"}},placeholders:{default:"テキストを入力するか'/' を入力してコマンド選択",heading:"見出し",bulletListItem:"リストを追加",numberedListItem:"リストを追加",checkListItem:"リストを追加",new_comment:"コメントを書く...",edit_comment:"コメントを編集...",comment_reply:"コメントを追加..."},file_blocks:{image:{add_button_text:"画像を追加"},video:{add_button_text:"ビデオを追加"},audio:{add_button_text:"オーディオを追加"},file:{add_button_text:"ファイルを追加"}},side_menu:{add_block_label:"ブロックを追加",drag_handle_label:"ブロックメニュー"},drag_handle:{delete_menuitem:"削除",colors_menuitem:"色を変更",header_row_menuitem:"行の見出し",header_column_menuitem:"列の見出し"},table_handle:{delete_column_menuitem:"列を削除",delete_row_menuitem:"行を削除",add_left_menuitem:"左に列を追加",add_right_menuitem:"右に列を追加",add_above_menuitem:"上に行を追加",add_below_menuitem:"下に行を追加",split_cell_menuitem:"セルを分割",merge_cells_menuitem:"セルを結合",background_color_menuitem:"背景色を変更"},suggestion_menu:{no_items_title:"アイテムが見つかりません",loading:"読込中…"},color_picker:{text_title:"文字色",background_title:"背景色",colors:{default:"デフォルト",gray:"グレー",brown:"茶色",red:"赤",orange:"オレンジ",yellow:"黄色",green:"緑",blue:"青",purple:"紫",pink:"ピンク"}},formatting_toolbar:{bold:{tooltip:"太字",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜体",secondary_tooltip:"Mod+I"},underline:{tooltip:"下線",secondary_tooltip:"Mod+U"},strike:{tooltip:"打ち消し",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"コード",secondary_tooltip:""},colors:{tooltip:"色"},link:{tooltip:"リンク",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"キャプションを編集",input_placeholder:"キャプションを編集"},file_replace:{tooltip:{image:"画像を置換",video:"ビデオを置換",audio:"オーディオを置換",file:"ファイルを置換"}},file_rename:{tooltip:{image:"画像の名前を変更",video:"ビデオの名前を変更",audio:"オーディオの名前を変更",file:"ファイルの名前を変更"},input_placeholder:{image:"画像の名前を変更",video:"ビデオの名前を変更",audio:"オーディオの名前を変更",file:"ファイルの名前を変更"}},file_download:{tooltip:{image:"画像をダウンロード",video:"ビデオをダウンロード",audio:"オーディオをダウンロード",file:"ファイルをダウンロード"}},file_delete:{tooltip:{image:"画像を削除",video:"ビデオを削除",audio:"オーディオを削除",file:"ファイルを削除"}},file_preview_toggle:{tooltip:"プレビューの切り替え"},nest:{tooltip:"インデント増",secondary_tooltip:"Tab"},unnest:{tooltip:"インデント減",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"左揃え"},align_center:{tooltip:"中央揃え"},align_right:{tooltip:"右揃え"},align_justify:{tooltip:"両端揃え"},table_cell_merge:{tooltip:"セルを結合"},comment:{tooltip:"コメントを追加"}},file_panel:{upload:{title:"アップロード",file_placeholder:{image:"画像をアップロード",video:"ビデオをアップロード",audio:"オーディオをアップロード",file:"ファイルをアップロード"},upload_error:"エラー: アップロードが失敗しました"},embed:{title:"埋め込み",embed_button:{image:"画像を埋め込む",video:"ビデオを埋め込む",audio:"オーディオを埋め込む",file:"ファイルを埋め込む"},url_placeholder:"URLを入力"}},link_toolbar:{delete:{tooltip:"リンクを解除"},edit:{text:"リンクを編集",tooltip:"編集"},open:{tooltip:"新しいタブでリンクを開く"},form:{title_placeholder:"タイトルを編集",url_placeholder:"URLを編集"}},comments:{actions:{add_reaction:"リアクションを追加",resolve:"解決",edit_comment:"コメントを編集",delete_comment:"コメントを削除",more_actions:"その他の操作"},reactions:{reacted_by:"リアクションした人"},sidebar:{marked_as_resolved:"解決済みとしてマーク",more_replies:t=>`${t} 件の追加返信`}},generic:{ctrl_shortcut:"Ctrl"}},cye={slash_menu:{heading:{title:"제목1",subtext:"섹션 제목(대)",aliases:["h","제목1","h1","대제목"],group:"제목"},heading_2:{title:"제목2",subtext:"섹션 제목(중)",aliases:["h2","제목2","중제목"],group:"제목"},heading_3:{title:"제목3",subtext:"섹션 제목(소)",aliases:["h3","제목3","subheading"],group:"제목"},quote:{title:"인용",subtext:"인용문 또는 발췌",aliases:["quotation","blockquote","bq"],group:"기본 블록"},numbered_list:{title:"번호 매기기 목록",subtext:"번호가 매겨진 목록을 추가합니다.",aliases:["ol","li","목록","번호 매기기 목록","번호 목록"],group:"기본 블록"},bullet_list:{title:"글머리 기호 목록",subtext:"간단한 글머리 기호를 추가합니다.",aliases:["ul","li","목록","글머리 기호 목록","글머리 목록"],group:"기본 블록"},check_list:{title:"체크리스트",subtext:"체크박스가 있는 목록을 표시하는 데 사용",aliases:["ul","li","목록","체크리스트","체크 리스트","체크된 목록","체크박스"],group:"기본 블록"},paragraph:{title:"본문",subtext:"일반 텍스트",aliases:["p","paragraph","본문"],group:"기본 블록"},code_block:{title:"코드 블록",subtext:"구문 강조가 있는 코드 블록",aliases:["code","pre"],group:"기본 블록"},page_break:{title:"페이지 나누기",subtext:"페이지 구분자",aliases:["page","break","separator","페이지","구분자"],group:"기본 블록"},table:{title:"표",subtext:"간단한 표를 추가합니다.",aliases:["표"],group:"고급"},image:{title:"이미지",subtext:"이미지 파일을 업로드합니다.",aliases:["image","imageUpload","upload","img","picture","media","이미지","url"],group:"미디어"},video:{title:"비디오",subtext:"비디오 삽입",aliases:["video","videoUpload","upload","mp4","film","media","동영상","url"],group:"미디어"},audio:{title:"오디오",subtext:"오디오 삽입",aliases:["audio","audioUpload","upload","mp3","sound","media","오디오","url"],group:"미디어"},file:{title:"파일",subtext:"파일 삽입",aliases:["file","upload","embed","media","파일","url"],group:"미디어"},emoji:{title:"이모지",subtext:"이모지 삽입용으로 사용됩니다",aliases:["이모지","emoji","감정 표현","emotion expression","표정","face expression","얼굴","face"],group:"기타"}},placeholders:{default:"텍스트를 입력하거나 /를 입력하여 명령을 입력하세요.",heading:"제목",bulletListItem:"목록",numberedListItem:"목록",checkListItem:"목록",new_comment:"댓글 작성...",edit_comment:"댓글 수정...",comment_reply:"댓글 추가..."},file_blocks:{image:{add_button_text:"이미지 추가"},video:{add_button_text:"비디오 추가"},audio:{add_button_text:"오디오 추가"},file:{add_button_text:"파일 추가"}},side_menu:{add_block_label:"블록 추가",drag_handle_label:"블록 메뉴 열기"},drag_handle:{delete_menuitem:"삭제",colors_menuitem:"색깔",header_row_menuitem:"행 제목",header_column_menuitem:"열 제목"},table_handle:{delete_column_menuitem:"열 1개 삭제",delete_row_menuitem:"행 삭제",add_left_menuitem:"왼쪽에 열 1개 추가",add_right_menuitem:"오른쪽에 열 1개 추가",add_above_menuitem:"위에 행 1개 추가",add_below_menuitem:"아래에 행 1개 추가",split_cell_menuitem:"셀 분할",merge_cells_menuitem:"셀 병합",background_color_menuitem:"배경색 변경"},suggestion_menu:{no_items_title:"항목을 찾을 수 없음",loading:"로딩 중…"},color_picker:{text_title:"텍스트",background_title:"배경",colors:{default:"기본",gray:"회색",brown:"갈색",red:"빨간색",orange:"주황색",yellow:"노란색",green:"녹색",blue:"파란색",purple:"보라색",pink:"분홍색"}},formatting_toolbar:{bold:{tooltip:"진하게",secondary_tooltip:"Mod+B"},italic:{tooltip:"기울임",secondary_tooltip:"Mod+I"},underline:{tooltip:"밑줄",secondary_tooltip:"Mod+U"},strike:{tooltip:"취소선",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"코드",secondary_tooltip:""},colors:{tooltip:"색깔"},link:{tooltip:"링크 만들기",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"이미지 캡션 수정",input_placeholder:"이미지 캡션 수정"},file_replace:{tooltip:{image:"이미지 교체",video:"비디오 교체",audio:"오디오 교체",file:"파일 교체"}},file_rename:{tooltip:{image:"이미지 이름 변경",video:"비디오 이름 변경",audio:"오디오 이름 변경",file:"파일 이름 변경"},input_placeholder:{image:"이미지 이름 변경",video:"비디오 이름 변경",audio:"오디오 이름 변경",file:"파일 이름 변경"}},file_download:{tooltip:{image:"이미지 다운로드",video:"비디오 다운로드",audio:"오디오 다운로드",file:"파일 다운로드"}},file_delete:{tooltip:{image:"이미지 삭제",video:"비디오 삭제",audio:"오디오 삭제",file:"파일 삭제"}},file_preview_toggle:{tooltip:"미리보기 전환"},nest:{tooltip:"중첩 블록",secondary_tooltip:"Tab"},unnest:{tooltip:"비중첩 블록",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"텍스트 왼쪽 맞춤"},align_center:{tooltip:"텍스트 가운데 맞춤"},align_right:{tooltip:"텍스트 오른쪽 맞춤"},align_justify:{tooltip:"텍스트 양쪽 맞춤"},table_cell_merge:{tooltip:"셀 병합"},comment:{tooltip:"코멘트 추가"}},file_panel:{upload:{title:"업로드",file_placeholder:{image:"이미지 업로드",video:"비디오 업로드",audio:"오디오 업로드",file:"파일 업로드"},upload_error:"오류: 업로드 실패"},embed:{title:"임베드",embed_button:{image:"이미지 삽입",video:"비디오 삽입",audio:"오디오 삽입",file:"파일 삽입"},url_placeholder:"URL을 입력하세요."}},link_toolbar:{delete:{tooltip:"링크 삭제"},edit:{text:"링크 수정",tooltip:"수정"},open:{tooltip:"새 탭으로 열기"},form:{title_placeholder:"제목 수정",url_placeholder:"URL 수정"}},comments:{actions:{add_reaction:"반응 추가",resolve:"해결",edit_comment:"댓글 수정",delete_comment:"댓글 삭제",more_actions:"더 많은 작업"},reactions:{reacted_by:"반응한 사람"},sidebar:{marked_as_resolved:"해결됨으로 표시됨",more_replies:t=>`${t}개의 추가 답글`}},generic:{ctrl_shortcut:"Ctrl"}},uye={slash_menu:{heading:{title:"Kop 1",subtext:"Gebruikt voor een hoofdkop",aliases:["h","kop1","h1"],group:"Koppen"},heading_2:{title:"Kop 2",subtext:"Gebruikt voor belangrijke secties",aliases:["h2","kop2","subkop"],group:"Koppen"},heading_3:{title:"Kop 3",subtext:"Gebruikt voor subsecties en groepskoppen",aliases:["h3","kop3","subkop"],group:"Koppen"},quote:{title:"Citaat",subtext:"Citaat of uittreksel",aliases:["quotation","blockquote","bq"],group:"Basisblokken"},numbered_list:{title:"Genummerde Lijst",subtext:"Gebruikt om een genummerde lijst weer te geven",aliases:["ol","li","lijst","genummerdelijst","genummerde lijst"],group:"Basisblokken"},bullet_list:{title:"Puntenlijst",subtext:"Gebruikt om een ongeordende lijst weer te geven",aliases:["ul","li","lijst","puntenlijst","punten lijst"],group:"Basisblokken"},check_list:{title:"Controlelijst",subtext:"Gebruikt om een lijst met selectievakjes weer te geven",aliases:["ul","li","lijst","aangevinkte lijst","selectievakje"],group:"Basisblokken"},paragraph:{title:"Paragraaf",subtext:"Gebruikt voor de hoofdtekst van uw document",aliases:["p","paragraaf"],group:"Basisblokken"},code_block:{title:"Codeblok",subtext:"Codeblok met syntax highlighting",aliases:["code","pre"],group:"Basisblokken"},page_break:{title:"Pagina-einde",subtext:"Paginascheiding",aliases:["page","break","separator","pagina","scheiding"],group:"Basisblokken"},table:{title:"Tabel",subtext:"Gebruikt voor tabellen",aliases:["tabel"],group:"Geavanceerd"},image:{title:"Afbeelding",subtext:"Voeg een afbeelding in",aliases:["afbeelding","imageUpload","upload","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Voeg een video in",aliases:["video","videoUploaden","upload","mp4","film","media","url","drive","dropbox"],group:"Media"},audio:{title:"Audio",subtext:"Voeg audio in",aliases:["audio","audioUploaden","upload","mp3","geluid","media","url"],group:"Media"},file:{title:"Bestand",subtext:"Voeg een bestand in",aliases:["bestand","upload","insluiten","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Gebruikt voor het invoegen van een emoji",aliases:["emoji","emotie-uitdrukking","gezichtsuitdrukking","gezicht"],group:"Overig"}},placeholders:{default:"Voer tekst in of type '/' voor commando's",heading:"Kop",bulletListItem:"Lijst",numberedListItem:"Lijst",checkListItem:"Lijst",new_comment:"Schrijf een reactie...",edit_comment:"Reactie bewerken...",comment_reply:"Reactie toevoegen..."},file_blocks:{image:{add_button_text:"Afbeelding toevoegen"},video:{add_button_text:"Video toevoegen"},audio:{add_button_text:"Audio toevoegen"},file:{add_button_text:"Bestand toevoegen"}},side_menu:{add_block_label:"Nieuw blok",drag_handle_label:"Open blok menu"},drag_handle:{delete_menuitem:"Verwijder",colors_menuitem:"Kleuren",header_row_menuitem:"Kopregel",header_column_menuitem:"Kopkolom"},table_handle:{delete_column_menuitem:"Verwijder kolom",delete_row_menuitem:"Verwijder rij",add_left_menuitem:"Voeg kolom links toe",add_right_menuitem:"Voeg kolom rechts toe",add_above_menuitem:"Voeg rij boven toe",add_below_menuitem:"Voeg rij onder toe",split_cell_menuitem:"Splits cel",merge_cells_menuitem:"Voeg cellen samen",background_color_menuitem:"Achtergrondkleur wijzigen"},suggestion_menu:{no_items_title:"Geen items gevonden",loading:"Laden…"},color_picker:{text_title:"Tekst",background_title:"Achtergrond",colors:{default:"Standaard",gray:"Grijs",brown:"Bruin",red:"Rood",orange:"Oranje",yellow:"Geel",green:"Groen",blue:"Blauw",purple:"Paars",pink:"Roze"}},formatting_toolbar:{bold:{tooltip:"Vet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursief",secondary_tooltip:"Mod+I"},underline:{tooltip:"Onderstrepen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Doorstrepen",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Kleuren"},link:{tooltip:"Maak link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Bewerk onderschrift",input_placeholder:"Bewerk onderschrift"},file_replace:{tooltip:{image:"Afbeelding vervangen",video:"Video vervangen",audio:"Audio vervangen",file:"Bestand vervangen"}},file_rename:{tooltip:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"},input_placeholder:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"}},file_download:{tooltip:{image:"Afbeelding downloaden",video:"Video downloaden",audio:"Audio downloaden",file:"Bestand downloaden"}},file_delete:{tooltip:{image:"Afbeelding verwijderen",video:"Video verwijderen",audio:"Audio verwijderen",file:"Bestand verwijderen"}},file_preview_toggle:{tooltip:"Voorbeeldschakelaar"},nest:{tooltip:"Nest blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Ontnest blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Tekst links uitlijnen"},align_center:{tooltip:"Tekst centreren"},align_right:{tooltip:"Tekst rechts uitlijnen"},align_justify:{tooltip:"Tekst uitvullen"},table_cell_merge:{tooltip:"Voeg cellen samen"},comment:{tooltip:"Commentaar toevoegen"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Afbeelding uploaden",video:"Video uploaden",audio:"Audio uploaden",file:"Bestand uploaden"},upload_error:"Fout: Upload mislukt"},embed:{title:"Insluiten",embed_button:{image:"Afbeelding insluiten",video:"Video insluiten",audio:"Audio insluiten",file:"Bestand insluiten"},url_placeholder:"Voer URL in"}},link_toolbar:{delete:{tooltip:"Verwijder link"},edit:{text:"Bewerk link",tooltip:"Bewerk"},open:{tooltip:"Open in nieuw tabblad"},form:{title_placeholder:"Bewerk titel",url_placeholder:"Bewerk URL"}},comments:{actions:{add_reaction:"Reactie toevoegen",resolve:"Oplossen",edit_comment:"Reactie bewerken",delete_comment:"Reactie verwijderen",more_actions:"Meer acties"},reactions:{reacted_by:"Gereageerd door"},sidebar:{marked_as_resolved:"Gemarkeerd als opgelost",more_replies:t=>`${t} extra reacties`}},generic:{ctrl_shortcut:"Ctrl"}},dye={slash_menu:{heading:{title:"Overskrift 1",subtext:"Toppnivåoverskrift",aliases:["h","overskrift1","h1"],group:"Overskrifter"},heading_2:{title:"Overskrift 2",subtext:"Hovedseksjonsoverskrift",aliases:["h2","overskrift2","underoverskrift"],group:"Overskrifter"},heading_3:{title:"Overskrift 3",subtext:"Underseksjon og gruppeoverskrift",aliases:["h3","overskrift3","underoverskrift"],group:"Overskrifter"},quote:{title:"Sitat",subtext:"Sitat eller utdrag",aliases:["quotation","blockquote","bq"],group:"Grunnleggende blokker"},numbered_list:{title:"Nummerert liste",subtext:"Liste med ordnede elementer",aliases:["ol","li","liste","nummerertliste","nummerert liste"],group:"Grunnleggende blokker"},bullet_list:{title:"Punktliste",subtext:"Liste med uordnede elementer",aliases:["ul","li","liste","punktliste","punkt liste"],group:"Grunnleggende blokker"},check_list:{title:"Sjekkliste",subtext:"Liste med avmerkingsbokser",aliases:["ul","li","liste","sjekkliste","sjekk liste","avmerket liste","avmerkingsboks"],group:"Grunnleggende blokker"},paragraph:{title:"Avsnitt",subtext:"Hoveddelen av dokumentet ditt",aliases:["p","avsnitt"],group:"Grunnleggende blokker"},code_block:{title:"Kodeblokk",subtext:"Kodeblokk med syntaksfremheving",aliases:["kode","pre"],group:"Grunnleggende blokker"},page_break:{title:"Sideskift",subtext:"Sideskilletegn",aliases:["side","skift","skilletegn"],group:"Grunnleggende blokker"},table:{title:"Tabell",subtext:"Tabell med redigerbare celler",aliases:["tabell"],group:"Avansert"},image:{title:"Bilde",subtext:"Justerbart bilde med bildetekst",aliases:["bilde","bildeopplasting","opplasting","img","bilde","media","url"],group:"Media"},video:{title:"Video",subtext:"Justerbar video med bildetekst",aliases:["video","videoopplasting","opplasting","mp4","film","media","url"],group:"Media"},audio:{title:"Lyd",subtext:"legg til lyd med bildetekst",aliases:["lyd","lydopplasting","opplasting","mp3","lyd","media","url"],group:"Media"},file:{title:"Fil",subtext:"Innebygd fil",aliases:["fil","opplasting","innebygd","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Søk etter og legg til en emoji",aliases:["emoji","emote","emosjon","ansikt"],group:"Andre"}},placeholders:{default:"Skriv tekst eller skriv '/' for å vise kommandoer",heading:"Overskrift",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Skriv en kommentar...",edit_comment:"Rediger kommentar...",comment_reply:"Legg til kommentar..."},file_blocks:{image:{add_button_text:"Legg til bilde"},video:{add_button_text:"Legg til video"},audio:{add_button_text:"Legg til lyd"},file:{add_button_text:"Legg til fil"}},side_menu:{add_block_label:"Legg til blokk",drag_handle_label:"Åpne blokkmeny"},drag_handle:{delete_menuitem:"Slett",colors_menuitem:"Farger",header_row_menuitem:"Rad overskrift",header_column_menuitem:"Kolonne overskrift"},table_handle:{delete_column_menuitem:"Slett kolonne",delete_row_menuitem:"Slett rad",add_left_menuitem:"Legg til kolonne til venstre",add_right_menuitem:"Legg til kolonne til høyre",add_above_menuitem:"Legg til rad over",add_below_menuitem:"Legg til rad under",split_cell_menuitem:"Del celle",merge_cells_menuitem:"Slå sammen celler",background_color_menuitem:"Bakgrunnsfarge"},suggestion_menu:{no_items_title:"Ingen elementer funnet",loading:"Laster…"},color_picker:{text_title:"Tekst",background_title:"Bakgrunn",colors:{default:"Standard",gray:"Grå",brown:"Brun",red:"Rød",orange:"Oransje",yellow:"Gul",green:"Grønn",blue:"Blå",purple:"Lilla",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Understrek",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gjennomstrek",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kode",secondary_tooltip:""},colors:{tooltip:"Farger"},link:{tooltip:"Opprett lenke",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Rediger bildetekst",input_placeholder:"Rediger bildetekst"},file_replace:{tooltip:{image:"Bytt ut bilde",video:"Bytt ut video",audio:"Bytt ut lyd",file:"Bytt ut fil"}},file_rename:{tooltip:{image:"Endre navn på bilde",video:"Endre navn på video",audio:"Endre navn på lyd",file:"Endre navn på fil"},input_placeholder:{image:"Endre navn på bilde",video:"Endre navn på video",audio:"Endre navn på lyd",file:"Endre navn på fil"}},file_download:{tooltip:{image:"Last ned bilde",video:"Last ned video",audio:"Last ned lyd",file:"Last ned fil"}},file_delete:{tooltip:{image:"Slett bilde",video:"Slett video",audio:"Slett lyd",file:"Slett fil"}},file_preview_toggle:{tooltip:"Veksle forhåndsvisning"},nest:{tooltip:"Plasser blokk inni",secondary_tooltip:"Tab"},unnest:{tooltip:"Ta blokk ut",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Venstrejuster tekst"},align_center:{tooltip:"Midtstill tekst"},align_right:{tooltip:"Høyrejuster tekst"},align_justify:{tooltip:"Juster tekst"},comment:{tooltip:"Legg til kommentar"},table_cell_merge:{tooltip:"Slå sammen celler"}},file_panel:{upload:{title:"Last opp",file_placeholder:{image:"Last opp bilde",video:"Last opp video",audio:"Last opp lyd",file:"Last opp fil"},upload_error:"Feil: Opplasting mislyktes"},embed:{title:"Bygg inn",embed_button:{image:"Bygg inn bilde",video:"Bygg inn video",audio:"Bygg inn lyd",file:"Bygg inn fil"},url_placeholder:"Skriv inn URL"}},link_toolbar:{delete:{tooltip:"Fjern lenke"},edit:{text:"Rediger lenke",tooltip:"Rediger"},open:{tooltip:"Åpne i ny fane"},form:{title_placeholder:"Rediger tittel",url_placeholder:"Rediger URL"}},comments:{actions:{add_reaction:"Legg til reaksjon",resolve:"Løs",edit_comment:"Rediger kommentar",delete_comment:"Slett kommentar",more_actions:"Flere handlinger"},reactions:{reacted_by:"Reagert av"},sidebar:{marked_as_resolved:"Merket som løst",more_replies:t=>`${t} flere svar`}},generic:{ctrl_shortcut:"Ctrl"}},fye={slash_menu:{heading:{title:"Nagłówek 1",subtext:"Używany dla nagłówka najwyższego poziomu",aliases:["h","naglowek1","h1"],group:"Nagłówki"},heading_2:{title:"Nagłówek 2",subtext:"Używany dla kluczowych sekcji",aliases:["h2","naglowek2","podnaglowek"],group:"Nagłówki"},heading_3:{title:"Nagłówek 3",subtext:"Używany dla podsekcji i grup nagłówków",aliases:["h3","naglowek3","podnaglowek"],group:"Nagłówki"},quote:{title:"Cytat",subtext:"Cytat lub fragment",aliases:["quotation","blockquote","bq"],group:"Podstawowe bloki"},numbered_list:{title:"Lista numerowana",subtext:"Używana do wyświetlania listy numerowanej",aliases:["ol","li","lista","numerowana lista"],group:"Podstawowe bloki"},bullet_list:{title:"Lista punktowana",subtext:"Używana do wyświetlania listy bez numeracji",aliases:["ul","li","lista","punktowana lista"],group:"Podstawowe bloki"},check_list:{title:"Lista z polami wyboru",subtext:"Używana do wyświetlania listy z polami wyboru",aliases:["ul","li","lista","lista z polami wyboru","pole wyboru"],group:"Podstawowe bloki"},paragraph:{title:"Akapit",subtext:"Używany dla treści dokumentu",aliases:["p","akapit"],group:"Podstawowe bloki"},code_block:{title:"Blok kodu",subtext:"Blok kodu z podświetleniem składni",aliases:["kod","pre"],group:"Podstawowe bloki"},page_break:{title:"Podział strony",subtext:"Separator strony",aliases:["page","break","separator","podział","separator"],group:"Podstawowe bloki"},table:{title:"Tabela",subtext:"Używana do tworzenia tabel",aliases:["tabela"],group:"Zaawansowane"},image:{title:"Zdjęcie",subtext:"Wstaw zdjęcie",aliases:["obraz","wrzućZdjęcie","wrzuć","img","zdjęcie","media","url"],group:"Media"},video:{title:"Wideo",subtext:"Wstaw wideo",aliases:["wideo","wrzućWideo","wrzuć","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Wstaw audio",aliases:["audio","wrzućAudio","wrzuć","mp3","dźwięk","media","url"],group:"Media"},file:{title:"Plik",subtext:"Wstaw plik",aliases:["plik","wrzuć","wstaw","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Używane do wstawiania emoji",aliases:["emoji","emotka","wyrażenie emocji","twarz"],group:"Inne"}},placeholders:{default:"Wprowadź tekst lub wpisz '/' aby użyć poleceń",heading:"Nagłówek",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napisz komentarz...",edit_comment:"Edytuj komentarz...",comment_reply:"Dodaj komentarz..."},file_blocks:{image:{add_button_text:"Dodaj zdjęcie"},video:{add_button_text:"Dodaj wideo"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj plik"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Otwórz menu bloków"},drag_handle:{delete_menuitem:"Usuń",colors_menuitem:"Kolory",header_row_menuitem:"Nagłówek wiersza",header_column_menuitem:"Nagłówek kolumny"},table_handle:{delete_column_menuitem:"Usuń kolumnę",delete_row_menuitem:"Usuń wiersz",add_left_menuitem:"Dodaj kolumnę po lewej",add_right_menuitem:"Dodaj kolumnę po prawej",add_above_menuitem:"Dodaj wiersz powyżej",add_below_menuitem:"Dodaj wiersz poniżej",split_cell_menuitem:"Podziel komórkę",merge_cells_menuitem:"Połącz komórki",background_color_menuitem:"Zmień kolor tła"},suggestion_menu:{no_items_title:"Nie znaleziono elementów",loading:"Ładowanie…"},color_picker:{text_title:"Tekst",background_title:"Tło",colors:{default:"Domyślny",gray:"Szary",brown:"Brązowy",red:"Czerwony",orange:"Pomarańczowy",yellow:"Żółty",green:"Zielony",blue:"Niebieski",purple:"Fioletowy",pink:"Różowy"}},formatting_toolbar:{bold:{tooltip:"Pogrubienie",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursywa",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podkreślenie",secondary_tooltip:"Mod+U"},strike:{tooltip:"Przekreślenie",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Kolory"},link:{tooltip:"Utwórz link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Zmień podpis",input_placeholder:"Zmień podpis"},file_replace:{tooltip:{image:"Zmień obraz",video:"Zmień wideo",audio:"Zmień audio",file:"Zmień plik"}},file_rename:{tooltip:{image:"Zmień nazwę zdjęcia",video:"Zmień nazwę wideo",audio:"Zmień nazwę audio",file:"Zmień nazwę pliku"},input_placeholder:{image:"Zmień nazwę zdjęcia",video:"Zmień nazwę wideo",audio:"Zmień nazwę audio",file:"Zmień nazwę pliku"}},file_download:{tooltip:{image:"Pobierz zdjęcie",video:"Pobierz wideo",audio:"Pobierz audio",file:"Pobierz plik"}},file_delete:{tooltip:{image:"Usuń zdjęcie",video:"Usuń wideo",audio:"Usuń audio",file:"Usuń plik"}},file_preview_toggle:{tooltip:"Przełącz podgląd"},nest:{tooltip:"Zagnieźdź blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Odgagnieźdź blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Wyrównaj tekst do lewej"},align_center:{tooltip:"Wyśrodkuj tekst"},align_right:{tooltip:"Wyrównaj tekst do prawej"},align_justify:{tooltip:"Wyjustuj tekst"},table_cell_merge:{tooltip:"Połącz komórki"},comment:{tooltip:"Dodaj komentarz"}},file_panel:{upload:{title:"Wrzuć",file_placeholder:{image:"Wrzuć zdjęcie",video:"Wrzuć wideo",audio:"Wrzuć audio",file:"Wrzuć plik"},upload_error:"Błąd: Przesyłanie nie powiodło się"},embed:{title:"Wstaw",embed_button:{image:"Wstaw zdjęice",video:"Wstaw wideo",audio:"Wstaw audio",file:"Wstaw plik"},url_placeholder:"Wprowadź URL"}},link_toolbar:{delete:{tooltip:"Usuń link"},edit:{text:"Edytuj link",tooltip:"Edytuj"},open:{tooltip:"Otwórz w nowej karcie"},form:{title_placeholder:"Edytuj tytuł",url_placeholder:"Edytuj URL"}},comments:{actions:{add_reaction:"Dodaj reakcję",resolve:"Rozwiąż",edit_comment:"Edytuj komentarz",delete_comment:"Usuń komentarz",more_actions:"Więcej akcji"},reactions:{reacted_by:"Zareagowali"},sidebar:{marked_as_resolved:"Oznaczone jako rozwiązane",more_replies:t=>`${t} więcej odpowiedzi`}},generic:{ctrl_shortcut:"Ctrl"}},hye={slash_menu:{heading:{title:"Título",subtext:"Usado para um título de nível superior",aliases:["h","titulo1","h1"],group:"Títulos"},heading_2:{title:"Título 2",subtext:"Usado para seções principais",aliases:["h2","titulo2","subtitulo"],group:"Títulos"},heading_3:{title:"Título 3",subtext:"Usado para subseções e títulos de grupo",aliases:["h3","titulo3","subtitulo"],group:"Títulos"},quote:{title:"Citação",subtext:"Citação ou trecho",aliases:["quotation","blockquote","bq"],group:"Blocos básicos"},numbered_list:{title:"Lista Numerada",subtext:"Usado para exibir uma lista numerada",aliases:["ol","li","lista","listanumerada","lista numerada"],group:"Blocos básicos"},bullet_list:{title:"Lista com Marcadores",subtext:"Usado para exibir uma lista não ordenada",aliases:["ul","li","lista","listamarcadores","lista com marcadores"],group:"Blocos básicos"},check_list:{title:"Lista de verificação",subtext:"Usado para exibir uma lista com caixas de seleção",aliases:["ul","li","lista","lista de verificação","lista marcada","caixa de seleção"],group:"Blocos básicos"},paragraph:{title:"Parágrafo",subtext:"Usado para o corpo do seu documento",aliases:["p","paragrafo"],group:"Blocos básicos"},code_block:{title:"Bloco de Código",subtext:"Usado para exibir código com destaque de sintaxe",aliases:["codigo","pre"],group:"Blocos básicos"},page_break:{title:"Quebra de página",subtext:"Separador de página",aliases:["page","break","separator","quebra","separador"],group:"Blocos básicos"},table:{title:"Tabela",subtext:"Usado para tabelas",aliases:["tabela"],group:"Avançado"},image:{title:"Imagem",subtext:"Inserir uma imagem",aliases:["imagem","uploadImagem","upload","img","foto","media","url"],group:"Mídia"},video:{title:"Vídeo",subtext:"Inserir um vídeo",aliases:["vídeo","uploadVídeo","upload","mp4","filme","mídia","url"],group:"Mídia"},audio:{title:"Áudio",subtext:"Inserir um áudio",aliases:["áudio","uploadÁudio","upload","mp3","som","mídia","url"],group:"Mídia"},file:{title:"Arquivo",subtext:"Inserir um arquivo",aliases:["arquivo","upload","incorporar","mídia","url"],group:"Mídia"},emoji:{title:"Emoji",subtext:"Usado para inserir um emoji",aliases:["emoji","emoticon","expressão emocional","rosto"],group:"Outros"}},placeholders:{default:"Digite texto ou use '/' para comandos",heading:"Título",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escreva um comentário...",edit_comment:"Editar comentário...",comment_reply:"Adicionar comentário..."},file_blocks:{image:{add_button_text:"Adicionar imagem"},video:{add_button_text:"Adicionar vídeo"},audio:{add_button_text:"Adicionar áudio"},file:{add_button_text:"Adicionar arquivo"}},side_menu:{add_block_label:"Adicionar bloco",drag_handle_label:"Abrir menu do bloco"},drag_handle:{delete_menuitem:"Excluir",colors_menuitem:"Cores",header_row_menuitem:"Cabeçalho de linha",header_column_menuitem:"Cabeçalho de coluna"},table_handle:{delete_column_menuitem:"Excluir coluna",delete_row_menuitem:"Excluir linha",add_left_menuitem:"Adicionar coluna à esquerda",add_right_menuitem:"Adicionar coluna à direita",add_above_menuitem:"Adicionar linha acima",add_below_menuitem:"Adicionar linha abaixo",split_cell_menuitem:"Dividir célula",merge_cells_menuitem:"Juntar células",background_color_menuitem:"Alterar cor de fundo"},suggestion_menu:{no_items_title:"Nenhum item encontrado",loading:"Carregando…"},color_picker:{text_title:"Texto",background_title:"Fundo",colors:{default:"Padrão",gray:"Cinza",brown:"Marrom",red:"Vermelho",orange:"Laranja",yellow:"Amarelo",green:"Verde",blue:"Azul",purple:"Roxo",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrito",secondary_tooltip:"Mod+B"},italic:{tooltip:"Itálico",secondary_tooltip:"Mod+I"},underline:{tooltip:"Sublinhado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Riscado",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Cores"},link:{tooltip:"Criar link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar legenda",input_placeholder:"Editar legenda"},file_replace:{tooltip:{image:"Substituir imagem",video:"Substituir vídeo",audio:"Substituir áudio",file:"Substituir arquivo"}},file_rename:{tooltip:{image:"Renomear imagem",video:"Renomear vídeo",audio:"Renomear áudio",file:"Renomear arquivo"},input_placeholder:{image:"Renomear imagem",video:"Renomear vídeo",audio:"Renomear áudio",file:"Renomear arquivo"}},file_download:{tooltip:{image:"Baixar imagem",video:"Baixar vídeo",audio:"Baixar áudio",file:"Baixar arquivo"}},file_delete:{tooltip:{image:"Excluir imagem",video:"Excluir vídeo",audio:"Excluir áudio",file:"Excluir arquivo"}},file_preview_toggle:{tooltip:"Alternar visualização"},nest:{tooltip:"Aninhar bloco",secondary_tooltip:"Tab"},unnest:{tooltip:"Desaninhar bloco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinhar à esquerda"},align_center:{tooltip:"Alinhar ao centro"},align_right:{tooltip:"Alinhar à direita"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Juntar células"},comment:{tooltip:"Adicionar comentário"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload de imagem",video:"Upload de vídeo",audio:"Upload de áudio",file:"Upload de arquivo"},upload_error:"Erro: Falha no upload"},embed:{title:"Incorporar",embed_button:{image:"Incorporar imagem",video:"Incorporar vídeo",audio:"Incorporar áudio",file:"Incorporar arquivo"},url_placeholder:"Insira a URL"}},link_toolbar:{delete:{tooltip:"Remover link"},edit:{text:"Editar link",tooltip:"Editar"},open:{tooltip:"Abrir em nova aba"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{actions:{add_reaction:"Adicionar reação",resolve:"Resolver",edit_comment:"Editar comentário",delete_comment:"Excluir comentário",more_actions:"Mais ações"},reactions:{reacted_by:"Reagido por"},sidebar:{marked_as_resolved:"Marcado como resolvido",more_replies:t=>`${t} respostas a mais`}},generic:{ctrl_shortcut:"Ctrl"}},pye={slash_menu:{heading:{title:"Заголовок 1 уровня",subtext:"Используется для заголовка верхнего уровня",aliases:["h","heading1","h1","заголовок1"],group:"Заголовки"},heading_2:{title:"Заголовок 2 уровня",subtext:"Используется для ключевых разделов",aliases:["h2","heading2","subheading","заголовок2","подзаголовок"],group:"Заголовки"},heading_3:{title:"Заголовок 3 уровня",subtext:"Используется для подразделов и групп",aliases:["h3","heading3","subheading","заголовок3","подзаголовок"],group:"Заголовки"},quote:{title:"Цитата",subtext:"Цитата или отрывок",aliases:["quotation","blockquote","bq"],group:"Базовые блоки"},numbered_list:{title:"Нумерованный список",subtext:"Используется для отображения нумерованного списка",aliases:["ol","li","list","numberedlist","numbered list","список","нумерованный список"],group:"Базовые блоки"},bullet_list:{title:"Маркированный список",subtext:"Для отображения неупорядоченного списка.",aliases:["ul","li","list","bulletlist","bullet list","список","маркированный список"],group:"Базовые блоки"},check_list:{title:"Контрольный список",subtext:"Для отображения списка с флажками",aliases:["ul","li","list","checklist","check list","checked list","checkbox","список"],group:"Базовые блоки"},paragraph:{title:"Параграф",subtext:"Основной текст",aliases:["p","paragraph","параграф"],group:"Базовые блоки"},code_block:{title:"Блок кода",subtext:"Блок кода с подсветкой синтаксиса",aliases:["code","pre","блок кода"],group:"Базовые блоки"},page_break:{title:"Разрыв страницы",subtext:"Разделитель страницы",aliases:["page","break","separator","разрыв","разделитель"],group:"Основные блоки"},table:{title:"Таблица",subtext:"Используется для таблиц",aliases:["table","таблица"],group:"Продвинутый"},image:{title:"Картинка",subtext:"Вставить изображение",aliases:["image","imageUpload","upload","img","picture","media","url","загрузка","картинка","рисунок"],group:"Медиа"},video:{title:"Видео",subtext:"Вставить видео",aliases:["video","videoUpload","upload","mp4","film","media","url","загрузка","видео"],group:"Медиа"},audio:{title:"Аудио",subtext:"Вставить аудио",aliases:["audio","audioUpload","upload","mp3","sound","media","url","загрузка","аудио","звук","музыка"],group:"Медиа"},file:{title:"Файл",subtext:"Вставить файл",aliases:["file","upload","embed","media","url","загрузка","файл"],group:"Медиа"},emoji:{title:"Эмодзи",subtext:"Используется для вставки эмодзи",aliases:["эмодзи","смайлик","выражение эмоций","лицо"],group:"Прочее"}},placeholders:{default:"Ведите текст или введите «/» для команд",heading:"Заголовок",bulletListItem:"Список",numberedListItem:"Список",checkListItem:"Список",new_comment:"Напишите комментарий...",edit_comment:"Редактировать комментарий...",comment_reply:"Добавить комментарий..."},file_blocks:{image:{add_button_text:"Добавить изображение"},video:{add_button_text:"Добавить видео"},audio:{add_button_text:"Добавить аудио"},file:{add_button_text:"Добавить файл"}},side_menu:{add_block_label:"Добавить блок",drag_handle_label:"Открыть меню блока"},drag_handle:{delete_menuitem:"Удалить",colors_menuitem:"Цвета",header_row_menuitem:"Заголовок строки",header_column_menuitem:"Заголовок столбца"},table_handle:{delete_column_menuitem:"Удалить столбец",delete_row_menuitem:"Удалить строку",add_left_menuitem:"Добавить столбец слева",add_right_menuitem:"Добавить столбец справа",add_above_menuitem:"Добавить строку выше",add_below_menuitem:"Добавить строку ниже",split_cell_menuitem:"Разделить ячейку",merge_cells_menuitem:"Объединить ячейки",background_color_menuitem:"Цвет фона"},suggestion_menu:{no_items_title:"ничего не найдено",loading:"Загрузка…"},color_picker:{text_title:"Текст",background_title:"Задний фон",colors:{default:"По умолчинию",gray:"Серый",brown:"Коричневый",red:"Красный",orange:"Оранжевый",yellow:"Жёлтый",green:"Зелёный",blue:"Голубой",purple:"Фиолетовый",pink:"Розовый"}},formatting_toolbar:{bold:{tooltip:"Жирный",secondary_tooltip:"Mod+B"},italic:{tooltip:"Курсив",secondary_tooltip:"Mod+I"},underline:{tooltip:"Подчёркнутый",secondary_tooltip:"Mod+U"},strike:{tooltip:"Зачёркнутый",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Код",secondary_tooltip:""},colors:{tooltip:"Цвета"},link:{tooltip:"Создать ссылку",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Изменить подпись",input_placeholder:"Изменить подпись"},file_replace:{tooltip:{image:"Заменить изображение",video:"Заменить видео",audio:"Заменить аудио",file:"Заменить файл"}},file_rename:{tooltip:{image:"Переименовать изображение",video:"Переименовать видео",audio:"Переименовать аудио",file:"Переименовать файл"},input_placeholder:{image:"Переименовать изображение",video:"Переименовать видео",audio:"Переименовать аудио",file:"Переименовать файл"}},file_download:{tooltip:{image:"Скачать картинку",video:"Скачать видео",audio:"Скачать аудио",file:"Скачать файл"}},file_delete:{tooltip:{image:"Удалить картинку",video:"Удалить видео",audio:"Удалить аудио",file:"Удалить файл"}},file_preview_toggle:{tooltip:"Переключить предварительный просмотр"},nest:{tooltip:"Сдвинуть вправо",secondary_tooltip:"Tab"},unnest:{tooltip:"Сдвинуть влево",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Текст по левому краю"},align_center:{tooltip:"Текст по середине"},align_right:{tooltip:"Текст по правому краю"},align_justify:{tooltip:"По середине текст"},table_cell_merge:{tooltip:"Объединить ячейки"},comment:{tooltip:"Добавить комментарий"}},file_panel:{upload:{title:"Загрузить",file_placeholder:{image:"Загрузить картинки",video:"Загрузить видео",audio:"Загрузить аудио",file:"Загрузить файл"},upload_error:"Ошибка: не удалось загрузить"},embed:{title:"Вставить",embed_button:{image:"Вставить картинку",video:"Вставить видео",audio:"Вставить аудио",file:"Вставить файл"},url_placeholder:"Введите URL"}},link_toolbar:{delete:{tooltip:"Удалить ссылку"},edit:{text:"Изменить ссылку",tooltip:"Редактировать"},open:{tooltip:"Открыть в новой вкладке"},form:{title_placeholder:"Изменить заголовок",url_placeholder:"Изменить URL"}},comments:{actions:{add_reaction:"Добавить реакцию",resolve:"Решить",edit_comment:"Редактировать комментарий",delete_comment:"Удалить комментарий",more_actions:"Другие действия"},reactions:{reacted_by:"Отреагировал(а)"},sidebar:{marked_as_resolved:"Отмечено как решенное",more_replies:t=>`${t} дополнительных ответов`}},generic:{ctrl_shortcut:"Ctrl"}},mye={slash_menu:{heading:{title:"Заголовок 1",subtext:"Заголовок найвищого рівня",aliases:["h","heading1","h1","заголовок1"],group:"Заголовки"},heading_2:{title:"Заголовок 2",subtext:"Основний заголовок розділу",aliases:["h2","heading2","subheading","заголовок2"],group:"Заголовки"},heading_3:{title:"Заголовок 3",subtext:"Підзаголовок і груповий заголовок",aliases:["h3","heading3","subheading","заголовок3"],group:"Заголовки"},quote:{title:"Цитата",subtext:"Цитата або уривок",aliases:["quotation","blockquote","bq"],group:"Базові блоки"},numbered_list:{title:"Нумерований список",subtext:"Список із впорядкованими елементами",aliases:["ol","li","list","numberedlist","numbered list","список","нумерований список"],group:"Базові блоки"},bullet_list:{title:"Маркований список",subtext:"Список із невпорядкованими елементами",aliases:["ul","li","list","bulletlist","bullet list","список","маркований список"],group:"Базові блоки"},check_list:{title:"Чек-лист",subtext:"Список із чекбоксами",aliases:["ul","li","list","checklist","check list","checked list","checkbox","чекбокс","чек-лист"],group:"Базові блоки"},paragraph:{title:"Параграф",subtext:"Основний текст документа",aliases:["p","paragraph","параграф"],group:"Базові блоки"},code_block:{title:"Блок коду",subtext:"Блок коду з підсвіткою синтаксису",aliases:["code","pre","блок коду"],group:"Базові блоки"},page_break:{title:"Розрив сторінки",subtext:"Роздільник сторінки",aliases:["page","break","separator","розрив сторінки","розділювач"],group:"Базові блоки"},table:{title:"Таблиця",subtext:"Таблиця з редагованими клітинками",aliases:["table","таблиця"],group:"Розширені"},image:{title:"Зображення",subtext:"Масштабоване зображення з підписом",aliases:["image","imageUpload","upload","img","picture","media","url","зображення","медіа"],group:"Медіа"},video:{title:"Відео",subtext:"Масштабоване відео з підписом",aliases:["video","videoUpload","upload","mp4","film","media","url","відео","медіа"],group:"Медіа"},audio:{title:"Аудіо",subtext:"Вбудоване аудіо з підписом",aliases:["audio","audioUpload","upload","mp3","sound","media","url","аудіо","медіа"],group:"Медіа"},file:{title:"Файл",subtext:"Вбудований файл",aliases:["file","upload","embed","media","url","файл","медіа"],group:"Медіа"},emoji:{title:"Емодзі",subtext:"Пошук і вставка емодзі",aliases:["emoji","emote","emotion","face","смайлик","емодзі"],group:"Інше"}},placeholders:{default:"Введіть текст або наберіть '/' для команд",heading:"Заголовок",bulletListItem:"Список",numberedListItem:"Список",checkListItem:"Список",new_comment:"Напишіть коментар...",edit_comment:"Редагувати коментар...",comment_reply:"Додати коментар..."},file_blocks:{image:{add_button_text:"Додати зображення"},video:{add_button_text:"Додати відео"},audio:{add_button_text:"Додати аудіо"},file:{add_button_text:"Додати файл"}},side_menu:{add_block_label:"Додати блок",drag_handle_label:"Відкрити меню блока"},drag_handle:{delete_menuitem:"Видалити",colors_menuitem:"Кольори",header_row_menuitem:"Заголовок рядка",header_column_menuitem:"Заголовок стовпця"},table_handle:{delete_column_menuitem:"Видалити стовпець",delete_row_menuitem:"Видалити рядок",add_left_menuitem:"Додати стовпець зліва",add_right_menuitem:"Додати стовпець справа",add_above_menuitem:"Додати рядок вище",add_below_menuitem:"Додати рядок нижче",split_cell_menuitem:"Розділити клітинку",merge_cells_menuitem:"Об'єднати клітинки",background_color_menuitem:"Змінити колір фону"},suggestion_menu:{no_items_title:"Нічого не знайдено",loading:"Завантаження…"},color_picker:{text_title:"Текст",background_title:"Фон",colors:{default:"За замовчуванням",gray:"Сірий",brown:"Коричневий",red:"Червоний",orange:"Помаранчевий",yellow:"Жовтий",green:"Зелений",blue:"Блакитний",purple:"Фіолетовий",pink:"Рожевий"}},formatting_toolbar:{bold:{tooltip:"Жирний",secondary_tooltip:"Mod+B"},italic:{tooltip:"Курсив",secondary_tooltip:"Mod+I"},underline:{tooltip:"Підкреслений",secondary_tooltip:"Mod+U"},strike:{tooltip:"Закреслений",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Код",secondary_tooltip:""},colors:{tooltip:"Кольори"},link:{tooltip:"Створити посилання",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Редагувати підпис",input_placeholder:"Редагувати підпис"},file_replace:{tooltip:{image:"Замінити зображення",video:"Замінити відео",audio:"Замінити аудіо",file:"Замінити файл"}},file_rename:{tooltip:{image:"Перейменувати зображення",video:"Перейменувати відео",audio:"Перейменувати аудіо",file:"Перейменувати файл"},input_placeholder:{image:"Перейменувати зображення",video:"Перейменувати відео",audio:"Перейменувати аудіо",file:"Перейменувати файл"}},file_download:{tooltip:{image:"Завантажити зображення",video:"Завантажити відео",audio:"Завантажити аудіо",file:"Завантажити файл"}},file_delete:{tooltip:{image:"Видалити зображення",video:"Видалити відео",audio:"Видалити аудіо",file:"Видалити файл"}},file_preview_toggle:{tooltip:"Перемкнути попередній перегляд"},nest:{tooltip:"Вкладений блок",secondary_tooltip:"Tab"},unnest:{tooltip:"Розгрупувати блок",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Вирівняти за лівим краєм"},align_center:{tooltip:"Вирівняти по центру"},align_right:{tooltip:"Вирівняти за правим краєм"},align_justify:{tooltip:"Вирівняти за шириною"},table_cell_merge:{tooltip:"Об'єднати клітинки"},comment:{tooltip:"Додати коментар"}},file_panel:{upload:{title:"Завантажити",file_placeholder:{image:"Завантажити зображення",video:"Завантажити відео",audio:"Завантажити аудіо",file:"Завантажити файл"},upload_error:"Помилка: не вдалося завантажити"},embed:{title:"Вставити",embed_button:{image:"Вставити зображення",video:"Вставити відео",audio:"Вставити аудіо",file:"Вставити файл"},url_placeholder:"Введіть URL"}},link_toolbar:{delete:{tooltip:"Видалити посилання"},edit:{text:"Редагувати посилання",tooltip:"Редагувати"},open:{tooltip:"Відкрити в новій вкладці"},form:{title_placeholder:"Редагувати заголовок",url_placeholder:"Редагувати URL"}},comments:{actions:{add_reaction:"Додати реакцію",resolve:"Вирішити",edit_comment:"Редагувати коментар",delete_comment:"Видалити коментар",more_actions:"Більше дій"},reactions:{reacted_by:"Відреагував(ла)"},sidebar:{marked_as_resolved:"Позначено як вирішене",more_replies:t=>`${t} додаткових відповідей`}},generic:{ctrl_shortcut:"Ctrl"}},gye={slash_menu:{heading:{title:"Tiêu đề H1",subtext:"Sử dụng cho tiêu đề cấp cao nhất",aliases:["h","tieude1","dd1"],group:"Tiêu đề"},heading_2:{title:"Tiêu đề H2",subtext:"Sử dụng cho các phần chính",aliases:["h2","tieude2","tieudephu"],group:"Tiêu đề"},heading_3:{title:"Tiêu đề H3",subtext:"Sử dụng cho phụ đề và tiêu đề nhóm",aliases:["h3","tieude3","tieudephu"],group:"Tiêu đề"},quote:{title:"Trích dẫn",subtext:"Trích dẫn hoặc đoạn trích",aliases:["quotation","blockquote","bq"],group:"Khối cơ bản"},numbered_list:{title:"Danh sách đánh số",subtext:"Sử dụng để hiển thị danh sách có đánh số",aliases:["ol","li","ds","danhsachdso","danh sach danh so"],group:"Khối cơ bản"},bullet_list:{title:"Danh sách",subtext:"Sử dụng để hiển thị danh sách không đánh số",aliases:["ul","li","ds","danhsach","danh sach"],group:"Khối cơ bản"},check_list:{title:"Danh sách kiểm tra",subtext:"Dùng để hiển thị danh sách có hộp kiểm",aliases:["ul","li","danh sach","danh sach kiem tra","danh sach da kiem tra","hop kiem"],group:"Khối cơ bản"},paragraph:{title:"Đoạn văn",subtext:"Sử dụng cho nội dung chính của tài liệu",aliases:["p","doanvan"],group:"Khối cơ bản"},code_block:{title:"Mã",subtext:"Sử dụng để hiển thị mã với cú pháp",aliases:["code","pre"],group:"Khối cơ bản"},page_break:{title:"Ngắt trang",subtext:"Phân cách trang",aliases:["page","break","separator","ngắt","phân cách"],group:"Khối cơ bản"},table:{title:"Bảng",subtext:"Sử dụng để tạo bảng",aliases:["bang"],group:"Nâng cao"},image:{title:"Hình ảnh",subtext:"Chèn hình ảnh",aliases:["anh","tai-len-anh","tai-len","img","hinh","media","url"],group:"Phương tiện"},video:{title:"Video",subtext:"Chèn video",aliases:["video","tai-len-video","tai-len","mp4","phim","media","url"],group:"Phương tiện"},audio:{title:"Âm thanh",subtext:"Chèn âm thanh",aliases:["âm thanh","tai-len-am-thanh","tai-len","mp3","am thanh","media","url"],group:"Phương tiện"},file:{title:"Tệp",subtext:"Chèn tệp",aliases:["tep","tai-len","nhung","media","url"],group:"Phương tiện"},emoji:{title:"Biểu tượng cảm xúc",subtext:"Dùng để chèn biểu tượng cảm xúc",aliases:["biểu tượng cảm xúc","emoji","emoticon","cảm xúc expression","khuôn mặt","face"],group:"Khác"}},placeholders:{default:"Nhập văn bản hoặc gõ '/' để thêm định dạng",heading:"Tiêu đề",bulletListItem:"Danh sách",numberedListItem:"Danh sách",checkListItem:"Danh sách",new_comment:"Viết bình luận...",edit_comment:"Chỉnh sửa bình luận...",comment_reply:"Thêm bình luận..."},file_blocks:{image:{add_button_text:"Thêm ảnh"},video:{add_button_text:"Thêm video"},audio:{add_button_text:"Thêm âm thanh"},file:{add_button_text:"Thêm tệp"}},side_menu:{add_block_label:"Thêm khối",drag_handle_label:"Mở trình đơn khối"},drag_handle:{delete_menuitem:"Xóa",colors_menuitem:"Màu sắc",header_row_menuitem:"Tiêu đề hàng",header_column_menuitem:"Tiêu đề cột"},table_handle:{delete_column_menuitem:"Xóa cột",delete_row_menuitem:"Xóa hàng",add_left_menuitem:"Thêm cột bên trái",add_right_menuitem:"Thêm cột bên phải",add_above_menuitem:"Thêm hàng phía trên",add_below_menuitem:"Thêm hàng phía dưới",split_cell_menuitem:"Chia ô",merge_cells_menuitem:"Gộp ô",background_color_menuitem:"Màu nền"},suggestion_menu:{no_items_title:"Không tìm thấy mục nào",loading:"Đang tải..."},color_picker:{text_title:"Văn bản",background_title:"Nền",colors:{default:"Mặc định",gray:"Xám",brown:"Nâu",red:"Đỏ",orange:"Cam",yellow:"Vàng",green:"Xanh lá",blue:"Xanh dương",purple:"Tím",pink:"Hồng"}},formatting_toolbar:{bold:{tooltip:"In đậm",secondary_tooltip:"Mod+B"},italic:{tooltip:"In nghiêng",secondary_tooltip:"Mod+I"},underline:{tooltip:"Gạch dưới",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gạch ngang",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Màu sắc"},link:{tooltip:"Tạo liên kết",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Chỉnh sửa chú thích",input_placeholder:"Chỉnh sửa chú thích"},file_replace:{tooltip:{image:"Thay thế hình ảnh",video:"Thay thế video",audio:"Thay thế âm thanh",file:"Thay thế tệp"}},file_rename:{tooltip:{image:"Đổi tên hình ảnh",video:"Đổi tên video",audio:"Đổi tên âm thanh",file:"Đổi tên tệp"},input_placeholder:{image:"Đổi tên hình ảnh",video:"Đổi tên video",audio:"Đổi tên âm thanh",file:"Đổi tên tệp"}},file_download:{tooltip:{image:"Tải xuống hình ảnh",video:"Tải xuống video",audio:"Tải xuống âm thanh",file:"Tải xuống tệp"}},file_delete:{tooltip:{image:"Xóa hình ảnh",video:"Xóa video",audio:"Xóa âm thanh",file:"Xóa tệp"}},file_preview_toggle:{tooltip:"Chuyển đổi xem trước"},nest:{tooltip:"Lồng khối",secondary_tooltip:"Tab"},unnest:{tooltip:"Bỏ lồng khối",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Căn trái văn bản"},align_center:{tooltip:"Căn giữa văn bản"},align_right:{tooltip:"Căn phải văn bản"},align_justify:{tooltip:"Căn đều văn bản"},table_cell_merge:{tooltip:"Gộp các ô"},comment:{tooltip:"Thêm bình luận"}},file_panel:{upload:{title:"Tải lên",file_placeholder:{image:"Tải lên hình ảnh",video:"Tải lên video",audio:"Tải lên âm thanh",file:"Tải lên tệp"},upload_error:"Lỗi: Tải lên thất bại"},embed:{title:"Nhúng",embed_button:{image:"Nhúng hình ảnh",video:"Nhúng video",audio:"Nhúng âm thanh",file:"Nhúng tệp"},url_placeholder:"Nhập URL"}},link_toolbar:{delete:{tooltip:"Xóa liên kết"},edit:{text:"Chỉnh sửa liên kết",tooltip:"Chỉnh sửa"},open:{tooltip:"Mở trong tab mới"},form:{title_placeholder:"Chỉnh sửa tiêu đề",url_placeholder:"Chỉnh sửa URL"}},comments:{actions:{add_reaction:"Thêm phản ứng",resolve:"Giải quyết",edit_comment:"Chỉnh sửa bình luận",delete_comment:"Xóa bình luận",more_actions:"Thêm hành động"},reactions:{reacted_by:"Phản ứng bởi"},sidebar:{marked_as_resolved:"Đã đánh dấu là đã giải quyết",more_replies:t=>`${t} câu trả lời nữa`}},generic:{ctrl_shortcut:"Ctrl"}},bye={slash_menu:{heading:{title:"一级标题",subtext:"用于顶级标题",aliases:["h","heading1","h1","标题","一级标题"],group:"标题"},heading_2:{title:"二级标题",subtext:"用于关键部分",aliases:["h2","heading2","subheading","标题","二级标题","副标题"],group:"标题"},heading_3:{title:"三级标题",subtext:"用于小节和分组标题",aliases:["h3","heading3","subheading","标题","三级标题"],group:"标题"},quote:{title:"引用",subtext:"引用或摘录",aliases:["quotation","blockquote","bq"],group:"基本块"},numbered_list:{title:"有序列表",subtext:"用于显示有序列表",aliases:["ol","li","list","numberedlist","numbered list","列表","有序列表"],group:"基础"},bullet_list:{title:"无序列表",subtext:"用于显示无序列表",aliases:["ul","li","list","bulletlist","bullet list","列表","无序列表"],group:"基础"},check_list:{title:"检查清单",subtext:"用于显示带有复选框的列表",aliases:["ul","li","checklist","checked list","列表","检查清单","勾选列表","复选框"],group:"基础"},paragraph:{title:"段落",subtext:"用于文档正文",aliases:["p","paragraph","text","正文"],group:"基础"},code_block:{title:"代码块",subtext:"用于显示带有语法高亮的代码块",aliases:["code","pre","代码","预格式"],group:"基础"},page_break:{title:"分页符",subtext:"页面分隔符",aliases:["page","break","separator","分页","分隔符"],group:"基础"},table:{title:"表格",subtext:"使用表格",aliases:["table","表格"],group:"高级功能"},image:{title:"图片",subtext:"插入图片",aliases:["图片","上传图片","上传","image","img","相册","媒体","url"],group:"媒体"},video:{title:"视频",subtext:"插入视频",aliases:["视频","视频上传","上传","video","mp4","电影","媒体","url","驱动","dropbox"],group:"媒体"},audio:{title:"音频",subtext:"插入音频",aliases:["音频","音频上传","上传","audio","mp3","声音","媒体","url","驱动","dropbox"],group:"媒体"},file:{title:"文件",subtext:"插入文件",aliases:["文件","上传","file","嵌入","媒体","url"],group:"媒体"},emoji:{title:"表情符号",subtext:"用于插入表情符号",aliases:["表情符号","emoji","face","emote","表情","表情表达","表情"],group:"其他"}},placeholders:{default:"输入 '/' 以使用命令",heading:"标题",bulletListItem:"列表",numberedListItem:"列表",checkListItem:"列表",new_comment:"写评论...",edit_comment:"编辑评论...",comment_reply:"添加评论..."},file_blocks:{image:{add_button_text:"添加图片"},video:{add_button_text:"添加视频"},audio:{add_button_text:"添加音频"},file:{add_button_text:"添加文件"}},side_menu:{add_block_label:"添加块",drag_handle_label:"打开菜单"},drag_handle:{delete_menuitem:"删除",colors_menuitem:"颜色",header_row_menuitem:"行标题",header_column_menuitem:"列标题"},table_handle:{delete_column_menuitem:"删除列",delete_row_menuitem:"删除行",add_left_menuitem:"左侧添加列",add_right_menuitem:"右侧添加列",add_above_menuitem:"上方添加行",add_below_menuitem:"下方添加行",split_cell_menuitem:"拆分单元格",merge_cells_menuitem:"合并单元格",background_color_menuitem:"背景色"},suggestion_menu:{no_items_title:"无匹配项",loading:"加载中…"},color_picker:{text_title:"文本",background_title:"背景色",colors:{default:"默认",gray:"灰色",brown:"棕色",red:"红色",orange:"橙色",yellow:"黄色",green:"绿色",blue:"蓝色",purple:"紫色",pink:"粉色"}},formatting_toolbar:{bold:{tooltip:"加粗",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜体",secondary_tooltip:"Mod+I"},underline:{tooltip:"下划线",secondary_tooltip:"Mod+U"},strike:{tooltip:"删除线",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"代码标记",secondary_tooltip:""},colors:{tooltip:"颜色"},link:{tooltip:"添加链接",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"编辑标题",input_placeholder:"编辑标题"},file_replace:{tooltip:{image:"替换图片",video:"替换视频",audio:"替换音频",file:"替换文件"}},file_rename:{tooltip:{image:"重命名图片",video:"重命名视频",audio:"重命名音频",file:"重命名文件"},input_placeholder:{image:"重命名图片",video:"重命名视频",audio:"重命名音频",file:"重命名文件"}},file_download:{tooltip:{image:"下载图片",video:"下载视频",audio:"下载音频",file:"下载文件"}},file_delete:{tooltip:{image:"删除图片",video:"删除视频",audio:"删除音频",file:"删除文件"}},file_preview_toggle:{tooltip:"切换预览"},nest:{tooltip:"嵌套",secondary_tooltip:"Tab"},unnest:{tooltip:"取消嵌套",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"左对齐"},align_center:{tooltip:"居中"},align_right:{tooltip:"右对齐"},align_justify:{tooltip:"文本对齐"},table_cell_merge:{tooltip:"合并单元格"},comment:{tooltip:"添加评论"}},file_panel:{upload:{title:"上传",file_placeholder:{image:"上传图片",video:"上传视频",audio:"上传音频",file:"上传文件"},upload_error:"Error：上传失败"},embed:{title:"嵌入",embed_button:{image:"嵌入图片",video:"嵌入视频",audio:"嵌入音频",file:"嵌入文件"},url_placeholder:"输入图片地址"}},link_toolbar:{delete:{tooltip:"清除链接"},edit:{text:"编辑链接",tooltip:"编辑"},open:{tooltip:"新窗口打开"},form:{title_placeholder:"编辑标题",url_placeholder:"编辑链接地址"}},comments:{actions:{add_reaction:"添加反应",resolve:"解决",edit_comment:"编辑评论",delete_comment:"删除评论",more_actions:"更多操作"},reactions:{reacted_by:"已回应"},sidebar:{marked_as_resolved:"标记为已解决",more_replies:t=>`还有 ${t} 条回复`}},generic:{ctrl_shortcut:"Ctrl"}},yye=Object.freeze(Object.defineProperty({__proto__:null,ar:tye,de:nye,en:eye,es:rye,fr:oye,hr:iye,is:sye,it:lye,ja:aye,ko:cye,nl:uye,no:dye,pl:fye,pt:hye,ru:pye,uk:mye,vi:gye,zh:bye},Symbol.toStringTag,{value:"Module"}));function vye(t){const[,e]=mhe(t,{defaultValue:t.initialBlocks,trigger:"onBlocksChange"}),n=t.locale||"zh",r={...yye[n],multi_column:Ufe[n]},i=L_({dropCursor:Yfe,dictionary:r,initialContent:t.initialBlocks,schema:Zfe($m.create()),tables:{cellBackgroundColor:!0},uploadFile:async a=>URL.createObjectURL(a),codeBlock:qbe});Z9(()=>{e(i.document)});const l=T.useMemo(()=>async a=>n7(Fne(Ej(i),che(i)),a),[i]);return dA.jsx(V9,{theme:t.theme,editable:!t.readOnly,lang:"zh",editor:i,onChange:()=>{e(i.document)},children:dA.jsx(Tj,{triggerCharacter:"/",getItems:l})})}const HC={};function hT(t){var e;t.id&&((e=HC[t.id])==null||e.call(HC,t))}function wye(t){const[e,n]=T.useState(t);return hhe(()=>{HC[t.id]=n}),Z9(()=>{delete HC[t.id]}),dA.jsx(vye,{...e})}const kye=Lm({name:"RichTextEditor",props:{initialBlocks:{type:Array},onBlocksChange:{type:Function},readOnly:{type:Boolean,default:!1},theme:{type:String,default:"light"},locale:{type:String,default:"zh"}},setup(t){const e=sk(),n=sk({id:`rich-text-editor-${Date.now()}-${Math.random()}`,initialBlocks:t.initialBlocks,readOnly:t.readOnly,theme:t.theme,locale:t.locale,onBlocksChange:r=>{var i;(i=t.onBlocksChange)==null||i.call(t,r)}});return sm(()=>t.theme,()=>{n.value={...n.value,theme:t.theme},hT(n.value)}),sm(()=>t.locale,()=>{n.value={...n.value,locale:t.locale},hT(n.value)}),sm(()=>t.readOnly,()=>{n.value={...n.value,readOnly:t.readOnly},hT(n.value)}),EP(()=>{console.log("wrapperRef.value",e.value);const r=e.value||document.querySelector(`[data-id="${n.value.id}"]`);r&&Ybe.createRoot(r).render(T.createElement(T.StrictMode,null,T.createElement(wye,n.value)))}),()=>pV("div",{ref:e,"data-id":n.value.id})}}),p3=Object.prototype.toString;function fA(t){return p3.call(t)==="[object Array]"}function Cye(t){return p3.call(t)==="[object String]"}function i$(t){return p3.call(t)==="[object Number]"&&t===t}const s$=Symbol("ArcoConfigProvider"),_ye="A",Sye="arco",hA="$arco",l$=t=>{var e;return(e=t==null?void 0:t.componentPrefix)!=null?e:_ye},a$=(t,e)=>{var n;e&&e.classPrefix&&(t.config.globalProperties[hA]={...(n=t.config.globalProperties[hA])!=null?n:{},classPrefix:e.classPrefix})},lS=t=>{var e,n,r;const i=lV(),l=Xu(s$,void 0),a=(r=(n=l==null?void 0:l.prefixCls)!=null?n:(e=i==null?void 0:i.appContext.config.globalProperties[hA])==null?void 0:e.classPrefix)!=null?r:Sye;return t?`${a}-${t}`:a},xye=t=>!!(t&&t.shapeFlag&1),Eye=(t,e)=>!!(t&&t.shapeFlag&6),Tye=(t,e)=>!!(t&&t.shapeFlag&8),Mye=(t,e)=>!!(t&&t.shapeFlag&16),Aye=(t,e)=>!!(t&&t.shapeFlag&32),ok=(t,e=!1)=>{var n,r;const i=[];for(const l of t??[])xye(l)||Eye(l)||e&&Tye(l,l.children)?i.push(l):Mye(l,l.children)?i.push(...ok(l.children,e)):Aye(l,l.children)?i.push(...ok((r=(n=l.children).default)==null?void 0:r.call(n),e)):fA(l)&&i.push(...ok(l,e));return i};var m3=(t,e)=>{for(const[n,r]of e)t[n]=r;return t};const Rye=Lm({name:"IconLoading",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:t=>["butt","round","square"].includes(t)},strokeLinejoin:{type:String,default:"miter",validator:t=>["arcs","bevel","miter","miter-clip","round"].includes(t)},rotate:Number,spin:Boolean},emits:{click:t=>!0},setup(t,{emit:e}){const n=lS("icon"),r=ps(()=>[n,`${n}-loading`,{[`${n}-spin`]:t.spin}]),i=ps(()=>{const a={};return t.size&&(a.fontSize=i$(t.size)?`${t.size}px`:t.size),t.rotate&&(a.transform=`rotate(${t.rotate}deg)`),a});return{cls:r,innerStyle:i,onClick:a=>{e("click",a)}}}}),Nye=["stroke-width","stroke-linecap","stroke-linejoin"];function Oye(t,e,n,r,i,l){return ai(),tu("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:eu(t.cls),style:WC(t.innerStyle),"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin,onClick:e[0]||(e[0]=(...a)=>t.onClick&&t.onClick(...a))},e[1]||(e[1]=[Ss("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6"},null,-1)]),14,Nye)}var pT=m3(Rye,[["render",Oye]]);const Dye=Object.assign(pT,{install:(t,e)=>{var n;const r=(n=e==null?void 0:e.iconPrefix)!=null?n:"";t.component(r+pT.name,pT)}}),Lye=Symbol("ArcoFormItemContext"),Pye=({size:t,disabled:e,error:n,uninject:r}={})=>{const i=r?{}:Xu(Lye,{}),l=ps(()=>{var p;return(p=t==null?void 0:t.value)!=null?p:i.size}),a=ps(()=>(e==null?void 0:e.value)||i.disabled),u=ps(()=>(n==null?void 0:n.value)||i.error),d=k3(i,"feedback"),h=k3(i,"eventHandlers");return{formItemCtx:i,mergedSize:l,mergedDisabled:a,mergedError:u,feedback:d,eventHandlers:h}},Iye=(t,{defaultValue:e="medium"}={})=>{const n=Xu(s$,void 0);return{mergedSize:ps(()=>{var i,l;return(l=(i=t==null?void 0:t.value)!=null?i:n==null?void 0:n.size)!=null?l:e})}},c$=Symbol("ArcoButtonGroup"),Bye=Lm({name:"Button",components:{IconLoading:Dye},props:{type:{type:String},shape:{type:String},status:{type:String},size:{type:String},long:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean},htmlType:{type:String,default:"button"},autofocus:{type:Boolean,default:!1},href:String},emits:{click:t=>!0},setup(t,{emit:e}){const{size:n,disabled:r}=gP(t),i=lS("btn"),l=Xu(c$,void 0),a=ps(()=>{var v;return(v=n.value)!=null?v:l==null?void 0:l.size}),u=ps(()=>!!(r.value||l!=null&&l.disabled)),{mergedSize:d,mergedDisabled:h}=Pye({size:a,disabled:u}),{mergedSize:p}=Iye(d),g=ps(()=>{var v,w,C,S,E,A;return[i,`${i}-${(w=(v=t.type)!=null?v:l==null?void 0:l.type)!=null?w:"secondary"}`,`${i}-shape-${(S=(C=t.shape)!=null?C:l==null?void 0:l.shape)!=null?S:"square"}`,`${i}-size-${p.value}`,`${i}-status-${(A=(E=t.status)!=null?E:l==null?void 0:l.status)!=null?A:"normal"}`,{[`${i}-long`]:t.long,[`${i}-loading`]:t.loading,[`${i}-disabled`]:h.value,[`${i}-link`]:Cye(t.href)}]});return{prefixCls:i,cls:g,mergedDisabled:h,handleClick:v=>{if(t.disabled||t.loading){v.preventDefault();return}e("click",v)}}}}),jye=["href"],zye=["type","disabled","autofocus"];function $ye(t,e,n,r,i,l){const a=_H("icon-loading");return t.href?(ai(),tu("a",{key:0,class:eu([t.cls,{[`${t.prefixCls}-only-icon`]:t.$slots.icon&&!t.$slots.default}]),href:t.mergedDisabled||t.loading?void 0:t.href,onClick:e[0]||(e[0]=(...u)=>t.handleClick&&t.handleClick(...u))},[t.loading||t.$slots.icon?(ai(),tu("span",{key:0,class:eu(`${t.prefixCls}-icon`)},[t.loading?(ai(),$v(a,{key:0,spin:"true"})):sv(t.$slots,"icon",{key:1})],2)):D3("v-if",!0),sv(t.$slots,"default")],10,jye)):(ai(),tu("button",{key:1,class:eu([t.cls,{[`${t.prefixCls}-only-icon`]:t.$slots.icon&&!t.$slots.default}]),type:t.htmlType,disabled:t.mergedDisabled,autofocus:t.autofocus,onClick:e[1]||(e[1]=(...u)=>t.handleClick&&t.handleClick(...u))},[t.loading||t.$slots.icon?(ai(),tu("span",{key:0,class:eu(`${t.prefixCls}-icon`)},[t.loading?(ai(),$v(a,{key:0,spin:!0})):sv(t.$slots,"icon",{key:1})],2)):D3("v-if",!0),sv(t.$slots,"default")],10,zye))}var mT=m3(Bye,[["render",$ye]]);const Hye=Lm({name:"ButtonGroup",props:{type:{type:String},status:{type:String},shape:{type:String},size:{type:String},disabled:{type:Boolean}},setup(t){const{type:e,size:n,status:r,disabled:i,shape:l}=gP(t),a=lS("btn-group");return OP(c$,KC({type:e,size:n,shape:l,status:r,disabled:i})),{prefixCls:a}}});function Vye(t,e,n,r,i,l){return ai(),tu("div",{class:eu(t.prefixCls)},[sv(t.$slots,"default")],2)}var gT=m3(Hye,[["render",Vye]]);const bT=Object.assign(mT,{Group:gT,install:(t,e)=>{a$(t,e);const n=l$(e);t.component(n+mT.name,mT),t.component(n+gT.name,gT)}});var yT=Lm({name:"Space",props:{align:{type:String},direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:"small"},wrap:{type:Boolean},fill:{type:Boolean}},setup(t,{slots:e}){const n=lS("space"),r=ps(()=>{var u;return(u=t.align)!=null?u:t.direction==="horizontal"?"center":""}),i=ps(()=>[n,{[`${n}-${t.direction}`]:t.direction,[`${n}-align-${r.value}`]:r.value,[`${n}-wrap`]:t.wrap,[`${n}-fill`]:t.fill}]);function l(u){if(i$(u))return u;switch(u){case"mini":return 4;case"small":return 8;case"medium":return 16;case"large":return 24;default:return 8}}const a=u=>{const d={},h=`${l(fA(t.size)?t.size[0]:t.size)}px`,p=`${l(fA(t.size)?t.size[1]:t.size)}px`;return u?t.wrap?{marginBottom:p}:{}:(t.direction==="horizontal"&&(d.marginRight=h),(t.direction==="vertical"||t.wrap)&&(d.marginBottom=p),d)};return()=>{var u;const d=ok((u=e.default)==null?void 0:u.call(e),!0).filter(h=>h.type!==hu);return Un("div",{class:i.value},[d.map((h,p)=>{var g,y;const v=e.split&&p>0;return Un(Yo,{key:(g=h.key)!=null?g:`item-${p}`},[v&&Un("div",{class:`${n}-item-split`,style:a(!1)},[(y=e.split)==null?void 0:y.call(e)]),Un("div",{class:`${n}-item`,style:a(p===d.length-1)},[h])])})])}}});const Uye=Object.assign(yT,{install:(t,e)=>{a$(t,e);const n=l$(e);t.component(n+yT.name,yT)}}),Fye=[{id:"beb8c156-4310-43e0-aea2-e2787e84b3ad",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:2},content:[{type:"text",text:"基础功能",styles:{}}],children:[]},{id:"eaea2332-9417-4f5c-8150-8c341eba3212",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"这是一段普通的文本",styles:{}}],children:[]},{id:"2b3f4427-446a-42f7-b8fd-24a48e6329e9",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"这是一段 ",styles:{}},{type:"text",text:"带行内样式 ",styles:{bold:!0,textColor:"purple"}},{type:"text",text:"的文本, 也可以修改 ",styles:{}},{type:"text",text:"文字背景色",styles:{backgroundColor:"yellow"}}],children:[]},{id:"5630aeef-a9da-4746-983a-d91c4756b677",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"center"},content:[{type:"text",text:"这是一段居中的文本",styles:{}}],children:[]},{id:"274c75a7-1ab7-4087-a088-f9ed0d7f89c1",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"right"},content:[{type:"text",text:"这是一段右对齐的文本",styles:{}}],children:[]},{id:"ee60daf4-426a-4303-b36c-bae4ee7ca152",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"按Tab键,可以实现缩进",styles:{}}],children:[{id:"7734fe13-a249-4afa-ae6d-808bb97a0b41",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"缩进一级",styles:{}}],children:[{id:"6fe80fe2-1eb7-4fd0-b5b7-f48b08861039",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"缩进二级",styles:{}}],children:[{id:"58442c1e-3df0-4233-a66d-1cff6a419ab4",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"缩进三级",styles:{}}],children:[]}]}]}]},{id:"22dbae54-dcf5-409b-9aff-c4cf9e146e44",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"8836dbc9-6072-46b4-89f1-6f0991cd59a5",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"标题",styles:{}}],children:[]},{id:"a11f15ff-5397-42bf-b74a-64a2dd7fc1d9",type:"quote",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:"支持三级标题, 支持使用 #呼出",styles:{}}],children:[]},{id:"d1396582-3d0c-45ec-9dbf-df40be83476b",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"一级标题 heading level 1",styles:{}}],children:[]},{id:"f3a81094-83df-43cb-a087-0d97db3038aa",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:2},content:[{type:"text",text:"二级标题 heading level 2",styles:{}}],children:[]},{id:"e8003683-5351-49fc-8e07-e462c73057c6",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:3},content:[{type:"text",text:"三级标题 heading level 3",styles:{}}],children:[]},{id:"2ccb4f21-756c-4f18-b841-b93eeef7b392",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"9c5e4067-4154-4c2a-9648-0a3a10f6d2c8",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"736ad70a-8e4a-4931-a8fa-20d5b7f01aed",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"列表  ",styles:{}}],children:[]},{id:"f8bc2926-f61b-4c40-b310-f38a8a1b126d",type:"quote",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:"支持 有序和无序列表 和 ",styles:{}},{type:"text",text:"checklist",styles:{bold:!0,underline:!0}},{type:"text",text:", 支持缩进嵌套,  支持markdown 的格式识别",styles:{}}],children:[]},{id:"797a1a30-27d0-43c1-8d73-9d922934e466",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"e81b7552-ee21-4244-8e6c-ff2725d6a351",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"无序列表",styles:{}}],children:[]},{id:"6e1d622c-1bc1-40c4-9081-7128d047929d",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"无序列表",styles:{}}],children:[{id:"ef0470c5-b5df-4a7b-828a-18c3e69ced46",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"嵌套一层",styles:{}}],children:[{id:"e5294930-2779-43cd-9408-1603f41e260e",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"嵌套两层",styles:{}}],children:[{id:"c100b260-42a5-4909-aaee-cc18c6fbc4fe",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"嵌套三层",styles:{}}],children:[{id:"955f243d-893b-42cb-8d1b-7ed2b2030638",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"四层",styles:{}}],children:[]}]}]}]}]},{id:"ddf1ebd5-213e-4a12-8d1f-357d9177833e",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"有序列表",styles:{}}],children:[{id:"a089816c-1228-4ded-ae8b-8843717ebab1",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"嵌套一层",styles:{}}],children:[]},{id:"daf01539-99cb-40b0-beb1-417f240d4347",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"嵌套一层",styles:{}}],children:[]}]},{id:"c799146c-9260-4cb5-a3d1-58271316b8ea",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"其他项目",styles:{}}],children:[]},{id:"1e25d08a-0d0f-4634-b20e-a54808967b50",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"c0597bdc-7520-433e-aab4-c2de84dd0e63",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"checklist",styles:{}}],children:[]},{id:"f3588ed9-dd3b-47b0-afc0-5b01fb70eeff",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"undo",styles:{}}],children:[]},{id:"b5324b32-4164-4955-8605-77f76a8d05a3",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!0},content:[{type:"text",text:"done",styles:{}}],children:[{id:"baeb6f88-5ba2-44fe-af70-003b9a0a31b3",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"子项不会关联选中",styles:{}}],children:[]},{id:"4b734d9e-4eed-43d1-8dac-ba0e9e4f55f7",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"可以嵌套任意结构",styles:{}}],children:[]}]},{id:"0195a697-da2b-433f-b0b0-8f8c0c938a3c",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"d83ecd72-ed32-4c77-beaa-4a5f05b7b250",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"代码块",styles:{}}],children:[]},{id:"bed6f6d3-9dd5-4482-b67d-d0cb5b7ad291",type:"codeBlock",props:{language:"typescript"},content:[{type:"text",text:`export type RichTextEditorProps = {   
  id: string;   
  initialBlocks?: Block[];   
  onBlocksChange?: (blocks: Block[]) => void;   
  readOnly?: boolean;   
  theme?: 'light' | 'dark';   
  locale: 'zh' | 'en'; 
};`,styles:{}}],children:[]},{id:"7d09069d-33b3-4192-b6cc-2896fc2a6b19",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"798d0f75-3691-402d-862b-b1a40a5381d9",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"表格",styles:{}}],children:[]},{id:"daf24e84-45ed-4b93-9994-c91353440974",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"c6722bf5-9916-4f95-a3c8-df115b643d78",type:"table",props:{textColor:"default"},content:{type:"tableContent",columnWidths:[120,390,287],rows:[{cells:[{type:"tableCell",content:[{type:"text",text:"表头",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"blue",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:"表头",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"blue",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:"表头",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"blue",textColor:"default",textAlignment:"left"}}]},{cells:[{type:"tableCell",content:[{type:"text",text:"2222222",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:"33333333",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:"111111111",styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]}]},children:[]},{id:"4519bf66-6739-4db6-b30c-b9d7c2b890ec",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"图片",styles:{}}],children:[]},{id:"7b98c08d-1273-4c13-b3ae-6022570d4eb3",type:"quote",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:"图表支持 放大缩小, 因为目前demo只在前端实现, 所以无法在示例内容中展示, 你可以粘贴试试效果",styles:{}}],children:[]},{id:"47d725e3-89fd-4c0d-941f-781779cb8f33",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"24ac2569-53fd-4c8f-8593-44de9e6a45cf",type:"table",props:{textColor:"default"},content:{type:"tableContent",columnWidths:[null,null,null],rows:[{cells:[{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]},{cells:[{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]}]},children:[]},{id:"f3f48912-6eab-4767-8170-bf2d17e78560",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1},content:[{type:"text",text:"分栏",styles:{}}],children:[]},{id:"887e7dcf-723d-46fe-bf27-118f97e24a5d",type:"columnList",props:{},children:[{id:"acf39c4d-cb1a-4fd6-8f06-3a8d17183a63",type:"column",props:{width:.9215686274509803},children:[{id:"8d282ce2-2c95-4e8d-bdef-1f9a959afa27",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"第一列",styles:{}}],children:[]},{id:"6589192c-4013-4359-9994-93809162dba5",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"啥犯得上发生胜多负少稍等放松放松",styles:{}}],children:[]}]},{id:"0ef4596c-8956-43ea-9116-6fcb5e5ccef6",type:"column",props:{width:1.0784313725490198},children:[{id:"74bc948b-5081-4847-a063-24ca23d69d60",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"第二列",styles:{}}],children:[]},{id:"b8df266a-1dba-43e5-9db8-a0c41ffeede4",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"啥犯得上发生胜多负少稍等放松放松",styles:{}}],children:[]}]}]},{id:"08c2453e-9617-4a03-aa0c-f17f3d52c92b",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]}];function vT(t,e){const n=sk(Gye(t,e));return ps({get(){return n.value},set(r){n.value=r,qye(t,r)}})}function Gye(t,e){return new URLSearchParams(location.search).get(t)||e}function qye(t,e){const n=new URLSearchParams(location.search);e===void 0?n.delete(t):n.set(t,e||""),location.replace(`${location.pathname}?${n.toString()}`)}const Wye={class:"wrapper"},Kye={class:"header"},Zye={class:"content"},Xye={class:"left"},Yye={class:"right"},Qye={class:"inner bordered"},Jye=Lm({__name:"App",setup(t){const e=sk(Fye),n=vT("theme","light"),r=vT("readOnly","false"),i=vT("locale","zh");return(l,a)=>(ai(),tu("div",Wye,[Ss("div",Kye,[Un(qo(Uye),null,{default:iv(()=>[a[4]||(a[4]=Ss("span",null," BlockNote Editor ",-1)),Un(qo(bT),{type:"primary",onClick:a[0]||(a[0]=()=>{n.value=qo(n)=="dark"?"light":"dark"})},{default:iv(()=>[zh("主题:"+Pw(qo(n)),1)]),_:1}),Un(qo(bT),{type:"text",onClick:a[1]||(a[1]=u=>r.value=qo(r)==="true"?"false":"true")},{default:iv(()=>[qo(r)==="true"?(ai(),tu(Yo,{key:0},[zh(" 只读 ")],64)):(ai(),tu(Yo,{key:1},[zh(" 可编辑 ")],64))]),_:1}),Un(qo(bT),{onClick:a[2]||(a[2]=()=>{i.value=qo(i)==="zh"?"en":"zh"})},{default:iv(()=>[zh(" locale:"+Pw(qo(i)),1)]),_:1})]),_:1})]),Ss("div",Zye,[Ss("div",Xye,[Un(qo(kye),{theme:qo(n),locale:qo(i),readOnly:qo(r)==="true",initialBlocks:e.value,onBlocksChange:a[3]||(a[3]=u=>{e.value=u})},null,8,["theme","locale","readOnly","initialBlocks"])]),Ss("div",Yye,[a[7]||(a[7]=Ss("div",null,"Document JSON:",-1)),Ss("div",Qye,[Ss("pre",null,[a[5]||(a[5]=zh("        ")),Ss("code",null,Pw(JSON.stringify(e.value,null,2)),1),a[6]||(a[6]=zh(`
      `))])])])])]))}}),e0e=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},t0e=e0e(Jye,[["__scopeId","data-v-2c260c01"]]);jV(t0e).mount("#app");export{Lbe as E,m0e as a,i5 as c,ape as f,JP as g,dpe as h,nA as n,g0e as p,vz as s,mme as t,n3 as w,fpe as z};
