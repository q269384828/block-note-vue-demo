const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CcZNLNXV.js","assets/index-Bkohaulx.js","assets/index-Ch_qCilz.js","assets/default-0Dp3JUBc.js","assets/index-D0r1GWo-.js","assets/index-BJIPS6SV.js","assets/index-B9Q8Y-GR.js","assets/index-C2o2j-tx.js","assets/index-c2V3InAJ.js","assets/index-D4Wp6AEg.js","assets/index-DDaE9jMN.js","assets/index-CgK3u0dG.js","assets/index-DNoyPb3H.js","assets/index-BdmKeUBW.js","assets/index-D7-7PmSP.js","assets/index-DpipQwVu.js","assets/index-DTzQ7r7Q.js","assets/index-BiBm3qPN.js","assets/index-C_aolqmU.js","assets/index-4SZtKH9m.js","assets/blank-line-D3C7De5j.js","assets/index-hRuAkC1j.js","assets/index-UBgLExeH.js","assets/index-UrwFYu9c.js","assets/index-SzIx7y6K.js","assets/index-Tlm8e_FK.js","assets/index-BxE2facF.js","assets/index-Dw8e9nLW.js","assets/index-BCPnb1JI.js"])))=>i.map(i=>d[i]);
function U7(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(o,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xk(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const jt={},jc=[],Ji=()=>{},F7=()=>!1,Kg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ck=t=>t.startsWith("onUpdate:"),Fn=Object.assign,Sk=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},q7=Object.prototype.hasOwnProperty,bt=(t,e)=>q7.call(t,e),qe=Array.isArray,Hc=t=>Zg(t)==="[object Map]",ER=t=>Zg(t)==="[object Set]",Xe=t=>typeof t=="function",pn=t=>typeof t=="string",gl=t=>typeof t=="symbol",Gt=t=>t!==null&&typeof t=="object",MR=t=>(Gt(t)||Xe(t))&&Xe(t.then)&&Xe(t.catch),TR=Object.prototype.toString,Zg=t=>TR.call(t),G7=t=>Zg(t).slice(8,-1),AR=t=>Zg(t)==="[object Object]",_k=t=>pn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zd=xk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},K7=/-(\w)/g,rl=Yg(t=>t.replace(K7,(e,n)=>n?n.toUpperCase():"")),Z7=/\B([A-Z])/g,Ma=Yg(t=>t.replace(Z7,"-$1").toLowerCase()),OR=Yg(t=>t.charAt(0).toUpperCase()+t.slice(1)),m1=Yg(t=>t?`on${OR(t)}`:""),tl=(t,e)=>!Object.is(t,e),g1=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},RR=(t,e,n,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:n})},Y7=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Q2;const Wg=()=>Q2||(Q2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ek(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],i=pn(o)?Q7(o):Ek(o);if(i)for(const r in i)e[r]=i[r]}return e}else if(pn(t)||Gt(t))return t}const W7=/;(?![^(]*\))/g,X7=/:([^]+)/,J7=/\/\*[^]*?\*\//g;function Q7(t){const e={};return t.replace(J7,"").split(W7).forEach(n=>{if(n){const o=n.split(X7);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Mk(t){let e="";if(pn(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const o=Mk(t[n]);o&&(e+=o+" ")}else if(Gt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const e6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",t6=xk(e6);function NR(t){return!!t||t===""}const DR=t=>!!(t&&t.__v_isRef===!0),nm=t=>pn(t)?t:t==null?"":qe(t)||Gt(t)&&(t.toString===TR||!Xe(t.toString))?DR(t)?nm(t.value):JSON.stringify(t,LR,2):String(t),LR=(t,e)=>DR(e)?LR(t,e.value):Hc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[o,i],r)=>(n[b1(o,r)+" =>"]=i,n),{})}:ER(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>b1(n))}:gl(e)?b1(e):Gt(e)&&!qe(e)&&!AR(e)?String(e):e,b1=(t,e="")=>{var n;return gl(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Io;class n6{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Io,!e&&Io&&(this.index=(Io.scopes||(Io.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Io;try{return Io=this,e()}finally{Io=n}}}on(){Io=this}off(){Io=this.parent}stop(e){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function o6(){return Io}let Bt;const y1=new WeakSet;class BR{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Io&&Io.active&&Io.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,y1.has(this)&&(y1.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||HR(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,eM(this),IR(this);const e=Bt,n=xi;Bt=this,xi=!0;try{return this.fn()}finally{zR(this),Bt=e,xi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ok(e);this.deps=this.depsTail=void 0,eM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?y1.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fv(this)&&this.run()}get dirty(){return Fv(this)}}let jR=0,Pd,Vd;function HR(t,e=!1){if(t.flags|=8,e){t.next=Vd,Vd=t;return}t.next=Pd,Pd=t}function Tk(){jR++}function Ak(){if(--jR>0)return;if(Vd){let e=Vd;for(Vd=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Pd;){let e=Pd;for(Pd=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=n}}if(t)throw t}function IR(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function zR(t){let e,n=t.depsTail,o=n;for(;o;){const i=o.prevDep;o.version===-1?(o===n&&(n=i),Ok(o),i6(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}t.deps=e,t.depsTail=n}function Fv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(PR(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function PR(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===cf))return;t.globalVersion=cf;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Fv(t)){t.flags&=-3;return}const n=Bt,o=xi;Bt=t,xi=!0;try{IR(t);const i=t.fn(t._value);(e.version===0||tl(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Bt=n,xi=o,zR(t),t.flags&=-3}}function Ok(t,e=!1){const{dep:n,prevSub:o,nextSub:i}=t;if(o&&(o.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=o,t.nextSub=void 0),n.subs===t&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Ok(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function i6(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let xi=!0;const VR=[];function bl(){VR.push(xi),xi=!1}function yl(){const t=VR.pop();xi=t===void 0?!0:t}function eM(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Bt;Bt=void 0;try{e()}finally{Bt=n}}}let cf=0,r6=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Rk{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Bt||!xi||Bt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Bt)n=this.activeLink=new r6(Bt,this),Bt.deps?(n.prevDep=Bt.depsTail,Bt.depsTail.nextDep=n,Bt.depsTail=n):Bt.deps=Bt.depsTail=n,$R(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Bt.depsTail,n.nextDep=void 0,Bt.depsTail.nextDep=n,Bt.depsTail=n,Bt.deps===n&&(Bt.deps=o)}return n}trigger(e){this.version++,cf++,this.notify(e)}notify(e){Tk();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ak()}}}function $R(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)$R(o)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const qv=new WeakMap,ra=Symbol(""),Gv=Symbol(""),uf=Symbol("");function Hn(t,e,n){if(xi&&Bt){let o=qv.get(t);o||qv.set(t,o=new Map);let i=o.get(n);i||(o.set(n,i=new Rk),i.map=o,i.key=n),i.track()}}function $r(t,e,n,o,i,r){const s=qv.get(t);if(!s){cf++;return}const a=u=>{u&&u.trigger()};if(Tk(),e==="clear")s.forEach(a);else{const u=qe(t),d=u&&_k(n);if(u&&n==="length"){const h=Number(o);s.forEach((p,g)=>{(g==="length"||g===uf||!gl(g)&&g>=h)&&a(p)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),d&&a(s.get(uf)),e){case"add":u?d&&a(s.get("length")):(a(s.get(ra)),Hc(t)&&a(s.get(Gv)));break;case"delete":u||(a(s.get(ra)),Hc(t)&&a(s.get(Gv)));break;case"set":Hc(t)&&a(s.get(ra));break}}Ak()}function kc(t){const e=gt(t);return e===t?e:(Hn(e,"iterate",uf),Ci(t)?e:e.map(Jn))}function Nk(t){return Hn(t=gt(t),"iterate",uf),t}const s6={__proto__:null,[Symbol.iterator](){return v1(this,Symbol.iterator,Jn)},concat(...t){return kc(this).concat(...t.map(e=>qe(e)?kc(e):e))},entries(){return v1(this,"entries",t=>(t[1]=Jn(t[1]),t))},every(t,e){return Dr(this,"every",t,e,void 0,arguments)},filter(t,e){return Dr(this,"filter",t,e,n=>n.map(Jn),arguments)},find(t,e){return Dr(this,"find",t,e,Jn,arguments)},findIndex(t,e){return Dr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Dr(this,"findLast",t,e,Jn,arguments)},findLastIndex(t,e){return Dr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Dr(this,"forEach",t,e,void 0,arguments)},includes(...t){return w1(this,"includes",t)},indexOf(...t){return w1(this,"indexOf",t)},join(t){return kc(this).join(t)},lastIndexOf(...t){return w1(this,"lastIndexOf",t)},map(t,e){return Dr(this,"map",t,e,void 0,arguments)},pop(){return wd(this,"pop")},push(...t){return wd(this,"push",t)},reduce(t,...e){return tM(this,"reduce",t,e)},reduceRight(t,...e){return tM(this,"reduceRight",t,e)},shift(){return wd(this,"shift")},some(t,e){return Dr(this,"some",t,e,void 0,arguments)},splice(...t){return wd(this,"splice",t)},toReversed(){return kc(this).toReversed()},toSorted(t){return kc(this).toSorted(t)},toSpliced(...t){return kc(this).toSpliced(...t)},unshift(...t){return wd(this,"unshift",t)},values(){return v1(this,"values",Jn)}};function v1(t,e,n){const o=Nk(t),i=o[e]();return o!==t&&!Ci(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const l6=Array.prototype;function Dr(t,e,n,o,i,r){const s=Nk(t),a=s!==t&&!Ci(t),u=s[e];if(u!==l6[e]){const p=u.apply(t,r);return a?Jn(p):p}let d=n;s!==t&&(a?d=function(p,g){return n.call(this,Jn(p),g,t)}:n.length>2&&(d=function(p,g){return n.call(this,p,g,t)}));const h=u.call(s,d,o);return a&&i?i(h):h}function tM(t,e,n,o){const i=Nk(t);let r=n;return i!==t&&(Ci(t)?n.length>3&&(r=function(s,a,u){return n.call(this,s,a,u,t)}):r=function(s,a,u){return n.call(this,s,Jn(a),u,t)}),i[e](r,...o)}function w1(t,e,n){const o=gt(t);Hn(o,"iterate",uf);const i=o[e](...n);return(i===-1||i===!1)&&jk(n[0])?(n[0]=gt(n[0]),o[e](...n)):i}function wd(t,e,n=[]){bl(),Tk();const o=gt(t)[e].apply(t,n);return Ak(),yl(),o}const a6=xk("__proto__,__v_isRef,__isVue"),UR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gl));function c6(t){gl(t)||(t=String(t));const e=gt(this);return Hn(e,"has",t),e.hasOwnProperty(t)}class FR{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,o){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return o===(i?r?v6:ZR:r?KR:GR).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const s=qe(e);if(!i){let u;if(s&&(u=s6[n]))return u;if(n==="hasOwnProperty")return c6}const a=Reflect.get(e,n,Vn(e)?e:o);return(gl(n)?UR.has(n):a6(n))||(i||Hn(e,"get",n),r)?a:Vn(a)?s&&_k(n)?a:a.value:Gt(a)?i?YR(a):Lk(a):a}}class qR extends FR{constructor(e=!1){super(!1,e)}set(e,n,o,i){let r=e[n];if(!this._isShallow){const u=ha(r);if(!Ci(o)&&!ha(o)&&(r=gt(r),o=gt(o)),!qe(e)&&Vn(r)&&!Vn(o))return u?!1:(r.value=o,!0)}const s=qe(e)&&_k(n)?Number(n)<e.length:bt(e,n),a=Reflect.set(e,n,o,Vn(e)?e:i);return e===gt(i)&&(s?tl(o,r)&&$r(e,"set",n,o):$r(e,"add",n,o)),a}deleteProperty(e,n){const o=bt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&o&&$r(e,"delete",n,void 0),i}has(e,n){const o=Reflect.has(e,n);return(!gl(n)||!UR.has(n))&&Hn(e,"has",n),o}ownKeys(e){return Hn(e,"iterate",qe(e)?"length":ra),Reflect.ownKeys(e)}}class u6 extends FR{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const d6=new qR,f6=new u6,h6=new qR(!0);const Kv=t=>t,Mp=t=>Reflect.getPrototypeOf(t);function p6(t,e,n){return function(...o){const i=this.__v_raw,r=gt(i),s=Hc(r),a=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,d=i[t](...o),h=n?Kv:e?Zv:Jn;return!e&&Hn(r,"iterate",u?Gv:ra),{next(){const{value:p,done:g}=d.next();return g?{value:p,done:g}:{value:a?[h(p[0]),h(p[1])]:h(p),done:g}},[Symbol.iterator](){return this}}}}function Tp(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function m6(t,e){const n={get(i){const r=this.__v_raw,s=gt(r),a=gt(i);t||(tl(i,a)&&Hn(s,"get",i),Hn(s,"get",a));const{has:u}=Mp(s),d=e?Kv:t?Zv:Jn;if(u.call(s,i))return d(r.get(i));if(u.call(s,a))return d(r.get(a));r!==s&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Hn(gt(i),"iterate",ra),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,s=gt(r),a=gt(i);return t||(tl(i,a)&&Hn(s,"has",i),Hn(s,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const s=this,a=s.__v_raw,u=gt(a),d=e?Kv:t?Zv:Jn;return!t&&Hn(u,"iterate",ra),a.forEach((h,p)=>i.call(r,d(h),d(p),s))}};return Fn(n,t?{add:Tp("add"),set:Tp("set"),delete:Tp("delete"),clear:Tp("clear")}:{add(i){!e&&!Ci(i)&&!ha(i)&&(i=gt(i));const r=gt(this);return Mp(r).has.call(r,i)||(r.add(i),$r(r,"add",i,i)),this},set(i,r){!e&&!Ci(r)&&!ha(r)&&(r=gt(r));const s=gt(this),{has:a,get:u}=Mp(s);let d=a.call(s,i);d||(i=gt(i),d=a.call(s,i));const h=u.call(s,i);return s.set(i,r),d?tl(r,h)&&$r(s,"set",i,r):$r(s,"add",i,r),this},delete(i){const r=gt(this),{has:s,get:a}=Mp(r);let u=s.call(r,i);u||(i=gt(i),u=s.call(r,i)),a&&a.call(r,i);const d=r.delete(i);return u&&$r(r,"delete",i,void 0),d},clear(){const i=gt(this),r=i.size!==0,s=i.clear();return r&&$r(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=p6(i,t,e)}),n}function Dk(t,e){const n=m6(t,e);return(o,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?o:Reflect.get(bt(n,i)&&i in o?n:o,i,r)}const g6={get:Dk(!1,!1)},b6={get:Dk(!1,!0)},y6={get:Dk(!0,!1)};const GR=new WeakMap,KR=new WeakMap,ZR=new WeakMap,v6=new WeakMap;function w6(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function k6(t){return t.__v_skip||!Object.isExtensible(t)?0:w6(G7(t))}function Lk(t){return ha(t)?t:Bk(t,!1,d6,g6,GR)}function x6(t){return Bk(t,!1,h6,b6,KR)}function YR(t){return Bk(t,!0,f6,y6,ZR)}function Bk(t,e,n,o,i){if(!Gt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const s=k6(t);if(s===0)return t;const a=new Proxy(t,s===2?o:n);return i.set(t,a),a}function $d(t){return ha(t)?$d(t.__v_raw):!!(t&&t.__v_isReactive)}function ha(t){return!!(t&&t.__v_isReadonly)}function Ci(t){return!!(t&&t.__v_isShallow)}function jk(t){return t?!!t.__v_raw:!1}function gt(t){const e=t&&t.__v_raw;return e?gt(e):t}function C6(t){return!bt(t,"__v_skip")&&Object.isExtensible(t)&&RR(t,"__v_skip",!0),t}const Jn=t=>Gt(t)?Lk(t):t,Zv=t=>Gt(t)?YR(t):t;function Vn(t){return t?t.__v_isRef===!0:!1}function Ud(t){return S6(t,!0)}function S6(t,e){return Vn(t)?t:new _6(t,e)}class _6{constructor(e,n){this.dep=new Rk,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:gt(e),this._value=n?e:Jn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,o=this.__v_isShallow||Ci(e)||ha(e);e=o?e:gt(e),tl(e,n)&&(this._rawValue=e,this._value=o?e:Jn(e),this.dep.trigger())}}function WR(t){return Vn(t)?t.value:t}const E6={get:(t,e,n)=>e==="__v_raw"?t:WR(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const i=t[e];return Vn(i)&&!Vn(n)?(i.value=n,!0):Reflect.set(t,e,n,o)}};function XR(t){return $d(t)?t:new Proxy(t,E6)}class M6{constructor(e,n,o){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Rk(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Bt!==this)return HR(this,!0),!0}get value(){const e=this.dep.track();return PR(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function T6(t,e,n=!1){let o,i;return Xe(t)?o=t:(o=t.get,i=t.set),new M6(o,i,n)}const Ap={},Cm=new WeakMap;let Zl;function A6(t,e=!1,n=Zl){if(n){let o=Cm.get(n);o||Cm.set(n,o=[]),o.push(t)}}function O6(t,e,n=jt){const{immediate:o,deep:i,once:r,scheduler:s,augmentJob:a,call:u}=n,d=O=>i?O:Ci(O)||i===!1||i===0?qs(O,1):qs(O);let h,p,g,b,v=!1,k=!1;if(Vn(t)?(p=()=>t.value,v=Ci(t)):$d(t)?(p=()=>d(t),v=!0):qe(t)?(k=!0,v=t.some(O=>$d(O)||Ci(O)),p=()=>t.map(O=>{if(Vn(O))return O.value;if($d(O))return d(O);if(Xe(O))return u?u(O,2):O()})):Xe(t)?e?p=u?()=>u(t,2):t:p=()=>{if(g){bl();try{g()}finally{yl()}}const O=Zl;Zl=h;try{return u?u(t,3,[b]):t(b)}finally{Zl=O}}:p=Ji,e&&i){const O=p,R=i===!0?1/0:i;p=()=>qs(O(),R)}const C=o6(),_=()=>{h.stop(),C&&C.active&&Sk(C.effects,h)};if(r&&e){const O=e;e=(...R)=>{O(...R),_()}}let M=k?new Array(t.length).fill(Ap):Ap;const A=O=>{if(!(!(h.flags&1)||!h.dirty&&!O))if(e){const R=h.run();if(i||v||(k?R.some((j,z)=>tl(j,M[z])):tl(R,M))){g&&g();const j=Zl;Zl=h;try{const z=[R,M===Ap?void 0:k&&M[0]===Ap?[]:M,b];u?u(e,3,z):e(...z),M=R}finally{Zl=j}}}else h.run()};return a&&a(A),h=new BR(p),h.scheduler=s?()=>s(A,!1):A,b=O=>A6(O,!1,h),g=h.onStop=()=>{const O=Cm.get(h);if(O){if(u)u(O,4);else for(const R of O)R();Cm.delete(h)}},e?o?A(!0):M=h.run():s?s(A.bind(null,!0),!0):h.run(),_.pause=h.pause.bind(h),_.resume=h.resume.bind(h),_.stop=_,_}function qs(t,e=1/0,n){if(e<=0||!Gt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Vn(t))qs(t.value,e,n);else if(qe(t))for(let o=0;o<t.length;o++)qs(t[o],e,n);else if(ER(t)||Hc(t))t.forEach(o=>{qs(o,e,n)});else if(AR(t)){for(const o in t)qs(t[o],e,n);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&qs(t[o],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uf(t,e,n,o){try{return o?t(...o):t()}catch(i){Xg(i,e,n)}}function nr(t,e,n,o){if(Xe(t)){const i=Uf(t,e,n,o);return i&&MR(i)&&i.catch(r=>{Xg(r,e,n)}),i}if(qe(t)){const i=[];for(let r=0;r<t.length;r++)i.push(nr(t[r],e,n,o));return i}}function Xg(t,e,n,o=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||jt;if(e){let a=e.parent;const u=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](t,u,d)===!1)return}a=a.parent}if(r){bl(),Uf(r,null,10,[t,u,d]),yl();return}}R6(t,n,i,o,s)}function R6(t,e,n,o=!0,i=!1){if(i)throw t;console.error(t)}const Qn=[];let Ui=-1;const Ic=[];let Ps=null,Tc=0;const JR=Promise.resolve();let Sm=null;function N6(t){const e=Sm||JR;return t?e.then(this?t.bind(this):t):e}function D6(t){let e=Ui+1,n=Qn.length;for(;e<n;){const o=e+n>>>1,i=Qn[o],r=df(i);r<t||r===t&&i.flags&2?e=o+1:n=o}return e}function Hk(t){if(!(t.flags&1)){const e=df(t),n=Qn[Qn.length-1];!n||!(t.flags&2)&&e>=df(n)?Qn.push(t):Qn.splice(D6(e),0,t),t.flags|=1,QR()}}function QR(){Sm||(Sm=JR.then(tN))}function L6(t){qe(t)?Ic.push(...t):Ps&&t.id===-1?Ps.splice(Tc+1,0,t):t.flags&1||(Ic.push(t),t.flags|=1),QR()}function nM(t,e,n=Ui+1){for(;n<Qn.length;n++){const o=Qn[n];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;Qn.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function eN(t){if(Ic.length){const e=[...new Set(Ic)].sort((n,o)=>df(n)-df(o));if(Ic.length=0,Ps){Ps.push(...e);return}for(Ps=e,Tc=0;Tc<Ps.length;Tc++){const n=Ps[Tc];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ps=null,Tc=0}}const df=t=>t.id==null?t.flags&2?-1:1/0:t.id;function tN(t){try{for(Ui=0;Ui<Qn.length;Ui++){const e=Qn[Ui];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Uf(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ui<Qn.length;Ui++){const e=Qn[Ui];e&&(e.flags&=-2)}Ui=-1,Qn.length=0,eN(),Sm=null,(Qn.length||Ic.length)&&tN()}}let Yi=null,nN=null;function _m(t){const e=Yi;return Yi=t,nN=t&&t.type.__scopeId||null,e}function B6(t,e=Yi,n){if(!e||t._n)return t;const o=(...i)=>{o._d&&dM(-1);const r=_m(e);let s;try{s=t(...i)}finally{_m(r),o._d&&dM(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function ql(t,e,n,o){const i=t.dirs,r=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];r&&(a.oldValue=r[s].value);let u=a.dir[o];u&&(bl(),nr(u,n,8,[t.el,a,t,e]),yl())}}const j6=Symbol("_vte"),H6=t=>t.__isTeleport;function Ik(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ik(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function oN(t,e){return Xe(t)?Fn({name:t.name},e,{setup:t}):t}function iN(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Em(t,e,n,o,i=!1){if(qe(t)){t.forEach((v,k)=>Em(v,e&&(qe(e)?e[k]:e),n,o,i));return}if(Fd(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Em(t,e,n,o.component.subTree);return}const r=o.shapeFlag&4?Vk(o.component):o.el,s=i?null:r,{i:a,r:u}=t,d=e&&e.r,h=a.refs===jt?a.refs={}:a.refs,p=a.setupState,g=gt(p),b=p===jt?()=>!1:v=>bt(g,v);if(d!=null&&d!==u&&(pn(d)?(h[d]=null,b(d)&&(p[d]=null)):Vn(d)&&(d.value=null)),Xe(u))Uf(u,a,12,[s,h]);else{const v=pn(u),k=Vn(u);if(v||k){const C=()=>{if(t.f){const _=v?b(u)?p[u]:h[u]:u.value;i?qe(_)&&Sk(_,r):qe(_)?_.includes(r)||_.push(r):v?(h[u]=[r],b(u)&&(p[u]=h[u])):(u.value=[r],t.k&&(h[t.k]=u.value))}else v?(h[u]=s,b(u)&&(p[u]=s)):k&&(u.value=s,t.k&&(h[t.k]=s))};s?(C.id=-1,Bo(C,n)):C()}}}Wg().requestIdleCallback;Wg().cancelIdleCallback;const Fd=t=>!!t.type.__asyncLoader,rN=t=>t.type.__isKeepAlive;function I6(t,e){sN(t,"a",e)}function z6(t,e){sN(t,"da",e)}function sN(t,e,n=eo){const o=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Jg(e,o,n),n){let i=n.parent;for(;i&&i.parent;)rN(i.parent.vnode)&&P6(o,e,n,i),i=i.parent}}function P6(t,e,n,o){const i=Jg(e,t,o,!0);aN(()=>{Sk(o[e],i)},n)}function Jg(t,e,n=eo,o=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...s)=>{bl();const a=Ff(n),u=nr(e,n,t,s);return a(),yl(),u});return o?i.unshift(r):i.push(r),r}}const ss=t=>(e,n=eo)=>{(!pf||t==="sp")&&Jg(t,(...o)=>e(...o),n)},V6=ss("bm"),lN=ss("m"),$6=ss("bu"),U6=ss("u"),F6=ss("bum"),aN=ss("um"),q6=ss("sp"),G6=ss("rtg"),K6=ss("rtc");function Z6(t,e=eo){Jg("ec",t,e)}const Y6=Symbol.for("v-ndc"),Yv=t=>t?TN(t)?Vk(t):Yv(t.parent):null,qd=Fn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yv(t.parent),$root:t=>Yv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>uN(t),$forceUpdate:t=>t.f||(t.f=()=>{Hk(t.update)}),$nextTick:t=>t.n||(t.n=N6.bind(t.proxy)),$watch:t=>b9.bind(t)}),k1=(t,e)=>t!==jt&&!t.__isScriptSetup&&bt(t,e),W6={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:o,data:i,props:r,accessCache:s,type:a,appContext:u}=t;let d;if(e[0]!=="$"){const b=s[e];if(b!==void 0)switch(b){case 1:return o[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(k1(o,e))return s[e]=1,o[e];if(i!==jt&&bt(i,e))return s[e]=2,i[e];if((d=t.propsOptions[0])&&bt(d,e))return s[e]=3,r[e];if(n!==jt&&bt(n,e))return s[e]=4,n[e];Wv&&(s[e]=0)}}const h=qd[e];let p,g;if(h)return e==="$attrs"&&Hn(t.attrs,"get",""),h(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(n!==jt&&bt(n,e))return s[e]=4,n[e];if(g=u.config.globalProperties,bt(g,e))return g[e]},set({_:t},e,n){const{data:o,setupState:i,ctx:r}=t;return k1(i,e)?(i[e]=n,!0):o!==jt&&bt(o,e)?(o[e]=n,!0):bt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:i,propsOptions:r}},s){let a;return!!n[s]||t!==jt&&bt(t,s)||k1(e,s)||(a=r[0])&&bt(a,s)||bt(o,s)||bt(qd,s)||bt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:bt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function oM(t){return qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Wv=!0;function X6(t){const e=uN(t),n=t.proxy,o=t.ctx;Wv=!1,e.beforeCreate&&iM(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:s,watch:a,provide:u,inject:d,created:h,beforeMount:p,mounted:g,beforeUpdate:b,updated:v,activated:k,deactivated:C,beforeDestroy:_,beforeUnmount:M,destroyed:A,unmounted:O,render:R,renderTracked:j,renderTriggered:z,errorCaptured:V,serverPrefetch:Z,expose:oe,inheritAttrs:be,components:he,directives:ye,filters:ve}=e;if(d&&J6(d,o,null),s)for(const P in s){const U=s[P];Xe(U)&&(o[P]=U.bind(n))}if(i){const P=i.call(n,n);Gt(P)&&(t.data=Lk(P))}if(Wv=!0,r)for(const P in r){const U=r[P],ne=Xe(U)?U.bind(n,n):Xe(U.get)?U.get.bind(n,n):Ji,N=!Xe(U)&&Xe(U.set)?U.set.bind(n):Ji,F=P9({get:ne,set:N});Object.defineProperty(o,P,{enumerable:!0,configurable:!0,get:()=>F.value,set:ee=>F.value=ee})}if(a)for(const P in a)cN(a[P],o,n,P);if(u){const P=Xe(u)?u.call(n):u;Reflect.ownKeys(P).forEach(U=>{i9(U,P[U])})}h&&iM(h,t,"c");function B(P,U){qe(U)?U.forEach(ne=>P(ne.bind(n))):U&&P(U.bind(n))}if(B(V6,p),B(lN,g),B($6,b),B(U6,v),B(I6,k),B(z6,C),B(Z6,V),B(K6,j),B(G6,z),B(F6,M),B(aN,O),B(q6,Z),qe(oe))if(oe.length){const P=t.exposed||(t.exposed={});oe.forEach(U=>{Object.defineProperty(P,U,{get:()=>n[U],set:ne=>n[U]=ne})})}else t.exposed||(t.exposed={});R&&t.render===Ji&&(t.render=R),be!=null&&(t.inheritAttrs=be),he&&(t.components=he),ye&&(t.directives=ye),Z&&iN(t)}function J6(t,e,n=Ji){qe(t)&&(t=Xv(t));for(const o in t){const i=t[o];let r;Gt(i)?"default"in i?r=om(i.from||o,i.default,!0):r=om(i.from||o):r=om(i),Vn(r)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:s=>r.value=s}):e[o]=r}}function iM(t,e,n){nr(qe(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function cN(t,e,n,o){let i=o.includes(".")?SN(n,o):()=>n[o];if(pn(t)){const r=e[t];Xe(r)&&Gd(i,r)}else if(Xe(t))Gd(i,t.bind(n));else if(Gt(t))if(qe(t))t.forEach(r=>cN(r,e,n,o));else{const r=Xe(t.handler)?t.handler.bind(n):e[t.handler];Xe(r)&&Gd(i,r,t)}}function uN(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:s}}=t.appContext,a=r.get(e);let u;return a?u=a:!i.length&&!n&&!o?u=e:(u={},i.length&&i.forEach(d=>Mm(u,d,s,!0)),Mm(u,e,s)),Gt(e)&&r.set(e,u),u}function Mm(t,e,n,o=!1){const{mixins:i,extends:r}=e;r&&Mm(t,r,n,!0),i&&i.forEach(s=>Mm(t,s,n,!0));for(const s in e)if(!(o&&s==="expose")){const a=Q6[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const Q6={data:rM,props:sM,emits:sM,methods:Nd,computed:Nd,beforeCreate:Wn,created:Wn,beforeMount:Wn,mounted:Wn,beforeUpdate:Wn,updated:Wn,beforeDestroy:Wn,beforeUnmount:Wn,destroyed:Wn,unmounted:Wn,activated:Wn,deactivated:Wn,errorCaptured:Wn,serverPrefetch:Wn,components:Nd,directives:Nd,watch:t9,provide:rM,inject:e9};function rM(t,e){return e?t?function(){return Fn(Xe(t)?t.call(this,this):t,Xe(e)?e.call(this,this):e)}:e:t}function e9(t,e){return Nd(Xv(t),Xv(e))}function Xv(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Wn(t,e){return t?[...new Set([].concat(t,e))]:e}function Nd(t,e){return t?Fn(Object.create(null),t,e):e}function sM(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:Fn(Object.create(null),oM(t),oM(e??{})):e}function t9(t,e){if(!t)return e;if(!e)return t;const n=Fn(Object.create(null),t);for(const o in e)n[o]=Wn(t[o],e[o]);return n}function dN(){return{app:null,config:{isNativeTag:F7,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let n9=0;function o9(t,e){return function(o,i=null){Xe(o)||(o=Fn({},o)),i!=null&&!Gt(i)&&(i=null);const r=dN(),s=new WeakSet,a=[];let u=!1;const d=r.app={_uid:n9++,_component:o,_props:i,_container:null,_context:r,_instance:null,version:$9,get config(){return r.config},set config(h){},use(h,...p){return s.has(h)||(h&&Xe(h.install)?(s.add(h),h.install(d,...p)):Xe(h)&&(s.add(h),h(d,...p))),d},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),d},component(h,p){return p?(r.components[h]=p,d):r.components[h]},directive(h,p){return p?(r.directives[h]=p,d):r.directives[h]},mount(h,p,g){if(!u){const b=d._ceVNode||ci(o,i);return b.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),t(b,h,g),u=!0,d._container=h,h.__vue_app__=d,Vk(b.component)}},onUnmount(h){a.push(h)},unmount(){u&&(nr(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,p){return r.provides[h]=p,d},runWithContext(h){const p=zc;zc=d;try{return h()}finally{zc=p}}};return d}}let zc=null;function i9(t,e){if(eo){let n=eo.provides;const o=eo.parent&&eo.parent.provides;o===n&&(n=eo.provides=Object.create(o)),n[t]=e}}function om(t,e,n=!1){const o=eo||Yi;if(o||zc){const i=zc?zc._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Xe(e)?e.call(o&&o.proxy):e}}const fN={},hN=()=>Object.create(fN),pN=t=>Object.getPrototypeOf(t)===fN;function r9(t,e,n,o=!1){const i={},r=hN();t.propsDefaults=Object.create(null),mN(t,e,i,r);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=o?i:x6(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function s9(t,e,n,o){const{props:i,attrs:r,vnode:{patchFlag:s}}=t,a=gt(i),[u]=t.propsOptions;let d=!1;if((o||s>0)&&!(s&16)){if(s&8){const h=t.vnode.dynamicProps;for(let p=0;p<h.length;p++){let g=h[p];if(Qg(t.emitsOptions,g))continue;const b=e[g];if(u)if(bt(r,g))b!==r[g]&&(r[g]=b,d=!0);else{const v=rl(g);i[v]=Jv(u,a,v,b,t,!1)}else b!==r[g]&&(r[g]=b,d=!0)}}}else{mN(t,e,i,r)&&(d=!0);let h;for(const p in a)(!e||!bt(e,p)&&((h=Ma(p))===p||!bt(e,h)))&&(u?n&&(n[p]!==void 0||n[h]!==void 0)&&(i[p]=Jv(u,a,p,void 0,t,!0)):delete i[p]);if(r!==a)for(const p in r)(!e||!bt(e,p))&&(delete r[p],d=!0)}d&&$r(t.attrs,"set","")}function mN(t,e,n,o){const[i,r]=t.propsOptions;let s=!1,a;if(e)for(let u in e){if(zd(u))continue;const d=e[u];let h;i&&bt(i,h=rl(u))?!r||!r.includes(h)?n[h]=d:(a||(a={}))[h]=d:Qg(t.emitsOptions,u)||(!(u in o)||d!==o[u])&&(o[u]=d,s=!0)}if(r){const u=gt(n),d=a||jt;for(let h=0;h<r.length;h++){const p=r[h];n[p]=Jv(i,u,p,d[p],t,!bt(d,p))}}return s}function Jv(t,e,n,o,i,r){const s=t[n];if(s!=null){const a=bt(s,"default");if(a&&o===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&Xe(u)){const{propsDefaults:d}=i;if(n in d)o=d[n];else{const h=Ff(i);o=d[n]=u.call(null,e),h()}}else o=u;i.ce&&i.ce._setProp(n,o)}s[0]&&(r&&!a?o=!1:s[1]&&(o===""||o===Ma(n))&&(o=!0))}return o}const l9=new WeakMap;function gN(t,e,n=!1){const o=n?l9:e.propsCache,i=o.get(t);if(i)return i;const r=t.props,s={},a=[];let u=!1;if(!Xe(t)){const h=p=>{u=!0;const[g,b]=gN(p,e,!0);Fn(s,g),b&&a.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!r&&!u)return Gt(t)&&o.set(t,jc),jc;if(qe(r))for(let h=0;h<r.length;h++){const p=rl(r[h]);lM(p)&&(s[p]=jt)}else if(r)for(const h in r){const p=rl(h);if(lM(p)){const g=r[h],b=s[p]=qe(g)||Xe(g)?{type:g}:Fn({},g),v=b.type;let k=!1,C=!0;if(qe(v))for(let _=0;_<v.length;++_){const M=v[_],A=Xe(M)&&M.name;if(A==="Boolean"){k=!0;break}else A==="String"&&(C=!1)}else k=Xe(v)&&v.name==="Boolean";b[0]=k,b[1]=C,(k||bt(b,"default"))&&a.push(p)}}const d=[s,a];return Gt(t)&&o.set(t,d),d}function lM(t){return t[0]!=="$"&&!zd(t)}const bN=t=>t[0]==="_"||t==="$stable",zk=t=>qe(t)?t.map(Zi):[Zi(t)],a9=(t,e,n)=>{if(e._n)return e;const o=B6((...i)=>zk(e(...i)),n);return o._c=!1,o},yN=(t,e,n)=>{const o=t._ctx;for(const i in t){if(bN(i))continue;const r=t[i];if(Xe(r))e[i]=a9(i,r,o);else if(r!=null){const s=zk(r);e[i]=()=>s}}},vN=(t,e)=>{const n=zk(e);t.slots.default=()=>n},wN=(t,e,n)=>{for(const o in e)(n||o!=="_")&&(t[o]=e[o])},c9=(t,e,n)=>{const o=t.slots=hN();if(t.vnode.shapeFlag&32){const i=e._;i?(wN(o,e,n),n&&RR(o,"_",i,!0)):yN(e,o)}else e&&vN(t,e)},u9=(t,e,n)=>{const{vnode:o,slots:i}=t;let r=!0,s=jt;if(o.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:wN(i,e,n):(r=!e.$stable,yN(e,i)),s=e}else e&&(vN(t,e),s={default:1});if(r)for(const a in i)!bN(a)&&s[a]==null&&delete i[a]},Bo=S9;function d9(t){return f9(t)}function f9(t,e){const n=Wg();n.__VUE__=!0;const{insert:o,remove:i,patchProp:r,createElement:s,createText:a,createComment:u,setText:d,setElementText:h,parentNode:p,nextSibling:g,setScopeId:b=Ji,insertStaticContent:v}=t,k=(L,H,X,ce=null,le=null,re=null,we=void 0,ge=null,ue=!!H.dynamicChildren)=>{if(L===H)return;L&&!kd(L,H)&&(ce=et(L),ee(L,le,re,!0),L=null),H.patchFlag===-2&&(ue=!1,H.dynamicChildren=null);const{type:de,ref:Ne,shapeFlag:ke}=H;switch(de){case eb:C(L,H,X,ce);break;case ff:_(L,H,X,ce);break;case C1:L==null&&M(H,X,ce,we);break;case Ki:he(L,H,X,ce,le,re,we,ge,ue);break;default:ke&1?R(L,H,X,ce,le,re,we,ge,ue):ke&6?ye(L,H,X,ce,le,re,we,ge,ue):(ke&64||ke&128)&&de.process(L,H,X,ce,le,re,we,ge,ue,zt)}Ne!=null&&le&&Em(Ne,L&&L.ref,re,H||L,!H)},C=(L,H,X,ce)=>{if(L==null)o(H.el=a(H.children),X,ce);else{const le=H.el=L.el;H.children!==L.children&&d(le,H.children)}},_=(L,H,X,ce)=>{L==null?o(H.el=u(H.children||""),X,ce):H.el=L.el},M=(L,H,X,ce)=>{[L.el,L.anchor]=v(L.children,H,X,ce,L.el,L.anchor)},A=({el:L,anchor:H},X,ce)=>{let le;for(;L&&L!==H;)le=g(L),o(L,X,ce),L=le;o(H,X,ce)},O=({el:L,anchor:H})=>{let X;for(;L&&L!==H;)X=g(L),i(L),L=X;i(H)},R=(L,H,X,ce,le,re,we,ge,ue)=>{H.type==="svg"?we="svg":H.type==="math"&&(we="mathml"),L==null?j(H,X,ce,le,re,we,ge,ue):Z(L,H,le,re,we,ge,ue)},j=(L,H,X,ce,le,re,we,ge)=>{let ue,de;const{props:Ne,shapeFlag:ke,transition:Oe,dirs:He}=L;if(ue=L.el=s(L.type,re,Ne&&Ne.is,Ne),ke&8?h(ue,L.children):ke&16&&V(L.children,ue,null,ce,le,x1(L,re),we,ge),He&&ql(L,null,ce,"created"),z(ue,L,L.scopeId,we,ce),Ne){for(const Fe in Ne)Fe!=="value"&&!zd(Fe)&&r(ue,Fe,null,Ne[Fe],re,ce);"value"in Ne&&r(ue,"value",null,Ne.value,re),(de=Ne.onVnodeBeforeMount)&&Vi(de,ce,L)}He&&ql(L,null,ce,"beforeMount");const Ue=h9(le,Oe);Ue&&Oe.beforeEnter(ue),o(ue,H,X),((de=Ne&&Ne.onVnodeMounted)||Ue||He)&&Bo(()=>{de&&Vi(de,ce,L),Ue&&Oe.enter(ue),He&&ql(L,null,ce,"mounted")},le)},z=(L,H,X,ce,le)=>{if(X&&b(L,X),ce)for(let re=0;re<ce.length;re++)b(L,ce[re]);if(le){let re=le.subTree;if(H===re||EN(re.type)&&(re.ssContent===H||re.ssFallback===H)){const we=le.vnode;z(L,we,we.scopeId,we.slotScopeIds,le.parent)}}},V=(L,H,X,ce,le,re,we,ge,ue=0)=>{for(let de=ue;de<L.length;de++){const Ne=L[de]=ge?Vs(L[de]):Zi(L[de]);k(null,Ne,H,X,ce,le,re,we,ge)}},Z=(L,H,X,ce,le,re,we)=>{const ge=H.el=L.el;let{patchFlag:ue,dynamicChildren:de,dirs:Ne}=H;ue|=L.patchFlag&16;const ke=L.props||jt,Oe=H.props||jt;let He;if(X&&Gl(X,!1),(He=Oe.onVnodeBeforeUpdate)&&Vi(He,X,H,L),Ne&&ql(H,L,X,"beforeUpdate"),X&&Gl(X,!0),(ke.innerHTML&&Oe.innerHTML==null||ke.textContent&&Oe.textContent==null)&&h(ge,""),de?oe(L.dynamicChildren,de,ge,X,ce,x1(H,le),re):we||U(L,H,ge,null,X,ce,x1(H,le),re,!1),ue>0){if(ue&16)be(ge,ke,Oe,X,le);else if(ue&2&&ke.class!==Oe.class&&r(ge,"class",null,Oe.class,le),ue&4&&r(ge,"style",ke.style,Oe.style,le),ue&8){const Ue=H.dynamicProps;for(let Fe=0;Fe<Ue.length;Fe++){const Ye=Ue[Fe],mt=ke[Ye],un=Oe[Ye];(un!==mt||Ye==="value")&&r(ge,Ye,mt,un,le,X)}}ue&1&&L.children!==H.children&&h(ge,H.children)}else!we&&de==null&&be(ge,ke,Oe,X,le);((He=Oe.onVnodeUpdated)||Ne)&&Bo(()=>{He&&Vi(He,X,H,L),Ne&&ql(H,L,X,"updated")},ce)},oe=(L,H,X,ce,le,re,we)=>{for(let ge=0;ge<H.length;ge++){const ue=L[ge],de=H[ge],Ne=ue.el&&(ue.type===Ki||!kd(ue,de)||ue.shapeFlag&70)?p(ue.el):X;k(ue,de,Ne,null,ce,le,re,we,!0)}},be=(L,H,X,ce,le)=>{if(H!==X){if(H!==jt)for(const re in H)!zd(re)&&!(re in X)&&r(L,re,H[re],null,le,ce);for(const re in X){if(zd(re))continue;const we=X[re],ge=H[re];we!==ge&&re!=="value"&&r(L,re,ge,we,le,ce)}"value"in X&&r(L,"value",H.value,X.value,le)}},he=(L,H,X,ce,le,re,we,ge,ue)=>{const de=H.el=L?L.el:a(""),Ne=H.anchor=L?L.anchor:a("");let{patchFlag:ke,dynamicChildren:Oe,slotScopeIds:He}=H;He&&(ge=ge?ge.concat(He):He),L==null?(o(de,X,ce),o(Ne,X,ce),V(H.children||[],X,Ne,le,re,we,ge,ue)):ke>0&&ke&64&&Oe&&L.dynamicChildren?(oe(L.dynamicChildren,Oe,X,le,re,we,ge),(H.key!=null||le&&H===le.subTree)&&kN(L,H,!0)):U(L,H,X,Ne,le,re,we,ge,ue)},ye=(L,H,X,ce,le,re,we,ge,ue)=>{H.slotScopeIds=ge,L==null?H.shapeFlag&512?le.ctx.activate(H,X,ce,we,ue):ve(H,X,ce,le,re,we,ue):pe(L,H,ue)},ve=(L,H,X,ce,le,re,we)=>{const ge=L.component=L9(L,ce,le);if(rN(L)&&(ge.ctx.renderer=zt),B9(ge,!1,we),ge.asyncDep){if(le&&le.registerDep(ge,B,we),!L.el){const ue=ge.subTree=ci(ff);_(null,ue,H,X)}}else B(ge,L,H,X,le,re,we)},pe=(L,H,X)=>{const ce=H.component=L.component;if(x9(L,H,X))if(ce.asyncDep&&!ce.asyncResolved){P(ce,H,X);return}else ce.next=H,ce.update();else H.el=L.el,ce.vnode=H},B=(L,H,X,ce,le,re,we)=>{const ge=()=>{if(L.isMounted){let{next:ke,bu:Oe,u:He,parent:Ue,vnode:Fe}=L;{const Go=xN(L);if(Go){ke&&(ke.el=Fe.el,P(L,ke,we)),Go.asyncDep.then(()=>{L.isUnmounted||ge()});return}}let Ye=ke,mt;Gl(L,!1),ke?(ke.el=Fe.el,P(L,ke,we)):ke=Fe,Oe&&g1(Oe),(mt=ke.props&&ke.props.onVnodeBeforeUpdate)&&Vi(mt,Ue,ke,Fe),Gl(L,!0);const un=cM(L),Dt=L.subTree;L.subTree=un,k(Dt,un,p(Dt.el),et(Dt),L,le,re),ke.el=un.el,Ye===null&&C9(L,un.el),He&&Bo(He,le),(mt=ke.props&&ke.props.onVnodeUpdated)&&Bo(()=>Vi(mt,Ue,ke,Fe),le)}else{let ke;const{el:Oe,props:He}=H,{bm:Ue,m:Fe,parent:Ye,root:mt,type:un}=L,Dt=Fd(H);Gl(L,!1),Ue&&g1(Ue),!Dt&&(ke=He&&He.onVnodeBeforeMount)&&Vi(ke,Ye,H),Gl(L,!0);{mt.ce&&mt.ce._injectChildStyle(un);const Go=L.subTree=cM(L);k(null,Go,X,ce,L,le,re),H.el=Go.el}if(Fe&&Bo(Fe,le),!Dt&&(ke=He&&He.onVnodeMounted)){const Go=H;Bo(()=>Vi(ke,Ye,Go),le)}(H.shapeFlag&256||Ye&&Fd(Ye.vnode)&&Ye.vnode.shapeFlag&256)&&L.a&&Bo(L.a,le),L.isMounted=!0,H=X=ce=null}};L.scope.on();const ue=L.effect=new BR(ge);L.scope.off();const de=L.update=ue.run.bind(ue),Ne=L.job=ue.runIfDirty.bind(ue);Ne.i=L,Ne.id=L.uid,ue.scheduler=()=>Hk(Ne),Gl(L,!0),de()},P=(L,H,X)=>{H.component=L;const ce=L.vnode.props;L.vnode=H,L.next=null,s9(L,H.props,ce,X),u9(L,H.children,X),bl(),nM(L),yl()},U=(L,H,X,ce,le,re,we,ge,ue=!1)=>{const de=L&&L.children,Ne=L?L.shapeFlag:0,ke=H.children,{patchFlag:Oe,shapeFlag:He}=H;if(Oe>0){if(Oe&128){N(de,ke,X,ce,le,re,we,ge,ue);return}else if(Oe&256){ne(de,ke,X,ce,le,re,we,ge,ue);return}}He&8?(Ne&16&&xe(de,le,re),ke!==de&&h(X,ke)):Ne&16?He&16?N(de,ke,X,ce,le,re,we,ge,ue):xe(de,le,re,!0):(Ne&8&&h(X,""),He&16&&V(ke,X,ce,le,re,we,ge,ue))},ne=(L,H,X,ce,le,re,we,ge,ue)=>{L=L||jc,H=H||jc;const de=L.length,Ne=H.length,ke=Math.min(de,Ne);let Oe;for(Oe=0;Oe<ke;Oe++){const He=H[Oe]=ue?Vs(H[Oe]):Zi(H[Oe]);k(L[Oe],He,X,null,le,re,we,ge,ue)}de>Ne?xe(L,le,re,!0,!1,ke):V(H,X,ce,le,re,we,ge,ue,ke)},N=(L,H,X,ce,le,re,we,ge,ue)=>{let de=0;const Ne=H.length;let ke=L.length-1,Oe=Ne-1;for(;de<=ke&&de<=Oe;){const He=L[de],Ue=H[de]=ue?Vs(H[de]):Zi(H[de]);if(kd(He,Ue))k(He,Ue,X,null,le,re,we,ge,ue);else break;de++}for(;de<=ke&&de<=Oe;){const He=L[ke],Ue=H[Oe]=ue?Vs(H[Oe]):Zi(H[Oe]);if(kd(He,Ue))k(He,Ue,X,null,le,re,we,ge,ue);else break;ke--,Oe--}if(de>ke){if(de<=Oe){const He=Oe+1,Ue=He<Ne?H[He].el:ce;for(;de<=Oe;)k(null,H[de]=ue?Vs(H[de]):Zi(H[de]),X,Ue,le,re,we,ge,ue),de++}}else if(de>Oe)for(;de<=ke;)ee(L[de],le,re,!0),de++;else{const He=de,Ue=de,Fe=new Map;for(de=Ue;de<=Oe;de++){const Jt=H[de]=ue?Vs(H[de]):Zi(H[de]);Jt.key!=null&&Fe.set(Jt.key,de)}let Ye,mt=0;const un=Oe-Ue+1;let Dt=!1,Go=0;const Bi=new Array(un);for(de=0;de<un;de++)Bi[de]=0;for(de=He;de<=ke;de++){const Jt=L[de];if(mt>=un){ee(Jt,le,re,!0);continue}let Zn;if(Jt.key!=null)Zn=Fe.get(Jt.key);else for(Ye=Ue;Ye<=Oe;Ye++)if(Bi[Ye-Ue]===0&&kd(Jt,H[Ye])){Zn=Ye;break}Zn===void 0?ee(Jt,le,re,!0):(Bi[Zn-Ue]=de+1,Zn>=Go?Go=Zn:Dt=!0,k(Jt,H[Zn],X,null,le,re,we,ge,ue),mt++)}const Ml=Dt?p9(Bi):jc;for(Ye=Ml.length-1,de=un-1;de>=0;de--){const Jt=Ue+de,Zn=H[Jt],hs=Jt+1<Ne?H[Jt+1].el:ce;Bi[de]===0?k(null,Zn,X,hs,le,re,we,ge,ue):Dt&&(Ye<0||de!==Ml[Ye]?F(Zn,X,hs,2):Ye--)}}},F=(L,H,X,ce,le=null)=>{const{el:re,type:we,transition:ge,children:ue,shapeFlag:de}=L;if(de&6){F(L.component.subTree,H,X,ce);return}if(de&128){L.suspense.move(H,X,ce);return}if(de&64){we.move(L,H,X,zt);return}if(we===Ki){o(re,H,X);for(let ke=0;ke<ue.length;ke++)F(ue[ke],H,X,ce);o(L.anchor,H,X);return}if(we===C1){A(L,H,X);return}if(ce!==2&&de&1&&ge)if(ce===0)ge.beforeEnter(re),o(re,H,X),Bo(()=>ge.enter(re),le);else{const{leave:ke,delayLeave:Oe,afterLeave:He}=ge,Ue=()=>o(re,H,X),Fe=()=>{ke(re,()=>{Ue(),He&&He()})};Oe?Oe(re,Ue,Fe):Fe()}else o(re,H,X)},ee=(L,H,X,ce=!1,le=!1)=>{const{type:re,props:we,ref:ge,children:ue,dynamicChildren:de,shapeFlag:Ne,patchFlag:ke,dirs:Oe,cacheIndex:He}=L;if(ke===-2&&(le=!1),ge!=null&&Em(ge,null,X,L,!0),He!=null&&(H.renderCache[He]=void 0),Ne&256){H.ctx.deactivate(L);return}const Ue=Ne&1&&Oe,Fe=!Fd(L);let Ye;if(Fe&&(Ye=we&&we.onVnodeBeforeUnmount)&&Vi(Ye,H,L),Ne&6)Be(L.component,X,ce);else{if(Ne&128){L.suspense.unmount(X,ce);return}Ue&&ql(L,null,H,"beforeUnmount"),Ne&64?L.type.remove(L,H,X,zt,ce):de&&!de.hasOnce&&(re!==Ki||ke>0&&ke&64)?xe(de,H,X,!1,!0):(re===Ki&&ke&384||!le&&Ne&16)&&xe(ue,H,X),ce&&se(L)}(Fe&&(Ye=we&&we.onVnodeUnmounted)||Ue)&&Bo(()=>{Ye&&Vi(Ye,H,L),Ue&&ql(L,null,H,"unmounted")},X)},se=L=>{const{type:H,el:X,anchor:ce,transition:le}=L;if(H===Ki){Ce(X,ce);return}if(H===C1){O(L);return}const re=()=>{i(X),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(L.shapeFlag&1&&le&&!le.persisted){const{leave:we,delayLeave:ge}=le,ue=()=>we(X,re);ge?ge(L.el,re,ue):ue()}else re()},Ce=(L,H)=>{let X;for(;L!==H;)X=g(L),i(L),L=X;i(H)},Be=(L,H,X)=>{const{bum:ce,scope:le,job:re,subTree:we,um:ge,m:ue,a:de}=L;aM(ue),aM(de),ce&&g1(ce),le.stop(),re&&(re.flags|=8,ee(we,L,H,X)),ge&&Bo(ge,H),Bo(()=>{L.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},xe=(L,H,X,ce=!1,le=!1,re=0)=>{for(let we=re;we<L.length;we++)ee(L[we],H,X,ce,le)},et=L=>{if(L.shapeFlag&6)return et(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const H=g(L.anchor||L.el),X=H&&H[j6];return X?g(X):H};let Ge=!1;const Tt=(L,H,X)=>{L==null?H._vnode&&ee(H._vnode,null,null,!0):k(H._vnode||null,L,H,null,null,null,X),H._vnode=L,Ge||(Ge=!0,nM(),eN(),Ge=!1)},zt={p:k,um:ee,m:F,r:se,mt:ve,mc:V,pc:U,pbc:oe,n:et,o:t};return{render:Tt,hydrate:void 0,createApp:o9(Tt)}}function x1({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Gl({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function h9(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function kN(t,e,n=!1){const o=t.children,i=e.children;if(qe(o)&&qe(i))for(let r=0;r<o.length;r++){const s=o[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Vs(i[r]),a.el=s.el),!n&&a.patchFlag!==-2&&kN(s,a)),a.type===eb&&(a.el=s.el)}}function p9(t){const e=t.slice(),n=[0];let o,i,r,s,a;const u=t.length;for(o=0;o<u;o++){const d=t[o];if(d!==0){if(i=n[n.length-1],t[i]<d){e[o]=i,n.push(o);continue}for(r=0,s=n.length-1;r<s;)a=r+s>>1,t[n[a]]<d?r=a+1:s=a;d<t[n[r]]&&(r>0&&(e[o]=n[r-1]),n[r]=o)}}for(r=n.length,s=n[r-1];r-- >0;)n[r]=s,s=e[s];return n}function xN(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:xN(e)}function aM(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const m9=Symbol.for("v-scx"),g9=()=>om(m9);function Gd(t,e,n){return CN(t,e,n)}function CN(t,e,n=jt){const{immediate:o,deep:i,flush:r,once:s}=n,a=Fn({},n),u=e&&o||!e&&r!=="post";let d;if(pf){if(r==="sync"){const b=g9();d=b.__watcherHandles||(b.__watcherHandles=[])}else if(!u){const b=()=>{};return b.stop=Ji,b.resume=Ji,b.pause=Ji,b}}const h=eo;a.call=(b,v,k)=>nr(b,h,v,k);let p=!1;r==="post"?a.scheduler=b=>{Bo(b,h&&h.suspense)}:r!=="sync"&&(p=!0,a.scheduler=(b,v)=>{v?b():Hk(b)}),a.augmentJob=b=>{e&&(b.flags|=4),p&&(b.flags|=2,h&&(b.id=h.uid,b.i=h))};const g=O6(t,e,a);return pf&&(d?d.push(g):u&&g()),g}function b9(t,e,n){const o=this.proxy,i=pn(t)?t.includes(".")?SN(o,t):()=>o[t]:t.bind(o,o);let r;Xe(e)?r=e:(r=e.handler,n=e);const s=Ff(this),a=CN(i,r.bind(o),n);return s(),a}function SN(t,e){const n=e.split(".");return()=>{let o=t;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}const y9=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${rl(e)}Modifiers`]||t[`${Ma(e)}Modifiers`];function v9(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||jt;let i=n;const r=e.startsWith("update:"),s=r&&y9(o,e.slice(7));s&&(s.trim&&(i=n.map(h=>pn(h)?h.trim():h)),s.number&&(i=n.map(Y7)));let a,u=o[a=m1(e)]||o[a=m1(rl(e))];!u&&r&&(u=o[a=m1(Ma(e))]),u&&nr(u,t,6,i);const d=o[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,nr(d,t,6,i)}}function _N(t,e,n=!1){const o=e.emitsCache,i=o.get(t);if(i!==void 0)return i;const r=t.emits;let s={},a=!1;if(!Xe(t)){const u=d=>{const h=_N(d,e,!0);h&&(a=!0,Fn(s,h))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!r&&!a?(Gt(t)&&o.set(t,null),null):(qe(r)?r.forEach(u=>s[u]=null):Fn(s,r),Gt(t)&&o.set(t,s),s)}function Qg(t,e){return!t||!Kg(e)?!1:(e=e.slice(2).replace(/Once$/,""),bt(t,e[0].toLowerCase()+e.slice(1))||bt(t,Ma(e))||bt(t,e))}function cM(t){const{type:e,vnode:n,proxy:o,withProxy:i,propsOptions:[r],slots:s,attrs:a,emit:u,render:d,renderCache:h,props:p,data:g,setupState:b,ctx:v,inheritAttrs:k}=t,C=_m(t);let _,M;try{if(n.shapeFlag&4){const O=i||o,R=O;_=Zi(d.call(R,O,h,p,b,g,v)),M=a}else{const O=e;_=Zi(O.length>1?O(p,{attrs:a,slots:s,emit:u}):O(p,null)),M=e.props?a:w9(a)}}catch(O){Kd.length=0,Xg(O,t,1),_=ci(ff)}let A=_;if(M&&k!==!1){const O=Object.keys(M),{shapeFlag:R}=A;O.length&&R&7&&(r&&O.some(Ck)&&(M=k9(M,r)),A=Zc(A,M,!1,!0))}return n.dirs&&(A=Zc(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&Ik(A,n.transition),_=A,_m(C),_}const w9=t=>{let e;for(const n in t)(n==="class"||n==="style"||Kg(n))&&((e||(e={}))[n]=t[n]);return e},k9=(t,e)=>{const n={};for(const o in t)(!Ck(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n};function x9(t,e,n){const{props:o,children:i,component:r}=t,{props:s,children:a,patchFlag:u}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return o?uM(o,s,d):!!s;if(u&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const g=h[p];if(s[g]!==o[g]&&!Qg(d,g))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:o===s?!1:o?s?uM(o,s,d):!0:!!s;return!1}function uM(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let i=0;i<o.length;i++){const r=o[i];if(e[r]!==t[r]&&!Qg(n,r))return!0}return!1}function C9({vnode:t,parent:e},n){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=n,e=e.parent;else break}}const EN=t=>t.__isSuspense;function S9(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):L6(t)}const Ki=Symbol.for("v-fgt"),eb=Symbol.for("v-txt"),ff=Symbol.for("v-cmt"),C1=Symbol.for("v-stc"),Kd=[];let Vo=null;function _9(t=!1){Kd.push(Vo=t?null:[])}function E9(){Kd.pop(),Vo=Kd[Kd.length-1]||null}let hf=1;function dM(t,e=!1){hf+=t,t<0&&Vo&&e&&(Vo.hasOnce=!0)}function M9(t){return t.dynamicChildren=hf>0?Vo||jc:null,E9(),hf>0&&Vo&&Vo.push(t),t}function T9(t,e,n,o,i,r){return M9(jo(t,e,n,o,i,r,!0))}function Tm(t){return t?t.__v_isVNode===!0:!1}function kd(t,e){return t.type===e.type&&t.key===e.key}const MN=({key:t})=>t??null,im=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?pn(t)||Vn(t)||Xe(t)?{i:Yi,r:t,k:e,f:!!n}:t:null);function jo(t,e=null,n=null,o=0,i=null,r=t===Ki?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&MN(e),ref:e&&im(e),scopeId:nN,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Yi};return a?(Pk(u,n),r&128&&t.normalize(u)):n&&(u.shapeFlag|=pn(n)?8:16),hf>0&&!s&&Vo&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&Vo.push(u),u}const ci=A9;function A9(t,e=null,n=null,o=0,i=null,r=!1){if((!t||t===Y6)&&(t=ff),Tm(t)){const a=Zc(t,e,!0);return n&&Pk(a,n),hf>0&&!r&&Vo&&(a.shapeFlag&6?Vo[Vo.indexOf(t)]=a:Vo.push(a)),a.patchFlag=-2,a}if(z9(t)&&(t=t.__vccOpts),e){e=O9(e);let{class:a,style:u}=e;a&&!pn(a)&&(e.class=Mk(a)),Gt(u)&&(jk(u)&&!qe(u)&&(u=Fn({},u)),e.style=Ek(u))}const s=pn(t)?1:EN(t)?128:H6(t)?64:Gt(t)?4:Xe(t)?2:0;return jo(t,e,n,o,i,s,r,!0)}function O9(t){return t?jk(t)||pN(t)?Fn({},t):t:null}function Zc(t,e,n=!1,o=!1){const{props:i,ref:r,patchFlag:s,children:a,transition:u}=t,d=e?R9(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&MN(d),ref:e&&e.ref?n&&r?qe(r)?r.concat(im(e)):[r,im(e)]:im(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ki?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zc(t.ssContent),ssFallback:t.ssFallback&&Zc(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&o&&Ik(h,u.clone(h)),h}function Qv(t=" ",e=0){return ci(eb,null,t,e)}function Zi(t){return t==null||typeof t=="boolean"?ci(ff):qe(t)?ci(Ki,null,t.slice()):Tm(t)?Vs(t):ci(eb,null,String(t))}function Vs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Zc(t)}function Pk(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(o&65){const i=e.default;i&&(i._c&&(i._d=!1),Pk(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!pN(e)?e._ctx=Yi:i===3&&Yi&&(Yi.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Xe(e)?(e={default:e,_ctx:Yi},n=32):(e=String(e),o&64?(n=16,e=[Qv(e)]):n=8);t.children=e,t.shapeFlag|=n}function R9(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const i in o)if(i==="class")e.class!==o.class&&(e.class=Mk([e.class,o.class]));else if(i==="style")e.style=Ek([e.style,o.style]);else if(Kg(i)){const r=e[i],s=o[i];s&&r!==s&&!(qe(r)&&r.includes(s))&&(e[i]=r?[].concat(r,s):s)}else i!==""&&(e[i]=o[i])}return e}function Vi(t,e,n,o=null){nr(t,e,7,[n,o])}const N9=dN();let D9=0;function L9(t,e,n){const o=t.type,i=(e?e.appContext:t.appContext)||N9,r={uid:D9++,vnode:t,type:o,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new n6(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gN(o,i),emitsOptions:_N(o,i),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:o.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=v9.bind(null,r),t.ce&&t.ce(r),r}let eo=null,Am,ew;{const t=Wg(),e=(n,o)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(o),r=>{i.length>1?i.forEach(s=>s(r)):i[0](r)}};Am=e("__VUE_INSTANCE_SETTERS__",n=>eo=n),ew=e("__VUE_SSR_SETTERS__",n=>pf=n)}const Ff=t=>{const e=eo;return Am(t),t.scope.on(),()=>{t.scope.off(),Am(e)}},fM=()=>{eo&&eo.scope.off(),Am(null)};function TN(t){return t.vnode.shapeFlag&4}let pf=!1;function B9(t,e=!1,n=!1){e&&ew(e);const{props:o,children:i}=t.vnode,r=TN(t);r9(t,o,r,e),c9(t,i,n);const s=r?j9(t,e):void 0;return e&&ew(!1),s}function j9(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,W6);const{setup:o}=n;if(o){bl();const i=t.setupContext=o.length>1?I9(t):null,r=Ff(t),s=Uf(o,t,0,[t.props,i]),a=MR(s);if(yl(),r(),(a||t.sp)&&!Fd(t)&&iN(t),a){if(s.then(fM,fM),e)return s.then(u=>{hM(t,u)}).catch(u=>{Xg(u,t,0)});t.asyncDep=s}else hM(t,s)}else AN(t)}function hM(t,e,n){Xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Gt(e)&&(t.setupState=XR(e)),AN(t)}function AN(t,e,n){const o=t.type;t.render||(t.render=o.render||Ji);{const i=Ff(t);bl();try{X6(t)}finally{yl(),i()}}}const H9={get(t,e){return Hn(t,"get",""),t[e]}};function I9(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,H9),slots:t.slots,emit:t.emit,expose:e}}function Vk(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(XR(C6(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qd)return qd[n](t)},has(e,n){return n in e||n in qd}})):t.proxy}function z9(t){return Xe(t)&&"__vccOpts"in t}const P9=(t,e)=>T6(t,e,pf);function V9(t,e,n){const o=arguments.length;return o===2?Gt(e)&&!qe(e)?Tm(e)?ci(t,null,[e]):ci(t,e):ci(t,null,e):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Tm(n)&&(n=[n]),ci(t,e,n))}const $9="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tw;const pM=typeof window<"u"&&window.trustedTypes;if(pM)try{tw=pM.createPolicy("vue",{createHTML:t=>t})}catch{}const ON=tw?t=>tw.createHTML(t):t=>t,U9="http://www.w3.org/2000/svg",F9="http://www.w3.org/1998/Math/MathML",Pr=typeof document<"u"?document:null,mM=Pr&&Pr.createElement("template"),q9={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const i=e==="svg"?Pr.createElementNS(U9,t):e==="mathml"?Pr.createElementNS(F9,t):n?Pr.createElement(t,{is:n}):Pr.createElement(t);return t==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:t=>Pr.createTextNode(t),createComment:t=>Pr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,i,r){const s=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{mM.innerHTML=ON(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const a=mM.content;if(o==="svg"||o==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},G9=Symbol("_vtc");function K9(t,e,n){const o=t[G9];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const gM=Symbol("_vod"),Z9=Symbol("_vsh"),Y9=Symbol(""),W9=/(^|;)\s*display\s*:/;function X9(t,e,n){const o=t.style,i=pn(n);let r=!1;if(n&&!i){if(e)if(pn(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&rm(o,a,"")}else for(const s in e)n[s]==null&&rm(o,s,"");for(const s in n)s==="display"&&(r=!0),rm(o,s,n[s])}else if(i){if(e!==n){const s=o[Y9];s&&(n+=";"+s),o.cssText=n,r=W9.test(n)}}else e&&t.removeAttribute("style");gM in t&&(t[gM]=r?o.display:"",t[Z9]&&(o.display="none"))}const bM=/\s*!important$/;function rm(t,e,n){if(qe(n))n.forEach(o=>rm(t,e,o));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=J9(t,e);bM.test(n)?t.setProperty(Ma(o),n.replace(bM,""),"important"):t[o]=n}}const yM=["Webkit","Moz","ms"],S1={};function J9(t,e){const n=S1[e];if(n)return n;let o=rl(e);if(o!=="filter"&&o in t)return S1[e]=o;o=OR(o);for(let i=0;i<yM.length;i++){const r=yM[i]+o;if(r in t)return S1[e]=r}return e}const vM="http://www.w3.org/1999/xlink";function wM(t,e,n,o,i,r=t6(e)){o&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(vM,e.slice(6,e.length)):t.setAttributeNS(vM,e,n):n==null||r&&!NR(n)?t.removeAttribute(e):t.setAttribute(e,r?"":gl(n)?String(n):n)}function kM(t,e,n,o,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?ON(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=NR(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(i||e)}function Q9(t,e,n,o){t.addEventListener(e,n,o)}function eH(t,e,n,o){t.removeEventListener(e,n,o)}const xM=Symbol("_vei");function tH(t,e,n,o,i=null){const r=t[xM]||(t[xM]={}),s=r[e];if(o&&s)s.value=o;else{const[a,u]=nH(e);if(o){const d=r[e]=rH(o,i);Q9(t,a,d,u)}else s&&(eH(t,a,s,u),r[e]=void 0)}}const CM=/(?:Once|Passive|Capture)$/;function nH(t){let e;if(CM.test(t)){e={};let o;for(;o=t.match(CM);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ma(t.slice(2)),e]}let _1=0;const oH=Promise.resolve(),iH=()=>_1||(oH.then(()=>_1=0),_1=Date.now());function rH(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;nr(sH(o,n.value),e,5,[o])};return n.value=t,n.attached=iH(),n}function sH(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>i=>!i._stopped&&o&&o(i))}else return e}const SM=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,lH=(t,e,n,o,i,r)=>{const s=i==="svg";e==="class"?K9(t,o,s):e==="style"?X9(t,n,o):Kg(e)?Ck(e)||tH(t,e,n,o,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):aH(t,e,o,s))?(kM(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wM(t,e,o,s,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!pn(o))?kM(t,rl(e),o,r,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),wM(t,e,o,s))};function aH(t,e,n,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&SM(e)&&Xe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return SM(e)&&pn(n)?!1:e in t}const cH=Fn({patchProp:lH},q9);let _M;function uH(){return _M||(_M=d9(cH))}const dH=(...t)=>{const e=uH().createApp(...t),{mount:n}=e;return e.mount=o=>{const i=hH(o);if(!i)return;const r=e._component;!Xe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,fH(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function fH(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function hH(t){return pn(t)?document.querySelector(t):t}function RN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E1={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM;function pH(){if(EM)return We;EM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(N){return N===null||typeof N!="object"?null:(N=p&&N[p]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,k={};function C(N,F,ee){this.props=N,this.context=F,this.refs=k,this.updater=ee||b}C.prototype.isReactComponent={},C.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _(){}_.prototype=C.prototype;function M(N,F,ee){this.props=N,this.context=F,this.refs=k,this.updater=ee||b}var A=M.prototype=new _;A.constructor=M,v(A,C.prototype),A.isPureReactComponent=!0;var O=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function z(N,F,ee,se,Ce,Be){return ee=Be.ref,{$$typeof:t,type:N,key:F,ref:ee!==void 0?ee:null,props:Be}}function V(N,F){return z(N.type,F,void 0,void 0,void 0,N.props)}function Z(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function oe(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return F[ee]})}var be=/\/+/g;function he(N,F){return typeof N=="object"&&N!==null&&N.key!=null?oe(""+N.key):F.toString(36)}function ye(){}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ye,ye):(N.status="pending",N.then(function(F){N.status==="pending"&&(N.status="fulfilled",N.value=F)},function(F){N.status==="pending"&&(N.status="rejected",N.reason=F)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function pe(N,F,ee,se,Ce){var Be=typeof N;(Be==="undefined"||Be==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Be){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case t:case e:xe=!0;break;case h:return xe=N._init,pe(xe(N._payload),F,ee,se,Ce)}}if(xe)return Ce=Ce(N),xe=se===""?"."+he(N,0):se,O(Ce)?(ee="",xe!=null&&(ee=xe.replace(be,"$&/")+"/"),pe(Ce,F,ee,"",function(Tt){return Tt})):Ce!=null&&(Z(Ce)&&(Ce=V(Ce,ee+(Ce.key==null||N&&N.key===Ce.key?"":(""+Ce.key).replace(be,"$&/")+"/")+xe)),F.push(Ce)),1;xe=0;var et=se===""?".":se+":";if(O(N))for(var Ge=0;Ge<N.length;Ge++)se=N[Ge],Be=et+he(se,Ge),xe+=pe(se,F,ee,Be,Ce);else if(Ge=g(N),typeof Ge=="function")for(N=Ge.call(N),Ge=0;!(se=N.next()).done;)se=se.value,Be=et+he(se,Ge++),xe+=pe(se,F,ee,Be,Ce);else if(Be==="object"){if(typeof N.then=="function")return pe(ve(N),F,ee,se,Ce);throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return xe}function B(N,F,ee){if(N==null)return N;var se=[],Ce=0;return pe(N,se,"","",function(Be){return F.call(ee,Be,Ce++)}),se}function P(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var U=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ne(){}return We.Children={map:B,forEach:function(N,F,ee){B(N,function(){F.apply(this,arguments)},ee)},count:function(N){var F=0;return B(N,function(){F++}),F},toArray:function(N){return B(N,function(F){return F})||[]},only:function(N){if(!Z(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},We.Component=C,We.Fragment=n,We.Profiler=i,We.PureComponent=M,We.StrictMode=o,We.Suspense=u,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,We.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},We.cache=function(N){return function(){return N.apply(null,arguments)}},We.cloneElement=function(N,F,ee){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=v({},N.props),Ce=N.key,Be=void 0;if(F!=null)for(xe in F.ref!==void 0&&(Be=void 0),F.key!==void 0&&(Ce=""+F.key),F)!j.call(F,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&F.ref===void 0||(se[xe]=F[xe]);var xe=arguments.length-2;if(xe===1)se.children=ee;else if(1<xe){for(var et=Array(xe),Ge=0;Ge<xe;Ge++)et[Ge]=arguments[Ge+2];se.children=et}return z(N.type,Ce,void 0,void 0,Be,se)},We.createContext=function(N){return N={$$typeof:s,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:r,_context:N},N},We.createElement=function(N,F,ee){var se,Ce={},Be=null;if(F!=null)for(se in F.key!==void 0&&(Be=""+F.key),F)j.call(F,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Ce[se]=F[se]);var xe=arguments.length-2;if(xe===1)Ce.children=ee;else if(1<xe){for(var et=Array(xe),Ge=0;Ge<xe;Ge++)et[Ge]=arguments[Ge+2];Ce.children=et}if(N&&N.defaultProps)for(se in xe=N.defaultProps,xe)Ce[se]===void 0&&(Ce[se]=xe[se]);return z(N,Be,void 0,void 0,null,Ce)},We.createRef=function(){return{current:null}},We.forwardRef=function(N){return{$$typeof:a,render:N}},We.isValidElement=Z,We.lazy=function(N){return{$$typeof:h,_payload:{_status:-1,_result:N},_init:P}},We.memo=function(N,F){return{$$typeof:d,type:N,compare:F===void 0?null:F}},We.startTransition=function(N){var F=R.T,ee={};R.T=ee;try{var se=N(),Ce=R.S;Ce!==null&&Ce(ee,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ne,U)}catch(Be){U(Be)}finally{R.T=F}},We.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},We.use=function(N){return R.H.use(N)},We.useActionState=function(N,F,ee){return R.H.useActionState(N,F,ee)},We.useCallback=function(N,F){return R.H.useCallback(N,F)},We.useContext=function(N){return R.H.useContext(N)},We.useDebugValue=function(){},We.useDeferredValue=function(N,F){return R.H.useDeferredValue(N,F)},We.useEffect=function(N,F,ee){var se=R.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(N,F)},We.useId=function(){return R.H.useId()},We.useImperativeHandle=function(N,F,ee){return R.H.useImperativeHandle(N,F,ee)},We.useInsertionEffect=function(N,F){return R.H.useInsertionEffect(N,F)},We.useLayoutEffect=function(N,F){return R.H.useLayoutEffect(N,F)},We.useMemo=function(N,F){return R.H.useMemo(N,F)},We.useOptimistic=function(N,F){return R.H.useOptimistic(N,F)},We.useReducer=function(N,F,ee){return R.H.useReducer(N,F,ee)},We.useRef=function(N){return R.H.useRef(N)},We.useState=function(N){return R.H.useState(N)},We.useSyncExternalStore=function(N,F,ee){return R.H.useSyncExternalStore(N,F,ee)},We.useTransition=function(){return R.H.useTransition()},We.version="19.1.0",We}var MM;function $k(){return MM||(MM=1,E1.exports=pH()),E1.exports}var S=$k();const Ve=RN(S),mH=U7({__proto__:null,default:Ve},[S]);var M1={exports:{}},xd={},T1={exports:{}},A1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM;function gH(){return TM||(TM=1,function(t){function e(B,P){var U=B.length;B.push(P);e:for(;0<U;){var ne=U-1>>>1,N=B[ne];if(0<i(N,P))B[ne]=P,B[U]=N,U=ne;else break e}}function n(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var P=B[0],U=B.pop();if(U!==P){B[0]=U;e:for(var ne=0,N=B.length,F=N>>>1;ne<F;){var ee=2*(ne+1)-1,se=B[ee],Ce=ee+1,Be=B[Ce];if(0>i(se,U))Ce<N&&0>i(Be,se)?(B[ne]=Be,B[Ce]=U,ne=Ce):(B[ne]=se,B[ee]=U,ne=ee);else if(Ce<N&&0>i(Be,U))B[ne]=Be,B[Ce]=U,ne=Ce;else break e}}return P}function i(B,P){var U=B.sortIndex-P.sortIndex;return U!==0?U:B.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],d=[],h=1,p=null,g=3,b=!1,v=!1,k=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(B){for(var P=n(d);P!==null;){if(P.callback===null)o(d);else if(P.startTime<=B)o(d),P.sortIndex=P.expirationTime,e(u,P);else break;P=n(d)}}function R(B){if(k=!1,O(B),!v)if(n(u)!==null)v=!0,j||(j=!0,he());else{var P=n(d);P!==null&&pe(R,P.startTime-B)}}var j=!1,z=-1,V=5,Z=-1;function oe(){return C?!0:!(t.unstable_now()-Z<V)}function be(){if(C=!1,j){var B=t.unstable_now();Z=B;var P=!0;try{e:{v=!1,k&&(k=!1,M(z),z=-1),b=!0;var U=g;try{t:{for(O(B),p=n(u);p!==null&&!(p.expirationTime>B&&oe());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,g=p.priorityLevel;var N=ne(p.expirationTime<=B);if(B=t.unstable_now(),typeof N=="function"){p.callback=N,O(B),P=!0;break t}p===n(u)&&o(u),O(B)}else o(u);p=n(u)}if(p!==null)P=!0;else{var F=n(d);F!==null&&pe(R,F.startTime-B),P=!1}}break e}finally{p=null,g=U,b=!1}P=void 0}}finally{P?he():j=!1}}}var he;if(typeof A=="function")he=function(){A(be)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ve=ye.port2;ye.port1.onmessage=be,he=function(){ve.postMessage(null)}}else he=function(){_(be,0)};function pe(B,P){z=_(function(){B(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var U=g;g=P;try{return B()}finally{g=U}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(B,P){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=g;g=B;try{return P()}finally{g=U}},t.unstable_scheduleCallback=function(B,P,U){var ne=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,B){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=U+N,B={id:h++,callback:P,priorityLevel:B,startTime:U,expirationTime:N,sortIndex:-1},U>ne?(B.sortIndex=U,e(d,B),n(u)===null&&B===n(d)&&(k?(M(z),z=-1):k=!0,pe(R,U-ne))):(B.sortIndex=N,e(u,B),v||b||(v=!0,j||(j=!0,he()))),B},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(B){var P=g;return function(){var U=g;g=P;try{return B.apply(this,arguments)}finally{g=U}}}}(A1)),A1}var AM;function bH(){return AM||(AM=1,T1.exports=gH()),T1.exports}var O1={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM;function yH(){if(OM)return Ln;OM=1;var t=$k();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function r(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ln.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return r(u,d,null,h)},Ln.flushSync=function(u){var d=s.T,h=o.p;try{if(s.T=null,o.p=2,u)return u()}finally{s.T=d,o.p=h,o.d.f()}},Ln.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(u,d))},Ln.prefetchDNS=function(u){typeof u=="string"&&o.d.D(u)},Ln.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=a(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?o.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:b}):h==="script"&&o.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ln.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=a(d.as,d.crossOrigin);o.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(u)},Ln.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=a(h,d.crossOrigin);o.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ln.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=a(d.as,d.crossOrigin);o.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(u)},Ln.requestFormReset=function(u){o.d.r(u)},Ln.unstable_batchedUpdates=function(u,d){return u(d)},Ln.useFormState=function(u,d,h){return s.H.useFormState(u,d,h)},Ln.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ln.version="19.1.0",Ln}var RM;function NN(){if(RM)return O1.exports;RM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),O1.exports=yH(),O1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM;function vH(){if(NM)return xd;NM=1;var t=bH(),e=$k(),n=NN();function o(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function r(l){var c=l,f=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(f=c.return),l=c.return;while(l)}return c.tag===3?f:null}function s(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function a(l){if(r(l)!==l)throw Error(o(188))}function u(l){var c=l.alternate;if(!c){if(c=r(l),c===null)throw Error(o(188));return c!==l?null:l}for(var f=l,m=c;;){var y=f.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){f=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===f)return a(y),l;if(w===m)return a(y),c;w=w.sibling}throw Error(o(188))}if(f.return!==m.return)f=y,m=w;else{for(var E=!1,T=y.child;T;){if(T===f){E=!0,f=y,m=w;break}if(T===m){E=!0,m=y,f=w;break}T=T.sibling}if(!E){for(T=w.child;T;){if(T===f){E=!0,f=w,m=y;break}if(T===m){E=!0,m=w,f=y;break}T=T.sibling}if(!E)throw Error(o(189))}}if(f.alternate!==m)throw Error(o(190))}if(f.tag!==3)throw Error(o(188));return f.stateNode.current===f?l:c}function d(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=d(l),c!==null)return c;l=l.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function he(l){return l===null||typeof l!="object"?null:(l=be&&l[be]||l["@@iterator"],typeof l=="function"?l:null)}var ye=Symbol.for("react.client.reference");function ve(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===ye?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case j:return"SuspenseList";case Z:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case A:return(l.displayName||"Context")+".Provider";case M:return(l._context.displayName||"Context")+".Consumer";case O:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case z:return c=l.displayName||null,c!==null?c:ve(l.type)||"Memo";case V:c=l._payload,l=l._init;try{return ve(l(c))}catch{}}return null}var pe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},ne=[],N=-1;function F(l){return{current:l}}function ee(l){0>N||(l.current=ne[N],ne[N]=null,N--)}function se(l,c){N++,ne[N]=l.current,l.current=c}var Ce=F(null),Be=F(null),xe=F(null),et=F(null);function Ge(l,c){switch(se(xe,c),se(Be,l),se(Ce,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?M2(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=M2(c),l=T2(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ee(Ce),se(Ce,l)}function Tt(){ee(Ce),ee(Be),ee(xe)}function zt(l){l.memoizedState!==null&&se(et,l);var c=Ce.current,f=T2(c,l.type);c!==f&&(se(Be,l),se(Ce,f))}function lo(l){Be.current===l&&(ee(Ce),ee(Be)),et.current===l&&(ee(et),md._currentValue=U)}var L=Object.prototype.hasOwnProperty,H=t.unstable_scheduleCallback,X=t.unstable_cancelCallback,ce=t.unstable_shouldYield,le=t.unstable_requestPaint,re=t.unstable_now,we=t.unstable_getCurrentPriorityLevel,ge=t.unstable_ImmediatePriority,ue=t.unstable_UserBlockingPriority,de=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,ke=t.unstable_IdlePriority,Oe=t.log,He=t.unstable_setDisableYieldValue,Ue=null,Fe=null;function Ye(l){if(typeof Oe=="function"&&He(l),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Ue,l)}catch{}}var mt=Math.clz32?Math.clz32:Go,un=Math.log,Dt=Math.LN2;function Go(l){return l>>>=0,l===0?32:31-(un(l)/Dt|0)|0}var Bi=256,Ml=4194304;function Jt(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Zn(l,c,f){var m=l.pendingLanes;if(m===0)return 0;var y=0,w=l.suspendedLanes,E=l.pingedLanes;l=l.warmLanes;var T=m&134217727;return T!==0?(m=T&~w,m!==0?y=Jt(m):(E&=T,E!==0?y=Jt(E):f||(f=T&~l,f!==0&&(y=Jt(f))))):(T=m&~w,T!==0?y=Jt(T):E!==0?y=Jt(E):f||(f=m&~l,f!==0&&(y=Jt(f)))),y===0?0:c!==0&&c!==y&&(c&w)===0&&(w=y&-y,f=c&-c,w>=f||w===32&&(f&4194048)!==0)?c:y}function hs(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function Oj(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uS(){var l=Bi;return Bi<<=1,(Bi&4194048)===0&&(Bi=256),l}function dS(){var l=Ml;return Ml<<=1,(Ml&62914560)===0&&(Ml=4194304),l}function iy(l){for(var c=[],f=0;31>f;f++)c.push(l);return c}function _u(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Rj(l,c,f,m,y,w){var E=l.pendingLanes;l.pendingLanes=f,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=f,l.entangledLanes&=f,l.errorRecoveryDisabledLanes&=f,l.shellSuspendCounter=0;var T=l.entanglements,D=l.expirationTimes,K=l.hiddenUpdates;for(f=E&~f;0<f;){var Q=31-mt(f),ie=1<<Q;T[Q]=0,D[Q]=-1;var Y=K[Q];if(Y!==null)for(K[Q]=null,Q=0;Q<Y.length;Q++){var W=Y[Q];W!==null&&(W.lane&=-536870913)}f&=~ie}m!==0&&fS(l,m,0),w!==0&&y===0&&l.tag!==0&&(l.suspendedLanes|=w&~(E&~c))}function fS(l,c,f){l.pendingLanes|=c,l.suspendedLanes&=~c;var m=31-mt(c);l.entangledLanes|=c,l.entanglements[m]=l.entanglements[m]|1073741824|f&4194090}function hS(l,c){var f=l.entangledLanes|=c;for(l=l.entanglements;f;){var m=31-mt(f),y=1<<m;y&c|l[m]&c&&(l[m]|=c),f&=~y}}function ry(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function sy(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function pS(){var l=P.p;return l!==0?l:(l=window.event,l===void 0?32:K2(l.type))}function Nj(l,c){var f=P.p;try{return P.p=l,c()}finally{P.p=f}}var ps=Math.random().toString(36).slice(2),Nn="__reactFiber$"+ps,ao="__reactProps$"+ps,ja="__reactContainer$"+ps,ly="__reactEvents$"+ps,Dj="__reactListeners$"+ps,Lj="__reactHandles$"+ps,mS="__reactResources$"+ps,Eu="__reactMarker$"+ps;function ay(l){delete l[Nn],delete l[ao],delete l[ly],delete l[Dj],delete l[Lj]}function Ha(l){var c=l[Nn];if(c)return c;for(var f=l.parentNode;f;){if(c=f[ja]||f[Nn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(l=N2(l);l!==null;){if(f=l[Nn])return f;l=N2(l)}return c}l=f,f=l.parentNode}return null}function Ia(l){if(l=l[Nn]||l[ja]){var c=l.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return l}return null}function Mu(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(o(33))}function za(l){var c=l[mS];return c||(c=l[mS]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function mn(l){l[Eu]=!0}var gS=new Set,bS={};function Tl(l,c){Pa(l,c),Pa(l+"Capture",c)}function Pa(l,c){for(bS[l]=c,l=0;l<c.length;l++)gS.add(c[l])}var Bj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yS={},vS={};function jj(l){return L.call(vS,l)?!0:L.call(yS,l)?!1:Bj.test(l)?vS[l]=!0:(yS[l]=!0,!1)}function bh(l,c,f){if(jj(c))if(f===null)l.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+f)}}function yh(l,c,f){if(f===null)l.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+f)}}function yr(l,c,f,m){if(m===null)l.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttributeNS(c,f,""+m)}}var cy,wS;function Va(l){if(cy===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);cy=c&&c[1]||"",wS=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cy+l+wS}var uy=!1;function dy(l,c){if(!l||uy)return"";uy=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Y=W}Reflect.construct(l,[],ie)}else{try{ie.call()}catch(W){Y=W}l.call(ie.prototype)}}else{try{throw Error()}catch(W){Y=W}(ie=l())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),E=w[0],T=w[1];if(E&&T){var D=E.split(`
`),K=T.split(`
`);for(y=m=0;m<D.length&&!D[m].includes("DetermineComponentFrameRoot");)m++;for(;y<K.length&&!K[y].includes("DetermineComponentFrameRoot");)y++;if(m===D.length||y===K.length)for(m=D.length-1,y=K.length-1;1<=m&&0<=y&&D[m]!==K[y];)y--;for(;1<=m&&0<=y;m--,y--)if(D[m]!==K[y]){if(m!==1||y!==1)do if(m--,y--,0>y||D[m]!==K[y]){var Q=`
`+D[m].replace(" at new "," at ");return l.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",l.displayName)),Q}while(1<=m&&0<=y);break}}}finally{uy=!1,Error.prepareStackTrace=f}return(f=l?l.displayName||l.name:"")?Va(f):""}function Hj(l){switch(l.tag){case 26:case 27:case 5:return Va(l.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 15:return dy(l.type,!1);case 11:return dy(l.type.render,!1);case 1:return dy(l.type,!0);case 31:return Va("Activity");default:return""}}function kS(l){try{var c="";do c+=Hj(l),l=l.return;while(l);return c}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Ko(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function xS(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ij(l){var c=xS(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),m=""+l[c];if(!l.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,w=f.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return y.call(this)},set:function(E){m=""+E,w.call(this,E)}}),Object.defineProperty(l,c,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(E){m=""+E},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function vh(l){l._valueTracker||(l._valueTracker=Ij(l))}function CS(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var f=c.getValue(),m="";return l&&(m=xS(l)?l.checked?"true":"false":l.value),l=m,l!==f?(c.setValue(l),!0):!1}function wh(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var zj=/[\n"\\]/g;function Zo(l){return l.replace(zj,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function fy(l,c,f,m,y,w,E,T){l.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?l.type=E:l.removeAttribute("type"),c!=null?E==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+Ko(c)):l.value!==""+Ko(c)&&(l.value=""+Ko(c)):E!=="submit"&&E!=="reset"||l.removeAttribute("value"),c!=null?hy(l,E,Ko(c)):f!=null?hy(l,E,Ko(f)):m!=null&&l.removeAttribute("value"),y==null&&w!=null&&(l.defaultChecked=!!w),y!=null&&(l.checked=y&&typeof y!="function"&&typeof y!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?l.name=""+Ko(T):l.removeAttribute("name")}function SS(l,c,f,m,y,w,E,T){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(l.type=w),c!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||c!=null))return;f=f!=null?""+Ko(f):"",c=c!=null?""+Ko(c):f,T||c===l.value||(l.value=c),l.defaultValue=c}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,l.checked=T?l.checked:!!m,l.defaultChecked=!!m,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(l.name=E)}function hy(l,c,f){c==="number"&&wh(l.ownerDocument)===l||l.defaultValue===""+f||(l.defaultValue=""+f)}function $a(l,c,f,m){if(l=l.options,c){c={};for(var y=0;y<f.length;y++)c["$"+f[y]]=!0;for(f=0;f<l.length;f++)y=c.hasOwnProperty("$"+l[f].value),l[f].selected!==y&&(l[f].selected=y),y&&m&&(l[f].defaultSelected=!0)}else{for(f=""+Ko(f),c=null,y=0;y<l.length;y++){if(l[y].value===f){l[y].selected=!0,m&&(l[y].defaultSelected=!0);return}c!==null||l[y].disabled||(c=l[y])}c!==null&&(c.selected=!0)}}function _S(l,c,f){if(c!=null&&(c=""+Ko(c),c!==l.value&&(l.value=c),f==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=f!=null?""+Ko(f):""}function ES(l,c,f,m){if(c==null){if(m!=null){if(f!=null)throw Error(o(92));if(pe(m)){if(1<m.length)throw Error(o(93));m=m[0]}f=m}f==null&&(f=""),c=f}f=Ko(c),l.defaultValue=f,m=l.textContent,m===f&&m!==""&&m!==null&&(l.value=m)}function Ua(l,c){if(c){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=c;return}}l.textContent=c}var Pj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function MS(l,c,f){var m=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":m?l.setProperty(c,f):typeof f!="number"||f===0||Pj.has(c)?c==="float"?l.cssFloat=f:l[c]=(""+f).trim():l[c]=f+"px"}function TS(l,c,f){if(c!=null&&typeof c!="object")throw Error(o(62));if(l=l.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?l.setProperty(m,""):m==="float"?l.cssFloat="":l[m]="");for(var y in c)m=c[y],c.hasOwnProperty(y)&&f[y]!==m&&MS(l,y,m)}else for(var w in c)c.hasOwnProperty(w)&&MS(l,w,c[w])}function py(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$j=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kh(l){return $j.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var my=null;function gy(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Fa=null,qa=null;function AS(l){var c=Ia(l);if(c&&(l=c.stateNode)){var f=l[ao]||null;e:switch(l=c.stateNode,c.type){case"input":if(fy(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Zo(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var m=f[c];if(m!==l&&m.form===l.form){var y=m[ao]||null;if(!y)throw Error(o(90));fy(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<f.length;c++)m=f[c],m.form===l.form&&CS(m)}break e;case"textarea":_S(l,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&$a(l,!!f.multiple,c,!1)}}}var by=!1;function OS(l,c,f){if(by)return l(c,f);by=!0;try{var m=l(c);return m}finally{if(by=!1,(Fa!==null||qa!==null)&&(sp(),Fa&&(c=Fa,l=qa,qa=Fa=null,AS(c),l)))for(c=0;c<l.length;c++)AS(l[c])}}function Tu(l,c){var f=l.stateNode;if(f===null)return null;var m=f[ao]||null;if(m===null)return null;f=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(l=l.type,m=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!m;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(o(231,c,typeof f));return f}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yy=!1;if(vr)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){yy=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{yy=!1}var ms=null,vy=null,xh=null;function RS(){if(xh)return xh;var l,c=vy,f=c.length,m,y="value"in ms?ms.value:ms.textContent,w=y.length;for(l=0;l<f&&c[l]===y[l];l++);var E=f-l;for(m=1;m<=E&&c[f-m]===y[w-m];m++);return xh=y.slice(l,1<m?1-m:void 0)}function Ch(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Sh(){return!0}function NS(){return!1}function co(l){function c(f,m,y,w,E){this._reactName=f,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var T in l)l.hasOwnProperty(T)&&(f=l[T],this[T]=f?f(w):w[T]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Sh:NS,this.isPropagationStopped=NS,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Sh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Sh)},persist:function(){},isPersistent:Sh}),c}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=co(Al),Ou=h({},Al,{view:0,detail:0}),Uj=co(Ou),wy,ky,Ru,Eh=h({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ru&&(Ru&&l.type==="mousemove"?(wy=l.screenX-Ru.screenX,ky=l.screenY-Ru.screenY):ky=wy=0,Ru=l),wy)},movementY:function(l){return"movementY"in l?l.movementY:ky}}),DS=co(Eh),Fj=h({},Eh,{dataTransfer:0}),qj=co(Fj),Gj=h({},Ou,{relatedTarget:0}),xy=co(Gj),Kj=h({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),Zj=co(Kj),Yj=h({},Al,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Wj=co(Yj),Xj=h({},Al,{data:0}),LS=co(Xj),Jj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t8(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=e8[l])?!!c[l]:!1}function Cy(){return t8}var n8=h({},Ou,{key:function(l){if(l.key){var c=Jj[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=Ch(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Qj[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(l){return l.type==="keypress"?Ch(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ch(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),o8=co(n8),i8=h({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BS=co(i8),r8=h({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),s8=co(r8),l8=h({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),a8=co(l8),c8=h({},Eh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),u8=co(c8),d8=h({},Al,{newState:0,oldState:0}),f8=co(d8),h8=[9,13,27,32],Sy=vr&&"CompositionEvent"in window,Nu=null;vr&&"documentMode"in document&&(Nu=document.documentMode);var p8=vr&&"TextEvent"in window&&!Nu,jS=vr&&(!Sy||Nu&&8<Nu&&11>=Nu),HS=" ",IS=!1;function zS(l,c){switch(l){case"keyup":return h8.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ga=!1;function m8(l,c){switch(l){case"compositionend":return PS(c);case"keypress":return c.which!==32?null:(IS=!0,HS);case"textInput":return l=c.data,l===HS&&IS?null:l;default:return null}}function g8(l,c){if(Ga)return l==="compositionend"||!Sy&&zS(l,c)?(l=RS(),xh=vy=ms=null,Ga=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return jS&&c.locale!=="ko"?null:c.data;default:return null}}var b8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VS(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!b8[l.type]:c==="textarea"}function $S(l,c,f,m){Fa?qa?qa.push(m):qa=[m]:Fa=m,c=fp(c,"onChange"),0<c.length&&(f=new _h("onChange","change",null,f,m),l.push({event:f,listeners:c}))}var Du=null,Lu=null;function y8(l){x2(l,0)}function Mh(l){var c=Mu(l);if(CS(c))return l}function US(l,c){if(l==="change")return c}var FS=!1;if(vr){var _y;if(vr){var Ey="oninput"in document;if(!Ey){var qS=document.createElement("div");qS.setAttribute("oninput","return;"),Ey=typeof qS.oninput=="function"}_y=Ey}else _y=!1;FS=_y&&(!document.documentMode||9<document.documentMode)}function GS(){Du&&(Du.detachEvent("onpropertychange",KS),Lu=Du=null)}function KS(l){if(l.propertyName==="value"&&Mh(Lu)){var c=[];$S(c,Lu,l,gy(l)),OS(y8,c)}}function v8(l,c,f){l==="focusin"?(GS(),Du=c,Lu=f,Du.attachEvent("onpropertychange",KS)):l==="focusout"&&GS()}function w8(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Mh(Lu)}function k8(l,c){if(l==="click")return Mh(c)}function x8(l,c){if(l==="input"||l==="change")return Mh(c)}function C8(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var To=typeof Object.is=="function"?Object.is:C8;function Bu(l,c){if(To(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var f=Object.keys(l),m=Object.keys(c);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var y=f[m];if(!L.call(c,y)||!To(l[y],c[y]))return!1}return!0}function ZS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function YS(l,c){var f=ZS(l);l=0;for(var m;f;){if(f.nodeType===3){if(m=l+f.textContent.length,l<=c&&m>=c)return{node:f,offset:c-l};l=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=ZS(f)}}function WS(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?WS(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function XS(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=wh(l.document);c instanceof l.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)l=c.contentWindow;else break;c=wh(l.document)}return c}function My(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var S8=vr&&"documentMode"in document&&11>=document.documentMode,Ka=null,Ty=null,ju=null,Ay=!1;function JS(l,c,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ay||Ka==null||Ka!==wh(m)||(m=Ka,"selectionStart"in m&&My(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ju&&Bu(ju,m)||(ju=m,m=fp(Ty,"onSelect"),0<m.length&&(c=new _h("onSelect","select",null,c,f),l.push({event:c,listeners:m}),c.target=Ka)))}function Ol(l,c){var f={};return f[l.toLowerCase()]=c.toLowerCase(),f["Webkit"+l]="webkit"+c,f["Moz"+l]="moz"+c,f}var Za={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionrun:Ol("Transition","TransitionRun"),transitionstart:Ol("Transition","TransitionStart"),transitioncancel:Ol("Transition","TransitionCancel"),transitionend:Ol("Transition","TransitionEnd")},Oy={},QS={};vr&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Rl(l){if(Oy[l])return Oy[l];if(!Za[l])return l;var c=Za[l],f;for(f in c)if(c.hasOwnProperty(f)&&f in QS)return Oy[l]=c[f];return l}var e_=Rl("animationend"),t_=Rl("animationiteration"),n_=Rl("animationstart"),_8=Rl("transitionrun"),E8=Rl("transitionstart"),M8=Rl("transitioncancel"),o_=Rl("transitionend"),i_=new Map,Ry="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ry.push("scrollEnd");function pi(l,c){i_.set(l,c),Tl(c,[l])}var r_=new WeakMap;function Yo(l,c){if(typeof l=="object"&&l!==null){var f=r_.get(l);return f!==void 0?f:(c={value:l,source:c,stack:kS(c)},r_.set(l,c),c)}return{value:l,source:c,stack:kS(c)}}var Wo=[],Ya=0,Ny=0;function Th(){for(var l=Ya,c=Ny=Ya=0;c<l;){var f=Wo[c];Wo[c++]=null;var m=Wo[c];Wo[c++]=null;var y=Wo[c];Wo[c++]=null;var w=Wo[c];if(Wo[c++]=null,m!==null&&y!==null){var E=m.pending;E===null?y.next=y:(y.next=E.next,E.next=y),m.pending=y}w!==0&&s_(f,y,w)}}function Ah(l,c,f,m){Wo[Ya++]=l,Wo[Ya++]=c,Wo[Ya++]=f,Wo[Ya++]=m,Ny|=m,l.lanes|=m,l=l.alternate,l!==null&&(l.lanes|=m)}function Dy(l,c,f,m){return Ah(l,c,f,m),Oh(l)}function Wa(l,c){return Ah(l,null,null,c),Oh(l)}function s_(l,c,f){l.lanes|=f;var m=l.alternate;m!==null&&(m.lanes|=f);for(var y=!1,w=l.return;w!==null;)w.childLanes|=f,m=w.alternate,m!==null&&(m.childLanes|=f),w.tag===22&&(l=w.stateNode,l===null||l._visibility&1||(y=!0)),l=w,w=w.return;return l.tag===3?(w=l.stateNode,y&&c!==null&&(y=31-mt(f),l=w.hiddenUpdates,m=l[y],m===null?l[y]=[c]:m.push(c),c.lane=f|536870912),w):null}function Oh(l){if(50<ld)throw ld=0,z0=null,Error(o(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var Xa={};function T8(l,c,f,m){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ao(l,c,f,m){return new T8(l,c,f,m)}function Ly(l){return l=l.prototype,!(!l||!l.isReactComponent)}function wr(l,c){var f=l.alternate;return f===null?(f=Ao(l.tag,c,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=c,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&65011712,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,c=l.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f.refCleanup=l.refCleanup,f}function l_(l,c){l.flags&=65011714;var f=l.alternate;return f===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,c=f.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Rh(l,c,f,m,y,w){var E=0;if(m=l,typeof l=="function")Ly(l)&&(E=1);else if(typeof l=="string")E=O7(l,f,Ce.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case Z:return l=Ao(31,f,c,y),l.elementType=Z,l.lanes=w,l;case v:return Nl(f.children,y,w,c);case k:E=8,y|=24;break;case C:return l=Ao(12,f,c,y|2),l.elementType=C,l.lanes=w,l;case R:return l=Ao(13,f,c,y),l.elementType=R,l.lanes=w,l;case j:return l=Ao(19,f,c,y),l.elementType=j,l.lanes=w,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case _:case A:E=10;break e;case M:E=9;break e;case O:E=11;break e;case z:E=14;break e;case V:E=16,m=null;break e}E=29,f=Error(o(130,l===null?"null":typeof l,"")),m=null}return c=Ao(E,f,c,y),c.elementType=l,c.type=m,c.lanes=w,c}function Nl(l,c,f,m){return l=Ao(7,l,m,c),l.lanes=f,l}function By(l,c,f){return l=Ao(6,l,null,c),l.lanes=f,l}function jy(l,c,f){return c=Ao(4,l.children!==null?l.children:[],l.key,c),c.lanes=f,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var Ja=[],Qa=0,Nh=null,Dh=0,Xo=[],Jo=0,Dl=null,kr=1,xr="";function Ll(l,c){Ja[Qa++]=Dh,Ja[Qa++]=Nh,Nh=l,Dh=c}function a_(l,c,f){Xo[Jo++]=kr,Xo[Jo++]=xr,Xo[Jo++]=Dl,Dl=l;var m=kr;l=xr;var y=32-mt(m)-1;m&=~(1<<y),f+=1;var w=32-mt(c)+y;if(30<w){var E=y-y%5;w=(m&(1<<E)-1).toString(32),m>>=E,y-=E,kr=1<<32-mt(c)+y|f<<y|m,xr=w+l}else kr=1<<w|f<<y|m,xr=l}function Hy(l){l.return!==null&&(Ll(l,1),a_(l,1,0))}function Iy(l){for(;l===Nh;)Nh=Ja[--Qa],Ja[Qa]=null,Dh=Ja[--Qa],Ja[Qa]=null;for(;l===Dl;)Dl=Xo[--Jo],Xo[Jo]=null,xr=Xo[--Jo],Xo[Jo]=null,kr=Xo[--Jo],Xo[Jo]=null}var Yn=null,Kt=null,pt=!1,Bl=null,ji=!1,zy=Error(o(519));function jl(l){var c=Error(o(418,""));throw zu(Yo(c,l)),zy}function c_(l){var c=l.stateNode,f=l.type,m=l.memoizedProps;switch(c[Nn]=l,c[ao]=m,f){case"dialog":st("cancel",c),st("close",c);break;case"iframe":case"object":case"embed":st("load",c);break;case"video":case"audio":for(f=0;f<cd.length;f++)st(cd[f],c);break;case"source":st("error",c);break;case"img":case"image":case"link":st("error",c),st("load",c);break;case"details":st("toggle",c);break;case"input":st("invalid",c),SS(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),vh(c);break;case"select":st("invalid",c);break;case"textarea":st("invalid",c),ES(c,m.value,m.defaultValue,m.children),vh(c)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||m.suppressHydrationWarning===!0||E2(c.textContent,f)?(m.popover!=null&&(st("beforetoggle",c),st("toggle",c)),m.onScroll!=null&&st("scroll",c),m.onScrollEnd!=null&&st("scrollend",c),m.onClick!=null&&(c.onclick=hp),c=!0):c=!1,c||jl(l)}function u_(l){for(Yn=l.return;Yn;)switch(Yn.tag){case 5:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:Yn=Yn.return}}function Hu(l){if(l!==Yn)return!1;if(!pt)return u_(l),pt=!0,!1;var c=l.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=l.type,f=!(f!=="form"&&f!=="button")||t1(l.type,l.memoizedProps)),f=!f),f&&Kt&&jl(l),u_(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8)if(f=l.data,f==="/$"){if(c===0){Kt=gi(l.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++;l=l.nextSibling}Kt=null}}else c===27?(c=Kt,Rs(l.type)?(l=r1,r1=null,Kt=l):Kt=c):Kt=Yn?gi(l.stateNode.nextSibling):null;return!0}function Iu(){Kt=Yn=null,pt=!1}function d_(){var l=Bl;return l!==null&&(ho===null?ho=l:ho.push.apply(ho,l),Bl=null),l}function zu(l){Bl===null?Bl=[l]:Bl.push(l)}var Py=F(null),Hl=null,Cr=null;function gs(l,c,f){se(Py,c._currentValue),c._currentValue=f}function Sr(l){l._currentValue=Py.current,ee(Py)}function Vy(l,c,f){for(;l!==null;){var m=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),l===f)break;l=l.return}}function $y(l,c,f,m){var y=l.child;for(y!==null&&(y.return=l);y!==null;){var w=y.dependencies;if(w!==null){var E=y.child;w=w.firstContext;e:for(;w!==null;){var T=w;w=y;for(var D=0;D<c.length;D++)if(T.context===c[D]){w.lanes|=f,T=w.alternate,T!==null&&(T.lanes|=f),Vy(w.return,f,l),m||(E=null);break e}w=T.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(o(341));E.lanes|=f,w=E.alternate,w!==null&&(w.lanes|=f),Vy(E,f,l),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===l){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Pu(l,c,f,m){l=null;for(var y=c,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var T=y.type;To(y.pendingProps.value,E.value)||(l!==null?l.push(T):l=[T])}}else if(y===et.current){if(E=y.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(l!==null?l.push(md):l=[md])}y=y.return}l!==null&&$y(c,l,f,m),c.flags|=262144}function Lh(l){for(l=l.firstContext;l!==null;){if(!To(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Il(l){Hl=l,Cr=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Dn(l){return f_(Hl,l)}function Bh(l,c){return Hl===null&&Il(l),f_(l,c)}function f_(l,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Cr===null){if(l===null)throw Error(o(308));Cr=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else Cr=Cr.next=c;return f}var A8=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(f,m){l.push(m)}};this.abort=function(){c.aborted=!0,l.forEach(function(f){return f()})}},O8=t.unstable_scheduleCallback,R8=t.unstable_NormalPriority,dn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uy(){return{controller:new A8,data:new Map,refCount:0}}function Vu(l){l.refCount--,l.refCount===0&&O8(R8,function(){l.controller.abort()})}var $u=null,Fy=0,ec=0,tc=null;function N8(l,c){if($u===null){var f=$u=[];Fy=0,ec=G0(),tc={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Fy++,c.then(h_,h_),c}function h_(){if(--Fy===0&&$u!==null){tc!==null&&(tc.status="fulfilled");var l=$u;$u=null,ec=0,tc=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function D8(l,c){var f=[],m={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return l.then(function(){m.status="fulfilled",m.value=c;for(var y=0;y<f.length;y++)(0,f[y])(c)},function(y){for(m.status="rejected",m.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),m}var p_=B.S;B.S=function(l,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&N8(l,c),p_!==null&&p_(l,c)};var zl=F(null);function qy(){var l=zl.current;return l!==null?l:Lt.pooledCache}function jh(l,c){c===null?se(zl,zl.current):se(zl,c.pool)}function m_(){var l=qy();return l===null?null:{parent:dn._currentValue,pool:l}}var Uu=Error(o(460)),g_=Error(o(474)),Hh=Error(o(542)),Gy={then:function(){}};function b_(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Ih(){}function y_(l,c,f){switch(f=l[f],f===void 0?l.push(c):f!==c&&(c.then(Ih,Ih),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,w_(l),l;default:if(typeof c.status=="string")c.then(Ih,Ih);else{if(l=Lt,l!==null&&100<l.shellSuspendCounter)throw Error(o(482));l=c,l.status="pending",l.then(function(m){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=m}},function(m){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,w_(l),l}throw Fu=c,Uu}}var Fu=null;function v_(){if(Fu===null)throw Error(o(459));var l=Fu;return Fu=null,l}function w_(l){if(l===Uu||l===Hh)throw Error(o(483))}var bs=!1;function Ky(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zy(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ys(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function vs(l,c,f){var m=l.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var y=m.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),m.pending=c,c=Oh(l),s_(l,null,f),c}return Ah(l,m,c,f),Oh(l)}function qu(l,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var m=c.lanes;m&=l.pendingLanes,f|=m,c.lanes=f,hS(l,f)}}function Yy(l,c){var f=l.updateQueue,m=l.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var y=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var E={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?y=w=E:w=w.next=E,f=f.next}while(f!==null);w===null?y=w=c:w=w.next=c}else y=w=c;f={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=c}var Wy=!1;function Gu(){if(Wy){var l=tc;if(l!==null)throw l}}function Ku(l,c,f,m){Wy=!1;var y=l.updateQueue;bs=!1;var w=y.firstBaseUpdate,E=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var D=T,K=D.next;D.next=null,E===null?w=K:E.next=K,E=D;var Q=l.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==E&&(T===null?Q.firstBaseUpdate=K:T.next=K,Q.lastBaseUpdate=D))}if(w!==null){var ie=y.baseState;E=0,Q=K=D=null,T=w;do{var Y=T.lane&-536870913,W=Y!==T.lane;if(W?(ut&Y)===Y:(m&Y)===Y){Y!==0&&Y===ec&&(Wy=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Pe=l,je=T;Y=c;var Et=f;switch(je.tag){case 1:if(Pe=je.payload,typeof Pe=="function"){ie=Pe.call(Et,ie,Y);break e}ie=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=je.payload,Y=typeof Pe=="function"?Pe.call(Et,ie,Y):Pe,Y==null)break e;ie=h({},ie,Y);break e;case 2:bs=!0}}Y=T.callback,Y!==null&&(l.flags|=64,W&&(l.flags|=8192),W=y.callbacks,W===null?y.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(K=Q=W,D=ie):Q=Q.next=W,E|=Y;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;W=T,T=W.next,W.next=null,y.lastBaseUpdate=W,y.shared.pending=null}}while(!0);Q===null&&(D=ie),y.baseState=D,y.firstBaseUpdate=K,y.lastBaseUpdate=Q,w===null&&(y.shared.lanes=0),Ms|=E,l.lanes=E,l.memoizedState=ie}}function k_(l,c){if(typeof l!="function")throw Error(o(191,l));l.call(c)}function x_(l,c){var f=l.callbacks;if(f!==null)for(l.callbacks=null,l=0;l<f.length;l++)k_(f[l],c)}var nc=F(null),zh=F(0);function C_(l,c){l=Rr,se(zh,l),se(nc,c),Rr=l|c.baseLanes}function Xy(){se(zh,Rr),se(nc,nc.current)}function Jy(){Rr=zh.current,ee(nc),ee(zh)}var ws=0,nt=null,St=null,rn=null,Ph=!1,oc=!1,Pl=!1,Vh=0,Zu=0,ic=null,L8=0;function Qt(){throw Error(o(321))}function Qy(l,c){if(c===null)return!1;for(var f=0;f<c.length&&f<l.length;f++)if(!To(l[f],c[f]))return!1;return!0}function e0(l,c,f,m,y,w){return ws=w,nt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,B.H=l===null||l.memoizedState===null?sE:lE,Pl=!1,w=f(m,y),Pl=!1,oc&&(w=__(c,f,m,y)),S_(l),w}function S_(l){B.H=Kh;var c=St!==null&&St.next!==null;if(ws=0,rn=St=nt=null,Ph=!1,Zu=0,ic=null,c)throw Error(o(300));l===null||gn||(l=l.dependencies,l!==null&&Lh(l)&&(gn=!0))}function __(l,c,f,m){nt=l;var y=0;do{if(oc&&(ic=null),Zu=0,oc=!1,25<=y)throw Error(o(301));if(y+=1,rn=St=null,l.updateQueue!=null){var w=l.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=V8,w=c(f,m)}while(oc);return w}function B8(){var l=B.H,c=l.useState()[0];return c=typeof c.then=="function"?Yu(c):c,l=l.useState()[0],(St!==null?St.memoizedState:null)!==l&&(nt.flags|=1024),c}function t0(){var l=Vh!==0;return Vh=0,l}function n0(l,c,f){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~f}function o0(l){if(Ph){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Ph=!1}ws=0,rn=St=nt=null,oc=!1,Zu=Vh=0,ic=null}function uo(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?nt.memoizedState=rn=l:rn=rn.next=l,rn}function sn(){if(St===null){var l=nt.alternate;l=l!==null?l.memoizedState:null}else l=St.next;var c=rn===null?nt.memoizedState:rn.next;if(c!==null)rn=c,St=l;else{if(l===null)throw nt.alternate===null?Error(o(467)):Error(o(310));St=l,l={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},rn===null?nt.memoizedState=rn=l:rn=rn.next=l}return rn}function i0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yu(l){var c=Zu;return Zu+=1,ic===null&&(ic=[]),l=y_(ic,l,c),c=nt,(rn===null?c.memoizedState:rn.next)===null&&(c=c.alternate,B.H=c===null||c.memoizedState===null?sE:lE),l}function $h(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Yu(l);if(l.$$typeof===A)return Dn(l)}throw Error(o(438,String(l)))}function r0(l){var c=null,f=nt.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var m=nt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=i0(),nt.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(l),m=0;m<l;m++)f[m]=oe;return c.index++,f}function _r(l,c){return typeof c=="function"?c(l):c}function Uh(l){var c=sn();return s0(c,St,l)}function s0(l,c,f){var m=l.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=f;var y=l.baseQueue,w=m.pending;if(w!==null){if(y!==null){var E=y.next;y.next=w.next,w.next=E}c.baseQueue=y=w,m.pending=null}if(w=l.baseState,y===null)l.memoizedState=w;else{c=y.next;var T=E=null,D=null,K=c,Q=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(ut&ie)===ie:(ws&ie)===ie){var Y=K.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===ec&&(Q=!0);else if((ws&Y)===Y){K=K.next,Y===ec&&(Q=!0);continue}else ie={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(T=D=ie,E=w):D=D.next=ie,nt.lanes|=Y,Ms|=Y;ie=K.action,Pl&&f(w,ie),w=K.hasEagerState?K.eagerState:f(w,ie)}else Y={lane:ie,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(T=D=Y,E=w):D=D.next=Y,nt.lanes|=ie,Ms|=ie;K=K.next}while(K!==null&&K!==c);if(D===null?E=w:D.next=T,!To(w,l.memoizedState)&&(gn=!0,Q&&(f=tc,f!==null)))throw f;l.memoizedState=w,l.baseState=E,l.baseQueue=D,m.lastRenderedState=w}return y===null&&(m.lanes=0),[l.memoizedState,m.dispatch]}function l0(l){var c=sn(),f=c.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=l;var m=f.dispatch,y=f.pending,w=c.memoizedState;if(y!==null){f.pending=null;var E=y=y.next;do w=l(w,E.action),E=E.next;while(E!==y);To(w,c.memoizedState)||(gn=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),f.lastRenderedState=w}return[w,m]}function E_(l,c,f){var m=nt,y=sn(),w=pt;if(w){if(f===void 0)throw Error(o(407));f=f()}else f=c();var E=!To((St||y).memoizedState,f);E&&(y.memoizedState=f,gn=!0),y=y.queue;var T=A_.bind(null,m,y,l);if(Wu(2048,8,T,[l]),y.getSnapshot!==c||E||rn!==null&&rn.memoizedState.tag&1){if(m.flags|=2048,rc(9,Fh(),T_.bind(null,m,y,f,c),null),Lt===null)throw Error(o(349));w||(ws&124)!==0||M_(m,c,f)}return f}function M_(l,c,f){l.flags|=16384,l={getSnapshot:c,value:f},c=nt.updateQueue,c===null?(c=i0(),nt.updateQueue=c,c.stores=[l]):(f=c.stores,f===null?c.stores=[l]:f.push(l))}function T_(l,c,f,m){c.value=f,c.getSnapshot=m,O_(c)&&R_(l)}function A_(l,c,f){return f(function(){O_(c)&&R_(l)})}function O_(l){var c=l.getSnapshot;l=l.value;try{var f=c();return!To(l,f)}catch{return!0}}function R_(l){var c=Wa(l,2);c!==null&&Lo(c,l,2)}function a0(l){var c=uo();if(typeof l=="function"){var f=l;if(l=f(),Pl){Ye(!0);try{f()}finally{Ye(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:l},c}function N_(l,c,f,m){return l.baseState=f,s0(l,St,typeof m=="function"?m:_r)}function j8(l,c,f,m,y){if(Gh(l))throw Error(o(485));if(l=c.action,l!==null){var w={payload:y,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){w.listeners.push(E)}};B.T!==null?f(!0):w.isTransition=!1,m(w),f=c.pending,f===null?(w.next=c.pending=w,D_(c,w)):(w.next=f.next,c.pending=f.next=w)}}function D_(l,c){var f=c.action,m=c.payload,y=l.state;if(c.isTransition){var w=B.T,E={};B.T=E;try{var T=f(y,m),D=B.S;D!==null&&D(E,T),L_(l,c,T)}catch(K){c0(l,c,K)}finally{B.T=w}}else try{w=f(y,m),L_(l,c,w)}catch(K){c0(l,c,K)}}function L_(l,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){B_(l,c,m)},function(m){return c0(l,c,m)}):B_(l,c,f)}function B_(l,c,f){c.status="fulfilled",c.value=f,j_(c),l.state=f,c=l.pending,c!==null&&(f=c.next,f===c?l.pending=null:(f=f.next,c.next=f,D_(l,f)))}function c0(l,c,f){var m=l.pending;if(l.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=f,j_(c),c=c.next;while(c!==m)}l.action=null}function j_(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function H_(l,c){return c}function I_(l,c){if(pt){var f=Lt.formState;if(f!==null){e:{var m=nt;if(pt){if(Kt){t:{for(var y=Kt,w=ji;y.nodeType!==8;){if(!w){y=null;break t}if(y=gi(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Kt=gi(y.nextSibling),m=y.data==="F!";break e}}jl(m)}m=!1}m&&(c=f[0])}}return f=uo(),f.memoizedState=f.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:c},f.queue=m,f=oE.bind(null,nt,m),m.dispatch=f,m=a0(!1),w=p0.bind(null,nt,!1,m.queue),m=uo(),y={state:c,dispatch:null,action:l,pending:null},m.queue=y,f=j8.bind(null,nt,y,w,f),y.dispatch=f,m.memoizedState=l,[c,f,!1]}function z_(l){var c=sn();return P_(c,St,l)}function P_(l,c,f){if(c=s0(l,c,H_)[0],l=Uh(_r)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=Yu(c)}catch(E){throw E===Uu?Hh:E}else m=c;c=sn();var y=c.queue,w=y.dispatch;return f!==c.memoizedState&&(nt.flags|=2048,rc(9,Fh(),H8.bind(null,y,f),null)),[m,w,l]}function H8(l,c){l.action=c}function V_(l){var c=sn(),f=St;if(f!==null)return P_(c,f,l);sn(),c=c.memoizedState,f=sn();var m=f.queue.dispatch;return f.memoizedState=l,[c,m,!1]}function rc(l,c,f,m){return l={tag:l,create:f,deps:m,inst:c,next:null},c=nt.updateQueue,c===null&&(c=i0(),nt.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=l.next=l:(m=f.next,f.next=l,l.next=m,c.lastEffect=l),l}function Fh(){return{destroy:void 0,resource:void 0}}function $_(){return sn().memoizedState}function qh(l,c,f,m){var y=uo();m=m===void 0?null:m,nt.flags|=l,y.memoizedState=rc(1|c,Fh(),f,m)}function Wu(l,c,f,m){var y=sn();m=m===void 0?null:m;var w=y.memoizedState.inst;St!==null&&m!==null&&Qy(m,St.memoizedState.deps)?y.memoizedState=rc(c,w,f,m):(nt.flags|=l,y.memoizedState=rc(1|c,w,f,m))}function U_(l,c){qh(8390656,8,l,c)}function F_(l,c){Wu(2048,8,l,c)}function q_(l,c){return Wu(4,2,l,c)}function G_(l,c){return Wu(4,4,l,c)}function K_(l,c){if(typeof c=="function"){l=l();var f=c(l);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Z_(l,c,f){f=f!=null?f.concat([l]):null,Wu(4,4,K_.bind(null,c,l),f)}function u0(){}function Y_(l,c){var f=sn();c=c===void 0?null:c;var m=f.memoizedState;return c!==null&&Qy(c,m[1])?m[0]:(f.memoizedState=[l,c],l)}function W_(l,c){var f=sn();c=c===void 0?null:c;var m=f.memoizedState;if(c!==null&&Qy(c,m[1]))return m[0];if(m=l(),Pl){Ye(!0);try{l()}finally{Ye(!1)}}return f.memoizedState=[m,c],m}function d0(l,c,f){return f===void 0||(ws&1073741824)!==0?l.memoizedState=c:(l.memoizedState=f,l=QE(),nt.lanes|=l,Ms|=l,f)}function X_(l,c,f,m){return To(f,c)?f:nc.current!==null?(l=d0(l,f,m),To(l,c)||(gn=!0),l):(ws&42)===0?(gn=!0,l.memoizedState=f):(l=QE(),nt.lanes|=l,Ms|=l,c)}function J_(l,c,f,m,y){var w=P.p;P.p=w!==0&&8>w?w:8;var E=B.T,T={};B.T=T,p0(l,!1,c,f);try{var D=y(),K=B.S;if(K!==null&&K(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=D8(D,m);Xu(l,c,Q,Do(l))}else Xu(l,c,m,Do(l))}catch(ie){Xu(l,c,{then:function(){},status:"rejected",reason:ie},Do())}finally{P.p=w,B.T=E}}function I8(){}function f0(l,c,f,m){if(l.tag!==5)throw Error(o(476));var y=Q_(l).queue;J_(l,y,c,U,f===null?I8:function(){return eE(l),f(m)})}function Q_(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:U},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:f},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function eE(l){var c=Q_(l).next.queue;Xu(l,c,{},Do())}function h0(){return Dn(md)}function tE(){return sn().memoizedState}function nE(){return sn().memoizedState}function z8(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var f=Do();l=ys(f);var m=vs(c,l,f);m!==null&&(Lo(m,c,f),qu(m,c,f)),c={cache:Uy()},l.payload=c;return}c=c.return}}function P8(l,c,f){var m=Do();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Gh(l)?iE(c,f):(f=Dy(l,c,f,m),f!==null&&(Lo(f,l,m),rE(f,c,m)))}function oE(l,c,f){var m=Do();Xu(l,c,f,m)}function Xu(l,c,f,m){var y={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Gh(l))iE(c,y);else{var w=l.alternate;if(l.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var E=c.lastRenderedState,T=w(E,f);if(y.hasEagerState=!0,y.eagerState=T,To(T,E))return Ah(l,c,y,0),Lt===null&&Th(),!1}catch{}finally{}if(f=Dy(l,c,y,m),f!==null)return Lo(f,l,m),rE(f,c,m),!0}return!1}function p0(l,c,f,m){if(m={lane:2,revertLane:G0(),action:m,hasEagerState:!1,eagerState:null,next:null},Gh(l)){if(c)throw Error(o(479))}else c=Dy(l,f,m,2),c!==null&&Lo(c,l,2)}function Gh(l){var c=l.alternate;return l===nt||c!==null&&c===nt}function iE(l,c){oc=Ph=!0;var f=l.pending;f===null?c.next=c:(c.next=f.next,f.next=c),l.pending=c}function rE(l,c,f){if((f&4194048)!==0){var m=c.lanes;m&=l.pendingLanes,f|=m,c.lanes=f,hS(l,f)}}var Kh={readContext:Dn,use:$h,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},sE={readContext:Dn,use:$h,useCallback:function(l,c){return uo().memoizedState=[l,c===void 0?null:c],l},useContext:Dn,useEffect:U_,useImperativeHandle:function(l,c,f){f=f!=null?f.concat([l]):null,qh(4194308,4,K_.bind(null,c,l),f)},useLayoutEffect:function(l,c){return qh(4194308,4,l,c)},useInsertionEffect:function(l,c){qh(4,2,l,c)},useMemo:function(l,c){var f=uo();c=c===void 0?null:c;var m=l();if(Pl){Ye(!0);try{l()}finally{Ye(!1)}}return f.memoizedState=[m,c],m},useReducer:function(l,c,f){var m=uo();if(f!==void 0){var y=f(c);if(Pl){Ye(!0);try{f(c)}finally{Ye(!1)}}}else y=c;return m.memoizedState=m.baseState=y,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:y},m.queue=l,l=l.dispatch=P8.bind(null,nt,l),[m.memoizedState,l]},useRef:function(l){var c=uo();return l={current:l},c.memoizedState=l},useState:function(l){l=a0(l);var c=l.queue,f=oE.bind(null,nt,c);return c.dispatch=f,[l.memoizedState,f]},useDebugValue:u0,useDeferredValue:function(l,c){var f=uo();return d0(f,l,c)},useTransition:function(){var l=a0(!1);return l=J_.bind(null,nt,l.queue,!0,!1),uo().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,f){var m=nt,y=uo();if(pt){if(f===void 0)throw Error(o(407));f=f()}else{if(f=c(),Lt===null)throw Error(o(349));(ut&124)!==0||M_(m,c,f)}y.memoizedState=f;var w={value:f,getSnapshot:c};return y.queue=w,U_(A_.bind(null,m,w,l),[l]),m.flags|=2048,rc(9,Fh(),T_.bind(null,m,w,f,c),null),f},useId:function(){var l=uo(),c=Lt.identifierPrefix;if(pt){var f=xr,m=kr;f=(m&~(1<<32-mt(m)-1)).toString(32)+f,c="«"+c+"R"+f,f=Vh++,0<f&&(c+="H"+f.toString(32)),c+="»"}else f=L8++,c="«"+c+"r"+f.toString(32)+"»";return l.memoizedState=c},useHostTransitionStatus:h0,useFormState:I_,useActionState:I_,useOptimistic:function(l){var c=uo();c.memoizedState=c.baseState=l;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=p0.bind(null,nt,!0,f),f.dispatch=c,[l,c]},useMemoCache:r0,useCacheRefresh:function(){return uo().memoizedState=z8.bind(null,nt)}},lE={readContext:Dn,use:$h,useCallback:Y_,useContext:Dn,useEffect:F_,useImperativeHandle:Z_,useInsertionEffect:q_,useLayoutEffect:G_,useMemo:W_,useReducer:Uh,useRef:$_,useState:function(){return Uh(_r)},useDebugValue:u0,useDeferredValue:function(l,c){var f=sn();return X_(f,St.memoizedState,l,c)},useTransition:function(){var l=Uh(_r)[0],c=sn().memoizedState;return[typeof l=="boolean"?l:Yu(l),c]},useSyncExternalStore:E_,useId:tE,useHostTransitionStatus:h0,useFormState:z_,useActionState:z_,useOptimistic:function(l,c){var f=sn();return N_(f,St,l,c)},useMemoCache:r0,useCacheRefresh:nE},V8={readContext:Dn,use:$h,useCallback:Y_,useContext:Dn,useEffect:F_,useImperativeHandle:Z_,useInsertionEffect:q_,useLayoutEffect:G_,useMemo:W_,useReducer:l0,useRef:$_,useState:function(){return l0(_r)},useDebugValue:u0,useDeferredValue:function(l,c){var f=sn();return St===null?d0(f,l,c):X_(f,St.memoizedState,l,c)},useTransition:function(){var l=l0(_r)[0],c=sn().memoizedState;return[typeof l=="boolean"?l:Yu(l),c]},useSyncExternalStore:E_,useId:tE,useHostTransitionStatus:h0,useFormState:V_,useActionState:V_,useOptimistic:function(l,c){var f=sn();return St!==null?N_(f,St,l,c):(f.baseState=l,[l,f.queue.dispatch])},useMemoCache:r0,useCacheRefresh:nE},sc=null,Ju=0;function Zh(l){var c=Ju;return Ju+=1,sc===null&&(sc=[]),y_(sc,l,c)}function Qu(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function Yh(l,c){throw c.$$typeof===p?Error(o(525)):(l=Object.prototype.toString.call(c),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function aE(l){var c=l._init;return c(l._payload)}function cE(l){function c($,I){if(l){var G=$.deletions;G===null?($.deletions=[I],$.flags|=16):G.push(I)}}function f($,I){if(!l)return null;for(;I!==null;)c($,I),I=I.sibling;return null}function m($){for(var I=new Map;$!==null;)$.key!==null?I.set($.key,$):I.set($.index,$),$=$.sibling;return I}function y($,I){return $=wr($,I),$.index=0,$.sibling=null,$}function w($,I,G){return $.index=G,l?(G=$.alternate,G!==null?(G=G.index,G<I?($.flags|=67108866,I):G):($.flags|=67108866,I)):($.flags|=1048576,I)}function E($){return l&&$.alternate===null&&($.flags|=67108866),$}function T($,I,G,te){return I===null||I.tag!==6?(I=By(G,$.mode,te),I.return=$,I):(I=y(I,G),I.return=$,I)}function D($,I,G,te){var Se=G.type;return Se===v?Q($,I,G.props.children,te,G.key):I!==null&&(I.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&aE(Se)===I.type)?(I=y(I,G.props),Qu(I,G),I.return=$,I):(I=Rh(G.type,G.key,G.props,null,$.mode,te),Qu(I,G),I.return=$,I)}function K($,I,G,te){return I===null||I.tag!==4||I.stateNode.containerInfo!==G.containerInfo||I.stateNode.implementation!==G.implementation?(I=jy(G,$.mode,te),I.return=$,I):(I=y(I,G.children||[]),I.return=$,I)}function Q($,I,G,te,Se){return I===null||I.tag!==7?(I=Nl(G,$.mode,te,Se),I.return=$,I):(I=y(I,G),I.return=$,I)}function ie($,I,G){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=By(""+I,$.mode,G),I.return=$,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case g:return G=Rh(I.type,I.key,I.props,null,$.mode,G),Qu(G,I),G.return=$,G;case b:return I=jy(I,$.mode,G),I.return=$,I;case V:var te=I._init;return I=te(I._payload),ie($,I,G)}if(pe(I)||he(I))return I=Nl(I,$.mode,G,null),I.return=$,I;if(typeof I.then=="function")return ie($,Zh(I),G);if(I.$$typeof===A)return ie($,Bh($,I),G);Yh($,I)}return null}function Y($,I,G,te){var Se=I!==null?I.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Se!==null?null:T($,I,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case g:return G.key===Se?D($,I,G,te):null;case b:return G.key===Se?K($,I,G,te):null;case V:return Se=G._init,G=Se(G._payload),Y($,I,G,te)}if(pe(G)||he(G))return Se!==null?null:Q($,I,G,te,null);if(typeof G.then=="function")return Y($,I,Zh(G),te);if(G.$$typeof===A)return Y($,I,Bh($,G),te);Yh($,G)}return null}function W($,I,G,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return $=$.get(G)||null,T(I,$,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case g:return $=$.get(te.key===null?G:te.key)||null,D(I,$,te,Se);case b:return $=$.get(te.key===null?G:te.key)||null,K(I,$,te,Se);case V:var ot=te._init;return te=ot(te._payload),W($,I,G,te,Se)}if(pe(te)||he(te))return $=$.get(G)||null,Q(I,$,te,Se,null);if(typeof te.then=="function")return W($,I,G,Zh(te),Se);if(te.$$typeof===A)return W($,I,G,Bh(I,te),Se);Yh(I,te)}return null}function Pe($,I,G,te){for(var Se=null,ot=null,Ae=I,Ie=I=0,yn=null;Ae!==null&&Ie<G.length;Ie++){Ae.index>Ie?(yn=Ae,Ae=null):yn=Ae.sibling;var ht=Y($,Ae,G[Ie],te);if(ht===null){Ae===null&&(Ae=yn);break}l&&Ae&&ht.alternate===null&&c($,Ae),I=w(ht,I,Ie),ot===null?Se=ht:ot.sibling=ht,ot=ht,Ae=yn}if(Ie===G.length)return f($,Ae),pt&&Ll($,Ie),Se;if(Ae===null){for(;Ie<G.length;Ie++)Ae=ie($,G[Ie],te),Ae!==null&&(I=w(Ae,I,Ie),ot===null?Se=Ae:ot.sibling=Ae,ot=Ae);return pt&&Ll($,Ie),Se}for(Ae=m(Ae);Ie<G.length;Ie++)yn=W(Ae,$,Ie,G[Ie],te),yn!==null&&(l&&yn.alternate!==null&&Ae.delete(yn.key===null?Ie:yn.key),I=w(yn,I,Ie),ot===null?Se=yn:ot.sibling=yn,ot=yn);return l&&Ae.forEach(function(js){return c($,js)}),pt&&Ll($,Ie),Se}function je($,I,G,te){if(G==null)throw Error(o(151));for(var Se=null,ot=null,Ae=I,Ie=I=0,yn=null,ht=G.next();Ae!==null&&!ht.done;Ie++,ht=G.next()){Ae.index>Ie?(yn=Ae,Ae=null):yn=Ae.sibling;var js=Y($,Ae,ht.value,te);if(js===null){Ae===null&&(Ae=yn);break}l&&Ae&&js.alternate===null&&c($,Ae),I=w(js,I,Ie),ot===null?Se=js:ot.sibling=js,ot=js,Ae=yn}if(ht.done)return f($,Ae),pt&&Ll($,Ie),Se;if(Ae===null){for(;!ht.done;Ie++,ht=G.next())ht=ie($,ht.value,te),ht!==null&&(I=w(ht,I,Ie),ot===null?Se=ht:ot.sibling=ht,ot=ht);return pt&&Ll($,Ie),Se}for(Ae=m(Ae);!ht.done;Ie++,ht=G.next())ht=W(Ae,$,Ie,ht.value,te),ht!==null&&(l&&ht.alternate!==null&&Ae.delete(ht.key===null?Ie:ht.key),I=w(ht,I,Ie),ot===null?Se=ht:ot.sibling=ht,ot=ht);return l&&Ae.forEach(function($7){return c($,$7)}),pt&&Ll($,Ie),Se}function Et($,I,G,te){if(typeof G=="object"&&G!==null&&G.type===v&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case g:e:{for(var Se=G.key;I!==null;){if(I.key===Se){if(Se=G.type,Se===v){if(I.tag===7){f($,I.sibling),te=y(I,G.props.children),te.return=$,$=te;break e}}else if(I.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&aE(Se)===I.type){f($,I.sibling),te=y(I,G.props),Qu(te,G),te.return=$,$=te;break e}f($,I);break}else c($,I);I=I.sibling}G.type===v?(te=Nl(G.props.children,$.mode,te,G.key),te.return=$,$=te):(te=Rh(G.type,G.key,G.props,null,$.mode,te),Qu(te,G),te.return=$,$=te)}return E($);case b:e:{for(Se=G.key;I!==null;){if(I.key===Se)if(I.tag===4&&I.stateNode.containerInfo===G.containerInfo&&I.stateNode.implementation===G.implementation){f($,I.sibling),te=y(I,G.children||[]),te.return=$,$=te;break e}else{f($,I);break}else c($,I);I=I.sibling}te=jy(G,$.mode,te),te.return=$,$=te}return E($);case V:return Se=G._init,G=Se(G._payload),Et($,I,G,te)}if(pe(G))return Pe($,I,G,te);if(he(G)){if(Se=he(G),typeof Se!="function")throw Error(o(150));return G=Se.call(G),je($,I,G,te)}if(typeof G.then=="function")return Et($,I,Zh(G),te);if(G.$$typeof===A)return Et($,I,Bh($,G),te);Yh($,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,I!==null&&I.tag===6?(f($,I.sibling),te=y(I,G),te.return=$,$=te):(f($,I),te=By(G,$.mode,te),te.return=$,$=te),E($)):f($,I)}return function($,I,G,te){try{Ju=0;var Se=Et($,I,G,te);return sc=null,Se}catch(Ae){if(Ae===Uu||Ae===Hh)throw Ae;var ot=Ao(29,Ae,null,$.mode);return ot.lanes=te,ot.return=$,ot}finally{}}}var lc=cE(!0),uE=cE(!1),Qo=F(null),Hi=null;function ks(l){var c=l.alternate;se(fn,fn.current&1),se(Qo,l),Hi===null&&(c===null||nc.current!==null||c.memoizedState!==null)&&(Hi=l)}function dE(l){if(l.tag===22){if(se(fn,fn.current),se(Qo,l),Hi===null){var c=l.alternate;c!==null&&c.memoizedState!==null&&(Hi=l)}}else xs()}function xs(){se(fn,fn.current),se(Qo,Qo.current)}function Er(l){ee(Qo),Hi===l&&(Hi=null),ee(fn)}var fn=F(0);function Wh(l){for(var c=l;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||i1(f)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function m0(l,c,f,m){c=l.memoizedState,f=f(m,c),f=f==null?c:h({},c,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var g0={enqueueSetState:function(l,c,f){l=l._reactInternals;var m=Do(),y=ys(m);y.payload=c,f!=null&&(y.callback=f),c=vs(l,y,m),c!==null&&(Lo(c,l,m),qu(c,l,m))},enqueueReplaceState:function(l,c,f){l=l._reactInternals;var m=Do(),y=ys(m);y.tag=1,y.payload=c,f!=null&&(y.callback=f),c=vs(l,y,m),c!==null&&(Lo(c,l,m),qu(c,l,m))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var f=Do(),m=ys(f);m.tag=2,c!=null&&(m.callback=c),c=vs(l,m,f),c!==null&&(Lo(c,l,f),qu(c,l,f))}};function fE(l,c,f,m,y,w,E){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(m,w,E):c.prototype&&c.prototype.isPureReactComponent?!Bu(f,m)||!Bu(y,w):!0}function hE(l,c,f,m){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,m),c.state!==l&&g0.enqueueReplaceState(c,c.state,null)}function Vl(l,c){var f=c;if("ref"in c){f={};for(var m in c)m!=="ref"&&(f[m]=c[m])}if(l=l.defaultProps){f===c&&(f=h({},f));for(var y in l)f[y]===void 0&&(f[y]=l[y])}return f}var Xh=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function pE(l){Xh(l)}function mE(l){console.error(l)}function gE(l){Xh(l)}function Jh(l,c){try{var f=l.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function bE(l,c,f){try{var m=l.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function b0(l,c,f){return f=ys(f),f.tag=3,f.payload={element:null},f.callback=function(){Jh(l,c)},f}function yE(l){return l=ys(l),l.tag=3,l}function vE(l,c,f,m){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;l.payload=function(){return y(w)},l.callback=function(){bE(c,f,m)}}var E=f.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(l.callback=function(){bE(c,f,m),typeof y!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var T=m.stack;this.componentDidCatch(m.value,{componentStack:T!==null?T:""})})}function $8(l,c,f,m,y){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=f.alternate,c!==null&&Pu(c,f,y,!0),f=Qo.current,f!==null){switch(f.tag){case 13:return Hi===null?V0():f.alternate===null&&Zt===0&&(Zt=3),f.flags&=-257,f.flags|=65536,f.lanes=y,m===Gy?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([m]):c.add(m),U0(l,m,y)),!1;case 22:return f.flags|=65536,m===Gy?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([m]):f.add(m)),U0(l,m,y)),!1}throw Error(o(435,f.tag))}return U0(l,m,y),V0(),!1}if(pt)return c=Qo.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=y,m!==zy&&(l=Error(o(422),{cause:m}),zu(Yo(l,f)))):(m!==zy&&(c=Error(o(423),{cause:m}),zu(Yo(c,f))),l=l.current.alternate,l.flags|=65536,y&=-y,l.lanes|=y,m=Yo(m,f),y=b0(l.stateNode,m,y),Yy(l,y),Zt!==4&&(Zt=2)),!1;var w=Error(o(520),{cause:m});if(w=Yo(w,f),sd===null?sd=[w]:sd.push(w),Zt!==4&&(Zt=2),c===null)return!0;m=Yo(m,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,l=y&-y,f.lanes|=l,l=b0(f.stateNode,m,l),Yy(f,l),!1;case 1:if(c=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ts===null||!Ts.has(w))))return f.flags|=65536,y&=-y,f.lanes|=y,y=yE(y),vE(y,l,f,m),Yy(f,y),!1}f=f.return}while(f!==null);return!1}var wE=Error(o(461)),gn=!1;function Sn(l,c,f,m){c.child=l===null?uE(c,null,f,m):lc(c,l.child,f,m)}function kE(l,c,f,m,y){f=f.render;var w=c.ref;if("ref"in m){var E={};for(var T in m)T!=="ref"&&(E[T]=m[T])}else E=m;return Il(c),m=e0(l,c,f,E,w,y),T=t0(),l!==null&&!gn?(n0(l,c,y),Mr(l,c,y)):(pt&&T&&Hy(c),c.flags|=1,Sn(l,c,m,y),c.child)}function xE(l,c,f,m,y){if(l===null){var w=f.type;return typeof w=="function"&&!Ly(w)&&w.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=w,CE(l,c,w,m,y)):(l=Rh(f.type,null,m,c,c.mode,y),l.ref=c.ref,l.return=c,c.child=l)}if(w=l.child,!_0(l,y)){var E=w.memoizedProps;if(f=f.compare,f=f!==null?f:Bu,f(E,m)&&l.ref===c.ref)return Mr(l,c,y)}return c.flags|=1,l=wr(w,m),l.ref=c.ref,l.return=c,c.child=l}function CE(l,c,f,m,y){if(l!==null){var w=l.memoizedProps;if(Bu(w,m)&&l.ref===c.ref)if(gn=!1,c.pendingProps=m=w,_0(l,y))(l.flags&131072)!==0&&(gn=!0);else return c.lanes=l.lanes,Mr(l,c,y)}return y0(l,c,f,m,y)}function SE(l,c,f){var m=c.pendingProps,y=m.children,w=l!==null?l.memoizedState:null;if(m.mode==="hidden"){if((c.flags&128)!==0){if(m=w!==null?w.baseLanes|f:f,l!==null){for(y=c.child=l.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;c.childLanes=w&~m}else c.childLanes=0,c.child=null;return _E(l,c,m,f)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&jh(c,w!==null?w.cachePool:null),w!==null?C_(c,w):Xy(),dE(c);else return c.lanes=c.childLanes=536870912,_E(l,c,w!==null?w.baseLanes|f:f,f)}else w!==null?(jh(c,w.cachePool),C_(c,w),xs(),c.memoizedState=null):(l!==null&&jh(c,null),Xy(),xs());return Sn(l,c,y,f),c.child}function _E(l,c,f,m){var y=qy();return y=y===null?null:{parent:dn._currentValue,pool:y},c.memoizedState={baseLanes:f,cachePool:y},l!==null&&jh(c,null),Xy(),dE(c),l!==null&&Pu(l,c,m,!0),null}function Qh(l,c){var f=c.ref;if(f===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(o(284));(l===null||l.ref!==f)&&(c.flags|=4194816)}}function y0(l,c,f,m,y){return Il(c),f=e0(l,c,f,m,void 0,y),m=t0(),l!==null&&!gn?(n0(l,c,y),Mr(l,c,y)):(pt&&m&&Hy(c),c.flags|=1,Sn(l,c,f,y),c.child)}function EE(l,c,f,m,y,w){return Il(c),c.updateQueue=null,f=__(c,m,f,y),S_(l),m=t0(),l!==null&&!gn?(n0(l,c,w),Mr(l,c,w)):(pt&&m&&Hy(c),c.flags|=1,Sn(l,c,f,w),c.child)}function ME(l,c,f,m,y){if(Il(c),c.stateNode===null){var w=Xa,E=f.contextType;typeof E=="object"&&E!==null&&(w=Dn(E)),w=new f(m,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=g0,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=m,w.state=c.memoizedState,w.refs={},Ky(c),E=f.contextType,w.context=typeof E=="object"&&E!==null?Dn(E):Xa,w.state=c.memoizedState,E=f.getDerivedStateFromProps,typeof E=="function"&&(m0(c,f,E,m),w.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(E=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),E!==w.state&&g0.enqueueReplaceState(w,w.state,null),Ku(c,m,w,y),Gu(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(l===null){w=c.stateNode;var T=c.memoizedProps,D=Vl(f,T);w.props=D;var K=w.context,Q=f.contextType;E=Xa,typeof Q=="object"&&Q!==null&&(E=Dn(Q));var ie=f.getDerivedStateFromProps;Q=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function",T=c.pendingProps!==T,Q||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T||K!==E)&&hE(c,w,m,E),bs=!1;var Y=c.memoizedState;w.state=Y,Ku(c,m,w,y),Gu(),K=c.memoizedState,T||Y!==K||bs?(typeof ie=="function"&&(m0(c,f,ie,m),K=c.memoizedState),(D=bs||fE(c,f,D,m,Y,K,E))?(Q||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=K),w.props=m,w.state=K,w.context=E,m=D):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{w=c.stateNode,Zy(l,c),E=c.memoizedProps,Q=Vl(f,E),w.props=Q,ie=c.pendingProps,Y=w.context,K=f.contextType,D=Xa,typeof K=="object"&&K!==null&&(D=Dn(K)),T=f.getDerivedStateFromProps,(K=typeof T=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==ie||Y!==D)&&hE(c,w,m,D),bs=!1,Y=c.memoizedState,w.state=Y,Ku(c,m,w,y),Gu();var W=c.memoizedState;E!==ie||Y!==W||bs||l!==null&&l.dependencies!==null&&Lh(l.dependencies)?(typeof T=="function"&&(m0(c,f,T,m),W=c.memoizedState),(Q=bs||fE(c,f,Q,m,Y,W,D)||l!==null&&l.dependencies!==null&&Lh(l.dependencies))?(K||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,W,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,W,D)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===l.memoizedProps&&Y===l.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===l.memoizedProps&&Y===l.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=W),w.props=m,w.state=W,w.context=D,m=Q):(typeof w.componentDidUpdate!="function"||E===l.memoizedProps&&Y===l.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===l.memoizedProps&&Y===l.memoizedState||(c.flags|=1024),m=!1)}return w=m,Qh(l,c),m=(c.flags&128)!==0,w||m?(w=c.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,l!==null&&m?(c.child=lc(c,l.child,null,y),c.child=lc(c,null,f,y)):Sn(l,c,f,y),c.memoizedState=w.state,l=c.child):l=Mr(l,c,y),l}function TE(l,c,f,m){return Iu(),c.flags|=256,Sn(l,c,f,m),c.child}var v0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function w0(l){return{baseLanes:l,cachePool:m_()}}function k0(l,c,f){return l=l!==null?l.childLanes&~f:0,c&&(l|=ei),l}function AE(l,c,f){var m=c.pendingProps,y=!1,w=(c.flags&128)!==0,E;if((E=w)||(E=l!==null&&l.memoizedState===null?!1:(fn.current&2)!==0),E&&(y=!0,c.flags&=-129),E=(c.flags&32)!==0,c.flags&=-33,l===null){if(pt){if(y?ks(c):xs(),pt){var T=Kt,D;if(D=T){e:{for(D=T,T=ji;D.nodeType!==8;){if(!T){T=null;break e}if(D=gi(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(c.memoizedState={dehydrated:T,treeContext:Dl!==null?{id:kr,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},D=Ao(18,null,null,0),D.stateNode=T,D.return=c,c.child=D,Yn=c,Kt=null,D=!0):D=!1}D||jl(c)}if(T=c.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return i1(T)?c.lanes=32:c.lanes=536870912,null;Er(c)}return T=m.children,m=m.fallback,y?(xs(),y=c.mode,T=ep({mode:"hidden",children:T},y),m=Nl(m,y,f,null),T.return=c,m.return=c,T.sibling=m,c.child=T,y=c.child,y.memoizedState=w0(f),y.childLanes=k0(l,E,f),c.memoizedState=v0,m):(ks(c),x0(c,T))}if(D=l.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(w)c.flags&256?(ks(c),c.flags&=-257,c=C0(l,c,f)):c.memoizedState!==null?(xs(),c.child=l.child,c.flags|=128,c=null):(xs(),y=m.fallback,T=c.mode,m=ep({mode:"visible",children:m.children},T),y=Nl(y,T,f,null),y.flags|=2,m.return=c,y.return=c,m.sibling=y,c.child=m,lc(c,l.child,null,f),m=c.child,m.memoizedState=w0(f),m.childLanes=k0(l,E,f),c.memoizedState=v0,c=y);else if(ks(c),i1(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var K=E.dgst;E=K,m=Error(o(419)),m.stack="",m.digest=E,zu({value:m,source:null,stack:null}),c=C0(l,c,f)}else if(gn||Pu(l,c,f,!1),E=(f&l.childLanes)!==0,gn||E){if(E=Lt,E!==null&&(m=f&-f,m=(m&42)!==0?1:ry(m),m=(m&(E.suspendedLanes|f))!==0?0:m,m!==0&&m!==D.retryLane))throw D.retryLane=m,Wa(l,m),Lo(E,l,m),wE;T.data==="$?"||V0(),c=C0(l,c,f)}else T.data==="$?"?(c.flags|=192,c.child=l.child,c=null):(l=D.treeContext,Kt=gi(T.nextSibling),Yn=c,pt=!0,Bl=null,ji=!1,l!==null&&(Xo[Jo++]=kr,Xo[Jo++]=xr,Xo[Jo++]=Dl,kr=l.id,xr=l.overflow,Dl=c),c=x0(c,m.children),c.flags|=4096);return c}return y?(xs(),y=m.fallback,T=c.mode,D=l.child,K=D.sibling,m=wr(D,{mode:"hidden",children:m.children}),m.subtreeFlags=D.subtreeFlags&65011712,K!==null?y=wr(K,y):(y=Nl(y,T,f,null),y.flags|=2),y.return=c,m.return=c,m.sibling=y,c.child=m,m=y,y=c.child,T=l.child.memoizedState,T===null?T=w0(f):(D=T.cachePool,D!==null?(K=dn._currentValue,D=D.parent!==K?{parent:K,pool:K}:D):D=m_(),T={baseLanes:T.baseLanes|f,cachePool:D}),y.memoizedState=T,y.childLanes=k0(l,E,f),c.memoizedState=v0,m):(ks(c),f=l.child,l=f.sibling,f=wr(f,{mode:"visible",children:m.children}),f.return=c,f.sibling=null,l!==null&&(E=c.deletions,E===null?(c.deletions=[l],c.flags|=16):E.push(l)),c.child=f,c.memoizedState=null,f)}function x0(l,c){return c=ep({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function ep(l,c){return l=Ao(22,l,null,c),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function C0(l,c,f){return lc(c,l.child,null,f),l=x0(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function OE(l,c,f){l.lanes|=c;var m=l.alternate;m!==null&&(m.lanes|=c),Vy(l.return,c,f)}function S0(l,c,f,m,y){var w=l.memoizedState;w===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:y}:(w.isBackwards=c,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=f,w.tailMode=y)}function RE(l,c,f){var m=c.pendingProps,y=m.revealOrder,w=m.tail;if(Sn(l,c,m.children,f),m=fn.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&OE(l,f,c);else if(l.tag===19)OE(l,f,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}m&=1}switch(se(fn,m),y){case"forwards":for(f=c.child,y=null;f!==null;)l=f.alternate,l!==null&&Wh(l)===null&&(y=f),f=f.sibling;f=y,f===null?(y=c.child,c.child=null):(y=f.sibling,f.sibling=null),S0(c,!1,y,f,w);break;case"backwards":for(f=null,y=c.child,c.child=null;y!==null;){if(l=y.alternate,l!==null&&Wh(l)===null){c.child=y;break}l=y.sibling,y.sibling=f,f=y,y=l}S0(c,!0,f,null,w);break;case"together":S0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Mr(l,c,f){if(l!==null&&(c.dependencies=l.dependencies),Ms|=c.lanes,(f&c.childLanes)===0)if(l!==null){if(Pu(l,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(o(153));if(c.child!==null){for(l=c.child,f=wr(l,l.pendingProps),c.child=f,f.return=c;l.sibling!==null;)l=l.sibling,f=f.sibling=wr(l,l.pendingProps),f.return=c;f.sibling=null}return c.child}function _0(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&Lh(l)))}function U8(l,c,f){switch(c.tag){case 3:Ge(c,c.stateNode.containerInfo),gs(c,dn,l.memoizedState.cache),Iu();break;case 27:case 5:zt(c);break;case 4:Ge(c,c.stateNode.containerInfo);break;case 10:gs(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(ks(c),c.flags|=128,null):(f&c.child.childLanes)!==0?AE(l,c,f):(ks(c),l=Mr(l,c,f),l!==null?l.sibling:null);ks(c);break;case 19:var y=(l.flags&128)!==0;if(m=(f&c.childLanes)!==0,m||(Pu(l,c,f,!1),m=(f&c.childLanes)!==0),y){if(m)return RE(l,c,f);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),se(fn,fn.current),m)break;return null;case 22:case 23:return c.lanes=0,SE(l,c,f);case 24:gs(c,dn,l.memoizedState.cache)}return Mr(l,c,f)}function NE(l,c,f){if(l!==null)if(l.memoizedProps!==c.pendingProps)gn=!0;else{if(!_0(l,f)&&(c.flags&128)===0)return gn=!1,U8(l,c,f);gn=(l.flags&131072)!==0}else gn=!1,pt&&(c.flags&1048576)!==0&&a_(c,Dh,c.index);switch(c.lanes=0,c.tag){case 16:e:{l=c.pendingProps;var m=c.elementType,y=m._init;if(m=y(m._payload),c.type=m,typeof m=="function")Ly(m)?(l=Vl(m,l),c.tag=1,c=ME(null,c,m,l,f)):(c.tag=0,c=y0(null,c,m,l,f));else{if(m!=null){if(y=m.$$typeof,y===O){c.tag=11,c=kE(null,c,m,l,f);break e}else if(y===z){c.tag=14,c=xE(null,c,m,l,f);break e}}throw c=ve(m)||m,Error(o(306,c,""))}}return c;case 0:return y0(l,c,c.type,c.pendingProps,f);case 1:return m=c.type,y=Vl(m,c.pendingProps),ME(l,c,m,y,f);case 3:e:{if(Ge(c,c.stateNode.containerInfo),l===null)throw Error(o(387));m=c.pendingProps;var w=c.memoizedState;y=w.element,Zy(l,c),Ku(c,m,null,f);var E=c.memoizedState;if(m=E.cache,gs(c,dn,m),m!==w.cache&&$y(c,[dn],f,!0),Gu(),m=E.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:E.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=TE(l,c,m,f);break e}else if(m!==y){y=Yo(Error(o(424)),c),zu(y),c=TE(l,c,m,f);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Kt=gi(l.firstChild),Yn=c,pt=!0,Bl=null,ji=!0,f=uE(c,null,m,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Iu(),m===y){c=Mr(l,c,f);break e}Sn(l,c,m,f)}c=c.child}return c;case 26:return Qh(l,c),l===null?(f=j2(c.type,null,c.pendingProps,null))?c.memoizedState=f:pt||(f=c.type,l=c.pendingProps,m=pp(xe.current).createElement(f),m[Nn]=c,m[ao]=l,En(m,f,l),mn(m),c.stateNode=m):c.memoizedState=j2(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return zt(c),l===null&&pt&&(m=c.stateNode=D2(c.type,c.pendingProps,xe.current),Yn=c,ji=!0,y=Kt,Rs(c.type)?(r1=y,Kt=gi(m.firstChild)):Kt=y),Sn(l,c,c.pendingProps.children,f),Qh(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&pt&&((y=m=Kt)&&(m=b7(m,c.type,c.pendingProps,ji),m!==null?(c.stateNode=m,Yn=c,Kt=gi(m.firstChild),ji=!1,y=!0):y=!1),y||jl(c)),zt(c),y=c.type,w=c.pendingProps,E=l!==null?l.memoizedProps:null,m=w.children,t1(y,w)?m=null:E!==null&&t1(y,E)&&(c.flags|=32),c.memoizedState!==null&&(y=e0(l,c,B8,null,null,f),md._currentValue=y),Qh(l,c),Sn(l,c,m,f),c.child;case 6:return l===null&&pt&&((l=f=Kt)&&(f=y7(f,c.pendingProps,ji),f!==null?(c.stateNode=f,Yn=c,Kt=null,l=!0):l=!1),l||jl(c)),null;case 13:return AE(l,c,f);case 4:return Ge(c,c.stateNode.containerInfo),m=c.pendingProps,l===null?c.child=lc(c,null,m,f):Sn(l,c,m,f),c.child;case 11:return kE(l,c,c.type,c.pendingProps,f);case 7:return Sn(l,c,c.pendingProps,f),c.child;case 8:return Sn(l,c,c.pendingProps.children,f),c.child;case 12:return Sn(l,c,c.pendingProps.children,f),c.child;case 10:return m=c.pendingProps,gs(c,c.type,m.value),Sn(l,c,m.children,f),c.child;case 9:return y=c.type._context,m=c.pendingProps.children,Il(c),y=Dn(y),m=m(y),c.flags|=1,Sn(l,c,m,f),c.child;case 14:return xE(l,c,c.type,c.pendingProps,f);case 15:return CE(l,c,c.type,c.pendingProps,f);case 19:return RE(l,c,f);case 31:return m=c.pendingProps,f=c.mode,m={mode:m.mode,children:m.children},l===null?(f=ep(m,f),f.ref=c.ref,c.child=f,f.return=c,c=f):(f=wr(l.child,m),f.ref=c.ref,c.child=f,f.return=c,c=f),c;case 22:return SE(l,c,f);case 24:return Il(c),m=Dn(dn),l===null?(y=qy(),y===null&&(y=Lt,w=Uy(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=f),y=w),c.memoizedState={parent:m,cache:y},Ky(c),gs(c,dn,y)):((l.lanes&f)!==0&&(Zy(l,c),Ku(c,null,null,f),Gu()),y=l.memoizedState,w=c.memoizedState,y.parent!==m?(y={parent:m,cache:m},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),gs(c,dn,m)):(m=w.cache,gs(c,dn,m),m!==y.cache&&$y(c,[dn],f,!0))),Sn(l,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(o(156,c.tag))}function Tr(l){l.flags|=4}function DE(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!V2(c)){if(c=Qo.current,c!==null&&((ut&4194048)===ut?Hi!==null:(ut&62914560)!==ut&&(ut&536870912)===0||c!==Hi))throw Fu=Gy,g_;l.flags|=8192}}function tp(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?dS():536870912,l.lanes|=c,dc|=c)}function ed(l,c){if(!pt)switch(l.tailMode){case"hidden":c=l.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:m.sibling=null}}function qt(l){var c=l.alternate!==null&&l.alternate.child===l.child,f=0,m=0;if(c)for(var y=l.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=l,y=y.sibling;else for(y=l.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=l,y=y.sibling;return l.subtreeFlags|=m,l.childLanes=f,c}function F8(l,c,f){var m=c.pendingProps;switch(Iy(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(c),null;case 1:return qt(c),null;case 3:return f=c.stateNode,m=null,l!==null&&(m=l.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Sr(dn),Tt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(l===null||l.child===null)&&(Hu(c)?Tr(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,d_())),qt(c),null;case 26:return f=c.memoizedState,l===null?(Tr(c),f!==null?(qt(c),DE(c,f)):(qt(c),c.flags&=-16777217)):f?f!==l.memoizedState?(Tr(c),qt(c),DE(c,f)):(qt(c),c.flags&=-16777217):(l.memoizedProps!==m&&Tr(c),qt(c),c.flags&=-16777217),null;case 27:lo(c),f=xe.current;var y=c.type;if(l!==null&&c.stateNode!=null)l.memoizedProps!==m&&Tr(c);else{if(!m){if(c.stateNode===null)throw Error(o(166));return qt(c),null}l=Ce.current,Hu(c)?c_(c):(l=D2(y,m,f),c.stateNode=l,Tr(c))}return qt(c),null;case 5:if(lo(c),f=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==m&&Tr(c);else{if(!m){if(c.stateNode===null)throw Error(o(166));return qt(c),null}if(l=Ce.current,Hu(c))c_(c);else{switch(y=pp(xe.current),l){case 1:l=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:l=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":l=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":l=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":l=y.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?l.multiple=!0:m.size&&(l.size=m.size);break;default:l=typeof m.is=="string"?y.createElement(f,{is:m.is}):y.createElement(f)}}l[Nn]=c,l[ao]=m;e:for(y=c.child;y!==null;){if(y.tag===5||y.tag===6)l.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break e;for(;y.sibling===null;){if(y.return===null||y.return===c)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}c.stateNode=l;e:switch(En(l,f,m),f){case"button":case"input":case"select":case"textarea":l=!!m.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Tr(c)}}return qt(c),c.flags&=-16777217,null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==m&&Tr(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(o(166));if(l=xe.current,Hu(c)){if(l=c.stateNode,f=c.memoizedProps,m=null,y=Yn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}l[Nn]=c,l=!!(l.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||E2(l.nodeValue,f)),l||jl(c)}else l=pp(l).createTextNode(m),l[Nn]=c,c.stateNode=l}return qt(c),null;case 13:if(m=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(y=Hu(c),m!==null&&m.dehydrated!==null){if(l===null){if(!y)throw Error(o(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(o(317));y[Nn]=c}else Iu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qt(c),y=!1}else y=d_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=y),y=!0;if(!y)return c.flags&256?(Er(c),c):(Er(c),null)}if(Er(c),(c.flags&128)!==0)return c.lanes=f,c;if(f=m!==null,l=l!==null&&l.memoizedState!==null,f){m=c.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)}return f!==l&&f&&(c.child.flags|=8192),tp(c,c.updateQueue),qt(c),null;case 4:return Tt(),l===null&&W0(c.stateNode.containerInfo),qt(c),null;case 10:return Sr(c.type),qt(c),null;case 19:if(ee(fn),y=c.memoizedState,y===null)return qt(c),null;if(m=(c.flags&128)!==0,w=y.rendering,w===null)if(m)ed(y,!1);else{if(Zt!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(w=Wh(l),w!==null){for(c.flags|=128,ed(y,!1),l=w.updateQueue,c.updateQueue=l,tp(c,l),c.subtreeFlags=0,l=f,f=c.child;f!==null;)l_(f,l),f=f.sibling;return se(fn,fn.current&1|2),c.child}l=l.sibling}y.tail!==null&&re()>ip&&(c.flags|=128,m=!0,ed(y,!1),c.lanes=4194304)}else{if(!m)if(l=Wh(w),l!==null){if(c.flags|=128,m=!0,l=l.updateQueue,c.updateQueue=l,tp(c,l),ed(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!pt)return qt(c),null}else 2*re()-y.renderingStartTime>ip&&f!==536870912&&(c.flags|=128,m=!0,ed(y,!1),c.lanes=4194304);y.isBackwards?(w.sibling=c.child,c.child=w):(l=y.last,l!==null?l.sibling=w:c.child=w,y.last=w)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=re(),c.sibling=null,l=fn.current,se(fn,m?l&1|2:l&1),c):(qt(c),null);case 22:case 23:return Er(c),Jy(),m=c.memoizedState!==null,l!==null?l.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(f&536870912)!==0&&(c.flags&128)===0&&(qt(c),c.subtreeFlags&6&&(c.flags|=8192)):qt(c),f=c.updateQueue,f!==null&&tp(c,f.retryQueue),f=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048),l!==null&&ee(zl),null;case 24:return f=null,l!==null&&(f=l.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Sr(dn),qt(c),null;case 25:return null;case 30:return null}throw Error(o(156,c.tag))}function q8(l,c){switch(Iy(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Sr(dn),Tt(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return lo(c),null;case 13:if(Er(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(o(340));Iu()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return ee(fn),null;case 4:return Tt(),null;case 10:return Sr(c.type),null;case 22:case 23:return Er(c),Jy(),l!==null&&ee(zl),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return Sr(dn),null;case 25:return null;default:return null}}function LE(l,c){switch(Iy(c),c.tag){case 3:Sr(dn),Tt();break;case 26:case 27:case 5:lo(c);break;case 4:Tt();break;case 13:Er(c);break;case 19:ee(fn);break;case 10:Sr(c.type);break;case 22:case 23:Er(c),Jy(),l!==null&&ee(zl);break;case 24:Sr(dn)}}function td(l,c){try{var f=c.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&l)===l){m=void 0;var w=f.create,E=f.inst;m=w(),E.destroy=m}f=f.next}while(f!==y)}}catch(T){At(c,c.return,T)}}function Cs(l,c,f){try{var m=c.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&l)===l){var E=m.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,y=c;var D=f,K=T;try{K()}catch(Q){At(y,D,Q)}}}m=m.next}while(m!==w)}}catch(Q){At(c,c.return,Q)}}function BE(l){var c=l.updateQueue;if(c!==null){var f=l.stateNode;try{x_(c,f)}catch(m){At(l,l.return,m)}}}function jE(l,c,f){f.props=Vl(l.type,l.memoizedProps),f.state=l.memoizedState;try{f.componentWillUnmount()}catch(m){At(l,c,m)}}function nd(l,c){try{var f=l.ref;if(f!==null){switch(l.tag){case 26:case 27:case 5:var m=l.stateNode;break;case 30:m=l.stateNode;break;default:m=l.stateNode}typeof f=="function"?l.refCleanup=f(m):f.current=m}}catch(y){At(l,c,y)}}function Ii(l,c){var f=l.ref,m=l.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(y){At(l,c,y)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){At(l,c,y)}else f.current=null}function HE(l){var c=l.type,f=l.memoizedProps,m=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(y){At(l,l.return,y)}}function E0(l,c,f){try{var m=l.stateNode;f7(m,l.type,f,c),m[ao]=c}catch(y){At(l,l.return,y)}}function IE(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Rs(l.type)||l.tag===4}function M0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||IE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Rs(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function T0(l,c,f){var m=l.tag;if(m===5||m===6)l=l.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(l,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(l),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=hp));else if(m!==4&&(m===27&&Rs(l.type)&&(f=l.stateNode,c=null),l=l.child,l!==null))for(T0(l,c,f),l=l.sibling;l!==null;)T0(l,c,f),l=l.sibling}function np(l,c,f){var m=l.tag;if(m===5||m===6)l=l.stateNode,c?f.insertBefore(l,c):f.appendChild(l);else if(m!==4&&(m===27&&Rs(l.type)&&(f=l.stateNode),l=l.child,l!==null))for(np(l,c,f),l=l.sibling;l!==null;)np(l,c,f),l=l.sibling}function zE(l){var c=l.stateNode,f=l.memoizedProps;try{for(var m=l.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);En(c,m,f),c[Nn]=l,c[ao]=f}catch(w){At(l,l.return,w)}}var Ar=!1,en=!1,A0=!1,PE=typeof WeakSet=="function"?WeakSet:Set,bn=null;function G8(l,c){if(l=l.containerInfo,Q0=wp,l=XS(l),My(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var E=0,T=-1,D=-1,K=0,Q=0,ie=l,Y=null;t:for(;;){for(var W;ie!==f||y!==0&&ie.nodeType!==3||(T=E+y),ie!==w||m!==0&&ie.nodeType!==3||(D=E+m),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Y=ie,ie=W;for(;;){if(ie===l)break t;if(Y===f&&++K===y&&(T=E),Y===w&&++Q===m&&(D=E),(W=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=W}f=T===-1||D===-1?null:{start:T,end:D}}else f=null}f=f||{start:0,end:0}}else f=null;for(e1={focusedElem:l,selectionRange:f},wp=!1,bn=c;bn!==null;)if(c=bn,l=c.child,(c.subtreeFlags&1024)!==0&&l!==null)l.return=c,bn=l;else for(;bn!==null;){switch(c=bn,w=c.alternate,l=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&w!==null){l=void 0,f=c,y=w.memoizedProps,w=w.memoizedState,m=f.stateNode;try{var Pe=Vl(f.type,y,f.elementType===f.type);l=m.getSnapshotBeforeUpdate(Pe,w),m.__reactInternalSnapshotBeforeUpdate=l}catch(je){At(f,f.return,je)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,f=l.nodeType,f===9)o1(l);else if(f===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":o1(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(o(163))}if(l=c.sibling,l!==null){l.return=c.return,bn=l;break}bn=c.return}}function VE(l,c,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Ss(l,f),m&4&&td(5,f);break;case 1:if(Ss(l,f),m&4)if(l=f.stateNode,c===null)try{l.componentDidMount()}catch(E){At(f,f.return,E)}else{var y=Vl(f.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(y,c,l.__reactInternalSnapshotBeforeUpdate)}catch(E){At(f,f.return,E)}}m&64&&BE(f),m&512&&nd(f,f.return);break;case 3:if(Ss(l,f),m&64&&(l=f.updateQueue,l!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{x_(l,c)}catch(E){At(f,f.return,E)}}break;case 27:c===null&&m&4&&zE(f);case 26:case 5:Ss(l,f),c===null&&m&4&&HE(f),m&512&&nd(f,f.return);break;case 12:Ss(l,f);break;case 13:Ss(l,f),m&4&&FE(l,f),m&64&&(l=f.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(f=t7.bind(null,f),v7(l,f))));break;case 22:if(m=f.memoizedState!==null||Ar,!m){c=c!==null&&c.memoizedState!==null||en,y=Ar;var w=en;Ar=m,(en=c)&&!w?_s(l,f,(f.subtreeFlags&8772)!==0):Ss(l,f),Ar=y,en=w}break;case 30:break;default:Ss(l,f)}}function $E(l){var c=l.alternate;c!==null&&(l.alternate=null,$E(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&ay(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var $t=null,fo=!1;function Or(l,c,f){for(f=f.child;f!==null;)UE(l,c,f),f=f.sibling}function UE(l,c,f){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Ue,f)}catch{}switch(f.tag){case 26:en||Ii(f,c),Or(l,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:en||Ii(f,c);var m=$t,y=fo;Rs(f.type)&&($t=f.stateNode,fo=!1),Or(l,c,f),dd(f.stateNode),$t=m,fo=y;break;case 5:en||Ii(f,c);case 6:if(m=$t,y=fo,$t=null,Or(l,c,f),$t=m,fo=y,$t!==null)if(fo)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(f.stateNode)}catch(w){At(f,c,w)}else try{$t.removeChild(f.stateNode)}catch(w){At(f,c,w)}break;case 18:$t!==null&&(fo?(l=$t,R2(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,f.stateNode),vd(l)):R2($t,f.stateNode));break;case 4:m=$t,y=fo,$t=f.stateNode.containerInfo,fo=!0,Or(l,c,f),$t=m,fo=y;break;case 0:case 11:case 14:case 15:en||Cs(2,f,c),en||Cs(4,f,c),Or(l,c,f);break;case 1:en||(Ii(f,c),m=f.stateNode,typeof m.componentWillUnmount=="function"&&jE(f,c,m)),Or(l,c,f);break;case 21:Or(l,c,f);break;case 22:en=(m=en)||f.memoizedState!==null,Or(l,c,f),en=m;break;default:Or(l,c,f)}}function FE(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{vd(l)}catch(f){At(c,c.return,f)}}function K8(l){switch(l.tag){case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new PE),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new PE),c;default:throw Error(o(435,l.tag))}}function O0(l,c){var f=K8(l);c.forEach(function(m){var y=n7.bind(null,l,m);f.has(m)||(f.add(m),m.then(y,y))})}function Oo(l,c){var f=c.deletions;if(f!==null)for(var m=0;m<f.length;m++){var y=f[m],w=l,E=c,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Rs(T.type)){$t=T.stateNode,fo=!1;break e}break;case 5:$t=T.stateNode,fo=!1;break e;case 3:case 4:$t=T.stateNode.containerInfo,fo=!0;break e}T=T.return}if($t===null)throw Error(o(160));UE(w,E,y),$t=null,fo=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)qE(c,l),c=c.sibling}var mi=null;function qE(l,c){var f=l.alternate,m=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Oo(c,l),Ro(l),m&4&&(Cs(3,l,l.return),td(3,l),Cs(5,l,l.return));break;case 1:Oo(c,l),Ro(l),m&512&&(en||f===null||Ii(f,f.return)),m&64&&Ar&&(l=l.updateQueue,l!==null&&(m=l.callbacks,m!==null&&(f=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var y=mi;if(Oo(c,l),Ro(l),m&512&&(en||f===null||Ii(f,f.return)),m&4){var w=f!==null?f.memoizedState:null;if(m=l.memoizedState,f===null)if(m===null)if(l.stateNode===null){e:{m=l.type,f=l.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Eu]||w[Nn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),En(w,m,f),w[Nn]=l,mn(w),m=w;break e;case"link":var E=z2("link","href",y).get(m+(f.href||""));if(E){for(var T=0;T<E.length;T++)if(w=E[T],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){E.splice(T,1);break t}}w=y.createElement(m),En(w,m,f),y.head.appendChild(w);break;case"meta":if(E=z2("meta","content",y).get(m+(f.content||""))){for(T=0;T<E.length;T++)if(w=E[T],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){E.splice(T,1);break t}}w=y.createElement(m),En(w,m,f),y.head.appendChild(w);break;default:throw Error(o(468,m))}w[Nn]=l,mn(w),m=w}l.stateNode=m}else P2(y,l.type,l.stateNode);else l.stateNode=I2(y,m,l.memoizedProps);else w!==m?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,m===null?P2(y,l.type,l.stateNode):I2(y,m,l.memoizedProps)):m===null&&l.stateNode!==null&&E0(l,l.memoizedProps,f.memoizedProps)}break;case 27:Oo(c,l),Ro(l),m&512&&(en||f===null||Ii(f,f.return)),f!==null&&m&4&&E0(l,l.memoizedProps,f.memoizedProps);break;case 5:if(Oo(c,l),Ro(l),m&512&&(en||f===null||Ii(f,f.return)),l.flags&32){y=l.stateNode;try{Ua(y,"")}catch(W){At(l,l.return,W)}}m&4&&l.stateNode!=null&&(y=l.memoizedProps,E0(l,y,f!==null?f.memoizedProps:y)),m&1024&&(A0=!0);break;case 6:if(Oo(c,l),Ro(l),m&4){if(l.stateNode===null)throw Error(o(162));m=l.memoizedProps,f=l.stateNode;try{f.nodeValue=m}catch(W){At(l,l.return,W)}}break;case 3:if(bp=null,y=mi,mi=mp(c.containerInfo),Oo(c,l),mi=y,Ro(l),m&4&&f!==null&&f.memoizedState.isDehydrated)try{vd(c.containerInfo)}catch(W){At(l,l.return,W)}A0&&(A0=!1,GE(l));break;case 4:m=mi,mi=mp(l.stateNode.containerInfo),Oo(c,l),Ro(l),mi=m;break;case 12:Oo(c,l),Ro(l);break;case 13:Oo(c,l),Ro(l),l.child.flags&8192&&l.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(j0=re()),m&4&&(m=l.updateQueue,m!==null&&(l.updateQueue=null,O0(l,m)));break;case 22:y=l.memoizedState!==null;var D=f!==null&&f.memoizedState!==null,K=Ar,Q=en;if(Ar=K||y,en=Q||D,Oo(c,l),en=Q,Ar=K,Ro(l),m&8192)e:for(c=l.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(f===null||D||Ar||en||$l(l)),f=null,c=l;;){if(c.tag===5||c.tag===26){if(f===null){D=f=c;try{if(w=D.stateNode,y)E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=D.stateNode;var ie=D.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(W){At(D,D.return,W)}}}else if(c.tag===6){if(f===null){D=c;try{D.stateNode.nodeValue=y?"":D.memoizedProps}catch(W){At(D,D.return,W)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=l.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,O0(l,f))));break;case 19:Oo(c,l),Ro(l),m&4&&(m=l.updateQueue,m!==null&&(l.updateQueue=null,O0(l,m)));break;case 30:break;case 21:break;default:Oo(c,l),Ro(l)}}function Ro(l){var c=l.flags;if(c&2){try{for(var f,m=l.return;m!==null;){if(IE(m)){f=m;break}m=m.return}if(f==null)throw Error(o(160));switch(f.tag){case 27:var y=f.stateNode,w=M0(l);np(l,w,y);break;case 5:var E=f.stateNode;f.flags&32&&(Ua(E,""),f.flags&=-33);var T=M0(l);np(l,T,E);break;case 3:case 4:var D=f.stateNode.containerInfo,K=M0(l);T0(l,K,D);break;default:throw Error(o(161))}}catch(Q){At(l,l.return,Q)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function GE(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;GE(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function Ss(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)VE(l,c.alternate,c),c=c.sibling}function $l(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:Cs(4,c,c.return),$l(c);break;case 1:Ii(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&jE(c,c.return,f),$l(c);break;case 27:dd(c.stateNode);case 26:case 5:Ii(c,c.return),$l(c);break;case 22:c.memoizedState===null&&$l(c);break;case 30:$l(c);break;default:$l(c)}l=l.sibling}}function _s(l,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,y=l,w=c,E=w.flags;switch(w.tag){case 0:case 11:case 15:_s(y,w,f),td(4,w);break;case 1:if(_s(y,w,f),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(K){At(m,m.return,K)}if(m=w,y=m.updateQueue,y!==null){var T=m.stateNode;try{var D=y.shared.hiddenCallbacks;if(D!==null)for(y.shared.hiddenCallbacks=null,y=0;y<D.length;y++)k_(D[y],T)}catch(K){At(m,m.return,K)}}f&&E&64&&BE(w),nd(w,w.return);break;case 27:zE(w);case 26:case 5:_s(y,w,f),f&&m===null&&E&4&&HE(w),nd(w,w.return);break;case 12:_s(y,w,f);break;case 13:_s(y,w,f),f&&E&4&&FE(y,w);break;case 22:w.memoizedState===null&&_s(y,w,f),nd(w,w.return);break;case 30:break;default:_s(y,w,f)}c=c.sibling}}function R0(l,c){var f=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==f&&(l!=null&&l.refCount++,f!=null&&Vu(f))}function N0(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Vu(l))}function zi(l,c,f,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)KE(l,c,f,m),c=c.sibling}function KE(l,c,f,m){var y=c.flags;switch(c.tag){case 0:case 11:case 15:zi(l,c,f,m),y&2048&&td(9,c);break;case 1:zi(l,c,f,m);break;case 3:zi(l,c,f,m),y&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Vu(l)));break;case 12:if(y&2048){zi(l,c,f,m),l=c.stateNode;try{var w=c.memoizedProps,E=w.id,T=w.onPostCommit;typeof T=="function"&&T(E,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(D){At(c,c.return,D)}}else zi(l,c,f,m);break;case 13:zi(l,c,f,m);break;case 23:break;case 22:w=c.stateNode,E=c.alternate,c.memoizedState!==null?w._visibility&2?zi(l,c,f,m):od(l,c):w._visibility&2?zi(l,c,f,m):(w._visibility|=2,ac(l,c,f,m,(c.subtreeFlags&10256)!==0)),y&2048&&R0(E,c);break;case 24:zi(l,c,f,m),y&2048&&N0(c.alternate,c);break;default:zi(l,c,f,m)}}function ac(l,c,f,m,y){for(y=y&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var w=l,E=c,T=f,D=m,K=E.flags;switch(E.tag){case 0:case 11:case 15:ac(w,E,T,D,y),td(8,E);break;case 23:break;case 22:var Q=E.stateNode;E.memoizedState!==null?Q._visibility&2?ac(w,E,T,D,y):od(w,E):(Q._visibility|=2,ac(w,E,T,D,y)),y&&K&2048&&R0(E.alternate,E);break;case 24:ac(w,E,T,D,y),y&&K&2048&&N0(E.alternate,E);break;default:ac(w,E,T,D,y)}c=c.sibling}}function od(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=l,m=c,y=m.flags;switch(m.tag){case 22:od(f,m),y&2048&&R0(m.alternate,m);break;case 24:od(f,m),y&2048&&N0(m.alternate,m);break;default:od(f,m)}c=c.sibling}}var id=8192;function cc(l){if(l.subtreeFlags&id)for(l=l.child;l!==null;)ZE(l),l=l.sibling}function ZE(l){switch(l.tag){case 26:cc(l),l.flags&id&&l.memoizedState!==null&&N7(mi,l.memoizedState,l.memoizedProps);break;case 5:cc(l);break;case 3:case 4:var c=mi;mi=mp(l.stateNode.containerInfo),cc(l),mi=c;break;case 22:l.memoizedState===null&&(c=l.alternate,c!==null&&c.memoizedState!==null?(c=id,id=16777216,cc(l),id=c):cc(l));break;default:cc(l)}}function YE(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function rd(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];bn=m,XE(m,l)}YE(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)WE(l),l=l.sibling}function WE(l){switch(l.tag){case 0:case 11:case 15:rd(l),l.flags&2048&&Cs(9,l,l.return);break;case 3:rd(l);break;case 12:rd(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,op(l)):rd(l);break;default:rd(l)}}function op(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];bn=m,XE(m,l)}YE(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:Cs(8,c,c.return),op(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,op(c));break;default:op(c)}l=l.sibling}}function XE(l,c){for(;bn!==null;){var f=bn;switch(f.tag){case 0:case 11:case 15:Cs(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vu(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,bn=m;else e:for(f=l;bn!==null;){m=bn;var y=m.sibling,w=m.return;if($E(m),m===f){bn=null;break e}if(y!==null){y.return=w,bn=y;break e}bn=w}}}var Z8={getCacheForType:function(l){var c=Dn(dn),f=c.data.get(l);return f===void 0&&(f=l(),c.data.set(l,f)),f}},Y8=typeof WeakMap=="function"?WeakMap:Map,wt=0,Lt=null,rt=null,ut=0,kt=0,No=null,Es=!1,uc=!1,D0=!1,Rr=0,Zt=0,Ms=0,Ul=0,L0=0,ei=0,dc=0,sd=null,ho=null,B0=!1,j0=0,ip=1/0,rp=null,Ts=null,_n=0,As=null,fc=null,hc=0,H0=0,I0=null,JE=null,ld=0,z0=null;function Do(){if((wt&2)!==0&&ut!==0)return ut&-ut;if(B.T!==null){var l=ec;return l!==0?l:G0()}return pS()}function QE(){ei===0&&(ei=(ut&536870912)===0||pt?uS():536870912);var l=Qo.current;return l!==null&&(l.flags|=32),ei}function Lo(l,c,f){(l===Lt&&(kt===2||kt===9)||l.cancelPendingCommit!==null)&&(pc(l,0),Os(l,ut,ei,!1)),_u(l,f),((wt&2)===0||l!==Lt)&&(l===Lt&&((wt&2)===0&&(Ul|=f),Zt===4&&Os(l,ut,ei,!1)),Pi(l))}function e2(l,c,f){if((wt&6)!==0)throw Error(o(327));var m=!f&&(c&124)===0&&(c&l.expiredLanes)===0||hs(l,c),y=m?J8(l,c):$0(l,c,!0),w=m;do{if(y===0){uc&&!m&&Os(l,c,0,!1);break}else{if(f=l.current.alternate,w&&!W8(f)){y=$0(l,c,!1),w=!1;continue}if(y===2){if(w=c,l.errorRecoveryDisabledLanes&w)var E=0;else E=l.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){c=E;e:{var T=l;y=sd;var D=T.current.memoizedState.isDehydrated;if(D&&(pc(T,E).flags|=256),E=$0(T,E,!1),E!==2){if(D0&&!D){T.errorRecoveryDisabledLanes|=w,Ul|=w,y=4;break e}w=ho,ho=y,w!==null&&(ho===null?ho=w:ho.push.apply(ho,w))}y=E}if(w=!1,y!==2)continue}}if(y===1){pc(l,0),Os(l,c,0,!0);break}e:{switch(m=l,w=y,w){case 0:case 1:throw Error(o(345));case 4:if((c&4194048)!==c)break;case 6:Os(m,c,ei,!Es);break e;case 2:ho=null;break;case 3:case 5:break;default:throw Error(o(329))}if((c&62914560)===c&&(y=j0+300-re(),10<y)){if(Os(m,c,ei,!Es),Zn(m,0,!0)!==0)break e;m.timeoutHandle=A2(t2.bind(null,m,f,ho,rp,B0,c,ei,Ul,dc,Es,w,2,-0,0),y);break e}t2(m,f,ho,rp,B0,c,ei,Ul,dc,Es,w,0,-0,0)}}break}while(!0);Pi(l)}function t2(l,c,f,m,y,w,E,T,D,K,Q,ie,Y,W){if(l.timeoutHandle=-1,ie=c.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(pd={stylesheets:null,count:0,unsuspend:R7},ZE(c),ie=D7(),ie!==null)){l.cancelPendingCommit=ie(a2.bind(null,l,c,w,f,m,y,E,T,D,Q,1,Y,W)),Os(l,w,E,!K);return}a2(l,c,w,f,m,y,E,T,D)}function W8(l){for(var c=l;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var y=f[m],w=y.getSnapshot;y=y.value;try{if(!To(w(),y))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Os(l,c,f,m){c&=~L0,c&=~Ul,l.suspendedLanes|=c,l.pingedLanes&=~c,m&&(l.warmLanes|=c),m=l.expirationTimes;for(var y=c;0<y;){var w=31-mt(y),E=1<<w;m[w]=-1,y&=~E}f!==0&&fS(l,f,c)}function sp(){return(wt&6)===0?(ad(0),!1):!0}function P0(){if(rt!==null){if(kt===0)var l=rt.return;else l=rt,Cr=Hl=null,o0(l),sc=null,Ju=0,l=rt;for(;l!==null;)LE(l.alternate,l),l=l.return;rt=null}}function pc(l,c){var f=l.timeoutHandle;f!==-1&&(l.timeoutHandle=-1,p7(f)),f=l.cancelPendingCommit,f!==null&&(l.cancelPendingCommit=null,f()),P0(),Lt=l,rt=f=wr(l.current,null),ut=c,kt=0,No=null,Es=!1,uc=hs(l,c),D0=!1,dc=ei=L0=Ul=Ms=Zt=0,ho=sd=null,B0=!1,(c&8)!==0&&(c|=c&32);var m=l.entangledLanes;if(m!==0)for(l=l.entanglements,m&=c;0<m;){var y=31-mt(m),w=1<<y;c|=l[y],m&=~w}return Rr=c,Th(),f}function n2(l,c){nt=null,B.H=Kh,c===Uu||c===Hh?(c=v_(),kt=3):c===g_?(c=v_(),kt=4):kt=c===wE?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,No=c,rt===null&&(Zt=1,Jh(l,Yo(c,l.current)))}function o2(){var l=B.H;return B.H=Kh,l===null?Kh:l}function i2(){var l=B.A;return B.A=Z8,l}function V0(){Zt=4,Es||(ut&4194048)!==ut&&Qo.current!==null||(uc=!0),(Ms&134217727)===0&&(Ul&134217727)===0||Lt===null||Os(Lt,ut,ei,!1)}function $0(l,c,f){var m=wt;wt|=2;var y=o2(),w=i2();(Lt!==l||ut!==c)&&(rp=null,pc(l,c)),c=!1;var E=Zt;e:do try{if(kt!==0&&rt!==null){var T=rt,D=No;switch(kt){case 8:P0(),E=6;break e;case 3:case 2:case 9:case 6:Qo.current===null&&(c=!0);var K=kt;if(kt=0,No=null,mc(l,T,D,K),f&&uc){E=0;break e}break;default:K=kt,kt=0,No=null,mc(l,T,D,K)}}X8(),E=Zt;break}catch(Q){n2(l,Q)}while(!0);return c&&l.shellSuspendCounter++,Cr=Hl=null,wt=m,B.H=y,B.A=w,rt===null&&(Lt=null,ut=0,Th()),E}function X8(){for(;rt!==null;)r2(rt)}function J8(l,c){var f=wt;wt|=2;var m=o2(),y=i2();Lt!==l||ut!==c?(rp=null,ip=re()+500,pc(l,c)):uc=hs(l,c);e:do try{if(kt!==0&&rt!==null){c=rt;var w=No;t:switch(kt){case 1:kt=0,No=null,mc(l,c,w,1);break;case 2:case 9:if(b_(w)){kt=0,No=null,s2(c);break}c=function(){kt!==2&&kt!==9||Lt!==l||(kt=7),Pi(l)},w.then(c,c);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:b_(w)?(kt=0,No=null,s2(c)):(kt=0,No=null,mc(l,c,w,7));break;case 5:var E=null;switch(rt.tag){case 26:E=rt.memoizedState;case 5:case 27:var T=rt;if(!E||V2(E)){kt=0,No=null;var D=T.sibling;if(D!==null)rt=D;else{var K=T.return;K!==null?(rt=K,lp(K)):rt=null}break t}}kt=0,No=null,mc(l,c,w,5);break;case 6:kt=0,No=null,mc(l,c,w,6);break;case 8:P0(),Zt=6;break e;default:throw Error(o(462))}}Q8();break}catch(Q){n2(l,Q)}while(!0);return Cr=Hl=null,B.H=m,B.A=y,wt=f,rt!==null?0:(Lt=null,ut=0,Th(),Zt)}function Q8(){for(;rt!==null&&!ce();)r2(rt)}function r2(l){var c=NE(l.alternate,l,Rr);l.memoizedProps=l.pendingProps,c===null?lp(l):rt=c}function s2(l){var c=l,f=c.alternate;switch(c.tag){case 15:case 0:c=EE(f,c,c.pendingProps,c.type,void 0,ut);break;case 11:c=EE(f,c,c.pendingProps,c.type.render,c.ref,ut);break;case 5:o0(c);default:LE(f,c),c=rt=l_(c,Rr),c=NE(f,c,Rr)}l.memoizedProps=l.pendingProps,c===null?lp(l):rt=c}function mc(l,c,f,m){Cr=Hl=null,o0(c),sc=null,Ju=0;var y=c.return;try{if($8(l,y,c,f,ut)){Zt=1,Jh(l,Yo(f,l.current)),rt=null;return}}catch(w){if(y!==null)throw rt=y,w;Zt=1,Jh(l,Yo(f,l.current)),rt=null;return}c.flags&32768?(pt||m===1?l=!0:uc||(ut&536870912)!==0?l=!1:(Es=l=!0,(m===2||m===9||m===3||m===6)&&(m=Qo.current,m!==null&&m.tag===13&&(m.flags|=16384))),l2(c,l)):lp(c)}function lp(l){var c=l;do{if((c.flags&32768)!==0){l2(c,Es);return}l=c.return;var f=F8(c.alternate,c,Rr);if(f!==null){rt=f;return}if(c=c.sibling,c!==null){rt=c;return}rt=c=l}while(c!==null);Zt===0&&(Zt=5)}function l2(l,c){do{var f=q8(l.alternate,l);if(f!==null){f.flags&=32767,rt=f;return}if(f=l.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(l=l.sibling,l!==null)){rt=l;return}rt=l=f}while(l!==null);Zt=6,rt=null}function a2(l,c,f,m,y,w,E,T,D){l.cancelPendingCommit=null;do ap();while(_n!==0);if((wt&6)!==0)throw Error(o(327));if(c!==null){if(c===l.current)throw Error(o(177));if(w=c.lanes|c.childLanes,w|=Ny,Rj(l,f,w,E,T,D),l===Lt&&(rt=Lt=null,ut=0),fc=c,As=l,hc=f,H0=w,I0=y,JE=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,o7(de,function(){return h2(),null})):(l.callbackNode=null,l.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,y=P.p,P.p=2,E=wt,wt|=4;try{G8(l,c,f)}finally{wt=E,P.p=y,B.T=m}}_n=1,c2(),u2(),d2()}}function c2(){if(_n===1){_n=0;var l=As,c=fc,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=B.T,B.T=null;var m=P.p;P.p=2;var y=wt;wt|=4;try{qE(c,l);var w=e1,E=XS(l.containerInfo),T=w.focusedElem,D=w.selectionRange;if(E!==T&&T&&T.ownerDocument&&WS(T.ownerDocument.documentElement,T)){if(D!==null&&My(T)){var K=D.start,Q=D.end;if(Q===void 0&&(Q=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(Q,T.value.length);else{var ie=T.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),Pe=T.textContent.length,je=Math.min(D.start,Pe),Et=D.end===void 0?je:Math.min(D.end,Pe);!W.extend&&je>Et&&(E=Et,Et=je,je=E);var $=YS(T,je),I=YS(T,Et);if($&&I&&(W.rangeCount!==1||W.anchorNode!==$.node||W.anchorOffset!==$.offset||W.focusNode!==I.node||W.focusOffset!==I.offset)){var G=ie.createRange();G.setStart($.node,$.offset),W.removeAllRanges(),je>Et?(W.addRange(G),W.extend(I.node,I.offset)):(G.setEnd(I.node,I.offset),W.addRange(G))}}}}for(ie=[],W=T;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var te=ie[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}wp=!!Q0,e1=Q0=null}finally{wt=y,P.p=m,B.T=f}}l.current=c,_n=2}}function u2(){if(_n===2){_n=0;var l=As,c=fc,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=B.T,B.T=null;var m=P.p;P.p=2;var y=wt;wt|=4;try{VE(l,c.alternate,c)}finally{wt=y,P.p=m,B.T=f}}_n=3}}function d2(){if(_n===4||_n===3){_n=0,le();var l=As,c=fc,f=hc,m=JE;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?_n=5:(_n=0,fc=As=null,f2(l,l.pendingLanes));var y=l.pendingLanes;if(y===0&&(Ts=null),sy(f),c=c.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Ue,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=B.T,y=P.p,P.p=2,B.T=null;try{for(var w=l.onRecoverableError,E=0;E<m.length;E++){var T=m[E];w(T.value,{componentStack:T.stack})}}finally{B.T=c,P.p=y}}(hc&3)!==0&&ap(),Pi(l),y=l.pendingLanes,(f&4194090)!==0&&(y&42)!==0?l===z0?ld++:(ld=0,z0=l):ld=0,ad(0)}}function f2(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,Vu(c)))}function ap(l){return c2(),u2(),d2(),h2()}function h2(){if(_n!==5)return!1;var l=As,c=H0;H0=0;var f=sy(hc),m=B.T,y=P.p;try{P.p=32>f?32:f,B.T=null,f=I0,I0=null;var w=As,E=hc;if(_n=0,fc=As=null,hc=0,(wt&6)!==0)throw Error(o(331));var T=wt;if(wt|=4,WE(w.current),KE(w,w.current,E,f),wt=T,ad(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Ue,w)}catch{}return!0}finally{P.p=y,B.T=m,f2(l,c)}}function p2(l,c,f){c=Yo(f,c),c=b0(l.stateNode,c,2),l=vs(l,c,2),l!==null&&(_u(l,2),Pi(l))}function At(l,c,f){if(l.tag===3)p2(l,l,f);else for(;c!==null;){if(c.tag===3){p2(c,l,f);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ts===null||!Ts.has(m))){l=Yo(f,l),f=yE(2),m=vs(c,f,2),m!==null&&(vE(f,m,c,l),_u(m,2),Pi(m));break}}c=c.return}}function U0(l,c,f){var m=l.pingCache;if(m===null){m=l.pingCache=new Y8;var y=new Set;m.set(c,y)}else y=m.get(c),y===void 0&&(y=new Set,m.set(c,y));y.has(f)||(D0=!0,y.add(f),l=e7.bind(null,l,c,f),c.then(l,l))}function e7(l,c,f){var m=l.pingCache;m!==null&&m.delete(c),l.pingedLanes|=l.suspendedLanes&f,l.warmLanes&=~f,Lt===l&&(ut&f)===f&&(Zt===4||Zt===3&&(ut&62914560)===ut&&300>re()-j0?(wt&2)===0&&pc(l,0):L0|=f,dc===ut&&(dc=0)),Pi(l)}function m2(l,c){c===0&&(c=dS()),l=Wa(l,c),l!==null&&(_u(l,c),Pi(l))}function t7(l){var c=l.memoizedState,f=0;c!==null&&(f=c.retryLane),m2(l,f)}function n7(l,c){var f=0;switch(l.tag){case 13:var m=l.stateNode,y=l.memoizedState;y!==null&&(f=y.retryLane);break;case 19:m=l.stateNode;break;case 22:m=l.stateNode._retryCache;break;default:throw Error(o(314))}m!==null&&m.delete(c),m2(l,f)}function o7(l,c){return H(l,c)}var cp=null,gc=null,F0=!1,up=!1,q0=!1,Fl=0;function Pi(l){l!==gc&&l.next===null&&(gc===null?cp=gc=l:gc=gc.next=l),up=!0,F0||(F0=!0,r7())}function ad(l,c){if(!q0&&up){q0=!0;do for(var f=!1,m=cp;m!==null;){if(l!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var E=m.suspendedLanes,T=m.pingedLanes;w=(1<<31-mt(42|l)+1)-1,w&=y&~(E&~T),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,v2(m,w))}else w=ut,w=Zn(m,m===Lt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||hs(m,w)||(f=!0,v2(m,w));m=m.next}while(f);q0=!1}}function i7(){g2()}function g2(){up=F0=!1;var l=0;Fl!==0&&(h7()&&(l=Fl),Fl=0);for(var c=re(),f=null,m=cp;m!==null;){var y=m.next,w=b2(m,c);w===0?(m.next=null,f===null?cp=y:f.next=y,y===null&&(gc=f)):(f=m,(l!==0||(w&3)!==0)&&(up=!0)),m=y}ad(l)}function b2(l,c){for(var f=l.suspendedLanes,m=l.pingedLanes,y=l.expirationTimes,w=l.pendingLanes&-62914561;0<w;){var E=31-mt(w),T=1<<E,D=y[E];D===-1?((T&f)===0||(T&m)!==0)&&(y[E]=Oj(T,c)):D<=c&&(l.expiredLanes|=T),w&=~T}if(c=Lt,f=ut,f=Zn(l,l===c?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),m=l.callbackNode,f===0||l===c&&(kt===2||kt===9)||l.cancelPendingCommit!==null)return m!==null&&m!==null&&X(m),l.callbackNode=null,l.callbackPriority=0;if((f&3)===0||hs(l,f)){if(c=f&-f,c===l.callbackPriority)return c;switch(m!==null&&X(m),sy(f)){case 2:case 8:f=ue;break;case 32:f=de;break;case 268435456:f=ke;break;default:f=de}return m=y2.bind(null,l),f=H(f,m),l.callbackPriority=c,l.callbackNode=f,c}return m!==null&&m!==null&&X(m),l.callbackPriority=2,l.callbackNode=null,2}function y2(l,c){if(_n!==0&&_n!==5)return l.callbackNode=null,l.callbackPriority=0,null;var f=l.callbackNode;if(ap()&&l.callbackNode!==f)return null;var m=ut;return m=Zn(l,l===Lt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),m===0?null:(e2(l,m,c),b2(l,re()),l.callbackNode!=null&&l.callbackNode===f?y2.bind(null,l):null)}function v2(l,c){if(ap())return null;e2(l,c,!0)}function r7(){m7(function(){(wt&6)!==0?H(ge,i7):g2()})}function G0(){return Fl===0&&(Fl=uS()),Fl}function w2(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:kh(""+l)}function k2(l,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,l.id&&f.setAttribute("form",l.id),c.parentNode.insertBefore(f,c),l=new FormData(l),f.parentNode.removeChild(f),l}function s7(l,c,f,m,y){if(c==="submit"&&f&&f.stateNode===y){var w=w2((y[ao]||null).action),E=m.submitter;E&&(c=(c=E[ao]||null)?w2(c.formAction):E.getAttribute("formAction"),c!==null&&(w=c,E=null));var T=new _h("action","action",null,m,y);l.push({event:T,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Fl!==0){var D=E?k2(y,E):new FormData(y);f0(f,{pending:!0,data:D,method:y.method,action:w},null,D)}}else typeof w=="function"&&(T.preventDefault(),D=E?k2(y,E):new FormData(y),f0(f,{pending:!0,data:D,method:y.method,action:w},w,D))},currentTarget:y}]})}}for(var K0=0;K0<Ry.length;K0++){var Z0=Ry[K0],l7=Z0.toLowerCase(),a7=Z0[0].toUpperCase()+Z0.slice(1);pi(l7,"on"+a7)}pi(e_,"onAnimationEnd"),pi(t_,"onAnimationIteration"),pi(n_,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(_8,"onTransitionRun"),pi(E8,"onTransitionStart"),pi(M8,"onTransitionCancel"),pi(o_,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cd));function x2(l,c){c=(c&4)!==0;for(var f=0;f<l.length;f++){var m=l[f],y=m.event;m=m.listeners;e:{var w=void 0;if(c)for(var E=m.length-1;0<=E;E--){var T=m[E],D=T.instance,K=T.currentTarget;if(T=T.listener,D!==w&&y.isPropagationStopped())break e;w=T,y.currentTarget=K;try{w(y)}catch(Q){Xh(Q)}y.currentTarget=null,w=D}else for(E=0;E<m.length;E++){if(T=m[E],D=T.instance,K=T.currentTarget,T=T.listener,D!==w&&y.isPropagationStopped())break e;w=T,y.currentTarget=K;try{w(y)}catch(Q){Xh(Q)}y.currentTarget=null,w=D}}}}function st(l,c){var f=c[ly];f===void 0&&(f=c[ly]=new Set);var m=l+"__bubble";f.has(m)||(C2(c,l,2,!1),f.add(m))}function Y0(l,c,f){var m=0;c&&(m|=4),C2(f,l,m,c)}var dp="_reactListening"+Math.random().toString(36).slice(2);function W0(l){if(!l[dp]){l[dp]=!0,gS.forEach(function(f){f!=="selectionchange"&&(c7.has(f)||Y0(f,!1,l),Y0(f,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[dp]||(c[dp]=!0,Y0("selectionchange",!1,c))}}function C2(l,c,f,m){switch(K2(c)){case 2:var y=j7;break;case 8:y=H7;break;default:y=u1}f=y.bind(null,c,f,l),y=void 0,!yy||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),m?y!==void 0?l.addEventListener(c,f,{capture:!0,passive:y}):l.addEventListener(c,f,!0):y!==void 0?l.addEventListener(c,f,{passive:y}):l.addEventListener(c,f,!1)}function X0(l,c,f,m,y){var w=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var E=m.tag;if(E===3||E===4){var T=m.stateNode.containerInfo;if(T===y)break;if(E===4)for(E=m.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;T!==null;){if(E=Ha(T),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){m=w=E;continue e}T=T.parentNode}}m=m.return}OS(function(){var K=w,Q=gy(f),ie=[];e:{var Y=i_.get(l);if(Y!==void 0){var W=_h,Pe=l;switch(l){case"keypress":if(Ch(f)===0)break e;case"keydown":case"keyup":W=o8;break;case"focusin":Pe="focus",W=xy;break;case"focusout":Pe="blur",W=xy;break;case"beforeblur":case"afterblur":W=xy;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=DS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=qj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=s8;break;case e_:case t_:case n_:W=Zj;break;case o_:W=a8;break;case"scroll":case"scrollend":W=Uj;break;case"wheel":W=u8;break;case"copy":case"cut":case"paste":W=Wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=BS;break;case"toggle":case"beforetoggle":W=f8}var je=(c&4)!==0,Et=!je&&(l==="scroll"||l==="scrollend"),$=je?Y!==null?Y+"Capture":null:Y;je=[];for(var I=K,G;I!==null;){var te=I;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||$===null||(te=Tu(I,$),te!=null&&je.push(ud(I,te,G))),Et)break;I=I.return}0<je.length&&(Y=new W(Y,Pe,null,f,Q),ie.push({event:Y,listeners:je}))}}if((c&7)===0){e:{if(Y=l==="mouseover"||l==="pointerover",W=l==="mouseout"||l==="pointerout",Y&&f!==my&&(Pe=f.relatedTarget||f.fromElement)&&(Ha(Pe)||Pe[ja]))break e;if((W||Y)&&(Y=Q.window===Q?Q:(Y=Q.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(Pe=f.relatedTarget||f.toElement,W=K,Pe=Pe?Ha(Pe):null,Pe!==null&&(Et=r(Pe),je=Pe.tag,Pe!==Et||je!==5&&je!==27&&je!==6)&&(Pe=null)):(W=null,Pe=K),W!==Pe)){if(je=DS,te="onMouseLeave",$="onMouseEnter",I="mouse",(l==="pointerout"||l==="pointerover")&&(je=BS,te="onPointerLeave",$="onPointerEnter",I="pointer"),Et=W==null?Y:Mu(W),G=Pe==null?Y:Mu(Pe),Y=new je(te,I+"leave",W,f,Q),Y.target=Et,Y.relatedTarget=G,te=null,Ha(Q)===K&&(je=new je($,I+"enter",Pe,f,Q),je.target=G,je.relatedTarget=Et,te=je),Et=te,W&&Pe)t:{for(je=W,$=Pe,I=0,G=je;G;G=bc(G))I++;for(G=0,te=$;te;te=bc(te))G++;for(;0<I-G;)je=bc(je),I--;for(;0<G-I;)$=bc($),G--;for(;I--;){if(je===$||$!==null&&je===$.alternate)break t;je=bc(je),$=bc($)}je=null}else je=null;W!==null&&S2(ie,Y,W,je,!1),Pe!==null&&Et!==null&&S2(ie,Et,Pe,je,!0)}}e:{if(Y=K?Mu(K):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Se=US;else if(VS(Y))if(FS)Se=x8;else{Se=w8;var ot=v8}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&py(K.elementType)&&(Se=US):Se=k8;if(Se&&(Se=Se(l,K))){$S(ie,Se,f,Q);break e}ot&&ot(l,Y,K),l==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&hy(Y,"number",Y.value)}switch(ot=K?Mu(K):window,l){case"focusin":(VS(ot)||ot.contentEditable==="true")&&(Ka=ot,Ty=K,ju=null);break;case"focusout":ju=Ty=Ka=null;break;case"mousedown":Ay=!0;break;case"contextmenu":case"mouseup":case"dragend":Ay=!1,JS(ie,f,Q);break;case"selectionchange":if(S8)break;case"keydown":case"keyup":JS(ie,f,Q)}var Ae;if(Sy)e:{switch(l){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ga?zS(l,f)&&(Ie="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(Ie="onCompositionStart");Ie&&(jS&&f.locale!=="ko"&&(Ga||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ga&&(Ae=RS()):(ms=Q,vy="value"in ms?ms.value:ms.textContent,Ga=!0)),ot=fp(K,Ie),0<ot.length&&(Ie=new LS(Ie,l,null,f,Q),ie.push({event:Ie,listeners:ot}),Ae?Ie.data=Ae:(Ae=PS(f),Ae!==null&&(Ie.data=Ae)))),(Ae=p8?m8(l,f):g8(l,f))&&(Ie=fp(K,"onBeforeInput"),0<Ie.length&&(ot=new LS("onBeforeInput","beforeinput",null,f,Q),ie.push({event:ot,listeners:Ie}),ot.data=Ae)),s7(ie,l,K,f,Q)}x2(ie,c)})}function ud(l,c,f){return{instance:l,listener:c,currentTarget:f}}function fp(l,c){for(var f=c+"Capture",m=[];l!==null;){var y=l,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Tu(l,f),y!=null&&m.unshift(ud(l,y,w)),y=Tu(l,c),y!=null&&m.push(ud(l,y,w))),l.tag===3)return m;l=l.return}return[]}function bc(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function S2(l,c,f,m,y){for(var w=c._reactName,E=[];f!==null&&f!==m;){var T=f,D=T.alternate,K=T.stateNode;if(T=T.tag,D!==null&&D===m)break;T!==5&&T!==26&&T!==27||K===null||(D=K,y?(K=Tu(f,w),K!=null&&E.unshift(ud(f,K,D))):y||(K=Tu(f,w),K!=null&&E.push(ud(f,K,D)))),f=f.return}E.length!==0&&l.push({event:c,listeners:E})}var u7=/\r\n?/g,d7=/\u0000|\uFFFD/g;function _2(l){return(typeof l=="string"?l:""+l).replace(u7,`
`).replace(d7,"")}function E2(l,c){return c=_2(c),_2(l)===c}function hp(){}function _t(l,c,f,m,y,w){switch(f){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Ua(l,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Ua(l,""+m);break;case"className":yh(l,"class",m);break;case"tabIndex":yh(l,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":yh(l,f,m);break;case"style":TS(l,m,w);break;case"data":if(c!=="object"){yh(l,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||f!=="href")){l.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){l.removeAttribute(f);break}m=kh(""+m),l.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){l.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(c!=="input"&&_t(l,c,"name",y.name,y,null),_t(l,c,"formEncType",y.formEncType,y,null),_t(l,c,"formMethod",y.formMethod,y,null),_t(l,c,"formTarget",y.formTarget,y,null)):(_t(l,c,"encType",y.encType,y,null),_t(l,c,"method",y.method,y,null),_t(l,c,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){l.removeAttribute(f);break}m=kh(""+m),l.setAttribute(f,m);break;case"onClick":m!=null&&(l.onclick=hp);break;case"onScroll":m!=null&&st("scroll",l);break;case"onScrollEnd":m!=null&&st("scrollend",l);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(o(61));if(f=m.__html,f!=null){if(y.children!=null)throw Error(o(60));l.innerHTML=f}}break;case"multiple":l.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":l.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){l.removeAttribute("xlink:href");break}f=kh(""+m),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(f,""+m):l.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(f,""):l.removeAttribute(f);break;case"capture":case"download":m===!0?l.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(f,m):l.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?l.setAttribute(f,m):l.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?l.removeAttribute(f):l.setAttribute(f,m);break;case"popover":st("beforetoggle",l),st("toggle",l),bh(l,"popover",m);break;case"xlinkActuate":yr(l,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":yr(l,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":yr(l,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":yr(l,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":yr(l,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":yr(l,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":yr(l,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":yr(l,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":yr(l,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":bh(l,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Vj.get(f)||f,bh(l,f,m))}}function J0(l,c,f,m,y,w){switch(f){case"style":TS(l,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(o(61));if(f=m.__html,f!=null){if(y.children!=null)throw Error(o(60));l.innerHTML=f}}break;case"children":typeof m=="string"?Ua(l,m):(typeof m=="number"||typeof m=="bigint")&&Ua(l,""+m);break;case"onScroll":m!=null&&st("scroll",l);break;case"onScrollEnd":m!=null&&st("scrollend",l);break;case"onClick":m!=null&&(l.onclick=hp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bS.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),c=f.slice(2,y?f.length-7:void 0),w=l[ao]||null,w=w!=null?w[f]:null,typeof w=="function"&&l.removeEventListener(c,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(f in l?l[f]=null:l.hasAttribute(f)&&l.removeAttribute(f)),l.addEventListener(c,m,y);break e}f in l?l[f]=m:m===!0?l.setAttribute(f,""):bh(l,f,m)}}}function En(l,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",l),st("load",l);var m=!1,y=!1,w;for(w in f)if(f.hasOwnProperty(w)){var E=f[w];if(E!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,c));default:_t(l,c,w,E,f,null)}}y&&_t(l,c,"srcSet",f.srcSet,f,null),m&&_t(l,c,"src",f.src,f,null);return;case"input":st("invalid",l);var T=w=E=y=null,D=null,K=null;for(m in f)if(f.hasOwnProperty(m)){var Q=f[m];if(Q!=null)switch(m){case"name":y=Q;break;case"type":E=Q;break;case"checked":D=Q;break;case"defaultChecked":K=Q;break;case"value":w=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,c));break;default:_t(l,c,m,Q,f,null)}}SS(l,w,T,D,K,E,y,!1),vh(l);return;case"select":st("invalid",l),m=E=w=null;for(y in f)if(f.hasOwnProperty(y)&&(T=f[y],T!=null))switch(y){case"value":w=T;break;case"defaultValue":E=T;break;case"multiple":m=T;default:_t(l,c,y,T,f,null)}c=w,f=E,l.multiple=!!m,c!=null?$a(l,!!m,c,!1):f!=null&&$a(l,!!m,f,!0);return;case"textarea":st("invalid",l),w=y=m=null;for(E in f)if(f.hasOwnProperty(E)&&(T=f[E],T!=null))switch(E){case"value":m=T;break;case"defaultValue":y=T;break;case"children":w=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:_t(l,c,E,T,f,null)}ES(l,m,y,w),vh(l);return;case"option":for(D in f)if(f.hasOwnProperty(D)&&(m=f[D],m!=null))switch(D){case"selected":l.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:_t(l,c,D,m,f,null)}return;case"dialog":st("beforetoggle",l),st("toggle",l),st("cancel",l),st("close",l);break;case"iframe":case"object":st("load",l);break;case"video":case"audio":for(m=0;m<cd.length;m++)st(cd[m],l);break;case"image":st("error",l),st("load",l);break;case"details":st("toggle",l);break;case"embed":case"source":case"link":st("error",l),st("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in f)if(f.hasOwnProperty(K)&&(m=f[K],m!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,c));default:_t(l,c,K,m,f,null)}return;default:if(py(c)){for(Q in f)f.hasOwnProperty(Q)&&(m=f[Q],m!==void 0&&J0(l,c,Q,m,f,void 0));return}}for(T in f)f.hasOwnProperty(T)&&(m=f[T],m!=null&&_t(l,c,T,m,f,null))}function f7(l,c,f,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,E=null,T=null,D=null,K=null,Q=null;for(W in f){var ie=f[W];if(f.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=ie;default:m.hasOwnProperty(W)||_t(l,c,W,null,m,ie)}}for(var Y in m){var W=m[Y];if(ie=f[Y],m.hasOwnProperty(Y)&&(W!=null||ie!=null))switch(Y){case"type":w=W;break;case"name":y=W;break;case"checked":K=W;break;case"defaultChecked":Q=W;break;case"value":E=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,c));break;default:W!==ie&&_t(l,c,Y,W,m,ie)}}fy(l,E,T,D,K,Q,w,y);return;case"select":W=E=T=Y=null;for(w in f)if(D=f[w],f.hasOwnProperty(w)&&D!=null)switch(w){case"value":break;case"multiple":W=D;default:m.hasOwnProperty(w)||_t(l,c,w,null,m,D)}for(y in m)if(w=m[y],D=f[y],m.hasOwnProperty(y)&&(w!=null||D!=null))switch(y){case"value":Y=w;break;case"defaultValue":T=w;break;case"multiple":E=w;default:w!==D&&_t(l,c,y,w,m,D)}c=T,f=E,m=W,Y!=null?$a(l,!!f,Y,!1):!!m!=!!f&&(c!=null?$a(l,!!f,c,!0):$a(l,!!f,f?[]:"",!1));return;case"textarea":W=Y=null;for(T in f)if(y=f[T],f.hasOwnProperty(T)&&y!=null&&!m.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:_t(l,c,T,null,m,y)}for(E in m)if(y=m[E],w=f[E],m.hasOwnProperty(E)&&(y!=null||w!=null))switch(E){case"value":Y=y;break;case"defaultValue":W=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:y!==w&&_t(l,c,E,y,m,w)}_S(l,Y,W);return;case"option":for(var Pe in f)if(Y=f[Pe],f.hasOwnProperty(Pe)&&Y!=null&&!m.hasOwnProperty(Pe))switch(Pe){case"selected":l.selected=!1;break;default:_t(l,c,Pe,null,m,Y)}for(D in m)if(Y=m[D],W=f[D],m.hasOwnProperty(D)&&Y!==W&&(Y!=null||W!=null))switch(D){case"selected":l.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:_t(l,c,D,Y,m,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in f)Y=f[je],f.hasOwnProperty(je)&&Y!=null&&!m.hasOwnProperty(je)&&_t(l,c,je,null,m,Y);for(K in m)if(Y=m[K],W=f[K],m.hasOwnProperty(K)&&Y!==W&&(Y!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,c));break;default:_t(l,c,K,Y,m,W)}return;default:if(py(c)){for(var Et in f)Y=f[Et],f.hasOwnProperty(Et)&&Y!==void 0&&!m.hasOwnProperty(Et)&&J0(l,c,Et,void 0,m,Y);for(Q in m)Y=m[Q],W=f[Q],!m.hasOwnProperty(Q)||Y===W||Y===void 0&&W===void 0||J0(l,c,Q,Y,m,W);return}}for(var $ in f)Y=f[$],f.hasOwnProperty($)&&Y!=null&&!m.hasOwnProperty($)&&_t(l,c,$,null,m,Y);for(ie in m)Y=m[ie],W=f[ie],!m.hasOwnProperty(ie)||Y===W||Y==null&&W==null||_t(l,c,ie,Y,m,W)}var Q0=null,e1=null;function pp(l){return l.nodeType===9?l:l.ownerDocument}function M2(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T2(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function t1(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var n1=null;function h7(){var l=window.event;return l&&l.type==="popstate"?l===n1?!1:(n1=l,!0):(n1=null,!1)}var A2=typeof setTimeout=="function"?setTimeout:void 0,p7=typeof clearTimeout=="function"?clearTimeout:void 0,O2=typeof Promise=="function"?Promise:void 0,m7=typeof queueMicrotask=="function"?queueMicrotask:typeof O2<"u"?function(l){return O2.resolve(null).then(l).catch(g7)}:A2;function g7(l){setTimeout(function(){throw l})}function Rs(l){return l==="head"}function R2(l,c){var f=c,m=0,y=0;do{var w=f.nextSibling;if(l.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(0<m&&8>m){f=m;var E=l.ownerDocument;if(f&1&&dd(E.documentElement),f&2&&dd(E.body),f&4)for(f=E.head,dd(f),E=f.firstChild;E;){var T=E.nextSibling,D=E.nodeName;E[Eu]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||f.removeChild(E),E=T}}if(y===0){l.removeChild(w),vd(c);return}y--}else f==="$"||f==="$?"||f==="$!"?y++:m=f.charCodeAt(0)-48;else m=0;f=w}while(f);vd(c)}function o1(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":o1(f),ay(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}l.removeChild(f)}}function b7(l,c,f,m){for(;l.nodeType===1;){var y=f;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(m){if(!l[Eu])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(w=l.getAttribute("rel"),w==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(w!==y.rel||l.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||l.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||l.getAttribute("title")!==(y.title==null?null:y.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(w=l.getAttribute("src"),(w!==(y.src==null?null:y.src)||l.getAttribute("type")!==(y.type==null?null:y.type)||l.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&l.getAttribute("name")===w)return l}else return l;if(l=gi(l.nextSibling),l===null)break}return null}function y7(l,c,f){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=gi(l.nextSibling),l===null))return null;return l}function i1(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function v7(l,c){var f=l.ownerDocument;if(l.data!=="$?"||f.readyState==="complete")c();else{var m=function(){c(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),l._reactRetry=m}}function gi(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return l}var r1=null;function N2(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return l;c--}else f==="/$"&&c++}l=l.previousSibling}return null}function D2(l,c,f){switch(c=pp(f),l){case"html":if(l=c.documentElement,!l)throw Error(o(452));return l;case"head":if(l=c.head,!l)throw Error(o(453));return l;case"body":if(l=c.body,!l)throw Error(o(454));return l;default:throw Error(o(451))}}function dd(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);ay(l)}var ti=new Map,L2=new Set;function mp(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Nr=P.d;P.d={f:w7,r:k7,D:x7,C:C7,L:S7,m:_7,X:M7,S:E7,M:T7};function w7(){var l=Nr.f(),c=sp();return l||c}function k7(l){var c=Ia(l);c!==null&&c.tag===5&&c.type==="form"?eE(c):Nr.r(l)}var yc=typeof document>"u"?null:document;function B2(l,c,f){var m=yc;if(m&&typeof c=="string"&&c){var y=Zo(c);y='link[rel="'+l+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),L2.has(y)||(L2.add(y),l={rel:l,crossOrigin:f,href:c},m.querySelector(y)===null&&(c=m.createElement("link"),En(c,"link",l),mn(c),m.head.appendChild(c)))}}function x7(l){Nr.D(l),B2("dns-prefetch",l,null)}function C7(l,c){Nr.C(l,c),B2("preconnect",l,c)}function S7(l,c,f){Nr.L(l,c,f);var m=yc;if(m&&l&&c){var y='link[rel="preload"][as="'+Zo(c)+'"]';c==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+Zo(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+Zo(f.imageSizes)+'"]')):y+='[href="'+Zo(l)+'"]';var w=y;switch(c){case"style":w=vc(l);break;case"script":w=wc(l)}ti.has(w)||(l=h({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:l,as:c},f),ti.set(w,l),m.querySelector(y)!==null||c==="style"&&m.querySelector(fd(w))||c==="script"&&m.querySelector(hd(w))||(c=m.createElement("link"),En(c,"link",l),mn(c),m.head.appendChild(c)))}}function _7(l,c){Nr.m(l,c);var f=yc;if(f&&l){var m=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+Zo(m)+'"][href="'+Zo(l)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=wc(l)}if(!ti.has(w)&&(l=h({rel:"modulepreload",href:l},c),ti.set(w,l),f.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(hd(w)))return}m=f.createElement("link"),En(m,"link",l),mn(m),f.head.appendChild(m)}}}function E7(l,c,f){Nr.S(l,c,f);var m=yc;if(m&&l){var y=za(m).hoistableStyles,w=vc(l);c=c||"default";var E=y.get(w);if(!E){var T={loading:0,preload:null};if(E=m.querySelector(fd(w)))T.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":c},f),(f=ti.get(w))&&s1(l,f);var D=E=m.createElement("link");mn(D),En(D,"link",l),D._p=new Promise(function(K,Q){D.onload=K,D.onerror=Q}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gp(E,c,m)}E={type:"stylesheet",instance:E,count:1,state:T},y.set(w,E)}}}function M7(l,c){Nr.X(l,c);var f=yc;if(f&&l){var m=za(f).hoistableScripts,y=wc(l),w=m.get(y);w||(w=f.querySelector(hd(y)),w||(l=h({src:l,async:!0},c),(c=ti.get(y))&&l1(l,c),w=f.createElement("script"),mn(w),En(w,"link",l),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function T7(l,c){Nr.M(l,c);var f=yc;if(f&&l){var m=za(f).hoistableScripts,y=wc(l),w=m.get(y);w||(w=f.querySelector(hd(y)),w||(l=h({src:l,async:!0,type:"module"},c),(c=ti.get(y))&&l1(l,c),w=f.createElement("script"),mn(w),En(w,"link",l),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function j2(l,c,f,m){var y=(y=xe.current)?mp(y):null;if(!y)throw Error(o(446));switch(l){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=vc(f.href),f=za(y).hoistableStyles,m=f.get(c),m||(m={type:"style",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){l=vc(f.href);var w=za(y).hoistableStyles,E=w.get(l);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(l,E),(w=y.querySelector(fd(l)))&&!w._p&&(E.instance=w,E.state.loading=5),ti.has(l)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ti.set(l,f),w||A7(y,l,f,E.state))),c&&m===null)throw Error(o(528,""));return E}if(c&&m!==null)throw Error(o(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=wc(f),f=za(y).hoistableScripts,m=f.get(c),m||(m={type:"script",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,l))}}function vc(l){return'href="'+Zo(l)+'"'}function fd(l){return'link[rel="stylesheet"]['+l+"]"}function H2(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function A7(l,c,f,m){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=l.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),En(c,"link",f),mn(c),l.head.appendChild(c))}function wc(l){return'[src="'+Zo(l)+'"]'}function hd(l){return"script[async]"+l}function I2(l,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var m=l.querySelector('style[data-href~="'+Zo(f.href)+'"]');if(m)return c.instance=m,mn(m),m;var y=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(l.ownerDocument||l).createElement("style"),mn(m),En(m,"style",y),gp(m,f.precedence,l),c.instance=m;case"stylesheet":y=vc(f.href);var w=l.querySelector(fd(y));if(w)return c.state.loading|=4,c.instance=w,mn(w),w;m=H2(f),(y=ti.get(y))&&s1(m,y),w=(l.ownerDocument||l).createElement("link"),mn(w);var E=w;return E._p=new Promise(function(T,D){E.onload=T,E.onerror=D}),En(w,"link",m),c.state.loading|=4,gp(w,f.precedence,l),c.instance=w;case"script":return w=wc(f.src),(y=l.querySelector(hd(w)))?(c.instance=y,mn(y),y):(m=f,(y=ti.get(w))&&(m=h({},f),l1(m,y)),l=l.ownerDocument||l,y=l.createElement("script"),mn(y),En(y,"link",m),l.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(o(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,gp(m,f.precedence,l));return c.instance}function gp(l,c,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,E=0;E<m.length;E++){var T=m[E];if(T.dataset.precedence===c)w=T;else if(w!==y)break}w?w.parentNode.insertBefore(l,w.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(l,c.firstChild))}function s1(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function l1(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var bp=null;function z2(l,c,f){if(bp===null){var m=new Map,y=bp=new Map;y.set(f,m)}else y=bp,m=y.get(f),m||(m=new Map,y.set(f,m));if(m.has(l))return m;for(m.set(l,null),f=f.getElementsByTagName(l),y=0;y<f.length;y++){var w=f[y];if(!(w[Eu]||w[Nn]||l==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var E=w.getAttribute(c)||"";E=l+E;var T=m.get(E);T?T.push(w):m.set(E,[w])}}return m}function P2(l,c,f){l=l.ownerDocument||l,l.head.insertBefore(f,c==="title"?l.querySelector("head > title"):null)}function O7(l,c,f){if(f===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function V2(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var pd=null;function R7(){}function N7(l,c,f){if(pd===null)throw Error(o(475));var m=pd;if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=vc(f.href),w=l.querySelector(fd(y));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(m.count++,m=yp.bind(m),l.then(m,m)),c.state.loading|=4,c.instance=w,mn(w);return}w=l.ownerDocument||l,f=H2(f),(y=ti.get(y))&&s1(f,y),w=w.createElement("link"),mn(w);var E=w;E._p=new Promise(function(T,D){E.onload=T,E.onerror=D}),En(w,"link",f),c.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=yp.bind(m),l.addEventListener("load",c),l.addEventListener("error",c))}}function D7(){if(pd===null)throw Error(o(475));var l=pd;return l.stylesheets&&l.count===0&&a1(l,l.stylesheets),0<l.count?function(c){var f=setTimeout(function(){if(l.stylesheets&&a1(l,l.stylesheets),l.unsuspend){var m=l.unsuspend;l.unsuspend=null,m()}},6e4);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(f)}}:null}function yp(){if(this.count--,this.count===0){if(this.stylesheets)a1(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var vp=null;function a1(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,vp=new Map,c.forEach(L7,l),vp=null,yp.call(l))}function L7(l,c){if(!(c.state.loading&4)){var f=vp.get(l);if(f)var m=f.get(null);else{f=new Map,vp.set(l,f);for(var y=l.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var E=y[w];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(f.set(E.dataset.precedence,E),m=E)}m&&f.set(null,m)}y=c.instance,E=y.getAttribute("data-precedence"),w=f.get(E)||m,w===m&&f.set(null,y),f.set(E,y),this.count++,m=yp.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(y,l.firstChild)),c.state.loading|=4}}var md={$$typeof:A,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function B7(l,c,f,m,y,w,E,T){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iy(0),this.hiddenUpdates=iy(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function $2(l,c,f,m,y,w,E,T,D,K,Q,ie){return l=new B7(l,c,f,E,T,D,K,ie),c=1,w===!0&&(c|=24),w=Ao(3,null,null,c),l.current=w,w.stateNode=l,c=Uy(),c.refCount++,l.pooledCache=c,c.refCount++,w.memoizedState={element:m,isDehydrated:f,cache:c},Ky(w),l}function U2(l){return l?(l=Xa,l):Xa}function F2(l,c,f,m,y,w){y=U2(y),m.context===null?m.context=y:m.pendingContext=y,m=ys(c),m.payload={element:f},w=w===void 0?null:w,w!==null&&(m.callback=w),f=vs(l,m,c),f!==null&&(Lo(f,l,c),qu(f,l,c))}function q2(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<c?f:c}}function c1(l,c){q2(l,c),(l=l.alternate)&&q2(l,c)}function G2(l){if(l.tag===13){var c=Wa(l,67108864);c!==null&&Lo(c,l,67108864),c1(l,67108864)}}var wp=!0;function j7(l,c,f,m){var y=B.T;B.T=null;var w=P.p;try{P.p=2,u1(l,c,f,m)}finally{P.p=w,B.T=y}}function H7(l,c,f,m){var y=B.T;B.T=null;var w=P.p;try{P.p=8,u1(l,c,f,m)}finally{P.p=w,B.T=y}}function u1(l,c,f,m){if(wp){var y=d1(m);if(y===null)X0(l,c,m,kp,f),Z2(l,m);else if(z7(y,l,c,f,m))m.stopPropagation();else if(Z2(l,m),c&4&&-1<I7.indexOf(l)){for(;y!==null;){var w=Ia(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var E=Jt(w.pendingLanes);if(E!==0){var T=w;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var D=1<<31-mt(E);T.entanglements[1]|=D,E&=~D}Pi(w),(wt&6)===0&&(ip=re()+500,ad(0))}}break;case 13:T=Wa(w,2),T!==null&&Lo(T,w,2),sp(),c1(w,2)}if(w=d1(m),w===null&&X0(l,c,m,kp,f),w===y)break;y=w}y!==null&&m.stopPropagation()}else X0(l,c,m,null,f)}}function d1(l){return l=gy(l),f1(l)}var kp=null;function f1(l){if(kp=null,l=Ha(l),l!==null){var c=r(l);if(c===null)l=null;else{var f=c.tag;if(f===13){if(l=s(c),l!==null)return l;l=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return kp=l,null}function K2(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case ge:return 2;case ue:return 8;case de:case Ne:return 32;case ke:return 268435456;default:return 32}default:return 32}}var h1=!1,Ns=null,Ds=null,Ls=null,gd=new Map,bd=new Map,Bs=[],I7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z2(l,c){switch(l){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":gd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(c.pointerId)}}function yd(l,c,f,m,y,w){return l===null||l.nativeEvent!==w?(l={blockedOn:c,domEventName:f,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},c!==null&&(c=Ia(c),c!==null&&G2(c)),l):(l.eventSystemFlags|=m,c=l.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),l)}function z7(l,c,f,m,y){switch(c){case"focusin":return Ns=yd(Ns,l,c,f,m,y),!0;case"dragenter":return Ds=yd(Ds,l,c,f,m,y),!0;case"mouseover":return Ls=yd(Ls,l,c,f,m,y),!0;case"pointerover":var w=y.pointerId;return gd.set(w,yd(gd.get(w)||null,l,c,f,m,y)),!0;case"gotpointercapture":return w=y.pointerId,bd.set(w,yd(bd.get(w)||null,l,c,f,m,y)),!0}return!1}function Y2(l){var c=Ha(l.target);if(c!==null){var f=r(c);if(f!==null){if(c=f.tag,c===13){if(c=s(f),c!==null){l.blockedOn=c,Nj(l.priority,function(){if(f.tag===13){var m=Do();m=ry(m);var y=Wa(f,m);y!==null&&Lo(y,f,m),c1(f,m)}});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function xp(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var f=d1(l.nativeEvent);if(f===null){f=l.nativeEvent;var m=new f.constructor(f.type,f);my=m,f.target.dispatchEvent(m),my=null}else return c=Ia(f),c!==null&&G2(c),l.blockedOn=f,!1;c.shift()}return!0}function W2(l,c,f){xp(l)&&f.delete(c)}function P7(){h1=!1,Ns!==null&&xp(Ns)&&(Ns=null),Ds!==null&&xp(Ds)&&(Ds=null),Ls!==null&&xp(Ls)&&(Ls=null),gd.forEach(W2),bd.forEach(W2)}function Cp(l,c){l.blockedOn===c&&(l.blockedOn=null,h1||(h1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,P7)))}var Sp=null;function X2(l){Sp!==l&&(Sp=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sp===l&&(Sp=null);for(var c=0;c<l.length;c+=3){var f=l[c],m=l[c+1],y=l[c+2];if(typeof m!="function"){if(f1(m||f)===null)continue;break}var w=Ia(f);w!==null&&(l.splice(c,3),c-=3,f0(w,{pending:!0,data:y,method:f.method,action:m},m,y))}}))}function vd(l){function c(D){return Cp(D,l)}Ns!==null&&Cp(Ns,l),Ds!==null&&Cp(Ds,l),Ls!==null&&Cp(Ls,l),gd.forEach(c),bd.forEach(c);for(var f=0;f<Bs.length;f++){var m=Bs[f];m.blockedOn===l&&(m.blockedOn=null)}for(;0<Bs.length&&(f=Bs[0],f.blockedOn===null);)Y2(f),f.blockedOn===null&&Bs.shift();if(f=(l.ownerDocument||l).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var y=f[m],w=f[m+1],E=y[ao]||null;if(typeof w=="function")E||X2(f);else if(E){var T=null;if(w&&w.hasAttribute("formAction")){if(y=w,E=w[ao]||null)T=E.formAction;else if(f1(y)!==null)continue}else T=E.action;typeof T=="function"?f[m+1]=T:(f.splice(m,3),m-=3),X2(f)}}}function p1(l){this._internalRoot=l}_p.prototype.render=p1.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(o(409));var f=c.current,m=Do();F2(f,m,l,c,null,null)},_p.prototype.unmount=p1.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;F2(l.current,2,null,l,null,null),sp(),c[ja]=null}};function _p(l){this._internalRoot=l}_p.prototype.unstable_scheduleHydration=function(l){if(l){var c=pS();l={blockedOn:null,target:l,priority:c};for(var f=0;f<Bs.length&&c!==0&&c<Bs[f].priority;f++);Bs.splice(f,0,l),f===0&&Y2(l)}};var J2=e.version;if(J2!=="19.1.0")throw Error(o(527,J2,"19.1.0"));P.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return l=u(c),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var V7={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ep.isDisabled&&Ep.supportsFiber)try{Ue=Ep.inject(V7),Fe=Ep}catch{}}return xd.createRoot=function(l,c){if(!i(l))throw Error(o(299));var f=!1,m="",y=pE,w=mE,E=gE,T=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(E=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(T=c.unstable_transitionCallbacks)),c=$2(l,1,!1,null,null,f,m,y,w,E,T,null),l[ja]=c.current,W0(l),new p1(c)},xd.hydrateRoot=function(l,c,f){if(!i(l))throw Error(o(299));var m=!1,y="",w=pE,E=mE,T=gE,D=null,K=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(E=f.onCaughtError),f.onRecoverableError!==void 0&&(T=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(D=f.unstable_transitionCallbacks),f.formState!==void 0&&(K=f.formState)),c=$2(l,1,!0,c,f??null,m,y,w,E,T,D,K),c.context=U2(null),f=c.current,m=Do(),m=ry(m),y=ys(m),y.callback=null,vs(f,y,m),f=m,c.current.lanes=f,_u(c,f),Pi(c),l[ja]=c.current,W0(l),new _p(c)},xd.version="19.1.0",xd}var DM;function wH(){if(DM)return M1.exports;DM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M1.exports=vH(),M1.exports}var DN=wH(),R1={exports:{}},Cd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LM;function kH(){if(LM)return Cd;LM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,i,r){var s=null;if(r!==void 0&&(s=""+r),i.key!==void 0&&(s=""+i.key),"key"in i){r={};for(var a in i)a!=="key"&&(r[a]=i[a])}else r=i;return i=r.ref,{$$typeof:t,type:o,key:s,ref:i!==void 0?i:null,props:r}}return Cd.Fragment=e,Cd.jsx=n,Cd.jsxs=n,Cd}var BM;function xH(){return BM||(BM=1,R1.exports=kH()),R1.exports}var x=xH();const CH="modulepreload",SH=function(t){return"/block-note-vue-demo/"+t},jM={},mo=function(e,n,o){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=SH(u),u in jM)return;jM[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":CH,d||(p.as="script"),p.crossOrigin="",p.href=u,a&&p.setAttribute("nonce",a),document.head.appendChild(p),d)return new Promise((g,b)=>{p.addEventListener("load",g),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};function Tn(t){this.content=t}Tn.prototype={constructor:Tn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,i=o.find(t),r=o.content.slice();return i==-1?r.push(n||t,e):(r[i+1]=e,n&&(r[i]=n)),new Tn(r)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Tn(n)},addToStart:function(t,e){return new Tn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Tn(n)},addBefore:function(t,e,n){var o=this.remove(e),i=o.content.slice(),r=o.find(t);return i.splice(r==-1?i.length:r,0,e,n),new Tn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Tn.from(t),t.size?new Tn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Tn.from(t),t.size?new Tn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Tn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Tn.from=function(t){if(t instanceof Tn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Tn(e)};function LN(t,e,n){for(let o=0;;o++){if(o==t.childCount||o==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(o),r=e.child(o);if(i==r){n+=i.nodeSize;continue}if(!i.sameMarkup(r))return n;if(i.isText&&i.text!=r.text){for(let s=0;i.text[s]==r.text[s];s++)n++;return n}if(i.content.size||r.content.size){let s=LN(i.content,r.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function BN(t,e,n,o){for(let i=t.childCount,r=e.childCount;;){if(i==0||r==0)return i==r?null:{a:n,b:o};let s=t.child(--i),a=e.child(--r),u=s.nodeSize;if(s==a){n-=u,o-=u;continue}if(!s.sameMarkup(a))return{a:n,b:o};if(s.isText&&s.text!=a.text){let d=0,h=Math.min(s.text.length,a.text.length);for(;d<h&&s.text[s.text.length-d-1]==a.text[a.text.length-d-1];)d++,n--,o--;return{a:n,b:o}}if(s.content.size||a.content.size){let d=BN(s.content,a.content,n-1,o-1);if(d)return d}n-=u,o-=u}}class J{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let o=0;o<e.length;o++)this.size+=e[o].nodeSize}nodesBetween(e,n,o,i=0,r){for(let s=0,a=0;a<n;s++){let u=this.content[s],d=a+u.nodeSize;if(d>e&&o(u,i+a,r||null,s)!==!1&&u.content.size){let h=a+1;u.nodesBetween(Math.max(0,e-h),Math.min(u.content.size,n-h),o,i+h)}a=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,o,i){let r="",s=!0;return this.nodesBetween(e,n,(a,u)=>{let d=a.isText?a.text.slice(Math.max(e,u)-u,n-u):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&d||a.isTextblock)&&o&&(s?s=!1:r+=o),r+=d},0),r}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,o=e.firstChild,i=this.content.slice(),r=0;for(n.isText&&n.sameMarkup(o)&&(i[i.length-1]=n.withText(n.text+o.text),r=1);r<e.content.length;r++)i.push(e.content[r]);return new J(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let o=[],i=0;if(n>e)for(let r=0,s=0;s<n;r++){let a=this.content[r],u=s+a.nodeSize;u>e&&((s<e||u>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),o.push(a),i+=a.nodeSize),s=u}return new J(o,i)}cutByIndex(e,n){return e==n?J.empty:e==0&&n==this.content.length?this:new J(this.content.slice(e,n))}replaceChild(e,n){let o=this.content[e];if(o==n)return this;let i=this.content.slice(),r=this.size+n.nodeSize-o.nodeSize;return i[e]=n,new J(i,r)}addToStart(e){return new J([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new J(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,o=0;n<this.content.length;n++){let i=this.content[n];e(i,o,n),o+=i.nodeSize}}findDiffStart(e,n=0){return LN(this,e,n)}findDiffEnd(e,n=this.size,o=e.size){return BN(this,e,n,o)}findIndex(e,n=-1){if(e==0)return Op(0,e);if(e==this.size)return Op(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let o=0,i=0;;o++){let r=this.child(o),s=i+r.nodeSize;if(s>=e)return s==e||n>0?Op(o+1,s):Op(o,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return J.empty;let n,o=0;for(let i=0;i<e.length;i++){let r=e[i];o+=r.nodeSize,i&&r.isText&&e[i-1].sameMarkup(r)?(n||(n=e.slice(0,i)),n[n.length-1]=r.withText(n[n.length-1].text+r.text)):n&&n.push(r)}return new J(n||e,o)}static from(e){if(!e)return J.empty;if(e instanceof J)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new J([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const N1={index:0,offset:0};function Op(t,e){return N1.index=t,N1.offset=e,N1}function Om(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(!Om(t[o],e[o]))return!1}else{for(let o in t)if(!(o in e)||!Om(t[o],e[o]))return!1;for(let o in e)if(!(o in t))return!1}return!0}let Nt=class nw{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,o=!1;for(let i=0;i<e.length;i++){let r=e[i];if(this.eq(r))return e;if(this.type.excludes(r.type))n||(n=e.slice(0,i));else{if(r.type.excludes(this.type))return e;!o&&r.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),o=!0),n&&n.push(r)}}return n||(n=e.slice()),o||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Om(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let o=e.marks[n.type];if(!o)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=o.create(n.attrs);return o.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].eq(n[o]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return nw.none;if(e instanceof nw)return[e];let n=e.slice();return n.sort((o,i)=>o.type.rank-i.type.rank),n}};Nt.none=[];class Rm extends Error{}class me{constructor(e,n,o){this.content=e,this.openStart=n,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let o=HN(this.content,e+this.openStart,n);return o&&new me(o,this.openStart,this.openEnd)}removeBetween(e,n){return new me(jN(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return me.empty;let o=n.openStart||0,i=n.openEnd||0;if(typeof o!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new me(J.fromJSON(e,n.content),o,i)}static maxOpen(e,n=!0){let o=0,i=0;for(let r=e.firstChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.firstChild)o++;for(let r=e.lastChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.lastChild)i++;return new me(e,o,i)}}me.empty=new me(J.empty,0,0);function jN(t,e,n){let{index:o,offset:i}=t.findIndex(e),r=t.maybeChild(o),{index:s,offset:a}=t.findIndex(n);if(i==e||r.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(o,r.copy(jN(r.content,e-i-1,n-i-1)))}function HN(t,e,n,o){let{index:i,offset:r}=t.findIndex(e),s=t.maybeChild(i);if(r==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=HN(s.content,e-r-1,n);return a&&t.replaceChild(i,s.copy(a))}function _H(t,e,n){if(n.openStart>t.depth)throw new Rm("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Rm("Inconsistent open depths");return IN(t,e,n,0)}function IN(t,e,n,o){let i=t.index(o),r=t.node(o);if(i==e.index(o)&&o<t.depth-n.openStart){let s=IN(t,e,n,o+1);return r.copy(r.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==o&&e.depth==o){let s=t.parent,a=s.content;return la(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=EH(n,t);return la(r,PN(t,s,a,e,o))}else return la(r,Nm(t,e,o))}function zN(t,e){if(!e.type.compatibleContent(t.type))throw new Rm("Cannot join "+e.type.name+" onto "+t.type.name)}function ow(t,e,n){let o=t.node(n);return zN(o,e.node(n)),o}function sa(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Zd(t,e,n,o){let i=(e||t).node(n),r=0,s=e?e.index(n):i.childCount;t&&(r=t.index(n),t.depth>n?r++:t.textOffset&&(sa(t.nodeAfter,o),r++));for(let a=r;a<s;a++)sa(i.child(a),o);e&&e.depth==n&&e.textOffset&&sa(e.nodeBefore,o)}function la(t,e){return t.type.checkContent(e),t.copy(e)}function PN(t,e,n,o,i){let r=t.depth>i&&ow(t,e,i+1),s=o.depth>i&&ow(n,o,i+1),a=[];return Zd(null,t,i,a),r&&s&&e.index(i)==n.index(i)?(zN(r,s),sa(la(r,PN(t,e,n,o,i+1)),a)):(r&&sa(la(r,Nm(t,e,i+1)),a),Zd(e,n,i,a),s&&sa(la(s,Nm(n,o,i+1)),a)),Zd(o,null,i,a),new J(a)}function Nm(t,e,n){let o=[];if(Zd(null,t,n,o),t.depth>n){let i=ow(t,e,n+1);sa(la(i,Nm(t,e,n+1)),o)}return Zd(e,null,n,o),new J(o)}function EH(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let r=n-1;r>=0;r--)i=e.node(r).copy(J.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class mf{constructor(e,n,o){this.pos=e,this.path=n,this.parentOffset=o,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let o=this.pos-this.path[this.path.length-1],i=e.child(n);return o?e.child(n).cut(o):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let o=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let r=0;r<e;r++)i+=o.child(r).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Nt.none;if(this.textOffset)return e.child(n).marks;let o=e.maybeChild(n-1),i=e.maybeChild(n);if(!o){let a=o;o=i,i=a}let r=o.marks;for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let o=n.marks,i=e.parent.maybeChild(e.index());for(var r=0;r<o.length;r++)o[r].type.spec.inclusive===!1&&(!i||!o[r].isInSet(i.marks))&&(o=o[r--].removeFromSet(o));return o}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let o=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);o>=0;o--)if(e.pos<=this.end(o)&&(!n||n(this.node(o))))return new Dm(this,e,o);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let o=[],i=0,r=n;for(let s=e;;){let{index:a,offset:u}=s.content.findIndex(r),d=r-u;if(o.push(s,a,i+u),!d||(s=s.child(a),s.isText))break;r=d-1,i+=u+1}return new mf(n,o,r)}static resolveCached(e,n){let o=HM.get(e);if(o)for(let r=0;r<o.elts.length;r++){let s=o.elts[r];if(s.pos==n)return s}else HM.set(e,o=new MH);let i=o.elts[o.i]=mf.resolve(e,n);return o.i=(o.i+1)%TH,i}}class MH{constructor(){this.elts=[],this.i=0}}const TH=12,HM=new WeakMap;class Dm{constructor(e,n,o){this.$from=e,this.$to=n,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const AH=Object.create(null);let Kr=class iw{constructor(e,n,o,i=Nt.none){this.type=e,this.attrs=n,this.marks=i,this.content=o||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,o,i=0){this.content.nodesBetween(e,n,o,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,o,i){return this.content.textBetween(e,n,o,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,o){return this.type==e&&Om(this.attrs,n||e.defaultAttrs||AH)&&Nt.sameSet(this.marks,o||Nt.none)}copy(e=null){return e==this.content?this:new iw(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new iw(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,o=!1){if(e==n)return me.empty;let i=this.resolve(e),r=this.resolve(n),s=o?0:i.sharedDepth(n),a=i.start(s),d=i.node(s).content.cut(i.pos-a,r.pos-a);return new me(d,i.depth-s,r.depth-s)}replace(e,n,o){return _H(this.resolve(e),this.resolve(n),o)}nodeAt(e){for(let n=this;;){let{index:o,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(o),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:o}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:o}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:o}=this.content.findIndex(e);if(o<e)return{node:this.content.child(n),index:n,offset:o};let i=this.content.child(n-1);return{node:i,index:n-1,offset:o-i.nodeSize}}resolve(e){return mf.resolveCached(this,e)}resolveNoCache(e){return mf.resolve(this,e)}rangeHasMark(e,n,o){let i=!1;return n>e&&this.nodesBetween(e,n,r=>(o.isInSet(r.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),VN(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,o=J.empty,i=0,r=o.childCount){let s=this.contentMatchAt(e).matchFragment(o,i,r),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let u=i;u<r;u++)if(!this.type.allowsMarks(o.child(u).marks))return!1;return!0}canReplaceWith(e,n,o,i){if(i&&!this.type.allowsMarks(i))return!1;let r=this.contentMatchAt(e).matchType(o),s=r&&r.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Nt.none;for(let n=0;n<this.marks.length;n++){let o=this.marks[n];o.type.checkAttrs(o.attrs),e=o.addToSet(e)}if(!Nt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let o;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");o=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,o)}let i=J.fromJSON(e,n.content),r=e.nodeType(n.type).create(n.attrs,i,o);return r.type.checkAttrs(r.attrs),r}};Kr.prototype.text=void 0;class Lm extends Kr{constructor(e,n,o,i){if(super(e,n,null,i),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):VN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Lm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Lm(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function VN(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class pa{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let o=new OH(e,n);if(o.next==null)return pa.empty;let i=$N(o);o.next&&o.err("Unexpected trailing text");let r=HH(jH(i));return IH(r,o),r}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,o=e.childCount){let i=this;for(let r=n;i&&r<o;r++)i=i.matchType(e.child(r).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let o=0;o<e.next.length;o++)if(this.next[n].type==e.next[o].type)return!0;return!1}fillBefore(e,n=!1,o=0){let i=[this];function r(s,a){let u=s.matchFragment(e,o);if(u&&(!n||u.validEnd))return J.from(a.map(d=>d.createAndFill()));for(let d=0;d<s.next.length;d++){let{type:h,next:p}=s.next[d];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let g=r(p,a.concat(h));if(g)return g}}return null}return r(this,[])}findWrapping(e){for(let o=0;o<this.wrapCache.length;o+=2)if(this.wrapCache[o]==e)return this.wrapCache[o+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),o=[{match:this,type:null,via:null}];for(;o.length;){let i=o.shift(),r=i.match;if(r.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<r.next.length;s++){let{type:a,next:u}=r.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||u.validEnd)&&(o.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(o){e.push(o);for(let i=0;i<o.next.length;i++)e.indexOf(o.next[i].next)==-1&&n(o.next[i].next)}return n(this),e.map((o,i)=>{let r=i+(o.validEnd?"*":" ")+" ";for(let s=0;s<o.next.length;s++)r+=(s?", ":"")+o.next[s].type.name+"->"+e.indexOf(o.next[s].next);return r}).join(`
`)}}pa.empty=new pa(!0);class OH{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function $N(t){let e=[];do e.push(RH(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function RH(t){let e=[];do e.push(NH(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function NH(t){let e=BH(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=DH(t,e);else break;return e}function IM(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function DH(t,e){let n=IM(t),o=n;return t.eat(",")&&(t.next!="}"?o=IM(t):o=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:e}}function LH(t,e){let n=t.nodeTypes,o=n[e];if(o)return[o];let i=[];for(let r in n){let s=n[r];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function BH(t){if(t.eat("(")){let e=$N(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=LH(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function jH(t){let e=[[]];return i(r(t,0),n()),e;function n(){return e.push([])-1}function o(s,a,u){let d={term:u,to:a};return e[s].push(d),d}function i(s,a){s.forEach(u=>u.to=a)}function r(s,a){if(s.type=="choice")return s.exprs.reduce((u,d)=>u.concat(r(d,a)),[]);if(s.type=="seq")for(let u=0;;u++){let d=r(s.exprs[u],a);if(u==s.exprs.length-1)return d;i(d,a=n())}else if(s.type=="star"){let u=n();return o(a,u),i(r(s.expr,u),u),[o(u)]}else if(s.type=="plus"){let u=n();return i(r(s.expr,a),u),i(r(s.expr,u),u),[o(u)]}else{if(s.type=="opt")return[o(a)].concat(r(s.expr,a));if(s.type=="range"){let u=a;for(let d=0;d<s.min;d++){let h=n();i(r(s.expr,u),h),u=h}if(s.max==-1)i(r(s.expr,u),u);else for(let d=s.min;d<s.max;d++){let h=n();o(u,h),i(r(s.expr,u),h),u=h}return[o(u)]}else{if(s.type=="name")return[o(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function UN(t,e){return e-t}function zM(t,e){let n=[];return o(e),n.sort(UN);function o(i){let r=t[i];if(r.length==1&&!r[0].term)return o(r[0].to);n.push(i);for(let s=0;s<r.length;s++){let{term:a,to:u}=r[s];!a&&n.indexOf(u)==-1&&o(u)}}}function HH(t){let e=Object.create(null);return n(zM(t,0));function n(o){let i=[];o.forEach(s=>{t[s].forEach(({term:a,to:u})=>{if(!a)return;let d;for(let h=0;h<i.length;h++)i[h][0]==a&&(d=i[h][1]);zM(t,u).forEach(h=>{d||i.push([a,d=[]]),d.indexOf(h)==-1&&d.push(h)})})});let r=e[o.join(",")]=new pa(o.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(UN);r.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return r}}function IH(t,e){for(let n=0,o=[t];n<o.length;n++){let i=o[n],r=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:u,next:d}=i.next[a];s.push(u.name),r&&!(u.isText||u.hasRequiredAttrs())&&(r=!1),o.indexOf(d)==-1&&o.push(d)}r&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function FN(t){let e=Object.create(null);for(let n in t){let o=t[n];if(!o.hasDefault)return null;e[n]=o.default}return e}function qN(t,e){let n=Object.create(null);for(let o in t){let i=e&&e[o];if(i===void 0){let r=t[o];if(r.hasDefault)i=r.default;else throw new RangeError("No value supplied for attribute "+o)}n[o]=i}return n}function GN(t,e,n,o){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let r=t[i];r.validate&&r.validate(e[i])}}function KN(t,e){let n=Object.create(null);if(e)for(let o in e)n[o]=new PH(t,o,e[o]);return n}let PM=class ZN{constructor(e,n,o){this.name=e,this.schema=n,this.spec=o,this.markSet=null,this.groups=o.group?o.group.split(" "):[],this.attrs=KN(e,o.attrs),this.defaultAttrs=FN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(o.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==pa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qN(this.attrs,e)}create(e=null,n,o){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Kr(this,this.computeAttrs(e),J.from(n),Nt.setFrom(o))}createChecked(e=null,n,o){return n=J.from(n),this.checkContent(n),new Kr(this,this.computeAttrs(e),n,Nt.setFrom(o))}createAndFill(e=null,n,o){if(e=this.computeAttrs(e),n=J.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),r=i&&i.fillBefore(J.empty,!0);return r?new Kr(this,e,n.append(r),Nt.setFrom(o)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let o=0;o<e.childCount;o++)if(!this.allowsMarks(e.child(o).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){GN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let o=0;o<e.length;o++)this.allowsMarkType(e[o].type)?n&&n.push(e[o]):n||(n=e.slice(0,o));return n?n.length?n:Nt.none:e}static compile(e,n){let o=Object.create(null);e.forEach((r,s)=>o[r]=new ZN(r,n,s));let i=n.spec.topNode||"doc";if(!o[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!o.text)throw new RangeError("Every schema needs a 'text' type");for(let r in o.text.attrs)throw new RangeError("The text node type should not have attributes");return o}};function zH(t,e,n){let o=n.split("|");return i=>{let r=i===null?"null":typeof i;if(o.indexOf(r)<0)throw new RangeError(`Expected value of type ${o} for attribute ${e} on type ${t}, got ${r}`)}}class PH{constructor(e,n,o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default,this.validate=typeof o.validate=="string"?zH(e,n,o.validate):o.validate}get isRequired(){return!this.hasDefault}}class tb{constructor(e,n,o,i){this.name=e,this.rank=n,this.schema=o,this.spec=i,this.attrs=KN(e,i.attrs),this.excluded=null;let r=FN(this.attrs);this.instance=r?new Nt(this,r):null}create(e=null){return!e&&this.instance?this.instance:new Nt(this,qN(this.attrs,e))}static compile(e,n){let o=Object.create(null),i=0;return e.forEach((r,s)=>o[r]=new tb(r,i++,n,s)),o}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){GN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class YN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Tn.from(e.nodes),n.marks=Tn.from(e.marks||{}),this.nodes=PM.compile(this.spec.nodes,this),this.marks=tb.compile(this.spec.marks,this);let o=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let r=this.nodes[i],s=r.spec.content||"",a=r.spec.marks;if(r.contentMatch=o[s]||(o[s]=pa.parse(s,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!r.isInline||!r.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=r}r.markSet=a=="_"?null:a?VM(this,a.split(" ")):a==""||!r.inlineContent?[]:null}for(let i in this.marks){let r=this.marks[i],s=r.spec.excludes;r.excluded=s==null?[r]:s==""?[]:VM(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,o,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof PM){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,o,i)}text(e,n){let o=this.nodes.text;return new Lm(o,o.defaultAttrs,e,Nt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Kr.fromJSON(this,e)}markFromJSON(e){return Nt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function VM(t,e){let n=[];for(let o=0;o<e.length;o++){let i=e[o],r=t.marks[i],s=r;if(r)n.push(r);else for(let a in t.marks){let u=t.marks[a];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[o]+"'")}return n}function VH(t){return t.tag!=null}function $H(t){return t.style!=null}let aa=class rw{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let o=this.matchedStyles=[];n.forEach(i=>{if(VH(i))this.tags.push(i);else if($H(i)){let r=/[^=]*/.exec(i.style)[0];o.indexOf(r)<0&&o.push(r),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let r=e.nodes[i.node];return r.contentMatch.matchType(r)})}parse(e,n={}){let o=new UM(this,n,!1);return o.addAll(e,Nt.none,n.from,n.to),o.finish()}parseSlice(e,n={}){let o=new UM(this,n,!0);return o.addAll(e,Nt.none,n.from,n.to),me.maxOpen(o.finish())}matchTag(e,n,o){for(let i=o?this.tags.indexOf(o)+1:0;i<this.tags.length;i++){let r=this.tags[i];if(qH(e,r.tag)&&(r.namespace===void 0||e.namespaceURI==r.namespace)&&(!r.context||n.matchesContext(r.context))){if(r.getAttrs){let s=r.getAttrs(e);if(s===!1)continue;r.attrs=s||void 0}return r}}}matchStyle(e,n,o,i){for(let r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){let s=this.styles[r],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!o.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(e){let n=[];function o(i){let r=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<r)break}n.splice(s,0,i)}for(let i in e.marks){let r=e.marks[i].spec.parseDOM;r&&r.forEach(s=>{o(s=FM(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let r=e.nodes[i].spec.parseDOM;r&&r.forEach(s=>{o(s=FM(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new rw(e,rw.schemaRules(e)))}};const WN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},UH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},XN={ol:!0,ul:!0},gf=1,sw=2,sm=4;function $M(t,e,n){return e!=null?(e?gf:0)|(e==="full"?sw:0):t&&t.whitespace=="pre"?gf|sw:n&-5}class Rp{constructor(e,n,o,i,r,s){this.type=e,this.attrs=n,this.marks=o,this.solid=i,this.options=s,this.content=[],this.activeMarks=Nt.none,this.match=r||(s&sm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let o=this.type.contentMatch,i;return(i=o.findWrapping(e.type))?(this.match=o,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&gf)){let o=this.content[this.content.length-1],i;if(o&&o.isText&&(i=/[ \t\r\n\u000c]+$/.exec(o.text))){let r=o;o.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-i[0].length))}}let n=J.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!WN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class UM{constructor(e,n,o){this.parser=e,this.options=n,this.isOpen=o,this.open=0,this.localPreserveWS=!1;let i=n.topNode,r,s=$M(null,n.preserveWhitespace,0)|(o?sm:0);i?r=new Rp(i.type,i.attrs,Nt.none,!0,n.topMatch||i.type.contentMatch,s):o?r=new Rp(null,null,Nt.none,!0,null,s):r=new Rp(e.schema.topNodeType,null,Nt.none,!0,null,s),this.nodes=[r],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let o=e.nodeValue,i=this.top,r=i.options&sw?"full":this.localPreserveWS||(i.options&gf)>0;if(r==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(o)){if(r)r!=="full"?o=o.replace(/\r?\n|\r/g," "):o=o.replace(/\r\n?/g,`
`);else if(o=o.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(o)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],a=e.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(o=o.slice(1))}o&&this.insertNode(this.parser.schema.text(o),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,o){let i=this.localPreserveWS,r=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;XN.hasOwnProperty(s)&&this.parser.normalizeLists&&FH(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,o));e:if(u?u.ignore:UH.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let d,h=this.needsBlock;if(WN.hasOwnProperty(s))r.content.length&&r.content[0].isInline&&this.open&&(this.open--,r=this.top),d=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=u&&u.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),d&&this.sync(r),this.needsBlock=h}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,u,d,u.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let o=e.style;if(o&&o.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let r=this.parser.matchedStyles[i],s=o.getPropertyValue(r);if(s)for(let a=void 0;;){let u=this.parser.matchStyle(r,s,this,a);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(d=>!u.clearMark(d)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)a=u;else break}}return n}addElementByRule(e,n,o,i){let r,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),o)||this.leafFallback(e,o);else{let u=this.enter(s,n.attrs||null,o,n.preserveWhitespace);u&&(r=!0,o=u)}else{let u=this.parser.schema.marks[n.mark];o=o.concat(u.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,o,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,o));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,o),this.findAround(e,u,!1)}r&&this.sync(a)&&this.open--}addAll(e,n,o,i){let r=o||0;for(let s=o?e.childNodes[o]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(s,n);this.findAtPoint(e,r)}findPlace(e,n){let o,i;for(let r=this.open;r>=0;r--){let s=this.nodes[r],a=s.findWrapping(e);if(a&&(!o||o.length>a.length)&&(o=a,i=s,!a.length)||s.solid)break}if(!o)return null;this.sync(i);for(let r=0;r<o.length;r++)n=this.enterInner(o[r],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(e,n);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let r=Nt.none;for(let s of o.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):qM(s.type,e.type))&&(r=s.addToSet(r));return i.content.push(e.mark(r)),!0}return!1}enter(e,n,o,i){let r=this.findPlace(e.create(n),o);return r&&(r=this.enterInner(e,n,o,!0,i)),r}enterInner(e,n,o,i=!1,r){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=$M(e,r,s.options);s.options&sm&&s.content.length==0&&(a|=sm);let u=Nt.none;return o=o.filter(d=>(s.type?s.type.allowsMarkType(d.type):qM(d.type,e))?(u=d.addToSet(u),!1):!0),this.nodes.push(new Rp(e,n,u,i,null,a)),this.open++,o}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=gf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let o=this.nodes[n].content;for(let i=o.length-1;i>=0;i--)e+=o[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==e&&this.find[o].offset==n&&(this.find[o].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,o){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(o?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),o=this.options.context,i=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),r=-(o?o.depth+1:0)+(i?0:1),s=(a,u)=>{for(;a>=0;a--){let d=n[a];if(d==""){if(a==n.length-1||a==0)continue;for(;u>=r;u--)if(s(a-1,u))return!0;return!1}else{let h=u>0||u==0&&i?this.nodes[u].type:o&&u>=r?o.node(u-r).type:null;if(!h||h.name!=d&&!h.isInGroup(d))return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let n in this.parser.schema.nodes){let o=this.parser.schema.nodes[n];if(o.isTextblock&&o.defaultAttrs)return o}}}function FH(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let o=e.nodeType==1?e.nodeName.toLowerCase():null;o&&XN.hasOwnProperty(o)&&n?(n.appendChild(e),e=n):o=="li"?n=e:o&&(n=null)}}function qH(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function FM(t){let e={};for(let n in t)e[n]=t[n];return e}function qM(t,e){let n=e.schema.nodes;for(let o in n){let i=n[o];if(!i.allowsMarkType(t))continue;let r=[],s=a=>{r.push(a);for(let u=0;u<a.edgeCount;u++){let{type:d,next:h}=a.edge(u);if(d==e||r.indexOf(h)<0&&s(h))return!0}};if(s(i.contentMatch))return!0}}class ls{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},o){o||(o=D1(n).createDocumentFragment());let i=o,r=[];return e.forEach(s=>{if(r.length||s.marks.length){let a=0,u=0;for(;a<r.length&&u<s.marks.length;){let d=s.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(r[a][0])||d.type.spec.spanning===!1)break;a++,u++}for(;a<r.length;)i=r.pop()[1];for(;u<s.marks.length;){let d=s.marks[u++],h=this.serializeMark(d,s.isInline,n);h&&(r.push([d,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),o}serializeNodeInner(e,n){let{dom:o,contentDOM:i}=lm(D1(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return o}serializeNode(e,n={}){let o=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let r=this.serializeMark(e.marks[i],e.isInline,n);r&&((r.contentDOM||r.dom).appendChild(o),o=r.dom)}return o}serializeMark(e,n,o={}){let i=this.marks[e.type.name];return i&&lm(D1(o),i(e,n),null,e.attrs)}static renderSpec(e,n,o=null,i){return lm(e,n,o,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ls(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=GM(e.nodes);return n.text||(n.text=o=>o.text),n}static marksFromSchema(e){return GM(e.marks)}}function GM(t){let e={};for(let n in t){let o=t[n].spec.toDOM;o&&(e[n]=o)}return e}function D1(t){return t.document||window.document}const KM=new WeakMap;function GH(t){let e=KM.get(t);return e===void 0&&KM.set(t,e=KH(t)),e}function KH(t){let e=null;function n(o){if(o&&typeof o=="object")if(Array.isArray(o))if(typeof o[0]=="string")e||(e=[]),e.push(o);else for(let i=0;i<o.length;i++)n(o[i]);else for(let i in o)n(o[i])}return n(t),e}function lm(t,e,n,o){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],r;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(o&&(r=GH(o))&&r.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,u=n?t.createElementNS(n,i):t.createElement(i),d=e[1],h=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){h=2;for(let p in d)if(d[p]!=null){let g=p.indexOf(" ");g>0?u.setAttributeNS(p.slice(0,g),p.slice(g+1),d[p]):u.setAttribute(p,d[p])}}for(let p=h;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:b,contentDOM:v}=lm(t,g,n,o);if(u.appendChild(b),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:u,contentDOM:a}}const JN=65535,QN=Math.pow(2,16);function ZH(t,e){return t+e*QN}function ZM(t){return t&JN}function YH(t){return(t-(t&JN))/QN}const e3=1,t3=2,am=4,n3=8;class lw{constructor(e,n,o){this.pos=e,this.delInfo=n,this.recover=o}get deleted(){return(this.delInfo&n3)>0}get deletedBefore(){return(this.delInfo&(e3|am))>0}get deletedAfter(){return(this.delInfo&(t3|am))>0}get deletedAcross(){return(this.delInfo&am)>0}}class zo{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&zo.empty)return zo.empty}recover(e){let n=0,o=ZM(e);if(!this.inverted)for(let i=0;i<o;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[o*3]+n+YH(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,o){let i=0,r=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let u=this.ranges[a]-(this.inverted?i:0);if(u>e)break;let d=this.ranges[a+r],h=this.ranges[a+s],p=u+d;if(e<=p){let g=d?e==u?-1:e==p?1:n:n,b=u+i+(g<0?0:h);if(o)return b;let v=e==(n<0?u:p)?null:ZH(a/3,e-u),k=e==u?t3:e==p?e3:am;return(n<0?e!=u:e!=p)&&(k|=n3),new lw(b,k,v)}i+=h-d}return o?e+i:new lw(e+i,0,null)}touches(e,n){let o=0,i=ZM(n),r=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let u=this.ranges[a]-(this.inverted?o:0);if(u>e)break;let d=this.ranges[a+r],h=u+d;if(e<=h&&a==i*3)return!0;o+=this.ranges[a+s]-d}return!1}forEach(e){let n=this.inverted?2:1,o=this.inverted?1:2;for(let i=0,r=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?r:0),u=s+(this.inverted?0:r),d=this.ranges[i+n],h=this.ranges[i+o];e(a,a+d,u,u+h),r+=h-d}}invert(){return new zo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zo.empty:new zo(e<0?[0,-e,0]:[0,0,e])}}zo.empty=new zo([]);class Yc{constructor(e,n,o=0,i=e?e.length:0){this.mirror=n,this.from=o,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Yc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,o=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?o+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,o=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?o-i-1:void 0)}}invert(){let e=new Yc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let o=this.from;o<this.to;o++)e=this._maps[o].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,o){let i=0;for(let r=this.from;r<this.to;r++){let s=this._maps[r],a=s.mapResult(e,n);if(a.recover!=null){let u=this.getMirror(r);if(u!=null&&u>r&&u<this.to){r=u,e=this._maps[u].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return o?e:new lw(e,i,null)}}const L1=Object.create(null);class Gn{getMap(){return zo.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=L1[n.stepType];if(!o)throw new RangeError(`No step type ${n.stepType} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in L1)throw new RangeError("Duplicate use of step JSON ID "+e);return L1[e]=n,n.prototype.jsonID=e,n}}class ln{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ln(e,null)}static fail(e){return new ln(null,e)}static fromReplace(e,n,o,i){try{return ln.ok(e.replace(n,o,i))}catch(r){if(r instanceof Rm)return ln.fail(r.message);throw r}}}function Uk(t,e,n){let o=[];for(let i=0;i<t.childCount;i++){let r=t.child(i);r.content.size&&(r=r.copy(Uk(r.content,e,r))),r.isInline&&(r=e(r,n,i)),o.push(r)}return J.fromArray(o)}class Ws extends Gn{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=e.resolve(this.from),i=o.node(o.sharedDepth(this.to)),r=new me(Uk(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return ln.fromReplace(e,this.from,this.to,r)}invert(){return new Wi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new Ws(n.pos,o.pos,this.mark)}merge(e){return e instanceof Ws&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ws(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ws(n.from,n.to,e.markFromJSON(n.mark))}}Gn.jsonID("addMark",Ws);class Wi extends Gn{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=new me(Uk(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return ln.fromReplace(e,this.from,this.to,o)}invert(){return new Ws(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new Wi(n.pos,o.pos,this.mark)}merge(e){return e instanceof Wi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Wi(n.from,n.to,e.markFromJSON(n.mark))}}Gn.jsonID("removeMark",Wi);class Xs extends Gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ln.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ln.fromReplace(e,this.pos,this.pos+1,new me(J.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let o=this.mark.addToSet(n.marks);if(o.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(o))return new Xs(this.pos,n.marks[i]);return new Xs(this.pos,this.mark)}}return new Wc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Xs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xs(n.pos,e.markFromJSON(n.mark))}}Gn.jsonID("addNodeMark",Xs);class Wc extends Gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ln.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ln.fromReplace(e,this.pos,this.pos+1,new me(J.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Xs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Wc(n.pos,e.markFromJSON(n.mark))}}Gn.jsonID("removeNodeMark",Wc);class hn extends Gn{constructor(e,n,o,i=!1){super(),this.from=e,this.to=n,this.slice=o,this.structure=i}apply(e){return this.structure&&aw(e,this.from,this.to)?ln.fail("Structure replace would overwrite content"):ln.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zo([this.from,this.to-this.from,this.slice.size])}invert(e){return new hn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deletedAcross&&o.deletedAcross?null:new hn(n.pos,Math.max(n.pos,o.pos),this.slice)}merge(e){if(!(e instanceof hn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?me.empty:new me(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new hn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?me.empty:new me(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new hn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new hn(n.from,n.to,me.fromJSON(e,n.slice),!!n.structure)}}Gn.jsonID("replace",hn);class on extends Gn{constructor(e,n,o,i,r,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=i,this.slice=r,this.insert=s,this.structure=a}apply(e){if(this.structure&&(aw(e,this.from,this.gapFrom)||aw(e,this.gapTo,this.to)))return ln.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ln.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,n.content);return o?ln.fromReplace(e,this.from,this.to,o):ln.fail("Content does not fit in gap")}getMap(){return new zo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new on(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),r=this.to==this.gapTo?o.pos:e.map(this.gapTo,1);return n.deletedAcross&&o.deletedAcross||i<n.pos||r>o.pos?null:new on(n.pos,o.pos,i,r,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new on(n.from,n.to,n.gapFrom,n.gapTo,me.fromJSON(e,n.slice),n.insert,!!n.structure)}}Gn.jsonID("replaceAround",on);function aw(t,e,n){let o=t.resolve(e),i=n-e,r=o.depth;for(;i>0&&r>0&&o.indexAfter(r)==o.node(r).childCount;)r--,i--;if(i>0){let s=o.node(r).maybeChild(o.indexAfter(r));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function WH(t,e,n,o){let i=[],r=[],s,a;t.doc.nodesBetween(e,n,(u,d,h)=>{if(!u.isInline)return;let p=u.marks;if(!o.isInSet(p)&&h.type.allowsMarkType(o.type)){let g=Math.max(d,e),b=Math.min(d+u.nodeSize,n),v=o.addToSet(p);for(let k=0;k<p.length;k++)p[k].isInSet(v)||(s&&s.to==g&&s.mark.eq(p[k])?s.to=b:i.push(s=new Wi(g,b,p[k])));a&&a.to==g?a.to=b:r.push(a=new Ws(g,b,o))}}),i.forEach(u=>t.step(u)),r.forEach(u=>t.step(u))}function XH(t,e,n,o){let i=[],r=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;r++;let u=null;if(o instanceof tb){let d=s.marks,h;for(;h=o.isInSet(d);)(u||(u=[])).push(h),d=h.removeFromSet(d)}else o?o.isInSet(s.marks)&&(u=[o]):u=s.marks;if(u&&u.length){let d=Math.min(a+s.nodeSize,n);for(let h=0;h<u.length;h++){let p=u[h],g;for(let b=0;b<i.length;b++){let v=i[b];v.step==r-1&&p.eq(i[b].style)&&(g=v)}g?(g.to=d,g.step=r):i.push({style:p,from:Math.max(a,e),to:d,step:r})}}}),i.forEach(s=>t.step(new Wi(s.from,s.to,s.style)))}function Fk(t,e,n,o=n.contentMatch,i=!0){let r=t.doc.nodeAt(e),s=[],a=e+1;for(let u=0;u<r.childCount;u++){let d=r.child(u),h=a+d.nodeSize,p=o.matchType(d.type);if(!p)s.push(new hn(a,h,me.empty));else{o=p;for(let g=0;g<d.marks.length;g++)n.allowsMarkType(d.marks[g].type)||t.step(new Wi(a,h,d.marks[g]));if(i&&d.isText&&n.whitespace!="pre"){let g,b=/\r?\n|\r/g,v;for(;g=b.exec(d.text);)v||(v=new me(J.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),s.push(new hn(a+g.index,a+g.index+g[0].length,v))}}a=h}if(!o.validEnd){let u=o.fillBefore(J.empty,!0);t.replace(a,a,new me(u,0,0))}for(let u=s.length-1;u>=0;u--)t.step(s[u])}function JH(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function cu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let o=t.depth;;--o){let i=t.$from.node(o),r=t.$from.index(o),s=t.$to.indexAfter(o);if(o<t.depth&&i.canReplace(r,s,n))return o;if(o==0||i.type.spec.isolating||!JH(i,r,s))break}return null}function QH(t,e,n){let{$from:o,$to:i,depth:r}=e,s=o.before(r+1),a=i.after(r+1),u=s,d=a,h=J.empty,p=0;for(let v=r,k=!1;v>n;v--)k||o.index(v)>0?(k=!0,h=J.from(o.node(v).copy(h)),p++):u--;let g=J.empty,b=0;for(let v=r,k=!1;v>n;v--)k||i.after(v+1)<i.end(v)?(k=!0,g=J.from(i.node(v).copy(g)),b++):d++;t.step(new on(u,d,s,a,new me(h.append(g),p,b),h.size-p,!0))}function o3(t,e,n=null,o=t){let i=eI(t,e),r=i&&tI(o,e);return r?i.map(YM).concat({type:e,attrs:n}).concat(r.map(YM)):null}function YM(t){return{type:t,attrs:null}}function eI(t,e){let{parent:n,startIndex:o,endIndex:i}=t,r=n.contentMatchAt(o).findWrapping(e);if(!r)return null;let s=r.length?r[0]:e;return n.canReplaceWith(o,i,s)?r:null}function tI(t,e){let{parent:n,startIndex:o,endIndex:i}=t,r=n.child(o),s=e.contentMatch.findWrapping(r.type);if(!s)return null;let u=(s.length?s[s.length-1]:e).contentMatch;for(let d=o;u&&d<i;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:s}function nI(t,e,n){let o=J.empty;for(let s=n.length-1;s>=0;s--){if(o.size){let a=n[s].type.contentMatch.matchFragment(o);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=J.from(n[s].type.create(n[s].attrs,o))}let i=e.start,r=e.end;t.step(new on(i,r,i,r,new me(o,0,0),n.length,!0))}function oI(t,e,n,o,i){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let u=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(o,u)&&iI(t.doc,t.mapping.slice(r).map(a),o)){let d=null;if(o.schema.linebreakReplacement){let b=o.whitespace=="pre",v=!!o.contentMatch.matchType(o.schema.linebreakReplacement);b&&!v?d=!1:!b&&v&&(d=!0)}d===!1&&r3(t,s,a,r),Fk(t,t.mapping.slice(r).map(a,1),o,void 0,d===null);let h=t.mapping.slice(r),p=h.map(a,1),g=h.map(a+s.nodeSize,1);return t.step(new on(p,g,p+1,g-1,new me(J.from(o.create(u,null,s.marks)),0,0),1,!0)),d===!0&&i3(t,s,a,r),!1}})}function i3(t,e,n,o){e.forEach((i,r)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let u=t.mapping.slice(o).map(n+1+r+s.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function r3(t,e,n,o){e.forEach((i,r)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(o).map(n+1+r);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function iI(t,e,n){let o=t.resolve(e),i=o.index();return o.parent.canReplaceWith(i,i+1,n)}function rI(t,e,n,o,i){let r=t.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");n||(n=r.type);let s=n.create(o,null,i||r.marks);if(r.isLeaf)return t.replaceWith(e,e+r.nodeSize,s);if(!n.validContent(r.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new on(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new me(J.from(s),0,0),1,!0))}function Zr(t,e,n=1,o){let i=t.resolve(e),r=i.depth-n,s=o&&o[o.length-1]||i.parent;if(r<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,h=n-2;d>r;d--,h--){let p=i.node(d),g=i.index(d);if(p.type.spec.isolating)return!1;let b=p.content.cutByIndex(g,p.childCount),v=o&&o[h+1];v&&(b=b.replaceChild(0,v.type.create(v.attrs)));let k=o&&o[h]||p;if(!p.canReplace(g+1,p.childCount)||!k.type.validContent(b))return!1}let a=i.indexAfter(r),u=o&&o[0];return i.node(r).canReplaceWith(a,a,u?u.type:i.node(r+1).type)}function sI(t,e,n=1,o){let i=t.doc.resolve(e),r=J.empty,s=J.empty;for(let a=i.depth,u=i.depth-n,d=n-1;a>u;a--,d--){r=J.from(i.node(a).copy(r));let h=o&&o[d];s=J.from(h?h.type.create(h.attrs,s):i.node(a).copy(s))}t.step(new hn(e,e,new me(r.append(s),n,n),!0))}function Ta(t,e){let n=t.resolve(e),o=n.index();return s3(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function lI(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:o}=t.type.schema;for(let i=0;i<e.childCount;i++){let r=e.child(i),s=r.type==o?t.type.schema.nodes.text:r.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(r.marks))return!1}return n.validEnd}function s3(t,e){return!!(t&&e&&!t.isLeaf&&lI(t,e))}function nb(t,e,n=-1){let o=t.resolve(e);for(let i=o.depth;;i--){let r,s,a=o.index(i);if(i==o.depth?(r=o.nodeBefore,s=o.nodeAfter):n>0?(r=o.node(i+1),a++,s=o.node(i).maybeChild(a)):(r=o.node(i).maybeChild(a-1),s=o.node(i+1)),r&&!r.isTextblock&&s3(r,s)&&o.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?o.before(i):o.after(i)}}function aI(t,e,n){let o=null,{linebreakReplacement:i}=t.doc.type.schema,r=t.doc.resolve(e-n),s=r.node().type;if(i&&s.inlineContent){let h=s.whitespace=="pre",p=!!s.contentMatch.matchType(i);h&&!p?o=!1:!h&&p&&(o=!0)}let a=t.steps.length;if(o===!1){let h=t.doc.resolve(e+n);r3(t,h.node(),h.before(),a)}s.inlineContent&&Fk(t,e+n-1,s,r.node().contentMatchAt(r.index()),o==null);let u=t.mapping.slice(a),d=u.map(e-n);if(t.step(new hn(d,u.map(e+n,-1),me.empty,!0)),o===!0){let h=t.doc.resolve(d);i3(t,h.node(),h.before(),t.steps.length)}return t}function cI(t,e,n){let o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(o.parentOffset==0)for(let i=o.depth-1;i>=0;i--){let r=o.index(i);if(o.node(i).canReplaceWith(r,r,n))return o.before(i+1);if(r>0)return null}if(o.parentOffset==o.parent.content.size)for(let i=o.depth-1;i>=0;i--){let r=o.indexAfter(i);if(o.node(i).canReplaceWith(r,r,n))return o.after(i+1);if(r<o.node(i).childCount)return null}return null}function qk(t,e,n){let o=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let r=0;r<n.openStart;r++)i=i.firstChild.content;for(let r=1;r<=(n.openStart==0&&n.size?2:1);r++)for(let s=o.depth;s>=0;s--){let a=s==o.depth?0:o.pos<=(o.start(s+1)+o.end(s+1))/2?-1:1,u=o.index(s)+(a>0?1:0),d=o.node(s),h=!1;if(r==1)h=d.canReplace(u,u,i);else{let p=d.contentMatchAt(u).findWrapping(i.firstChild.type);h=p&&d.canReplaceWith(u,u,p[0])}if(h)return a==0?o.pos:a<0?o.before(s+1):o.after(s+1)}return null}function ob(t,e,n=e,o=me.empty){if(e==n&&!o.size)return null;let i=t.resolve(e),r=t.resolve(n);return l3(i,r,o)?new hn(e,n,o):new uI(i,r,o).fit()}function l3(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class uI{constructor(e,n,o){this.$from=e,this.$to=n,this.unplaced=o,this.frontier=[],this.placed=J.empty;for(let i=0;i<=e.depth;i++){let r=e.node(i);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=J.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(e<0?this.$to:o.doc.resolve(e));if(!i)return null;let r=this.placed,s=o.depth,a=i.depth;for(;s&&a&&r.childCount==1;)r=r.firstChild.content,s--,a--;let u=new me(r,s,a);return e>-1?new on(o.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||o.pos!=this.$to.pos?new hn(o.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,o=0,i=this.unplaced.openEnd;o<e;o++){let r=n.firstChild;if(n.childCount>1&&(i=0),r.type.spec.isolating&&i<=o){e=o;break}n=r.content}for(let n=1;n<=2;n++)for(let o=n==1?e:this.unplaced.openStart;o>=0;o--){let i,r=null;o?(r=B1(this.unplaced.content,o-1).firstChild,i=r.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:u,match:d}=this.frontier[a],h,p=null;if(n==1&&(s?d.matchType(s.type)||(p=d.fillBefore(J.from(s),!1)):r&&u.compatibleContent(r.type)))return{sliceDepth:o,frontierDepth:a,parent:r,inject:p};if(n==2&&s&&(h=d.findWrapping(s.type)))return{sliceDepth:o,frontierDepth:a,parent:r,wrap:h};if(r&&d.matchType(r.type))break}}}openMore(){let{content:e,openStart:n,openEnd:o}=this.unplaced,i=B1(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new me(e,n+1,Math.max(o,i.size+n>=e.size-o?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:o}=this.unplaced,i=B1(e,n);if(i.childCount<=1&&n>0){let r=e.size-n<=n+i.size;this.unplaced=new me(Dd(e,n-1,1),n-1,r?n-1:o)}else this.unplaced=new me(Dd(e,n,1),n,o)}placeNodes({sliceDepth:e,frontierDepth:n,parent:o,inject:i,wrap:r}){for(;this.depth>n;)this.closeFrontierNode();if(r)for(let k=0;k<r.length;k++)this.openFrontierNode(r[k]);let s=this.unplaced,a=o?o.content:s.content,u=s.openStart-e,d=0,h=[],{match:p,type:g}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)h.push(i.child(k));p=p.matchFragment(i)}let b=a.size+e-(s.content.size-s.openEnd);for(;d<a.childCount;){let k=a.child(d),C=p.matchType(k.type);if(!C)break;d++,(d>1||u==0||k.content.size)&&(p=C,h.push(a3(k.mark(g.allowedMarks(k.marks)),d==1?u:0,d==a.childCount?b:-1)))}let v=d==a.childCount;v||(b=-1),this.placed=Ld(this.placed,n,J.from(h)),this.frontier[n].match=p,v&&b<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,C=a;k<b;k++){let _=C.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),C=_.content}this.unplaced=v?e==0?me.empty:new me(Dd(s.content,e-1,1),e-1,b<0?s.openEnd:e-1):new me(Dd(s.content,e,d),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!j1(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:o}=this.$to,i=this.$to.after(o);for(;o>1&&i==this.$to.end(--o);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:o,type:i}=this.frontier[n],r=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=j1(e,n,i,o,r);if(s){for(let a=n-1;a>=0;a--){let{match:u,type:d}=this.frontier[a],h=j1(e,a,d,u,!0);if(!h||h.childCount)continue e}return{depth:n,fit:s,move:r?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ld(this.placed,n.depth,n.fit)),e=n.move;for(let o=n.depth+1;o<=e.depth;o++){let i=e.node(o),r=i.type.contentMatch.fillBefore(i.content,!0,e.index(o));this.openFrontierNode(i.type,i.attrs,r)}return e}openFrontierNode(e,n=null,o){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ld(this.placed,this.depth,J.from(e.create(n,o))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=Ld(this.placed,this.frontier.length,n))}}function Dd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Dd(t.firstChild.content,e-1,n)))}function Ld(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ld(t.lastChild.content,e-1,n)))}function B1(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function a3(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,a3(o.firstChild,e-1,o.childCount==1?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(J.empty,!0)))),t.copy(o)}function j1(t,e,n,o,i){let r=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==r.childCount&&!n.compatibleContent(r.type))return null;let a=o.fillBefore(r.content,!0,s);return a&&!dI(n,r.content,s)?a:null}function dI(t,e,n){for(let o=n;o<e.childCount;o++)if(!t.allowsMarks(e.child(o).marks))return!0;return!1}function fI(t){return t.spec.defining||t.spec.definingForContent}function hI(t,e,n,o){if(!o.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),r=t.doc.resolve(n);if(l3(i,r,o))return t.step(new hn(e,n,o));let s=u3(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let g=i.depth,b=i.pos-1;g>0;g--,b--){let v=i.node(g).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;s.indexOf(g)>-1?a=g:i.before(g)==b&&s.splice(1,0,-g)}let u=s.indexOf(a),d=[],h=o.openStart;for(let g=o.content,b=0;;b++){let v=g.firstChild;if(d.push(v),b==o.openStart)break;g=v.content}for(let g=h-1;g>=0;g--){let b=d[g],v=fI(b.type);if(v&&!b.sameMarkup(i.node(Math.abs(a)-1)))h=g;else if(v||!b.type.isTextblock)break}for(let g=o.openStart;g>=0;g--){let b=(g+h+1)%(o.openStart+1),v=d[b];if(v)for(let k=0;k<s.length;k++){let C=s[(k+u)%s.length],_=!0;C<0&&(_=!1,C=-C);let M=i.node(C-1),A=i.index(C-1);if(M.canReplaceWith(A,A,v.type,v.marks))return t.replace(i.before(C),_?r.after(C):n,new me(c3(o.content,0,o.openStart,b),b,o.openEnd))}}let p=t.steps.length;for(let g=s.length-1;g>=0&&(t.replace(e,n,o),!(t.steps.length>p));g--){let b=s[g];b<0||(e=i.before(b),n=r.after(b))}}function c3(t,e,n,o,i){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(c3(r.content,e+1,n,o,r)))}if(e>o){let r=i.contentMatchAt(0),s=r.fillBefore(t).append(t);t=s.append(r.matchFragment(s).fillBefore(J.empty,!0))}return t}function pI(t,e,n,o){if(!o.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=cI(t.doc,e,o.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new me(J.from(o),0,0))}function mI(t,e,n){let o=t.doc.resolve(e),i=t.doc.resolve(n),r=u3(o,i);for(let s=0;s<r.length;s++){let a=r[s],u=s==r.length-1;if(u&&a==0||o.node(a).type.contentMatch.validEnd)return t.delete(o.start(a),i.end(a));if(a>0&&(u||o.node(a-1).canReplace(o.index(a-1),i.indexAfter(a-1))))return t.delete(o.before(a),i.after(a))}for(let s=1;s<=o.depth&&s<=i.depth;s++)if(e-o.start(s)==o.depth-s&&n>o.end(s)&&i.end(s)-n!=i.depth-s&&o.start(s-1)==i.start(s-1)&&o.node(s-1).canReplace(o.index(s-1),i.index(s-1)))return t.delete(o.before(s),n);t.delete(e,n)}function u3(t,e){let n=[],o=Math.min(t.depth,e.depth);for(let i=o;i>=0;i--){let r=t.start(i);if(r<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(r==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==r-1)&&n.push(i)}return n}class Pc extends Gn{constructor(e,n,o){super(),this.pos=e,this.attr=n,this.value=o}apply(e){let n=e.nodeAt(this.pos);if(!n)return ln.fail("No node at attribute step's position");let o=Object.create(null);for(let r in n.attrs)o[r]=n.attrs[r];o[this.attr]=this.value;let i=n.type.create(o,null,n.marks);return ln.fromReplace(e,this.pos,this.pos+1,new me(J.from(i),0,n.isLeaf?0:1))}getMap(){return zo.empty}invert(e){return new Pc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Pc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Pc(n.pos,n.attr,n.value)}}Gn.jsonID("attr",Pc);class bf extends Gn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let o=e.type.create(n,e.content,e.marks);return ln.ok(o)}getMap(){return zo.empty}invert(e){return new bf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bf(n.attr,n.value)}}Gn.jsonID("docAttr",bf);let Xc=class extends Error{};Xc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Xc.prototype=Object.create(Error.prototype);Xc.prototype.constructor=Xc;Xc.prototype.name="TransformError";class Gk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Yc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Xc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,o=me.empty){let i=ob(this.doc,e,n,o);return i&&this.step(i),this}replaceWith(e,n,o){return this.replace(e,n,new me(J.from(o),0,0))}delete(e,n){return this.replace(e,n,me.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,o){return hI(this,e,n,o),this}replaceRangeWith(e,n,o){return pI(this,e,n,o),this}deleteRange(e,n){return mI(this,e,n),this}lift(e,n){return QH(this,e,n),this}join(e,n=1){return aI(this,e,n),this}wrap(e,n){return nI(this,e,n),this}setBlockType(e,n=e,o,i=null){return oI(this,e,n,o,i),this}setNodeMarkup(e,n,o=null,i){return rI(this,e,n,o,i),this}setNodeAttribute(e,n,o){return this.step(new Pc(e,n,o)),this}setDocAttribute(e,n){return this.step(new bf(e,n)),this}addNodeMark(e,n){return this.step(new Xs(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Nt)){let o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at position "+e);if(n=n.isInSet(o.marks),!n)return this}return this.step(new Wc(e,n)),this}split(e,n=1,o){return sI(this,e,n,o),this}addMark(e,n,o){return WH(this,e,n,o),this}removeMark(e,n,o){return XH(this,e,n,o),this}clearIncompatible(e,n,o){return Fk(this,e,n,o),this}}const H1=Object.create(null);class Le{constructor(e,n,o){this.$anchor=e,this.$head=n,this.ranges=o||[new d3(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=me.empty){let o=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=o,o=o.lastChild;let r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:u,$to:d}=s[a],h=e.mapping.slice(r);e.replaceRange(h.map(u.pos),h.map(d.pos),a?me.empty:n),a==0&&JM(e,r,(o?o.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let o=e.steps.length,i=this.ranges;for(let r=0;r<i.length;r++){let{$from:s,$to:a}=i[r],u=e.mapping.slice(o),d=u.map(s.pos),h=u.map(a.pos);r?e.deleteRange(d,h):(e.replaceRangeWith(d,h,n),JM(e,o,n.isInline?-1:1))}}static findFrom(e,n,o=!1){let i=e.parent.inlineContent?new Me(e):Ac(e.node(0),e.parent,e.pos,e.index(),n,o);if(i)return i;for(let r=e.depth-1;r>=0;r--){let s=n<0?Ac(e.node(0),e.node(r),e.before(r+1),e.index(r),n,o):Ac(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,n,o);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new vo(e.node(0))}static atStart(e){return Ac(e,e,0,0,1)||new vo(e)}static atEnd(e){return Ac(e,e,e.content.size,e.childCount,-1)||new vo(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=H1[n.type];if(!o)throw new RangeError(`No selection type ${n.type} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in H1)throw new RangeError("Duplicate use of selection JSON ID "+e);return H1[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Me.between(this.$anchor,this.$head).getBookmark()}}Le.prototype.visible=!0;class d3{constructor(e,n){this.$from=e,this.$to=n}}let WM=!1;function XM(t){!WM&&!t.parent.inlineContent&&(WM=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Me extends Le{constructor(e,n=e){XM(e),XM(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let o=e.resolve(n.map(this.head));if(!o.parent.inlineContent)return Le.near(o);let i=e.resolve(n.map(this.anchor));return new Me(i.parent.inlineContent?i:o,o)}replace(e,n=me.empty){if(super.replace(e,n),n==me.empty){let o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}}eq(e){return e instanceof Me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ib(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){let i=e.resolve(n);return new this(i,o==n?i:e.resolve(o))}static between(e,n,o){let i=e.pos-n.pos;if((!o||i)&&(o=i>=0?1:-1),!n.parent.inlineContent){let r=Le.findFrom(n,o,!0)||Le.findFrom(n,-o,!0);if(r)n=r.$head;else return Le.near(n,o)}return e.parent.inlineContent||(i==0?e=n:(e=(Le.findFrom(e,-o,!0)||Le.findFrom(e,o,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Me(e,n)}}Le.jsonID("text",Me);class ib{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ib(e.map(this.anchor),e.map(this.head))}resolve(e){return Me.between(e.resolve(this.anchor),e.resolve(this.head))}}class Te extends Le{constructor(e){let n=e.nodeAfter,o=e.node(0).resolve(e.pos+n.nodeSize);super(e,o),this.node=n}map(e,n){let{deleted:o,pos:i}=n.mapResult(this.anchor),r=e.resolve(i);return o?Le.near(r):new Te(r)}content(){return new me(J.from(this.node),0,0)}eq(e){return e instanceof Te&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Kk(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Te(e.resolve(n.anchor))}static create(e,n){return new Te(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Te.prototype.visible=!1;Le.jsonID("node",Te);class Kk{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:o}=e.mapResult(this.anchor);return n?new ib(o,o):new Kk(o)}resolve(e){let n=e.resolve(this.anchor),o=n.nodeAfter;return o&&Te.isSelectable(o)?new Te(n):Le.near(n)}}class vo extends Le{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=me.empty){if(n==me.empty){e.delete(0,e.doc.content.size);let o=Le.atStart(e.doc);o.eq(e.selection)||e.setSelection(o)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new vo(e)}map(e){return new vo(e)}eq(e){return e instanceof vo}getBookmark(){return gI}}Le.jsonID("all",vo);const gI={map(){return this},resolve(t){return new vo(t)}};function Ac(t,e,n,o,i,r=!1){if(e.inlineContent)return Me.create(t,n);for(let s=o-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!r&&Te.isSelectable(a))return Te.create(t,n-(i<0?a.nodeSize:0))}else{let u=Ac(t,a,n+i,i<0?a.childCount:0,i,r);if(u)return u}n+=a.nodeSize*i}return null}function JM(t,e,n){let o=t.steps.length-1;if(o<e)return;let i=t.steps[o];if(!(i instanceof hn||i instanceof on))return;let r=t.mapping.maps[o],s;r.forEach((a,u,d,h)=>{s==null&&(s=h)}),t.setSelection(Le.near(t.doc.resolve(s),n))}const QM=1,eT=2,tT=4;let bI=class extends Gk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|QM)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&QM)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=eT,this}ensureMarks(e){return Nt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&eT)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let o=this.selection;return n&&(e=e.mark(this.storedMarks||(o.empty?o.$from.marks():o.$from.marksAcross(o.$to)||Nt.none))),o.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,o){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(o==null&&(o=n),o=o??n,!e)return this.deleteRange(n,o);let r=this.storedMarks;if(!r){let s=this.doc.resolve(n);r=o==n?s.marks():s.marksAcross(this.doc.resolve(o))}return this.replaceRangeWith(n,o,i.text(e,r)),this.selection.empty||this.setSelection(Le.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=tT,this}get scrolledIntoView(){return(this.updated&tT)>0}};function nT(t,e){return!e||!t?t:t.bind(e)}class Bd{constructor(e,n,o){this.name=e,this.init=nT(n.init,o),this.apply=nT(n.apply,o)}}const yI=[new Bd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Bd("selection",{init(t,e){return t.selection||Le.atStart(e.doc)},apply(t){return t.selection}}),new Bd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,o){return o.selection.$cursor?t.storedMarks:null}}),new Bd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class I1{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=yI.slice(),n&&n.forEach(o=>{if(this.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");this.plugins.push(o),this.pluginsByKey[o.key]=o,o.spec.state&&this.fields.push(new Bd(o.key,o.spec.state,o))})}}class Ql{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let o=0;o<this.config.plugins.length;o++)if(o!=n){let i=this.config.plugins[o];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],o=this.applyInner(e),i=null;for(;;){let r=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let u=i?i[s].n:0,d=i?i[s].state:this,h=u<n.length&&a.spec.appendTransaction.call(a,u?n.slice(u):n,d,o);if(h&&o.filterTransaction(h,s)){if(h.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<s?{state:o,n:n.length}:{state:this,n:0})}n.push(h),o=o.applyInner(h),r=!0}i&&(i[s]={state:o,n:n.length})}}if(!r)return{state:o,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ql(this.config),o=this.config.fields;for(let i=0;i<o.length;i++){let r=o[i];n[r.name]=r.apply(e,this[r.name],this,n)}return n}get tr(){return new bI(this)}static create(e){let n=new I1(e.doc?e.doc.type.schema:e.schema,e.plugins),o=new Ql(n);for(let i=0;i<n.fields.length;i++)o[n.fields[i].name]=n.fields[i].init(e,o);return o}reconfigure(e){let n=new I1(this.schema,e.plugins),o=n.fields,i=new Ql(n);for(let r=0;r<o.length;r++){let s=o[r].name;i[s]=this.hasOwnProperty(s)?this[s]:o[r].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(o=>o.toJSON())),e&&typeof e=="object")for(let o in e){if(o=="doc"||o=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[o],r=i.spec.state;r&&r.toJSON&&(n[o]=r.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,o){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new I1(e.schema,e.plugins),r=new Ql(i);return i.fields.forEach(s=>{if(s.name=="doc")r.doc=Kr.fromJSON(e.schema,n.doc);else if(s.name=="selection")r.selection=Le.fromJSON(r.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(r.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(o)for(let a in o){let u=o[a],d=u.spec.state;if(u.key==s.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){r[s.name]=d.fromJSON.call(u,e,n[a],r);return}}r[s.name]=s.init(e,r)}}),r}}function f3(t,e,n){for(let o in t){let i=t[o];i instanceof Function?i=i.bind(e):o=="handleDOMEvents"&&(i=f3(i,e,{})),n[o]=i}return n}class Ke{constructor(e){this.spec=e,this.props={},e.props&&f3(e.props,this,this.props),this.key=e.key?e.key.key:h3("plugin")}getState(e){return e[this.key]}}const z1=Object.create(null);function h3(t){return t in z1?t+"$"+ ++z1[t]:(z1[t]=0,t+"$")}class at{constructor(e="key"){this.key=h3(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const An=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Jc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let cw=null;const Vr=function(t,e,n){let o=cw||(cw=document.createRange());return o.setEnd(t,n??t.nodeValue.length),o.setStart(t,e||0),o},vI=function(){cw=null},ma=function(t,e,n,o){return n&&(oT(t,e,n,o,-1)||oT(t,e,n,o,1))},wI=/^(img|br|input|textarea|hr)$/i;function oT(t,e,n,o,i){for(;;){if(t==n&&e==o)return!0;if(e==(i<0?0:li(t))){let r=t.parentNode;if(!r||r.nodeType!=1||qf(t)||wI.test(t.nodeName)||t.contentEditable=="false")return!1;e=An(t)+(i<0?0:1),t=r}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?li(t):0}else return!1}}function li(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function kI(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=li(t)}else if(t.parentNode&&!qf(t))e=An(t),t=t.parentNode;else return null}}function xI(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!qf(t))e=An(t)+1,t=t.parentNode;else return null}}function CI(t,e,n){for(let o=e==0,i=e==li(t);o||i;){if(t==n)return!0;let r=An(t);if(t=t.parentNode,!t)return!1;o=o&&r==0,i=i&&r==li(t)}}function qf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const rb=function(t){return t.focusNode&&ma(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Yl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function SI(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function _I(t,e,n){if(t.caretPositionFromPoint)try{let o=t.caretPositionFromPoint(e,n);if(o)return{node:o.offsetNode,offset:Math.min(li(o.offsetNode),o.offset)}}catch{}if(t.caretRangeFromPoint){let o=t.caretRangeFromPoint(e,n);if(o)return{node:o.startContainer,offset:Math.min(li(o.startContainer),o.startOffset)}}}const or=typeof navigator<"u"?navigator:null,iT=typeof document<"u"?document:null,vl=or&&or.userAgent||"",uw=/Edge\/(\d+)/.exec(vl),p3=/MSIE \d/.exec(vl),dw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vl),wo=!!(p3||dw||uw),nl=p3?document.documentMode:dw?+dw[1]:uw?+uw[1]:0,_i=!wo&&/gecko\/(\d+)/i.test(vl);_i&&+(/Firefox\/(\d+)/.exec(vl)||[0,0])[1];const fw=!wo&&/Chrome\/(\d+)/.exec(vl),zn=!!fw,m3=fw?+fw[1]:0,no=!wo&&!!or&&/Apple Computer/.test(or.vendor),Qc=no&&(/Mobile\/\w+/.test(vl)||!!or&&or.maxTouchPoints>2),si=Qc||(or?/Mac/.test(or.platform):!1),EI=or?/Win/.test(or.platform):!1,Fr=/Android \d/.test(vl),Gf=!!iT&&"webkitFontSmoothing"in iT.documentElement.style,MI=Gf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function TI(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Lr(t,e){return typeof t=="number"?t:t[e]}function AI(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,o=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*o}}function rT(t,e,n){let o=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,r=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=Jc(s);continue}let a=s,u=a==r.body,d=u?TI(r):AI(a),h=0,p=0;if(e.top<d.top+Lr(o,"top")?p=-(d.top-e.top+Lr(i,"top")):e.bottom>d.bottom-Lr(o,"bottom")&&(p=e.bottom-e.top>d.bottom-d.top?e.top+Lr(i,"top")-d.top:e.bottom-d.bottom+Lr(i,"bottom")),e.left<d.left+Lr(o,"left")?h=-(d.left-e.left+Lr(i,"left")):e.right>d.right-Lr(o,"right")&&(h=e.right-d.right+Lr(i,"right")),h||p)if(u)r.defaultView.scrollBy(h,p);else{let b=a.scrollLeft,v=a.scrollTop;p&&(a.scrollTop+=p),h&&(a.scrollLeft+=h);let k=a.scrollLeft-b,C=a.scrollTop-v;e={left:e.left-k,top:e.top-C,right:e.right-k,bottom:e.bottom-C}}let g=u?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(g))break;s=g=="absolute"?s.offsetParent:Jc(s)}}function OI(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),o,i;for(let r=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(r,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let u=a.getBoundingClientRect();if(u.top>=n-20){o=a,i=u.top;break}}return{refDOM:o,refTop:i,stack:g3(t.dom)}}function g3(t){let e=[],n=t.ownerDocument;for(let o=t;o&&(e.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),t!=n);o=Jc(o));return e}function RI({refDOM:t,refTop:e,stack:n}){let o=t?t.getBoundingClientRect().top:0;b3(n,o==0?0:o-e)}function b3(t,e){for(let n=0;n<t.length;n++){let{dom:o,top:i,left:r}=t[n];o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=r&&(o.scrollLeft=r)}}let xc=null;function NI(t){if(t.setActive)return t.setActive();if(xc)return t.focus(xc);let e=g3(t);t.focus(xc==null?{get preventScroll(){return xc={preventScroll:!0},!0}}:void 0),xc||(xc=!1,b3(e,0))}function y3(t,e){let n,o=2e8,i,r=0,s=e.top,a=e.top,u,d;for(let h=t.firstChild,p=0;h;h=h.nextSibling,p++){let g;if(h.nodeType==1)g=h.getClientRects();else if(h.nodeType==3)g=Vr(h).getClientRects();else continue;for(let b=0;b<g.length;b++){let v=g[b];if(v.top<=s&&v.bottom>=a){s=Math.max(v.bottom,s),a=Math.min(v.top,a);let k=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(k<o){n=h,o=k,i=k&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,h.nodeType==1&&k&&(r=p+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!u&&v.left<=e.left&&v.right>=e.left&&(u=h,d={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(r=p+1)}}return!n&&u&&(n=u,i=d,o=0),n&&n.nodeType==3?DI(n,i):!n||o&&n.nodeType==1?{node:t,offset:r}:y3(n,i)}function DI(t,e){let n=t.nodeValue.length,o=document.createRange();for(let i=0;i<n;i++){o.setEnd(t,i+1),o.setStart(t,i);let r=zs(o,1);if(r.top!=r.bottom&&Zk(e,r))return{node:t,offset:i+(e.left>=(r.left+r.right)/2?1:0)}}return{node:t,offset:0}}function Zk(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function LI(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function BI(t,e,n){let{node:o,offset:i}=y3(e,n),r=-1;if(o.nodeType==1&&!o.firstChild){let s=o.getBoundingClientRect();r=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(o,i,r)}function jI(t,e,n,o){let i=-1;for(let r=e,s=!1;r!=t.dom;){let a=t.docView.nearestDesc(r,!0),u;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((u=a.dom.getBoundingClientRect()).width||u.height)&&(a.node.isBlock&&a.parent&&(!s&&u.left>o.left||u.top>o.top?i=a.posBefore:(!s&&u.right<o.left||u.bottom<o.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?o.top<(u.top+u.bottom)/2:o.left<(u.left+u.right)/2)?a.posBefore:a.posAfter;r=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function v3(t,e,n){let o=t.childNodes.length;if(o&&n.top<n.bottom)for(let i=Math.max(0,Math.min(o-1,Math.floor(o*(e.top-n.top)/(n.bottom-n.top))-2)),r=i;;){let s=t.childNodes[r];if(s.nodeType==1){let a=s.getClientRects();for(let u=0;u<a.length;u++){let d=a[u];if(Zk(e,d))return v3(s,e,d)}}if((r=(r+1)%o)==i)break}return t}function HI(t,e){let n=t.dom.ownerDocument,o,i=0,r=_I(n,e.left,e.top);r&&({node:o,offset:i}=r);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let d=t.dom.getBoundingClientRect();if(!Zk(e,d)||(s=v3(t.dom,e,d),!s))return null}if(no)for(let d=s;o&&d;d=Jc(d))d.draggable&&(o=void 0);if(s=LI(s,e),o){if(_i&&o.nodeType==1&&(i=Math.min(i,o.childNodes.length),i<o.childNodes.length)){let h=o.childNodes[i],p;h.nodeName=="IMG"&&(p=h.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let d;Gf&&i&&o.nodeType==1&&(d=o.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,o==t.dom&&i==o.childNodes.length-1&&o.lastChild.nodeType==1&&e.top>o.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||o.nodeType!=1||o.childNodes[i-1].nodeName!="BR")&&(a=jI(t,o,i,e))}a==null&&(a=BI(t,s,e));let u=t.docView.nearestDesc(s,!0);return{pos:a,inside:u?u.posAtStart-u.border:-1}}function sT(t){return t.top<t.bottom||t.left<t.right}function zs(t,e){let n=t.getClientRects();if(n.length){let o=n[e<0?0:n.length-1];if(sT(o))return o}return Array.prototype.find.call(n,sT)||t.getBoundingClientRect()}const II=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function w3(t,e,n){let{node:o,offset:i,atom:r}=t.docView.domFromPos(e,n<0?-1:1),s=Gf||_i;if(o.nodeType==3)if(s&&(II.test(o.nodeValue)||(n<0?!i:i==o.nodeValue.length))){let u=zs(Vr(o,i,i),n);if(_i&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){let d=zs(Vr(o,i-1,i-1),-1);if(d.top==u.top){let h=zs(Vr(o,i,i+1),-1);if(h.top!=u.top)return Sd(h,h.left<d.left)}}return u}else{let u=i,d=i,h=n<0?1:-1;return n<0&&!i?(d++,h=-1):n>=0&&i==o.nodeValue.length?(u--,h=1):n<0?u--:d++,Sd(zs(Vr(o,u,d),h),h<0)}if(!t.state.doc.resolve(e-(r||0)).parent.inlineContent){if(r==null&&i&&(n<0||i==li(o))){let u=o.childNodes[i-1];if(u.nodeType==1)return P1(u.getBoundingClientRect(),!1)}if(r==null&&i<li(o)){let u=o.childNodes[i];if(u.nodeType==1)return P1(u.getBoundingClientRect(),!0)}return P1(o.getBoundingClientRect(),n>=0)}if(r==null&&i&&(n<0||i==li(o))){let u=o.childNodes[i-1],d=u.nodeType==3?Vr(u,li(u)-(s?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return Sd(zs(d,1),!1)}if(r==null&&i<li(o)){let u=o.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?Vr(u,0,s?0:1):u.nodeType==1?u:null:null;if(d)return Sd(zs(d,-1),!0)}return Sd(zs(o.nodeType==3?Vr(o):o,-n),n>=0)}function Sd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function P1(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function k3(t,e,n){let o=t.state,i=t.root.activeElement;o!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{o!=e&&t.updateState(o),i!=t.dom&&i&&i.focus()}}function zI(t,e,n){let o=e.selection,i=n=="up"?o.$from:o.$to;return k3(t,e,()=>{let{node:r}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(r,!0);if(!a)break;if(a.node.isBlock){r=a.contentDOM||a.dom;break}r=a.dom.parentNode}let s=w3(t,i.pos,1);for(let a=r.firstChild;a;a=a.nextSibling){let u;if(a.nodeType==1)u=a.getClientRects();else if(a.nodeType==3)u=Vr(a,0,a.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let h=u[d];if(h.bottom>h.top+1&&(n=="up"?s.top-h.top>(h.bottom-s.top)*2:h.bottom-s.bottom>(s.bottom-h.top)*2))return!1}}return!0})}const PI=/[\u0590-\u08ac]/;function VI(t,e,n){let{$head:o}=e.selection;if(!o.parent.isTextblock)return!1;let i=o.parentOffset,r=!i,s=i==o.parent.content.size,a=t.domSelection();return a?!PI.test(o.parent.textContent)||!a.modify?n=="left"||n=="backward"?r:s:k3(t,e,()=>{let{focusNode:u,focusOffset:d,anchorNode:h,anchorOffset:p}=t.domSelectionRange(),g=a.caretBidiLevel;a.modify("move",n,"character");let b=o.depth?t.docView.domAfterPos(o.before()):t.dom,{focusNode:v,focusOffset:k}=t.domSelectionRange(),C=v&&!b.contains(v.nodeType==1?v:v.parentNode)||u==v&&d==k;try{a.collapse(h,p),u&&(u!=h||d!=p)&&a.extend&&a.extend(u,d)}catch{}return g!=null&&(a.caretBidiLevel=g),C}):o.pos==o.start()||o.pos==o.end()}let lT=null,aT=null,cT=!1;function $I(t,e,n){return lT==e&&aT==n?cT:(lT=e,aT=n,cT=n=="up"||n=="down"?zI(t,e,n):VI(t,e,n))}const ui=0,uT=1,ea=2,ir=3;class Kf{constructor(e,n,o,i){this.parent=e,this.children=n,this.dom=o,this.contentDOM=i,this.dirty=ui,o.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,o){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,o=this.posAtStart;;n++){let i=this.children[n];if(i==e)return o;o+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,o){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(o<0){let r,s;if(e==this.contentDOM)r=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&!((s=r.pmViewDesc)&&s.parent==this);)r=r.previousSibling;return r?this.posBeforeChild(s)+s.size:this.posAtStart}else{let r,s;if(e==this.contentDOM)r=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.nextSibling}for(;r&&!((s=r.pmViewDesc)&&s.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>An(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let r=e;;r=r.parentNode){if(r==this.dom){i=!1;break}if(r.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let r=e;;r=r.parentNode){if(r==this.dom){i=!0;break}if(r.nextSibling)break}}return i??o>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let o=!0,i=e;i;i=i.parentNode){let r=this.getDesc(i),s;if(r&&(!n||r.node))if(o&&(s=r.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))o=!1;else return r}}getDesc(e){let n=e.pmViewDesc;for(let o=n;o;o=o.parent)if(o==this)return n}posFromDOM(e,n,o){for(let i=e;i;i=i.parentNode){let r=this.getDesc(i);if(r)return r.localPosFromDOM(e,n,o)}return-1}descAt(e){for(let n=0,o=0;n<this.children.length;n++){let i=this.children[n],r=o+i.size;if(o==e&&r!=o){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let a=i.children[s];if(a.size){i=a;break}}return i}if(e<r)return i.descAt(e-o-i.border);o=r}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let o=0,i=0;for(let r=0;o<this.children.length;o++){let s=this.children[o],a=r+s.size;if(a>e||s instanceof C3){i=e-r;break}r=a}if(i)return this.children[o].domFromPos(i-this.children[o].border,n);for(let r;o&&!(r=this.children[o-1]).size&&r instanceof x3&&r.side>=0;o--);if(n<=0){let r,s=!0;for(;r=o?this.children[o-1]:null,!(!r||r.dom.parentNode==this.contentDOM);o--,s=!1);return r&&n&&s&&!r.border&&!r.domAtom?r.domFromPos(r.size,n):{node:this.contentDOM,offset:r?An(r.dom)+1:0}}else{let r,s=!0;for(;r=o<this.children.length?this.children[o]:null,!(!r||r.dom.parentNode==this.contentDOM);o++,s=!1);return r&&s&&!r.border&&!r.domAtom?r.domFromPos(0,n):{node:this.contentDOM,offset:r?An(r.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,o=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,r=-1;for(let s=o,a=0;;a++){let u=this.children[a],d=s+u.size;if(i==-1&&e<=d){let h=s+u.border;if(e>=h&&n<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,h);e=s;for(let p=a;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=An(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(d>n||a==this.children.length-1)){n=d;for(let h=a+1;h<this.children.length;h++){let p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){r=An(p.dom);break}n+=p.size}r==-1&&(r=this.contentDOM.childNodes.length);break}s=d}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:o}=this.domFromPos(e,0);if(n.nodeType!=1||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]}setSelection(e,n,o,i=!1){let r=Math.min(e,n),s=Math.max(e,n);for(let b=0,v=0;b<this.children.length;b++){let k=this.children[b],C=v+k.size;if(r>v&&s<C)return k.setSelection(e-v-k.border,n-v-k.border,o,i);v=C}let a=this.domFromPos(e,e?-1:1),u=n==e?a:this.domFromPos(n,n?-1:1),d=o.root.getSelection(),h=o.domSelectionRange(),p=!1;if((_i||no)&&e==n){let{node:b,offset:v}=a;if(b.nodeType==3){if(p=!!(v&&b.nodeValue[v-1]==`
`),p&&v==b.nodeValue.length)for(let k=b,C;k;k=k.parentNode){if(C=k.nextSibling){C.nodeName=="BR"&&(a=u={node:C.parentNode,offset:An(C)+1});break}let _=k.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let k=b.childNodes[v-1];p=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(_i&&h.focusNode&&h.focusNode!=u.node&&h.focusNode.nodeType==1){let b=h.focusNode.childNodes[h.focusOffset];b&&b.contentEditable=="false"&&(i=!0)}if(!(i||p&&no)&&ma(a.node,a.offset,h.anchorNode,h.anchorOffset)&&ma(u.node,u.offset,h.focusNode,h.focusOffset))return;let g=!1;if((d.extend||e==n)&&!p){d.collapse(a.node,a.offset);try{e!=n&&d.extend(u.node,u.offset),g=!0}catch{}}if(!g){if(e>n){let v=a;a=u,u=v}let b=document.createRange();b.setEnd(u.node,u.offset),b.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let o=0,i=0;i<this.children.length;i++){let r=this.children[i],s=o+r.size;if(o==s?e<=s&&n>=o:e<s&&n>o){let a=o+r.border,u=s-r.border;if(e>=a&&n<=u){this.dirty=e==o||n==s?ea:uT,e==a&&n==u&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=ir:r.markDirty(e-a,n-a);return}else r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM&&!r.children.length?ea:ir}o=s}this.dirty=ea}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let o=e==1?ea:uT;n.dirty<o&&(n.dirty=o)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class x3 extends Kf{constructor(e,n,o,i){let r,s=n.type.toDOM;if(typeof s=="function"&&(s=s(o,()=>{if(!r)return i;if(r.parent)return r.parent.posBeforeChild(r)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,r=this}matchesWidget(e){return this.dirty==ui&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class UI extends Kf{constructor(e,n,o,i){super(e,[],n,null),this.textDOM=o,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ga extends Kf{constructor(e,n,o,i,r){super(e,[],o,i),this.mark=n,this.spec=r}static create(e,n,o,i){let r=i.nodeViews[n.type.name],s=r&&r(n,i,o);return(!s||!s.dom)&&(s=ls.renderSpec(document,n.type.spec.toDOM(n,o),null,n.attrs)),new ga(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&ir||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ir&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ui){let o=this.parent;for(;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=ui}}slice(e,n,o){let i=ga.create(this.parent,this.mark,!0,o),r=this.children,s=this.size;n<s&&(r=pw(r,n,s,o)),e>0&&(r=pw(r,0,e,o));for(let a=0;a<r.length;a++)r[a].parent=i;return i.children=r,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ol extends Kf{constructor(e,n,o,i,r,s,a,u,d){super(e,[],r,s),this.node=n,this.outerDeco=o,this.innerDeco=i,this.nodeDOM=a}static create(e,n,o,i,r,s){let a=r.nodeViews[n.type.name],u,d=a&&a(n,r,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},o,i),h=d&&d.dom,p=d&&d.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:p}=ls.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let g=h;return h=E3(h,o,n),d?u=new FI(e,n,o,i,h,p||null,g,d,r,s+1):n.isText?new sb(e,n,o,i,h,g,r):new ol(e,n,o,i,h,p||null,g,r,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let o=this.children[n];if(this.dom.contains(o.dom.parentNode)){e.contentElement=o.dom.parentNode;break}}e.contentElement||(e.getContent=()=>J.empty)}return e}matchesNode(e,n,o){return this.dirty==ui&&e.eq(this.node)&&Bm(n,this.outerDeco)&&o.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let o=this.node.inlineContent,i=n,r=e.composing?this.localCompositionInfo(e,n):null,s=r&&r.pos>-1?r:null,a=r&&r.pos<0,u=new GI(this,s&&s.node,e);YI(this.node,this.innerDeco,(d,h,p)=>{d.spec.marks?u.syncToMarks(d.spec.marks,o,e):d.type.side>=0&&!p&&u.syncToMarks(h==this.node.childCount?Nt.none:this.node.child(h).marks,o,e),u.placeWidget(d,e,i)},(d,h,p,g)=>{u.syncToMarks(d.marks,o,e);let b;u.findNodeMatch(d,h,p,g)||a&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(b=u.findIndexWithChild(r.node))>-1&&u.updateNodeAt(d,h,p,b,e)||u.updateNextNode(d,h,p,e,g,i)||u.addNode(d,h,p,e,i),i+=d.nodeSize}),u.syncToMarks([],o,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==ea)&&(s&&this.protectLocalComposition(e,s),S3(this.contentDOM,this.children,e),Qc&&WI(this.dom))}localCompositionInfo(e,n){let{from:o,to:i}=e.state.selection;if(!(e.state.selection instanceof Me)||o<n||i>n+this.node.content.size)return null;let r=e.input.compositionNode;if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let s=r.nodeValue,a=XI(this.node.content,s,o-n,i-n);return a<0?null:{node:r,pos:a,text:s}}else return{node:r,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:o,text:i}){if(this.getDesc(n))return;let r=n;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let s=new UI(this,r,n,i);e.input.compositionNodes.push(s),this.children=pw(this.children,o,o+i.length,e,s)}update(e,n,o,i){return this.dirty==ir||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,o,i),!0)}updateInner(e,n,o,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=o,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ui}updateOuterDeco(e){if(Bm(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,o=this.dom;this.dom=_3(this.dom,this.nodeDOM,hw(this.outerDeco,this.node,n),hw(e,this.node,n)),this.dom!=o&&(o.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function dT(t,e,n,o,i){E3(o,e,t);let r=new ol(void 0,t,e,n,o,o,o,i,0);return r.contentDOM&&r.updateChildren(i,0),r}class sb extends ol{constructor(e,n,o,i,r,s,a){super(e,n,o,i,r,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,o,i){return this.dirty==ir||this.dirty!=ui&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ui||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ui,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,o){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,o)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,o){let i=this.node.cut(e,n),r=document.createTextNode(i.text);return new sb(this.parent,i,this.outerDeco,this.innerDeco,r,r,o)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ir)}get domAtom(){return!1}isText(e){return this.node.text==e}}class C3 extends Kf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ui&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class FI extends ol{constructor(e,n,o,i,r,s,a,u,d,h){super(e,n,o,i,r,s,a,d,h),this.spec=u}update(e,n,o,i){if(this.dirty==ir)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let r=this.spec.update(e,n,o);return r&&this.updateInner(e,n,o,i),r}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,o,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,o,i){this.spec.setSelection?this.spec.setSelection(e,n,o.root):super.setSelection(e,n,o,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function S3(t,e,n){let o=t.firstChild,i=!1;for(let r=0;r<e.length;r++){let s=e[r],a=s.dom;if(a.parentNode==t){for(;a!=o;)o=fT(o),i=!0;o=o.nextSibling}else i=!0,t.insertBefore(a,o);if(s instanceof ga){let u=o?o.previousSibling:t.lastChild;S3(s.contentDOM,s.children,n),o=u?u.nextSibling:t.firstChild}}for(;o;)o=fT(o),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Yd=function(t){t&&(this.nodeName=t)};Yd.prototype=Object.create(null);const ta=[new Yd];function hw(t,e,n){if(t.length==0)return ta;let o=n?ta[0]:new Yd,i=[o];for(let r=0;r<t.length;r++){let s=t[r].type.attrs;if(s){s.nodeName&&i.push(o=new Yd(s.nodeName));for(let a in s){let u=s[a];u!=null&&(n&&i.length==1&&i.push(o=new Yd(e.isInline?"span":"div")),a=="class"?o.class=(o.class?o.class+" ":"")+u:a=="style"?o.style=(o.style?o.style+";":"")+u:a!="nodeName"&&(o[a]=u))}}}return i}function _3(t,e,n,o){if(n==ta&&o==ta)return e;let i=e;for(let r=0;r<o.length;r++){let s=o[r],a=n[r];if(r){let u;a&&a.nodeName==s.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(i),a=ta[0]),i=u}qI(i,a||ta[0],s)}return i}function qI(t,e,n){for(let o in e)o!="class"&&o!="style"&&o!="nodeName"&&!(o in n)&&t.removeAttribute(o);for(let o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){let o=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let r=0;r<o.length;r++)i.indexOf(o[r])==-1&&t.classList.remove(o[r]);for(let r=0;r<i.length;r++)o.indexOf(i[r])==-1&&t.classList.add(i[r]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=o.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function E3(t,e,n){return _3(t,t,ta,hw(e,n,t.nodeType!=1))}function Bm(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function fT(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class GI{constructor(e,n,o){this.lock=n,this.view=o,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=KI(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let o=e;o<n;o++)this.top.children[o].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,o){let i=0,r=this.stack.length>>1,s=Math.min(r,e.length);for(;i<s&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=ui,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let d=this.top.children[u];if(d.matchesMark(e[r])&&!this.isLocked(d.dom)){a=u;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let u=ga.create(this.top,e[r],n,o);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,r++}}findNodeMatch(e,n,o,i){let r=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,o))r=this.top.children.indexOf(s,this.index);else for(let a=this.index,u=Math.min(this.top.children.length,a+5);a<u;a++){let d=this.top.children[a];if(d.matchesNode(e,n,o)&&!this.preMatch.matched.has(d)){r=a;break}}return r<0?!1:(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(e,n,o,i,r){let s=this.top.children[i];return s.dirty==ir&&s.dom==s.contentDOM&&(s.dirty=ea),s.update(e,n,o,r)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let o=e.pmViewDesc;if(o){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==o)return i}return-1}e=n}}updateNextNode(e,n,o,i,r,s){for(let a=this.index;a<this.top.children.length;a++){let u=this.top.children[a];if(u instanceof ol){let d=this.preMatch.matched.get(u);if(d!=null&&d!=r)return!1;let h=u.dom,p,g=this.isLocked(h)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=ir&&Bm(n,u.outerDeco));if(!g&&u.update(e,n,o,i))return this.destroyBetween(this.index,a),u.dom!=h&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(u,e,n,o,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=ea,p.updateChildren(i,s+1),p.dirty=ui),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,o,i,r,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Bm(o,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=ol.create(this.top,n,o,i,r,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let u of a.children)u.parent=a}return e.destroy(),a}addNode(e,n,o,i,r){let s=ol.create(this.top,e,n,o,i,r);s.contentDOM&&s.updateChildren(i,r+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,o){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let r=new x3(this.top,e,n,o);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ga;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof sb)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((no||zn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let o=document.createElement(e);e=="IMG"&&(o.className="ProseMirror-separator",o.alt=""),e=="BR"&&(o.className="ProseMirror-trailingBreak");let i=new C3(this.top,[],o,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function KI(t,e){let n=e,o=n.children.length,i=t.childCount,r=new Map,s=[];e:for(;i>0;){let a;for(;;)if(o){let d=n.children[o-1];if(d instanceof ga)n=d,o=d.children.length;else{a=d,o--;break}}else{if(n==e)break e;o=n.parent.children.indexOf(n),n=n.parent}let u=a.node;if(u){if(u!=t.child(i-1))break;--i,r.set(a,i),s.push(a)}}return{index:i,matched:r,matches:s.reverse()}}function ZI(t,e){return t.type.side-e.type.side}function YI(t,e,n,o){let i=e.locals(t),r=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let h=t.child(d);o(h,i,e.forChild(r,h),d),r+=h.nodeSize}return}let s=0,a=[],u=null;for(let d=0;;){let h,p;for(;s<i.length&&i[s].to==r;){let C=i[s++];C.widget&&(h?(p||(p=[h])).push(C):h=C)}if(h)if(p){p.sort(ZI);for(let C=0;C<p.length;C++)n(p[C],d,!!u)}else n(h,d,!!u);let g,b;if(u)b=-1,g=u,u=null;else if(d<t.childCount)b=d,g=t.child(d++);else break;for(let C=0;C<a.length;C++)a[C].to<=r&&a.splice(C--,1);for(;s<i.length&&i[s].from<=r&&i[s].to>r;)a.push(i[s++]);let v=r+g.nodeSize;if(g.isText){let C=v;s<i.length&&i[s].from<C&&(C=i[s].from);for(let _=0;_<a.length;_++)a[_].to<C&&(C=a[_].to);C<v&&(u=g.cut(C-r),g=g.cut(0,C-r),v=C,b=-1)}else for(;s<i.length&&i[s].to<v;)s++;let k=g.isInline&&!g.isLeaf?a.filter(C=>!C.inline):a.slice();o(g,k,e.forChild(r,g),b),r=v}}function WI(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function XI(t,e,n,o){for(let i=0,r=0;i<t.childCount&&r<=o;){let s=t.child(i++),a=r;if(r+=s.nodeSize,!s.isText)continue;let u=s.text;for(;i<t.childCount;){let d=t.child(i++);if(r+=d.nodeSize,!d.isText)break;u+=d.text}if(r>=n){if(r>=o&&u.slice(o-e.length-a,o-a)==e)return o-e.length;let d=a<o?u.lastIndexOf(e,o-a-1):-1;if(d>=0&&d+e.length+a>=n)return a+d;if(n==o&&u.length>=o+e.length-a&&u.slice(o-a,o-a+e.length)==e)return o}}return-1}function pw(t,e,n,o,i){let r=[];for(let s=0,a=0;s<t.length;s++){let u=t[s],d=a,h=a+=u.size;d>=n||h<=e?r.push(u):(d<e&&r.push(u.slice(0,e-d,o)),i&&(r.push(i),i=void 0),h>n&&r.push(u.slice(n-d,u.size,o)))}return r}function Yk(t,e=null){let n=t.domSelectionRange(),o=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),r=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=o.resolve(s),u,d;if(rb(n)){for(u=s;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&Te.isSelectable(p)&&i.parent&&!(p.isInline&&CI(n.focusNode,n.focusOffset,i.dom))){let g=i.posBefore;d=new Te(s==g?a:o.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=s,g=s;for(let b=0;b<n.rangeCount;b++){let v=n.getRangeAt(b);p=Math.min(p,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(p<0)return null;[u,s]=g==t.state.selection.anchor?[g,p]:[p,g],a=o.resolve(s)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let h=o.resolve(u);if(!d){let p=e=="pointer"||t.state.selection.head<a.pos&&!r?1:-1;d=Wk(t,h,a,p)}return d}function M3(t){return t.editable?t.hasFocus():A3(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Yr(t,e=!1){let n=t.state.selection;if(T3(t,n),!!M3(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&zn){let o=t.domSelectionRange(),i=t.domObserver.currentSelection;if(o.anchorNode&&i.anchorNode&&ma(o.anchorNode,o.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)QI(t);else{let{anchor:o,head:i}=n,r,s;hT&&!(n instanceof Me)&&(n.$from.parent.inlineContent||(r=pT(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=pT(t,n.to))),t.docView.setSelection(o,i,t,e),hT&&(r&&mT(r),s&&mT(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&JI(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const hT=no||zn&&m3<63;function pT(t,e){let{node:n,offset:o}=t.docView.domFromPos(e,0),i=o<n.childNodes.length?n.childNodes[o]:null,r=o?n.childNodes[o-1]:null;if(no&&i&&i.contentEditable=="false")return V1(i);if((!i||i.contentEditable=="false")&&(!r||r.contentEditable=="false")){if(i)return V1(i);if(r)return V1(r)}}function V1(t){return t.contentEditable="true",no&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function mT(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function JI(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),o=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=o||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!M3(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function QI(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let o=t.cursorWrapper.dom,i=o.nodeName=="IMG";i?n.setStart(o.parentNode,An(o)+1):n.setStart(o,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&wo&&nl<=11&&(o.disabled=!0,o.disabled=!1)}function T3(t,e){if(e instanceof Te){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(gT(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else gT(t)}function gT(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Wk(t,e,n,o){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Me.between(e,n,o)}function bT(t){return t.editable&&!t.hasFocus()?!1:A3(t)}function A3(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ez(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ma(e.node,e.offset,n.anchorNode,n.anchorOffset)}function mw(t,e){let{$anchor:n,$head:o}=t.selection,i=e>0?n.max(o):n.min(o),r=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return r&&Le.findFrom(r,e)}function $s(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function yT(t,e,n){let o=t.state.selection;if(o instanceof Me)if(n.indexOf("s")>-1){let{$head:i}=o,r=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+r.nodeSize*(e<0?-1:1));return $s(t,new Me(o.$anchor,s))}else if(o.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=mw(t.state,e);return i&&i instanceof Te?$s(t,i):!1}else if(!(si&&n.indexOf("m")>-1)){let i=o.$head,r=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!r||r.isText)return!1;let a=e<0?i.pos-r.nodeSize:i.pos;return r.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Te.isSelectable(r)?$s(t,new Te(e<0?t.state.doc.resolve(i.pos-r.nodeSize):i)):Gf?$s(t,new Me(t.state.doc.resolve(e<0?a:a+r.nodeSize))):!1:!1}}else return!1;else{if(o instanceof Te&&o.node.isInline)return $s(t,new Me(e>0?o.$to:o.$from));{let i=mw(t.state,e);return i?$s(t,i):!1}}}function jm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Wd(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Cc(t,e){return e<0?tz(t):nz(t)}function tz(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let i,r,s=!1;for(_i&&n.nodeType==1&&o<jm(n)&&Wd(n.childNodes[o],-1)&&(s=!0);;)if(o>0){if(n.nodeType!=1)break;{let a=n.childNodes[o-1];if(Wd(a,-1))i=n,r=--o;else if(a.nodeType==3)n=a,o=n.nodeValue.length;else break}}else{if(O3(n))break;{let a=n.previousSibling;for(;a&&Wd(a,-1);)i=n.parentNode,r=An(a),a=a.previousSibling;if(a)n=a,o=jm(n);else{if(n=n.parentNode,n==t.dom)break;o=0}}}s?gw(t,n,o):i&&gw(t,i,r)}function nz(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let i=jm(n),r,s;for(;;)if(o<i){if(n.nodeType!=1)break;let a=n.childNodes[o];if(Wd(a,1))r=n,s=++o;else break}else{if(O3(n))break;{let a=n.nextSibling;for(;a&&Wd(a,1);)r=a.parentNode,s=An(a)+1,a=a.nextSibling;if(a)n=a,o=0,i=jm(n);else{if(n=n.parentNode,n==t.dom)break;o=i=0}}}r&&gw(t,r,s)}function O3(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function oz(t,e){for(;t&&e==t.childNodes.length&&!qf(t);)e=An(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function iz(t,e){for(;t&&!e&&!qf(t);)e=An(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function gw(t,e,n){if(e.nodeType!=3){let r,s;(s=oz(e,n))?(e=s,n=0):(r=iz(e,n))&&(e=r,n=r.nodeValue.length)}let o=t.domSelection();if(!o)return;if(rb(o)){let r=document.createRange();r.setEnd(e,n),r.setStart(e,n),o.removeAllRanges(),o.addRange(r)}else o.extend&&o.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Yr(t)},50)}function vT(t,e){let n=t.state.doc.resolve(e);if(!(zn||EI)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let r=t.coordsAtPos(e-1),s=(r.top+r.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(r.left-i.left)>1)return r.left<i.left?"ltr":"rtl"}if(e<n.end()){let r=t.coordsAtPos(e+1),s=(r.top+r.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(r.left-i.left)>1)return r.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function wT(t,e,n){let o=t.state.selection;if(o instanceof Me&&!o.empty||n.indexOf("s")>-1||si&&n.indexOf("m")>-1)return!1;let{$from:i,$to:r}=o;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=mw(t.state,e);if(s&&s instanceof Te)return $s(t,s)}if(!i.parent.inlineContent){let s=e<0?i:r,a=o instanceof vo?Le.near(s,e):Le.findFrom(s,e);return a?$s(t,a):!1}return!1}function kT(t,e){if(!(t.state.selection instanceof Me))return!0;let{$head:n,$anchor:o,empty:i}=t.state.selection;if(!n.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let r=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(r&&!r.isText){let s=t.state.tr;return e<0?s.delete(n.pos-r.nodeSize,n.pos):s.delete(n.pos,n.pos+r.nodeSize),t.dispatch(s),!0}return!1}function xT(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function rz(t){if(!no||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let o=e.firstChild;xT(t,o,"true"),setTimeout(()=>xT(t,o,"false"),20)}return!1}function sz(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function lz(t,e){let n=e.keyCode,o=sz(e);if(n==8||si&&n==72&&o=="c")return kT(t,-1)||Cc(t,-1);if(n==46&&!e.shiftKey||si&&n==68&&o=="c")return kT(t,1)||Cc(t,1);if(n==13||n==27)return!0;if(n==37||si&&n==66&&o=="c"){let i=n==37?vT(t,t.state.selection.from)=="ltr"?-1:1:-1;return yT(t,i,o)||Cc(t,i)}else if(n==39||si&&n==70&&o=="c"){let i=n==39?vT(t,t.state.selection.from)=="ltr"?1:-1:1;return yT(t,i,o)||Cc(t,i)}else{if(n==38||si&&n==80&&o=="c")return wT(t,-1,o)||Cc(t,-1);if(n==40||si&&n==78&&o=="c")return rz(t)||wT(t,1,o)||Cc(t,1);if(o==(si?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Xk(t,e){t.someProp("transformCopied",b=>{e=b(e,t)});let n=[],{content:o,openStart:i,openEnd:r}=e;for(;i>1&&r>1&&o.childCount==1&&o.firstChild.childCount==1;){i--,r--;let b=o.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),o=b.content}let s=t.someProp("clipboardSerializer")||ls.fromSchema(t.state.schema),a=j3(),u=a.createElement("div");u.appendChild(s.serializeFragment(o,{document:a}));let d=u.firstChild,h,p=0;for(;d&&d.nodeType==1&&(h=B3[d.nodeName.toLowerCase()]);){for(let b=h.length-1;b>=0;b--){let v=a.createElement(h[b]);for(;u.firstChild;)v.appendChild(u.firstChild);u.appendChild(v),p++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${r}${p?` -${p}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",b=>b(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:g,slice:e}}function R3(t,e,n,o,i){let r=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let u=e&&(o||r||!n);if(u){if(t.someProp("transformPastedText",g=>{e=g(e,r||o,t)}),r)return e?new me(J.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):me.empty;let p=t.someProp("clipboardTextParser",g=>g(e,i,o,t));if(p)a=p;else{let g=i.marks(),{schema:b}=t.state,v=ls.fromSchema(b);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let C=s.appendChild(document.createElement("p"));k&&C.appendChild(v.serializeNode(b.text(k,g)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),s=dz(n),Gf&&fz(s);let d=s&&s.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let p=+h[3];p>0;p--){let g=s.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;s=g}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||aa.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||h),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!az.test(g.parentNode.nodeName)?{ignore:!0}:null}})),h)a=hz(CT(a,+h[1],+h[2]),h[4]);else if(a=me.maxOpen(cz(a.content,i),!0),a.openStart||a.openEnd){let p=0,g=0;for(let b=a.content.firstChild;p<a.openStart&&!b.type.spec.isolating;p++,b=b.firstChild);for(let b=a.content.lastChild;g<a.openEnd&&!b.type.spec.isolating;g++,b=b.lastChild);a=CT(a,p,g)}return t.someProp("transformPasted",p=>{a=p(a,t)}),a}const az=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function cz(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),r,s=[];if(t.forEach(a=>{if(!s)return;let u=i.findWrapping(a.type),d;if(!u)return s=null;if(d=s.length&&r.length&&D3(u,r,a,s[s.length-1],0))s[s.length-1]=d;else{s.length&&(s[s.length-1]=L3(s[s.length-1],r.length));let h=N3(a,u);s.push(h),i=i.matchType(h.type),r=u}}),s)return J.from(s)}return t}function N3(t,e,n=0){for(let o=e.length-1;o>=n;o--)t=e[o].create(null,J.from(t));return t}function D3(t,e,n,o,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let r=D3(t,e,n,o.lastChild,i+1);if(r)return o.copy(o.content.replaceChild(o.childCount-1,r));if(o.contentMatchAt(o.childCount).matchType(i==t.length-1?n.type:t[i+1]))return o.copy(o.content.append(J.from(N3(n,t,i+1))))}}function L3(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,L3(t.lastChild,e-1)),o=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(n.append(o))}function bw(t,e,n,o,i,r){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(r=0),i<o-1&&(a=bw(a,e,n,o,i+1,r)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,r<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function CT(t,e,n){return e<t.openStart&&(t=new me(bw(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new me(bw(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const B3={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ST=null;function j3(){return ST||(ST=document.implementation.createHTMLDocument("title"))}let $1=null;function uz(t){let e=window.trustedTypes;return e?($1||($1=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),$1.createHTML(t)):t}function dz(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=j3().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t),i;if((i=o&&B3[o[1].toLowerCase()])&&(t=i.map(r=>"<"+r+">").join("")+t+i.map(r=>"</"+r+">").reverse().join("")),n.innerHTML=uz(t),i)for(let r=0;r<i.length;r++)n=n.querySelector(i[r])||n;return n}function fz(t){let e=t.querySelectorAll(zn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let o=e[n];o.childNodes.length==1&&o.textContent==" "&&o.parentNode&&o.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),o)}}function hz(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,o;try{o=JSON.parse(e)}catch{return t}let{content:i,openStart:r,openEnd:s}=t;for(let a=o.length-2;a>=0;a-=2){let u=n.nodes[o[a]];if(!u||u.hasRequiredAttrs())break;i=J.from(u.create(o[a+1],i)),r++,s++}return new me(i,r,s)}const oo={},io={},pz={touchstart:!0,touchmove:!0};class mz{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function gz(t){for(let e in oo){let n=oo[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=o=>{yz(t,o)&&!Jk(t,o)&&(t.editable||!(o.type in io))&&n(t,o)},pz[e]?{passive:!0}:void 0)}no&&t.dom.addEventListener("input",()=>null),yw(t)}function Js(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function bz(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function yw(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=o=>Jk(t,o))})}function Jk(t,e){return t.someProp("handleDOMEvents",n=>{let o=n[e.type];return o?o(t,e)||e.defaultPrevented:!1})}function yz(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function vz(t,e){!Jk(t,e)&&oo[e.type]&&(t.editable||!(e.type in io))&&oo[e.type](t,e)}io.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!I3(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Fr&&zn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Qc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let o=Date.now();t.input.lastIOSEnter=o,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==o&&(t.someProp("handleKeyDown",i=>i(t,Yl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",o=>o(t,n))||lz(t,n)?n.preventDefault():Js(t,"key")};io.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};io.keypress=(t,e)=>{let n=e;if(I3(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||si&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let o=t.state.selection;if(!(o instanceof Me)||!o.$from.sameParent(o.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",r=>r(t,o.$from.pos,o.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function lb(t){return{left:t.clientX,top:t.clientY}}function wz(t,e){let n=e.x-t.clientX,o=e.y-t.clientY;return n*n+o*o<100}function Qk(t,e,n,o,i){if(o==-1)return!1;let r=t.state.doc.resolve(o);for(let s=r.depth+1;s>0;s--)if(t.someProp(e,a=>s>r.depth?a(t,n,r.nodeAfter,r.before(s),i,!0):a(t,n,r.node(s),r.before(s),i,!1)))return!0;return!1}function Vc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let o=t.state.tr.setSelection(e);o.setMeta("pointer",!0),t.dispatch(o)}function kz(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),o=n.nodeAfter;return o&&o.isAtom&&Te.isSelectable(o)?(Vc(t,new Te(n)),!0):!1}function xz(t,e){if(e==-1)return!1;let n=t.state.selection,o,i;n instanceof Te&&(o=n.node);let r=t.state.doc.resolve(e);for(let s=r.depth+1;s>0;s--){let a=s>r.depth?r.nodeAfter:r.node(s);if(Te.isSelectable(a)){o&&n.$from.depth>0&&s>=n.$from.depth&&r.before(n.$from.depth+1)==n.$from.pos?i=r.before(n.$from.depth):i=r.before(s);break}}return i!=null?(Vc(t,Te.create(t.state.doc,i)),!0):!1}function Cz(t,e,n,o,i){return Qk(t,"handleClickOn",e,n,o)||t.someProp("handleClick",r=>r(t,e,o))||(i?xz(t,n):kz(t,n))}function Sz(t,e,n,o){return Qk(t,"handleDoubleClickOn",e,n,o)||t.someProp("handleDoubleClick",i=>i(t,e,o))}function _z(t,e,n,o){return Qk(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",i=>i(t,e,o))||Ez(t,n,o)}function Ez(t,e,n){if(n.button!=0)return!1;let o=t.state.doc;if(e==-1)return o.inlineContent?(Vc(t,Me.create(o,0,o.content.size)),!0):!1;let i=o.resolve(e);for(let r=i.depth+1;r>0;r--){let s=r>i.depth?i.nodeAfter:i.node(r),a=i.before(r);if(s.inlineContent)Vc(t,Me.create(o,a+1,a+1+s.content.size));else if(Te.isSelectable(s))Vc(t,Te.create(o,a));else continue;return!0}}function ex(t){return Hm(t)}const H3=si?"metaKey":"ctrlKey";oo.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let o=ex(t),i=Date.now(),r="singleClick";i-t.input.lastClick.time<500&&wz(n,t.input.lastClick)&&!n[H3]&&(t.input.lastClick.type=="singleClick"?r="doubleClick":t.input.lastClick.type=="doubleClick"&&(r="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:r};let s=t.posAtCoords(lb(n));s&&(r=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Mz(t,s,n,!!o)):(r=="doubleClick"?Sz:_z)(t,s.pos,s.inside,n)?n.preventDefault():Js(t,"pointer"))};class Mz{constructor(e,n,o,i){this.view=e,this.pos=n,this.event=o,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!o[H3],this.allowDefault=o.shiftKey;let r,s;if(n.inside>-1)r=e.state.doc.nodeAt(n.inside),s=n.inside;else{let h=e.state.doc.resolve(n.pos);r=h.parent,s=h.depth?h.before():0}const a=i?null:o.target,u=a?e.docView.nearestDesc(a,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:d}=e.state;(o.button==0&&r.type.spec.draggable&&r.type.spec.selectable!==!1||d instanceof Te&&d.from<=s&&d.to>s)&&(this.mightDrag={node:r,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_i&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Js(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Yr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(lb(e))),this.updateAllowDefault(e),this.allowDefault||!n?Js(this.view,"pointer"):Cz(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||no&&this.mightDrag&&!this.mightDrag.node.isAtom||zn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Vc(this.view,Le.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Js(this.view,"pointer")}move(e){this.updateAllowDefault(e),Js(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}oo.touchstart=t=>{t.input.lastTouch=Date.now(),ex(t),Js(t,"pointer")};oo.touchmove=t=>{t.input.lastTouch=Date.now(),Js(t,"pointer")};oo.contextmenu=t=>ex(t);function I3(t,e){return t.composing?!0:no&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Tz=Fr?5e3:-1;io.compositionstart=io.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Me&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Hm(t,!0),t.markCursor=null;else if(Hm(t,!e.selection.empty),_i&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let o=t.domSelectionRange();for(let i=o.focusNode,r=o.focusOffset;i&&i.nodeType==1&&r!=0;){let s=r<0?i.lastChild:i.childNodes[r-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,r=-1}}t.input.composing=!0}z3(t,Tz)};io.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,z3(t,20))};function z3(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Hm(t),e))}function P3(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Oz());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Az(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=kI(e.focusNode,e.focusOffset),o=xI(e.focusNode,e.focusOffset);if(n&&o&&n!=o){let i=o.pmViewDesc,r=t.domObserver.lastChangedTextNode;if(n==r||o==r)return r;if(!i||!i.isText(o.nodeValue))return o;if(t.input.compositionNode==o){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return o}}return n||o}function Oz(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Hm(t,e=!1){if(!(Fr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),P3(t),e||t.docView&&t.docView.dirty){let n=Yk(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Rz(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const yf=wo&&nl<15||Qc&&MI<604;oo.copy=io.cut=(t,e)=>{let n=e,o=t.state.selection,i=n.type=="cut";if(o.empty)return;let r=yf?null:n.clipboardData,s=o.content(),{dom:a,text:u}=Xk(t,s);r?(n.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",u)):Rz(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Nz(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Dz(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,o=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),o.parentNode&&o.parentNode.removeChild(o),n?vf(t,o.value,null,i,e):vf(t,o.textContent,o.innerHTML,i,e)},50)}function vf(t,e,n,o,i){let r=R3(t,e,n,o,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,r||me.empty)))return!0;if(!r)return!1;let s=Nz(r),a=s?t.state.tr.replaceSelectionWith(s,o):t.state.tr.replaceSelection(r);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function V3(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}io.paste=(t,e)=>{let n=e;if(t.composing&&!Fr)return;let o=yf?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;o&&vf(t,V3(o),o.getData("text/html"),i,n)?n.preventDefault():Dz(t,n)};class $3{constructor(e,n,o){this.slice=e,this.move=n,this.node=o}}const Lz=si?"altKey":"ctrlKey";function U3(t,e){let n=t.someProp("dragCopies",o=>!o(e));return n??!e[Lz]}oo.dragstart=(t,e)=>{let n=e,o=t.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let i=t.state.selection,r=i.empty?null:t.posAtCoords(lb(n)),s;if(!(r&&r.pos>=i.from&&r.pos<=(i instanceof Te?i.to-1:i.to))){if(o&&o.mightDrag)s=Te.create(t.state.doc,o.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(s=Te.create(t.state.doc,p.posBefore))}}let a=(s||t.state.selection).content(),{dom:u,text:d,slice:h}=Xk(t,a);(!n.dataTransfer.files.length||!zn||m3>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(yf?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",yf||n.dataTransfer.setData("text/plain",d),t.dragging=new $3(h,U3(t,n),s)};oo.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};io.dragover=io.dragenter=(t,e)=>e.preventDefault();io.drop=(t,e)=>{let n=e,o=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(lb(n));if(!i)return;let r=t.state.doc.resolve(i.pos),s=o&&o.slice;s?t.someProp("transformPasted",v=>{s=v(s,t)}):s=R3(t,V3(n.dataTransfer),yf?null:n.dataTransfer.getData("text/html"),!1,r);let a=!!(o&&U3(t,n));if(t.someProp("handleDrop",v=>v(t,n,s||me.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?qk(t.state.doc,r.pos,s):r.pos;u==null&&(u=r.pos);let d=t.state.tr;if(a){let{node:v}=o;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(u),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,g=d.doc;if(p?d.replaceRangeWith(h,h,s.content.firstChild):d.replaceRange(h,h,s),d.doc.eq(g))return;let b=d.doc.resolve(h);if(p&&Te.isSelectable(s.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new Te(b));else{let v=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((k,C,_,M)=>v=M),d.setSelection(Wk(t,b,d.doc.resolve(v)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};oo.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Yr(t)},20))};oo.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};oo.beforeinput=(t,e)=>{if(zn&&Fr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:o}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=o||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",r=>r(t,Yl(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in io)oo[t]=io[t];function wf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Im{constructor(e,n){this.toDOM=e,this.spec=n||ca,this.side=this.spec.side||0}map(e,n,o,i){let{pos:r,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new vt(r-o,r-o,this)}valid(){return!0}eq(e){return this==e||e instanceof Im&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&wf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class il{constructor(e,n){this.attrs=e,this.spec=n||ca}map(e,n,o,i){let r=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-o,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-o;return r>=s?null:new vt(r,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof il&&wf(this.attrs,e.attrs)&&wf(this.spec,e.spec)}static is(e){return e.type instanceof il}destroy(){}}class tx{constructor(e,n){this.attrs=e,this.spec=n||ca}map(e,n,o,i){let r=e.mapResult(n.from+i,1);if(r.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=r.pos?null:new vt(r.pos-o,s.pos-o,this)}valid(e,n){let{index:o,offset:i}=e.content.findIndex(n.from),r;return i==n.from&&!(r=e.child(o)).isText&&i+r.nodeSize==n.to}eq(e){return this==e||e instanceof tx&&wf(this.attrs,e.attrs)&&wf(this.spec,e.spec)}destroy(){}}class vt{constructor(e,n,o){this.from=e,this.to=n,this.type=o}copy(e,n){return new vt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,o){return this.type.map(e,this,n,o)}static widget(e,n,o){return new vt(e,e,new Im(n,o))}static inline(e,n,o,i){return new vt(e,n,new il(o,i))}static node(e,n,o,i){return new vt(e,n,new tx(o,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof il}get widget(){return this.type instanceof Im}}const Oc=[],ca={};class it{constructor(e,n){this.local=e.length?e:Oc,this.children=n.length?n:Oc}static create(e,n){return n.length?zm(n,e,0,ca):jn}find(e,n,o){let i=[];return this.findInner(e??0,n??1e9,i,0,o),i}findInner(e,n,o,i,r){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!r||r(a.spec))&&o.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,o,i+a,r)}}map(e,n,o){return this==jn||e.maps.length==0?this:this.mapInner(e,n,0,0,o||ca)}mapInner(e,n,o,i,r){let s;for(let a=0;a<this.local.length;a++){let u=this.local[a].map(e,o,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?Bz(this.children,s||[],e,n,o,i,r):s?new it(s.sort(ua),Oc):jn}add(e,n){return n.length?this==jn?it.create(e,n):this.addInner(e,n,0):this}addInner(e,n,o){let i,r=0;e.forEach((a,u)=>{let d=u+o,h;if(h=q3(n,a,d)){for(i||(i=this.children.slice());r<i.length&&i[r]<u;)r+=3;i[r]==u?i[r+2]=i[r+2].addInner(a,h,d+1):i.splice(r,0,u,u+a.nodeSize,zm(h,a,d+1,ca)),r+=3}});let s=F3(r?G3(n):n,-o);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new it(s.length?this.local.concat(s).sort(ua):this.local,i||this.children)}remove(e){return e.length==0||this==jn?this:this.removeInner(e,0)}removeInner(e,n){let o=this.children,i=this.local;for(let r=0;r<o.length;r+=3){let s,a=o[r]+n,u=o[r+1]+n;for(let h=0,p;h<e.length;h++)(p=e[h])&&p.from>a&&p.to<u&&(e[h]=null,(s||(s=[])).push(p));if(!s)continue;o==this.children&&(o=this.children.slice());let d=o[r+2].removeInner(s,a+1);d!=jn?o[r+2]=d:(o.splice(r,3),r-=3)}if(i.length){for(let r=0,s;r<e.length;r++)if(s=e[r])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return o==this.children&&i==this.local?this:i.length||o.length?new it(i,o):jn}forChild(e,n){if(this==jn)return this;if(n.isLeaf)return it.empty;let o,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(o=this.children[a+2]);break}let r=e+1,s=r+n.content.size;for(let a=0;a<this.local.length;a++){let u=this.local[a];if(u.from<s&&u.to>r&&u.type instanceof il){let d=Math.max(r,u.from)-r,h=Math.min(s,u.to)-r;d<h&&(i||(i=[])).push(u.copy(d,h))}}if(i){let a=new it(i.sort(ua),Oc);return o?new Gs([a,o]):a}return o||jn}eq(e){if(this==e)return!0;if(!(e instanceof it)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return nx(this.localsInner(e))}localsInner(e){if(this==jn)return Oc;if(e.inlineContent||!this.local.some(il.is))return this.local;let n=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof il||n.push(this.local[o]);return n}forEachSet(e){e(this)}}it.empty=new it([],[]);it.removeOverlap=nx;const jn=it.empty;class Gs{constructor(e){this.members=e}map(e,n){const o=this.members.map(i=>i.map(e,n,ca));return Gs.from(o)}forChild(e,n){if(n.isLeaf)return it.empty;let o=[];for(let i=0;i<this.members.length;i++){let r=this.members[i].forChild(e,n);r!=jn&&(r instanceof Gs?o=o.concat(r.members):o.push(r))}return Gs.from(o)}eq(e){if(!(e instanceof Gs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,o=!0;for(let i=0;i<this.members.length;i++){let r=this.members[i].localsInner(e);if(r.length)if(!n)n=r;else{o&&(n=n.slice(),o=!1);for(let s=0;s<r.length;s++)n.push(r[s])}}return n?nx(o?n:n.sort(ua)):Oc}static from(e){switch(e.length){case 0:return jn;case 1:return e[0];default:return new Gs(e.every(n=>n instanceof it)?e:e.reduce((n,o)=>n.concat(o instanceof it?o:o.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Bz(t,e,n,o,i,r,s){let a=t.slice();for(let d=0,h=r;d<n.maps.length;d++){let p=0;n.maps[d].forEach((g,b,v,k)=>{let C=k-v-(b-g);for(let _=0;_<a.length;_+=3){let M=a[_+1];if(M<0||g>M+h-p)continue;let A=a[_]+h-p;b>=A?a[_+1]=g<=A?-2:-1:g>=h&&C&&(a[_]+=C,a[_+1]+=C)}p+=C}),h=n.maps[d].map(h,-1)}let u=!1;for(let d=0;d<a.length;d+=3)if(a[d+1]<0){if(a[d+1]==-2){u=!0,a[d+1]=-1;continue}let h=n.map(t[d]+r),p=h-i;if(p<0||p>=o.content.size){u=!0;continue}let g=n.map(t[d+1]+r,-1),b=g-i,{index:v,offset:k}=o.content.findIndex(p),C=o.maybeChild(v);if(C&&k==p&&k+C.nodeSize==b){let _=a[d+2].mapInner(n,C,h+1,t[d]+r+1,s);_!=jn?(a[d]=p,a[d+1]=b,a[d+2]=_):(a[d+1]=-2,u=!0)}else u=!0}if(u){let d=jz(a,t,e,n,i,r,s),h=zm(d,o,0,s);e=h.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,g=0;p<h.children.length;p+=3){let b=h.children[p];for(;g<a.length&&a[g]<b;)g+=3;a.splice(g,0,h.children[p],h.children[p+1],h.children[p+2])}}return new it(e.sort(ua),a)}function F3(t,e){if(!e||!t.length)return t;let n=[];for(let o=0;o<t.length;o++){let i=t[o];n.push(new vt(i.from+e,i.to+e,i.type))}return n}function jz(t,e,n,o,i,r,s){function a(u,d){for(let h=0;h<u.local.length;h++){let p=u.local[h].map(o,i,d);p?n.push(p):s.onRemove&&s.onRemove(u.local[h].spec)}for(let h=0;h<u.children.length;h+=3)a(u.children[h+2],u.children[h]+d+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&a(t[u+2],e[u]+r+1);return n}function q3(t,e,n){if(e.isLeaf)return null;let o=n+e.nodeSize,i=null;for(let r=0,s;r<t.length;r++)(s=t[r])&&s.from>n&&s.to<o&&((i||(i=[])).push(s),t[r]=null);return i}function G3(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function zm(t,e,n,o){let i=[],r=!1;e.forEach((a,u)=>{let d=q3(t,a,u+n);if(d){r=!0;let h=zm(d,a,n+u+1,o);h!=jn&&i.push(u,u+a.nodeSize,h)}});let s=F3(r?G3(t):t,-n).sort(ua);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(o.onRemove&&o.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new it(s,i):jn}function ua(t,e){return t.from-e.from||t.to-e.to}function nx(t){let e=t;for(let n=0;n<e.length-1;n++){let o=e[n];if(o.from!=o.to)for(let i=n+1;i<e.length;i++){let r=e[i];if(r.from==o.from){r.to!=o.to&&(e==t&&(e=t.slice()),e[i]=r.copy(r.from,o.to),_T(e,i+1,r.copy(o.to,r.to)));continue}else{r.from<o.to&&(e==t&&(e=t.slice()),e[n]=o.copy(o.from,r.from),_T(e,i,o.copy(r.from,o.to)));break}}}return e}function _T(t,e,n){for(;e<t.length&&ua(n,t[e])>0;)e++;t.splice(e,0,n)}function U1(t){let e=[];return t.someProp("decorations",n=>{let o=n(t.state);o&&o!=jn&&e.push(o)}),t.cursorWrapper&&e.push(it.create(t.state.doc,[t.cursorWrapper.deco])),Gs.from(e)}const Hz={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Iz=wo&&nl<=11;class zz{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Pz{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zz,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(o=>{for(let i=0;i<o.length;i++)this.queue.push(o[i]);wo&&nl<=11&&o.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Iz&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Hz)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(bT(this.view)){if(this.suppressingSelectionUpdates)return Yr(this.view);if(wo&&nl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ma(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,o;for(let r=e.focusNode;r;r=Jc(r))n.add(r);for(let r=e.anchorNode;r;r=Jc(r))if(n.has(r)){o=r;break}let i=o&&this.view.docView.nearestDesc(o);if(i&&i.ignoreMutation({type:"selection",target:o.nodeType==3?o.parentNode:o}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let o=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(o)&&bT(e)&&!this.ignoreSelectionChange(o),r=-1,s=-1,a=!1,u=[];if(e.editable)for(let h=0;h<n.length;h++){let p=this.registerMutation(n[h],u);p&&(r=r<0?p.from:Math.min(p.from,r),s=s<0?p.to:Math.max(p.to,s),p.typeOver&&(a=!0))}if(_i&&u.length){let h=u.filter(p=>p.nodeName=="BR");if(h.length==2){let[p,g]=h;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of h){let b=g.parentNode;b&&b.nodeName=="LI"&&(!p||Uz(e,p)!=b)&&g.remove()}}}let d=null;r<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&rb(o)&&(d=Yk(e))&&d.eq(Le.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Yr(e),this.currentSelection.set(o),e.scrollToSelection()):(r>-1||i)&&(r>-1&&(e.docView.markDirty(r,s),Vz(e)),this.handleDOMChange(r,s,a,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(o)||Yr(e),this.currentSelection.set(o))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let o=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(o==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!o||o.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let p=e.addedNodes[h];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(o.contentDOM&&o.contentDOM!=o.dom&&!o.contentDOM.contains(e.target))return{from:o.posBefore,to:o.posAfter};let i=e.previousSibling,r=e.nextSibling;if(wo&&nl<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:p,nextSibling:g}=e.addedNodes[h];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(r=g)}let s=i&&i.parentNode==e.target?An(i)+1:0,a=o.localPosFromDOM(e.target,s,-1),u=r&&r.parentNode==e.target?An(r):e.target.childNodes.length,d=o.localPosFromDOM(e.target,u,1);return{from:a,to:d}}else return e.type=="attributes"?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:(this.lastChangedTextNode=e.target,{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let ET=new WeakMap,MT=!1;function Vz(t){if(!ET.has(t)&&(ET.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=_i,MT)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),MT=!0}}function TT(t,e){let n=e.startContainer,o=e.startOffset,i=e.endContainer,r=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return ma(s.node,s.offset,i,r)&&([n,o,i,r]=[i,r,n,o]),{anchorNode:n,anchorOffset:o,focusNode:i,focusOffset:r}}function $z(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return TT(t,i)}let n;function o(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",o,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",o,!0),n?TT(t,n):null}function Uz(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let o=t.docView.nearestDesc(n,!0);if(o&&o.node.isBlock)return n}return null}function Fz(t,e,n){let{node:o,fromOffset:i,toOffset:r,from:s,to:a}=t.docView.parseRange(e,n),u=t.domSelectionRange(),d,h=u.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(d=[{node:h,offset:u.anchorOffset}],rb(u)||d.push({node:u.focusNode,offset:u.focusOffset})),zn&&t.input.lastKeyCode===8)for(let C=r;C>i;C--){let _=o.childNodes[C-1],M=_.pmViewDesc;if(_.nodeName=="BR"&&!M){r=C;break}if(!M||M.size)break}let p=t.state.doc,g=t.someProp("domParser")||aa.fromSchema(t.state.schema),b=p.resolve(s),v=null,k=g.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:r,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:qz,context:b});if(d&&d[0].pos!=null){let C=d[0].pos,_=d[1]&&d[1].pos;_==null&&(_=C),v={anchor:C+s,head:_+s}}return{doc:k,sel:v,from:s,to:a}}function qz(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(no&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||no&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Gz=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Kz(t,e,n,o,i){let r=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let Z=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,oe=Yk(t,Z);if(oe&&!t.state.selection.eq(oe)){if(zn&&Fr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",he=>he(t,Yl(13,"Enter"))))return;let be=t.state.tr.setSelection(oe);Z=="pointer"?be.setMeta("pointer",!0):Z=="key"&&be.scrollIntoView(),r&&be.setMeta("composition",r),t.dispatch(be)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let u=t.state.selection,d=Fz(t,e,n),h=t.state.doc,p=h.slice(d.from,d.to),g,b;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,b="end"):(g=t.state.selection.from,b="start"),t.input.lastKeyCode=null;let v=Wz(p.content,d.doc.content,d.from,g,b);if(v&&t.input.domChangeCount++,(Qc&&t.input.lastIOSEnter>Date.now()-225||Fr)&&i.some(Z=>Z.nodeType==1&&!Gz.test(Z.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",Z=>Z(t,Yl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(o&&u instanceof Me&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))v={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let Z=AT(t,t.state.doc,d.sel);if(Z&&!Z.eq(t.state.selection)){let oe=t.state.tr.setSelection(Z);r&&oe.setMeta("composition",r),t.dispatch(oe)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof Me&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),wo&&nl<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>d.from&&d.doc.textBetween(v.start-d.from-1,v.start-d.from+1)=="  "&&(v.start--,v.endA--,v.endB--);let k=d.doc.resolveNoCache(v.start-d.from),C=d.doc.resolveNoCache(v.endB-d.from),_=h.resolve(v.start),M=k.sameParent(C)&&k.parent.inlineContent&&_.end()>=v.endA,A;if((Qc&&t.input.lastIOSEnter>Date.now()-225&&(!M||i.some(Z=>Z.nodeName=="DIV"||Z.nodeName=="P"))||!M&&k.pos<d.doc.content.size&&(!k.sameParent(C)||!k.parent.inlineContent)&&(A=Le.findFrom(d.doc.resolve(k.pos+1),1,!0))&&A.head>k.pos)&&t.someProp("handleKeyDown",Z=>Z(t,Yl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&Yz(h,v.start,v.endA,k,C)&&t.someProp("handleKeyDown",Z=>Z(t,Yl(8,"Backspace")))){Fr&&zn&&t.domObserver.suppressSelectionUpdates();return}zn&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),Fr&&!M&&k.start()!=C.start()&&C.parentOffset==0&&k.depth==C.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==v.endA&&(v.endB-=2,C=d.doc.resolveNoCache(v.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(Z){return Z(t,Yl(13,"Enter"))})},20));let O=v.start,R=v.endA,j,z,V;if(M){if(k.pos==C.pos)wo&&nl<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Yr(t),20)),j=t.state.tr.delete(O,R),z=h.resolve(v.start).marksAcross(h.resolve(v.endA));else if(v.endA==v.endB&&(V=Zz(k.parent.content.cut(k.parentOffset,C.parentOffset),_.parent.content.cut(_.parentOffset,v.endA-_.start()))))j=t.state.tr,V.type=="add"?j.addMark(O,R,V.mark):j.removeMark(O,R,V.mark);else if(k.parent.child(k.index()).isText&&k.index()==C.index()-(C.textOffset?0:1)){let Z=k.parent.textBetween(k.parentOffset,C.parentOffset);if(t.someProp("handleTextInput",oe=>oe(t,O,R,Z)))return;j=t.state.tr.insertText(Z,O,R)}}if(j||(j=t.state.tr.replace(O,R,d.doc.slice(v.start-d.from,v.endB-d.from))),d.sel){let Z=AT(t,j.doc,d.sel);Z&&!(zn&&t.composing&&Z.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(Z.head==O||Z.head==j.mapping.map(R)-1)||wo&&Z.empty&&Z.head==O)&&j.setSelection(Z)}z&&j.ensureMarks(z),r&&j.setMeta("composition",r),t.dispatch(j.scrollIntoView())}function AT(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Wk(t,e.resolve(n.anchor),e.resolve(n.head))}function Zz(t,e){let n=t.firstChild.marks,o=e.firstChild.marks,i=n,r=o,s,a,u;for(let h=0;h<o.length;h++)i=o[h].removeFromSet(i);for(let h=0;h<n.length;h++)r=n[h].removeFromSet(r);if(i.length==1&&r.length==0)a=i[0],s="add",u=h=>h.mark(a.addToSet(h.marks));else if(i.length==0&&r.length==1)a=r[0],s="remove",u=h=>h.mark(a.removeFromSet(h.marks));else return null;let d=[];for(let h=0;h<e.childCount;h++)d.push(u(e.child(h)));if(J.from(d).eq(t))return{mark:a,type:s}}function Yz(t,e,n,o,i){if(n-e<=i.pos-o.pos||F1(o,!0,!1)<i.pos)return!1;let r=t.resolve(e);if(!o.parent.isTextblock){let a=r.nodeAfter;return a!=null&&n==e+a.nodeSize}if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let s=t.resolve(F1(r,!0,!0));return!s.parent.isTextblock||s.pos>n||F1(s,!0,!1)<n?!1:o.parent.content.cut(o.parentOffset).eq(s.parent.content)}function F1(t,e,n){let o=t.depth,i=e?t.end():t.pos;for(;o>0&&(e||t.indexAfter(o)==t.node(o).childCount);)o--,i++,e=!1;if(n){let r=t.node(o).maybeChild(t.indexAfter(o));for(;r&&!r.isLeaf;)r=r.firstChild,i++}return i}function Wz(t,e,n,o,i){let r=t.findDiffStart(e,n);if(r==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,r-Math.min(s,a));o-=s+u-r}if(s<r&&t.size<e.size){let u=o<=r&&o>=s?r-o:0;r-=u,r&&r<e.size&&OT(e.textBetween(r-1,r+1))&&(r+=u?1:-1),a=r+(a-s),s=r}else if(a<r){let u=o<=r&&o>=a?r-o:0;r-=u,r&&r<t.size&&OT(t.textBetween(r-1,r+1))&&(r+=u?1:-1),s=r+(s-a),a=r}return{start:r,endA:s,endB:a}}function OT(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class K3{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new mz,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(BT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=DT(this),NT(this),this.nodeViews=LT(this),this.docView=dT(this.state.doc,RT(this),U1(this),this.dom,this),this.domObserver=new Pz(this,(o,i,r,s)=>Kz(this,o,i,r,s)),this.domObserver.start(),gz(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&yw(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(BT),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let o in this._props)n[o]=this._props[o];n.state=this.state;for(let o in e)n[o]=e[o];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var o;let i=this.state,r=!1,s=!1;e.storedMarks&&this.composing&&(P3(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=LT(this);Jz(b,this.nodeViews)&&(this.nodeViews=b,r=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&yw(this),this.editable=DT(this),NT(this);let u=U1(this),d=RT(this),h=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=r||!this.docView.matchesNode(e.doc,d,u);(p||!e.selection.eq(i.selection))&&(s=!0);let g=h=="preserve"&&s&&this.dom.style.overflowAnchor==null&&OI(this);if(s){this.domObserver.stop();let b=p&&(wo||zn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Xz(i.selection,e.selection);if(p){let v=zn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Az(this)),(r||!this.docView.update(e.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=dT(e.doc,d,u,this.dom,this)),v&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ez(this))?Yr(this,b):(T3(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((o=this.dragging)===null||o===void 0)&&o.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():g&&RI(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Te){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&rT(this,n.getBoundingClientRect(),e)}else rT(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let o=this.directPlugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let o=this.state.plugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let o=this.pluginViews[n];o.update&&o.update(this,e)}}updateDraggedNode(e,n){let o=e.node,i=-1;if(this.state.doc.nodeAt(o.from)==o.node)i=o.from;else{let r=o.from+(this.state.doc.content.size-n.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==o.node&&(i=r)}this.dragging=new $3(e.slice,e.move,i<0?void 0:Te.create(this.state.doc,i))}someProp(e,n){let o=this._props&&this._props[e],i;if(o!=null&&(i=n?n(o):o))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let r=this.state.plugins;if(r)for(let s=0;s<r.length;s++){let a=r[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(wo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&NI(this.dom),Yr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return HI(this,e)}coordsAtPos(e,n=1){return w3(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,o=-1){let i=this.docView.posFromDOM(e,n,o);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return $I(this,n||this.state,e)}pasteHTML(e,n){return vf(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return vf(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Xk(this,e)}destroy(){this.docView&&(bz(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],U1(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,vI())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return vz(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?no&&this.root.nodeType===11&&SI(this.dom.ownerDocument)==this.dom&&$z(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function RT(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let o in n)o=="class"?e.class+=" "+n[o]:o=="style"?e.style=(e.style?e.style+";":"")+n[o]:!e[o]&&o!="contenteditable"&&o!="nodeName"&&(e[o]=String(n[o]))}),e.translate||(e.translate="no"),[vt.node(0,t.state.doc.content.size,e)]}function NT(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:vt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function DT(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Xz(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function LT(t){let e=Object.create(null);function n(o){for(let i in o)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=o[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Jz(t,e){let n=0,o=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)o++;return n!=o}function BT(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Qz=typeof navigator<"u"&&/Mac/.test(navigator.platform),eP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var On=0;On<10;On++)sl[48+On]=sl[96+On]=String(On);for(var On=1;On<=24;On++)sl[On+111]="F"+On;for(var On=65;On<=90;On++)sl[On]=String.fromCharCode(On+32),Pm[On]=String.fromCharCode(On);for(var q1 in sl)Pm.hasOwnProperty(q1)||(Pm[q1]=sl[q1]);function tP(t){var e=Qz&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||eP&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Pm:sl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const nP=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function oP(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let o,i,r,s;for(let a=0;a<e.length-1;a++){let u=e[a];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))o=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))r=!0;else if(/^mod$/i.test(u))nP?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return o&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),r&&(n="Shift-"+n),n}function iP(t){let e=Object.create(null);for(let n in t)e[oP(n)]=t[n];return e}function G1(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function rP(t){return new Ke({props:{handleKeyDown:ox(t)}})}function ox(t){let e=iP(t);return function(n,o){let i=tP(o),r,s=e[G1(i,o)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(o.shiftKey){let a=e[G1(i,o,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((o.shiftKey||o.altKey||o.metaKey||i.charCodeAt(0)>127)&&(r=sl[o.keyCode])&&r!=i){let a=e[G1(r,o)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const ix=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Z3(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Y3=(t,e,n)=>{let o=Z3(t,n);if(!o)return!1;let i=rx(o);if(!i){let s=o.blockRange(),a=s&&cu(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let r=i.nodeBefore;if(i4(t,i,e,-1))return!0;if(o.parent.content.size==0&&(eu(r,"end")||Te.isSelectable(r)))for(let s=o.depth;;s--){let a=ob(t.doc,o.before(s),o.after(s),me.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=t.tr.step(a);u.setSelection(eu(r,"end")?Le.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Te.create(u.doc,i.pos-r.nodeSize)),e(u.scrollIntoView())}return!0}if(s==1||o.node(s-1).childCount>1)break}return r.isAtom&&i.depth==o.depth-1?(e&&e(t.tr.delete(i.pos-r.nodeSize,i.pos).scrollIntoView()),!0):!1},sP=(t,e,n)=>{let o=Z3(t,n);if(!o)return!1;let i=rx(o);return i?W3(t,i,e):!1},lP=(t,e,n)=>{let o=J3(t,n);if(!o)return!1;let i=sx(o);return i?W3(t,i,e):!1};function W3(t,e,n){let o=e.nodeBefore,i=o,r=e.pos-1;for(;!i.isTextblock;r--){if(i.type.spec.isolating)return!1;let h=i.lastChild;if(!h)return!1;i=h}let s=e.nodeAfter,a=s,u=e.pos+1;for(;!a.isTextblock;u++){if(a.type.spec.isolating)return!1;let h=a.firstChild;if(!h)return!1;a=h}let d=ob(t.doc,r,u,me.empty);if(!d||d.from!=r||d instanceof hn&&d.slice.size>=u-r)return!1;if(n){let h=t.tr.step(d);h.setSelection(Me.create(h.doc,r)),n(h.scrollIntoView())}return!0}function eu(t,e,n=!1){for(let o=t;o;o=e=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&o.childCount!=1)return!1}return!1}const X3=(t,e,n)=>{let{$head:o,empty:i}=t.selection,r=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;r=rx(o)}let s=r&&r.nodeBefore;return!s||!Te.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Te.create(t.doc,r.pos-s.nodeSize)).scrollIntoView()),!0)};function rx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function J3(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Q3=(t,e,n)=>{let o=J3(t,n);if(!o)return!1;let i=sx(o);if(!i)return!1;let r=i.nodeAfter;if(i4(t,i,e,1))return!0;if(o.parent.content.size==0&&(eu(r,"start")||Te.isSelectable(r))){let s=ob(t.doc,o.before(),o.after(),me.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(eu(r,"start")?Le.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Te.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return r.isAtom&&i.depth==o.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+r.nodeSize).scrollIntoView()),!0):!1},e4=(t,e,n)=>{let{$head:o,empty:i}=t.selection,r=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;r=sx(o)}let s=r&&r.nodeAfter;return!s||!Te.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Te.create(t.doc,r.pos)).scrollIntoView()),!0)};function sx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const aP=(t,e)=>{let n=t.selection,o=n instanceof Te,i;if(o){if(n.node.isTextblock||!Ta(t.doc,n.from))return!1;i=n.from}else if(i=nb(t.doc,n.from,-1),i==null)return!1;if(e){let r=t.tr.join(i);o&&r.setSelection(Te.create(r.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(r.scrollIntoView())}return!0},cP=(t,e)=>{let n=t.selection,o;if(n instanceof Te){if(n.node.isTextblock||!Ta(t.doc,n.to))return!1;o=n.to}else if(o=nb(t.doc,n.to,1),o==null)return!1;return e&&e(t.tr.join(o).scrollIntoView()),!0},uP=(t,e)=>{let{$from:n,$to:o}=t.selection,i=n.blockRange(o),r=i&&cu(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)},t4=(t,e)=>{let{$head:n,$anchor:o}=t.selection;return!n.parent.type.spec.code||!n.sameParent(o)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function lx(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const dP=(t,e)=>{let{$head:n,$anchor:o}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let i=n.node(-1),r=n.indexAfter(-1),s=lx(i.contentMatchAt(r));if(!s||!i.canReplaceWith(r,r,s))return!1;if(e){let a=n.after(),u=t.tr.replaceWith(a,a,s.createAndFill());u.setSelection(Le.near(u.doc.resolve(a),1)),e(u.scrollIntoView())}return!0},n4=(t,e)=>{let n=t.selection,{$from:o,$to:i}=n;if(n instanceof vo||o.parent.inlineContent||i.parent.inlineContent)return!1;let r=lx(i.parent.contentMatchAt(i.indexAfter()));if(!r||!r.isTextblock)return!1;if(e){let s=(!o.parentOffset&&i.index()<i.parent.childCount?o:i).pos,a=t.tr.insert(s,r.createAndFill());a.setSelection(Me.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},o4=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Zr(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}let o=n.blockRange(),i=o&&cu(o);return i==null?!1:(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)};function fP(t){return(e,n)=>{let{$from:o,$to:i}=e.selection;if(e.selection instanceof Te&&e.selection.node.isBlock)return!o.parentOffset||!Zr(e.doc,o.pos)?!1:(n&&n(e.tr.split(o.pos).scrollIntoView()),!0);if(!o.depth)return!1;let r=[],s,a,u=!1,d=!1;for(let b=o.depth;;b--)if(o.node(b).isBlock){u=o.end(b)==o.pos+(o.depth-b),d=o.start(b)==o.pos-(o.depth-b),a=lx(o.node(b-1).contentMatchAt(o.indexAfter(b-1))),r.unshift(u&&a?{type:a}:null),s=b;break}else{if(b==1)return!1;r.unshift(null)}let h=e.tr;(e.selection instanceof Me||e.selection instanceof vo)&&h.deleteSelection();let p=h.mapping.map(o.pos),g=Zr(h.doc,p,r.length,r);if(g||(r[0]=a?{type:a}:null,g=Zr(h.doc,p,r.length,r)),h.split(p,r.length,r),!u&&d&&o.node(s).type!=a){let b=h.mapping.map(o.before(s)),v=h.doc.resolve(b);a&&o.node(s-1).canReplaceWith(v.index(),v.index()+1,a)&&h.setNodeMarkup(h.mapping.map(o.before(s)),a)}return n&&n(h.scrollIntoView()),!0}}const hP=fP(),pP=(t,e)=>{let{$from:n,to:o}=t.selection,i,r=n.sharedDepth(o);return r==0?!1:(i=n.before(r),e&&e(t.tr.setSelection(Te.create(t.doc,i))),!0)};function mP(t,e,n){let o=e.nodeBefore,i=e.nodeAfter,r=e.index();return!o||!i||!o.type.compatibleContent(i.type)?!1:!o.content.size&&e.parent.canReplace(r-1,r)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(r,r+1)||!(i.isTextblock||Ta(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function i4(t,e,n,o){let i=e.nodeBefore,r=e.nodeAfter,s,a,u=i.type.spec.isolating||r.type.spec.isolating;if(!u&&mP(t,e,n))return!0;let d=!u&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(r.type))&&a.matchType(s[0]||r.type).validEnd){if(n){let b=e.pos+r.nodeSize,v=J.empty;for(let _=s.length-1;_>=0;_--)v=J.from(s[_].create(null,v));v=J.from(i.copy(v));let k=t.tr.step(new on(e.pos-1,b,e.pos,b,new me(v,1,0),s.length,!0)),C=k.doc.resolve(b+2*s.length);C.nodeAfter&&C.nodeAfter.type==i.type&&Ta(k.doc,C.pos)&&k.join(C.pos),n(k.scrollIntoView())}return!0}let h=r.type.spec.isolating||o>0&&u?null:Le.findFrom(e,1),p=h&&h.$from.blockRange(h.$to),g=p&&cu(p);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(p,g).scrollIntoView()),!0;if(d&&eu(r,"start",!0)&&eu(i,"end")){let b=i,v=[];for(;v.push(b),!b.isTextblock;)b=b.lastChild;let k=r,C=1;for(;!k.isTextblock;k=k.firstChild)C++;if(b.canReplace(b.childCount,b.childCount,k.content)){if(n){let _=J.empty;for(let A=v.length-1;A>=0;A--)_=J.from(v[A].copy(_));let M=t.tr.step(new on(e.pos-v.length,e.pos+r.nodeSize,e.pos+C,e.pos+r.nodeSize-C,new me(_,v.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function r4(t){return function(e,n){let o=e.selection,i=t<0?o.$from:o.$to,r=i.depth;for(;i.node(r).isInline;){if(!r)return!1;r--}return i.node(r).isTextblock?(n&&n(e.tr.setSelection(Me.create(e.doc,t<0?i.start(r):i.end(r)))),!0):!1}}const gP=r4(-1),bP=r4(1);function yP(t,e=null){return function(n,o){let{$from:i,$to:r}=n.selection,s=i.blockRange(r),a=s&&o3(s,t,e);return a?(o&&o(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function jT(t,e=null){return function(n,o){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[r];n.doc.nodesBetween(s,a,(u,d)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let h=n.doc.resolve(d),p=h.index();i=h.parent.canReplaceWith(p,p+1,t)}})}if(!i)return!1;if(o){let r=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:u}}=n.selection.ranges[s];r.setBlockType(a,u,t,e)}o(r.scrollIntoView())}return!0}}function ax(...t){return function(e,n,o){for(let i=0;i<t.length;i++)if(t[i](e,n,o))return!0;return!1}}ax(ix,Y3,X3);ax(ix,Q3,e4);ax(t4,n4,o4,hP);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function vP(t,e=null){return function(n,o){let{$from:i,$to:r}=n.selection,s=i.blockRange(r);if(!s)return!1;let a=o?n.tr:null;return wP(a,s,t,e)?(o&&o(a.scrollIntoView()),!0):!1}}function wP(t,e,n,o=null){let i=!1,r=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=s.resolve(e.start-2);r=new Dm(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new Dm(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=o3(r,n,o,e);return a?(t&&kP(t,e,a,i,n),!0):!1}function kP(t,e,n,o,i){let r=J.empty;for(let h=n.length-1;h>=0;h--)r=J.from(n[h].type.create(n[h].attrs,r));t.step(new on(e.start-(o?2:0),e.end,e.start,e.end,new me(r,0,0),n.length,!0));let s=0;for(let h=0;h<n.length;h++)n[h].type==i&&(s=h+1);let a=n.length-s,u=e.start+n.length-(o?2:0),d=e.parent;for(let h=e.startIndex,p=e.endIndex,g=!0;h<p;h++,g=!1)!g&&Zr(t.doc,u,a)&&(t.split(u,a),u+=2*a),u+=d.child(h).nodeSize;return t}function xP(t){return function(e,n){let{$from:o,$to:i}=e.selection,r=o.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return r?n?o.node(r.depth-1).type==t?CP(e,n,t,r):SP(e,n,r):!0:!1}}function CP(t,e,n,o){let i=t.tr,r=o.end,s=o.$to.end(o.depth);r<s&&(i.step(new on(r-1,s,r,s,new me(J.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new Dm(i.doc.resolve(o.$from.pos),i.doc.resolve(s),o.depth));const a=cu(o);if(a==null)return!1;i.lift(o,a);let u=i.doc.resolve(i.mapping.map(r,-1)-1);return Ta(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function SP(t,e,n){let o=t.tr,i=n.parent;for(let b=n.end,v=n.endIndex-1,k=n.startIndex;v>k;v--)b-=i.child(v).nodeSize,o.delete(b-1,b+1);let r=o.doc.resolve(n.start),s=r.nodeAfter;if(o.mapping.map(n.end)!=n.start+r.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,u=n.endIndex==i.childCount,d=r.node(-1),h=r.index(-1);if(!d.canReplace(h+(a?0:1),h+1,s.content.append(u?J.empty:J.from(i))))return!1;let p=r.pos,g=p+s.nodeSize;return o.step(new on(p-(a?1:0),g+(u?1:0),p+1,g-1,new me((a?J.empty:J.from(i.copy(J.empty))).append(u?J.empty:J.from(i.copy(J.empty))),a?0:1,u?0:1),a?0:1)),e(o.scrollIntoView()),!0}function _P(t){return function(e,n){let{$from:o,$to:i}=e.selection,r=o.blockRange(i,d=>d.childCount>0&&d.firstChild.type==t);if(!r)return!1;let s=r.startIndex;if(s==0)return!1;let a=r.parent,u=a.child(s-1);if(u.type!=t)return!1;if(n){let d=u.lastChild&&u.lastChild.type==a.type,h=J.from(d?t.create():null),p=new me(J.from(t.create(null,J.from(a.type.create(null,h)))),d?3:1,0),g=r.start,b=r.end;n(e.tr.step(new on(g-(d?3:1),b,g,b,p,1,!0)).scrollIntoView())}return!0}}function ab(t){const{state:e,transaction:n}=t;let{selection:o}=n,{doc:i}=n,{storedMarks:r}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return r},get selection(){return o},get doc(){return i},get tr(){return o=n.selection,i=n.doc,r=n.storedMarks,n}}}class cb{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:o}=this,{view:i}=n,{tr:r}=o,s=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([a,u])=>[a,(...h)=>{const p=u(...h)(s);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(r),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:o,editor:i,state:r}=this,{view:s}=i,a=[],u=!!e,d=e||r.tr,h=()=>(!u&&n&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(d),a.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(o).map(([g,b])=>[g,(...k)=>{const C=this.buildProps(d,n),_=b(...k)(C);return a.push(_),p}])),run:h};return p}createCan(e){const{rawCommands:n,state:o}=this,i=!1,r=e||o.tr,s=this.buildProps(r,i);return{...Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...h)=>d(...h)({...s,dispatch:void 0})])),chain:()=>this.createChain(r,i)}}buildProps(e,n=!0){const{rawCommands:o,editor:i,state:r}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:ab({state:r,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(o).map(([u,d])=>[u,(...h)=>d(...h)(a)]))}};return a}}class EP{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const o=this.callbacks[e];return o&&o.forEach(i=>i.apply(this,n)),this}off(e,n){const o=this.callbacks[e];return o&&(n?this.callbacks[e]=o.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const o=(...i)=>{this.off(e,o),n.apply(this,i)};return this.on(e,o)}removeAllListeners(){this.callbacks={}}}function _e(t,e,n){return t.config[e]===void 0&&t.parent?_e(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?_e(t.parent,e,n):null}):t.config[e]}function ub(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),o=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:o}}function s4(t){const e=[],{nodeExtensions:n,markExtensions:o}=ub(t),i=[...n,...o],r={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},u=_e(s,"addGlobalAttributes",a);if(!u)return;u().forEach(h=>{h.types.forEach(p=>{Object.entries(h.attributes).forEach(([g,b])=>{e.push({type:p,name:g,attribute:{...r,...b}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},u=_e(s,"addAttributes",a);if(!u)return;const d=u();Object.entries(d).forEach(([h,p])=>{const g={...r,...p};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:s.name,name:h,attribute:g})})}),e}function Cn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function $o(...t){return t.filter(e=>!!e).reduce((e,n)=>{const o={...e};return Object.entries(n).forEach(([i,r])=>{if(!o[i]){o[i]=r;return}if(i==="class"){const a=r?String(r).split(" "):[],u=o[i]?o[i].split(" "):[],d=a.filter(h=>!u.includes(h));o[i]=[...u,...d].join(" ")}else if(i==="style"){const a=r?r.split(";").map(h=>h.trim()).filter(Boolean):[],u=o[i]?o[i].split(";").map(h=>h.trim()).filter(Boolean):[],d=new Map;u.forEach(h=>{const[p,g]=h.split(":").map(b=>b.trim());d.set(p,g)}),a.forEach(h=>{const[p,g]=h.split(":").map(b=>b.trim());d.set(p,g)}),o[i]=Array.from(d.entries()).map(([h,p])=>`${h}: ${p}`).join("; ")}else o[i]=r}),o},{})}function Vm(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,o)=>$o(n,o),{})}function l4(t){return typeof t=="function"}function lt(t,e=void 0,...n){return l4(t)?e?t.bind(e)(...n):t(...n):t}function MP(t={}){return Object.keys(t).length===0&&t.constructor===Object}function TP(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function HT(t,e){return"style"in t?t:{...t,getAttrs:n=>{const o=t.getAttrs?t.getAttrs(n):t.attrs;if(o===!1)return!1;const i=e.reduce((r,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):TP(n.getAttribute(s.name));return a==null?r:{...r,[s.name]:a}},{});return{...o,...i}}}}function IT(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&MP(n)?!1:n!=null))}function a4(t,e){var n;const o=s4(t),{nodeExtensions:i,markExtensions:r}=ub(t),s=(n=i.find(d=>_e(d,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(d=>{const h=o.filter(_=>_.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((_,M)=>{const A=_e(M,"extendNodeSchema",p);return{..._,...A?A(d):{}}},{}),b=IT({...g,content:lt(_e(d,"content",p)),marks:lt(_e(d,"marks",p)),group:lt(_e(d,"group",p)),inline:lt(_e(d,"inline",p)),atom:lt(_e(d,"atom",p)),selectable:lt(_e(d,"selectable",p)),draggable:lt(_e(d,"draggable",p)),code:lt(_e(d,"code",p)),whitespace:lt(_e(d,"whitespace",p)),linebreakReplacement:lt(_e(d,"linebreakReplacement",p)),defining:lt(_e(d,"defining",p)),isolating:lt(_e(d,"isolating",p)),attrs:Object.fromEntries(h.map(_=>{var M;return[_.name,{default:(M=_==null?void 0:_.attribute)===null||M===void 0?void 0:M.default}]}))}),v=lt(_e(d,"parseHTML",p));v&&(b.parseDOM=v.map(_=>HT(_,h)));const k=_e(d,"renderHTML",p);k&&(b.toDOM=_=>k({node:_,HTMLAttributes:Vm(_,h)}));const C=_e(d,"renderText",p);return C&&(b.toText=C),[d.name,b]})),u=Object.fromEntries(r.map(d=>{const h=o.filter(C=>C.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((C,_)=>{const M=_e(_,"extendMarkSchema",p);return{...C,...M?M(d):{}}},{}),b=IT({...g,inclusive:lt(_e(d,"inclusive",p)),excludes:lt(_e(d,"excludes",p)),group:lt(_e(d,"group",p)),spanning:lt(_e(d,"spanning",p)),code:lt(_e(d,"code",p)),attrs:Object.fromEntries(h.map(C=>{var _;return[C.name,{default:(_=C==null?void 0:C.attribute)===null||_===void 0?void 0:_.default}]}))}),v=lt(_e(d,"parseHTML",p));v&&(b.parseDOM=v.map(C=>HT(C,h)));const k=_e(d,"renderHTML",p);return k&&(b.toDOM=C=>k({mark:C,HTMLAttributes:Vm(C,h)})),[d.name,b]}));return new YN({topNode:s,nodes:a,marks:u})}function K1(t,e){return e.nodes[t]||e.marks[t]||null}function zT(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function cx(t,e){const n=ls.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const AP=(t,e=500)=>{let n="";const o=t.parentOffset;return t.parent.nodesBetween(Math.max(0,o-e),o,(i,r,s,a)=>{var u,d;const h=((d=(u=i.type.spec).toText)===null||d===void 0?void 0:d.call(u,{node:i,pos:r,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?h:h.slice(0,Math.max(0,o-r))}),n};function ux(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class ll{constructor(e){this.find=e.find,this.handler=e.handler}}const OP=(t,e)=>{if(ux(e))return e.exec(t);const n=e(t);if(!n)return null;const o=[n.text];return o.index=n.index,o.input=t,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o};function Np(t){var e;const{editor:n,from:o,to:i,text:r,rules:s,plugin:a}=t,{view:u}=n;if(u.composing)return!1;const d=u.state.doc.resolve(o);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(g=>g.type.spec.code))return!1;let h=!1;const p=AP(d)+r;return s.forEach(g=>{if(h)return;const b=OP(p,g.find);if(!b)return;const v=u.state.tr,k=ab({state:u.state,transaction:v}),C={from:o-(b[0].length-r.length),to:i},{commands:_,chain:M,can:A}=new cb({editor:n,state:k});g.handler({state:k,range:C,match:b,commands:_,chain:M,can:A})===null||!v.steps.length||(v.setMeta(a,{transform:v,from:o,to:i,text:r}),u.dispatch(v),h=!0)}),h}function RP(t){const{editor:e,rules:n}=t,o=new Ke({state:{init(){return null},apply(i,r,s){const a=i.getMeta(o);if(a)return a;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:h}=u;typeof h=="string"?h=h:h=cx(J.from(h),s.schema);const{from:p}=u,g=p+h.length;Np({editor:e,from:p,to:g,text:h,rules:n,plugin:o})}),i.selectionSet||i.docChanged?null:r}},props:{handleTextInput(i,r,s,a){return Np({editor:e,from:r,to:s,text:a,rules:n,plugin:o})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:r}=i.state.selection;r&&Np({editor:e,from:r.pos,to:r.pos,text:"",rules:n,plugin:o})}),!1)},handleKeyDown(i,r){if(r.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Np({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:o}):!1}},isInputRules:!0});return o}function NP(t){return Object.prototype.toString.call(t).slice(8,-1)}function Dp(t){return NP(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function db(t,e){const n={...t};return Dp(t)&&Dp(e)&&Object.keys(e).forEach(o=>{Dp(e[o])&&Dp(t[o])?n[o]=db(t[o],e[o]):n[o]=e[o]}),n}class So{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=lt(_e(this,"addOptions",{name:this.name}))),this.storage=lt(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new So(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>db(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new So(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=lt(_e(n,"addOptions",{name:n.name})),n.storage=lt(_e(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:o}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const u=s.find(d=>(d==null?void 0:d.type.name)===n.name);return u&&o.removeStoredMark(u),o.insertText(" ",i.pos),e.view.dispatch(o),!0}return!1}}function DP(t){return typeof t=="number"}class LP{constructor(e){this.find=e.find,this.handler=e.handler}}const BP=(t,e,n)=>{if(ux(e))return[...t.matchAll(e)];const o=e(t,n);return o?o.map(i=>{const r=[i.text];return r.index=i.index,r.input=t,r.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(i.replaceWith)),r}):[]};function jP(t){const{editor:e,state:n,from:o,to:i,rule:r,pasteEvent:s,dropEvent:a}=t,{commands:u,chain:d,can:h}=new cb({editor:e,state:n}),p=[];return n.doc.nodesBetween(o,i,(b,v)=>{if(!b.isTextblock||b.type.spec.code)return;const k=Math.max(o,v),C=Math.min(i,v+b.content.size),_=b.textBetween(k-v,C-v,void 0,"￼");BP(_,r.find,s).forEach(A=>{if(A.index===void 0)return;const O=k+A.index+1,R=O+A[0].length,j={from:n.tr.mapping.map(O),to:n.tr.mapping.map(R)},z=r.handler({state:n,range:j,match:A,commands:u,chain:d,can:h,pasteEvent:s,dropEvent:a});p.push(z)})}),p.every(b=>b!==null)}let Lp=null;const HP=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function IP(t){const{editor:e,rules:n}=t;let o=null,i=!1,r=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const u=({state:h,from:p,to:g,rule:b,pasteEvt:v})=>{const k=h.tr,C=ab({state:h,transaction:k});if(!(!jP({editor:e,state:C,from:Math.max(p-1,0),to:g.b-1,rule:b,pasteEvent:v,dropEvent:a})||!k.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(h=>new Ke({view(p){const g=v=>{var k;o=!((k=p.dom.parentElement)===null||k===void 0)&&k.contains(v.target)?p.dom.parentElement:null,o&&(Lp=e)},b=()=>{Lp&&(Lp=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(r=o===p.dom.parentElement,a=g,!r){const b=Lp;b&&setTimeout(()=>{const v=b.state.selection;v&&b.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(p,g)=>{var b;const v=(b=g.clipboardData)===null||b===void 0?void 0:b.getData("text/html");return s=g,i=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(p,g,b)=>{const v=p[0],k=v.getMeta("uiEvent")==="paste"&&!i,C=v.getMeta("uiEvent")==="drop"&&!r,_=v.getMeta("applyPasteRules"),M=!!_;if(!k&&!C&&!M)return;if(M){let{text:R}=_;typeof R=="string"?R=R:R=cx(J.from(R),b.schema);const{from:j}=_,z=j+R.length,V=HP(R);return u({rule:h,state:b,from:j,to:{b:z},pasteEvt:V})}const A=g.doc.content.findDiffStart(b.doc.content),O=g.doc.content.findDiffEnd(b.doc.content);if(!(!DP(A)||!O||A===O.b))return u({rule:h,state:b,from:A,to:O,pasteEvt:s})}}))}function zP(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return Array.from(new Set(e))}class na{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=na.resolve(e),this.schema=a4(this.extensions,n),this.setupExtensions()}static resolve(e){const n=na.sort(na.flatten(e)),o=zP(n.map(i=>i.name));return o.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${o.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const o={name:n.name,options:n.options,storage:n.storage},i=_e(n,"addExtensions",o);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((o,i)=>{const r=_e(o,"priority")||100,s=_e(i,"priority")||100;return r>s?-1:r<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:K1(n.name,this.schema)},i=_e(n,"addCommands",o);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=na.sort([...this.extensions].reverse()),o=[],i=[],r=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:K1(s.name,this.schema)},u=[],d=_e(s,"addKeyboardShortcuts",a);let h={};if(s.type==="mark"&&_e(s,"exitable",a)&&(h.ArrowRight=()=>So.handleExit({editor:e,mark:s})),d){const k=Object.fromEntries(Object.entries(d()).map(([C,_])=>[C,()=>_({editor:e})]));h={...h,...k}}const p=rP(h);u.push(p);const g=_e(s,"addInputRules",a);zT(s,e.options.enableInputRules)&&g&&o.push(...g());const b=_e(s,"addPasteRules",a);zT(s,e.options.enablePasteRules)&&b&&i.push(...b());const v=_e(s,"addProseMirrorPlugins",a);if(v){const k=v();u.push(...k)}return u}).flat();return[RP({editor:e,rules:o}),...IP({editor:e,rules:i}),...r]}get attributes(){return s4(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ub(this.extensions);return Object.fromEntries(n.filter(o=>!!_e(o,"addNodeView")).map(o=>{const i=this.attributes.filter(u=>u.type===o.name),r={name:o.name,options:o.options,storage:o.storage,editor:e,type:Cn(o.name,this.schema)},s=_e(o,"addNodeView",r);if(!s)return[];const a=(u,d,h,p,g)=>{const b=Vm(u,i);return s()({node:u,view:d,getPos:h,decorations:p,innerDecorations:g,editor:e,extension:o,HTMLAttributes:b})};return[o.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const o={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:K1(e.name,this.schema)};e.type==="mark"&&(!((n=lt(_e(e,"keepOnSplit",o)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=_e(e,"onBeforeCreate",o),r=_e(e,"onCreate",o),s=_e(e,"onUpdate",o),a=_e(e,"onSelectionUpdate",o),u=_e(e,"onTransaction",o),d=_e(e,"onFocus",o),h=_e(e,"onBlur",o),p=_e(e,"onDestroy",o);i&&this.editor.on("beforeCreate",i),r&&this.editor.on("create",r),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),u&&this.editor.on("transaction",u),d&&this.editor.on("focus",d),h&&this.editor.on("blur",h),p&&this.editor.on("destroy",p)})}}class Ct{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=lt(_e(this,"addOptions",{name:this.name}))),this.storage=lt(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ct(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>db(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Ct({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=lt(_e(n,"addOptions",{name:n.name})),n.storage=lt(_e(n,"addStorage",{name:n.name,options:n.options})),n}}function c4(t,e,n){const{from:o,to:i}=e,{blockSeparator:r=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(o,i,(u,d,h,p)=>{var g;u.isBlock&&d>o&&(a+=r);const b=s==null?void 0:s[u.type.name];if(b)return h&&(a+=b({node:u,pos:d,parent:h,index:p,range:e})),!1;u.isText&&(a+=(g=u==null?void 0:u.text)===null||g===void 0?void 0:g.slice(Math.max(o,d)-d,i-d))}),a}function u4(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const d4=Ct.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ke({key:new at("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:o,selection:i}=e,{ranges:r}=i,s=Math.min(...r.map(h=>h.$from.pos)),a=Math.max(...r.map(h=>h.$to.pos)),u=u4(n);return c4(o,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),PP=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),VP=(t=!1)=>({commands:e})=>e.setContent("",t),$P=()=>({state:t,tr:e,dispatch:n})=>{const{selection:o}=e,{ranges:i}=o;return n&&i.forEach(({$from:r,$to:s})=>{t.doc.nodesBetween(r.pos,s.pos,(a,u)=>{if(a.type.isText)return;const{doc:d,mapping:h}=e,p=d.resolve(h.map(u)),g=d.resolve(h.map(u+a.nodeSize)),b=p.blockRange(g);if(!b)return;const v=cu(b);if(a.type.isTextblock){const{defaultType:k}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(b.start,k)}(v||v===0)&&e.lift(b,v)})}),!0},UP=t=>e=>t(e),FP=()=>({state:t,dispatch:e})=>n4(t,e),qP=(t,e)=>({editor:n,tr:o})=>{const{state:i}=n,r=i.doc.slice(t.from,t.to);o.deleteRange(t.from,t.to);const s=o.mapping.map(e);return o.insert(s,r.content),o.setSelection(new Me(o.doc.resolve(s-1))),!0},GP=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,o=n.$anchor.node();if(o.content.size>0)return!1;const i=t.selection.$anchor;for(let r=i.depth;r>0;r-=1)if(i.node(r).type===o.type){if(e){const a=i.before(r),u=i.after(r);t.delete(a,u).scrollIntoView()}return!0}return!1},KP=t=>({tr:e,state:n,dispatch:o})=>{const i=Cn(t,n.schema),r=e.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===i){if(o){const u=r.before(s),d=r.after(s);e.delete(u,d).scrollIntoView()}return!0}return!1},ZP=t=>({tr:e,dispatch:n})=>{const{from:o,to:i}=t;return n&&e.delete(o,i),!0},YP=()=>({state:t,dispatch:e})=>ix(t,e),WP=()=>({commands:t})=>t.keyboardShortcut("Enter"),XP=()=>({state:t,dispatch:e})=>dP(t,e);function $m(t,e,n={strict:!0}){const o=Object.keys(e);return o.length?o.every(i=>n.strict?e[i]===t[i]:ux(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function f4(t,e,n={}){return t.find(o=>o.type===e&&$m(Object.fromEntries(Object.keys(n).map(i=>[i,o.attrs[i]])),n))}function PT(t,e,n={}){return!!f4(t,e,n)}function kf(t,e,n){var o;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(h=>h.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(h=>h.type===e)||(n=n||((o=i.node.marks[0])===null||o===void 0?void 0:o.attrs),!f4([...i.node.marks],e,n)))return;let s=i.index,a=t.start()+i.offset,u=s+1,d=a+i.node.nodeSize;for(;s>0&&PT([...t.parent.child(s-1).marks],e,n);)s-=1,a-=t.parent.child(s).nodeSize;for(;u<t.parent.childCount&&PT([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:a,to:d}}function wl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const JP=(t,e={})=>({tr:n,state:o,dispatch:i})=>{const r=wl(t,o.schema),{doc:s,selection:a}=n,{$from:u,from:d,to:h}=a;if(i){const p=kf(u,r,e);if(p&&p.from<=d&&p.to>=h){const g=Me.create(s,p.from,p.to);n.setSelection(g)}}return!0},QP=t=>e=>{const n=typeof t=="function"?t(e):t;for(let o=0;o<n.length;o+=1)if(n[o](e))return!0;return!1};function fb(t){return t instanceof Me}function qr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function h4(t,e=null){if(!e)return null;const n=Le.atStart(t),o=Le.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return o;const i=n.from,r=o.to;return e==="all"?Me.create(t,qr(0,i,r),qr(t.content.size,i,r)):Me.create(t,qr(e,i,r),qr(e,i,r))}function p4(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function hb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const eV=(t=null,e={})=>({editor:n,view:o,tr:i,dispatch:r})=>{e={scrollIntoView:!0,...e};const s=()=>{(hb()||p4())&&o.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(o.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(o.hasFocus()&&t===null||t===!1)return!0;if(r&&t===null&&!fb(n.state.selection))return s(),!0;const a=h4(i.doc,t)||n.state.selection,u=n.state.selection.eq(a);return r&&(u||i.setSelection(a),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},tV=(t,e)=>n=>t.every((o,i)=>e(o,{...n,index:i})),nV=(t,e)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),m4=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const o=e[n];o.nodeType===3&&o.nodeValue&&/^(\n\s\s|\n)$/.test(o.nodeValue)?t.removeChild(o):o.nodeType===1&&m4(o)}return t};function Bp(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return m4(n)}function Um(t,e,n){if(t instanceof Kr||t instanceof J)return t;n={slice:!0,parseOptions:{},...n};const o=typeof t=="object"&&t!==null,i=typeof t=="string";if(o)try{if(Array.isArray(t)&&t.length>0)return J.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Um("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const u=new YN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(s=!0,a=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?aa.fromSchema(u).parseSlice(Bp(t),n.parseOptions):aa.fromSchema(u).parse(Bp(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const r=aa.fromSchema(e);return n.slice?r.parseSlice(Bp(t),n.parseOptions).content:r.parse(Bp(t),n.parseOptions)}return Um("",e,n)}function g4(t,e,n){const o=t.steps.length-1;if(o<e)return;const i=t.steps[o];if(!(i instanceof hn||i instanceof on))return;const r=t.mapping.maps[o];let s=0;r.forEach((a,u,d,h)=>{s===0&&(s=h)}),t.setSelection(Le.near(t.doc.resolve(s),n))}const oV=t=>!("type"in t),iV=(t,e,n)=>({tr:o,dispatch:i,editor:r})=>{var s;if(i){n={parseOptions:r.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=Um(e,r.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:r.options.enableContentCheck})}catch(v){return r.emit("contentError",{editor:r,error:v,disableCollaboration:()=>{r.storage.collaboration&&(r.storage.collaboration.isDisabled=!0)}}),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},h=!0,p=!0;if((oV(a)?a:[a]).forEach(v=>{v.check(),h=h?v.isText&&v.marks.length===0:!1,p=p?v.isBlock:!1}),u===d&&p){const{parent:v}=o.doc.resolve(u);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(u-=1,d+=1)}let b;if(h){if(Array.isArray(e))b=e.map(v=>v.text||"").join("");else if(e instanceof J){let v="";e.forEach(k=>{k.text&&(v+=k.text)}),b=v}else typeof e=="object"&&e&&e.text?b=e.text:b=e;o.insertText(b,u,d)}else b=a,o.replaceWith(u,d,b);n.updateSelection&&g4(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:u,text:b}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:u,text:b})}return!0},rV=()=>({state:t,dispatch:e})=>aP(t,e),sV=()=>({state:t,dispatch:e})=>cP(t,e),lV=()=>({state:t,dispatch:e})=>Y3(t,e),aV=()=>({state:t,dispatch:e})=>Q3(t,e),cV=()=>({state:t,dispatch:e,tr:n})=>{try{const o=nb(t.doc,t.selection.$from.pos,-1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},uV=()=>({state:t,dispatch:e,tr:n})=>{try{const o=nb(t.doc,t.selection.$from.pos,1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},dV=()=>({state:t,dispatch:e})=>sP(t,e),fV=()=>({state:t,dispatch:e})=>lP(t,e);function b4(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function hV(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let o,i,r,s;for(let a=0;a<e.length-1;a+=1){const u=e[a];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))o=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))r=!0;else if(/^mod$/i.test(u))hb()||b4()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return o&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),r&&(n=`Shift-${n}`),n}const pV=t=>({editor:e,view:n,tr:o,dispatch:i})=>{const r=hV(t).split(/-(?!$)/),s=r.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,a))});return u==null||u.steps.forEach(d=>{const h=d.map(o.mapping);h&&i&&o.maybeStep(h)}),!0};function xf(t,e,n={}){const{from:o,to:i,empty:r}=t.selection,s=e?Cn(e,t.schema):null,a=[];t.doc.nodesBetween(o,i,(p,g)=>{if(p.isText)return;const b=Math.max(o,g),v=Math.min(i,g+p.nodeSize);a.push({node:p,from:b,to:v})});const u=i-o,d=a.filter(p=>s?s.name===p.node.type.name:!0).filter(p=>$m(p.node.attrs,n,{strict:!1}));return r?!!d.length:d.reduce((p,g)=>p+g.to-g.from,0)>=u}const mV=(t,e={})=>({state:n,dispatch:o})=>{const i=Cn(t,n.schema);return xf(n,i,e)?uP(n,o):!1},gV=()=>({state:t,dispatch:e})=>o4(t,e),bV=t=>({state:e,dispatch:n})=>{const o=Cn(t,e.schema);return xP(o)(e,n)},yV=()=>({state:t,dispatch:e})=>t4(t,e);function pb(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function VT(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((o,i)=>(n.includes(i)||(o[i]=t[i]),o),{})}const vV=(t,e)=>({tr:n,state:o,dispatch:i})=>{let r=null,s=null;const a=pb(typeof t=="string"?t:t.name,o.schema);return a?(a==="node"&&(r=Cn(t,o.schema)),a==="mark"&&(s=wl(t,o.schema)),i&&n.selection.ranges.forEach(u=>{o.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,h)=>{r&&r===d.type&&n.setNodeMarkup(h,void 0,VT(d.attrs,e)),s&&d.marks.length&&d.marks.forEach(p=>{s===p.type&&n.addMark(h,h+d.nodeSize,s.create(VT(p.attrs,e)))})})}),!0):!1},wV=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),kV=()=>({tr:t,dispatch:e})=>{if(e){const n=new vo(t.doc);t.setSelection(n)}return!0},xV=()=>({state:t,dispatch:e})=>X3(t,e),CV=()=>({state:t,dispatch:e})=>e4(t,e),SV=()=>({state:t,dispatch:e})=>pP(t,e),_V=()=>({state:t,dispatch:e})=>bP(t,e),EV=()=>({state:t,dispatch:e})=>gP(t,e);function Fm(t,e,n={},o={}){return Um(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:o.errorOnInvalidContent})}const MV=(t,e=!1,n={},o={})=>({editor:i,tr:r,dispatch:s,commands:a})=>{var u,d;const{doc:h}=r;if(n.preserveWhitespace!=="full"){const p=Fm(t,i.schema,n,{errorOnInvalidContent:(u=o.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck});return s&&r.replaceWith(0,h.content.size,p).setMeta("preventUpdate",!e),!0}return s&&r.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:h.content.size},t,{parseOptions:n,errorOnInvalidContent:(d=o.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck})};function y4(t,e){const n=wl(e,t.schema),{from:o,to:i,empty:r}=t.selection,s=[];r?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(o,i,u=>{s.push(...u.marks)});const a=s.find(u=>u.type.name===n.name);return a?{...a.attrs}:{}}function v4(t,e){const n=new Gk(t);return e.forEach(o=>{o.steps.forEach(i=>{n.step(i)})}),n}function TV(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function $T(t,e){const n=[];return t.descendants((o,i)=>{e(o)&&n.push({node:o,pos:i})}),n}function w4(t,e,n){const o=[];return t.nodesBetween(e.from,e.to,(i,r)=>{n(i)&&o.push({node:i,pos:r})}),o}function AV(t,e){for(let n=t.depth;n>0;n-=1){const o=t.node(n);if(e(o))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:o}}}function mb(t){return e=>AV(e.$from,t)}function OV(t,e){const n=na.resolve(t);return a4(n,e)}function RV(t,e){const n={from:0,to:t.content.size};return c4(t,n,e)}function NV(t,e){const n=Cn(e,t.schema),{from:o,to:i}=t.selection,r=[];t.doc.nodesBetween(o,i,a=>{r.push(a)});const s=r.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function k4(t,e){const n=pb(typeof e=="string"?e:e.name,t.schema);return n==="node"?NV(t,e):n==="mark"?y4(t,e):{}}function DV(t,e=JSON.stringify){const n={};return t.filter(o=>{const i=e(o);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function LV(t){const e=DV(t);return e.length===1?e:e.filter((n,o)=>!e.filter((r,s)=>s!==o).some(r=>n.oldRange.from>=r.oldRange.from&&n.oldRange.to<=r.oldRange.to&&n.newRange.from>=r.newRange.from&&n.newRange.to<=r.newRange.to))}function x4(t){const{mapping:e,steps:n}=t,o=[];return e.maps.forEach((i,r)=>{const s=[];if(i.ranges.length)i.forEach((a,u)=>{s.push({from:a,to:u})});else{const{from:a,to:u}=n[r];if(a===void 0||u===void 0)return;s.push({from:a,to:u})}s.forEach(({from:a,to:u})=>{const d=e.slice(r).map(a,-1),h=e.slice(r).map(u),p=e.invert().map(d,-1),g=e.invert().map(h);o.push({oldRange:{from:p,to:g},newRange:{from:d,to:h}})})}),LV(o)}function dx(t,e,n){const o=[];return t===e?n.resolve(t).marks().forEach(i=>{const r=n.resolve(t),s=kf(r,i.type);s&&o.push({mark:i,...s})}):n.nodesBetween(t,e,(i,r)=>{!i||(i==null?void 0:i.nodeSize)===void 0||o.push(...i.marks.map(s=>({from:r,to:r+i.nodeSize,mark:s})))}),o}function cm(t,e,n){return Object.fromEntries(Object.entries(n).filter(([o])=>{const i=t.find(r=>r.type===e&&r.name===o);return i?i.attribute.keepOnSplit:!1}))}function vw(t,e,n={}){const{empty:o,ranges:i}=t.selection,r=e?wl(e,t.schema):null;if(o)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>r?r.name===p.type.name:!0).find(p=>$m(p.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:p,$to:g})=>{const b=p.pos,v=g.pos;t.doc.nodesBetween(b,v,(k,C)=>{if(!k.isText&&!k.marks.length)return;const _=Math.max(b,C),M=Math.min(v,C+k.nodeSize),A=M-_;s+=A,a.push(...k.marks.map(O=>({mark:O,from:_,to:M})))})}),s===0)return!1;const u=a.filter(p=>r?r.name===p.mark.type.name:!0).filter(p=>$m(p.mark.attrs,n,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),d=a.filter(p=>r?p.mark.type!==r&&p.mark.type.excludes(r):!0).reduce((p,g)=>p+g.to-g.from,0);return(u>0?u+d:u)>=s}function BV(t,e,n={}){if(!e)return xf(t,null,n)||vw(t,null,n);const o=pb(e,t.schema);return o==="node"?xf(t,e,n):o==="mark"?vw(t,e,n):!1}function UT(t,e){const{nodeExtensions:n}=ub(e),o=n.find(s=>s.name===t);if(!o)return!1;const i={name:o.name,options:o.options,storage:o.storage},r=lt(_e(o,"group",i));return typeof r!="string"?!1:r.split(" ").includes("list")}function fx(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var o;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((o=t.text)!==null&&o!==void 0?o:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(r=>{i!==!1&&(fx(r,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function ww(t){return t instanceof Te}function qm(t,e,n){const i=t.state.doc.content.size,r=qr(e,0,i),s=qr(n,0,i),a=t.coordsAtPos(r),u=t.coordsAtPos(s,-1),d=Math.min(a.top,u.top),h=Math.max(a.bottom,u.bottom),p=Math.min(a.left,u.left),g=Math.max(a.right,u.right),b=g-p,v=h-d,_={top:d,bottom:h,left:p,right:g,width:b,height:v,x:p,y:d};return{..._,toJSON:()=>_}}function jV(t,e,n){var o;const{selection:i}=e;let r=null;if(fb(i)&&(r=i.$cursor),r){const a=(o=t.storedMarks)!==null&&o!==void 0?o:r.marks();return!!n.isInSet(a)||!a.some(u=>u.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:u})=>{let d=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,u.pos,(h,p,g)=>{if(d)return!1;if(h.isInline){const b=!g||g.type.allowsMarkType(n),v=!!n.isInSet(h.marks)||!h.marks.some(k=>k.type.excludes(n));d=b&&v}return!d}),d})}const HV=(t,e={})=>({tr:n,state:o,dispatch:i})=>{const{selection:r}=n,{empty:s,ranges:a}=r,u=wl(t,o.schema);if(i)if(s){const d=y4(o,u);n.addStoredMark(u.create({...d,...e}))}else a.forEach(d=>{const h=d.$from.pos,p=d.$to.pos;o.doc.nodesBetween(h,p,(g,b)=>{const v=Math.max(b,h),k=Math.min(b+g.nodeSize,p);g.marks.find(_=>_.type===u)?g.marks.forEach(_=>{u===_.type&&n.addMark(v,k,u.create({..._.attrs,...e}))}):n.addMark(v,k,u.create(e))})});return jV(o,n,u)},IV=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),zV=(t,e={})=>({state:n,dispatch:o,chain:i})=>{const r=Cn(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),r.isTextblock?i().command(({commands:a})=>jT(r,{...s,...e})(n)?!0:a.clearNodes()).command(({state:a})=>jT(r,{...s,...e})(a,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},PV=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,i=qr(t,0,o.content.size),r=Te.create(o,i);e.setSelection(r)}return!0},VV=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,{from:i,to:r}=typeof t=="number"?{from:t,to:t}:t,s=Me.atStart(o).from,a=Me.atEnd(o).to,u=qr(i,s,a),d=qr(r,s,a),h=Me.create(o,u,d);e.setSelection(h)}return!0},$V=t=>({state:e,dispatch:n})=>{const o=Cn(t,e.schema);return _P(o)(e,n)};function FT(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const o=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(o)}}const UV=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:o,editor:i})=>{const{selection:r,doc:s}=e,{$from:a,$to:u}=r,d=i.extensionManager.attributes,h=cm(d,a.node().type.name,a.node().attrs);if(r instanceof Te&&r.node.isBlock)return!a.parentOffset||!Zr(s,a.pos)?!1:(o&&(t&&FT(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const p=u.parentOffset===u.parent.content.size,g=a.depth===0?void 0:TV(a.node(-1).contentMatchAt(a.indexAfter(-1)));let b=p&&g?[{type:g,attrs:h}]:void 0,v=Zr(e.doc,e.mapping.map(a.pos),1,b);if(!b&&!v&&Zr(e.doc,e.mapping.map(a.pos),1,g?[{type:g}]:void 0)&&(v=!0,b=g?[{type:g,attrs:h}]:void 0),o){if(v&&(r instanceof Me&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,b),g&&!p&&!a.parentOffset&&a.parent.type!==g)){const k=e.mapping.map(a.before()),C=e.doc.resolve(k);a.node(-1).canReplaceWith(C.index(),C.index()+1,g)&&e.setNodeMarkup(e.mapping.map(a.before()),g)}t&&FT(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return v},FV=(t,e={})=>({tr:n,state:o,dispatch:i,editor:r})=>{var s;const a=Cn(t,o.schema),{$from:u,$to:d}=o.selection,h=o.selection.node;if(h&&h.isBlock||u.depth<2||!u.sameParent(d))return!1;const p=u.node(-1);if(p.type!==a)return!1;const g=r.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==a||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let _=J.empty;const M=u.index(-1)?1:u.index(-2)?2:3;for(let V=u.depth-M;V>=u.depth-3;V-=1)_=J.from(u.node(V).copy(_));const A=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,O={...cm(g,u.node().type.name,u.node().attrs),...e},R=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(O))||void 0;_=_.append(J.from(a.createAndFill(null,R)||void 0));const j=u.before(u.depth-(M-1));n.replace(j,u.after(-A),new me(_,4-M,0));let z=-1;n.doc.nodesBetween(j,n.doc.content.size,(V,Z)=>{if(z>-1)return!1;V.isTextblock&&V.content.size===0&&(z=Z+1)}),z>-1&&n.setSelection(Me.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const b=d.pos===u.end()?p.contentMatchAt(0).defaultType:null,v={...cm(g,p.type.name,p.attrs),...e},k={...cm(g,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,d.pos);const C=b?[{type:a,attrs:v},{type:b,attrs:k}]:[{type:a,attrs:v}];if(!Zr(n.doc,u.pos,2))return!1;if(i){const{selection:_,storedMarks:M}=o,{splittableMarks:A}=r.extensionManager,O=M||_.$to.parentOffset&&_.$from.marks();if(n.split(u.pos,2,C).scrollIntoView(),!O||!i)return!0;const R=O.filter(j=>A.includes(j.type.name));n.ensureMarks(R)}return!0},Z1=(t,e)=>{const n=mb(s=>s.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(o===void 0)return!0;const i=t.doc.nodeAt(o);return n.node.type===(i==null?void 0:i.type)&&Ta(t.doc,n.pos)&&t.join(n.pos),!0},Y1=(t,e)=>{const n=mb(s=>s.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(n.start).after(n.depth);if(o===void 0)return!0;const i=t.doc.nodeAt(o);return n.node.type===(i==null?void 0:i.type)&&Ta(t.doc,o)&&t.join(o),!0},qV=(t,e,n,o={})=>({editor:i,tr:r,state:s,dispatch:a,chain:u,commands:d,can:h})=>{const{extensions:p,splittableMarks:g}=i.extensionManager,b=Cn(t,s.schema),v=Cn(e,s.schema),{selection:k,storedMarks:C}=s,{$from:_,$to:M}=k,A=_.blockRange(M),O=C||k.$to.parentOffset&&k.$from.marks();if(!A)return!1;const R=mb(j=>UT(j.type.name,p))(k);if(A.depth>=1&&R&&A.depth-R.depth<=1){if(R.node.type===b)return d.liftListItem(v);if(UT(R.node.type.name,p)&&b.validContent(R.node.content)&&a)return u().command(()=>(r.setNodeMarkup(R.pos,b),!0)).command(()=>Z1(r,b)).command(()=>Y1(r,b)).run()}return!n||!O||!a?u().command(()=>h().wrapInList(b,o)?!0:d.clearNodes()).wrapInList(b,o).command(()=>Z1(r,b)).command(()=>Y1(r,b)).run():u().command(()=>{const j=h().wrapInList(b,o),z=O.filter(V=>g.includes(V.type.name));return r.ensureMarks(z),j?!0:d.clearNodes()}).wrapInList(b,o).command(()=>Z1(r,b)).command(()=>Y1(r,b)).run()},GV=(t,e={},n={})=>({state:o,commands:i})=>{const{extendEmptyMarkRange:r=!1}=n,s=wl(t,o.schema);return vw(o,s,e)?i.unsetMark(s,{extendEmptyMarkRange:r}):i.setMark(s,e)},KV=(t,e,n={})=>({state:o,commands:i})=>{const r=Cn(t,o.schema),s=Cn(e,o.schema),a=xf(o,r,n);let u;return o.selection.$anchor.sameParent(o.selection.$head)&&(u=o.selection.$anchor.parent.attrs),a?i.setNode(s,u):i.setNode(r,{...u,...n})},ZV=(t,e={})=>({state:n,commands:o})=>{const i=Cn(t,n.schema);return xf(n,i,e)?o.lift(i):o.wrapIn(i,e)},YV=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let o=0;o<n.length;o+=1){const i=n[o];let r;if(i.spec.isInputRules&&(r=i.getState(t))){if(e){const s=t.tr,a=r.transform;for(let u=a.steps.length-1;u>=0;u-=1)s.step(a.steps[u].invert(a.docs[u]));if(r.text){const u=s.doc.resolve(r.from).marks();s.replaceWith(r.from,r.to,t.schema.text(r.text,u))}else s.delete(r.from,r.to)}return!0}}return!1},WV=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:o,ranges:i}=n;return o||e&&i.forEach(r=>{t.removeMark(r.$from.pos,r.$to.pos)}),!0},XV=(t,e={})=>({tr:n,state:o,dispatch:i})=>{var r;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,u=wl(t,o.schema),{$from:d,empty:h,ranges:p}=a;if(!i)return!0;if(h&&s){let{from:g,to:b}=a;const v=(r=d.marks().find(C=>C.type===u))===null||r===void 0?void 0:r.attrs,k=kf(d,u,v);k&&(g=k.from,b=k.to),n.removeMark(g,b,u)}else p.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,u)});return n.removeStoredMark(u),!0},JV=(t,e={})=>({tr:n,state:o,dispatch:i})=>{let r=null,s=null;const a=pb(typeof t=="string"?t:t.name,o.schema);return a?(a==="node"&&(r=Cn(t,o.schema)),a==="mark"&&(s=wl(t,o.schema)),i&&n.selection.ranges.forEach(u=>{const d=u.$from.pos,h=u.$to.pos;let p,g,b,v;n.selection.empty?o.doc.nodesBetween(d,h,(k,C)=>{r&&r===k.type&&(b=Math.max(C,d),v=Math.min(C+k.nodeSize,h),p=C,g=k)}):o.doc.nodesBetween(d,h,(k,C)=>{C<d&&r&&r===k.type&&(b=Math.max(C,d),v=Math.min(C+k.nodeSize,h),p=C,g=k),C>=d&&C<=h&&(r&&r===k.type&&n.setNodeMarkup(C,void 0,{...k.attrs,...e}),s&&k.marks.length&&k.marks.forEach(_=>{if(s===_.type){const M=Math.max(C,d),A=Math.min(C+k.nodeSize,h);n.addMark(M,A,s.create({..._.attrs,...e}))}}))}),g&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(k=>{s===k.type&&n.addMark(b,v,s.create({...k.attrs,...e}))}))}),!0):!1},QV=(t,e={})=>({state:n,dispatch:o})=>{const i=Cn(t,n.schema);return yP(i,e)(n,o)},e$=(t,e={})=>({state:n,dispatch:o})=>{const i=Cn(t,n.schema);return vP(i,e)(n,o)};var t$=Object.freeze({__proto__:null,blur:PP,clearContent:VP,clearNodes:$P,command:UP,createParagraphNear:FP,cut:qP,deleteCurrentNode:GP,deleteNode:KP,deleteRange:ZP,deleteSelection:YP,enter:WP,exitCode:XP,extendMarkRange:JP,first:QP,focus:eV,forEach:tV,insertContent:nV,insertContentAt:iV,joinBackward:lV,joinDown:sV,joinForward:aV,joinItemBackward:cV,joinItemForward:uV,joinTextblockBackward:dV,joinTextblockForward:fV,joinUp:rV,keyboardShortcut:pV,lift:mV,liftEmptyBlock:gV,liftListItem:bV,newlineInCode:yV,resetAttributes:vV,scrollIntoView:wV,selectAll:kV,selectNodeBackward:xV,selectNodeForward:CV,selectParentNode:SV,selectTextblockEnd:_V,selectTextblockStart:EV,setContent:MV,setMark:HV,setMeta:IV,setNode:zV,setNodeSelection:PV,setTextSelection:VV,sinkListItem:$V,splitBlock:UV,splitListItem:FV,toggleList:qV,toggleMark:GV,toggleNode:KV,toggleWrap:ZV,undoInputRule:YV,unsetAllMarks:WV,unsetMark:XV,updateAttributes:JV,wrapIn:QV,wrapInList:e$});const C4=Ct.create({name:"commands",addCommands(){return{...t$}}}),S4=Ct.create({name:"drop",addProseMirrorPlugins(){return[new Ke({key:new at("tiptapDrop"),props:{handleDrop:(t,e,n,o)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:o})}}})]}}),_4=Ct.create({name:"editable",addProseMirrorPlugins(){return[new Ke({key:new at("editable"),props:{editable:()=>this.editor.options.editable}})]}}),E4=new at("focusEvents"),M4=Ct.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ke({key:E4,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const o=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1},blur:(e,n)=>{t.isFocused=!1;const o=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1}}}})]}}),T4=Ct.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:u,doc:d}=a,{empty:h,$anchor:p}=u,{pos:g,parent:b}=p,v=p.parent.isTextblock&&g>0?a.doc.resolve(g-1):p,k=v.parent.type.spec.isolating,C=p.pos-p.parentOffset,_=k&&v.parent.childCount===1?C===p.pos:Le.atStart(d).from===g;return!h||!b.type.isTextblock||b.textContent.length||!_||_&&p.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),o={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...o},r={...o,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return hb()||b4()?r:i},addProseMirrorPlugins(){return[new Ke({key:new at("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const o=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),i=t.some(k=>k.getMeta("preventClearDocument"));if(!o||i)return;const{empty:r,from:s,to:a}=e.selection,u=Le.atStart(e.doc).from,d=Le.atEnd(e.doc).to;if(r||!(s===u&&a===d)||!fx(n.doc))return;const g=n.tr,b=ab({state:n,transaction:g}),{commands:v}=new cb({editor:this.editor,state:b});if(v.clearNodes(),!!g.steps.length)return g}})]}}),A4=Ct.create({name:"paste",addProseMirrorPlugins(){return[new Ke({key:new at("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),O4=Ct.create({name:"tabindex",addProseMirrorPlugins(){return[new Ke({key:new at("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var _d=Object.freeze({__proto__:null,ClipboardTextSerializer:d4,Commands:C4,Drop:S4,Editable:_4,FocusEvents:M4,Keymap:T4,Paste:A4,Tabindex:O4,focusEventsPluginKey:E4});class Wl{get name(){return this.node.type.name}constructor(e,n,o=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=o,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,o=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,o=this.to-1}this.editor.commands.insertContentAt({from:n,to:o},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Wl(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Wl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Wl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,o)=>{const i=n.isBlock&&!n.isTextblock,r=n.isAtom&&!n.isText,s=this.pos+o+(r?0:1),a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const u=new Wl(a,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),e.push(new Wl(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let o=null,i=this.parent;for(;i&&!o;){if(i.node.type.name===e)if(Object.keys(n).length>0){const r=i.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const u=s[a];if(r[u]!==n[u])break}}else o=i;i=i.parent}return o}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},o=!1){let i=[];if(!this.children||this.children.length===0)return i;const r=Object.keys(n);return this.children.forEach(s=>{o&&i.length>0||(s.node.type.name===e&&r.every(u=>n[u]===s.node.attrs[u])&&i.push(s),!(o&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,n,o))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const n$=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function o$(t,e,n){const o=document.querySelector("style[data-tiptap-style]");if(o!==null)return o;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class i$ extends EP{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:o,moved:i})=>this.options.onDrop(n,o,i)),this.on("paste",({event:n,slice:o})=>this.options.onPaste(n,o)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=o$(n$,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const o=l4(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:o});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let o=n;if([].concat(e).forEach(r=>{const s=typeof r=="string"?`${r}$`:r.key;o=n.filter(a=>!a.key.startsWith(s))}),n.length===o.length)return;const i=this.state.reconfigure({plugins:o});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[_4,d4.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),C4,M4,T4,O4,S4,A4].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new na(i,this)}createCommandManager(){this.commandManager=new cb({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=Fm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=Fm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const o=h4(n,this.options.autofocus);this.view=new K3(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Ql.create({doc:n,selection:o||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),o=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),o&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),r=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return k4(this.state,e)}isActive(e,n){const o=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return BV(this.state,o,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cx(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:o={}}=e||{};return RV(this.state.doc,{blockSeparator:n,textSerializers:{...u4(this.schema),...o}})}get isEmpty(){return fx(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelector(e,n))||null}$nodes(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Wl(n,this)}get $doc(){return this.$pos(0)}}function tu(t){return new ll({find:t.find,handler:({state:e,range:n,match:o})=>{const i=lt(t.getAttributes,void 0,o);if(i===!1||i===null)return null;const{tr:r}=e,s=o[o.length-1],a=o[0];if(s){const u=a.search(/\S/),d=n.from+a.indexOf(s),h=d+s.length;if(dx(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(k=>k===t.type&&k!==b.mark.type)).filter(b=>b.to>d).length)return null;h<n.to&&r.delete(h,n.to),d>n.from&&r.delete(n.from+u,d);const g=n.from+u+s.length;r.addMark(n.from+u,g,t.type.create(i||{})),r.removeStoredMark(t.type)}}})}let dr=class kw{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=lt(_e(this,"addOptions",{name:this.name}))),this.storage=lt(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new kw(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>db(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new kw(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=lt(_e(n,"addOptions",{name:n.name})),n.storage=lt(_e(n,"addStorage",{name:n.name,options:n.options})),n}};class r${constructor(e,n,o){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...o},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,o,i,r,s,a,u;const{view:d}=this.editor,h=e.target,p=h.nodeType===3?(n=h.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):h.closest("[data-drag-handle]");if(!this.dom||!((o=this.contentDOM)===null||o===void 0)&&o.contains(h)||!p)return;let g=0,b=0;if(this.dom!==p){const M=this.dom.getBoundingClientRect(),A=p.getBoundingClientRect(),O=(i=e.offsetX)!==null&&i!==void 0?i:(r=e.nativeEvent)===null||r===void 0?void 0:r.offsetX,R=(s=e.offsetY)!==null&&s!==void 0?s:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;g=A.x-M.x+O,b=A.y-M.y+R}const v=this.dom.cloneNode(!0);(u=e.dataTransfer)===null||u===void 0||u.setDragImage(v,g,b);const k=this.getPos();if(typeof k!="number")return;const C=Te.create(d.state.doc,k),_=d.state.tr.setSelection(C);d.dispatch(_)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const o=e.target;if(!(this.dom.contains(o)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(o))))return!1;const r=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(o.tagName)||o.isContentEditable)&&!s&&!r)return!0;const{isEditable:u}=this.editor,{isDragging:d}=this,h=!!this.node.type.spec.draggable,p=Te.isSelectable(this.node),g=e.type==="copy",b=e.type==="paste",v=e.type==="cut",k=e.type==="mousedown";if(!h&&p&&r&&e.target===this.dom&&e.preventDefault(),h&&r&&!d&&e.target===this.dom)return e.preventDefault(),!1;if(h&&u&&!d&&k){const C=o.closest("[data-drag-handle]");C&&(this.dom===C||this.dom.contains(C))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(d||s||g||b||v||k&&p)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(hb()||p4())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(o=>o.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const o=this.getPos();return typeof o!="number"?!1:(n.setNodeMarkup(o,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function ba(t){return new LP({find:t.find,handler:({state:e,range:n,match:o,pasteEvent:i})=>{const r=lt(t.getAttributes,void 0,o,i);if(r===!1||r===null)return null;const{tr:s}=e,a=o[o.length-1],u=o[0];let d=n.to;if(a){const h=u.search(/\S/),p=n.from+u.indexOf(a),g=p+a.length;if(dx(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(C=>C===t.type&&C!==v.mark.type)).filter(v=>v.to>p).length)return null;g<n.to&&s.delete(g,n.to),p>n.from&&s.delete(n.from+h,p),d=n.from+h+a.length,s.addMark(n.from+h,d,t.type.create(r||{})),s.removeStoredMark(t.type)}}})}var jp,s$=new Uint8Array(16);function l$(){if(!jp&&(jp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!jp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jp(s$)}const a$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function c$(t){return typeof t=="string"&&a$.test(t)}var Mn=[];for(var W1=0;W1<256;++W1)Mn.push((W1+256).toString(16).substr(1));function u$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Mn[t[e+0]]+Mn[t[e+1]]+Mn[t[e+2]]+Mn[t[e+3]]+"-"+Mn[t[e+4]]+Mn[t[e+5]]+"-"+Mn[t[e+6]]+Mn[t[e+7]]+"-"+Mn[t[e+8]]+Mn[t[e+9]]+"-"+Mn[t[e+10]]+Mn[t[e+11]]+Mn[t[e+12]]+Mn[t[e+13]]+Mn[t[e+14]]+Mn[t[e+15]]).toLowerCase();if(!c$(n))throw TypeError("Stringified UUID is invalid");return n}function R4(t,e,n){t=t||{};var o=t.random||(t.rng||l$)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,u$(o)}var d$=class N4{constructor(e){this.cache=new Map(e)}get(e){return this.cache.get(e)}set(e,n,o){e<0||this.cache.set(e,[n,o])}replace(e,n,o,i){this.remove(e),this.set(n,o,i)}remove(e){this.cache.delete(e)}invalidate(e){const n=new N4(this.cache),o=e.mapping;return this.cache.forEach(([i,r],s)=>{if(s<0)return;const a=o.mapResult(s),u=e.doc.nodeAt(a.pos);if(a.deleted||!(u!=null&&u.eq(i)))n.remove(s);else if(s!==a.pos){const d=r.map(h=>h.map(o,0,0)).filter(h=>h!=null);n.replace(s,a.pos,u,d)}}),n}};function f$({parser:t,nodeTypes:e=["code_block","codeBlock"],languageExtractor:n=o=>o.attrs.language}){const o=new at("prosemirror-highlight");return new Ke({key:o,state:{init(i,r){const s=new d$,[a,u]=qT(r.doc,t,e,n,s);return{cache:s,decorations:a,promises:u}},apply:(i,r)=>{const s=r.cache.invalidate(i),a=!!i.getMeta("prosemirror-highlight-refresh");if(!i.docChanged&&!a){const h=r.decorations.map(i.mapping,i.doc),p=r.promises;return{cache:s,decorations:h,promises:p}}const[u,d]=qT(i.doc,t,e,n,s);return{cache:s,decorations:u,promises:d}}},view:i=>{const r=new Set,s=()=>{if(r.size>0)return;const u=i.state.tr.setMeta("prosemirror-highlight-refresh",!0);i.dispatch(u)},a=()=>{var u;const d=o.getState(i.state);for(const h of(u=d==null?void 0:d.promises)!=null?u:[])r.add(h),h.then(()=>{r.delete(h),s()}).catch(()=>{r.delete(h)})};return a(),{update:()=>{a()}}},props:{decorations(i){var r;return(r=this.getState(i))==null?void 0:r.decorations}}})}function qT(t,e,n,o,i){const r=[],s=[];return t.descendants((a,u)=>{if(!a.type.isTextblock)return!0;if(n.includes(a.type.name)){const d=o(a),h=i.get(u);if(h){const[p,g]=h;r.push(...g)}else{const p=e({content:a.textContent,language:d||void 0,pos:u,size:a.nodeSize});p&&Array.isArray(p)?(i.set(u,a,p),r.push(...p)):p instanceof Promise&&(i.remove(u),s.push(p))}}return!1}),[it.create(t,r),s]}function h$(t,e){return function({content:o,language:i,pos:r,size:s}){var a;const u=[],{tokens:d,fg:h,bg:p,rootStyle:g}=t.codeToTokens(o,{lang:i,theme:t.getLoadedThemes()[0]}),b=g||(h&&p?`--prosemirror-highlight:${h};--prosemirror-highlight-bg:${p}`:"");if(b){const k=vt.node(r,r+s,{style:b});u.push(k)}let v=r+1;for(const k of d){for(const C of k){const _=v+C.content.length,M=vt.inline(v,_,{style:p$((a=C.htmlStyle)!=null?a:`color: ${C.color}`),class:"shiki"});u.push(M),v=_}v+=1}return u}}function p$(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}var xw,Cw;if(typeof WeakMap<"u"){let t=new WeakMap;xw=e=>t.get(e),Cw=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;xw=o=>{for(let i=0;i<t.length;i+=2)if(t[i]==o)return t[i+1]},Cw=(o,i)=>(n==10&&(n=0),t[n++]=o,t[n++]=i)}var Ut=class{constructor(t,e,n,o){this.width=t,this.height=e,this.map=n,this.problems=o}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const o=e%this.width,i=e/this.width|0;let r=o+1,s=i+1;for(let a=1;r<this.width&&this.map[e+a]==n;a++)r++;for(let a=1;s<this.height&&this.map[e+this.width*a]==n;a++)s++;return{left:o,top:i,right:r,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:o,right:i,top:r,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?o==0:i==this.width)?null:this.map[r*this.width+(n<0?o-1:i)]:(n<0?r==0:s==this.height)?null:this.map[o+this.width*(n<0?r-1:s)]}rectBetween(t,e){const{left:n,right:o,top:i,bottom:r}=this.findCell(t),{left:s,right:a,top:u,bottom:d}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(i,u),right:Math.max(o,a),bottom:Math.max(r,d)}}cellsInRect(t){const e=[],n={};for(let o=t.top;o<t.bottom;o++)for(let i=t.left;i<t.right;i++){const r=o*this.width+i,s=this.map[r];n[s]||(n[s]=!0,!(i==t.left&&i&&this.map[r-1]==s||o==t.top&&o&&this.map[r-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let o=0,i=0;;o++){const r=i+n.child(o).nodeSize;if(o==t){let s=e+t*this.width;const a=(t+1)*this.width;for(;s<a&&this.map[s]<i;)s++;return s==a?r-1:this.map[s]}i=r}}static get(t){return xw(t)||Cw(t,m$(t))}};function m$(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=g$(t),n=t.childCount,o=[];let i=0,r=null;const s=[];for(let d=0,h=e*n;d<h;d++)o[d]=0;for(let d=0,h=0;d<n;d++){const p=t.child(d);h++;for(let v=0;;v++){for(;i<o.length&&o[i]!=0;)i++;if(v==p.childCount)break;const k=p.child(v),{colspan:C,rowspan:_,colwidth:M}=k.attrs;for(let A=0;A<_;A++){if(A+d>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:h,n:_-A});break}const O=i+A*e;for(let R=0;R<C;R++){o[O+R]==0?o[O+R]=h:(r||(r=[])).push({type:"collision",row:d,pos:h,n:C-R});const j=M&&M[R];if(j){const z=(O+R)%e*2,V=s[z];V==null||V!=j&&s[z+1]==1?(s[z]=j,s[z+1]=1):V==j&&s[z+1]++}}}i+=C,h+=k.nodeSize}const g=(d+1)*e;let b=0;for(;i<g;)o[i++]==0&&b++;b&&(r||(r=[])).push({type:"missing",row:d,n:b}),h++}(e===0||n===0)&&(r||(r=[])).push({type:"zero_sized"});const a=new Ut(e,n,o,r);let u=!1;for(let d=0;!u&&d<s.length;d+=2)s[d]!=null&&s[d+1]<n&&(u=!0);return u&&b$(a,s,t),a}function g$(t){let e=-1,n=!1;for(let o=0;o<t.childCount;o++){const i=t.child(o);let r=0;if(n)for(let s=0;s<o;s++){const a=t.child(s);for(let u=0;u<a.childCount;u++){const d=a.child(u);s+d.attrs.rowspan>o&&(r+=d.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const a=i.child(s);r+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=r:e!=r&&(e=Math.max(e,r))}return e}function b$(t,e,n){t.problems||(t.problems=[]);const o={};for(let i=0;i<t.map.length;i++){const r=t.map[i];if(o[r])continue;o[r]=!0;const s=n.nodeAt(r);if(!s)throw new RangeError(`No cell with offset ${r} found`);let a=null;const u=s.attrs;for(let d=0;d<u.colspan;d++){const h=(i+d)%t.width,p=e[h*2];p!=null&&(!u.colwidth||u.colwidth[d]!=p)&&((a||(a=y$(u)))[d]=p)}a&&t.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:a})}}function y$(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function qn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const o=t.nodes[n],i=o.spec.tableRole;i&&(e[i]=o)}}return e}var Ks=new at("selectingCells");function uu(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function v$(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function fr(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function hx(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=uu(e.$head)||w$(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function w$(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function Sw(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function k$(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function px(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function D4(t,e,n){const o=t.node(-1),i=Ut.get(o),r=t.start(-1),s=i.nextCell(t.pos-r,e,n);return s==null?null:t.node(0).resolve(r+s)}function ya(t,e,n=1){const o={...t,colspan:t.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(e,n),o.colwidth.some(i=>i>0)||(o.colwidth=null)),o}function L4(t,e,n=1){const o={...t,colspan:t.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let i=0;i<n;i++)o.colwidth.splice(e,0,0)}return o}function x$(t,e,n){const o=qn(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=o)return!1;return!0}var Mt=class Ir extends Le{constructor(e,n=e){const o=e.node(-1),i=Ut.get(o),r=e.start(-1),s=i.rectBetween(e.pos-r,n.pos-r),a=e.node(0),u=i.cellsInRect(s).filter(h=>h!=n.pos-r);u.unshift(n.pos-r);const d=u.map(h=>{const p=o.nodeAt(h);if(!p)throw RangeError(`No cell with offset ${h} found`);const g=r+h+1;return new d3(a.resolve(g),a.resolve(g+p.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=n}map(e,n){const o=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(Sw(o)&&Sw(i)&&px(o,i)){const r=this.$anchorCell.node(-1)!=o.node(-1);return r&&this.isRowSelection()?Ir.rowSelection(o,i):r&&this.isColSelection()?Ir.colSelection(o,i):new Ir(o,i)}return Me.between(o,i)}content(){const e=this.$anchorCell.node(-1),n=Ut.get(e),o=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),r={},s=[];for(let u=i.top;u<i.bottom;u++){const d=[];for(let h=u*n.width+i.left,p=i.left;p<i.right;p++,h++){const g=n.map[h];if(r[g])continue;r[g]=!0;const b=n.findCell(g);let v=e.nodeAt(g);if(!v)throw RangeError(`No cell with offset ${g} found`);const k=i.left-b.left,C=b.right-i.right;if(k>0||C>0){let _=v.attrs;if(k>0&&(_=ya(_,0,k)),C>0&&(_=ya(_,_.colspan-C,C)),b.left<i.left){if(v=v.type.createAndFill(_),!v)throw RangeError(`Could not create cell with attrs ${JSON.stringify(_)}`)}else v=v.type.create(_,v.content)}if(b.top<i.top||b.bottom>i.bottom){const _={...v.attrs,rowspan:Math.min(b.bottom,i.bottom)-Math.max(b.top,i.top)};b.top<i.top?v=v.type.createAndFill(_):v=v.type.create(_,v.content)}d.push(v)}s.push(e.child(u).copy(J.from(d)))}const a=this.isColSelection()&&this.isRowSelection()?e:s;return new me(J.from(a),1,1)}replace(e,n=me.empty){const o=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){const{$from:a,$to:u}=i[s],d=e.mapping.slice(o);e.replace(d.map(a.pos),d.map(u.pos),s?me.empty:n)}const r=Le.findFrom(e.doc.resolve(e.mapping.slice(o).map(this.to)),-1);r&&e.setSelection(r)}replaceWith(e,n){this.replace(e,new me(J.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),o=Ut.get(n),i=this.$anchorCell.start(-1),r=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<r.length;s++)e(n.nodeAt(r[s]),i+r[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const o=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const o=e.node(-1),i=Ut.get(o),r=e.start(-1),s=i.findCell(e.pos-r),a=i.findCell(n.pos-r),u=e.node(0);return s.top<=a.top?(s.top>0&&(e=u.resolve(r+i.map[s.left])),a.bottom<i.height&&(n=u.resolve(r+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=u.resolve(r+i.map[a.left])),s.bottom<i.height&&(e=u.resolve(r+i.map[i.width*(i.height-1)+s.right-1]))),new Ir(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Ut.get(e),o=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-o),r=n.colCount(this.$headCell.pos-o);if(Math.min(i,r)>0)return!1;const s=i+this.$anchorCell.nodeAfter.attrs.colspan,a=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,a)==n.width}eq(e){return e instanceof Ir&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const o=e.node(-1),i=Ut.get(o),r=e.start(-1),s=i.findCell(e.pos-r),a=i.findCell(n.pos-r),u=e.node(0);return s.left<=a.left?(s.left>0&&(e=u.resolve(r+i.map[s.top*i.width])),a.right<i.width&&(n=u.resolve(r+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=u.resolve(r+i.map[a.top*i.width])),s.right<i.width&&(e=u.resolve(r+i.map[i.width*(s.top+1)-1]))),new Ir(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Ir(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){return new Ir(e.resolve(n),e.resolve(o))}getBookmark(){return new C$(this.$anchorCell.pos,this.$headCell.pos)}};Mt.prototype.visible=!1;Le.jsonID("cell",Mt);var C$=class B4{constructor(e,n){this.anchor=e,this.head=n}map(e){return new B4(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),o=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&o.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&o.index()<o.parent.childCount&&px(n,o)?new Mt(n,o):Le.near(o,1)}};function S$(t){if(!(t.selection instanceof Mt))return null;const e=[];return t.selection.forEachCell((n,o)=>{e.push(vt.node(o,o+n.nodeSize,{class:"selectedCell"}))}),it.create(t.doc,e)}function _$({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,o=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let r=e.depth;r>=0&&!(e.before(r+1)>e.start(r));r--,o--);return n==o&&/row|table/.test(t.node(i).type.spec.tableRole)}function E$({$from:t,$to:e}){let n,o;for(let i=t.depth;i>0;i--){const r=t.node(i);if(r.type.spec.tableRole==="cell"||r.type.spec.tableRole==="header_cell"){n=r;break}}for(let i=e.depth;i>0;i--){const r=e.node(i);if(r.type.spec.tableRole==="cell"||r.type.spec.tableRole==="header_cell"){o=r;break}}return n!==o&&e.parentOffset===0}function M$(t,e,n){const o=(e||t).selection,i=(e||t).doc;let r,s;if(o instanceof Te&&(s=o.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")r=Mt.create(i,o.from);else if(s=="row"){const a=i.resolve(o.from+1);r=Mt.rowSelection(a,a)}else if(!n){const a=Ut.get(o.node),u=o.from+1,d=u+a.map[a.width*a.height-1];r=Mt.create(i,u+1,d)}}else o instanceof Me&&_$(o)?r=Me.create(i,o.from):o instanceof Me&&E$(o)&&(r=Me.create(i,o.$from.start(),o.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}var T$=new at("fix-tables");function j4(t,e,n,o){const i=t.childCount,r=e.childCount;e:for(let s=0,a=0;s<r;s++){const u=e.child(s);for(let d=a,h=Math.min(i,s+3);d<h;d++)if(t.child(d)==u){a=d+1,n+=u.nodeSize;continue e}o(u,n),a<i&&t.child(a).sameMarkup(u)?j4(t.child(a),u,n+1,o):u.nodesBetween(0,u.content.size,o,n+1),n+=u.nodeSize}}function A$(t,e){let n;const o=(i,r)=>{i.type.spec.tableRole=="table"&&(n=O$(t,i,r,n))};return e?e.doc!=t.doc&&j4(e.doc,t.doc,0,o):t.doc.descendants(o),n}function O$(t,e,n,o){const i=Ut.get(e);if(!i.problems)return o;o||(o=t.tr);const r=[];for(let u=0;u<i.height;u++)r.push(0);for(let u=0;u<i.problems.length;u++){const d=i.problems[u];if(d.type=="collision"){const h=e.nodeAt(d.pos);if(!h)continue;const p=h.attrs;for(let g=0;g<p.rowspan;g++)r[d.row+g]+=d.n;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,ya(p,p.colspan-d.n,d.n))}else if(d.type=="missing")r[d.row]+=d.n;else if(d.type=="overlong_rowspan"){const h=e.nodeAt(d.pos);if(!h)continue;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,{...h.attrs,rowspan:h.attrs.rowspan-d.n})}else if(d.type=="colwidth mismatch"){const h=e.nodeAt(d.pos);if(!h)continue;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,{...h.attrs,colwidth:d.colwidth})}else if(d.type=="zero_sized"){const h=o.mapping.map(n);o.delete(h,h+e.nodeSize)}}let s,a;for(let u=0;u<r.length;u++)r[u]&&(s==null&&(s=u),a=u);for(let u=0,d=n+1;u<i.height;u++){const h=e.child(u),p=d+h.nodeSize,g=r[u];if(g>0){let b="cell";h.firstChild&&(b=h.firstChild.type.spec.tableRole);const v=[];for(let C=0;C<g;C++){const _=qn(t.schema)[b].createAndFill();_&&v.push(_)}const k=(u==0||s==u-1)&&a==u?d+1:p-1;o.insert(o.mapping.map(k),v)}d=p}return o.setMeta(T$,{fixTables:!0})}function hr(t){const e=t.selection,n=hx(t),o=n.node(-1),i=n.start(-1),r=Ut.get(o);return{...e instanceof Mt?r.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):r.findCell(n.pos-i),tableStart:i,map:r,table:o}}function H4(t,{map:e,tableStart:n,table:o},i){let r=i>0?-1:0;x$(e,o,i+r)&&(r=i==0||i==e.width?null:0);for(let s=0;s<e.height;s++){const a=s*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const u=e.map[a],d=o.nodeAt(u);t.setNodeMarkup(t.mapping.map(n+u),null,L4(d.attrs,i-e.colCount(u))),s+=d.attrs.rowspan-1}else{const u=r==null?qn(o.type.schema).cell:o.nodeAt(e.map[a+r]).type,d=e.positionAt(s,i,o);t.insert(t.mapping.map(n+d),u.createAndFill())}}return t}function R$(t,e){if(!fr(t))return!1;if(e){const n=hr(t);e(H4(t.tr,n,n.left))}return!0}function N$(t,e){if(!fr(t))return!1;if(e){const n=hr(t);e(H4(t.tr,n,n.right))}return!0}function D$(t,{map:e,table:n,tableStart:o},i){const r=t.mapping.maps.length;for(let s=0;s<e.height;){const a=s*e.width+i,u=e.map[a],d=n.nodeAt(u),h=d.attrs;if(i>0&&e.map[a-1]==u||i<e.width-1&&e.map[a+1]==u)t.setNodeMarkup(t.mapping.slice(r).map(o+u),null,ya(h,i-e.colCount(u)));else{const p=t.mapping.slice(r).map(o+u);t.delete(p,p+d.nodeSize)}s+=h.rowspan}}function L$(t,e){if(!fr(t))return!1;if(e){const n=hr(t),o=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;D$(o,n,i),i!=n.left;i--){const r=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!r)throw RangeError("No table found");n.table=r,n.map=Ut.get(r)}e(o)}return!0}function B$(t,e,n){var o;const i=qn(e.type.schema).header_cell;for(let r=0;r<t.width;r++)if(((o=e.nodeAt(t.map[r+n*t.width]))==null?void 0:o.type)!=i)return!1;return!0}function I4(t,{map:e,tableStart:n,table:o},i){var r;let s=n;for(let d=0;d<i;d++)s+=o.child(d).nodeSize;const a=[];let u=i>0?-1:0;B$(e,o,i+u)&&(u=i==0||i==e.height?null:0);for(let d=0,h=e.width*i;d<e.width;d++,h++)if(i>0&&i<e.height&&e.map[h]==e.map[h-e.width]){const p=e.map[h],g=o.nodeAt(p).attrs;t.setNodeMarkup(n+p,null,{...g,rowspan:g.rowspan+1}),d+=g.colspan-1}else{const p=u==null?qn(o.type.schema).cell:(r=o.nodeAt(e.map[h+u*e.width]))==null?void 0:r.type,g=p==null?void 0:p.createAndFill();g&&a.push(g)}return t.insert(s,qn(o.type.schema).row.create(null,a)),t}function j$(t,e){if(!fr(t))return!1;if(e){const n=hr(t);e(I4(t.tr,n,n.top))}return!0}function H$(t,e){if(!fr(t))return!1;if(e){const n=hr(t);e(I4(t.tr,n,n.bottom))}return!0}function I$(t,{map:e,table:n,tableStart:o},i){let r=0;for(let d=0;d<i;d++)r+=n.child(d).nodeSize;const s=r+n.child(i).nodeSize,a=t.mapping.maps.length;t.delete(r+o,s+o);const u=new Set;for(let d=0,h=i*e.width;d<e.width;d++,h++){const p=e.map[h];if(!u.has(p)){if(u.add(p),i>0&&p==e.map[h-e.width]){const g=n.nodeAt(p).attrs;t.setNodeMarkup(t.mapping.slice(a).map(p+o),null,{...g,rowspan:g.rowspan-1}),d+=g.colspan-1}else if(i<e.height&&p==e.map[h+e.width]){const g=n.nodeAt(p),b=g.attrs,v=g.type.create({...b,rowspan:g.attrs.rowspan-1},g.content),k=e.positionAt(i+1,d,n);t.insert(t.mapping.slice(a).map(o+k),v),d+=b.colspan-1}}}}function z$(t,e){if(!fr(t))return!1;if(e){const n=hr(t),o=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;I$(o,n,i),i!=n.top;i--){const r=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!r)throw RangeError("No table found");n.table=r,n.map=Ut.get(n.table)}e(o)}return!0}function GT(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function P$({width:t,height:e,map:n},o){let i=o.top*t+o.left,r=i,s=(o.bottom-1)*t+o.left,a=i+(o.right-o.left-1);for(let u=o.top;u<o.bottom;u++){if(o.left>0&&n[r]==n[r-1]||o.right<t&&n[a]==n[a+1])return!0;r+=t,a+=t}for(let u=o.left;u<o.right;u++){if(o.top>0&&n[i]==n[i-t]||o.bottom<e&&n[s]==n[s+t])return!0;i++,s++}return!1}function V$(t,e){const n=t.selection;if(!(n instanceof Mt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const o=hr(t),{map:i}=o;if(P$(i,o))return!1;if(e){const r=t.tr,s={};let a=J.empty,u,d;for(let h=o.top;h<o.bottom;h++)for(let p=o.left;p<o.right;p++){const g=i.map[h*i.width+p],b=o.table.nodeAt(g);if(!(s[g]||!b))if(s[g]=!0,u==null)u=g,d=b;else{GT(b)||(a=a.append(b.content));const v=r.mapping.map(g+o.tableStart);r.delete(v,v+b.nodeSize)}}if(u==null||d==null)return!0;if(r.setNodeMarkup(u+o.tableStart,null,{...L4(d.attrs,d.attrs.colspan,o.right-o.left-d.attrs.colspan),rowspan:o.bottom-o.top}),a.size){const h=u+1+d.content.size,p=GT(d)?u+1:h;r.replaceWith(p+o.tableStart,h+o.tableStart,a)}r.setSelection(new Mt(r.doc.resolve(u+o.tableStart))),e(r)}return!0}function $$(t,e){const n=qn(t.schema);return U$(({node:o})=>n[o.type.spec.tableRole])(t,e)}function U$(t){return(e,n)=>{var o;const i=e.selection;let r,s;if(i instanceof Mt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,s=i.$anchorCell.pos}else{if(r=v$(i.$from),!r)return!1;s=(o=uu(i.$from))==null?void 0:o.pos}if(r==null||s==null||r.attrs.colspan==1&&r.attrs.rowspan==1)return!1;if(n){let a=r.attrs;const u=[],d=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const h=hr(e),p=e.tr;for(let b=0;b<h.right-h.left;b++)u.push(d?{...a,colwidth:d&&d[b]?[d[b]]:null}:a);let g;for(let b=h.top;b<h.bottom;b++){let v=h.map.positionAt(b,h.left,h.table);b==h.top&&(v+=r.nodeSize);for(let k=h.left,C=0;k<h.right;k++,C++)k==h.left&&b==h.top||p.insert(g=p.mapping.map(v+h.tableStart,1),t({node:r,row:b,col:k}).createAndFill(u[C]))}p.setNodeMarkup(s,t({node:r,row:h.top,col:h.left}),u[0]),i instanceof Mt&&p.setSelection(new Mt(p.doc.resolve(i.$anchorCell.pos),g?p.doc.resolve(g):void 0)),n(p)}return!0}}function F$(t){return function(e,n){if(!fr(e))return!1;if(n){const o=qn(e.schema),i=hr(e),r=e.tr,s=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=s.map(u=>i.table.nodeAt(u));for(let u=0;u<s.length;u++)a[u].type==o.header_cell&&r.setNodeMarkup(i.tableStart+s[u],o.cell,a[u].attrs);if(r.steps.length==0)for(let u=0;u<s.length;u++)r.setNodeMarkup(i.tableStart+s[u],o.header_cell,a[u].attrs);n(r)}return!0}}function KT(t,e,n){const o=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<o.length;i++){const r=e.table.nodeAt(o[i]);if(r&&r.type!==n.header_cell)return!1}return!0}function mx(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?F$(t):function(n,o){if(!fr(n))return!1;if(o){const i=qn(n.schema),r=hr(n),s=n.tr,a=KT("row",r,i),u=KT("column",r,i),h=(t==="column"?a:t==="row"?u:!1)?1:0,p=t=="column"?{left:0,top:h,right:1,bottom:r.map.height}:t=="row"?{left:h,top:0,right:r.map.width,bottom:1}:r,g=t=="column"?u?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;r.map.cellsInRect(p).forEach(b=>{const v=b+r.tableStart,k=s.doc.nodeAt(v);k&&s.setNodeMarkup(v,g,k.attrs)}),o(s)}return!0}}mx("row",{useDeprecatedLogic:!0});mx("column",{useDeprecatedLogic:!0});mx("cell",{useDeprecatedLogic:!0});function q$(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let o=t.index(-1)-1,i=t.before();o>=0;o--){const r=t.node(-1).child(o),s=r.lastChild;if(s)return i-1-s.nodeSize;i-=r.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let o=t.indexAfter(-1),i=t.after();o<n.childCount;o++){const r=n.child(o);if(r.childCount)return i+1;i+=r.nodeSize}}return null}function ZT(t){return function(e,n){if(!fr(e))return!1;const o=q$(hx(e),t);if(o==null)return!1;if(n){const i=e.doc.resolve(o);n(e.tr.setSelection(Me.between(i,k$(i))).scrollIntoView())}return!0}}function Hp(t,e){const n=t.selection;if(!(n instanceof Mt))return!1;if(e){const o=t.tr,i=qn(t.schema).cell.createAndFill().content;n.forEachCell((r,s)=>{r.content.eq(i)||o.replace(o.mapping.map(s+1),o.mapping.map(s+r.nodeSize-1),new me(i,0,0))}),o.docChanged&&e(o)}return!0}function G$(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:o}=t;for(;e.childCount==1&&(n>0&&o>0||e.child(0).type.spec.tableRole=="table");)n--,o--,e=e.child(0).content;const i=e.child(0),r=i.type.spec.tableRole,s=i.type.schema,a=[];if(r=="row")for(let u=0;u<e.childCount;u++){let d=e.child(u).content;const h=u?0:Math.max(0,n-1),p=u<e.childCount-1?0:Math.max(0,o-1);(h||p)&&(d=_w(qn(s).row,new me(d,h,p)).content),a.push(d)}else if(r=="cell"||r=="header_cell")a.push(n||o?_w(qn(s).row,new me(e,n,o)).content:e);else return null;return K$(s,a)}function K$(t,e){const n=[];for(let i=0;i<e.length;i++){const r=e[i];for(let s=r.childCount-1;s>=0;s--){const{rowspan:a,colspan:u}=r.child(s).attrs;for(let d=i;d<i+a;d++)n[d]=(n[d]||0)+u}}let o=0;for(let i=0;i<n.length;i++)o=Math.max(o,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(J.empty),n[i]<o){const r=qn(t).cell.createAndFill(),s=[];for(let a=n[i];a<o;a++)s.push(r);e[i]=e[i].append(J.from(s))}return{height:e.length,width:o,rows:e}}function _w(t,e){const n=t.createAndFill();return new Gk(n).replace(0,n.content.size,e).doc}function Z$({width:t,height:e,rows:n},o,i){if(t!=o){const r=[],s=[];for(let a=0;a<n.length;a++){const u=n[a],d=[];for(let h=r[a]||0,p=0;h<o;p++){let g=u.child(p%u.childCount);h+g.attrs.colspan>o&&(g=g.type.createChecked(ya(g.attrs,g.attrs.colspan,h+g.attrs.colspan-o),g.content)),d.push(g),h+=g.attrs.colspan;for(let b=1;b<g.attrs.rowspan;b++)r[a+b]=(r[a+b]||0)+g.attrs.colspan}s.push(J.from(d))}n=s,t=o}if(e!=i){const r=[];for(let s=0,a=0;s<i;s++,a++){const u=[],d=n[a%e];for(let h=0;h<d.childCount;h++){let p=d.child(h);s+p.attrs.rowspan>i&&(p=p.type.create({...p.attrs,rowspan:Math.max(1,i-p.attrs.rowspan)},p.content)),u.push(p)}r.push(J.from(u))}n=r,e=i}return{width:t,height:e,rows:n}}function Y$(t,e,n,o,i,r,s){const a=t.doc.type.schema,u=qn(a);let d,h;if(i>e.width)for(let p=0,g=0;p<e.height;p++){const b=n.child(p);g+=b.nodeSize;const v=[];let k;b.lastChild==null||b.lastChild.type==u.cell?k=d||(d=u.cell.createAndFill()):k=h||(h=u.header_cell.createAndFill());for(let C=e.width;C<i;C++)v.push(k);t.insert(t.mapping.slice(s).map(g-1+o),v)}if(r>e.height){const p=[];for(let v=0,k=(e.height-1)*e.width;v<Math.max(e.width,i);v++){const C=v>=e.width?!1:n.nodeAt(e.map[k+v]).type==u.header_cell;p.push(C?h||(h=u.header_cell.createAndFill()):d||(d=u.cell.createAndFill()))}const g=u.row.create(null,J.from(p)),b=[];for(let v=e.height;v<r;v++)b.push(g);t.insert(t.mapping.slice(s).map(o+n.nodeSize-2),b)}return!!(d||h)}function YT(t,e,n,o,i,r,s,a){if(s==0||s==e.height)return!1;let u=!1;for(let d=i;d<r;d++){const h=s*e.width+d,p=e.map[h];if(e.map[h-e.width]==p){u=!0;const g=n.nodeAt(p),{top:b,left:v}=e.findCell(p);t.setNodeMarkup(t.mapping.slice(a).map(p+o),null,{...g.attrs,rowspan:s-b}),t.insert(t.mapping.slice(a).map(e.positionAt(s,v,n)),g.type.createAndFill({...g.attrs,rowspan:b+g.attrs.rowspan-s})),d+=g.attrs.colspan-1}}return u}function WT(t,e,n,o,i,r,s,a){if(s==0||s==e.width)return!1;let u=!1;for(let d=i;d<r;d++){const h=d*e.width+s,p=e.map[h];if(e.map[h-1]==p){u=!0;const g=n.nodeAt(p),b=e.colCount(p),v=t.mapping.slice(a).map(p+o);t.setNodeMarkup(v,null,ya(g.attrs,s-b,g.attrs.colspan-(s-b))),t.insert(v+g.nodeSize,g.type.createAndFill(ya(g.attrs,0,s-b))),d+=g.attrs.rowspan-1}}return u}function XT(t,e,n,o,i){let r=n?t.doc.nodeAt(n-1):t.doc;if(!r)throw new Error("No table found");let s=Ut.get(r);const{top:a,left:u}=o,d=u+i.width,h=a+i.height,p=t.tr;let g=0;function b(){if(r=n?p.doc.nodeAt(n-1):p.doc,!r)throw new Error("No table found");s=Ut.get(r),g=p.mapping.maps.length}Y$(p,s,r,n,d,h,g)&&b(),YT(p,s,r,n,u,d,a,g)&&b(),YT(p,s,r,n,u,d,h,g)&&b(),WT(p,s,r,n,a,h,u,g)&&b(),WT(p,s,r,n,a,h,d,g)&&b();for(let v=a;v<h;v++){const k=s.positionAt(v,u,r),C=s.positionAt(v,d,r);p.replace(p.mapping.slice(g).map(k+n),p.mapping.slice(g).map(C+n),new me(i.rows[v-a],0,0))}b(),p.setSelection(new Mt(p.doc.resolve(n+s.positionAt(a,u,r)),p.doc.resolve(n+s.positionAt(h-1,d-1,r)))),e(p)}var W$=ox({ArrowLeft:Ip("horiz",-1),ArrowRight:Ip("horiz",1),ArrowUp:Ip("vert",-1),ArrowDown:Ip("vert",1),"Shift-ArrowLeft":zp("horiz",-1),"Shift-ArrowRight":zp("horiz",1),"Shift-ArrowUp":zp("vert",-1),"Shift-ArrowDown":zp("vert",1),Backspace:Hp,"Mod-Backspace":Hp,Delete:Hp,"Mod-Delete":Hp});function um(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Ip(t,e){return(n,o,i)=>{if(!i)return!1;const r=n.selection;if(r instanceof Mt)return um(n,o,Le.near(r.$headCell,e));if(t!="horiz"&&!r.empty)return!1;const s=z4(i,t,e);if(s==null)return!1;if(t=="horiz")return um(n,o,Le.near(n.doc.resolve(r.head+e),e));{const a=n.doc.resolve(s),u=D4(a,t,e);let d;return u?d=Le.near(u,1):e<0?d=Le.near(n.doc.resolve(a.before(-1)),-1):d=Le.near(n.doc.resolve(a.after(-1)),1),um(n,o,d)}}}function zp(t,e){return(n,o,i)=>{if(!i)return!1;const r=n.selection;let s;if(r instanceof Mt)s=r;else{const u=z4(i,t,e);if(u==null)return!1;s=new Mt(n.doc.resolve(u))}const a=D4(s.$headCell,t,e);return a?um(n,o,new Mt(s.$anchorCell,a)):!1}}function X$(t,e){const n=t.state.doc,o=uu(n.resolve(e));return o?(t.dispatch(t.state.tr.setSelection(new Mt(o))),!0):!1}function J$(t,e,n){if(!fr(t.state))return!1;let o=G$(n);const i=t.state.selection;if(i instanceof Mt){o||(o={width:1,height:1,rows:[J.from(_w(qn(t.state.schema).cell,n))]});const r=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),a=Ut.get(r).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return o=Z$(o,a.right-a.left,a.bottom-a.top),XT(t.state,t.dispatch,s,a,o),!0}else if(o){const r=hx(t.state),s=r.start(-1);return XT(t.state,t.dispatch,s,Ut.get(r.node(-1)).findCell(r.pos-s),o),!0}else return!1}function Q$(t,e){var n;if(e.ctrlKey||e.metaKey)return;const o=JT(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof Mt)r(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&o&&(i=uu(t.state.selection.$anchor))!=null&&((n=X1(t,e))==null?void 0:n.pos)!=i.pos)r(i,e),e.preventDefault();else if(!o)return;function r(u,d){let h=X1(t,d);const p=Ks.getState(t.state)==null;if(!h||!px(u,h))if(p)h=u;else return;const g=new Mt(u,h);if(p||!t.state.selection.eq(g)){const b=t.state.tr.setSelection(g);p&&b.setMeta(Ks,u.pos),t.dispatch(b)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",a),Ks.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Ks,-1))}function a(u){const d=u,h=Ks.getState(t.state);let p;if(h!=null)p=t.state.doc.resolve(h);else if(JT(t,d.target)!=o&&(p=X1(t,e),!p))return s();p&&r(p,d)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",a)}function z4(t,e,n){if(!(t.state.selection instanceof Me))return null;const{$head:o}=t.state.selection;for(let i=o.depth-1;i>=0;i--){const r=o.node(i);if((n<0?o.index(i):o.indexAfter(i))!=(n<0?0:r.childCount))return null;if(r.type.spec.tableRole=="cell"||r.type.spec.tableRole=="header_cell"){const a=o.before(i),u=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?a:null}}return null}function JT(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function X1(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?uu(t.state.doc.resolve(n.pos)):null}var P4=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ew(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,Ew(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function Ew(t,e,n,o,i,r){var s;let a=0,u=!0,d=e.firstChild;const h=t.firstChild;if(h){for(let p=0,g=0;p<h.childCount;p++){const{colspan:b,colwidth:v}=h.child(p).attrs;for(let k=0;k<b;k++,g++){const C=i==g?r:v&&v[k],_=C?C+"px":"";if(a+=C||o,C||(u=!1),d)d.style.width!=_&&(d.style.width=_),d=d.nextSibling;else{const M=document.createElement("col");M.style.width=_,e.appendChild(M)}}}for(;d;){const p=d.nextSibling;(s=d.parentNode)==null||s.removeChild(d),d=p}u?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var Po=new at("tableColumnResizing");function eU({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:o=P4,lastColumnResizable:i=!0}={}){const r=new Ke({key:Po,state:{init(s,a){var u,d;const h=(d=(u=r.spec)==null?void 0:u.props)==null?void 0:d.nodeViews,p=qn(a.schema).table.name;return o&&h&&(h[p]=(g,b)=>new o(g,n,b)),new tU(-1,!1)},apply(s,a){return a.apply(s)}},props:{attributes:s=>{const a=Po.getState(s);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,a)=>{nU(s,a,t,i)},mouseleave:s=>{oU(s)},mousedown:(s,a)=>{iU(s,a,e,n)}},decorations:s=>{const a=Po.getState(s);if(a&&a.activeHandle>-1)return cU(s,a.activeHandle)},nodeViews:{}}});return r}var tU=class dm{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,o=e.getMeta(Po);if(o&&o.setHandle!=null)return new dm(o.setHandle,!1);if(o&&o.setDragging!==void 0)return new dm(n.activeHandle,o.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return Sw(e.doc.resolve(i))||(i=-1),new dm(i,n.dragging)}return n}};function nU(t,e,n,o){if(!t.editable)return;const i=Po.getState(t.state);if(i&&!i.dragging){const r=sU(e.target);let s=-1;if(r){const{left:a,right:u}=r.getBoundingClientRect();e.clientX-a<=n?s=QT(t,e,"left",n):u-e.clientX<=n&&(s=QT(t,e,"right",n))}if(s!=i.activeHandle){if(!o&&s!==-1){const a=t.state.doc.resolve(s),u=a.node(-1),d=Ut.get(u),h=a.start(-1);if(d.colCount(a.pos-h)+a.nodeAfter.attrs.colspan-1==d.width-1)return}V4(t,s)}}}function oU(t){if(!t.editable)return;const e=Po.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&V4(t,-1)}function iU(t,e,n,o){var i;if(!t.editable)return!1;const r=(i=t.dom.ownerDocument.defaultView)!=null?i:window,s=Po.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const a=t.state.doc.nodeAt(s.activeHandle),u=rU(t,s.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(Po,{setDragging:{startX:e.clientX,startWidth:u}}));function d(p){r.removeEventListener("mouseup",d),r.removeEventListener("mousemove",h);const g=Po.getState(t.state);g!=null&&g.dragging&&(lU(t,g.activeHandle,eA(g.dragging,p,n)),t.dispatch(t.state.tr.setMeta(Po,{setDragging:null})))}function h(p){if(!p.which)return d(p);const g=Po.getState(t.state);if(g&&g.dragging){const b=eA(g.dragging,p,n);tA(t,g.activeHandle,b,o)}}return tA(t,s.activeHandle,u,o),r.addEventListener("mouseup",d),r.addEventListener("mousemove",h),e.preventDefault(),!0}function rU(t,e,{colspan:n,colwidth:o}){const i=o&&o[o.length-1];if(i)return i;const r=t.domAtPos(e);let a=r.node.childNodes[r.offset].offsetWidth,u=n;if(o)for(let d=0;d<n;d++)o[d]&&(a-=o[d],u--);return a/u}function sU(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function QT(t,e,n,o){const i=n=="right"?-o:o,r=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!r)return-1;const{pos:s}=r,a=uu(t.state.doc.resolve(s));if(!a)return-1;if(n=="right")return a.pos;const u=Ut.get(a.node(-1)),d=a.start(-1),h=u.map.indexOf(a.pos-d);return h%u.width==0?-1:d+u.map[h-1]}function eA(t,e,n){const o=e.clientX-t.startX;return Math.max(n,t.startWidth+o)}function V4(t,e){t.dispatch(t.state.tr.setMeta(Po,{setHandle:e}))}function lU(t,e,n){const o=t.state.doc.resolve(e),i=o.node(-1),r=Ut.get(i),s=o.start(-1),a=r.colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,u=t.state.tr;for(let d=0;d<r.height;d++){const h=d*r.width+a;if(d&&r.map[h]==r.map[h-r.width])continue;const p=r.map[h],g=i.nodeAt(p).attrs,b=g.colspan==1?0:a-r.colCount(p);if(g.colwidth&&g.colwidth[b]==n)continue;const v=g.colwidth?g.colwidth.slice():aU(g.colspan);v[b]=n,u.setNodeMarkup(s+p,null,{...g,colwidth:v})}u.docChanged&&t.dispatch(u)}function tA(t,e,n,o){const i=t.state.doc.resolve(e),r=i.node(-1),s=i.start(-1),a=Ut.get(r).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let u=t.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&Ew(r,u.firstChild,u,o,a,n)}function aU(t){return Array(t).fill(0)}function cU(t,e){var n;const o=[],i=t.doc.resolve(e),r=i.node(-1);if(!r)return it.empty;const s=Ut.get(r),a=i.start(-1),u=s.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let d=0;d<s.height;d++){const h=u+d*s.width;if((u==s.width-1||s.map[h]!=s.map[h+1])&&(d==0||s.map[h]!=s.map[h-s.width])){const p=s.map[h],g=a+p+r.nodeAt(p).nodeSize-1,b=document.createElement("div");b.className="column-resize-handle",(n=Po.getState(t))!=null&&n.dragging&&o.push(vt.node(a+p,a+p+r.nodeAt(p).nodeSize,{class:"column-resize-dragging"})),o.push(vt.widget(g,b))}}return it.create(t.doc,o)}function uU({allowTableNodeSelection:t=!1}={}){return new Ke({key:Ks,state:{init(){return null},apply(e,n){const o=e.getMeta(Ks);if(o!=null)return o==-1?null:o;if(n==null||!e.docChanged)return n;const{deleted:i,pos:r}=e.mapping.mapResult(n);return i?null:r}},props:{decorations:S$,handleDOMEvents:{mousedown:Q$},createSelectionBetween(e){return Ks.getState(e.state)!=null?e.state.selection:null},handleTripleClick:X$,handleKeyDown:W$,handlePaste:J$},appendTransaction(e,n,o){return M$(o,A$(o,n),t)}})}const dU=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,fU=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,hU=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,pU=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,mU=So.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",$o(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[tu({find:dU,type:this.type}),tu({find:hU,type:this.type})]},addPasteRules(){return[ba({find:fU,type:this.type}),ba({find:pU,type:this.type})]}}),gU=/(^|[^`])`([^`]+)`(?!`)/,bU=/(^|[^`])`([^`]+)`(?!`)/g,yU=So.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",$o(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[tu({find:gU,type:this.type})]},addPasteRules(){return[ba({find:bU,type:this.type})]}}),vU=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,wU=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,kU=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,xU=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,CU=So.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",$o(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[tu({find:vU,type:this.type}),tu({find:kU,type:this.type})]},addPasteRules(){return[ba({find:wU,type:this.type}),ba({find:xU,type:this.type})]}}),SU=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,_U=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,EU=So.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",$o(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[tu({find:SU,type:this.type})]},addPasteRules(){return[ba({find:_U,type:this.type})]}}),MU=So.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",$o(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),TU=dr.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",$o(this.options.HTMLAttributes,t),0]}}),AU=dr.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",$o(this.options.HTMLAttributes,t),0]}}),OU=dr.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",$o(this.options.HTMLAttributes,t),0]}});class Wt extends Le{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return Wt.valid(o)?new Wt(o):Le.near(o)}content(){return me.empty}eq(e){return e instanceof Wt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Wt(e.resolve(n.pos))}getBookmark(){return new gx(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!RU(e)||!NU(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&Wt.valid(e))return e;let i=e.pos,r=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){r=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let u=e.doc.resolve(i);if(Wt.valid(u))return u}for(;;){let s=n>0?r.firstChild:r.lastChild;if(!s){if(r.isAtom&&!r.isText&&!Te.isSelectable(r)){e=e.doc.resolve(i+r.nodeSize*n),o=!1;continue e}break}r=s,i+=n;let a=e.doc.resolve(i);if(Wt.valid(a))return a}return null}}}Wt.prototype.visible=!1;Wt.findFrom=Wt.findGapCursorFrom;Le.jsonID("gapcursor",Wt);class gx{constructor(e){this.pos=e}map(e){return new gx(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Wt.valid(n)?new Wt(n):Le.near(n)}}function RU(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let i=o.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function NU(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let i=o.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function DU(){return new Ke({props:{decorations:HU,createSelectionBetween(t,e,n){return e.pos==n.pos&&Wt.valid(n)?new Wt(n):null},handleClick:BU,handleKeyDown:LU,handleDOMEvents:{beforeinput:jU}}})}const LU=ox({ArrowLeft:Pp("horiz",-1),ArrowRight:Pp("horiz",1),ArrowUp:Pp("vert",-1),ArrowDown:Pp("vert",1)});function Pp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,i,r){let s=o.selection,a=e>0?s.$to:s.$from,u=s.empty;if(s instanceof Me){if(!r.endOfTextblock(n)||a.depth==0)return!1;u=!1,a=o.doc.resolve(e>0?a.after():a.before())}let d=Wt.findGapCursorFrom(a,e,u);return d?(i&&i(o.tr.setSelection(new Wt(d))),!0):!1}}function BU(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!Wt.valid(o))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Te.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Wt(o))),!0)}function jU(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Wt))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let i=J.empty;for(let s=o.length-1;s>=0;s--)i=J.from(o[s].createAndFill(null,i));let r=t.state.tr.replace(n.pos,n.pos,new me(i,0,0));return r.setSelection(Me.near(r.doc.resolve(n.pos+1))),t.dispatch(r),!1}function HU(t){if(!(t.selection instanceof Wt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",it.create(t.doc,[vt.widget(t.selection.head,e,{key:"gapcursor"})])}const IU=Ct.create({name:"gapCursor",addProseMirrorPlugins(){return[DU()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=lt(_e(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var Gm=200,kn=function(){};kn.prototype.append=function(e){return e.length?(e=kn.from(e),!this.length&&e||e.length<Gm&&this.leafAppend(e)||this.length<Gm&&e.leafPrepend(this)||this.appendInner(e)):this};kn.prototype.prepend=function(e){return e.length?kn.from(e).append(this):this};kn.prototype.appendInner=function(e){return new zU(this,e)};kn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?kn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};kn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};kn.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)};kn.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var i=[];return this.forEach(function(r,s){return i.push(e(r,s))},n,o),i};kn.from=function(e){return e instanceof kn?e:e&&e.length?new $4(e):kn.empty};var $4=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,r){return i==0&&r==this.length?this:new e(this.values.slice(i,r))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,r,s,a){for(var u=r;u<s;u++)if(i(this.values[u],a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,s,a){for(var u=r-1;u>=s;u--)if(i(this.values[u],a+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Gm)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Gm)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(kn);kn.empty=new $4([]);var zU=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,i,r,s){var a=this.left.length;if(i<a&&this.left.forEachInner(o,i,Math.min(r,a),s)===!1||r>a&&this.right.forEachInner(o,Math.max(i-a,0),Math.min(this.length,r)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,r,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(o,i-a,Math.max(r,a)-a,s+a)===!1||r<a&&this.left.forEachInvertedInner(o,Math.min(i,a),r,s)===!1)return!1},e.prototype.sliceInner=function(o,i){if(o==0&&i==this.length)return this;var r=this.left.length;return i<=r?this.left.slice(o,i):o>=r?this.right.slice(o-r,i-r):this.left.slice(o,r).append(this.right.slice(0,i-r))},e.prototype.leafAppend=function(o){var i=this.right.leafAppend(o);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(o){var i=this.left.leafPrepend(o);if(i)return new e(i,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(kn);const PU=500;class yi{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let i,r;n&&(i=this.remapping(o,this.items.length),r=i.maps.length);let s=e.tr,a,u,d=[],h=[];return this.items.forEach((p,g)=>{if(!p.step){i||(i=this.remapping(o,g+1),r=i.maps.length),r--,h.push(p);return}if(i){h.push(new Hs(p.map));let b=p.step.map(i.slice(r)),v;b&&s.maybeStep(b).doc&&(v=s.mapping.maps[s.mapping.maps.length-1],d.push(new Hs(v,void 0,void 0,d.length+h.length))),r--,v&&i.appendMap(v,r)}else s.maybeStep(p.step);if(p.selection)return a=i?p.selection.map(i.slice(r)):p.selection,u=new yi(this.items.slice(0,o).append(h.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:a}}addTransform(e,n,o,i){let r=[],s=this.eventCount,a=this.items,u=!i&&a.length?a.get(a.length-1):null;for(let h=0;h<e.steps.length;h++){let p=e.steps[h].invert(e.docs[h]),g=new Hs(e.mapping.maps[h],p,n),b;(b=u&&u.merge(g))&&(g=b,h?r.pop():a=a.slice(0,a.length-1)),r.push(g),n&&(s++,n=void 0),i||(u=g)}let d=s-o.depth;return d>$U&&(a=VU(a,d),s-=d),new yi(a.append(r),s)}remapping(e,n){let o=new Yc;return this.items.forEach((i,r)=>{let s=i.mirrorOffset!=null&&r-i.mirrorOffset>=e?o.maps.length-i.mirrorOffset:void 0;o.appendMap(i.map,s)},e,n),o}addMaps(e){return this.eventCount==0?this:new yi(this.items.append(e.map(n=>new Hs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],i=Math.max(0,this.items.length-n),r=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(g=>{g.selection&&a--},i);let u=n;this.items.forEach(g=>{let b=r.getMirror(--u);if(b==null)return;s=Math.min(s,b);let v=r.maps[b];if(g.step){let k=e.steps[b].invert(e.docs[b]),C=g.selection&&g.selection.map(r.slice(u+1,b));C&&a++,o.push(new Hs(v,k,C))}else o.push(new Hs(v))},i);let d=[];for(let g=n;g<s;g++)d.push(new Hs(r.maps[g]));let h=this.items.slice(0,i).append(d).append(o),p=new yi(h,a);return p.emptyItemCount()>PU&&(p=p.compress(this.items.length-o.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,i=[],r=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&r++;else if(s.step){let u=s.step.map(n.slice(o)),d=u&&u.getMap();if(o--,d&&n.appendMap(d,o),u){let h=s.selection&&s.selection.map(n.slice(o));h&&r++;let p=new Hs(d.invert(),u,h),g,b=i.length-1;(g=i.length&&i[b].merge(p))?i[b]=g:i.push(p)}}else s.map&&o--},this.items.length,0),new yi(kn.from(i.reverse()),r)}}yi.empty=new yi(kn.empty,0);function VU(t,e){let n;return t.forEach((o,i)=>{if(o.selection&&e--==0)return n=i,!1}),t.slice(n)}let Hs=class U4{constructor(e,n,o,i){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new U4(n.getMap().invert(),n,this.selection)}}};class Us{constructor(e,n,o,i,r){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=i,this.prevComposition=r}}const $U=20;function UU(t,e,n,o){let i=n.getMeta(da),r;if(i)return i.historyState;n.getMeta(GU)&&(t=new Us(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(da))return s.getMeta(da).redo?new Us(t.done.addTransform(n,void 0,o,fm(e)),t.undone,nA(n.mapping.maps),t.prevTime,t.prevComposition):new Us(t.done,t.undone.addTransform(n,void 0,o,fm(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),u=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-o.newGroupDelay||!FU(n,t.prevRanges)),d=s?J1(t.prevRanges,n.mapping):nA(n.mapping.maps);return new Us(t.done.addTransform(n,u?e.selection.getBookmark():void 0,o,fm(e)),yi.empty,d,n.time,a??t.prevComposition)}else return(r=n.getMeta("rebased"))?new Us(t.done.rebased(n,r),t.undone.rebased(n,r),J1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Us(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),J1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function FU(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,i)=>{for(let r=0;r<e.length;r+=2)o<=e[r+1]&&i>=e[r]&&(n=!0)}),n}function nA(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,i,r,s)=>e.push(r,s));return e}function J1(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let i=e.map(t[o],1),r=e.map(t[o+1],-1);i<=r&&n.push(i,r)}return n}function qU(t,e,n){let o=fm(e),i=da.get(e).spec.config,r=(n?t.undone:t.done).popEvent(e,o);if(!r)return null;let s=r.selection.resolve(r.transform.doc),a=(n?t.done:t.undone).addTransform(r.transform,e.selection.getBookmark(),i,o),u=new Us(n?a:r.remaining,n?r.remaining:a,null,0,-1);return r.transform.setSelection(s).setMeta(da,{redo:n,historyState:u})}let Q1=!1,oA=null;function fm(t){let e=t.plugins;if(oA!=e){Q1=!1,oA=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Q1=!0;break}}return Q1}const da=new at("history"),GU=new at("closeHistory");function KU(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ke({key:da,state:{init(){return new Us(yi.empty,yi.empty,null,0,-1)},apply(e,n,o){return UU(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,i=o=="historyUndo"?q4:o=="historyRedo"?G4:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function F4(t,e){return(n,o)=>{let i=da.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(o){let r=qU(i,n,t);r&&o(e?r.scrollIntoView():r)}return!0}}const q4=F4(!1,!0),G4=F4(!0,!0),ZU=Ct.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>q4(t,e),redo:()=>({state:t,dispatch:e})=>G4(t,e)}},addProseMirrorPlugins(){return[KU(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),YU="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",WU="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",nu=(t,e)=>{for(const n in e)t[n]=e[n];return t},Mw="numeric",Tw="ascii",Aw="alpha",Xd="asciinumeric",jd="alphanumeric",Ow="domain",K4="emoji",XU="scheme",JU="slashscheme",ev="whitespace";function QU(t,e){return t in e||(e[t]=[]),e[t]}function oa(t,e,n){e[Mw]&&(e[Xd]=!0,e[jd]=!0),e[Tw]&&(e[Xd]=!0,e[Aw]=!0),e[Xd]&&(e[jd]=!0),e[Aw]&&(e[jd]=!0),e[jd]&&(e[Ow]=!0),e[K4]&&(e[Ow]=!0);for(const o in e){const i=QU(o,n);i.indexOf(t)<0&&i.push(t)}}function eF(t,e){const n={};for(const o in e)e[o].indexOf(t)>=0&&(n[o]=!0);return n}function bo(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}bo.groups={};bo.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let o=0;o<e.jr.length;o++){const i=e.jr[o][0],r=e.jr[o][1];if(r&&i.test(t))return r}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,o){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,o)},tr(t,e,n,o){o=o||bo.groups;let i;return e&&e.j?i=e:(i=new bo(e),n&&o&&oa(e,n,o)),this.jr.push([t,i]),i},ts(t,e,n,o){let i=this;const r=t.length;if(!r)return i;for(let s=0;s<r-1;s++)i=i.tt(t[s]);return i.tt(t[r-1],e,n,o)},tt(t,e,n,o){o=o||bo.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const r=e;let s,a=i.go(t);if(a?(s=new bo,nu(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new bo,r){if(o)if(s.t&&typeof s.t=="string"){const u=nu(eF(s.t,o),n);oa(r,u,o)}else n&&oa(r,n,o);s.t=r}return i.j[t]=s,s}};const tt=(t,e,n,o,i)=>t.ta(e,n,o,i),Yt=(t,e,n,o,i)=>t.tr(e,n,o,i),iA=(t,e,n,o,i)=>t.ts(e,n,o,i),fe=(t,e,n,o,i)=>t.tt(e,n,o,i),zr="WORD",Rw="UWORD",Z4="ASCIINUMERICAL",Y4="ALPHANUMERICAL",Cf="LOCALHOST",Nw="TLD",Dw="UTLD",hm="SCHEME",Rc="SLASH_SCHEME",bx="NUM",Lw="WS",yx="NL",Jd="OPENBRACE",Qd="CLOSEBRACE",Km="OPENBRACKET",Zm="CLOSEBRACKET",Ym="OPENPAREN",Wm="CLOSEPAREN",Xm="OPENANGLEBRACKET",Jm="CLOSEANGLEBRACKET",Qm="FULLWIDTHLEFTPAREN",eg="FULLWIDTHRIGHTPAREN",tg="LEFTCORNERBRACKET",ng="RIGHTCORNERBRACKET",og="LEFTWHITECORNERBRACKET",ig="RIGHTWHITECORNERBRACKET",rg="FULLWIDTHLESSTHAN",sg="FULLWIDTHGREATERTHAN",lg="AMPERSAND",vx="APOSTROPHE",ag="ASTERISK",Fs="AT",cg="BACKSLASH",ug="BACKTICK",dg="CARET",Zs="COLON",wx="COMMA",fg="DOLLAR",Fi="DOT",hg="EQUALS",kx="EXCLAMATION",oi="HYPHEN",ef="PERCENT",pg="PIPE",mg="PLUS",gg="POUND",tf="QUERY",xx="QUOTE",W4="FULLWIDTHMIDDLEDOT",Cx="SEMI",qi="SLASH",nf="TILDE",bg="UNDERSCORE",X4="EMOJI",yg="SYM";var J4=Object.freeze({__proto__:null,WORD:zr,UWORD:Rw,ASCIINUMERICAL:Z4,ALPHANUMERICAL:Y4,LOCALHOST:Cf,TLD:Nw,UTLD:Dw,SCHEME:hm,SLASH_SCHEME:Rc,NUM:bx,WS:Lw,NL:yx,OPENBRACE:Jd,CLOSEBRACE:Qd,OPENBRACKET:Km,CLOSEBRACKET:Zm,OPENPAREN:Ym,CLOSEPAREN:Wm,OPENANGLEBRACKET:Xm,CLOSEANGLEBRACKET:Jm,FULLWIDTHLEFTPAREN:Qm,FULLWIDTHRIGHTPAREN:eg,LEFTCORNERBRACKET:tg,RIGHTCORNERBRACKET:ng,LEFTWHITECORNERBRACKET:og,RIGHTWHITECORNERBRACKET:ig,FULLWIDTHLESSTHAN:rg,FULLWIDTHGREATERTHAN:sg,AMPERSAND:lg,APOSTROPHE:vx,ASTERISK:ag,AT:Fs,BACKSLASH:cg,BACKTICK:ug,CARET:dg,COLON:Zs,COMMA:wx,DOLLAR:fg,DOT:Fi,EQUALS:hg,EXCLAMATION:kx,HYPHEN:oi,PERCENT:ef,PIPE:pg,PLUS:mg,POUND:gg,QUERY:tf,QUOTE:xx,FULLWIDTHMIDDLEDOT:W4,SEMI:Cx,SLASH:qi,TILDE:nf,UNDERSCORE:bg,EMOJI:X4,SYM:yg});const Br=/[a-z]/,Ed=new RegExp("\\p{L}","u"),tv=new RegExp("\\p{Emoji}","u"),jr=/\d/,nv=/\s/,rA="\r",ov=`
`,tF="️",nF="‍",iv="￼";let Vp=null,$p=null;function oF(t=[]){const e={};bo.groups=e;const n=new bo;Vp==null&&(Vp=sA(YU)),$p==null&&($p=sA(WU)),fe(n,"'",vx),fe(n,"{",Jd),fe(n,"}",Qd),fe(n,"[",Km),fe(n,"]",Zm),fe(n,"(",Ym),fe(n,")",Wm),fe(n,"<",Xm),fe(n,">",Jm),fe(n,"（",Qm),fe(n,"）",eg),fe(n,"「",tg),fe(n,"」",ng),fe(n,"『",og),fe(n,"』",ig),fe(n,"＜",rg),fe(n,"＞",sg),fe(n,"&",lg),fe(n,"*",ag),fe(n,"@",Fs),fe(n,"`",ug),fe(n,"^",dg),fe(n,":",Zs),fe(n,",",wx),fe(n,"$",fg),fe(n,".",Fi),fe(n,"=",hg),fe(n,"!",kx),fe(n,"-",oi),fe(n,"%",ef),fe(n,"|",pg),fe(n,"+",mg),fe(n,"#",gg),fe(n,"?",tf),fe(n,'"',xx),fe(n,"/",qi),fe(n,";",Cx),fe(n,"~",nf),fe(n,"_",bg),fe(n,"\\",cg),fe(n,"・",W4);const o=Yt(n,jr,bx,{[Mw]:!0});Yt(o,jr,o);const i=Yt(o,Br,Z4,{[Xd]:!0}),r=Yt(o,Ed,Y4,{[jd]:!0}),s=Yt(n,Br,zr,{[Tw]:!0});Yt(s,jr,i),Yt(s,Br,s),Yt(i,jr,i),Yt(i,Br,i);const a=Yt(n,Ed,Rw,{[Aw]:!0});Yt(a,Br),Yt(a,jr,r),Yt(a,Ed,a),Yt(r,jr,r),Yt(r,Br),Yt(r,Ed,r);const u=fe(n,ov,yx,{[ev]:!0}),d=fe(n,rA,Lw,{[ev]:!0}),h=Yt(n,nv,Lw,{[ev]:!0});fe(n,iv,h),fe(d,ov,u),fe(d,iv,h),Yt(d,nv,h),fe(h,rA),fe(h,ov),Yt(h,nv,h),fe(h,iv,h);const p=Yt(n,tv,X4,{[K4]:!0});fe(p,"#"),Yt(p,tv,p),fe(p,tF,p);const g=fe(p,nF);fe(g,"#"),Yt(g,tv,p);const b=[[Br,s],[jr,i]],v=[[Br,null],[Ed,a],[jr,r]];for(let k=0;k<Vp.length;k++)Is(n,Vp[k],Nw,zr,b);for(let k=0;k<$p.length;k++)Is(n,$p[k],Dw,Rw,v);oa(Nw,{tld:!0,ascii:!0},e),oa(Dw,{utld:!0,alpha:!0},e),Is(n,"file",hm,zr,b),Is(n,"mailto",hm,zr,b),Is(n,"http",Rc,zr,b),Is(n,"https",Rc,zr,b),Is(n,"ftp",Rc,zr,b),Is(n,"ftps",Rc,zr,b),oa(hm,{scheme:!0,ascii:!0},e),oa(Rc,{slashscheme:!0,ascii:!0},e),t=t.sort((k,C)=>k[0]>C[0]?1:-1);for(let k=0;k<t.length;k++){const C=t[k][0],M=t[k][1]?{[XU]:!0}:{[JU]:!0};C.indexOf("-")>=0?M[Ow]=!0:Br.test(C)?jr.test(C)?M[Xd]=!0:M[Tw]=!0:M[Mw]=!0,iA(n,C,C,M)}return iA(n,"localhost",Cf,{ascii:!0}),n.jd=new bo(yg),{start:n,tokens:nu({groups:e},J4)}}function Q4(t,e){const n=iF(e.replace(/[A-Z]/g,a=>a.toLowerCase())),o=n.length,i=[];let r=0,s=0;for(;s<o;){let a=t,u=null,d=0,h=null,p=-1,g=-1;for(;s<o&&(u=a.go(n[s]));)a=u,a.accepts()?(p=0,g=0,h=a):p>=0&&(p+=n[s].length,g++),d+=n[s].length,r+=n[s].length,s++;r-=p,s-=g,d-=p,i.push({t:h.t,v:e.slice(r-d,r),s:r-d,e:r})}return i}function iF(t){const e=[],n=t.length;let o=0;for(;o<n;){let i=t.charCodeAt(o),r,s=i<55296||i>56319||o+1===n||(r=t.charCodeAt(o+1))<56320||r>57343?t[o]:t.slice(o,o+2);e.push(s),o+=s.length}return e}function Is(t,e,n,o,i){let r;const s=e.length;for(let a=0;a<s-1;a++){const u=e[a];t.j[u]?r=t.j[u]:(r=new bo(o),r.jr=i.slice(),t.j[u]=r),t=r}return r=new bo(n),r.jr=i.slice(),t.j[e[s-1]]=r,r}function sA(t){const e=[],n=[];let o=0,i="0123456789";for(;o<t.length;){let r=0;for(;i.indexOf(t[o+r])>=0;)r++;if(r>0){e.push(n.join(""));for(let s=parseInt(t.substring(o,o+r),10);s>0;s--)n.pop();o+=r}else n.push(t[o]),o++}return e}const Sf={defaultProtocol:"http",events:null,format:lA,formatHref:lA,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Sx(t,e=null){let n=nu({},Sf);t&&(n=nu(n,t instanceof Sx?t.o:t));const o=n.ignoreTags,i=[];for(let r=0;r<o.length;r++)i.push(o[r].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Sx.prototype={o:Sf,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const o=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Sf[t],typeof i=="function"&&o&&(i=i(e,n))):typeof i=="function"&&o&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let o=this.o[t];return typeof o=="function"&&e!=null&&(o=o(e,n.t,n)),o},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function lA(t){return t}function eD(t,e){this.t="token",this.v=t,this.tk=e}eD.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),o=t.get("format",e,this);return n&&o.length>n?o.substring(0,n)+"…":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Sf.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),o=t.get("formatHref",n,this),i=t.get("tagName",n,e),r=this.toFormattedString(t),s={},a=t.get("className",n,e),u=t.get("target",n,e),d=t.get("rel",n,e),h=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return s.href=o,a&&(s.class=a),u&&(s.target=u),d&&(s.rel=d),h&&nu(s,h),{tagName:i,attributes:s,content:r,eventListeners:p}}};function gb(t,e){class n extends eD{constructor(i,r){super(i,r),this.t=t}}for(const o in e)n.prototype[o]=e[o];return n.t=t,n}const aA=gb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),cA=gb("text"),rF=gb("nl"),Up=gb("url",{isLink:!0,toHref(t=Sf.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Cf&&t[1].t===Zs}}),ni=t=>new bo(t);function sF({groups:t}){const e=t.domain.concat([lg,ag,Fs,cg,ug,dg,fg,hg,oi,bx,ef,pg,mg,gg,qi,yg,nf,bg]),n=[Zs,wx,Fi,kx,ef,tf,xx,Cx,Xm,Jm,Jd,Qd,Zm,Km,Ym,Wm,Qm,eg,tg,ng,og,ig,rg,sg],o=[lg,vx,ag,cg,ug,dg,fg,hg,oi,Jd,Qd,ef,pg,mg,gg,tf,qi,yg,nf,bg],i=ni(),r=fe(i,nf);tt(r,o,r),tt(r,t.domain,r);const s=ni(),a=ni(),u=ni();tt(i,t.domain,s),tt(i,t.scheme,a),tt(i,t.slashscheme,u),tt(s,o,r),tt(s,t.domain,s);const d=fe(s,Fs);fe(r,Fs,d),fe(a,Fs,d),fe(u,Fs,d);const h=fe(r,Fi);tt(h,o,r),tt(h,t.domain,r);const p=ni();tt(d,t.domain,p),tt(p,t.domain,p);const g=fe(p,Fi);tt(g,t.domain,p);const b=ni(aA);tt(g,t.tld,b),tt(g,t.utld,b),fe(d,Cf,b);const v=fe(p,oi);fe(v,oi,v),tt(v,t.domain,p),tt(b,t.domain,p),fe(b,Fi,g),fe(b,oi,v);const k=fe(b,Zs);tt(k,t.numeric,aA);const C=fe(s,oi),_=fe(s,Fi);fe(C,oi,C),tt(C,t.domain,s),tt(_,o,r),tt(_,t.domain,s);const M=ni(Up);tt(_,t.tld,M),tt(_,t.utld,M),tt(M,t.domain,s),tt(M,o,r),fe(M,Fi,_),fe(M,oi,C),fe(M,Fs,d);const A=fe(M,Zs),O=ni(Up);tt(A,t.numeric,O);const R=ni(Up),j=ni();tt(R,e,R),tt(R,n,j),tt(j,e,R),tt(j,n,j),fe(M,qi,R),fe(O,qi,R);const z=fe(a,Zs),V=fe(u,Zs),Z=fe(V,qi),oe=fe(Z,qi);tt(a,t.domain,s),fe(a,Fi,_),fe(a,oi,C),tt(u,t.domain,s),fe(u,Fi,_),fe(u,oi,C),tt(z,t.domain,R),fe(z,qi,R),fe(z,tf,R),tt(oe,t.domain,R),tt(oe,e,R),fe(oe,qi,R);const be=[[Jd,Qd],[Km,Zm],[Ym,Wm],[Xm,Jm],[Qm,eg],[tg,ng],[og,ig],[rg,sg]];for(let he=0;he<be.length;he++){const[ye,ve]=be[he],pe=fe(R,ye);fe(j,ye,pe),fe(pe,ve,R);const B=ni(Up);tt(pe,e,B);const P=ni();tt(pe,n),tt(B,e,B),tt(B,n,P),tt(P,e,B),tt(P,n,P),fe(B,ve,R),fe(P,ve,R)}return fe(i,Cf,M),fe(i,yx,rF),{start:i,tokens:J4}}function lF(t,e,n){let o=n.length,i=0,r=[],s=[];for(;i<o;){let a=t,u=null,d=null,h=0,p=null,g=-1;for(;i<o&&!(u=a.go(n[i].t));)s.push(n[i++]);for(;i<o&&(d=u||a.go(n[i].t));)u=null,a=d,a.accepts()?(g=0,p=a):g>=0&&g++,i++,h++;if(g<0)i-=h,i<o&&(s.push(n[i]),i++);else{s.length>0&&(r.push(rv(cA,e,s)),s=[]),i-=g,h-=g;const b=p.t,v=n.slice(i-h,i);r.push(rv(b,e,v))}}return s.length>0&&r.push(rv(cA,e,s)),r}function rv(t,e,n){const o=n[0].s,i=n[n.length-1].e,r=e.slice(o,i);return new t(r,n)}const aF=typeof console<"u"&&console&&console.warn||(()=>{}),cF="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Pt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function uF(){return bo.groups={},Pt.scanner=null,Pt.parser=null,Pt.tokenQueue=[],Pt.pluginQueue=[],Pt.customSchemes=[],Pt.initialized=!1,Pt}function uA(t,e=!1){if(Pt.initialized&&aF(`linkifyjs: already initialized - will not register custom scheme "${t}" ${cF}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Pt.customSchemes.push([t,e])}function dF(){Pt.scanner=oF(Pt.customSchemes);for(let t=0;t<Pt.tokenQueue.length;t++)Pt.tokenQueue[t][1]({scanner:Pt.scanner});Pt.parser=sF(Pt.scanner.tokens);for(let t=0;t<Pt.pluginQueue.length;t++)Pt.pluginQueue[t][1]({scanner:Pt.scanner,parser:Pt.parser});return Pt.initialized=!0,Pt}function _x(t){return Pt.initialized||dF(),lF(Pt.parser.start,t,Q4(Pt.scanner.start,t))}_x.scan=Q4;function tD(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const o=new Sx(n),i=_x(t),r=[];for(let s=0;s<i.length;s++){const a=i[s];a.isLink&&(!e||a.t===e)&&o.check(a)&&r.push(a.toFormattedObject(o))}return r}function fF(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function hF(t){return new Ke({key:new at("autolink"),appendTransaction:(e,n,o)=>{const i=e.some(d=>d.docChanged)&&!n.doc.eq(o.doc),r=e.some(d=>d.getMeta("preventAutolink"));if(!i||r)return;const{tr:s}=o,a=v4(n.doc,[...e]);if(x4(a).forEach(({newRange:d})=>{const h=w4(o.doc,d,b=>b.isTextblock);let p,g;if(h.length>1?(p=h[0],g=o.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ")):h.length&&o.doc.textBetween(d.from,d.to," "," ").endsWith(" ")&&(p=h[0],g=o.doc.textBetween(p.pos,d.to,void 0," ")),p&&g){const b=g.split(" ").filter(_=>_!=="");if(b.length<=0)return!1;const v=b[b.length-1],k=p.pos+g.lastIndexOf(v);if(!v)return!1;const C=_x(v).map(_=>_.toObject(t.defaultProtocol));if(!fF(C))return!1;C.filter(_=>_.isLink).map(_=>({..._,from:k+_.start+1,to:k+_.end+1})).filter(_=>o.schema.marks.code?!o.doc.rangeHasMark(_.from,_.to,o.schema.marks.code):!0).filter(_=>t.validate(_.value)).filter(_=>t.shouldAutoLink(_.value)).forEach(_=>{dx(_.from,_.to,o.doc).some(M=>M.mark.type===t.type)||s.addMark(_.from,_.to,t.type.create({href:_.href}))})}}),!!s.steps.length)return s}})}function pF(t){return new Ke({key:new at("handleClickLink"),props:{handleClick:(e,n,o)=>{var i,r;if(o.button!==0||!e.editable)return!1;let s=o.target;const a=[];for(;s.nodeName!=="DIV";)a.push(s),s=s.parentNode;if(!a.find(g=>g.nodeName==="A"))return!1;const u=k4(e.state,t.type.name),d=o.target,h=(i=d==null?void 0:d.href)!==null&&i!==void 0?i:u.href,p=(r=d==null?void 0:d.target)!==null&&r!==void 0?r:u.target;return d&&h?(window.open(h,p),!0):!1}}})}function mF(t){return new Ke({key:new at("handlePasteLink"),props:{handlePaste:(e,n,o)=>{const{state:i}=e,{selection:r}=i,{empty:s}=r;if(s)return!1;let a="";o.content.forEach(d=>{a+=d.textContent});const u=tD(a,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===a);return!a||!u?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}const gF=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Kl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(o=>{const i=typeof o=="string"?o:o.scheme;i&&n.push(i)}),!t||t.replace(gF,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const bF=So.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){uA(t);return}uA(t.scheme,t.optionalSlashes)})},onDestroy(){uF()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Kl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Kl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Kl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",$o(this.options.HTMLAttributes,t),0]:["a",$o(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Kl(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Kl(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ba({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:o}=this.options,i=tD(t).filter(r=>r.isLink&&this.options.isAllowedUri(r.value,{defaultValidate:s=>!!Kl(s,n),protocols:n,defaultProtocol:o}));i.length&&i.forEach(r=>e.push({text:r.value,data:{href:r.href},index:r.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(hF({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o=>this.options.isAllowedUri(o,{defaultValidate:i=>!!Kl(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(pF({type:this.type})),this.options.linkOnPaste&&t.push(mF({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),yF=dr.create({name:"text",group:"inline"}),di=()=>new Map,Bw=t=>{const e=di();return t.forEach((n,o)=>{e.set(o,n)}),e},pr=(t,e,n)=>{let o=t.get(e);return o===void 0&&t.set(e,o=n()),o},vF=(t,e)=>{const n=[];for(const[o,i]of t)n.push(e(i,o));return n},wF=(t,e)=>{for(const[n,o]of t)if(e(o,n))return!0;return!1},va=()=>new Set,sv=t=>t[t.length-1],kF=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},wa=Array.from,xF=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},jw=Array.isArray;class nD{constructor(){this._observers=di()}on(e,n){return pr(this._observers,e,va).add(n),n}once(e,n){const o=(...i)=>{this.off(e,o),n(...i)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return wa((this._observers.get(e)||di()).values()).forEach(o=>o(...n))}destroy(){this._observers=di()}}const es=Math.floor,pm=Math.abs,Wr=(t,e)=>t<e?t:e,rr=(t,e)=>t>e?t:e,oD=t=>t!==0?t<0:1/t<0,dA=1,fA=2,lv=4,av=8,_f=32,Xr=64,to=128,CF=1<<29,bb=31,Hw=63,fa=127,SF=2147483647,iD=Number.MAX_SAFE_INTEGER,_F=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&es(t)===t),EF=String.fromCharCode,MF=t=>t.toLowerCase(),TF=/^\s*/g,AF=t=>t.replace(TF,""),OF=/([A-Z])/g,hA=(t,e)=>AF(t.replace(OF,n=>`${e}${MF(n)}`)),RF=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,o=new Uint8Array(n);for(let i=0;i<n;i++)o[i]=e.codePointAt(i);return o},Ef=typeof TextEncoder<"u"?new TextEncoder:null,NF=t=>Ef.encode(t),DF=Ef?NF:RF;let of=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});of&&of.decode(new Uint8Array).length===1&&(of=null);class Zf{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Yf=()=>new Zf,LF=t=>{const e=Yf();return t(e),wi(e)},BF=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},wi=t=>{const e=new Uint8Array(BF(t));let n=0;for(let o=0;o<t.bufs.length;o++){const i=t.bufs[o];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},jF=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(rr(n,e)*2),t.cpos=0)},vn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},Iw=vn,ft=(t,e)=>{for(;e>fa;)vn(t,to|fa&e),e=es(e/128);vn(t,fa&e)},Ex=(t,e)=>{const n=oD(e);for(n&&(e=-e),vn(t,(e>Hw?to:0)|(n?Xr:0)|Hw&e),e=es(e/64);e>0;)vn(t,(e>fa?to:0)|fa&e),e=es(e/128)},zw=new Uint8Array(3e4),HF=zw.length/3,IF=(t,e)=>{if(e.length<HF){const n=Ef.encodeInto(e,zw).written||0;ft(t,n);for(let o=0;o<n;o++)vn(t,zw[o])}else Ho(t,DF(e))},zF=(t,e)=>{const n=unescape(encodeURIComponent(e)),o=n.length;ft(t,o);for(let i=0;i<o;i++)vn(t,n.codePointAt(i))},$c=Ef&&Ef.encodeInto?IF:zF,yb=(t,e)=>{const n=t.cbuf.length,o=t.cpos,i=Wr(n-o,e.length),r=e.length-i;t.cbuf.set(e.subarray(0,i),o),t.cpos+=i,r>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(rr(n*2,r)),t.cbuf.set(e.subarray(i)),t.cpos=r)},Ho=(t,e)=>{ft(t,e.byteLength),yb(t,e)},Mx=(t,e)=>{jF(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},PF=(t,e)=>Mx(t,4).setFloat32(0,e,!1),VF=(t,e)=>Mx(t,8).setFloat64(0,e,!1),$F=(t,e)=>Mx(t,8).setBigInt64(0,e,!1),pA=new DataView(new ArrayBuffer(4)),UF=t=>(pA.setFloat32(0,t),pA.getFloat32(0)===t),ou=(t,e)=>{switch(typeof e){case"string":vn(t,119),$c(t,e);break;case"number":_F(e)&&pm(e)<=SF?(vn(t,125),Ex(t,e)):UF(e)?(vn(t,124),PF(t,e)):(vn(t,123),VF(t,e));break;case"bigint":vn(t,122),$F(t,e);break;case"object":if(e===null)vn(t,126);else if(jw(e)){vn(t,117),ft(t,e.length);for(let n=0;n<e.length;n++)ou(t,e[n])}else if(e instanceof Uint8Array)vn(t,116),Ho(t,e);else{vn(t,118);const n=Object.keys(e);ft(t,n.length);for(let o=0;o<n.length;o++){const i=n[o];$c(t,i),ou(t,e[i])}}break;case"boolean":vn(t,e?120:121);break;default:vn(t,127)}};class mA extends Zf{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&ft(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const gA=t=>{t.count>0&&(Ex(t.encoder,t.count===1?t.s:-t.s),t.count>1&&ft(t.encoder,t.count-2))};class mm{constructor(){this.encoder=new Zf,this.s=0,this.count=0}write(e){this.s===e?this.count++:(gA(this),this.count=1,this.s=e)}toUint8Array(){return gA(this),wi(this.encoder)}}const bA=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Ex(t.encoder,e),t.count>1&&ft(t.encoder,t.count-2)}};class cv{constructor(){this.encoder=new Zf,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(bA(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return bA(this),wi(this.encoder)}}class FF{constructor(){this.sarr=[],this.s="",this.lensE=new mm}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Zf;return this.sarr.push(this.s),this.s="",$c(e,this.sarr.join("")),yb(e,this.lensE.toUint8Array()),wi(e)}}const al=t=>new Error(t),Si=()=>{throw al("Method unimplemented")},_o=()=>{throw al("Unexpected case")},rD=al("Unexpected end of array"),sD=al("Integer out of Range");class vb{constructor(e){this.arr=e,this.pos=0}}const Tx=t=>new vb(t),qF=t=>t.pos!==t.arr.length,GF=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},ii=t=>GF(t,Vt(t)),Mf=t=>t.arr[t.pos++],Vt=t=>{let e=0,n=1;const o=t.arr.length;for(;t.pos<o;){const i=t.arr[t.pos++];if(e=e+(i&fa)*n,n*=128,i<to)return e;if(e>iD)throw sD}throw rD},Ax=t=>{let e=t.arr[t.pos++],n=e&Hw,o=64;const i=(e&Xr)>0?-1:1;if((e&to)===0)return i*n;const r=t.arr.length;for(;t.pos<r;){if(e=t.arr[t.pos++],n=n+(e&fa)*o,o*=128,e<to)return i*n;if(n>iD)throw sD}throw rD},KF=t=>{let e=Vt(t);if(e===0)return"";{let n=String.fromCodePoint(Mf(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Mf(t));else for(;e>0;){const o=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+o);t.pos+=o,n+=String.fromCodePoint.apply(null,i),e-=o}return decodeURIComponent(escape(n))}},ZF=t=>of.decode(ii(t)),Pw=of?ZF:KF,Ox=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},YF=t=>Ox(t,4).getFloat32(0,!1),WF=t=>Ox(t,8).getFloat64(0,!1),XF=t=>Ox(t,8).getBigInt64(0,!1),JF=[t=>{},t=>null,Ax,YF,WF,XF,t=>!1,t=>!0,Pw,t=>{const e=Vt(t),n={};for(let o=0;o<e;o++){const i=Pw(t);n[i]=vg(t)}return n},t=>{const e=Vt(t),n=[];for(let o=0;o<e;o++)n.push(vg(t));return n},ii],vg=t=>JF[127-Mf(t)](t);class yA extends vb{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),qF(this)?this.count=Vt(this)+1:this.count=-1),this.count--,this.s}}class gm extends vb{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=Ax(this);const e=oD(this.s);this.count=1,e&&(this.s=-this.s,this.count=Vt(this)+2)}return this.count--,this.s}}class uv extends vb{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Ax(this),n=e&1;this.diff=es(e/2),this.count=1,n&&(this.count=Vt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class QF{constructor(e){this.decoder=new gm(e),this.str=Pw(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const eq=crypto.getRandomValues.bind(crypto),tq=Math.random,lD=()=>eq(new Uint32Array(1))[0],nq=t=>t[es(tq()*t.length)],oq="10000000-1000-4000-8000"+-1e11,iq=()=>oq.replace(/[018]/g,t=>(t^lD()&15>>t/4).toString(16)),rq=Date.now,vA=t=>new Promise(t);Promise.all.bind(Promise);const wA=t=>t===void 0?null:t;class sq{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let aD=new sq,lq=!0;try{typeof localStorage<"u"&&localStorage&&(aD=localStorage,lq=!1)}catch{}const aq=aD,cq=Object.assign,cD=Object.keys,uq=(t,e)=>{for(const n in t)e(t[n],n)},kA=t=>cD(t).length,dq=t=>{for(const e in t)return!1;return!0},uD=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},fq=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),hq=(t,e)=>t===e||kA(t)===kA(e)&&uD(t,(n,o)=>(n!==void 0||fq(e,o))&&e[o]===n),pq=Object.freeze,dD=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&dD(t[e])}return pq(t)},Rx=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&Rx(t,e,n+1)}},mq=(t,e)=>e.includes(t);var fD={};const iu=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",hD=typeof window<"u"&&typeof document<"u"&&!iu;let $i;const gq=()=>{if($i===void 0)if(iu){$i=di();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const o=t[n];o[0]==="-"?(e!==null&&$i.set(e,""),e=o):e!==null&&($i.set(e,o),e=null)}e!==null&&$i.set(e,"")}else typeof location=="object"?($i=di(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");$i.set(`--${hA(e,"-")}`,n),$i.set(`-${hA(e,"-")}`,n)}})):$i=di();return $i},Vw=t=>gq().has(t),wg=t=>wA(iu?fD[t.toUpperCase().replaceAll("-","_")]:aq.getItem(t)),pD=t=>Vw("--"+t)||wg(t)!==null;pD("production");const bq=iu&&mq(fD.FORCE_COLOR,["true","1","2"]),yq=bq||!Vw("--no-colors")&&!pD("no-color")&&(!iu||process.stdout.isTTY)&&(!iu||Vw("--color")||wg("COLORTERM")!==null||(wg("TERM")||"").includes("color")),vq=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=EF(t[n]);return btoa(e)},wq=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),kq=hD?vq:wq,xq=t=>LF(e=>ou(e,t));class Cq{constructor(e,n){this.left=e,this.right=n}}const Hr=(t,e)=>new Cq(t,e),Sq=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const _q=t=>vF(t,(e,n)=>`${n}:${e};`).join(""),Eq=t=>class{constructor(n){this._=n}destroy(){t(this._)}},Mq=Eq(clearTimeout),Nx=(t,e)=>new Mq(setTimeout(e,t)),as=Symbol,mD=as(),gD=as(),Tq=as(),Aq=as(),Oq=as(),bD=as(),Rq=as(),Dx=as(),Nq=as(),Dq=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let o=0;for(;o<t.length;o++){const r=t[o];if(r===void 0)break;if(r.constructor===String||r.constructor===Number)e.push(r);else if(r.constructor===Object)break}for(o>0&&n.push(e.join(""));o<t.length;o++){const r=t[o];r instanceof Symbol||n.push(r)}return n},Lq={[mD]:Hr("font-weight","bold"),[gD]:Hr("font-weight","normal"),[Tq]:Hr("color","blue"),[Oq]:Hr("color","green"),[Aq]:Hr("color","grey"),[bD]:Hr("color","red"),[Rq]:Hr("color","purple"),[Dx]:Hr("color","orange"),[Nq]:Hr("color","black")},Bq=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[],o=di();let i=[],r=0;for(;r<t.length;r++){const a=t[r],u=Lq[a];if(u!==void 0)o.set(u.left,u.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const d=_q(o);r>0||d.length>0?(e.push("%c"+a),n.push(d)):e.push(a)}else break}}for(r>0&&(i=n,i.unshift(e.join("")));r<t.length;r++){const a=t[r];a instanceof Symbol||i.push(a)}return i},yD=yq?Bq:Dq,jq=(...t)=>{console.log(...yD(t)),wD.forEach(e=>e.print(t))},vD=(...t)=>{console.warn(...yD(t)),t.unshift(Dx),wD.forEach(e=>e.print(t))},wD=va(),kD=t=>({[Symbol.iterator](){return this},next:t}),Hq=(t,e)=>kD(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),dv=(t,e)=>kD(()=>{const{done:n,value:o}=t.next();return{done:n,value:n?void 0:e(o)}});class Lx{constructor(e,n){this.clock=e,this.len=n}}class du{constructor(){this.clients=new Map}}const cl=(t,e,n)=>e.clients.forEach((o,i)=>{const r=t.doc.store.clients.get(i);for(let s=0;s<o.length;s++){const a=o[s];AD(t,r,a.clock,a.len,n)}}),Iq=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const i=es((n+o)/2),r=t[i],s=r.clock;if(s<=e){if(e<s+r.len)return i;n=i+1}else o=i-1}return null},fu=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&Iq(n,e.clock)!==null},Bx=t=>{t.clients.forEach(e=>{e.sort((i,r)=>i.clock-r.clock);let n,o;for(n=1,o=1;n<e.length;n++){const i=e[o-1],r=e[n];i.clock+i.len>=r.clock?i.len=rr(i.len,r.clock+r.len-i.clock):(o<n&&(e[o]=r),o++)}e.length=o})},$w=t=>{const e=new du;for(let n=0;n<t.length;n++)t[n].clients.forEach((o,i)=>{if(!e.clients.has(i)){const r=o.slice();for(let s=n+1;s<t.length;s++)kF(r,t[s].clients.get(i)||[]);e.clients.set(i,r)}});return Bx(e),e},Tf=(t,e,n,o)=>{pr(t.clients,e,()=>[]).push(new Lx(n,o))},xD=()=>new du,zq=t=>{const e=xD();return t.clients.forEach((n,o)=>{const i=[];for(let r=0;r<n.length;r++){const s=n[r];if(s.deleted){const a=s.id.clock;let u=s.length;if(r+1<n.length)for(let d=n[r+1];r+1<n.length&&d.deleted;d=n[++r+1])u+=d.length;i.push(new Lx(a,u))}}i.length>0&&e.clients.set(o,i)}),e},jx=(t,e)=>{ft(t.restEncoder,e.clients.size),wa(e.clients.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{t.resetDsCurVal(),ft(t.restEncoder,n);const i=o.length;ft(t.restEncoder,i);for(let r=0;r<i;r++){const s=o[r];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},Pq=t=>{const e=new du,n=Vt(t.restDecoder);for(let o=0;o<n;o++){t.resetDsCurVal();const i=Vt(t.restDecoder),r=Vt(t.restDecoder);if(r>0){const s=pr(e.clients,i,()=>[]);for(let a=0;a<r;a++)s.push(new Lx(t.readDsClock(),t.readDsLen()))}}return e},xA=(t,e,n)=>{const o=new du,i=Vt(t.restDecoder);for(let r=0;r<i;r++){t.resetDsCurVal();const s=Vt(t.restDecoder),a=Vt(t.restDecoder),u=n.clients.get(s)||[],d=tn(n,s);for(let h=0;h<a;h++){const p=t.readDsClock(),g=p+t.readDsLen();if(p<d){d<g&&Tf(o,s,d,g-d);let b=sr(u,p),v=u[b];for(!v.deleted&&v.id.clock<p&&(u.splice(b+1,0,Eg(e,v,p-v.id.clock)),b++);b<u.length&&(v=u[b++],v.id.clock<g);)v.deleted||(g<v.id.clock+v.length&&u.splice(b,0,Eg(e,v,g-v.id.clock)),v.delete(e))}else Tf(o,s,p,g-p)}}if(o.clients.size>0){const r=new wb;return ft(r.restEncoder,0),jx(r,o),r.toUint8Array()}return null},CD=lD;class Aa extends nD{constructor({guid:e=iq(),collectionid:n=null,gc:o=!0,gcFilter:i=()=>!0,meta:r=null,autoLoad:s=!1,shouldLoad:a=!0}={}){super(),this.gc=o,this.gcFilter=i,this.clientID=CD(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new MD,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=s,this.meta=r,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=vA(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const u=()=>vA(d=>{const h=p=>{(p===void 0||p===!0)&&(this.off("sync",h),d())};this.on("sync",h)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Ot(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(wa(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Ot(this,e,n)}get(e,n=xn){const o=pr(this.share,e,()=>{const r=new n;return r._integrate(this,null),r}),i=o.constructor;if(n!==xn&&i!==n)if(i===xn){const r=new n;r._map=o._map,o._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=r}),r._start=o._start;for(let s=r._start;s!==null;s=s.right)s.parent=r;return r._length=o._length,this.share.set(e,r),r._integrate(this,null),r}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,qc)}getText(e=""){return this.get(e,ul)}getMap(e=""){return this.get(e,ru)}getXmlElement(e=""){return this.get(e,Pn)}getXmlFragment(e=""){return this.get(e,ka)}toJSON(){const e={};return this.share.forEach((n,o)=>{e[o]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,wa(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Aa({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Ot(e.parent.doc,o=>{const i=n.doc;e.deleted||o.subdocsAdded.add(i),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Vq{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Vt(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Vt(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class kg extends Vq{constructor(e){super(e),this.keys=[],Vt(e),this.keyClockDecoder=new uv(ii(e)),this.clientDecoder=new gm(ii(e)),this.leftClockDecoder=new uv(ii(e)),this.rightClockDecoder=new uv(ii(e)),this.infoDecoder=new yA(ii(e),Mf),this.stringDecoder=new QF(ii(e)),this.parentInfoDecoder=new yA(ii(e),Mf),this.typeRefDecoder=new gm(ii(e)),this.lenDecoder=new gm(ii(e))}readLeftID(){return new Uc(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Uc(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return vg(this.restDecoder)}readBuf(){return ii(this.restDecoder)}readJSON(){return vg(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class $q{constructor(){this.restEncoder=Yf()}toUint8Array(){return wi(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){ft(this.restEncoder,e)}writeDsLen(e){ft(this.restEncoder,e)}}class Uq extends $q{writeLeftID(e){ft(this.restEncoder,e.client),ft(this.restEncoder,e.clock)}writeRightID(e){ft(this.restEncoder,e.client),ft(this.restEncoder,e.clock)}writeClient(e){ft(this.restEncoder,e)}writeInfo(e){Iw(this.restEncoder,e)}writeString(e){$c(this.restEncoder,e)}writeParentInfo(e){ft(this.restEncoder,e?1:0)}writeTypeRef(e){ft(this.restEncoder,e)}writeLen(e){ft(this.restEncoder,e)}writeAny(e){ou(this.restEncoder,e)}writeBuf(e){Ho(this.restEncoder,e)}writeJSON(e){$c(this.restEncoder,JSON.stringify(e))}writeKey(e){$c(this.restEncoder,e)}}class Fq{constructor(){this.restEncoder=Yf(),this.dsCurrVal=0}toUint8Array(){return wi(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,ft(this.restEncoder,n)}writeDsLen(e){e===0&&_o(),ft(this.restEncoder,e-1),this.dsCurrVal+=e}}class wb extends Fq{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new cv,this.clientEncoder=new mm,this.leftClockEncoder=new cv,this.rightClockEncoder=new cv,this.infoEncoder=new mA(Iw),this.stringEncoder=new FF,this.parentInfoEncoder=new mA(Iw),this.typeRefEncoder=new mm,this.lenEncoder=new mm}toUint8Array(){const e=Yf();return ft(e,0),Ho(e,this.keyClockEncoder.toUint8Array()),Ho(e,this.clientEncoder.toUint8Array()),Ho(e,this.leftClockEncoder.toUint8Array()),Ho(e,this.rightClockEncoder.toUint8Array()),Ho(e,wi(this.infoEncoder)),Ho(e,this.stringEncoder.toUint8Array()),Ho(e,wi(this.parentInfoEncoder)),Ho(e,this.typeRefEncoder.toUint8Array()),Ho(e,this.lenEncoder.toUint8Array()),yb(e,wi(this.restEncoder)),wi(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){ou(this.restEncoder,e)}writeBuf(e){Ho(this.restEncoder,e)}writeJSON(e){ou(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const qq=(t,e,n,o)=>{o=rr(o,e[0].id.clock);const i=sr(e,o);ft(t.restEncoder,e.length-i),t.writeClient(n),ft(t.restEncoder,o);const r=e[i];r.write(t,o-r.id.clock);for(let s=i+1;s<e.length;s++)e[s].write(t,0)},SD=(t,e,n)=>{const o=new Map;n.forEach((i,r)=>{tn(e,r)>i&&o.set(r,i)}),kb(e).forEach((i,r)=>{n.has(r)||o.set(r,0)}),ft(t.restEncoder,o.size),wa(o.entries()).sort((i,r)=>r[0]-i[0]).forEach(([i,r])=>{qq(t,e.clients.get(i),i,r)})},Gq=(t,e)=>{const n=di(),o=Vt(t.restDecoder);for(let i=0;i<o;i++){const r=Vt(t.restDecoder),s=new Array(r),a=t.readClient();let u=Vt(t.restDecoder);n.set(a,{i:0,refs:s});for(let d=0;d<r;d++){const h=t.readInfo();switch(bb&h){case 0:{const p=t.readLen();s[d]=new ai(Je(a,u),p),u+=p;break}case 10:{const p=Vt(t.restDecoder);s[d]=new vi(Je(a,u),p),u+=p;break}default:{const p=(h&(Xr|to))===0,g=new xt(Je(a,u),null,(h&to)===to?t.readLeftID():null,null,(h&Xr)===Xr?t.readRightID():null,p?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,p&&(h&_f)===_f?t.readString():null,XD(t,h));s[d]=g,u+=g.length}}}}return n},Kq=(t,e,n)=>{const o=[];let i=wa(n.keys()).sort((b,v)=>b-v);if(i.length===0)return null;const r=()=>{if(i.length===0)return null;let b=n.get(i[i.length-1]);for(;b.refs.length===b.i;)if(i.pop(),i.length>0)b=n.get(i[i.length-1]);else return null;return b};let s=r();if(s===null)return null;const a=new MD,u=new Map,d=(b,v)=>{const k=u.get(b);(k==null||k>v)&&u.set(b,v)};let h=s.refs[s.i++];const p=new Map,g=()=>{for(const b of o){const v=b.id.client,k=n.get(v);k?(k.i--,a.clients.set(v,k.refs.slice(k.i)),n.delete(v),k.i=0,k.refs=[]):a.clients.set(v,[b]),i=i.filter(C=>C!==v)}o.length=0};for(;;){if(h.constructor!==vi){const v=pr(p,h.id.client,()=>tn(e,h.id.client))-h.id.clock;if(v<0)o.push(h),d(h.id.client,h.id.clock-1),g();else{const k=h.getMissing(t,e);if(k!==null){o.push(h);const C=n.get(k)||{refs:[],i:0};if(C.refs.length===C.i)d(k,tn(e,k)),g();else{h=C.refs[C.i++];continue}}else(v===0||v<h.length)&&(h.integrate(t,v),p.set(h.id.client,h.id.clock+h.length))}}if(o.length>0)h=o.pop();else if(s!==null&&s.i<s.refs.length)h=s.refs[s.i++];else{if(s=r(),s===null)break;h=s.refs[s.i++]}}if(a.clients.size>0){const b=new wb;return SD(b,a,new Map),ft(b.restEncoder,0),{missing:u,update:b.toUint8Array()}}return null},Zq=(t,e)=>SD(t,e.doc.store,e.beforeState),Yq=(t,e,n,o=new kg(t))=>Ot(e,i=>{i.local=!1;let r=!1;const s=i.doc,a=s.store,u=Gq(o,s),d=Kq(i,a,u),h=a.pendingStructs;if(h){for(const[g,b]of h.missing)if(b<tn(a,g)){r=!0;break}if(d){for(const[g,b]of d.missing){const v=h.missing.get(g);(v==null||v>b)&&h.missing.set(g,b)}h.update=NA([h.update,d.update])}}else a.pendingStructs=d;const p=xA(o,i,a);if(a.pendingDs){const g=new kg(Tx(a.pendingDs));Vt(g.restDecoder);const b=xA(g,i,a);p&&b?a.pendingDs=NA([p,b]):a.pendingDs=p||b}else a.pendingDs=p;if(r){const g=a.pendingStructs.update;a.pendingStructs=null,Uw(i.doc,g)}},n,!1),Uw=(t,e,n,o=kg)=>{const i=Tx(e);Yq(i,t,n,new o(i))};class Wq{constructor(){this.l=[]}}const CA=()=>new Wq,SA=(t,e)=>t.l.push(e),_A=(t,e)=>{const n=t.l,o=n.length;t.l=n.filter(i=>e!==i),o===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},_D=(t,e,n)=>Rx(t.l,[e,n]);class Uc{constructor(e,n){this.client=e,this.clock=n}}const Dc=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Je=(t,e)=>new Uc(t,e),Af=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw _o()},Of=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Rf{constructor(e,n,o,i=0){this.type=e,this.tname=n,this.item=o,this.assoc=i}}const rf=t=>new Rf(t.type==null?null:Je(t.type.client,t.type.clock),t.tname??null,t.item==null?null:Je(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class Xq{constructor(e,n,o=0){this.type=e,this.index=n,this.assoc=o}}const Jq=(t,e,n=0)=>new Xq(t,e,n),Fp=(t,e,n)=>{let o=null,i=null;return t._item===null?i=Af(t):o=Je(t._item.id.client,t._item.id.clock),new Rf(o,i,e,n)},fv=(t,e,n=0)=>{let o=t._start;if(n<0){if(e===0)return Fp(t,null,n);e--}for(;o!==null;){if(!o.deleted&&o.countable){if(o.length>e)return Fp(t,Je(o.id.client,o.id.clock+e),n);e-=o.length}if(o.right===null&&n<0)return Fp(t,o.lastId,n);o=o.right}return Fp(t,null,n)},Qq=(t,e)=>{const n=Fc(t,e),o=e.clock-n.id.clock;return{item:n,diff:o}},eG=(t,e,n=!0)=>{const o=e.store,i=t.item,r=t.type,s=t.tname,a=t.assoc;let u=null,d=0;if(i!==null){if(tn(o,i.client)<=i.clock)return null;const h=n?Kw(o,i):Qq(o,i),p=h.item;if(!(p instanceof xt))return null;if(u=p.parent,u._item===null||!u._item.deleted){d=p.deleted||!p.countable?0:h.diff+(a>=0?0:1);let g=p.left;for(;g!==null;)!g.deleted&&g.countable&&(d+=g.length),g=g.left}}else{if(s!==null)u=e.get(s);else if(r!==null){if(tn(o,r.client)<=r.clock)return null;const{item:h}=n?Kw(o,r):{item:Fc(o,r)};if(h instanceof xt&&h.content instanceof Ni)u=h.content.type;else return null}else throw _o();a>=0?d=u._length:d=0}return Jq(u,d,t.assoc)},EA=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Dc(t.item,e.item)&&Dc(t.type,e.type)&&t.assoc===e.assoc;class Hx{constructor(e,n){this.ds=e,this.sv=n}}const ED=(t,e)=>new Hx(t,e),hv=t=>ED(zq(t.store),kb(t.store)),Xl=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!fu(e.ds,t.id),Fw=(t,e)=>{const n=pr(t.meta,Fw,va),o=t.doc.store;n.has(e)||(e.sv.forEach((i,r)=>{i<tn(o,r)&&yo(t,Je(r,i))}),cl(t,e.ds,i=>{}),n.add(e))};class MD{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const kb=t=>{const e=new Map;return t.clients.forEach((n,o)=>{const i=n[n.length-1];e.set(o,i.id.clock+i.length)}),e},tn=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const o=n[n.length-1];return o.id.clock+o.length},TD=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const o=n[n.length-1];if(o.id.clock+o.length!==e.id.clock)throw _o()}n.push(e)},sr=(t,e)=>{let n=0,o=t.length-1,i=t[o],r=i.id.clock;if(r===e)return o;let s=es(e/(r+i.length-1)*o);for(;n<=o;){if(i=t[s],r=i.id.clock,r<=e){if(e<r+i.length)return s;n=s+1}else o=s-1;s=es((n+o)/2)}throw _o()},tG=(t,e)=>{const n=t.clients.get(e.client);return n[sr(n,e.clock)]},Fc=tG,qw=(t,e,n)=>{const o=sr(e,n),i=e[o];return i.id.clock<n&&i instanceof xt?(e.splice(o+1,0,Eg(t,i,n-i.id.clock)),o+1):o},yo=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[qw(t,n,e.clock)]},MA=(t,e,n)=>{const o=e.clients.get(n.client),i=sr(o,n.clock),r=o[i];return n.clock!==r.id.clock+r.length-1&&r.constructor!==ai&&o.splice(i+1,0,Eg(t,r,n.clock-r.id.clock+1)),r},nG=(t,e,n)=>{const o=t.clients.get(e.id.client);o[sr(o,e.id.clock)]=n},AD=(t,e,n,o,i)=>{if(o===0)return;const r=n+o;let s=qw(t,e,n),a;do a=e[s++],r<a.id.clock+a.length&&qw(t,e,r),i(a);while(s<e.length&&e[s].id.clock<r)};class oG{constructor(e,n,o){this.doc=e,this.deleteSet=new du,this.beforeState=kb(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const TA=(t,e)=>e.deleteSet.clients.size===0&&!wF(e.afterState,(n,o)=>e.beforeState.get(o)!==n)?!1:(Bx(e.deleteSet),Zq(t,e),jx(t,e.deleteSet),!0),AA=(t,e,n)=>{const o=e._item;(o===null||o.id.clock<(t.beforeState.get(o.id.client)||0)&&!o.deleted)&&pr(t.changed,e,va).add(n)},bm=(t,e)=>{let n=t[e],o=t[e-1],i=e;for(;i>0;n=o,o=t[--i-1]){if(o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)){n instanceof xt&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o);continue}break}const r=e-i;return r&&t.splice(e+1-r,r),r},iG=(t,e,n)=>{for(const[o,i]of t.clients.entries()){const r=e.clients.get(o);for(let s=i.length-1;s>=0;s--){const a=i[s],u=a.clock+a.len;for(let d=sr(r,a.clock),h=r[d];d<r.length&&h.id.clock<u;h=r[++d]){const p=r[d];if(a.clock+a.len<=p.id.clock)break;p instanceof xt&&p.deleted&&!p.keep&&n(p)&&p.gc(e,!1)}}}},rG=(t,e)=>{t.clients.forEach((n,o)=>{const i=e.clients.get(o);for(let r=n.length-1;r>=0;r--){const s=n[r],a=Wr(i.length-1,1+sr(i,s.clock+s.len-1));for(let u=a,d=i[u];u>0&&d.id.clock>=s.clock;d=i[u])u-=1+bm(i,u)}})},OD=(t,e)=>{if(e<t.length){const n=t[e],o=n.doc,i=o.store,r=n.deleteSet,s=n._mergeStructs;try{Bx(r),n.afterState=kb(n.doc.store),o.emit("beforeObserverCalls",[n,o]);const a=[];n.changed.forEach((u,d)=>a.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(n,u)})),a.push(()=>{n.changedParentTypes.forEach((u,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(u=u.filter(h=>h.target._item===null||!h.target._item.deleted),u.forEach(h=>{h.currentTarget=d,h._path=null}),u.sort((h,p)=>h.path.length-p.path.length),_D(d._dEH,u,n))})}),a.push(()=>o.emit("afterTransaction",[n,o])),Rx(a,[]),n._needFormattingCleanup&&_G(n)}finally{o.gc&&iG(r,i,o.gcFilter),rG(r,i),n.afterState.forEach((h,p)=>{const g=n.beforeState.get(p)||0;if(g!==h){const b=i.clients.get(p),v=rr(sr(b,g),1);for(let k=b.length-1;k>=v;)k-=1+bm(b,k)}});for(let h=s.length-1;h>=0;h--){const{client:p,clock:g}=s[h].id,b=i.clients.get(p),v=sr(b,g);v+1<b.length&&bm(b,v+1)>1||v>0&&bm(b,v)}if(!n.local&&n.afterState.get(o.clientID)!==n.beforeState.get(o.clientID)&&(jq(Dx,mD,"[yjs] ",gD,bD,"Changed the client-id because another client seems to be using it."),o.clientID=CD()),o.emit("afterTransactionCleanup",[n,o]),o._observers.has("update")){const h=new Uq;TA(h,n)&&o.emit("update",[h.toUint8Array(),n.origin,o,n])}if(o._observers.has("updateV2")){const h=new wb;TA(h,n)&&o.emit("updateV2",[h.toUint8Array(),n.origin,o,n])}const{subdocsAdded:a,subdocsLoaded:u,subdocsRemoved:d}=n;(a.size>0||d.size>0||u.size>0)&&(a.forEach(h=>{h.clientID=o.clientID,h.collectionid==null&&(h.collectionid=o.collectionid),o.subdocs.add(h)}),d.forEach(h=>o.subdocs.delete(h)),o.emit("subdocs",[{loaded:u,added:a,removed:d},o,n]),d.forEach(h=>h.destroy())),t.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,t])):OD(t,e+1)}}},Ot=(t,e,n=null,o=!0)=>{const i=t._transactionCleanups;let r=!1,s=null;t._transaction===null&&(r=!0,t._transaction=new oG(t,n,o),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{s=e(t._transaction)}finally{if(r){const a=t._transaction===i[0];t._transaction=null,a&&OD(i,0)}}return s};class sG{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const OA=(t,e,n)=>{cl(t,n.deletions,o=>{o instanceof xt&&e.scope.some(i=>i===t.doc||Of(i,o))&&$x(o,!1)})},RA=(t,e,n)=>{let o=null;const i=t.doc,r=t.scope;Ot(i,a=>{for(;e.length>0&&t.currStackItem===null;){const u=i.store,d=e.pop(),h=new Set,p=[];let g=!1;cl(a,d.insertions,b=>{if(b instanceof xt){if(b.redone!==null){let{item:v,diff:k}=Kw(u,b.id);k>0&&(v=yo(a,Je(v.id.client,v.id.clock+k))),b=v}!b.deleted&&r.some(v=>v===a.doc||Of(v,b))&&p.push(b)}}),cl(a,d.deletions,b=>{b instanceof xt&&r.some(v=>v===a.doc||Of(v,b))&&!fu(d.insertions,b.id)&&h.add(b)}),h.forEach(b=>{g=WD(a,b,h,d.insertions,t.ignoreRemoteMapChanges,t)!==null||g});for(let b=p.length-1;b>=0;b--){const v=p[b];t.deleteFilter(v)&&(v.delete(a),g=!0)}t.currStackItem=g?d:null}a.changed.forEach((u,d)=>{u.has(null)&&d._searchMarker&&(d._searchMarker.length=0)}),o=a},t);const s=t.currStackItem;if(s!=null){const a=o.changedParentTypes;t.emit("stack-item-popped",[{stackItem:s,type:n,changedParentTypes:a,origin:t},t]),t.currStackItem=null}return s};class RD extends nD{constructor(e,{captureTimeout:n=500,captureTransaction:o=u=>!0,deleteFilter:i=()=>!0,trackedOrigins:r=new Set([null]),ignoreRemoteMapChanges:s=!1,doc:a=jw(e)?e[0].doc:e instanceof Aa?e:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=i,r.add(this),this.trackedOrigins=r,this.captureTransaction=o,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=s,this.captureTimeout=n,this.afterTransactionHandler=u=>{if(!this.captureTransaction(u)||!this.scope.some(C=>u.changedParentTypes.has(C)||C===this.doc)||!this.trackedOrigins.has(u.origin)&&(!u.origin||!this.trackedOrigins.has(u.origin.constructor)))return;const d=this.undoing,h=this.redoing,p=d?this.redoStack:this.undoStack;d?this.stopCapturing():h||this.clear(!1,!0);const g=new du;u.afterState.forEach((C,_)=>{const M=u.beforeState.get(_)||0,A=C-M;A>0&&Tf(g,_,M,A)});const b=rq();let v=!1;if(this.lastChange>0&&b-this.lastChange<this.captureTimeout&&p.length>0&&!d&&!h){const C=p[p.length-1];C.deletions=$w([C.deletions,u.deleteSet]),C.insertions=$w([C.insertions,g])}else p.push(new sG(u.deleteSet,g)),v=!0;!d&&!h&&(this.lastChange=b),cl(u,u.deleteSet,C=>{C instanceof xt&&this.scope.some(_=>_===u.doc||Of(_,C))&&$x(C,!0)});const k=[{stackItem:p[p.length-1],origin:u.origin,type:d?"redo":"undo",changedParentTypes:u.changedParentTypes},this];v?this.emit("stack-item-added",k):this.emit("stack-item-updated",k)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=jw(e)?e:[e],e.forEach(o=>{n.has(o)||(n.add(o),(o instanceof xn?o.doc!==this.doc:o!==this.doc)&&vD("[yjs#509] Not same Y.Doc"),this.scope.push(o))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(o=>{e&&(this.undoStack.forEach(i=>OA(o,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>OA(o,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=RA(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=RA(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*lG(t){const e=Vt(t.restDecoder);for(let n=0;n<e;n++){const o=Vt(t.restDecoder),i=t.readClient();let r=Vt(t.restDecoder);for(let s=0;s<o;s++){const a=t.readInfo();if(a===10){const u=Vt(t.restDecoder);yield new vi(Je(i,r),u),r+=u}else if((bb&a)!==0){const u=(a&(Xr|to))===0,d=new xt(Je(i,r),null,(a&to)===to?t.readLeftID():null,null,(a&Xr)===Xr?t.readRightID():null,u?t.readParentInfo()?t.readString():t.readLeftID():null,u&&(a&_f)===_f?t.readString():null,XD(t,a));yield d,r+=d.length}else{const u=t.readLen();yield new ai(Je(i,r),u),r+=u}}}}class aG{constructor(e,n){this.gen=lG(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===vi);return this.curr}}class cG{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const uG=(t,e)=>{if(t.constructor===ai){const{client:n,clock:o}=t.id;return new ai(Je(n,o+e),t.length-e)}else if(t.constructor===vi){const{client:n,clock:o}=t.id;return new vi(Je(n,o+e),t.length-e)}else{const n=t,{client:o,clock:i}=n.id;return new xt(Je(o,i+e),null,Je(o,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},NA=(t,e=kg,n=wb)=>{if(t.length===1)return t[0];const o=t.map(h=>new e(Tx(h)));let i=o.map(h=>new aG(h,!0)),r=null;const s=new n,a=new cG(s);for(;i=i.filter(g=>g.curr!==null),i.sort((g,b)=>{if(g.curr.id.client===b.curr.id.client){const v=g.curr.id.clock-b.curr.id.clock;return v===0?g.curr.constructor===b.curr.constructor?0:g.curr.constructor===vi?1:-1:v}else return b.curr.id.client-g.curr.id.client}),i.length!==0;){const h=i[0],p=h.curr.id.client;if(r!==null){let g=h.curr,b=!1;for(;g!==null&&g.id.clock+g.length<=r.struct.id.clock+r.struct.length&&g.id.client>=r.struct.id.client;)g=h.next(),b=!0;if(g===null||g.id.client!==p||b&&g.id.clock>r.struct.id.clock+r.struct.length)continue;if(p!==r.struct.id.client)Md(a,r.struct,r.offset),r={struct:g,offset:0},h.next();else if(r.struct.id.clock+r.struct.length<g.id.clock)if(r.struct.constructor===vi)r.struct.length=g.id.clock+g.length-r.struct.id.clock;else{Md(a,r.struct,r.offset);const v=g.id.clock-r.struct.id.clock-r.struct.length;r={struct:new vi(Je(p,r.struct.id.clock+r.struct.length),v),offset:0}}else{const v=r.struct.id.clock+r.struct.length-g.id.clock;v>0&&(r.struct.constructor===vi?r.struct.length-=v:g=uG(g,v)),r.struct.mergeWith(g)||(Md(a,r.struct,r.offset),r={struct:g,offset:0},h.next())}}else r={struct:h.curr,offset:0},h.next();for(let g=h.curr;g!==null&&g.id.client===p&&g.id.clock===r.struct.id.clock+r.struct.length&&g.constructor!==vi;g=h.next())Md(a,r.struct,r.offset),r={struct:g,offset:0}}r!==null&&(Md(a,r.struct,r.offset),r=null),dG(a);const u=o.map(h=>Pq(h)),d=$w(u);return jx(s,d),s.toUint8Array()},ND=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:wi(t.encoder.restEncoder)}),t.encoder.restEncoder=Yf(),t.written=0)},Md=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&ND(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),ft(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},dG=t=>{ND(t);const e=t.encoder.restEncoder;ft(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const o=t.clientStructs[n];ft(e,o.written),yb(e,o.restEncoder)}},DA="You must not compute changes after the event-handler fired.";class xb{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=fG(this.currentTarget,this.target))}deletes(e){return fu(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw al(DA);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const r=n._map.get(i);let s,a;if(this.adds(r)){let u=r.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(r))if(u!==null&&this.deletes(u))s="delete",a=sv(u.content.getContent());else return;else u!==null&&this.deletes(u)?(s="update",a=sv(u.content.getContent())):(s="add",a=void 0)}else if(this.deletes(r))s="delete",a=sv(r.content.getContent());else return;e.set(i,{action:s,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw al(DA);const n=this.target,o=va(),i=va(),r=[];if(e={added:o,deleted:i,delta:r,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const u=()=>{a&&r.push(a)};for(let d=n._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((a===null||a.delete===void 0)&&(u(),a={delete:0}),a.delete+=d.length,i.add(d)):this.adds(d)?((a===null||a.insert===void 0)&&(u(),a={insert:[]}),a.insert=a.insert.concat(d.content.getContent()),o.add(d)):((a===null||a.retain===void 0)&&(u(),a={retain:0}),a.retain+=d.length);a!==null&&a.retain===void 0&&u()}this._changes=e}return e}}const fG=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let o=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(o+=i.length),i=i.right;n.unshift(o)}e=e._item.parent}return n},$n=()=>{vD("Invalid access: Add Yjs type to a document before reading data.")},DD=80;let Ix=0;class hG{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Ix++}}const pG=t=>{t.timestamp=Ix++},LD=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Ix++},mG=(t,e,n)=>{if(t.length>=DD){const o=t.reduce((i,r)=>i.timestamp<r.timestamp?i:r);return LD(o,e,n),o}else{const o=new hG(e,n);return t.push(o),o}},Cb=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((r,s)=>pm(e-r.index)<pm(e-s.index)?r:s);let o=t._start,i=0;for(n!==null&&(o=n.p,i=n.index,pG(n));o.right!==null&&i<e;){if(!o.deleted&&o.countable){if(e<i+o.length)break;i+=o.length}o=o.right}for(;o.left!==null&&i>e;)o=o.left,!o.deleted&&o.countable&&(i-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(i-=o.length);return n!==null&&pm(n.index-i)<o.parent.length/DD?(LD(n,o,i),n):mG(t._searchMarker,o,i)},Nf=(t,e,n)=>{for(let o=t.length-1;o>=0;o--){const i=t[o];if(n>0){let r=i.p;for(r.marker=!1;r&&(r.deleted||!r.countable);)r=r.left,r&&!r.deleted&&r.countable&&(i.index-=r.length);if(r===null||r.marker===!0){t.splice(o,1);continue}i.p=r,r.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=rr(e,i.index+n))}},Sb=(t,e,n)=>{const o=t,i=e.changedParentTypes;for(;pr(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;_D(o._eH,n,e)};class xn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=CA(),this._dEH=CA(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Si()}clone(){throw Si()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){SA(this._eH,e)}observeDeep(e){SA(this._dEH,e)}unobserve(e){_A(this._eH,e)}unobserveDeep(e){_A(this._dEH,e)}toJSON(){}}const BD=(t,e,n)=>{t.doc??$n(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let o=n-e;const i=[];let r=t._start;for(;r!==null&&o>0;){if(r.countable&&!r.deleted){const s=r.content.getContent();if(s.length<=e)e-=s.length;else{for(let a=e;a<s.length&&o>0;a++)i.push(s[a]),o--;e=0}}r=r.right}return i},jD=t=>{t.doc??$n();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let i=0;i<o.length;i++)e.push(o[i])}n=n.right}return e},HD=(t,e)=>{const n=[];let o=t._start;for(;o!==null;){if(o.countable&&Xl(o,e)){const i=o.content.getContent();for(let r=0;r<i.length;r++)n.push(i[r])}o=o.right}return n},Df=(t,e)=>{let n=0,o=t._start;for(t.doc??$n();o!==null;){if(o.countable&&!o.deleted){const i=o.content.getContent();for(let r=0;r<i.length;r++)e(i[r],n++,t)}o=o.right}},ID=(t,e)=>{const n=[];return Df(t,(o,i)=>{n.push(e(o,i,t))}),n},gG=t=>{let e=t._start,n=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),o=0,e=e.right}const i=n[o++];return n.length<=o&&(n=null),{done:!1,value:i}}}},zD=(t,e)=>{t.doc??$n();const n=Cb(t,e);let o=t._start;for(n!==null&&(o=n.p,e-=n.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},xg=(t,e,n,o)=>{let i=n;const r=t.doc,s=r.clientID,a=r.store,u=n===null?e._start:n.right;let d=[];const h=()=>{d.length>0&&(i=new xt(Je(s,tn(a,s)),i,i&&i.lastId,u,u&&u.id,e,null,new xa(d)),i.integrate(t,0),d=[])};o.forEach(p=>{if(p===null)d.push(p);else switch(p.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(p);break;default:switch(h(),p.constructor){case Uint8Array:case ArrayBuffer:i=new xt(Je(s,tn(a,s)),i,i&&i.lastId,u,u&&u.id,e,null,new Wf(new Uint8Array(p))),i.integrate(t,0);break;case Aa:i=new xt(Je(s,tn(a,s)),i,i&&i.lastId,u,u&&u.id,e,null,new Xf(p)),i.integrate(t,0);break;default:if(p instanceof xn)i=new xt(Je(s,tn(a,s)),i,i&&i.lastId,u,u&&u.id,e,null,new Ni(p)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),h()},PD=()=>al("Length exceeded!"),VD=(t,e,n,o)=>{if(n>e._length)throw PD();if(n===0)return e._searchMarker&&Nf(e._searchMarker,n,o.length),xg(t,e,null,o);const i=n,r=Cb(e,n);let s=e._start;for(r!==null&&(s=r.p,n-=r.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&yo(t,Je(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&Nf(e._searchMarker,i,o.length),xg(t,e,s,o)},bG=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((r,s)=>s.index>r.index?s:r,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return xg(t,e,i,n)},$D=(t,e,n,o)=>{if(o===0)return;const i=n,r=o,s=Cb(e,n);let a=e._start;for(s!==null&&(a=s.p,n-=s.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&yo(t,Je(a.id.client,a.id.clock+n)),n-=a.length);for(;o>0&&a!==null;)a.deleted||(o<a.length&&yo(t,Je(a.id.client,a.id.clock+o)),a.delete(t),o-=a.length),a=a.right;if(o>0)throw PD();e._searchMarker&&Nf(e._searchMarker,i,-r+o)},Cg=(t,e,n)=>{const o=e._map.get(n);o!==void 0&&o.delete(t)},zx=(t,e,n,o)=>{const i=e._map.get(n)||null,r=t.doc,s=r.clientID;let a;if(o==null)a=new xa([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:a=new xa([o]);break;case Uint8Array:a=new Wf(o);break;case Aa:a=new Xf(o);break;default:if(o instanceof xn)a=new Ni(o);else throw new Error("Unexpected content type")}new xt(Je(s,tn(r.store,s)),i,i&&i.lastId,null,null,e,n,a).integrate(t,0)},Px=(t,e)=>{t.doc??$n();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},UD=t=>{const e={};return t.doc??$n(),t._map.forEach((n,o)=>{n.deleted||(e[o]=n.content.getContent()[n.length-1])}),e},FD=(t,e)=>{t.doc??$n();const n=t._map.get(e);return n!==void 0&&!n.deleted},yG=(t,e)=>{const n={};return t._map.forEach((o,i)=>{let r=o;for(;r!==null&&(!e.sv.has(r.id.client)||r.id.clock>=(e.sv.get(r.id.client)||0));)r=r.left;r!==null&&Xl(r,e)&&(n[i]=r.content.getContent()[r.length-1])}),n},qp=t=>(t.doc??$n(),Hq(t._map.entries(),e=>!e[1].deleted));class vG extends xb{}class qc extends xn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new qc;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new qc}clone(){const e=new qc;return e.insert(0,this.toArray().map(n=>n instanceof xn?n.clone():n)),e}get length(){return this.doc??$n(),this._length}_callObserver(e,n){super._callObserver(e,n),Sb(this,e,new vG(this,e))}insert(e,n){this.doc!==null?Ot(this.doc,o=>{VD(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Ot(this.doc,n=>{bG(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Ot(this.doc,o=>{$D(o,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return zD(this,e)}toArray(){return jD(this)}slice(e=0,n=this.length){return BD(this,e,n)}toJSON(){return this.map(e=>e instanceof xn?e.toJSON():e)}map(e){return ID(this,e)}forEach(e){Df(this,e)}[Symbol.iterator](){return gG(this)}_write(e){e.writeTypeRef(FG)}}const wG=t=>new qc;class kG extends xb{constructor(e,n,o){super(e,n),this.keysChanged=o}}class ru extends xn{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((o,i)=>{this.set(i,o)}),this._prelimContent=null}_copy(){return new ru}clone(){const e=new ru;return this.forEach((n,o)=>{e.set(o,n instanceof xn?n.clone():n)}),e}_callObserver(e,n){Sb(this,e,new kG(this,e,n))}toJSON(){this.doc??$n();const e={};return this._map.forEach((n,o)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[o]=i instanceof xn?i.toJSON():i}}),e}get size(){return[...qp(this)].length}keys(){return dv(qp(this),e=>e[0])}values(){return dv(qp(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return dv(qp(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??$n(),this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Ot(this.doc,n=>{Cg(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Ot(this.doc,o=>{zx(o,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Px(this,e)}has(e){return FD(this,e)}clear(){this.doc!==null?Ot(this.doc,e=>{this.forEach(function(n,o,i){Cg(e,i,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(qG)}}const xG=t=>new ru,Qs=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&hq(t,e);class Gw{constructor(e,n,o,i){this.left=e,this.right=n,this.index=o,this.currentAttributes=i}forward(){switch(this.right===null&&_o(),this.right.content.constructor){case cn:this.right.deleted||hu(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const LA=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case cn:e.right.deleted||hu(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&yo(t,Je(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Gp=(t,e,n,o)=>{const i=new Map,r=o?Cb(e,n):null;if(r){const s=new Gw(r.p.left,r.p,r.index,i);return LA(t,s,n-r.index)}else{const s=new Gw(null,e._start,0,i);return LA(t,s,n)}},qD=(t,e,n,o)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===cn&&Qs(o.get(n.right.content.key),n.right.content.value));)n.right.deleted||o.delete(n.right.content.key),n.forward();const i=t.doc,r=i.clientID;o.forEach((s,a)=>{const u=n.left,d=n.right,h=new xt(Je(r,tn(i.store,r)),u,u&&u.lastId,d,d&&d.id,e,null,new cn(a,s));h.integrate(t,0),n.right=h,n.forward()})},hu=(t,e)=>{const{key:n,value:o}=e;o===null?t.delete(n):t.set(n,o)},GD=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===cn&&Qs(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},KD=(t,e,n,o)=>{const i=t.doc,r=i.clientID,s=new Map;for(const a in o){const u=o[a],d=n.currentAttributes.get(a)??null;if(!Qs(d,u)){s.set(a,d);const{left:h,right:p}=n;n.right=new xt(Je(r,tn(i.store,r)),h,h&&h.lastId,p,p&&p.id,e,null,new cn(a,u)),n.right.integrate(t,0),n.forward()}}return s},pv=(t,e,n,o,i)=>{n.currentAttributes.forEach((g,b)=>{i[b]===void 0&&(i[b]=null)});const r=t.doc,s=r.clientID;GD(n,i);const a=KD(t,e,n,i),u=o.constructor===String?new Ei(o):o instanceof xn?new Ni(o):new Oa(o);let{left:d,right:h,index:p}=n;e._searchMarker&&Nf(e._searchMarker,n.index,u.getLength()),h=new xt(Je(s,tn(r.store,s)),d,d&&d.lastId,h,h&&h.id,e,null,u),h.integrate(t,0),n.right=h,n.index=p,n.forward(),qD(t,e,n,a)},BA=(t,e,n,o,i)=>{const r=t.doc,s=r.clientID;GD(n,i);const a=KD(t,e,n,i);e:for(;n.right!==null&&(o>0||a.size>0&&(n.right.deleted||n.right.content.constructor===cn));){if(!n.right.deleted)switch(n.right.content.constructor){case cn:{const{key:u,value:d}=n.right.content,h=i[u];if(h!==void 0){if(Qs(h,d))a.delete(u);else{if(o===0)break e;a.set(u,d)}n.right.delete(t)}else n.currentAttributes.set(u,d);break}default:o<n.right.length&&yo(t,Je(n.right.id.client,n.right.id.clock+o)),o-=n.right.length;break}n.forward()}if(o>0){let u="";for(;o>0;o--)u+=`
`;n.right=new xt(Je(s,tn(r.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Ei(u)),n.right.integrate(t,0),n.forward()}qD(t,e,n,a)},ZD=(t,e,n,o,i)=>{let r=e;const s=di();for(;r&&(!r.countable||r.deleted);){if(!r.deleted&&r.content.constructor===cn){const d=r.content;s.set(d.key,d)}r=r.right}let a=0,u=!1;for(;e!==r;){if(n===e&&(u=!0),!e.deleted){const d=e.content;switch(d.constructor){case cn:{const{key:h,value:p}=d,g=o.get(h)??null;(s.get(h)!==d||g===p)&&(e.delete(t),a++,!u&&(i.get(h)??null)===p&&g!==p&&(g===null?i.delete(h):i.set(h,g))),!u&&!e.deleted&&hu(i,d);break}}}e=e.right}return a},CG=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===cn){const o=e.content.key;n.has(o)?e.delete(t):n.add(o)}e=e.left}},SG=t=>{let e=0;return Ot(t.doc,n=>{let o=t._start,i=t._start,r=di();const s=Bw(r);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case cn:hu(s,i.content);break;default:e+=ZD(n,o,i,r,s),r=Bw(s),o=i;break}i=i.right}}),e},_G=t=>{const e=new Set,n=t.doc;for(const[o,i]of t.afterState.entries()){const r=t.beforeState.get(o)||0;i!==r&&AD(t,n.store.clients.get(o),r,i,s=>{!s.deleted&&s.content.constructor===cn&&s.constructor!==ai&&e.add(s.parent)})}Ot(n,o=>{cl(t,t.deleteSet,i=>{if(i instanceof ai||!i.parent._hasFormatting||e.has(i.parent))return;const r=i.parent;i.content.constructor===cn?e.add(r):CG(o,i)});for(const i of e)SG(i)})},jA=(t,e,n)=>{const o=n,i=Bw(e.currentAttributes),r=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Ni:case Oa:case Ei:n<e.right.length&&yo(t,Je(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}r&&ZD(t,r,e.right,i,e.currentAttributes);const s=(e.left||e.right).parent;return s._searchMarker&&Nf(s._searchMarker,e.index,-o+n),e};class EG extends xb{constructor(e,n,o){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Ot(e,o=>{const i=new Map,r=new Map;let s=this.target._start,a=null;const u={};let d="",h=0,p=0;const g=()=>{if(a!==null){let b=null;switch(a){case"delete":p>0&&(b={delete:p}),p=0;break;case"insert":(typeof d=="object"||d.length>0)&&(b={insert:d},i.size>0&&(b.attributes={},i.forEach((v,k)=>{v!==null&&(b.attributes[k]=v)}))),d="";break;case"retain":h>0&&(b={retain:h},dq(u)||(b.attributes=cq({},u))),h=0;break}b&&n.push(b),a=null}};for(;s!==null;){switch(s.content.constructor){case Ni:case Oa:this.adds(s)?this.deletes(s)||(g(),a="insert",d=s.content.getContent()[0],g()):this.deletes(s)?(a!=="delete"&&(g(),a="delete"),p+=1):s.deleted||(a!=="retain"&&(g(),a="retain"),h+=1);break;case Ei:this.adds(s)?this.deletes(s)||(a!=="insert"&&(g(),a="insert"),d+=s.content.str):this.deletes(s)?(a!=="delete"&&(g(),a="delete"),p+=s.length):s.deleted||(a!=="retain"&&(g(),a="retain"),h+=s.length);break;case cn:{const{key:b,value:v}=s.content;if(this.adds(s)){if(!this.deletes(s)){const k=i.get(b)??null;Qs(k,v)?v!==null&&s.delete(o):(a==="retain"&&g(),Qs(v,r.get(b)??null)?delete u[b]:u[b]=v)}}else if(this.deletes(s)){r.set(b,v);const k=i.get(b)??null;Qs(k,v)||(a==="retain"&&g(),u[b]=k)}else if(!s.deleted){r.set(b,v);const k=u[b];k!==void 0&&(Qs(k,v)?k!==null&&s.delete(o):(a==="retain"&&g(),v===null?delete u[b]:u[b]=v))}s.deleted||(a==="insert"&&g(),hu(i,s.content));break}}s=s.right}for(g();n.length>0;){const b=n[n.length-1];if(b.retain!==void 0&&b.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class ul extends xn{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??$n(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new ul}clone(){const e=new ul;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const o=new EG(this,e,n);Sb(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??$n();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Ei&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Ot(this.doc,o=>{const i=new Gw(null,this._start,0,new Map);for(let r=0;r<e.length;r++){const s=e[r];if(s.insert!==void 0){const a=!n&&typeof s.insert=="string"&&r===e.length-1&&i.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&pv(o,this,i,a,s.attributes||{})}else s.retain!==void 0?BA(o,this,i,s.retain,s.attributes||{}):s.delete!==void 0&&jA(o,i,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,o){this.doc??$n();const i=[],r=new Map,s=this.doc;let a="",u=this._start;function d(){if(a.length>0){const p={};let g=!1;r.forEach((v,k)=>{g=!0,p[k]=v});const b={insert:a};g&&(b.attributes=p),i.push(b),a=""}}const h=()=>{for(;u!==null;){if(Xl(u,e)||n!==void 0&&Xl(u,n))switch(u.content.constructor){case Ei:{const p=r.get("ychange");e!==void 0&&!Xl(u,e)?(p===void 0||p.user!==u.id.client||p.type!=="removed")&&(d(),r.set("ychange",o?o("removed",u.id):{type:"removed"})):n!==void 0&&!Xl(u,n)?(p===void 0||p.user!==u.id.client||p.type!=="added")&&(d(),r.set("ychange",o?o("added",u.id):{type:"added"})):p!==void 0&&(d(),r.delete("ychange")),a+=u.content.str;break}case Ni:case Oa:{d();const p={insert:u.content.getContent()[0]};if(r.size>0){const g={};p.attributes=g,r.forEach((b,v)=>{g[v]=b})}i.push(p);break}case cn:Xl(u,e)&&(d(),hu(r,u.content));break}u=u.right}d()};return e||n?Ot(s,p=>{e&&Fw(p,e),n&&Fw(p,n),h()},"cleanup"):h(),i}insert(e,n,o){if(n.length<=0)return;const i=this.doc;i!==null?Ot(i,r=>{const s=Gp(r,this,e,!o);o||(o={},s.currentAttributes.forEach((a,u)=>{o[u]=a})),pv(r,this,s,n,o)}):this._pending.push(()=>this.insert(e,n,o))}insertEmbed(e,n,o){const i=this.doc;i!==null?Ot(i,r=>{const s=Gp(r,this,e,!o);pv(r,this,s,n,o||{})}):this._pending.push(()=>this.insertEmbed(e,n,o||{}))}delete(e,n){if(n===0)return;const o=this.doc;o!==null?Ot(o,i=>{jA(i,Gp(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,o){if(n===0)return;const i=this.doc;i!==null?Ot(i,r=>{const s=Gp(r,this,e,!1);s.right!==null&&BA(r,this,s,n,o)}):this._pending.push(()=>this.format(e,n,o))}removeAttribute(e){this.doc!==null?Ot(this.doc,n=>{Cg(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Ot(this.doc,o=>{zx(o,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Px(this,e)}getAttributes(){return UD(this)}_write(e){e.writeTypeRef(GG)}}const MG=t=>new ul;class mv{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??$n()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Pn||n.constructor===ka)&&n._start!==null)e=n._start;else for(;e!==null;){const o=e.next;if(o!==null){e=o;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class ka extends xn{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ka}clone(){const e=new ka;return e.insert(0,this.toArray().map(n=>n instanceof xn?n.clone():n)),e}get length(){return this.doc??$n(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new mv(this,e)}querySelector(e){e=e.toUpperCase();const o=new mv(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),wa(new mv(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){Sb(this,e,new OG(this,n,e))}toString(){return ID(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},o){const i=e.createDocumentFragment();return o!==void 0&&o._createAssociation(i,this),Df(this,r=>{i.insertBefore(r.toDOM(e,n,o),null)}),i}insert(e,n){this.doc!==null?Ot(this.doc,o=>{VD(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Ot(this.doc,o=>{const i=e&&e instanceof xn?e._item:e;xg(o,this,i,n)});else{const o=this._prelimContent,i=e===null?0:o.findIndex(r=>r===e)+1;if(i===0&&e!==null)throw al("Reference item not found");o.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?Ot(this.doc,o=>{$D(o,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return jD(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return zD(this,e)}slice(e=0,n=this.length){return BD(this,e,n)}forEach(e){Df(this,e)}_write(e){e.writeTypeRef(ZG)}}const TG=t=>new ka;class Pn extends ka{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((o,i)=>{this.setAttribute(i,o)}),this._prelimAttrs=null}_copy(){return new Pn(this.nodeName)}clone(){const e=new Pn(this.nodeName),n=this.getAttributes();return uq(n,(o,i)=>{typeof o=="string"&&e.setAttribute(i,o)}),e.insert(0,this.toArray().map(o=>o instanceof xn?o.clone():o)),e}toString(){const e=this.getAttributes(),n=[],o=[];for(const a in e)o.push(a);o.sort();const i=o.length;for(let a=0;a<i;a++){const u=o[a];n.push(u+'="'+e[u]+'"')}const r=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${r}${s}>${super.toString()}</${r}>`}removeAttribute(e){this.doc!==null?Ot(this.doc,n=>{Cg(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Ot(this.doc,o=>{zx(o,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Px(this,e)}hasAttribute(e){return FD(this,e)}getAttributes(e){return e?yG(this,e):UD(this)}toDOM(e=document,n={},o){const i=e.createElement(this.nodeName),r=this.getAttributes();for(const s in r){const a=r[s];typeof a=="string"&&i.setAttribute(s,a)}return Df(this,s=>{i.appendChild(s.toDOM(e,n,o))}),o!==void 0&&o._createAssociation(i,this),i}_write(e){e.writeTypeRef(KG),e.writeKey(this.nodeName)}}const AG=t=>new Pn(t.readKey());class OG extends xb{constructor(e,n,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Sg extends ru{constructor(e){super(),this.hookName=e}_copy(){return new Sg(this.hookName)}clone(){const e=new Sg(this.hookName);return this.forEach((n,o)=>{e.set(o,n)}),e}toDOM(e=document,n={},o){const i=n[this.hookName];let r;return i!==void 0?r=i.createDom(this):r=document.createElement(this.hookName),r.setAttribute("data-yjs-hook",this.hookName),o!==void 0&&o._createAssociation(r,this),r}_write(e){e.writeTypeRef(YG),e.writeKey(this.hookName)}}const RG=t=>new Sg(t.readKey());class ko extends ul{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new ko}clone(){const e=new ko;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,o){const i=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const r=[];for(const s in e.attributes[i])r.push({key:s,value:e.attributes[i][s]});r.sort((s,a)=>s.key<a.key?-1:1),n.push({nodeName:i,attrs:r})}n.sort((i,r)=>i.nodeName<r.nodeName?-1:1);let o="";for(let i=0;i<n.length;i++){const r=n[i];o+=`<${r.nodeName}`;for(let s=0;s<r.attrs.length;s++){const a=r.attrs[s];o+=` ${a.key}="${a.value}"`}o+=">"}o+=e.insert;for(let i=n.length-1;i>=0;i--)o+=`</${n[i].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(WG)}}const NG=t=>new ko;class Vx{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Si()}mergeWith(e){return!1}write(e,n,o){throw Si()}integrate(e,n){throw Si()}}const DG=0;class ai extends Vx{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),TD(e.doc.store,this)}write(e,n){e.writeInfo(DG),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Wf{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Wf(this.content)}splice(e){throw Si()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const LG=t=>new Wf(t.readBuf());class Lf{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Lf(this.len)}splice(e){const n=new Lf(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Tf(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const BG=t=>new Lf(t.readLen()),YD=(t,e)=>new Aa({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Xf{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Xf(YD(this.doc.guid,this.opts))}splice(e){throw Si()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const jG=t=>new Xf(YD(t.readString(),t.readAny()));class Oa{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Oa(this.embed)}splice(e){throw Si()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const HG=t=>new Oa(t.readJSON());class cn{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new cn(this.key,this.value)}splice(e){throw Si()}mergeWith(e){return!1}integrate(e,n){const o=n.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const IG=t=>new cn(t.readKey(),t.readJSON());class _g{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new _g(this.arr)}splice(e){const n=new _g(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let i=n;i<o;i++){const r=this.arr[i];e.writeString(r===void 0?"undefined":JSON.stringify(r))}}getRef(){return 2}}const zG=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new _g(n)},PG=wg("node_env")==="development";class xa{constructor(e){this.arr=e,PG&&dD(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new xa(this.arr)}splice(e){const n=new xa(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let i=n;i<o;i++){const r=this.arr[i];e.writeAny(r)}}getRef(){return 8}}const VG=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++)n.push(t.readAny());return new xa(n)};class Ei{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Ei(this.str)}splice(e){const n=new Ei(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const $G=t=>new Ei(t.readString()),UG=[wG,xG,MG,AG,TG,RG,NG],FG=0,qG=1,GG=2,KG=3,ZG=4,YG=5,WG=6;class Ni{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Ni(this.type._copy())}splice(e){throw Si()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const XG=t=>new Ni(UG[t.readTypeRef()](t)),Kw=(t,e)=>{let n=e,o=0,i;do o>0&&(n=Je(n.client,n.clock+o)),i=Fc(t,n),o=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof xt);return{item:i,diff:o}},$x=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},Eg=(t,e,n)=>{const{client:o,clock:i}=e.id,r=new xt(Je(o,i+n),e,Je(o,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&r.markDeleted(),e.keep&&(r.keep=!0),e.redone!==null&&(r.redone=Je(e.redone.client,e.redone.clock+n)),e.right=r,r.right!==null&&(r.right.left=r),t._mergeStructs.push(r),r.parentSub!==null&&r.right===null&&r.parent._map.set(r.parentSub,r),e.length=n,r},HA=(t,e)=>xF(t,n=>fu(n.deletions,e)),WD=(t,e,n,o,i,r)=>{const s=t.doc,a=s.store,u=s.clientID,d=e.redone;if(d!==null)return yo(t,d);let h=e.parent._item,p=null,g;if(h!==null&&h.deleted===!0){if(h.redone===null&&(!n.has(h)||WD(t,h,n,o,i,r)===null))return null;for(;h.redone!==null;)h=yo(t,h.redone)}const b=h===null?e.parent:h.content.type;if(e.parentSub===null){for(p=e.left,g=e;p!==null;){let _=p;for(;_!==null&&_.parent._item!==h;)_=_.redone===null?null:yo(t,_.redone);if(_!==null&&_.parent._item===h){p=_;break}p=p.left}for(;g!==null;){let _=g;for(;_!==null&&_.parent._item!==h;)_=_.redone===null?null:yo(t,_.redone);if(_!==null&&_.parent._item===h){g=_;break}g=g.right}}else if(g=null,e.right&&!i){for(p=e;p!==null&&p.right!==null&&(p.right.redone||fu(o,p.right.id)||HA(r.undoStack,p.right.id)||HA(r.redoStack,p.right.id));)for(p=p.right;p.redone;)p=yo(t,p.redone);if(p&&p.right!==null)return null}else p=b._map.get(e.parentSub)||null;const v=tn(a,u),k=Je(u,v),C=new xt(k,p,p&&p.lastId,g,g&&g.id,b,e.parentSub,e.content.copy());return e.redone=k,$x(C,!0),C.integrate(t,0),C};class xt extends Vx{constructor(e,n,o,i,r,s,a,u){super(e,u.getLength()),this.origin=o,this.left=n,this.right=i,this.rightOrigin=r,this.parent=s,this.parentSub=a,this.redone=null,this.content=u,this.info=this.content.isCountable()?fA:0}set marker(e){(this.info&av)>0!==e&&(this.info^=av)}get marker(){return(this.info&av)>0}get keep(){return(this.info&dA)>0}set keep(e){this.keep!==e&&(this.info^=dA)}get countable(){return(this.info&fA)>0}get deleted(){return(this.info&lv)>0}set deleted(e){this.deleted!==e&&(this.info^=lv)}markDeleted(){this.info|=lv}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=tn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=tn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Uc&&this.id.client!==this.parent.client&&this.parent.clock>=tn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=MA(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=yo(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===ai||this.right&&this.right.constructor===ai)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===xt?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===xt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Uc){const o=Fc(n,this.parent);o.constructor===ai?this.parent=null:this.parent=o.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=MA(e,e.doc.store,Je(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,i;if(o!==null)i=o.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const r=new Set,s=new Set;for(;i!==null&&i!==this.right;){if(s.add(i),r.add(i),Dc(this.origin,i.origin)){if(i.id.client<this.id.client)o=i,r.clear();else if(Dc(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&s.has(Fc(e.doc.store,i.origin)))r.has(Fc(e.doc.store,i.origin))||(o=i,r.clear());else break;i=i.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),TD(e.doc.store,this),this.content.integrate(e,this),AA(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new ai(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Je(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Dc(e.origin,this.lastId)&&this.right===e&&Dc(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Tf(e.deleteSet,this.id.client,this.id.clock,this.length),AA(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw _o();this.content.gc(e),n?nG(e,this,new ai(this.id,this.length)):this.content=new Lf(this.length)}write(e,n){const o=n>0?Je(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,r=this.parentSub,s=this.content.getRef()&bb|(o===null?0:to)|(i===null?0:Xr)|(r===null?0:_f);if(e.writeInfo(s),o!==null&&e.writeLeftID(o),i!==null&&e.writeRightID(i),o===null&&i===null){const a=this.parent;if(a._item!==void 0){const u=a._item;if(u===null){const d=Af(a);e.writeParentInfo(!0),e.writeString(d)}else e.writeParentInfo(!1),e.writeLeftID(u.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Uc?(e.writeParentInfo(!1),e.writeLeftID(a)):_o();r!==null&&e.writeString(r)}this.content.write(e,n)}}const XD=(t,e)=>JG[e&bb](t),JG=[()=>{_o()},BG,zG,LG,$G,HG,IG,XG,VG,jG,()=>{_o()}],QG=10;class vi extends Vx{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){_o()}write(e,n){e.writeInfo(QG),ft(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const JD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},QD="__ $YJS$ __";JD[QD]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");JD[QD]=!0;const eK=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},tK=/[\uD800-\uDBFF]/,nK=/[\uDC00-\uDFFF]/,oK=(t,e)=>{let n=0,o=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&tK.test(t[n-1])&&n--;o+n<t.length&&o+n<e.length&&t[t.length-o-1]===e[e.length-o-1];)o++;return o>0&&nK.test(t[t.length-o])&&o--,{index:n,remove:t.length-n-o,insert:e.slice(n,e.length-o)}},iK=oK,Rt=new at("y-sync"),Jr=new at("y-undo"),Kp=new at("yjs-cursor"),Qi=(t,e)=>t>>>e|t<<32-e,rK=t=>Qi(t,2)^Qi(t,13)^Qi(t,22),sK=t=>Qi(t,6)^Qi(t,11)^Qi(t,25),lK=t=>Qi(t,7)^Qi(t,18)^t>>>3,aK=t=>Qi(t,17)^Qi(t,19)^t>>>10,cK=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),uK=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class dK{constructor(){const e=new ArrayBuffer(320);this._H=new Uint32Array(e,0,8),this._H.set(uK),this._W=new Uint32Array(e,64,64)}_updateHash(){const e=this._H,n=this._W;for(let p=16;p<64;p++)n[p]=aK(n[p-2])+n[p-7]+lK(n[p-15])+n[p-16];let o=e[0],i=e[1],r=e[2],s=e[3],a=e[4],u=e[5],d=e[6],h=e[7];for(let p=0,g,b;p<64;p++)g=h+sK(a)+(a&u^~a&d)+cK[p]+n[p]>>>0,b=rK(o)+(o&i^o&r^i&r)>>>0,h=d,d=u,u=a,a=s+g>>>0,s=r,r=i,i=o,o=g+b>>>0;e[0]+=o,e[1]+=i,e[2]+=r,e[3]+=s,e[4]+=a,e[5]+=u,e[6]+=d,e[7]+=h}digest(e){let n=0;for(;n+56<=e.length;){let s=0;for(;s<16&&n+3<e.length;s++)this._W[s]=e[n++]<<24|e[n++]<<16|e[n++]<<8|e[n++];if(n%64!==0){for(this._W.fill(0,s,16);n<e.length;)this._W[s]|=e[n]<<(3-n%4)*8,n++;this._W[s]|=to<<(3-n%4)*8}this._updateHash()}const o=n%64!==0;this._W.fill(0,0,16);let i=0;for(;n<e.length;i++)for(let s=3;s>=0&&n<e.length;s--)this._W[i]|=e[n++]<<s*8;o||(this._W[i-(n%4===0?0:1)]|=to<<(3-n%4)*8),this._W[14]=e.byteLength/CF,this._W[15]=e.byteLength*8,this._updateHash();const r=new Uint8Array(32);for(let s=0;s<this._H.length;s++)for(let a=0;a<4;a++)r[s*4+a]=this._H[s]>>>(3-a)*8;return r}}const fK=t=>new dK().digest(t),hK=t=>{for(let n=6;n<t.length;n++)t[n%6]=t[n%6]^t[n];return t.slice(0,6)},pK=t=>kq(hK(fK(xq(t)))),Mg=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!fu(e.ds,t.id),mK=[{light:"#ecd44433",dark:"#ecd444"}],gK=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const o=va();t.forEach(i=>o.add(i)),e=e.filter(i=>!o.has(i))}t.set(n,nq(e))}return t.get(n)},bK=(t,{colors:e=mK,colorMapping:n=new Map,permanentUserData:o=null,onFirstRender:i=()=>{},mapping:r}={})=>{let s=!1;const a=new vK(t,r),u=new Ke({props:{editable:d=>{const h=Rt.getState(d);return h.snapshot==null&&h.prevSnapshot==null}},key:Rt,state:{init:(d,h)=>({type:t,doc:t.doc,binding:a,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:o}),apply:(d,h)=>{const p=d.getMeta(Rt);if(p!==void 0){h=Object.assign({},h);for(const g in p)h[g]=p[g]}return h.addToHistory=d.getMeta("addToHistory")!==!1,h.isChangeOrigin=p!==void 0&&!!p.isChangeOrigin,h.isUndoRedoOperation=p!==void 0&&!!p.isChangeOrigin&&!!p.isUndoRedoOperation,a.prosemirrorView!==null&&p!==void 0&&(p.snapshot!=null||p.prevSnapshot!=null)&&Nx(0,()=>{a.prosemirrorView!=null&&(p.restore==null?a._renderSnapshot(p.snapshot,p.prevSnapshot,h):(a._renderSnapshot(p.snapshot,p.snapshot,h),delete h.restore,delete h.snapshot,delete h.prevSnapshot,a.mux(()=>{a._prosemirrorChanged(a.prosemirrorView.state.doc)})))}),h}},view:d=>(a.initView(d),r==null&&a._forceRerender(),i(),{update:()=>{const h=u.getState(d.state);if(h.snapshot==null&&h.prevSnapshot==null&&(s||d.state.doc.content.findDiffStart(d.state.doc.type.createAndFill().content)!==null)){if(s=!0,h.addToHistory===!1&&!h.isChangeOrigin){const p=Jr.getState(d.state),g=p&&p.undoManager;g&&g.stopCapturing()}a.mux(()=>{h.doc.transact(p=>{p.meta.set("addToHistory",h.addToHistory),a._prosemirrorChanged(d.state.doc)},Rt)})}},destroy:()=>{a.destroy()}})});return u},yK=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null)if(e.type==="all")t.setSelection(new vo(t.doc));else{const o=su(n.doc,n.type,e.anchor,n.mapping),i=su(n.doc,n.type,e.head,n.mapping);o!==null&&i!==null&&(t=t.setSelection(Me.create(t.doc,o,i)))}},Tg=(t,e)=>({type:e.selection.jsonID,anchor:jf(e.selection.anchor,t.type,t.mapping),head:jf(e.selection.head,t.type,t.mapping)});class vK{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=eK(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=Tg(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(hD&&this._domSelectionInView===null&&(Nx(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),r=Sq.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||r.clientWidth||0)&&i.top<=(window.innerHeight||r.clientHeight||0)}renderSnapshot(e,n){n||(n=ED(xD(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Rt,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(o=>ym(o,this.prosemirrorView.state.schema,this)).filter(o=>o!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new me(J.from(e),0,0));n.setMeta(Rt,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>ym(i,this.prosemirrorView.state.schema,this)).filter(i=>i!==null),o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new me(J.from(n),0,0));if(e){const i=Wr(rr(e.anchor,0),o.doc.content.size),r=Wr(rr(e.head,0),o.doc.content.size);o.setSelection(Me.create(o.doc,i,r))}this.prosemirrorView.dispatch(o.setMeta(Rt,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,o){let i=this.doc;e||(e=hv(this.doc)),(e instanceof Uint8Array||n instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&_o(),i=new Aa({gc:!1}),Uw(i,n),n=hv(i),Uw(i,e),e=hv(i)),this.mapping.clear(),this.mux(()=>{i.transact(r=>{const s=o.permanentUserData;s&&s.dss.forEach(h=>{cl(r,h,p=>{})});const a=(h,p)=>{const g=h==="added"?s.getUserByClientId(p.client):s.getUserByDeletedId(p);return{user:g,type:h,color:gK(o.colorMapping,o.colors,g)}},u=HD(this.type,new Hx(n.ds,e.sv)).map(h=>!h._item.deleted||Mg(h._item,e)||Mg(h._item,n)?ym(h,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},e,n,a):null).filter(h=>h!==null),d=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new me(J.from(u),0,0));this.prosemirrorView.dispatch(d.setMeta(Rt,{isChangeOrigin:!0}))},Rt)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const o=Rt.getState(this.prosemirrorView.state);if(e.length===0||o.snapshot!=null||o.prevSnapshot!=null){this.renderSnapshot(o.snapshot,o.prevSnapshot);return}this.mux(()=>{const i=(a,u)=>this.mapping.delete(u);cl(n,n.deleteSet,a=>{if(a.constructor===xt){const u=a.content.type;u&&this.mapping.delete(u)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const r=this.type.toArray().map(a=>eL(a,this.prosemirrorView.state.schema,this)).filter(a=>a!==null);let s=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new me(J.from(r),0,0));yK(s,this.beforeTransactionSelection,this),s=s.setMeta(Rt,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof RD}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&s.scrollIntoView(),this.prosemirrorView.dispatch(s)})}_prosemirrorChanged(e){this.doc.transact(()=>{Yw(this.doc,this.type,e,this),this.beforeTransactionSelection=Tg(this,this.prosemirrorView.state)},Rt)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const eL=(t,e,n,o,i,r)=>{const s=n.mapping.get(t);if(s===void 0){if(t instanceof Pn)return ym(t,e,n,o,i,r);throw Si()}return s},ym=(t,e,n,o,i,r)=>{const s=[],a=u=>{var d,h;if(u instanceof Pn){const p=eL(u,e,n,o,i,r);p!==null&&s.push(p)}else{const p=(h=(d=u._item.right)==null?void 0:d.content)==null?void 0:h.type;p instanceof ul&&!p._item.deleted&&p._item.id.client===p.doc.clientID&&(u.applyDelta([{retain:u.length},...p.toDelta()]),p.doc.transact(b=>{p._item.delete(b)}));const g=wK(u,e,n,o,i,r);g!==null&&g.forEach(b=>{b!==null&&s.push(b)})}};o===void 0||i===void 0?t.toArray().forEach(a):HD(t,new Hx(i.ds,o.sv)).forEach(a);try{const u=t.getAttributes(o);o!==void 0&&(Mg(t._item,o)?Mg(t._item,i)||(u.ychange=r?r("added",t._item.id):{type:"added"}):u.ychange=r?r("removed",t._item.id):{type:"removed"});const d=e.node(t.nodeName,u,s);return n.mapping.set(t,d),d}catch{return t.doc.transact(d=>{t._item.delete(d)},Rt),n.mapping.delete(t),null}},wK=(t,e,n,o,i,r)=>{const s=[],a=t.toDelta(o,i,r);try{for(let u=0;u<a.length;u++){const d=a[u];s.push(e.text(d.insert,EK(d.attributes,e)))}}catch{return t.doc.transact(d=>{t._item.delete(d)},Rt),null}return s},kK=(t,e)=>{const n=new ko,o=t.map(i=>({insert:i.text,attributes:nL(i.marks,e)}));return n.applyDelta(o),e.mapping.set(n,t),n},xK=(t,e)=>{const n=new Pn(t.type.name);for(const o in t.attrs){const i=t.attrs[o];i!==null&&o!=="ychange"&&n.setAttribute(o,i)}return n.insert(0,_b(t).map(o=>Zw(o,e))),e.mapping.set(n,t),n},Zw=(t,e)=>t instanceof Array?kK(t,e):xK(t,e),IA=t=>typeof t=="object"&&t!==null,Ux=(t,e)=>{const n=Object.keys(t).filter(i=>t[i]!==null);let o=n.length===Object.keys(e).filter(i=>e[i]!==null).length;for(let i=0;i<n.length&&o;i++){const r=n[i],s=t[r],a=e[r];o=r==="ychange"||s===a||IA(s)&&IA(a)&&Ux(s,a)}return o},_b=t=>{const e=t.content.content,n=[];for(let o=0;o<e.length;o++){const i=e[o];if(i.isText){const r=[];for(let s=e[o];o<e.length&&s.isText;s=e[++o])r.push(s);o--,n.push(r)}else n.push(i)}return n},tL=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((o,i)=>o.insert===e[i].text&&cD(o.attributes||{}).length===e[i].marks.length&&uD(o.attributes,(r,s)=>{var d;const a=Fx(s),u=e[i].marks;return Ux(r,(d=u.find(h=>h.type.name===a))==null?void 0:d.attrs)}))},Bf=(t,e)=>{if(t instanceof Pn&&!(e instanceof Array)&&Ww(t,e)){const n=_b(e);return t._length===n.length&&Ux(t.getAttributes(),e.attrs)&&t.toArray().every((o,i)=>Bf(o,n[i]))}return t instanceof ko&&e instanceof Array&&tL(t,e)},Ag=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,o)=>e[o]===n),zA=(t,e,n)=>{const o=t.toArray(),i=_b(e),r=i.length,s=o.length,a=Wr(s,r);let u=0,d=0,h=!1;for(;u<a;u++){const p=o[u],g=i[u];if(Ag(n.mapping.get(p),g))h=!0;else if(!Bf(p,g))break}for(;u+d<a;d++){const p=o[s-d-1],g=i[r-d-1];if(Ag(n.mapping.get(p),g))h=!0;else if(!Bf(p,g))break}return{equalityFactor:u+d,foundMappedChild:h}},CK=t=>{let e="",n=t._start;const o={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof Ei?e+=n.content.str:n.content instanceof cn&&(o[n.content.key]=null)),n=n.right;return{str:e,nAttrs:o}},SK=(t,e,n)=>{n.mapping.set(t,e);const{nAttrs:o,str:i}=CK(t),r=e.map(d=>({insert:d.text,attributes:Object.assign({},o,nL(d.marks,n))})),{insert:s,remove:a,index:u}=iK(i,r.map(d=>d.insert).join(""));t.delete(u,a),t.insert(u,s),t.applyDelta(r.map(d=>({retain:d.insert.length,attributes:d.attributes})))},_K=/(.*)(--[a-zA-Z0-9+/=]{8})$/,Fx=t=>{var e;return((e=_K.exec(t))==null?void 0:e[1])??t},EK=(t,e)=>{const n=[];for(const o in t)n.push(e.mark(Fx(o),t[o]));return n},nL=(t,e)=>{const n={};return t.forEach(o=>{if(o.type.name!=="ychange"){const i=pr(e.isOMark,o.type,()=>!o.type.excludes(o.type));n[i?`${o.type.name}--${pK(o.toJSON())}`:o.type.name]=o.attrs}}),n},Yw=(t,e,n,o)=>{if(e instanceof Pn&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(o.mapping.set(e,n),e instanceof Pn){const p=e.getAttributes(),g=n.attrs;for(const b in g)g[b]!==null?p[b]!==g[b]&&b!=="ychange"&&e.setAttribute(b,g[b]):e.removeAttribute(b);for(const b in p)g[b]===void 0&&e.removeAttribute(b)}const i=_b(n),r=i.length,s=e.toArray(),a=s.length,u=Wr(r,a);let d=0,h=0;for(;d<u;d++){const p=s[d],g=i[d];if(!Ag(o.mapping.get(p),g))if(Bf(p,g))o.mapping.set(p,g);else break}for(;h+d+1<u;h++){const p=s[a-h-1],g=i[r-h-1];if(!Ag(o.mapping.get(p),g))if(Bf(p,g))o.mapping.set(p,g);else break}t.transact(()=>{for(;a-d-h>0&&r-d-h>0;){const g=s[d],b=i[d],v=s[a-h-1],k=i[r-h-1];if(g instanceof ko&&b instanceof Array)tL(g,b)||SK(g,b,o),d+=1;else{let C=g instanceof Pn&&Ww(g,b),_=v instanceof Pn&&Ww(v,k);if(C&&_){const M=zA(g,b,o),A=zA(v,k,o);M.foundMappedChild&&!A.foundMappedChild?_=!1:!M.foundMappedChild&&A.foundMappedChild||M.equalityFactor<A.equalityFactor?C=!1:_=!1}C?(Yw(t,g,b,o),d+=1):_?(Yw(t,v,k,o),h+=1):(o.mapping.delete(e.get(d)),e.delete(d,1),e.insert(d,[Zw(b,o)]),d+=1)}}const p=a-d-h;if(a===1&&r===0&&s[0]instanceof ko?(o.mapping.delete(s[0]),s[0].delete(0,s[0].length)):p>0&&(e.slice(d,d+p).forEach(g=>o.mapping.delete(g)),e.delete(d,p)),d+h<r){const g=[];for(let b=d;b<r-h;b++)g.push(Zw(i[b],o));e.insert(d,g)}},Rt)},Ww=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;let sf=null;const MK=()=>{const t=sf;sf=null,t.forEach((e,n)=>{const o=n.state.tr,i=Rt.getState(n.state);i&&i.binding&&!i.binding.isDestroyed&&(e.forEach((r,s)=>{o.setMeta(s,r)}),n.dispatch(o))})},TK=(t,e,n)=>{sf||(sf=new Map,Nx(0,MK)),pr(sf,t,di).set(e,n)},jf=(t,e,n)=>{if(t===0)return fv(e,0,-1);let o=e._first===null?null:e._first.content.type;for(;o!==null&&e!==o;){if(o instanceof ko){if(o._length>=t)return fv(o,t,-1);if(t-=o._length,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{do o=o._item===null?null:o._item.parent,t--;while(o!==e&&o!==null&&o._item!==null&&o._item.next===null);o!==null&&o!==e&&(o=o._item===null?null:o._item.next.content.type)}}else{const i=(n.get(o)||{nodeSize:0}).nodeSize;if(o._first!==null&&t<i)o=o._first.content.type,t--;else{if(t===1&&o._length===0&&i>1)return new Rf(o._item===null?null:o._item.id,o._item===null?Af(o):null,null);if(t-=i,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{if(t===0)return o=o._item===null?o:o._item.parent,new Rf(o._item===null?null:o._item.id,o._item===null?Af(o):null,null);do o=o._item.parent,t--;while(o!==e&&o._item.next===null);o!==e&&(o=o._item.next.content.type)}}}if(o===null)throw _o();if(t===0&&o.constructor!==ko&&o!==e)return AK(o._item.parent,o._item)}return fv(e,e._length,-1)},AK=(t,e)=>{let n=null,o=null;return t._item===null?o=Af(t):n=Je(t._item.id.client,t._item.id.clock),new Rf(n,o,e.id)},su=(t,e,n,o)=>{const i=eG(n,t);if(i===null||i.type!==e&&!Of(e,i.type._item))return null;let r=i.type,s=0;if(r.constructor===ko)s=i.index;else if(r._item===null||!r._item.deleted){let a=r._first,u=0;for(;u<r._length&&u<i.index&&a!==null;){if(!a.deleted){const d=a.content.type;u++,d instanceof ko?s+=d._length:s+=o.get(d).nodeSize}a=a.right}s+=1}for(;r!==e&&r._item!==null;){const a=r._item.parent;if(a._item===null||!a._item.deleted){s+=1;let u=a._first;for(;u!==null;){const d=u.content.type;if(d===r)break;u.deleted||(d instanceof ko?s+=d._length:s+=o.get(d).nodeSize),u=u.right}}r=a}return s-1};function OK(t){const e=t.toArray(),n=o=>{let i;if(o instanceof ko)i=o.toDelta().map(s=>{const a={type:"text",text:s.insert};return s.attributes&&(a.marks=Object.keys(s.attributes).map(u=>{const d=s.attributes[u],p={type:Fx(u)};return Object.keys(d)&&(p.attrs=d),p})),a});else if(o instanceof Pn){i={type:o.nodeName};const r=o.getAttributes();Object.keys(r).length&&(i.attrs=r);const s=o.toArray();s.length&&(i.content=s.map(n).flat())}else _o();return i};return{type:"doc",content:e.map(n)}}const RK=(t,e,n)=>t!==e,NK=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null);const o=document.createTextNode("⁠"),i=document.createTextNode("⁠");return e.insertBefore(o,null),e.insertBefore(n,null),e.insertBefore(i,null),e},oL=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),DK=/^#[0-9a-fA-F]{6}$/,PA=(t,e,n,o,i)=>{const r=Rt.getState(t),s=r.doc,a=[];return r.snapshot!=null||r.prevSnapshot!=null||r.binding.mapping.size===0?it.create(t.doc,[]):(e.getStates().forEach((u,d)=>{if(n(s.clientID,d,u)&&u.cursor!=null){const h=u.user||{};h.color==null?h.color="#ffa500":DK.test(h.color)||console.warn("A user uses an unsupported color format",h),h.name==null&&(h.name=`User: ${d}`);let p=su(s,r.type,rf(u.cursor.anchor),r.binding.mapping),g=su(s,r.type,rf(u.cursor.head),r.binding.mapping);if(p!==null&&g!==null){const b=rr(t.doc.content.size-1,0);p=Wr(p,b),g=Wr(g,b),a.push(vt.widget(g,()=>o(h,d),{key:d+"",side:10}));const v=Wr(p,g),k=rr(p,g);a.push(vt.inline(v,k,i(h,d),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),it.create(t.doc,a))},LK=(t,{awarenessStateFilter:e=RK,cursorBuilder:n=NK,selectionBuilder:o=oL,getSelection:i=s=>s.selection}={},r="cursor")=>new Ke({key:Kp,state:{init(s,a){return PA(a,t,e,n,o)},apply(s,a,u,d){const h=Rt.getState(d),p=s.getMeta(Kp);return h&&h.isChangeOrigin||p&&p.awarenessUpdated?PA(d,t,e,n,o):a.map(s.mapping,s.doc)}},props:{decorations:s=>Kp.getState(s)},view:s=>{const a=()=>{s.docView&&TK(s,Kp,{awarenessUpdated:!0})},u=()=>{const d=Rt.getState(s.state),h=t.getLocalState()||{};if(s.hasFocus()){const p=i(s.state),g=jf(p.anchor,d.type,d.binding.mapping),b=jf(p.head,d.type,d.binding.mapping);(h.cursor==null||!EA(rf(h.cursor.anchor),g)||!EA(rf(h.cursor.head),b))&&t.setLocalStateField(r,{anchor:g,head:b})}else h.cursor!=null&&su(d.doc,d.type,rf(h.cursor.anchor),d.binding.mapping)!==null&&t.setLocalStateField(r,null)};return t.on("change",a),s.dom.addEventListener("focusin",u),s.dom.addEventListener("focusout",u),{update:u,destroy:()=>{s.dom.removeEventListener("focusin",u),s.dom.removeEventListener("focusout",u),t.off("change",a),t.setLocalStateField(r,null)}}}}),BK=t=>{const e=Jr.getState(t).undoManager;if(e!=null)return e.undo(),!0},jK=t=>{const e=Jr.getState(t).undoManager;if(e!=null)return e.redo(),!0},HK=new Set(["paragraph"]),IK=(t,e)=>!(t instanceof xt)||!(t.content instanceof Ni)||!(t.content.type instanceof ul||t.content.type instanceof Pn&&e.has(t.content.type.nodeName))||t.content.type._length===0,zK=({protectedNodes:t=HK,trackedOrigins:e=[],undoManager:n=null}={})=>new Ke({key:Jr,state:{init:(o,i)=>{const r=Rt.getState(i),s=n||new RD(r.type,{trackedOrigins:new Set([Rt].concat(e)),deleteFilter:a=>IK(a,t),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:s,prevSel:null,hasUndoOps:s.undoStack.length>0,hasRedoOps:s.redoStack.length>0}},apply:(o,i,r,s)=>{const a=Rt.getState(s).binding,u=i.undoManager,d=u.undoStack.length>0,h=u.redoStack.length>0;return a?{undoManager:u,prevSel:Tg(a,r),hasUndoOps:d,hasRedoOps:h}:d!==i.hasUndoOps||h!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:u.undoStack.length>0,hasRedoOps:u.redoStack.length>0}):i}},view:o=>{const i=Rt.getState(o.state),r=Jr.getState(o.state).undoManager;return r.on("stack-item-added",({stackItem:s})=>{const a=i.binding;a&&s.meta.set(a,Jr.getState(o.state).prevSel)}),r.on("stack-item-popped",({stackItem:s})=>{const a=i.binding;a&&(a.beforeTransactionSelection=s.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{r.destroy()}}}}),PK=Ct.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Jr.getState(e).undoManager.undoStack.length===0?!1:n?BK(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Jr.getState(e).undoManager.redoStack.length===0?!1:n?jK(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=zK(this.options.yUndoOptions),o=n.spec.view;n.spec.view=s=>{const{undoManager:a}=Jr.getState(s.state);a.restore&&(a.restore(),a.restore=()=>{});const u=o?o(s):void 0;return{destroy:()=>{const d=a.trackedOrigins.has(a),h=a._observers;a.restore=()=>{d&&a.trackedOrigins.add(a),a.doc.on("afterTransaction",a.afterTransactionHandler),a._observers=h},u!=null&&u.destroy&&u.destroy()}}};const i={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},r=bK(e,i);return this.editor.options.enableContentCheck&&((t=e.doc)===null||t===void 0||t.on("beforeTransaction",()=>{try{const s=OK(e);if(s.content.length===0)return;this.editor.schema.nodeFromJSON(s).check()}catch(s){return this.editor.emit("contentError",{error:s,editor:this.editor,disableCollaboration:()=>{var a;(a=e.doc)===null||a===void 0||a.destroy(),this.storage.isDisabled=!0}}),!1}})),[r,n,this.editor.options.enableContentCheck&&new Ke({key:new at("filterInvalidContent"),filterTransaction:()=>{var s;return this.storage.isDisabled&&((s=e.doc)===null||s===void 0||s.destroy()),!0}})].filter(Boolean)}}),VA=t=>Array.from(t.entries()).map(([e,n])=>({clientId:e,...n.user})),$A=()=>null,VK=Ct.create({name:"collaborationCursor",priority:999,addOptions(){return{provider:null,user:{name:null,color:null},render:t=>{const e=document.createElement("span");e.classList.add("collaboration-cursor__caret"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");return n.classList.add("collaboration-cursor__label"),n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null),e.insertBefore(n,null),e},selectionRender:oL,onUpdate:$A}},onCreate(){if(this.options.onUpdate!==$A&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),!this.options.provider)throw new Error('The "provider" option is required for the CollaborationCursor extension')},addStorage(){return{users:[]}},addCommands(){return{updateUser:t=>()=>(this.options.user=t,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:t=>({editor:e})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),e.commands.updateUser(t))}},addProseMirrorPlugins(){return[LK((this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=VA(this.options.provider.awareness.states),this.options.provider.awareness.on("update",()=>{this.storage.users=VA(this.options.provider.awareness.states)}),this.options.provider.awareness),{cursorBuilder:this.options.render,selectionBuilder:this.options.selectionRender})]}});function $K(t={}){return new Ke({view(e){return new UK(e,t)}})}class UK{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let r=s=>{this[i](s)};return e.dom.addEventListener(i,r),{name:i,handler:r}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o;if(n){let a=e.nodeBefore,u=e.nodeAfter;if(a||u){let d=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(d){let h=d.getBoundingClientRect(),p=a?h.bottom:h.top;a&&u&&(p=(p+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:h.left,right:h.right,top:p-this.width/2,bottom:p+this.width/2}}}}if(!o){let a=this.editorView.coordsAtPos(this.cursorPos);o={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let r,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")r=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();r=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=o.left-r+"px",this.element.style.top=o.top-s+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=o&&o.type.spec.disableDropCursor,r=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!r){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=qk(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const iL={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{image:{add_button_text:"Add image"},video:{add_button_text:"Add video"},audio:{add_button_text:"Add audio"},file:{add_button_text:"Add file"}},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found",loading:"Loading…"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:t=>`${t} more replies`}},generic:{ctrl_shortcut:"Ctrl"}};var FK=Object.defineProperty,qK=(t,e,n)=>e in t?FK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e,n)=>qK(t,typeof e!="symbol"?e+"":e,n);class lr extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function Qe(t,e=!0){const{"data-test":n,...o}=t;if(Object.keys(o).length>0&&e)throw new Error("Object must be empty "+JSON.stringify(t))}function ts(t,e){const n=t.resolve(e);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let o=n.depth,i=n.node(o);for(;o>0;){if(i.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(o),node:i};o--,i=n.node(o)}const r=[];t.descendants((a,u)=>{a.type.isInGroup("bnBlock")&&r.push(u)}),console.warn(`Position ${e} is not within a blockContainer node.`);const s=t.resolve(r.find(a=>a>=e)||r[r.length-1]);return{posBeforeNode:s.pos,node:s.nodeAfter}}function qx(t,e){if(!t.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${t.type}`);const n=t,o=e,i=o+n.nodeSize,r={node:n,beforePos:o,afterPos:i};if(n.type.name==="blockContainer"){let s,a;if(n.forEach((u,d)=>{if(u.type.spec.group==="blockContent"){const h=u,p=o+d+1,g=p+u.nodeSize;s={node:h,beforePos:p,afterPos:g}}else if(u.type.name==="blockGroup"){const h=u,p=o+d+1,g=p+u.nodeSize;a={node:h,beforePos:p,afterPos:g}}}),!s)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:r,blockContent:s,childContainer:a,blockNoteType:s.node.type.name}}else{if(!r.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${r.node}`);return{isBlockContainer:!1,bnBlock:r,childContainer:r,blockNoteType:r.node.type.name}}}function dl(t){return qx(t.node,t.posBeforeNode)}function Jf(t){if(!t.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${t.pos} but a node at this position does not exist`);return qx(t.nodeAfter,t.pos)}function yt(t){const e=ts(t.doc,t.selection.anchor);return dl(e)}function GK(t,e=JSON.stringify){const n={};return t.filter(o=>{const i=e(o);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function KK(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return GK(e)}const Qf=Ct.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const t=window.__TEST_OPTIONS;return t.mockID===void 0?t.mockID=0:t.mockID++,t.mockID.toString()}return R4()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:t=>t.getAttribute(`data-${this.options.attributeName}`),renderHTML:t=>{const e={[`data-${this.options.attributeName}`]:t[this.options.attributeName]};return this.options.setIdAttribute?{...e,id:t[this.options.attributeName]}:e}}}}]},addProseMirrorPlugins(){let t=null,e=!1;return[new Ke({key:new at("uniqueID"),appendTransaction:(n,o,i)=>{const r=n.some(b=>b.docChanged)&&!o.doc.eq(i.doc),s=this.options.filterTransaction&&n.some(b=>{let v,k;return!(!((k=(v=this.options).filterTransaction)===null||k===void 0)&&k.call(v,b))});if(!r||s)return;const{tr:a}=i,{types:u,attributeName:d,generateID:h}=this.options,p=v4(o.doc,n),{mapping:g}=p;if(x4(p).forEach(({newRange:b})=>{const v=w4(i.doc,b,_=>u.includes(_.type.name)),k=v.map(({node:_})=>_.attrs[d]).filter(_=>_!==null),C=KK(k);v.forEach(({node:_,pos:M})=>{let A;const O=(A=a.doc.nodeAt(M))===null||A===void 0?void 0:A.attrs[d];if(O===null){const j=o.doc.type.createAndFill().content;if(o.doc.content.findDiffStart(j)===null){const z=JSON.parse(JSON.stringify(i.doc.toJSON()));if(z.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(z.content)===JSON.stringify(j.toJSON())){a.setNodeMarkup(M,void 0,{..._.attrs,[d]:"initialBlockId"});return}}a.setNodeMarkup(M,void 0,{..._.attrs,[d]:h()});return}const{deleted:R}=g.invert().mapResult(M);R&&C.includes(O)&&a.setNodeMarkup(M,void 0,{..._.attrs,[d]:h()})})}),!!a.steps.length)return a},view(n){const o=i=>{let r;t=!((r=n.dom.parentElement)===null||r===void 0)&&r.contains(i.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",o),{destroy(){window.removeEventListener("dragstart",o)}}},props:{handleDOMEvents:{drop:(n,o)=>{let i;return t!==n.dom.parentElement||((i=o.dataTransfer)===null||i===void 0?void 0:i.effectAllowed)==="copy"?e=!0:e=!1,t=null,!1},paste:()=>(e=!0,!1)},transformPasted:n=>{if(!e)return n;const{types:o,attributeName:i}=this.options,r=s=>{const a=[];return s.forEach(u=>{if(u.isText){a.push(u);return}if(!o.includes(u.type.name)){a.push(u.copy(r(u.content)));return}const d=u.type.create({...u.attrs,[i]:null},r(u.content),u.marks);a.push(d)}),J.from(a)};return e=!1,new me(r(n.content),n.openStart,n.openEnd)}}})]}});function UA(t){return t.type==="link"}function rL(t){return typeof t!="string"&&t.type==="link"}function Ca(t){return typeof t!="string"&&t.type==="text"}function fl(t){var e,n,o,i,r;return hl(t)?{...t}:Hf(t)?{type:"tableCell",content:[].concat(t.content),props:{backgroundColor:((e=t.props)==null?void 0:e.backgroundColor)??"default",textColor:((n=t.props)==null?void 0:n.textColor)??"default",textAlignment:((o=t.props)==null?void 0:o.textAlignment)??"left",colspan:((i=t.props)==null?void 0:i.colspan)??1,rowspan:((r=t.props)==null?void 0:r.rowspan)??1}}:{type:"tableCell",content:[].concat(t),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function Hf(t){return t!=null&&typeof t!="string"&&!Array.isArray(t)&&t.type==="tableCell"}function hl(t){return Hf(t)&&t.props!==void 0&&t.content!==void 0}function Sa(t){return hl(t)?t.props.colspan??1:1}function If(t){return hl(t)?t.props.rowspan??1:1}const ZK=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function ri(t,e="Ctrl"){return ZK()?t.replace("Mod","⌘"):t.replace("Mod",e)}function nn(...t){return t.filter(e=>e).join(" ")}const Xw=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function ar(t,e,n,o){const i=document.createElement("div");i.className=nn("bn-block-content",n.class),i.setAttribute("data-content-type",t);for(const[s,a]of Object.entries(n))s!=="class"&&i.setAttribute(s,a);const r=document.createElement(e);r.className=nn("bn-inline-content",o.class);for(const[s,a]of Object.entries(o))s!=="class"&&r.setAttribute(s,a);return i.appendChild(r),{dom:i,contentDOM:r}}const FA=(t,e)=>{let n=Ra(t,e.pmSchema,e.schema.styleSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const o=e.pmSchema.nodes[n.type.name].spec.toDOM;if(o===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const i=o(n);if(typeof i!="object"||!("dom"in i))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return i},an={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},Gx=["backgroundColor","textColor"];function Og(t){return"data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qA(t){const e=t.split("/");return!e.length||e[e.length-1]===""?t:e[e.length-1]}function eh(t){const e={};return Object.entries(t).filter(([n,o])=>!Gx.includes(n)).forEach(([n,o])=>{e[n]={default:o.default,keepOnSplit:!0,parseHTML:i=>{const r=i.getAttribute(Og(n));if(r===null)return null;if(o.default===void 0&&o.type==="boolean"||o.default!==void 0&&typeof o.default=="boolean")return r==="true"?!0:r==="false"?!1:null;if(o.default===void 0&&o.type==="number"||o.default!==void 0&&typeof o.default=="number"){const s=parseFloat(r);return!Number.isNaN(s)&&Number.isFinite(s)?s:null}return r},renderHTML:i=>i[n]!==o.default?{[Og(n)]:i[n]}:{}}}),e}function sL(t,e,n,o){if(typeof t=="boolean")throw new Error("Cannot find node position as getPos is a boolean, not a function.");const i=t(),r=n.state.doc.resolve(i).node().attrs.id;if(!r)throw new Error("Block doesn't have id");const s=e.getBlock(r);if(s.type!==o)throw new Error("Block type does not match");return s}function Hd(t,e,n,o,i=!1,r){const s=document.createElement("div");if(r!==void 0)for(const[a,u]of Object.entries(r))a!=="class"&&s.setAttribute(a,u);s.className=nn("bn-block-content",(r==null?void 0:r.class)||""),s.setAttribute("data-content-type",e);for(const[a,u]of Object.entries(n)){const d=o[a].default;!Gx.includes(a)&&u!==d&&s.setAttribute(Og(a),u)}return i&&s.setAttribute("data-file-block",""),s.appendChild(t.dom),t.contentDOM!==void 0&&(t.contentDOM.className=nn("bn-inline-content",t.contentDOM.className),t.contentDOM.setAttribute("data-editable","")),{...t,dom:s}}function Eo(t){return dr.create(t)}function Kx(t,e){return{config:t,implementation:e}}function Di(t,e,n){return Kx({type:t.name,content:t.config.content==="inline*"?"inline":t.config.content==="tableRow+"?"table":"none",propSchema:e},{node:t,requiredExtensions:n,toInternalHTML:FA,toExternalHTML:FA})}function lL(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function aL(t,e){t.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{e.view.dom.blur()},10),!0)}function cL(t,e){const n=[{tag:"[data-content-type="+t.type+"]",contentElement:"[data-editable]"}];return e&&n.push({tag:"*",getAttrs(o){if(typeof o=="string")return!1;const i=e==null?void 0:e(o);return i===void 0?!1:i}}),n}function th(t,e){const n=Eo({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return eh(t.propSchema)},parseHTML(){return cL(t,e.parse)},renderHTML({HTMLAttributes:o}){const i=document.createElement("div");return Hd({dom:i,contentDOM:t.content==="inline"?i:void 0},t.type,{},t.propSchema,t.isFileBlock,o)},addNodeView(){return({getPos:o})=>{var i;const r=this.options.editor,s=sL(o,r,this.editor,t.type),a=((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},u=e.render(s,r),d=Hd(u,s.type,s.props,t.propSchema,a);return t.isSelectable===!1&&aL(d,this.editor),d}}});if(n.name!==t.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return Kx(t,{node:n,toInternalHTML:(o,i)=>{var r;const s=((r=n.options.domAttributes)==null?void 0:r.blockContent)||{},a=e.render(o,i);return Hd(a,o.type,o.props,t.propSchema,t.isFileBlock,s)},toExternalHTML:(o,i)=>{var r,s;const a=((r=n.options.domAttributes)==null?void 0:r.blockContent)||{};let u=(s=e.toExternalHTML)==null?void 0:s.call(e,o,i);return u===void 0&&(u=e.render(o,i)),Hd(u,o.type,o.props,t.propSchema,a)}})}function uL(t,e,n){var o,i;const r={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},s=[];t.content.forEach((a,u,d)=>{const h={cells:[]};d===0&&a.content.forEach(p=>{let g=p.attrs.colwidth;g==null&&(g=new Array(p.attrs.colspan??1).fill(void 0)),r.columnWidths.push(...g)}),h.cells=a.content.content.map((p,g)=>(s[d]||(s[d]=[]),s[d][g]=p.type.name==="tableHeader",{type:"tableCell",content:p.content.content.map(b=>Eb(b,e,n)).reduce((b,v)=>{if(!b.length)return v;const k=b[b.length-1],C=v[0];return C&&Ca(k)&&Ca(C)&&JSON.stringify(k.styles)===JSON.stringify(C.styles)?(k.text+=`
`+C.text,b.push(...v.slice(1)),b):(b.push(...v),b)},[]),props:{colspan:p.attrs.colspan,rowspan:p.attrs.rowspan,backgroundColor:p.attrs.backgroundColor,textColor:p.attrs.textColor,textAlignment:p.attrs.textAlignment}})),r.rows.push(h)});for(let a=0;a<s.length;a++)(o=s[a])!=null&&o.every(u=>u)&&(r.headerRows=(r.headerRows??0)+1);for(let a=0;a<((i=s[0])==null?void 0:i.length);a++)s!=null&&s.every(u=>u[a])&&(r.headerCols=(r.headerCols??0)+1);return r}function Eb(t,e,n){const o=[];let i;return t.content.forEach(r=>{if(r.type.name==="hardBreak"){if(i)if(Ca(i))i.text+=`
`;else if(UA(i))i.content[i.content.length-1].text+=`
`;else throw new Error("unexpected");else i={type:"text",text:`
`,styles:{}};return}if(r.type.name!=="link"&&r.type.name!=="text"){if(!e[r.type.name]){console.warn("unrecognized inline content type",r.type.name);return}i&&(o.push(i),i=void 0),o.push(YK(r,e,n));return}const s={};let a;for(const u of r.marks)if(u.type.name==="link")a=u;else{const d=n[u.type.name];if(!d){if(u.type.spec.blocknoteIgnore)continue;throw new Error(`style ${u.type.name} not found in styleSchema`)}if(d.propSchema==="boolean")s[d.type]=!0;else if(d.propSchema==="string")s[d.type]=u.attrs.stringValue;else throw new lr(d.propSchema)}i?Ca(i)?a?(o.push(i),i={type:"link",href:a.attrs.href,content:[{type:"text",text:r.textContent,styles:s}]}):JSON.stringify(i.styles)===JSON.stringify(s)?i.text+=r.textContent:(o.push(i),i={type:"text",text:r.textContent,styles:s}):UA(i)&&(a?i.href===a.attrs.href?JSON.stringify(i.content[i.content.length-1].styles)===JSON.stringify(s)?i.content[i.content.length-1].text+=r.textContent:i.content.push({type:"text",text:r.textContent,styles:s}):(o.push(i),i={type:"link",href:a.attrs.href,content:[{type:"text",text:r.textContent,styles:s}]}):(o.push(i),i={type:"text",text:r.textContent,styles:s})):a?i={type:"link",href:a.attrs.href,content:[{type:"text",text:r.textContent,styles:s}]}:i={type:"text",text:r.textContent,styles:s}}),i&&o.push(i),o}function YK(t,e,n){if(t.type.name==="text"||t.type.name==="link")throw new Error("unexpected");const o={},i=e[t.type.name];for(const[s,a]of Object.entries(t.attrs)){if(!i)throw Error("ic node is of an unrecognized type: "+t.type.name);const u=i.propSchema;s in u&&(o[s]=a)}let r;return i.content==="styled"?r=Eb(t,e,n):r=void 0,{type:t.type.name,props:o,content:r}}function Ft(t,e,n,o,i){var r;if(!t.type.isInGroup("bnBlock"))throw Error("Node must be in bnBlock group, but is of type"+t.type.name);const s=i==null?void 0:i.get(t);if(s)return s;const a=qx(t,0);let u=a.bnBlock.node.attrs.id;u===null&&(u=Qf.options.generateID());const d=e[a.blockNoteType];if(!d)throw Error("Block is of an unrecognized type: "+a.blockNoteType);const h={};for(const[k,C]of Object.entries({...t.attrs,...a.isBlockContainer?a.blockContent.node.attrs:{}})){const _=d.propSchema;k in _&&!(_[k].default===void 0&&C===void 0)&&(h[k]=C)}const p=e[a.blockNoteType],g=[];(r=a.childContainer)==null||r.node.forEach(k=>{g.push(Ft(k,e,n,o,i))});let b;if(p.content==="inline"){if(!a.isBlockContainer)throw new Error("impossible");b=Eb(a.blockContent.node,n,o)}else if(p.content==="table"){if(!a.isBlockContainer)throw new Error("impossible");b=uL(a.blockContent.node,n,o)}else if(p.content==="none")b=void 0;else throw new lr(p.content);const v={id:u,type:p.type,props:h,content:b,children:g};return i==null||i.set(t,v),v}function dL(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function WK(t,e){return{config:t,implementation:e}}function Jl(t,e){return WK({type:t.name,propSchema:e},{mark:t})}function fL(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function kl(t){const{height:e,width:n}=Zx(t),o=new Array(e).fill(!1).map(()=>new Array(n).fill(null)),i=(r,s)=>{for(let a=r;a<e;a++)for(let u=s;u<n;u++)if(!o[a][u])return{row:a,col:u};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let r=0;r<t.content.rows.length;r++)for(let s=0;s<t.content.rows[r].cells.length;s++){const a=fl(t.content.rows[r].cells[s]),u=If(a),d=Sa(a),{row:h,col:p}=i(r,s);for(let g=h;g<h+u;g++)for(let b=p;b<p+d;b++){if(o[g][b])throw new Error(`Unable to create occupancy grid for table, cell at ${g},${b} is already occupied`);o[g][b]={row:r,col:s,rowspan:u,colspan:d,cell:a}}}return o}function zf(t){const e=new Set;return t.map(n=>({cells:n.map(o=>e.has(o.row+":"+o.col)?!1:(e.add(o.row+":"+o.col),o.cell)).filter(o=>o!==!1)}))}function _a(t,e,n=kl(e)){for(let o=0;o<n.length;o++)for(let i=0;i<n[o].length;i++){const r=n[o][i];if(r.row===t.row&&r.col===t.col)return{row:o,col:i,cell:r.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${t.row},${t.col} is not occupied`)}function Zx(t){const e=t.content.rows.length;let n=0;return t.content.rows.forEach(o=>{let i=0;o.cells.forEach(r=>{i+=Sa(r)}),n=Math.max(n,i)}),{height:e,width:n}}function hL(t,e,n=kl(e)){var o;const i=(o=n[t.row])==null?void 0:o[t.col];if(i)return{row:i.row,col:i.col,cell:i.cell}}function Jw(t,e){var n;const o=kl(t);if(e<0||e>=o.length)return[];let i=0;for(let s=0;s<e;s++){const a=(n=o[i])==null?void 0:n[0];if(!a)return[];i+=a.rowspan}const r=new Array(o[0].length).fill(!1).map((s,a)=>hL({row:i,col:a},t,o)).filter(s=>s!==void 0);return r.filter((s,a)=>r.findIndex(u=>u.row===s.row&&u.col===s.col)===a)}function Qw(t,e){var n;const o=kl(t);if(e<0||e>=o[0].length)return[];let i=0;for(let s=0;s<e;s++){const a=(n=o[0])==null?void 0:n[i];if(!a)return[];i+=a.colspan}const r=new Array(o.length).fill(!1).map((s,a)=>hL({row:a,col:i},t,o)).filter(s=>s!==void 0);return r.filter((s,a)=>r.findIndex(u=>u.row===s.row&&u.col===s.col)===a)}function XK(t,e,n,o=kl(t)){const{col:i}=_a({row:0,col:e},t,o),{col:r}=_a({row:0,col:n},t,o);return o.forEach(s=>{const[a]=s.splice(i,1);s.splice(r,0,a)}),zf(o)}function JK(t,e,n,o=kl(t)){const{row:i}=_a({row:e,col:0},t,o),{row:r}=_a({row:n,col:0},t,o),[s]=o.splice(i,1);return o.splice(r,0,s),zf(o)}function ek(t){return t?Hf(t)?ek(t.content):typeof t=="string"?t.length===0:Array.isArray(t)?t.every(e=>typeof e=="string"?e.length===0:Ca(e)?e.text.length===0:rL(e)?typeof e.content=="string"?e.content.length===0:e.content.every(n=>n.text.length===0):!1):!1:!0}function QK(t,e,n=kl(t)){if(e==="columns"){let r=0;for(let s=n[0].length-1;s>=0&&n.every(a=>ek(a[s].cell)&&a[s].colspan===1);s--)r++;for(let s=n.length-1;s>=0;s--){const a=Math.max(n[s].length-r,1);n[s]=n[s].slice(0,a)}return zf(n)}let o=0;for(let r=n.length-1;r>=0&&n[r].every(s=>ek(s.cell)&&s.rowspan===1);r--)o++;const i=Math.min(o,n.length-1);return n.splice(n.length-i,i),zf(n)}function eZ(t,e,n,o=kl(t)){const{width:i,height:r}=Zx(t);if(e==="columns")o.forEach((s,a)=>{if(n>=0)for(let u=0;u<n;u++)s.push({row:a,col:Math.max(...s.map(d=>d.col))+1,rowspan:1,colspan:1,cell:fl("")});else s.splice(i+n,-1*n)});else if(n>0)for(let s=0;s<n;s++){const a=new Array(i).fill(null).map((u,d)=>({row:r+s,col:d,rowspan:1,colspan:1,cell:fl("")}));o.push(a)}else n<0&&o.splice(r+n,-1*n);return zf(o)}function pL(t,e,n){const o=Jw(t,n);if(!o.some(s=>If(s.cell)>1))return!0;let i=n,r=n;return o.forEach(s=>{const a=If(s.cell);i=Math.max(i,s.row+a-1),r=Math.min(r,s.row)}),e<n?n===i:n===r}function mL(t,e,n){const o=Qw(t,n);if(!o.some(s=>Sa(s.cell)>1))return!0;let i=n,r=n;return o.forEach(s=>{const a=Sa(s.cell);i=Math.max(i,s.col+a-1),r=Math.min(r,s.col)}),e<n?n===i:n===r}function tZ(t,e,n){const o=_a(t,n),i=_a(e,n);return o.col===i.col}function GA(t,e,n,o){const i=[];for(const[r,s]of Object.entries(t.styles)){const a=n[r];if(!a)throw new Error(`style ${r} not found in styleSchema`);if(a.propSchema==="boolean")i.push(e.mark(r));else if(a.propSchema==="string")i.push(e.mark(r,{stringValue:s}));else throw new lr(a.propSchema)}return!o||!e.nodes[o].spec.code?t.text.split(/(\n)/g).filter(r=>r.length>0).map(r=>r===`
`?e.nodes.hardBreak.createChecked():e.text(r,i)):[e.text(t.text,i)]}function nZ(t,e,n){const o=e.marks.link.create({href:t.href});return tk(t.content,e,n).map(i=>{if(i.type.name==="text")return i.mark([...i.marks,o]);if(i.type.name==="hardBreak")return i;throw new Error("unexpected node type")})}function tk(t,e,n,o){const i=[];if(typeof t=="string")return i.push(...GA({text:t,styles:{}},e,n,o)),i;for(const r of t)i.push(...GA(r,e,n,o));return i}function Mi(t,e,n,o){const i=[];for(const r of t)typeof r=="string"?i.push(...tk(r,e,n,o)):rL(r)?i.push(...nZ(r,e,n)):Ca(r)?i.push(...tk([r],e,n,o)):i.push(gL(r,e,n));return i}function Mb(t,e,n){const o=[],i=new Array(t.headerRows??0).fill(!0),r=new Array(t.headerCols??0).fill(!0),s=t.columnWidths??[];for(let a=0;a<t.rows.length;a++){const u=t.rows[a],d=[],h=i[a];for(let g=0;g<u.cells.length;g++){const b=u.cells[g],v=r[g],k=void 0;let C=null;const _=_a({row:a,col:g},{content:t});let M=s[_.col]?[s[_.col]]:null;if(b)if(typeof b=="string")C=e.text(b);else if(Hf(b)){b.content&&(C=Mi(b.content,e,n));const O=Sa(b);O>1&&(M=new Array(O).fill(!1).map((R,j)=>s[_.col+j]??void 0))}else C=Mi(b,e,n);const A=e.nodes[v||h?"tableHeader":"tableCell"].createChecked({...Hf(b)?b.props:{},colwidth:M},e.nodes.tableParagraph.createChecked(k,C));d.push(A)}const p=e.nodes.tableRow.createChecked({},d);o.push(p)}return o}function gL(t,e,n){let o,i=t.type;if(i===void 0&&(i="paragraph"),!e.nodes[i])throw new Error(`node type ${i} not found in schema`);if(!t.content)o=e.nodes[i].createChecked(t.props);else if(typeof t.content=="string"){const r=Mi([t.content],e,n,i);o=e.nodes[i].createChecked(t.props,r)}else if(Array.isArray(t.content)){const r=Mi(t.content,e,n,i);o=e.nodes[i].createChecked(t.props,r)}else if(t.content.type==="tableContent"){const r=Mb(t.content,e,n);o=e.nodes[i].createChecked(t.props,r)}else throw new lr(t.content.type);return o}function Ra(t,e,n){let o=t.id;o===void 0&&(o=Qf.options.generateID());const i=[];if(t.children)for(const r of t.children)i.push(Ra(r,e,n));if(!t.type||e.nodes[t.type].isInGroup("blockContent")){const r=gL(t,e,n),s=i.length>0?e.nodes.blockGroup.createChecked({},i):void 0;return e.nodes.blockContainer.createChecked({id:o,...t.props},s?[r,s]:r)}else{if(e.nodes[t.type].isInGroup("bnBlock"))return e.nodes[t.type].createChecked({id:o,...t.props},i);throw new Error(`block type ${t.type} doesn't match blockContent or bnBlock group`)}}function ro(t,e){let n,o;if(e.firstChild.descendants((i,r)=>n?!1:!i.type.isInGroup("bnBlock")||i.attrs.id!==t?!0:(n=i,o=r+1,!1)),!(n===void 0||o===void 0))return{node:n,posBeforeNode:o}}const wn=(t,e,n)=>({state:o,dispatch:i})=>{const r=Jf(o.doc.resolve(e));if(i){const s=o.schema.nodes[r.blockNoteType],a=o.schema.nodes[n.type||r.blockNoteType],u=a.isInGroup("bnBlock")?a:o.schema.nodes.blockContainer;if(r.isBlockContainer&&a.isInGroup("blockContent"))KA(n,o,t,r),oZ(n,o,t,s,a,r);else if(!r.isBlockContainer&&a.isInGroup("bnBlock"))KA(n,o,t,r);else{const d=Ft(r.bnBlock.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache);return o.tr.replaceWith(r.bnBlock.beforePos,r.bnBlock.afterPos,Ra({children:d.children,...n},o.schema,t.schema.styleSchema)),!0}o.tr.setNodeMarkup(r.bnBlock.beforePos,u,{...r.bnBlock.node.attrs,...n.props})}return!0};function oZ(t,e,n,o,i,r){let s="keep";if(t.content)if(typeof t.content=="string")s=Mi([t.content],e.schema,n.schema.styleSchema,i.name);else if(Array.isArray(t.content))s=Mi(t.content,e.schema,n.schema.styleSchema,i.name);else if(t.content.type==="tableContent")s=Mb(t.content,e.schema,n.schema.styleSchema);else throw new lr(t.content.type);else o.spec.content===""||i.spec.content!==o.spec.content&&(s=[]);s==="keep"?e.tr.setNodeMarkup(r.blockContent.beforePos,t.type===void 0?void 0:e.schema.nodes[t.type],{...r.blockContent.node.attrs,...t.props}):e.tr.replaceWith(r.blockContent.beforePos,r.blockContent.afterPos,i.createChecked({...r.blockContent.node.attrs,...t.props},s))}function KA(t,e,n,o){if(t.children!==void 0&&t.children.length>0){const i=t.children.map(r=>Ra(r,e.schema,n.schema.styleSchema));if(o.childContainer)e.tr.step(new hn(o.childContainer.beforePos+1,o.childContainer.afterPos-1,new me(J.from(i),0,0)));else{if(!o.isBlockContainer)throw new Error("impossible");e.tr.insert(o.blockContent.afterPos,e.schema.nodes.blockGroup.createChecked({},i))}}}function iZ(t,e,n){const o=t._tiptapEditor,i=typeof e=="string"?e:e.id,r=ro(i,o.state.doc);if(!r)throw new Error(`Block with ID ${i} not found`);o.commands.command(({state:a,dispatch:u})=>(wn(t,r.posBeforeNode,n)({state:a,dispatch:u}),!0));const s=o.state.doc.resolve(r.posBeforeNode+1).node();return Ft(s,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function bL(t){const e=Array.from(t.classList).filter(n=>!n.startsWith("bn-"))||[];e.length>0?t.className=e.join(" "):t.removeAttribute("class")}function yL(t,e,n,o){let i;if(e)if(typeof e=="string")i=Mi([e],t.pmSchema,t.schema.styleSchema);else if(Array.isArray(e))i=Mi(e,t.pmSchema,t.schema.styleSchema);else if(e.type==="tableContent")i=Mb(e,t.pmSchema,t.schema.styleSchema);else throw new lr(e.type);else throw new Error("blockContent is required");const r=n.serializeFragment(J.from(i),o);return r.nodeType===1&&bL(r),r}function rZ(t,e,n,o,i,r,s){var a,u,d,h,p,g,b,v;const k=(s==null?void 0:s.document)??document,C=e.pmSchema.nodes.blockContainer;let _=n.props;if(!n.props){_={};for(const[z,V]of Object.entries(e.schema.blockSchema[n.type].propSchema))V.default!==void 0&&(_[z]=V.default)}const M=(u=(a=C.spec)==null?void 0:a.toDOM)==null?void 0:u.call(a,C.create({id:n.id,..._})),A=Array.from(M.dom.attributes),O=e.blockImplementations[n.type].implementation.toExternalHTML({...n,props:_},e),R=k.createDocumentFragment();if(O.dom.classList.contains("bn-block-content")){const z=[...A,...Array.from(O.dom.attributes)].filter(V=>V.name.startsWith("data")&&V.name!=="data-content-type"&&V.name!=="data-file-block"&&V.name!=="data-node-view-wrapper"&&V.name!=="data-node-type"&&V.name!=="data-id"&&V.name!=="data-index"&&V.name!=="data-editable");for(const V of z)O.dom.firstChild.setAttribute(V.name,V.value);bL(O.dom.firstChild),R.append(...Array.from(O.dom.childNodes))}else R.append(O.dom);if(O.contentDOM&&n.content){const z=yL(e,n.content,o,s);O.contentDOM.appendChild(z)}let j;if(i.has(n.type)?j="OL":r.has(n.type)&&(j="UL"),j){if(((d=t.lastChild)==null?void 0:d.nodeName)!==j){const V=k.createElement(j);j==="OL"&&_!=null&&_.start&&(_==null?void 0:_.start)!==1&&V.setAttribute("start",_.start+""),t.append(V)}const z=k.createElement("li");z.append(R),t.lastChild.appendChild(z)}else t.append(R);if(n.children&&n.children.length>0){const z=k.createDocumentFragment();if(vL(z,e,n.children,o,i,r,s),((h=t.lastChild)==null?void 0:h.nodeName)==="UL"||((p=t.lastChild)==null?void 0:p.nodeName)==="OL")for(;((g=z.firstChild)==null?void 0:g.nodeName)==="UL"||((b=z.firstChild)==null?void 0:b.nodeName)==="OL";)t.lastChild.lastChild.appendChild(z.firstChild);e.pmSchema.nodes[n.type].isInGroup("blockContent")?t.append(z):(v=O.contentDOM)==null||v.append(z)}}const vL=(t,e,n,o,i,r,s)=>{for(const a of n)rZ(t,e,a,o,i,r,s)},sZ=(t,e,n,o,i,r)=>{const s=((r==null?void 0:r.document)??document).createDocumentFragment();return vL(s,t,e,n,o,i,r),s},Tb=(t,e)=>{const n=ls.fromSchema(t);return{exportBlocks:(o,i)=>{const r=sZ(e,o,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem"]),i),s=document.createElement("div");return s.append(r),s.innerHTML},exportInlineContent:(o,i)=>{const r=yL(e,o,n,i),s=document.createElement("div");return s.append(r.cloneNode(!0)),s.innerHTML}}};function lZ(t,e,n,o,i){let r;if(e)if(typeof e=="string")r=Mi([e],t.pmSchema,t.schema.styleSchema,o);else if(Array.isArray(e))r=Mi(e,t.pmSchema,t.schema.styleSchema,o);else if(e.type==="tableContent")r=Mb(e,t.pmSchema,t.schema.styleSchema);else throw new lr(e.type);else throw new Error("blockContent is required");return n.serializeFragment(J.from(r),i)}function aZ(t,e,n,o,i){var r,s,a,u,d;const h=t.pmSchema.nodes.blockContainer;let p=e.props;if(!e.props){p={};for(const[v,k]of Object.entries(t.schema.blockSchema[e.type].propSchema))k.default!==void 0&&(p[v]=k.default)}const g=t.blockImplementations[e.type].implementation.toInternalHTML({...e,props:p},t);if(e.type==="numberedListItem"&&g.dom.setAttribute("data-index",o.toString()),g.contentDOM&&e.content){const v=lZ(t,e.content,n,e.type,i);g.contentDOM.appendChild(v)}if(t.pmSchema.nodes[e.type].isInGroup("bnBlock")){if(e.children&&e.children.length>0){const v=wL(t,e.children,n,i);(r=g.contentDOM)==null||r.append(v)}return g.dom}const b=(a=(s=h.spec)==null?void 0:s.toDOM)==null?void 0:a.call(s,h.create({id:e.id,...p}));return(u=b.contentDOM)==null||u.appendChild(g.dom),e.children&&e.children.length>0&&((d=b.contentDOM)==null||d.appendChild(kL(t,e.children,n,i))),b.dom}function wL(t,e,n,o){const i=((o==null?void 0:o.document)??document).createDocumentFragment();let r=0;for(const s of e){s.type==="numberedListItem"?r++:r=0;const a=aZ(t,s,n,r,o);i.appendChild(a)}return i}const kL=(t,e,n,o)=>{var i;const r=t.pmSchema.nodes.blockGroup,s=r.spec.toDOM(r.create({})),a=wL(t,e,n,o);return(i=s.contentDOM)==null||i.appendChild(a),s.dom},cZ=(t,e)=>{const n=ls.fromSchema(t);return{serializeBlocks:(o,i)=>kL(e,o,n,i).outerHTML}},Ab=(t,e)=>{const n=t.querySelector(e);if(!n)return;const o=t.querySelector("figcaption"),i=(o==null?void 0:o.textContent)??void 0;return{targetElement:n,caption:i}},uZ=(t,e,n,o)=>{const i=document.createElement("div");i.className="bn-add-file-button";const r=document.createElement("div");r.className="bn-add-file-button-icon",o?r.appendChild(o):r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',i.appendChild(r);const s=document.createElement("p");s.className="bn-add-file-button-text",s.innerHTML=n||e.dictionary.file_blocks.file.add_button_text,i.appendChild(s);const a=d=>{d.preventDefault()},u=()=>{e.dispatch(e._tiptapEditor.state.tr.setMeta(e.filePanel.plugin,{block:t}))};return i.addEventListener("mousedown",a,!0),i.addEventListener("click",u,!0),{dom:i,destroy:()=>{i.removeEventListener("mousedown",a,!0),i.removeEventListener("click",u,!0)}}},dZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',fZ=t=>{const e=document.createElement("div");e.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=dZ,e.appendChild(n);const o=document.createElement("p");return o.className="bn-file-name",o.textContent=t.props.name,e.appendChild(o),{dom:e}},Yx=(t,e,n,o,i)=>{const r=document.createElement("div");if(r.className="bn-file-block-content-wrapper",t.props.url===""){const a=uZ(t,e,o,i);r.appendChild(a.dom);const u=e.onUploadStart(d=>{if(d===t.id){r.removeChild(a.dom);const h=document.createElement("div");h.className="bn-file-loading-preview",h.textContent="Loading...",r.appendChild(h)}});return{dom:r,destroy:()=>{u(),a.destroy()}}}const s={dom:r};if(t.props.showPreview===!1||!n){const a=fZ(t);r.appendChild(a.dom),s.destroy=()=>{var u;(u=a.destroy)==null||u.call(a)}}else r.appendChild(n.dom);if(t.props.caption){const a=document.createElement("p");a.className="bn-file-caption",a.textContent=t.props.caption,r.appendChild(a)}return s},Wx=(t,e)=>{const n=document.createElement("figure"),o=document.createElement("figcaption");return o.textContent=e,n.appendChild(t),n.appendChild(o),{dom:n}},Ob=(t,e)=>{const n=document.createElement("div"),o=document.createElement("p");return o.textContent=e,n.appendChild(t),n.appendChild(o),{dom:n}},ZA=t=>({url:t.src||void 0}),hZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',pZ={backgroundColor:an.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},xL={type:"audio",propSchema:pZ,content:"none",isFileBlock:!0,fileBlockAccept:["audio/*"]},mZ=(t,e)=>{const n=document.createElement("div");n.innerHTML=hZ;const o=document.createElement("audio");return o.className="bn-audio",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{o.src=i}):o.src=t.props.url,o.controls=!0,o.contentEditable="false",o.draggable=!1,Yx(t,e,{dom:o},e.dictionary.file_blocks.audio.add_button_text,n.firstElementChild)},CL=t=>{if(t.tagName==="AUDIO")return ZA(t);if(t.tagName==="FIGURE"){const e=Ab(t,"audio");if(!e)return;const{targetElement:n,caption:o}=e;return{...ZA(n),caption:o}}},gZ=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add audio",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("audio"),e.src=t.props.url):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?Wx(e,t.props.caption):Ob(e,t.props.caption):{dom:e}},bZ=th(xL,{render:mZ,parse:CL,toExternalHTML:gZ}),YA=Symbol.for("blocknote.shikiParser"),gv=Symbol.for("blocknote.shikiHighlighterPromise"),yZ={language:{default:"text"}},vZ=Eo({name:"codeBlock",content:"inline*",group:"blockContent",marks:"",code:!0,defining:!0,addOptions(){return{defaultLanguage:"text",indentLineWithTab:!0,supportedLanguages:{}}},addAttributes(){const t=this.options;return{language:{default:t.editor.settings.codeBlock.defaultLanguage,parseHTML:e=>{let n=e,o=null;(n==null?void 0:n.tagName)==="DIV"&&(n==null?void 0:n.dataset.contentType)==="codeBlock"&&(n=n.children[0]),(n==null?void 0:n.tagName)==="PRE"&&(n=n==null?void 0:n.children[0]);const i=n==null?void 0:n.getAttribute("data-language");if(i)o=i.toLowerCase();else{const r=[...(n==null?void 0:n.className.split(" "))||[]].filter(s=>s.startsWith("language-")).map(s=>s.replace("language-",""));r.length>0&&(o=r[0].toLowerCase())}return o?WA(t.editor.settings.codeBlock,o):null},renderHTML:e=>e.language?{class:`language-${e.language}`,"data-language":e.language}:{}}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:"code"},{tag:"pre",contentElement:"code",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:t}){var e,n;const o=document.createElement("pre"),{dom:i,contentDOM:r}=ar(this.name,"code",((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},{...((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{},...t});return i.removeChild(r),i.appendChild(o),o.appendChild(r),{dom:i,contentDOM:r}},addNodeView(){const t=this.options;return({editor:e,node:n,getPos:o,HTMLAttributes:i})=>{var r,s;const a=document.createElement("pre"),u=document.createElement("select"),d=document.createElement("div"),{dom:h,contentDOM:p}=ar(this.name,"code",{...((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},...i},((s=this.options.domAttributes)==null?void 0:s.inlineContent)||{}),g=b=>{const v=b.target.value;e.commands.command(({tr:k})=>(k.setNodeAttribute(o(),"language",v),!0))};return Object.entries(t.editor.settings.codeBlock.supportedLanguages).forEach(([b,{name:v}])=>{const k=document.createElement("option");k.value=b,k.text=v,u.appendChild(k)}),d.contentEditable="false",u.value=n.attrs.language||t.editor.settings.codeBlock.defaultLanguage,h.removeChild(p),h.appendChild(d),h.appendChild(a),a.appendChild(p),d.appendChild(u),u.addEventListener("change",g),{dom:h,contentDOM:p,update:b=>b.type===this.type,destroy:()=>{u.removeEventListener("change",g)}}}},addProseMirrorPlugins(){const t=this.options,e=globalThis;let n,o;return[f$({parser:i=>{if(!t.editor.settings.codeBlock.createHighlighter)return[];if(!n)return e[gv]=e[gv]||t.editor.settings.codeBlock.createHighlighter(),e[gv].then(s=>{n=s});const r=i.language;return r&&r!=="text"&&!n.getLoadedLanguages().includes(r)&&r in t.editor.settings.codeBlock.supportedLanguages?n.loadLanguage(r):(o||(o=e[YA]||h$(n),e[YA]=o),o(i))},languageExtractor:i=>i.attrs.language,nodeTypes:[this.name]})]},addInputRules(){const t=this.options;return[new ll({find:/^```(.*?)\s$/,handler:({state:e,range:n,match:o})=>{const i=e.doc.resolve(n.from),r=o[1].trim(),s={language:WA(t.editor.settings.codeBlock,r)};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),this.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,this.type,s).setSelection(Me.create(e.tr.doc,n.from))}})]},addKeyboardShortcuts(){return{Delete:({editor:t})=>{const{selection:e}=t.state,{$from:n}=e;if(t.isActive(this.name)&&!n.parent.textContent&&fb(e)){const o=n.pos-n.parentOffset-2;return t.chain().setNodeSelection(o).deleteSelection().run(),!0}return!1},Tab:({editor:t})=>this.options.indentLineWithTab&&t.isActive(this.name)?(t.commands.insertContent("  "),!0):!1,Enter:({editor:t})=>{const{$from:e}=t.state.selection;if(!t.isActive(this.name))return!1;const n=e.parentOffset===e.parent.nodeSize-2,o=e.parent.textContent.endsWith(`

`);return!n||!o?(t.commands.insertContent(`
`),!0):t.chain().command(({tr:i})=>(i.delete(e.pos-2,e.pos),!0)).exitCode().run()},"Shift-Enter":({editor:t})=>{const{$from:e}=t.state.selection;return t.isActive(this.name)?(t.chain().insertContentAt(e.pos-e.parentOffset+e.parent.nodeSize,{type:"paragraph"}).run(),!0):!1}}}}),wZ=Di(vZ,yZ);function WA(t,e){var n;return((n=Object.entries(t.supportedLanguages).find(([o,{aliases:i}])=>(i==null?void 0:i.includes(e))||o===e))==null?void 0:n[0])||e}const XA=t=>({url:t.src||void 0}),kZ={backgroundColor:an.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},SL={type:"file",propSchema:kZ,content:"none",isFileBlock:!0},xZ=(t,e)=>Yx(t,e),_L=t=>{if(t.tagName==="EMBED")return XA(t);if(t.tagName==="FIGURE"){const e=Ab(t,"embed");if(!e)return;const{targetElement:n,caption:o}=e;return{...XA(n),caption:o}}},CZ=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const e=document.createElement("a");return e.href=t.props.url,e.textContent=t.props.name||t.props.url,t.props.caption?Ob(e,t.props.caption):{dom:e}},SZ=th(SL,{render:xZ,parse:_L,toExternalHTML:CZ}),EL=(t,e,n,o,i,r)=>{const{dom:s,destroy:a}=Yx(t,e,n,i,r),u=s;t.props.url&&t.props.showPreview&&(u.style.width=`${t.props.previewWidth}px`);const d=document.createElement("div");d.className="bn-resize-handle",d.style.left="4px";const h=document.createElement("div");h.className="bn-resize-handle",h.style.right="4px";let p,g=t.props.previewWidth;const b=A=>{if(!p){!e.isEditable&&o.contains(d)&&o.contains(h)&&(o.removeChild(d),o.removeChild(h));return}let O;t.props.textAlignment==="center"?p.handleUsed==="left"?O=p.initialWidth+(p.initialClientX-A.clientX)*2:O=p.initialWidth+(A.clientX-p.initialClientX)*2:p.handleUsed==="left"?O=p.initialWidth+p.initialClientX-A.clientX:O=p.initialWidth+A.clientX-p.initialClientX,g=Math.max(O,64),u.style.width=`${g}px`},v=A=>{(!A.target||!u.contains(A.target)||!e.isEditable)&&o.contains(d)&&o.contains(h)&&(o.removeChild(d),o.removeChild(h)),p&&(p=void 0,e.updateBlock(t,{props:{previewWidth:g}}))},k=()=>{e.isEditable&&(o.appendChild(d),o.appendChild(h))},C=A=>{A.relatedTarget===d||A.relatedTarget===h||p||e.isEditable&&o.contains(d)&&o.contains(h)&&(o.removeChild(d),o.removeChild(h))},_=A=>{A.preventDefault(),p={handleUsed:"left",initialWidth:u.clientWidth,initialClientX:A.clientX}},M=A=>{A.preventDefault(),p={handleUsed:"right",initialWidth:u.clientWidth,initialClientX:A.clientX}};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",v),u.addEventListener("mouseenter",k),u.addEventListener("mouseleave",C),d.addEventListener("mousedown",_),h.addEventListener("mousedown",M),{dom:u,destroy:()=>{a==null||a(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",v),u.removeEventListener("mouseenter",k),u.removeEventListener("mouseleave",C),d.removeEventListener("mousedown",_),h.removeEventListener("mousedown",M)}}},JA=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},_Z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',EZ={textAlignment:an.textAlignment,backgroundColor:an.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},ML={type:"image",propSchema:EZ,content:"none",isFileBlock:!0,fileBlockAccept:["image/*"]},MZ=(t,e)=>{const n=document.createElement("div");n.innerHTML=_Z;const o=document.createElement("div");o.className="bn-visual-media-wrapper";const i=document.createElement("img");return i.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(r=>{i.src=r}):i.src=t.props.url,i.alt=t.props.name||t.props.caption||"BlockNote image",i.contentEditable="false",i.draggable=!1,o.appendChild(i),EL(t,e,{dom:o},o,e.dictionary.file_blocks.image.add_button_text,n.firstElementChild)},TL=t=>{if(t.tagName==="IMG")return JA(t);if(t.tagName==="FIGURE"){const e=Ab(t,"img");if(!e)return;const{targetElement:n,caption:o}=e;return{...JA(n),caption:o}}},TZ=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add image",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("img"),e.src=t.props.url,e.alt=t.props.name||t.props.caption||"BlockNote image",e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?Wx(e,t.props.caption):Ob(e,t.props.caption):{dom:e}},AZ=th(ML,{render:MZ,parse:TL,toExternalHTML:TZ}),OZ={type:"pageBreak",propSchema:{},content:"none",isFileBlock:!1,isSelectable:!1},RZ=()=>{const t=document.createElement("div");return t.className="bn-page-break",t.setAttribute("data-page-break",""),{dom:t}},NZ=t=>{if(t.tagName==="DIV"&&t.hasAttribute("data-page-break"))return{type:"pageBreak"}},DZ=()=>{const t=document.createElement("div");return t.setAttribute("data-page-break",""),{dom:t}},LZ=th(OZ,{render:RZ,parse:NZ,toExternalHTML:DZ}),BZ=So.create({name:"backgroundColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-background-color"),renderHTML:t=>({"data-background-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-background-color")?{stringValue:t.getAttribute("data-background-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),jZ=Jl(BZ,"string"),HZ=So.create({name:"textColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-text-color"),renderHTML:t=>({"data-text-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-text-color")?{stringValue:t.getAttribute("data-text-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),IZ=Jl(HZ,"string"),AL={...an,level:{default:1,values:[1,2,3]}},zZ=Eo({name:"heading",content:"inline*",group:"blockContent",addAttributes(){return eh(AL)},addInputRules(){return[...[1,2,3].map(t=>new ll({find:new RegExp(`^(#{${t}})\\s$`),handler:({state:e,chain:n,range:o})=>{const i=yt(e);!i.isBlockContainer||i.blockContent.node.type.spec.content!=="inline*"||n().command(wn(this.options.editor,i.bnBlock.beforePos,{type:"heading",props:{level:t}})).deleteRange({from:o.from,to:o.to}).run()}}))]},addKeyboardShortcuts(){return{"Mod-Alt-1":()=>{const t=yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(wn(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:1}}))},"Mod-Alt-2":()=>{const t=yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(wn(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:2}}))},"Mod-Alt-3":()=>{const t=yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(wn(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:3}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"h1",attrs:{level:1},node:"heading"},{tag:"h2",attrs:{level:2},node:"heading"},{tag:"h3",attrs:{level:3},node:"heading"}]},renderHTML({node:t,HTMLAttributes:e}){var n,o;return ar(this.name,`h${t.attrs.level}`,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{})}}),PZ=Di(zZ,AL),OL=(t,e,n)=>({state:o,dispatch:i})=>{const r=ts(o.doc,t),s=dl(r);if(!s.isBlockContainer)throw new Error(`BlockContainer expected when calling splitBlock, position ${t}`);const a=[{type:s.bnBlock.node.type,attrs:n?{...s.bnBlock.node.attrs,id:void 0}:{}},{type:e?s.blockContent.node.type:o.schema.nodes.paragraph,attrs:n?{...s.blockContent.node.attrs}:{}}];return i&&o.tr.split(t,2,a),!0},Xx=t=>{const e=t._tiptapEditor,n=yt(e.state);if(!n.isBlockContainer)return!1;const{bnBlock:o,blockContent:i}=n,r=e.state.selection.anchor===e.state.selection.head;return!(i.node.type.name==="bulletListItem"||i.node.type.name==="numberedListItem"||i.node.type.name==="checkListItem")||!r?!1:e.commands.first(({state:s,chain:a,commands:u})=>[()=>u.command(()=>i.node.childCount===0?u.command(wn(t,o.beforePos,{type:"paragraph",props:{}})):!1),()=>u.command(()=>i.node.childCount>0?(a().deleteSelection().command(OL(s.selection.from,!0)).run(),!0):!1)])},VZ={...an},$Z=Eo({name:"bulletListItem",content:"inline*",group:"blockContent",priority:90,addInputRules(){return[new ll({find:new RegExp("^[-+*]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=yt(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(wn(this.options.editor,o.bnBlock.beforePos,{type:"bulletListItem",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>Xx(this.options.editor),"Mod-Shift-8":()=>{const t=yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(wn(this.options.editor,t.bnBlock.beforePos,{type:"bulletListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"?{}:!1},node:"bulletListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="bulletListItem"?{}:!1},priority:300,node:"bulletListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return ar(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),UZ=Di($Z,VZ),RL={...an,checked:{default:!1}},FZ=Eo({name:"checkListItem",content:"inline*",group:"blockContent",addAttributes(){return eh(RL)},addInputRules(){return[new ll({find:new RegExp("\\[\\s*\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=yt(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(wn(this.options.editor,o.bnBlock.beforePos,{type:"checkListItem",props:{checked:!1}})).deleteRange({from:n.from,to:n.to})}}),new ll({find:new RegExp("\\[[Xx]\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=yt(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(wn(this.options.editor,o.bnBlock.beforePos,{type:"checkListItem",props:{checked:!0}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>Xx(this.options.editor),"Mod-Shift-9":()=>{const t=yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(wn(this.options.editor,t.bnBlock.beforePos,{type:"checkListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"input",getAttrs:t=>typeof t=="string"?!1:t.type==="checkbox"?{checked:t.checked}:!1,node:"checkListItem"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"){const n=t.querySelector("input[type=checkbox]")||null;return n===null?!1:{checked:n.checked}}return!1},node:"checkListItem"}]},renderHTML({node:t,HTMLAttributes:e}){var n,o;const i=document.createElement("input");i.type="checkbox",i.checked=t.attrs.checked,t.attrs.checked&&i.setAttribute("checked","");const{dom:r,contentDOM:s}=ar(this.name,"p",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{});return r.insertBefore(i,s),{dom:r,contentDOM:s}},addNodeView(){return({node:t,getPos:e,editor:n,HTMLAttributes:o})=>{var i,r;const s=document.createElement("div"),a=document.createElement("div");a.contentEditable="false";const u=document.createElement("input");u.type="checkbox",u.checked=t.attrs.checked,t.attrs.checked&&u.setAttribute("checked","");const d=()=>{if(!n.isEditable){u.checked=!u.checked;return}if(typeof e!="boolean"){const g=ts(n.state.doc,e());if(g.node.type.name!=="blockContainer")throw new Error(`Expected blockContainer node, got ${g.node.type.name}`);this.editor.commands.command(wn(this.options.editor,g.posBeforeNode,{type:"checkListItem",props:{checked:u.checked}}))}};u.addEventListener("change",d);const{dom:h,contentDOM:p}=ar(this.name,"p",{...((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},...o},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{});if(typeof e!="boolean"){const g="label-"+this.editor.state.doc.resolve(e()).node().attrs.id;u.setAttribute("aria-labelledby",g),p.id=g}return h.removeChild(p),h.appendChild(s),s.appendChild(a),s.appendChild(p),a.appendChild(u),{dom:h,contentDOM:p,destroy:()=>{u.removeEventListener("change",d)}}}}}),qZ=Di(FZ,RL),GZ=new at("numbered-list-indexing"),KZ=()=>new Ke({key:GZ,appendTransaction:(t,e,n)=>{const o=n.tr;o.setMeta("numberedListIndexing",!0);let i=!1;return n.doc.descendants((r,s)=>{var a;if(r.type.name==="blockContainer"&&r.firstChild.type.name==="numberedListItem"){let u=`${r.firstChild.attrs.start||1}`;const d=dl({posBeforeNode:s,node:r});if(!d.isBlockContainer)throw new Error("impossible");const h=o.doc.resolve(d.bnBlock.beforePos).nodeBefore;if(h){const v=dl({posBeforeNode:d.bnBlock.beforePos-h.nodeSize,node:h});if(v.blockNoteType==="numberedListItem"){if(!v.isBlockContainer)throw new Error("impossible");const k=v.blockContent.node.attrs.index;u=(parseInt(k)+1).toString()}}const p=d.blockContent.node,g=p.attrs.index,b=((a=h==null?void 0:h.firstChild)==null?void 0:a.type.name)!=="numberedListItem";if(g!==u||p.attrs.start&&!b){i=!0;const{start:v,...k}=p.attrs;o.setNodeMarkup(d.blockContent.beforePos,void 0,{...k,index:u,...typeof v=="number"&&b&&{start:v}})}}}),i?o:null}}),NL={...an,start:{default:void 0,type:"number"}},ZZ=Eo({name:"numberedListItem",content:"inline*",group:"blockContent",priority:90,addAttributes(){return{...eh(NL),index:{default:null,parseHTML:t=>t.getAttribute("data-index"),renderHTML:t=>({"data-index":t.index})}}},addInputRules(){return[new ll({find:new RegExp("^(\\d+)\\.\\s$"),handler:({state:t,chain:e,range:n,match:o})=>{const i=yt(t);if(!i.isBlockContainer||i.blockContent.node.type.spec.content!=="inline*"||i.blockNoteType==="numberedListItem")return;const r=parseInt(o[1]);e().command(wn(this.options.editor,i.bnBlock.beforePos,{type:"numberedListItem",props:r===1&&{}||{start:r}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>Xx(this.options.editor),"Mod-Shift-7":()=>{const t=yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(wn(this.options.editor,t.bnBlock.beforePos,{type:"numberedListItem",props:{}}))}}},addProseMirrorPlugins(){return[KZ()]},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="OL"||e.tagName==="DIV"&&e.parentElement.tagName==="OL"){const n=parseInt(e.getAttribute("start")||"1")||1;return t.previousSibling||n===1?{}:{start:n}}return!1},node:"numberedListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="numberedListItem"?{}:!1},priority:300,node:"numberedListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return ar(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),YZ=Di(ZZ,NL),WZ={...an},XZ=Eo({name:"paragraph",content:"inline*",group:"blockContent",addKeyboardShortcuts(){return{"Mod-Alt-0":()=>{const t=yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(wn(this.options.editor,t.bnBlock.beforePos,{type:"paragraph",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"p",priority:200,getAttrs:t=>{var e;return typeof t=="string"||!((e=t.textContent)!=null&&e.trim())?!1:{}},node:"paragraph"}]},renderHTML({HTMLAttributes:t}){var e,n;return ar(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),JZ=Di(XZ,WZ),QZ={...an},eY=Eo({name:"quote",content:"inline*",group:"blockContent",addInputRules(){return[new ll({find:new RegExp("^>\\s$"),handler:({state:t,chain:e,range:n})=>{const o=yt(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(wn(this.options.editor,o.bnBlock.beforePos,{type:"quote",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{"Mod-Alt-q":()=>{const t=yt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(wn(this.options.editor,t.bnBlock.beforePos,{type:"quote"}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"blockquote",node:"quote"}]},renderHTML({HTMLAttributes:t}){var e,n;return ar(this.name,"blockquote",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),tY=Di(eY,QZ),nY=35,Jx=120,oY=31,iY=Ct.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[eU({cellMinWidth:nY,defaultCellMinWidth:Jx,View:null}),uU()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const t=this.editor.state.selection,e=t.empty,n=t.$head.parentOffset===0,o=t.$head.node().type.name==="tableParagraph";return e&&n&&o},Tab:()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>ZT(1)(t,e,n)),"Shift-Tab":()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>ZT(-1)(t,e,n))}},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:lt(_e(t,"tableRole",e))}}}),rY={textColor:an.textColor},sY=Eo({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){var e,n;return ar(this.name,"table",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})},addNodeView(){return({node:t,HTMLAttributes:e})=>{var n;class o extends P4{constructor(r,s,a){super(r,s),this.node=r,this.cellMinWidth=s,this.blockContentHTMLAttributes=a;const u=document.createElement("div");u.className=nn("bn-block-content",a.class),u.setAttribute("data-content-type","table");for(const[g,b]of Object.entries(a))g!=="class"&&u.setAttribute(g,b);const d=this.dom,h=document.createElement("div");h.className="tableWrapper-inner",h.appendChild(d.firstChild),d.appendChild(h),u.appendChild(d);const p=document.createElement("div");p.className="table-widgets-container",p.style.position="relative",d.appendChild(p),this.dom=u}ignoreMutation(r){return!r.target.closest(".tableWrapper-inner")||super.ignoreMutation(r)}}return new o(t,Jx,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e})}}}),lY=Eo({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{preserveWhitespace:"full",priority:210,context:"tableContent",tag:"p",getAttrs:t=>({})},{tag:"p",getAttrs:t=>{if(typeof t=="string"||!t.textContent)return!1;const e=t.parentElement;return e===null?!1:e.tagName==="TD"?{}:!1}}]},renderHTML({HTMLAttributes:t}){return["p",t,0]}}),aY=Di(sY,rY,[iY,lY,AU.extend({content:"tableContent+"}),TU.extend({content:"tableContent+"}),OU]),QA=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},cY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',uY={textAlignment:an.textAlignment,backgroundColor:an.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},DL={type:"video",propSchema:uY,content:"none",isFileBlock:!0,fileBlockAccept:["video/*"]},dY=(t,e)=>{const n=document.createElement("div");n.innerHTML=cY;const o=document.createElement("div");o.className="bn-visual-media-wrapper";const i=document.createElement("video");return i.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(r=>{i.src=r}):i.src=t.props.url,i.controls=!0,i.contentEditable="false",i.draggable=!1,i.width=t.props.previewWidth,o.appendChild(i),EL(t,e,{dom:o},o,e.dictionary.file_blocks.video.add_button_text,n.firstElementChild)},LL=t=>{if(t.tagName==="VIDEO")return QA(t);if(t.tagName==="FIGURE"){const e=Ab(t,"video");if(!e)return;const{targetElement:n,caption:o}=e;return{...QA(n),caption:o}}},fY=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add video",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("video"),e.src=t.props.url,e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?Wx(e,t.props.caption):Ob(e,t.props.caption):{dom:e}},hY=th(DL,{render:dY,parse:LL,toExternalHTML:fY}),Qx={paragraph:JZ,heading:PZ,quote:tY,codeBlock:wZ,bulletListItem:UZ,numberedListItem:YZ,checkListItem:qZ,table:aY,file:SZ,image:AZ,video:hY,audio:bZ},pY=lL(Qx),eC={bold:Jl(mU,"boolean"),italic:Jl(CU,"boolean"),underline:Jl(MU,"boolean"),strike:Jl(EU,"boolean"),code:Jl(yU,"boolean"),textColor:IZ,backgroundColor:jZ};fL(eC);const BL={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},mY=dL(BL);function po(t,e){return t in e.schema.blockSchema&&e.schema.blockSchema[t]===pY[t]}function gY(t,e){return t in e.schema.inlineContentSchema&&e.schema.inlineContentSchema[t]===mY[t]}function bY(t,e,n){return e.type===t&&e.type in n.schema.blockSchema&&po(e.type,n)}function nh(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock||!1}function yY(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock&&"showPreview"in e.schema.blockSchema[t.type].propSchema||!1}function oh(t,e){return e.schema.blockSchema[t.type].isFileBlock&&!t.props.url}function Lc(t,e,n){return e in n.schema.blockSchema&&t in n.schema.blockSchema[e].propSchema&&n.schema.blockSchema[e].propSchema[t]===an[t]}function nk(t,e,n){return Lc(t,e.type,n)}function ok(t){return t instanceof Mt}function vY(t){let e=t.getTextCursorPosition().block,n=t.schema.blockSchema[e.type].content;for(;n==="none";){if(e=t.getTextCursorPosition().nextBlock,e===void 0)return;n=t.schema.blockSchema[e.type].content,t.setTextCursorPosition(e,"end")}}function Bn(t,e){const n=t.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let o;return Array.isArray(n.content)&&(n.content.length===1&&Ca(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(o=t.updateBlock(n,e),t.setTextCursorPosition(o)):(o=t.insertBlocks([e],n,"after")[0],t.setTextCursorPosition(t.getTextCursorPosition().nextBlock)),vY(t),o}function wY(t){const e=[];return po("heading",t)&&e.push({onItemClick:()=>{Bn(t,{type:"heading",props:{level:1}})},badge:ri("Mod-Alt-1"),key:"heading",...t.dictionary.slash_menu.heading},{onItemClick:()=>{Bn(t,{type:"heading",props:{level:2}})},badge:ri("Mod-Alt-2"),key:"heading_2",...t.dictionary.slash_menu.heading_2},{onItemClick:()=>{Bn(t,{type:"heading",props:{level:3}})},badge:ri("Mod-Alt-3"),key:"heading_3",...t.dictionary.slash_menu.heading_3}),po("quote",t)&&e.push({onItemClick:()=>{Bn(t,{type:"quote"})},key:"quote",...t.dictionary.slash_menu.quote}),po("numberedListItem",t)&&e.push({onItemClick:()=>{Bn(t,{type:"numberedListItem"})},badge:ri("Mod-Shift-7"),key:"numbered_list",...t.dictionary.slash_menu.numbered_list}),po("bulletListItem",t)&&e.push({onItemClick:()=>{Bn(t,{type:"bulletListItem"})},badge:ri("Mod-Shift-8"),key:"bullet_list",...t.dictionary.slash_menu.bullet_list}),po("checkListItem",t)&&e.push({onItemClick:()=>{Bn(t,{type:"checkListItem"})},badge:ri("Mod-Shift-9"),key:"check_list",...t.dictionary.slash_menu.check_list}),po("paragraph",t)&&e.push({onItemClick:()=>{Bn(t,{type:"paragraph"})},badge:ri("Mod-Alt-0"),key:"paragraph",...t.dictionary.slash_menu.paragraph}),po("codeBlock",t)&&e.push({onItemClick:()=>{Bn(t,{type:"codeBlock"})},badge:ri("Mod-Alt-c"),key:"code_block",...t.dictionary.slash_menu.code_block}),po("table",t)&&e.push({onItemClick:()=>{Bn(t,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...t.dictionary.slash_menu.table}),po("image",t)&&e.push({onItemClick:()=>{const n=Bn(t,{type:"image"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"image",...t.dictionary.slash_menu.image}),po("video",t)&&e.push({onItemClick:()=>{const n=Bn(t,{type:"video"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"video",...t.dictionary.slash_menu.video}),po("audio",t)&&e.push({onItemClick:()=>{const n=Bn(t,{type:"audio"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"audio",...t.dictionary.slash_menu.audio}),po("file",t)&&e.push({onItemClick:()=>{const n=Bn(t,{type:"file"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"file",...t.dictionary.slash_menu.file}),e.push({onItemClick:()=>{t.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...t.dictionary.slash_menu.emoji}),e}function jL(t,e){return t.filter(({title:n,aliases:o})=>n.toLowerCase().includes(e.toLowerCase())||o&&o.filter(i=>i.toLowerCase().includes(e.toLowerCase())).length!==0)}function bv(t){return t&&Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0))}let pu=class HL{constructor(e){q(this,"blockSpecs"),q(this,"inlineContentSpecs"),q(this,"styleSpecs"),q(this,"blockSchema"),q(this,"inlineContentSchema"),q(this,"styleSchema"),q(this,"BlockNoteEditor","only for types"),q(this,"Block","only for types"),q(this,"PartialBlock","only for types"),this.blockSpecs=bv(e==null?void 0:e.blockSpecs)||Qx,this.inlineContentSpecs=bv(e==null?void 0:e.inlineContentSpecs)||BL,this.styleSpecs=bv(e==null?void 0:e.styleSpecs)||eC,this.blockSchema=lL(this.blockSpecs),this.inlineContentSchema=dL(this.inlineContentSpecs),this.styleSchema=fL(this.styleSpecs)}static create(e){return new HL(e)}};pu.create({blockSpecs:{pageBreak:LZ}});function kY(t,e,n,o="before"){const i=typeof n=="string"?n:n.id,r=[];for(const u of e)r.push(Ra(u,t.pmSchema,t.schema.styleSchema));const s=ro(i,t._tiptapEditor.state.doc);if(!s)throw new Error(`Block with ID ${i} not found`);o==="before"&&t.dispatch(t._tiptapEditor.state.tr.insert(s.posBeforeNode,r)),o==="after"&&t.dispatch(t._tiptapEditor.state.tr.insert(s.posBeforeNode+s.node.nodeSize,r));const a=[];for(const u of r)a.push(Ft(u,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));return a}function xY(t){const e=t._tiptapEditor.state,n=e.selection,o=ts(e.doc,n.anchor);if(n instanceof Mt)return{type:"cell",anchorBlockId:o.node.attrs.id,anchorCellOffset:n.$anchorCell.pos-o.posBeforeNode,headCellOffset:n.$headCell.pos-o.posBeforeNode};if(t._tiptapEditor.state.selection instanceof Te)return{type:"node",anchorBlockId:o.node.attrs.id};{const i=ts(e.doc,n.head);return{type:"text",anchorBlockId:o.node.attrs.id,headBlockId:i.node.attrs.id,anchorOffset:n.anchor-o.posBeforeNode,headOffset:n.head-i.posBeforeNode}}}function CY(t,e){var n,o;const i=(n=ro(e.anchorBlockId,t._tiptapEditor.state.doc))==null?void 0:n.posBeforeNode;if(i===void 0)throw new Error(`Could not find block with ID ${e.anchorBlockId} to update selection`);let r;if(e.type==="cell")r=Mt.create(t._tiptapEditor.state.doc,i+e.anchorCellOffset,i+e.headCellOffset);else if(e.type==="node")r=Te.create(t._tiptapEditor.state.doc,i+1);else{const s=(o=ro(e.headBlockId,t._tiptapEditor.state.doc))==null?void 0:o.posBeforeNode;if(s===void 0)throw new Error(`Could not find block with ID ${e.headBlockId} to update selection`);r=Me.create(t._tiptapEditor.state.doc,i+e.anchorOffset,s+e.headOffset)}t.dispatch(t._tiptapEditor.state.tr.setSelection(r))}function ik(t){return t.map(e=>e.type==="columnList"?e.children.map(n=>ik(n.children)).flat():{...e,children:ik(e.children)}).flat()}function IL(t,e,n){var o;const i=((o=t.getSelection())==null?void 0:o.blocks)||[t.getTextCursorPosition().block],r=xY(t);t.removeBlocks(i),t.insertBlocks(ik(i),e,n),CY(t,r)}function zL(t){return!t||t.type!=="columnList"}function PL(t,e,n){let o,i;if(e?e.children.length>0?(o=e.children[e.children.length-1],i="after"):(o=e,i="before"):n&&(o=n,i="before"),!o||!i)return;const r=t.getParentBlock(o);return zL(r)?{referenceBlock:o,placement:i}:PL(t,i==="after"?o:t.getPrevBlock(o),r)}function VL(t,e,n){let o,i;if(e?e.children.length>0?(o=e.children[0],i="before"):(o=e,i="after"):n&&(o=n,i="after"),!o||!i)return;const r=t.getParentBlock(o);return zL(r)?{referenceBlock:o,placement:i}:VL(t,i==="before"?o:t.getNextBlock(o),r)}function SY(t){const e=t.getSelection(),n=(e==null?void 0:e.blocks[0])||t.getTextCursorPosition().block,o=PL(t,t.getPrevBlock(n),t.getParentBlock(n));o&&IL(t,o.referenceBlock,o.placement)}function _Y(t){const e=t.getSelection(),n=(e==null?void 0:e.blocks[(e==null?void 0:e.blocks.length)-1])||t.getTextCursorPosition().block,o=VL(t,t.getNextBlock(n),t.getParentBlock(n));o&&IL(t,o.referenceBlock,o.placement)}function EY(t,e){return function({state:n,dispatch:o}){const{$from:i,$to:r}=n.selection,s=i.blockRange(r,d=>d.childCount>0&&(d.type.name==="blockGroup"||d.type.name==="column"));if(!s)return!1;const a=s.startIndex;if(a===0)return!1;const u=s.parent.child(a-1);if(u.type!==t)return!1;if(o){const d=u.lastChild&&u.lastChild.type===e,h=J.from(d?t.create():null),p=new me(J.from(t.create(null,J.from(e.create(null,h)))),d?3:1,0),g=s.start,b=s.end;o(n.tr.step(new on(g-(d?3:1),b,g,b,p,1,!0)).scrollIntoView())}return!0}}function $L(t){return t._tiptapEditor.commands.command(EY(t._tiptapEditor.schema.nodes.blockContainer,t._tiptapEditor.schema.nodes.blockGroup))}function MY(t){t._tiptapEditor.commands.liftListItem("blockContainer")}function TY(t){const{bnBlock:e}=yt(t._tiptapEditor.state);return t._tiptapEditor.state.doc.resolve(e.beforePos).nodeBefore!==null}function AY(t){const{bnBlock:e}=yt(t._tiptapEditor.state);return t._tiptapEditor.state.doc.resolve(e.beforePos).depth>1}function UL(t,e,n){const o=t._tiptapEditor;let i=o.state.tr;const r=[];for(const p of n)r.push(Ra(p,t.pmSchema,t.schema.styleSchema));const s=new Set(e.map(p=>typeof p=="string"?p:p.id)),a=[],u=typeof e[0]=="string"?e[0]:e[0].id;let d=0;if(o.state.doc.descendants((p,g)=>{if(s.size===0)return!1;if(!p.type.isInGroup("bnBlock")||!s.has(p.attrs.id))return!0;if(a.push(Ft(p,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)),s.delete(p.attrs.id),n.length>0&&p.attrs.id===u){const C=i.doc.nodeSize;i=i.insert(g,r);const _=i.doc.nodeSize;d+=C-_}const b=i.doc.nodeSize,v=i.doc.resolve(g-d);v.node().type.name==="blockGroup"&&v.node(v.depth-1).type.name!=="doc"&&v.node().childCount===1?i=i.delete(v.before(),v.after()):i=i.delete(g-d,g-d+p.nodeSize);const k=i.doc.nodeSize;return d+=b-k,!1}),s.size>0){const p=[...s].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+p)}t.dispatch(i);const h=[];for(const p of r)h.push(Ft(p,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));return{insertedBlocks:h,removedBlocks:a}}function OY(t,e,n){return UL(t,e,n)}function RY(t,e){return UL(t,e,[]).removedBlocks}function NY(t,e){const n=typeof e=="string"?e:e.id,o=ro(n,t._tiptapEditor.state.doc);if(o)return Ft(o.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function DY(t,e){const n=typeof e=="string"?e:e.id,o=ro(n,t._tiptapEditor.state.doc);if(!o)return;const i=t._tiptapEditor.state.doc.resolve(o.posBeforeNode).nodeBefore;if(i)return Ft(i,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function LY(t,e){const n=typeof e=="string"?e:e.id,o=ro(n,t._tiptapEditor.state.doc);if(!o)return;const i=t._tiptapEditor.state.doc.resolve(o.posBeforeNode+o.node.nodeSize).nodeAfter;if(i)return Ft(i,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function BY(t,e){const n=typeof e=="string"?e:e.id,o=ro(n,t._tiptapEditor.state.doc);if(!o)return;const i=t._tiptapEditor.state.doc.resolve(o.posBeforeNode),r=i.node(),s=i.node(-1),a=s.type.name!=="doc"?r.type.name==="blockGroup"?s:r:void 0;if(a)return Ft(a,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function jY(t,e,n,o={updateSelection:!0}){const i=n._tiptapEditor.state.tr;let{from:r,to:s}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},a=!0,u=!0,d="";if(e.forEach(h=>{h.check(),a&&h.isText&&h.marks.length===0?d+=h.text:a=!1,u=u?h.isBlock:!1}),r===s&&u){const{parent:h}=i.doc.resolve(r);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(r-=1,s+=1)}return a?i.insertText(d,r,s):i.replaceWith(r,s,e),o.updateSelection&&g4(i,i.steps.length-1,-1),n.dispatch(i),!0}function HY(t){const e=t._tiptapEditor.state;if(e.selection.empty||"node"in e.selection)return;const n=e.doc.resolve(ts(e.doc,e.selection.from).posBeforeNode),o=e.doc.resolve(ts(e.doc,e.selection.to).posBeforeNode),i=(d,h)=>{const p=n.posAtIndex(d,h),g=e.doc.resolve(p).nodeAfter;if(!g)throw new Error(`Error getting selection - node not found at position ${p}`);return Ft(g,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)},r=[],s=n.sharedDepth(o.pos),a=n.index(s),u=o.index(s);if(n.depth>s){r.push(Ft(n.nodeAfter,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));for(let d=n.depth;d>s;d--)if(n.node(d).type.isInGroup("childContainer")){const h=n.index(d)+1,p=n.node(d).childCount;for(let g=h;g<p;g++)r.push(i(g,d))}}else r.push(i(a,s));for(let d=a+1;d<=u;d++)r.push(i(d,s));if(r.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${e.selection})`);return{blocks:r}}function IY(t,e,n){const o=typeof e=="string"?e:e.id,i=typeof n=="string"?n:n.id;if(o===i)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${o})`);const r=t._tiptapEditor.state.doc,s=ro(o,r);if(!s)throw new Error(`Block with ID ${o} not found`);const a=ro(i,r);if(!a)throw new Error(`Block with ID ${i} not found`);const u=dl(s),d=dl(a),h=t.schema.blockSchema[u.blockNoteType],p=t.schema.blockSchema[d.blockNoteType];if(!u.isBlockContainer||h.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${o})`);if(!d.isBlockContainer||p.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${i})`);let g,b;if(h.content==="table"){const v=Ut.get(u.blockContent.node);g=u.blockContent.beforePos+v.positionAt(0,0,u.blockContent.node)+1+2}else g=u.blockContent.beforePos+1;if(p.content==="table"){const v=Ut.get(d.blockContent.node),k=d.blockContent.beforePos+v.positionAt(v.height-1,v.width-1,d.blockContent.node)+1,C=r.resolve(k).nodeAfter.nodeSize;b=k+C-2}else b=d.blockContent.afterPos-1;t._tiptapEditor.dispatch(t._tiptapEditor.state.tr.setSelection(Me.create(t._tiptapEditor.state.doc,g,b)))}function zY(t){const{bnBlock:e}=yt(t._tiptapEditor.state),n=t._tiptapEditor.state.doc.resolve(e.beforePos),o=n.nodeBefore,i=t._tiptapEditor.state.doc.resolve(e.afterPos).nodeAfter;let r;return n.depth>1&&(r=n.node(),r.type.isInGroup("bnBlock")||(r=n.node(n.depth-1))),{block:Ft(e.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),prevBlock:o===null?void 0:Ft(o,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),nextBlock:i===null?void 0:Ft(i,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),parentBlock:r===void 0?void 0:Ft(r,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}}function FL(t,e,n="start"){const o=typeof e=="string"?e:e.id,i=ro(o,t._tiptapEditor.state.doc);if(!i)throw new Error(`Block with ID ${o} not found`);const r=dl(i),s=t.schema.blockSchema[r.blockNoteType].content;if(r.isBlockContainer){const a=r.blockContent;if(s==="none"){t._tiptapEditor.commands.setNodeSelection(a.beforePos);return}if(s==="inline")n==="start"?t._tiptapEditor.commands.setTextSelection(a.beforePos+1):t._tiptapEditor.commands.setTextSelection(a.afterPos-1);else if(s==="table")n==="start"?t._tiptapEditor.commands.setTextSelection(a.beforePos+4):t._tiptapEditor.commands.setTextSelection(a.afterPos-4);else throw new lr(s)}else{const a=n==="start"?r.childContainer.node.firstChild:r.childContainer.node.lastChild;FL(t,a.attrs.id,n)}}let Bc;async function tC(){if(Bc)return Bc;const t=await Promise.all([mo(()=>import("./index-CcZNLNXV.js"),__vite__mapDeps([0,1,2,3,4,5])),mo(()=>import("./index-B9Q8Y-GR.js"),__vite__mapDeps([6,4,7,8,9])),mo(()=>import("./index-DDaE9jMN.js"),__vite__mapDeps([10,1,2])),mo(()=>import("./index-CgK3u0dG.js"),__vite__mapDeps([11,5,4])),mo(()=>import("./index-DNoyPb3H.js"),__vite__mapDeps([12,13,14,15,9,16,17,18])),mo(()=>import("./index-4SZtKH9m.js"),__vite__mapDeps([19,20,21,22,8,3,15,23,17,18,16])),mo(()=>import("./index-SzIx7y6K.js"),__vite__mapDeps([24,7,23,22,21,17,15,18,16,25])),mo(()=>import("./index-BxE2facF.js"),__vite__mapDeps([26,25,20,21,22,2,18])),mo(()=>import("./index-Dw8e9nLW.js"),__vite__mapDeps([27,13,21,17,15])),mo(()=>import("./index-BCPnb1JI.js"),__vite__mapDeps([28,14,15,9]))]);return Bc={rehypeParse:t[0],rehypeStringify:t[1],unified:t[2],hastUtilFromDom:t[3],rehypeRemark:t[4],remarkGfm:t[5],remarkStringify:t[6],remarkParse:t[7],remarkRehype:t[8],rehypeFormat:t[9]},Bc}function PY(){const t=e=>{let n=e.children.length;for(let o=0;o<n;o++){const i=e.children[o];if(i.type==="element"&&(t(i),i.tagName==="u"))if(i.children.length>0){e.children.splice(o,1,...i.children);const r=i.children.length-1;n+=r,o+=r}else e.children.splice(o,1),n--,o--}};return t}function VY(){const t=Bc;if(!t)throw new Error("addSpacesToCheckboxes requires ESM dependencies to be initialized");const e=n=>{var o;if(n.children&&"length"in n.children&&n.children.length)for(let i=n.children.length-1;i>=0;i--){const r=n.children[i],s=i+1<n.children.length?n.children[i+1]:void 0;r.type==="element"&&r.tagName==="input"&&((o=r.properties)==null?void 0:o.type)==="checkbox"&&(s==null?void 0:s.type)==="element"&&s.tagName==="p"?(s.tagName="span",s.children.splice(0,0,t.hastUtilFromDom.fromDom(document.createTextNode(" ")))):e(r)}};return e}function nC(t){const e=Bc;if(!e)throw new Error("cleanHTMLToMarkdown requires ESM dependencies to be initialized");return e.unified.unified().use(e.rehypeParse.default,{fragment:!0}).use(PY).use(VY).use(e.rehypeRemark.default).use(e.remarkGfm.default).use(e.remarkStringify.default,{handlers:{text:n=>n.value}}).processSync(t).value}async function $Y(t,e,n,o){await tC();const i=Tb(e,n).exportBlocks(t,o);return nC(i)}function UY(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function FY(t){return t.nodeType===3&&!/\S/.test(t.nodeValue||"")}function qY(t){t.querySelectorAll("li > ul, li > ol").forEach(e=>{const n=UY(e),o=e.parentElement,i=Array.from(o.childNodes).slice(n+1);e.remove(),i.forEach(r=>{r.remove()}),o.insertAdjacentElement("afterend",e),i.reverse().forEach(r=>{if(FY(r))return;const s=document.createElement("li");s.append(r),e.insertAdjacentElement("afterend",s)}),o.childNodes.length===0&&o.remove()})}function GY(t){t.querySelectorAll("li + ul, li + ol").forEach(e=>{var n,o;const i=e.previousElementSibling,r=document.createElement("div");i.insertAdjacentElement("afterend",r),r.append(i);const s=document.createElement("div");for(s.setAttribute("data-node-type","blockGroup"),r.append(s);((n=r.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((o=r.nextElementSibling)==null?void 0:o.nodeName)==="OL";)s.append(r.nextElementSibling)})}let eO=null;function KY(){return eO||(eO=document.implementation.createHTMLDocument("title"))}function qL(t){if(typeof t=="string"){const e=KY().createElement("div");e.innerHTML=t,t=e}return qY(t),GY(t),t}async function GL(t,e,n,o,i){const r=qL(t),s=aa.fromSchema(i).parse(r,{topNode:i.nodes.blockGroup.create()}),a=[];for(let u=0;u<s.childCount;u++)a.push(Ft(s.child(u),e,n,o));return a}function ZY(t,e){const n=e.value?e.value:"",o={};e.lang&&(o["data-language"]=e.lang);let i={type:"element",tagName:"code",properties:o,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}async function KL(t){const e=await tC();return e.unified.unified().use(e.remarkParse.default).use(e.remarkGfm.default).use(e.remarkRehype.default,{handlers:{...e.remarkRehype.defaultHandlers,code:ZY}}).use(e.rehypeStringify.default).processSync(t).value}async function YY(t,e,n,o,i){const r=await KL(t);return GL(r,e,n,o,i)}const oC=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function WY(t,e){if(!t.startsWith(".")||!e.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return t===e}function XY(t,e){const n=t.split("/"),o=e.split("/");if(n.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);if(o.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);return n[1]==="*"||o[1]==="*"?n[0]===o[0]:(n[0]==="*"||o[0]==="*"||n[0]===o[0])&&n[1]===o[1]}function tO(t,e,n){let o;return Array.isArray(e.content)&&e.content.length===0?o=t.updateBlock(e,n).id:o=t.insertBlocks([n],e,"after")[0].id,o}async function ZL(t,e){var n;if(!e.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const o="dataTransfer"in t?t.dataTransfer:t.clipboardData;if(o===null)return;let i=null;for(const a of oC)if(o.types.includes(a)){i=a;break}if(i!=="Files")return;const r=o.items;if(!r)return;t.preventDefault();const s=Object.values(e.schema.blockSchema).filter(a=>a.isFileBlock);for(let a=0;a<r.length;a++){let u="file";for(const h of s)for(const p of h.fileBlockAccept||[]){const g=p.startsWith("."),b=r[a].getAsFile();if(b&&(!g&&b.type&&XY(r[a].type,p)||g&&WY("."+b.name.split(".").pop(),p))){u=h.type;break}}const d=r[a].getAsFile();if(d){const h={type:u,props:{name:d.name}};let p;if(t.type==="paste"){const v=e.getTextCursorPosition().block;p=tO(e,v,h)}else if(t.type==="drop"){const v={left:t.clientX,top:t.clientY},k=(n=e.prosemirrorView)==null?void 0:n.posAtCoords(v);if(!k)return;const C=ts(e._tiptapEditor.state.doc,k.pos);p=tO(e,e.getBlock(C.node.attrs.id),h)}else return;const g=await e.uploadFile(d,p),b=typeof g=="string"?{props:{url:g}}:{...g};e.updateBlock(p,b)}}}const JY=t=>Ct.create({name:"dropFile",addProseMirrorPlugins(){return[new Ke({props:{handleDOMEvents:{drop(e,n){if(!t.isEditable)return;let o=null;for(const i of oC)if(n.dataTransfer.types.includes(i)){o=i;break}return o===null?!0:o==="Files"?(ZL(n,t),!0):!1}}}})]}});async function QY(t,e){const{schema:n}=e.state;if(!t.clipboardData)return!1;const o=t.clipboardData.getData("text/plain");if(!o)return!1;if(!n.nodes.codeBlock)return e.pasteText(o),!0;const i=t.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,s=r==null?void 0:r.mode;return s?(e.pasteHTML(`<pre><code class="language-${s}">${o.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}const eW=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,tW=new RegExp("(?:\\s|^)(_|__|\\*|\\*\\*|~~|==|\\+\\+)(?!\\s).{1,64}(?<!\\s)(?=\\1)"),nW=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,oW=new RegExp("(?:\\s|^)`(?!\\s)[^`]{1,48}(?<!\\s)`([^\\w]|$)"),iW=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,rW=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,sW=/\n{2} {0,3}-{2,48}\n{2}/,lW=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,aW=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,cW=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,uW=/^\s*\|(.+\|)+\s*$/m,dW=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,fW=/^\s*\|(.+\|)+\s*$/m,hW=t=>eW.test(t)||tW.test(t)||nW.test(t)||oW.test(t)||iW.test(t)||rW.test(t)||sW.test(t)||lW.test(t)||aW.test(t)||cW.test(t)||uW.test(t)||dW.test(t)||fW.test(t);function pW({event:t,editor:e,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:o}){let i;for(const s of oC)if(t.clipboardData.types.includes(s)){i=s;break}if(!i)return!0;if(i==="vscode-editor-data")return QY(t,e.prosemirrorView),!0;if(i==="Files")return ZL(t,e),!0;const r=t.clipboardData.getData(i);if(i==="blocknote/html")return e.pasteHTML(r,!0),!0;if(i==="text/markdown")return e.pasteMarkdown(r),!0;if(n){const s=t.clipboardData.getData("text/plain");if(hW(s))return e.pasteMarkdown(s),!0}return i==="text/html"?(e.pasteHTML(r),!0):o?(e.pasteMarkdown(r),!0):(e.pasteText(r),!0)}const mW=(t,e)=>Ct.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new Ke({props:{handleDOMEvents:{paste(n,o){if(o.preventDefault(),!!t.isEditable)return e({event:o,editor:t,defaultPasteHandler:({prioritizeMarkdownOverHTML:i=!0,plainTextAsMarkdown:r=!0}={})=>pW({event:o,editor:t,prioritizeMarkdownOverHTML:i,plainTextAsMarkdown:r})})}}}})]}});function YL(t,e){const n=[];return t.descendants(o=>{var i,r;return o.type.name==="blockContainer"&&((i=o.firstChild)==null?void 0:i.type.name)==="blockGroup"?!0:o.type.name==="columnList"&&o.childCount===1?((r=o.firstChild)==null||r.forEach(s=>{n.push(Ft(s,e.blockSchema,e.inlineContentSchema,e.styleSchema))}),!1):o.type.isInGroup("bnBlock")?(n.push(Ft(o,e.blockSchema,e.inlineContentSchema,e.styleSchema)),!1):!0}),n}function gW(t,e,n){var o;let i=!1;const r=t.state.selection instanceof Mt;if(!r){const u=t.state.doc.slice(t.state.selection.from,t.state.selection.to,!1).content,d=[];for(let h=0;h<u.childCount;h++)d.push(u.child(h));i=d.find(h=>h.type.isInGroup("bnBlock")||h.type.name==="blockGroup"||h.type.spec.group==="blockContent")===void 0,i&&(e=u)}let s;const a=Tb(t.state.schema,n);if(r){((o=e.firstChild)==null?void 0:o.type.name)==="table"&&(e=e.firstChild.content);const u=uL(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=`<table>${a.exportInlineContent(u,{})}</table>`}else if(i){const u=Eb(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=a.exportInlineContent(u,{})}else{const u=YL(e,n.schema);s=a.exportBlocks(u,{})}return s}function WL(t,e){"node"in t.state.selection&&t.state.selection.node.type.spec.group==="blockContent"&&e.dispatch(e._tiptapEditor.state.tr.setSelection(new Te(t.state.doc.resolve(t.state.selection.from-1))));const n=t.serializeForClipboard(t.state.selection.content()).dom.innerHTML,o=t.state.selection.content().content,i=gW(t,o,e),r=nC(i);return{clipboardHTML:n,externalHTML:i,markdown:r}}const nO=()=>{const t=window.getSelection();if(!t||t.isCollapsed)return!0;let e=t.focusNode;for(;e;){if(e instanceof HTMLElement&&e.getAttribute("contenteditable")==="false")return!0;e=e.parentElement}return!1},oO=(t,e,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:o,externalHTML:i,markdown:r}=WL(e,t);n.clipboardData.setData("blocknote/html",o),n.clipboardData.setData("text/html",i),n.clipboardData.setData("text/plain",r)},bW=t=>Ct.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new Ke({props:{handleDOMEvents:{copy(e,n){return nO()||oO(t,e,n),!0},cut(e,n){return nO()||(oO(t,e,n),e.editable&&e.dispatch(e.state.tr.deleteSelection())),!0},dragstart(e,n){if(!("node"in e.state.selection)||e.state.selection.node.type.spec.group!=="blockContent")return;t.dispatch(t._tiptapEditor.state.tr.setSelection(new Te(e.state.doc.resolve(e.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:o,externalHTML:i,markdown:r}=WL(e,t);return n.dataTransfer.setData("blocknote/html",o),n.dataTransfer.setData("text/html",i),n.dataTransfer.setData("text/plain",r),!0}}}})]}}),yW=Ct.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{backgroundColor:{default:an.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):an.backgroundColor.default,renderHTML:t=>t.backgroundColor===an.backgroundColor.default?{}:{"data-background-color":t.backgroundColor}}}}]}}),vW=t=>{var e;const n=[];n.push(PK.configure({fragment:t.fragment}));const o=(e=t.provider)==null?void 0:e.awareness;if(o){const i=new Map;t.showCursorLabels!=="always"&&o.on("change",({updated:a})=>{for(const u of a){const d=i.get(u);d&&(d.element.setAttribute("data-active",""),d.hideTimeout&&clearTimeout(d.hideTimeout),i.set(u,{element:d.element,hideTimeout:setTimeout(()=>{d.element.removeAttribute("data-active")},2e3)}))}});const r=a=>{const u=document.createElement("span");u.classList.add("bn-collaboration-cursor__base");const d=document.createElement("span");d.setAttribute("contentedEditable","false"),d.classList.add("bn-collaboration-cursor__caret"),d.setAttribute("style",`background-color: ${a.color}`);const h=document.createElement("span");return h.classList.add("bn-collaboration-cursor__label"),h.setAttribute("style",`background-color: ${a.color}`),h.insertBefore(document.createTextNode(a.name),null),d.insertBefore(h,null),u.insertBefore(document.createTextNode("⁠"),null),u.insertBefore(d,null),u.insertBefore(document.createTextNode("⁠"),null),u},s=(a,u)=>{var d;let h=i.get(u);if(!h){const p=((d=t==null?void 0:t.renderCursor)==null?void 0:d.call(t,a))||r(a);(t==null?void 0:t.showCursorLabels)!=="always"&&(p.addEventListener("mouseenter",()=>{const g=i.get(u);g.element.setAttribute("data-active",""),g.hideTimeout&&(clearTimeout(g.hideTimeout),i.set(u,{element:g.element,hideTimeout:void 0}))}),p.addEventListener("mouseleave",()=>{const g=i.get(u);i.set(u,{element:g.element,hideTimeout:setTimeout(()=>{g.element.removeAttribute("data-active")},2e3)})})),h={element:p,hideTimeout:void 0},i.set(u,h)}return h.element};n.push(VK.configure({user:t.user,render:s,provider:t.provider}))}return n},XL=So.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:t=>!!t.getAttribute("data-orphan"),renderHTML:t=>t.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:t=>t.getAttribute("data-bn-thread-id"),renderHTML:t=>({"data-bn-thread-id":t.threadId}),default:""}}},renderHTML({HTMLAttributes:t}){return["span",$o(t,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(t){return t.name==="comment"?{blocknoteIgnore:!0}:{}}});class cs{constructor(){q(this,"callbacks",{})}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),()=>this.off(e,n)}emit(e,...n){const o=this.callbacks[e];o&&o.forEach(i=>i.apply(this,n))}off(e,n){const o=this.callbacks[e];o&&(n?this.callbacks[e]=o.filter(i=>i!==n):delete this.callbacks[e])}removeAllListeners(){this.callbacks={}}}class wW extends cs{constructor(e){super(),q(this,"userCache",new Map),q(this,"loadingUsers",new Set),this.resolveUsers=e}async loadUsers(e){const n=e.filter(o=>!this.userCache.has(o)&&!this.loadingUsers.has(o));if(n.length!==0){for(const o of n)this.loadingUsers.add(o);try{const o=await this.resolveUsers(n);for(const i of o)this.userCache.set(i.id,i);this.emit("update",this.userCache)}finally{for(const o of n)this.loadingUsers.delete(o)}}}getUser(e){return this.userCache.get(e)}subscribe(e){return this.on("update",e)}}const Zp=new at("blocknote-comments"),kW="SET_SELECTED_THREAD_ID";function xW(t,e){const n=new Map;return t.descendants((o,i)=>{o.marks.forEach(r=>{if(r.type.name===e){const s=r.attrs.threadId;if(!s)return;const a=i,u=a+o.nodeSize,d=n.get(s)??{from:1/0,to:0};n.set(s,{from:Math.min(a,d.from),to:Math.max(u,d.to)})}})}),n}class CW extends cs{constructor(e,n,o){if(super(),q(this,"plugin"),q(this,"userStore"),q(this,"pendingComment",!1),q(this,"selectedThreadId"),q(this,"threadPositions",new Map),q(this,"updateMarksFromThreads",r=>{const s=this.editor._tiptapEditor;s.state.doc.descendants((a,u)=>{a.marks.forEach(d=>{if(d.type.name===this.markType){const h=d.type,p=d.attrs.threadId,g=r.get(p),b=!!(!g||g.resolved||g.deletedAt);if(b!==d.attrs.orphan){const{tr:v}=s.state,k=Math.max(u,0),C=Math.min(u+a.nodeSize,s.state.doc.content.size-1);v.removeMark(k,C,d),v.addMark(k,C,h.create({...d.attrs,orphan:b})),s.dispatch(v),b&&this.selectedThreadId===p&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})}),this.editor=e,this.threadStore=n,this.markType=o,!e.resolveUsers)throw new Error("resolveUsers is required for comments");this.userStore=new wW(e.resolveUsers),this.threadStore.subscribe(this.updateMarksFromThreads),e.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),e.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const i=this;this.plugin=new Ke({key:Zp,state:{init(){return{decorations:it.empty}},apply(r,s){const a=r.getMeta(Zp);if(!r.docChanged&&!a)return s;const u=r.docChanged?xW(r.doc,i.markType):i.threadPositions;(u.size>0||i.threadPositions.size>0)&&(i.threadPositions=u,i.emitStateUpdate());const d=[];if(i.selectedThreadId){const h=u.get(i.selectedThreadId);h&&d.push(vt.inline(h.from,h.to,{class:"bn-thread-mark-selected"}))}return{decorations:it.create(r.doc,d)}}},props:{decorations(r){var s;return((s=Zp.getState(r))==null?void 0:s.decorations)??it.empty},handleClick:(r,s,a)=>{if(a.button!==0)return;const u=r.state.doc.nodeAt(s);if(!u){i.selectThread(void 0);return}const d=u.marks.find(p=>p.type.name===o&&p.attrs.orphan!==!0),h=d==null?void 0:d.attrs.threadId;i.selectThread(h,!1)}}})}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(e){return this.on("update",e)}selectThread(e,n=!0){var o,i;if(this.selectedThreadId!==e&&(this.selectedThreadId=e,this.emitStateUpdate(),this.editor.dispatch(this.editor.prosemirrorView.state.tr.setMeta(Zp,{name:kW})),e&&n)){const r=this.threadPositions.get(e);if(!r)return;(i=(o=this.editor.prosemirrorView)==null?void 0:o.domAtPos(r.from).node)==null||i.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(e){const n=await this.threadStore.createThread(e);if(this.threadStore.addThreadToDocument){const o=this.editor.prosemirrorView,i=o.state.selection,r=Rt.getState(o.state),s={prosemirror:{head:i.head,anchor:i.anchor},yjs:r?Tg(r.binding,o.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:s})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}}class SW{constructor(e,n,o,i){q(this,"state"),q(this,"emitUpdate"),q(this,"mouseDownHandler",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),q(this,"dragstartHandler",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),q(this,"scrollHandler",()=>{var r;if((r=this.state)!=null&&r.show){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!s)return;this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate()}}),q(this,"closeMenu",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pluginKey=n,this.pmView=o,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");i(this.state)},o.dom.addEventListener("mousedown",this.mouseDownHandler),o.dom.addEventListener("dragstart",this.dragstartHandler),o.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var o,i;const r=this.pluginKey.getState(e.state);if(!((o=this.state)!=null&&o.show)&&r.block&&this.editor.isEditable){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${r.block.id}"]`);if(!s)return;this.state={show:!0,referencePos:s.getBoundingClientRect(),block:r.block},this.emitUpdate();return}(!e.state.selection.eq(n.selection)||!e.state.doc.eq(n.doc)||!this.editor.isEditable)&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const yv=new at("FilePanelPlugin");class _W extends cs{constructor(e){super(),q(this,"view"),q(this,"plugin"),q(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.plugin=new Ke({key:yv,view:n=>(this.view=new SW(e,yv,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>{var i;return o.key==="Escape"&&this.shown?((i=this.view)==null||i.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:n=>{var o;return{block:(o=n.getMeta(yv))==null?void 0:o.block}}}})}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}class EW{constructor(e,n,o){q(this,"state"),q(this,"emitUpdate"),q(this,"preventHide",!1),q(this,"preventShow",!1),q(this,"shouldShow",({state:i,from:r,to:s})=>{const{doc:a,selection:u}=i,{empty:d}=u,h=!a.textBetween(r,s).length&&fb(i.selection);return u.$from.parent.type.spec.code||ww(u)&&u.node.type.spec.code?!1:!(d||h)}),q(this,"blurHandler",i=>{var r;if(this.preventHide){this.preventHide=!1;return}const s=this.pmView.dom.parentElement;i&&i.relatedTarget&&(s===i.relatedTarget||s.contains(i.relatedTarget)||i.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),q(this,"viewMousedownHandler",()=>{this.preventShow=!0}),q(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),q(this,"dragHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),q(this,"scrollHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),q(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");o(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var o;const{state:i,composing:r}=e,{selection:s}=i,a=n&&n.selection.from===i.selection.from&&n.selection.to===i.selection.to;if(r||a)return;const{ranges:u}=s,d=Math.min(...u.map(b=>b.$from.pos)),h=Math.max(...u.map(b=>b.$to.pos)),p=this.shouldShow({view:e,state:i,from:d,to:h}),g=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(p||this.preventHide)&&!g){this.state={show:!0,referencePos:this.getSelectionBoundingBox()},this.emitUpdate();return}if((o=this.state)!=null&&o.show&&!this.preventHide&&(!p||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:e}=this.pmView,{selection:n}=e,{ranges:o}=n,i=Math.min(...o.map(s=>s.$from.pos)),r=Math.max(...o.map(s=>s.$to.pos));if(ww(n)){const s=this.pmView.nodeDOM(i);if(s)return s.getBoundingClientRect()}return qm(this.pmView,i,r)}}const MW=new at("FormattingToolbarPlugin");class TW extends cs{constructor(e){super(),q(this,"view"),q(this,"plugin"),q(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Ke({key:MW,view:n=>(this.view=new EW(e,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>o.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}const AW=dr.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",$o(this.options.HTMLAttributes,t)]},renderText(){return`
`}}),iO=(t,e)=>{const n=t.resolve(e);if(n.depth<=1)return;const o=n.posAtIndex(n.index(n.depth-1),n.depth-1);return Jf(t.resolve(o))},vm=(t,e)=>{const n=t.resolve(e),o=n.index();if(o===0)return;const i=n.posAtIndex(o-1);return Jf(t.resolve(i))},JL=(t,e)=>{for(;e.childContainer;){const n=e.childContainer.node,o=t.resolve(e.childContainer.beforePos+1).posAtIndex(n.childCount-1);e=Jf(t.resolve(o))}return e},OW=(t,e)=>t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*"&&t.blockContent.node.childCount>0&&e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*",RW=(t,e,n,o)=>{if(!o.isBlockContainer)throw new Error(`Attempted to merge block at position ${o.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(o.childContainer){const i=t.doc.resolve(o.childContainer.beforePos+1),r=t.doc.resolve(o.childContainer.afterPos-1),s=i.blockRange(r);if(e){const a=t.doc.resolve(o.bnBlock.beforePos);t.tr.lift(s,a.depth)}}if(e){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${o.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);e(t.tr.delete(n.blockContent.afterPos-1,o.blockContent.beforePos+1))}return!0},rO=t=>({state:e,dispatch:n})=>{const o=e.doc.resolve(t),i=Jf(o),r=vm(e.doc,i.bnBlock.beforePos);if(!r)return!1;const s=JL(e.doc,r);return OW(s,i)?RW(e,n,s,i):!1},NW=Ct.create({priority:50,addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({chain:o,commands:i})=>[()=>i.deleteSelection(),()=>i.undoInputRule(),()=>i.command(({state:r})=>{const s=yt(r);if(!s.isBlockContainer)return!1;const a=r.selection.from===s.blockContent.beforePos+1,u=s.blockContent.node.type.name==="paragraph";return a&&!u?i.command(wn(this.options.editor,s.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>i.command(({state:r})=>{const s=yt(r);if(!s.isBlockContainer)return!1;const{blockContent:a}=s;return r.selection.from===a.beforePos+1?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:r})=>{const s=yt(r);if(!s.isBlockContainer)return!1;const{bnBlock:a,blockContent:u}=s,d=r.selection.from===u.beforePos+1,h=r.selection.empty,p=a.beforePos;return d&&h?o().command(rO(p)).scrollIntoView().run():!1}),()=>i.command(({state:r,dispatch:s})=>{const a=yt(r);if(!a.isBlockContainer||r.selection.from!==a.blockContent.beforePos+1||vm(r.doc,a.bnBlock.beforePos))return!1;const u=iO(r.doc,a.bnBlock.beforePos);if((u==null?void 0:u.blockNoteType)!=="column")return!1;const d=u,h=iO(r.doc,d.bnBlock.beforePos);if((h==null?void 0:h.blockNoteType)!=="columnList")throw new Error("parent of column is not a column list");const p=d.childContainer.node.childCount===1,g=p&&h.childContainer.node.childCount===2,b=h.childContainer.node.firstChild===d.bnBlock.node;if(s){const v=r.doc.slice(a.bnBlock.beforePos,a.bnBlock.afterPos,!1);if(g)if(b){r.tr.step(new on(h.bnBlock.beforePos,h.bnBlock.afterPos,d.bnBlock.afterPos+1,h.bnBlock.afterPos-2,v,v.size,!1));const k=r.tr.doc.resolve(d.bnBlock.beforePos);r.tr.setSelection(Me.between(k,k))}else{r.tr.step(new on(h.bnBlock.beforePos,h.bnBlock.afterPos,h.bnBlock.beforePos+2,d.bnBlock.beforePos-1,v,0,!1));const k=r.tr.doc.resolve(r.tr.mapping.map(d.bnBlock.beforePos-1));r.tr.setSelection(Me.between(k,k))}else if(p)if(b){r.tr.delete(d.bnBlock.beforePos,d.bnBlock.afterPos),r.tr.insert(h.bnBlock.beforePos,v.content);const k=r.tr.doc.resolve(h.bnBlock.beforePos);r.tr.setSelection(Me.between(k,k))}else r.tr.delete(d.bnBlock.beforePos-1,d.bnBlock.beforePos+1);else{r.tr.delete(a.bnBlock.beforePos,a.bnBlock.afterPos),b?r.tr.insert(h.bnBlock.beforePos-1,v.content):r.tr.insert(d.bnBlock.beforePos-1,v.content);const k=r.tr.doc.resolve(d.bnBlock.beforePos-1);r.tr.setSelection(Me.between(k,k))}}return!0}),()=>i.command(({state:r})=>{const s=yt(r);if(!s.isBlockContainer)return!1;if(s.blockContent.node.childCount===0&&s.blockContent.node.type.spec.content==="inline*"){const a=vm(r.doc,s.bnBlock.beforePos);if(!a||!a.isBlockContainer)return!1;let u=o();if(a.blockContent.node.type.spec.content==="tableRow+"){const d=s.bnBlock.beforePos-1-1-1-1-1;u=u.setTextSelection(d)}else if(a.blockContent.node.type.spec.content===""){const d=a.blockContent.afterPos-a.blockContent.node.nodeSize;u=u.setNodeSelection(d)}else{const d=a.blockContent.afterPos-a.blockContent.node.nodeSize;u=u.setTextSelection(d)}return u.deleteRange({from:s.bnBlock.beforePos,to:s.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>i.command(({state:r})=>{const s=yt(r);if(!s.isBlockContainer)throw new Error("todo");const a=r.selection.from===s.blockContent.beforePos+1,u=r.selection.empty,d=vm(r.doc,s.bnBlock.beforePos);if(d&&a&&u){const h=JL(r.doc,d);if(!h.isBlockContainer)throw new Error("todo");if(h.blockContent.node.type.spec.content===""||h.blockContent.node.type.spec.content==="inline*"&&h.blockContent.node.childCount===0)return o().cut({from:s.bnBlock.beforePos,to:s.bnBlock.afterPos},h.bnBlock.afterPos).deleteRange({from:h.bnBlock.beforePos,to:h.bnBlock.afterPos}).run()}return!1})]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.command(({state:i})=>{const r=yt(i);if(!r.isBlockContainer)return!1;const{bnBlock:s,blockContent:a,childContainer:u}=r,{depth:d}=i.doc.resolve(s.beforePos),h=s.afterPos===i.doc.nodeSize-3,p=i.selection.from===a.afterPos-1,g=i.selection.empty;if(!h&&p&&g&&u===void 0){let b=d,v=s.afterPos+1,k=i.doc.resolve(v).depth;for(;k<b;)b=k,v+=2,k=i.doc.resolve(v).depth;return o.command(rO(v-1))}return!1})]),n=(o=!1)=>this.editor.commands.first(({commands:i})=>[()=>i.command(({state:r})=>{const s=yt(r);if(!s.isBlockContainer)return!1;const{bnBlock:a,blockContent:u}=s,{depth:d}=r.doc.resolve(a.beforePos),h=r.selection.$anchor.parentOffset===0,p=r.selection.anchor===r.selection.head,g=u.node.childCount===0,b=d>1;return h&&p&&g&&b?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:r})=>{const s=yt(r),a=this.options.editor.schema.blockSchema[s.blockNoteType].hardBreakShortcut??"shift+enter";return a==="none"?!1:a==="shift+enter"&&o||a==="enter"?i.insertContent({type:"hardBreak"}):!1}),()=>i.command(({state:r,dispatch:s})=>{const a=yt(r);if(!a.isBlockContainer)return!1;const{bnBlock:u,blockContent:d}=a,h=r.selection.$anchor.parentOffset===0,p=r.selection.anchor===r.selection.head,g=d.node.childCount===0;if(h&&p&&g){const b=u.afterPos,v=b+2;if(s){const k=r.schema.nodes.blockContainer.createAndFill();r.tr.insert(b,k).scrollIntoView(),r.tr.setSelection(new Me(r.doc.resolve(v)))}return!0}return!1}),()=>i.command(({state:r,chain:s})=>{const a=yt(r);if(!a.isBlockContainer)return!1;const{blockContent:u}=a,d=r.selection.$anchor.parentOffset===0;return u.node.childCount===0?!1:(s().deleteSelection().command(OL(r.selection.from,d,d)).run(),!0)})]);return{Backspace:t,Delete:e,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var o,i,r;return this.options.tabBehavior!=="prefer-indent"&&((o=this.options.editor.formattingToolbar)!=null&&o.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(r=this.options.editor.filePanel)!=null&&r.shown)?!1:$L(this.options.editor)},"Shift-Tab":()=>{var o,i,r;return this.options.tabBehavior!=="prefer-indent"&&((o=this.options.editor.formattingToolbar)!=null&&o.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(r=this.options.editor.filePanel)!=null&&r.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0)}}});class DW{constructor(e,n,o){q(this,"state"),q(this,"emitUpdate"),q(this,"menuUpdateTimer"),q(this,"startMenuUpdateTimer"),q(this,"stopMenuUpdateTimer"),q(this,"mouseHoveredLinkMark"),q(this,"mouseHoveredLinkMarkRange"),q(this,"keyboardHoveredLinkMark"),q(this,"keyboardHoveredLinkMarkRange"),q(this,"linkMark"),q(this,"linkMarkRange"),q(this,"mouseOverHandler",i=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),i.target instanceof HTMLAnchorElement&&i.target.nodeName==="A"){const r=i.target,s=this.pmView.posAtDOM(r,0)+1,a=this.pmView.state.doc.resolve(s),u=a.marks();for(const d of u)if(d.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=d,this.mouseHoveredLinkMarkRange=kf(a,d.type,d.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),q(this,"clickHandler",i=>{var r;const s=this.pmView.dom.parentElement;this.linkMark&&i&&i.target&&!(s===i.target||s.contains(i.target))&&(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),q(this,"scrollHandler",()=>{var i;this.linkMark!==void 0&&(i=this.state)!=null&&i.show&&(this.state.referencePos=qm(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),q(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");o(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(e,n){var o;const i=this.pmView.state.tr.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to);i.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,this.pmView.state.schema.mark("link",{href:e})),this.editor.dispatch(i),this.pmView.focus(),(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var e;this.editor.dispatch(this.pmView.state.tr.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate())}update(e,n,o=!1){var i;const{state:r}=e;if(n&&n.selection.from===r.selection.from&&n.selection.to===r.selection.to||!this.pmView.hasFocus())return;const s=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const a=this.pmView.state.selection.$from.marks();for(const u of a)if(u.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=u,this.keyboardHoveredLinkMarkRange=kf(this.pmView.state.selection.$from,u.type,u.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&o&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:qm(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((i=this.state)!=null&&i.show&&s&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}}const LW=new at("LinkToolbarPlugin");class BW extends cs{constructor(e){super(),q(this,"view"),q(this,"plugin"),q(this,"editLink",(n,o)=>{this.view.editLink(n,o)}),q(this,"deleteLink",()=>{this.view.deleteLink()}),q(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),q(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),q(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Ke({key:LW,view:n=>(this.view=new DW(e,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>o.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}onUpdate(e){return this.on("update",e)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}const QL=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],e5="https",jW=new at("node-selection-keyboard");class HW{constructor(){q(this,"plugin"),this.plugin=new Ke({key:jW,props:{handleKeyDown:(e,n)=>{if("node"in e.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const o=e.state.tr;return e.dispatch(o.insert(e.state.tr.selection.$to.after(),e.state.schema.nodes.paragraph.createChecked()).setSelection(new Me(o.doc.resolve(e.state.tr.selection.$to.after()+1)))),!0}}return!1}}})}}const IW=new at("blocknote-placeholder");class zW{constructor(e,n){q(this,"plugin"),this.plugin=new Ke({key:IW,view:o=>{var i,r;const s=`placeholder-selector-${R4()}`;o.dom.classList.add(s);const a=document.createElement("style"),u=e._tiptapEditor.options.injectNonce;u&&a.setAttribute("nonce",u),((i=e.prosemirrorView)==null?void 0:i.root)instanceof ShadowRoot?e.prosemirrorView.root.append(a):(r=e.prosemirrorView)==null||r.root.head.appendChild(a);const d=a.sheet,h=(p="")=>`.${s} .bn-block-content${p} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:p,emptyDocument:g,...b}=n;for(const[C,_]of Object.entries(b)){const M=`[data-content-type="${C}"]`;d.insertRule(`${h(M)} { content: ${JSON.stringify(_)}; }`)}d.insertRule(`${h("[data-is-only-empty-block]")} { content: ${JSON.stringify(g)}; }`),d.insertRule(`${h("[data-is-empty-and-focused]")} { content: ${JSON.stringify(p)}; }`)}catch(p){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",p)}return{destroy:()=>{var p,g;((p=e.prosemirrorView)==null?void 0:p.root)instanceof ShadowRoot?e.prosemirrorView.root.removeChild(a):(g=e.prosemirrorView)==null||g.root.head.removeChild(a)}}},props:{decorations:o=>{const{doc:i,selection:r}=o;if(!e.isEditable||!r.empty||r.$from.parent.type.spec.code)return;const s=[];o.doc.content.size===6&&s.push(vt.node(2,4,{"data-is-only-empty-block":"true"}));const a=r.$anchor,u=a.parent;if(u.content.size===0){const d=a.before();s.push(vt.node(d,d+u.nodeSize,{"data-is-empty-and-focused":"true"}))}return it.create(i,s)}}})}}const sO=new at("previous-blocks"),PW={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};class VW{constructor(){q(this,"plugin");let e;this.plugin=new Ke({key:sO,view(n){return{update:async(o,i)=>{var r;((r=this.key)==null?void 0:r.getState(o.state).updatedBlocks.size)>0&&(e=setTimeout(()=>{o.dispatch(o.state.tr.setMeta(sO,{clearUpdate:!0}))},0))},destroy:()=>{e&&clearTimeout(e)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,o,i,r){if(o.currentTransactionOldBlockAttrs={},o.updatedBlocks.clear(),!n.docChanged||i.doc.eq(r.doc))return o;const s={},a=$T(i.doc,h=>h.attrs.id),u=new Map(a.map(h=>[h.node.attrs.id,h])),d=$T(r.doc,h=>h.attrs.id);for(const h of d){const p=u.get(h.node.attrs.id),g=p==null?void 0:p.node.firstChild,b=h.node.firstChild;if(p&&g&&b){const v={index:b.attrs.index,level:b.attrs.level,type:b.type.name,depth:r.doc.resolve(h.pos).depth};let k={index:g.attrs.index,level:g.attrs.level,type:g.type.name,depth:i.doc.resolve(p.pos).depth};s[h.node.attrs.id]=k,n.getMeta("numberedListIndexing")&&(h.node.attrs.id in o.prevTransactionOldBlockAttrs&&(k=o.prevTransactionOldBlockAttrs[h.node.attrs.id]),v.type==="numberedListItem"&&(k.index=v.index)),o.currentTransactionOldBlockAttrs[h.node.attrs.id]=k,JSON.stringify(k)!==JSON.stringify(v)&&(k["depth-change"]=k.depth-v.depth,o.updatedBlocks.add(h.node.attrs.id))}}return o.prevTransactionOldBlockAttrs=s,o}},props:{decorations(n){const o=this.getState(n);if(o.updatedBlocks.size===0)return;const i=[];return n.doc.descendants((r,s)=>{if(!r.attrs.id||!o.updatedBlocks.has(r.attrs.id))return;const a=o.currentTransactionOldBlockAttrs[r.attrs.id],u={};for(const[h,p]of Object.entries(a))u["data-prev-"+PW[h]]=p||"none";const d=vt.node(s,s+r.nodeSize,{...u});i.push(d)}),it.create(n.doc,i)}}})}}const lO=new at("blocknote-show-selection");class $W{constructor(e){q(this,"plugin"),q(this,"enabled",!1),this.editor=e,this.plugin=new Ke({key:lO,props:{decorations:n=>{const{doc:o,selection:i}=n;if(!this.enabled)return it.empty;const r=vt.inline(i.from,i.to,{"data-show-selection":"true"});return it.create(o,[r])}}})}setEnabled(e){var n,o;this.enabled!==e&&(this.enabled=e,(o=this.editor.prosemirrorView)==null||o.dispatch((n=this.editor.prosemirrorView)==null?void 0:n.state.tr.setMeta(lO,{})))}getEnabled(){return this.enabled}}function t5(t,e){for(var n,o;t&&t.parentElement&&t.parentElement!==e.dom&&((n=t.getAttribute)==null?void 0:n.call(t,"data-node-type"))!=="blockContainer";)t=t.parentElement;if(((o=t.getAttribute)==null?void 0:o.call(t,"data-node-type"))==="blockContainer")return{node:t,id:t.getAttribute("data-id")}}let aO=class wm extends Le{constructor(e,n){super(e,n),q(this,"nodes");const o=e.node();this.nodes=[],e.doc.nodesBetween(e.pos,n.pos,(i,r,s)=>{if(s!==null&&s.eq(o))return this.nodes.push(i),!1})}static create(e,n,o=n){return new wm(e.resolve(n),e.resolve(o))}content(){return new me(J.from(this.nodes),0,0)}eq(e){if(!(e instanceof wm)||this.nodes.length!==e.nodes.length||this.from!==e.from||this.to!==e.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(e.nodes[n]))return!1;return!0}map(e,n){const o=n.mapResult(this.from),i=n.mapResult(this.to);return i.deleted?Le.near(e.resolve(o.pos)):o.deleted?Le.near(e.resolve(i.pos)):new wm(e.resolve(o.pos),e.resolve(i.pos))}toJSON(){return{type:"node",anchor:this.anchor,head:this.head}}},bi;function UW(t,e){let n,o;const i=e.resolve(t.from).node().type.spec.group==="blockContent",r=e.resolve(t.to).node().type.spec.group==="blockContent",s=Math.min(t.$anchor.depth,t.$head.depth);if(i&&r){const a=t.$from.start(s-1),u=t.$to.end(s-1);n=e.resolve(a-1).pos,o=e.resolve(u+1).pos}else n=t.from,o=t.to;return{from:n,to:o}}function cO(t,e,n=e){e===n&&(n+=t.state.doc.resolve(e+1).node().nodeSize);const o=t.domAtPos(e).node.cloneNode(!0),i=t.domAtPos(e).node,r=(h,p)=>Array.prototype.indexOf.call(h.children,p),s=r(i,t.domAtPos(e+1).node.parentElement),a=r(i,t.domAtPos(n-1).node.parentElement);for(let h=i.childElementCount-1;h>=0;h--)(h>a||h<s)&&o.removeChild(o.children[h]);n5(t.root),bi=o;const u=bi.getElementsByTagName("iframe");for(let h=0;h<u.length;h++){const p=u[h],g=p.parentElement;g&&g.removeChild(p)}const d=t.dom.className.split(" ").filter(h=>h!=="ProseMirror"&&h!=="bn-root"&&h!=="bn-editor").join(" ");bi.className=bi.className+" bn-drag-preview "+d,t.root instanceof ShadowRoot?t.root.appendChild(bi):t.root.body.appendChild(bi)}function n5(t){bi!==void 0&&(t instanceof ShadowRoot?t.removeChild(bi):t.body.removeChild(bi),bi=void 0)}function FW(t,e,n){if(!t.dataTransfer)return;const o=n.prosemirrorView;if(!o)return;const i=ro(e.id,o.state.doc);if(!i)throw new Error(`Block with ID ${e.id} not found`);const r=i.posBeforeNode;if(r!=null){const s=o.state.selection,a=o.state.doc,{from:u,to:d}=UW(s,a),h=u<=r&&r<d,p=s.$anchor.node()!==s.$head.node()||s instanceof aO;h&&p?(o.dispatch(o.state.tr.setSelection(aO.create(a,u,d))),cO(o,u,d)):(o.dispatch(o.state.tr.setSelection(Te.create(o.state.doc,r))),cO(o,r));const g=o.state.selection.content(),b=n.pmSchema,v=o.serializeForClipboard(g).dom.innerHTML,k=Tb(b,n),C=YL(g.content,n.schema),_=k.exportBlocks(C,{}),M=nC(_);t.dataTransfer.clearData(),t.dataTransfer.setData("blocknote/html",v),t.dataTransfer.setData("text/html",_),t.dataTransfer.setData("text/plain",M),t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(bi,0,0)}}const Td=.1;function rk(t,e,n,o=!0){const i=t.root.elementsFromPoint(e.left+(n==="editor"?50:0),e.top);for(const r of i)if(t.dom.contains(r))return o&&r.closest("[data-node-type=columnList]")?rk(t,{left:e.left+50,top:e.top},n,!1):t5(r,t)}function qW(t,e,n){if(!e.dom.firstChild)return;const o=e.dom.firstChild.getBoundingClientRect(),i={left:t.x,top:t.y},r=i.left<o.left,s=i.left>o.right;n==="viewport"&&(r&&(i.left=o.left+10),s&&(i.left=o.right-10));let a=rk(e,i,n);if(!s&&a){const u=a.node.getBoundingClientRect();i.left=u.right-10,a=rk(e,i,"viewport",!1)}return a}let GW=class{constructor(e,n,o,i){q(this,"state"),q(this,"emitUpdate"),q(this,"mousePos"),q(this,"hoveredBlock"),q(this,"menuFrozen",!1),q(this,"isDragOrigin",!1),q(this,"updateState",r=>{this.state=r,this.emitUpdate(this.state)}),q(this,"updateStateFromMousePos",()=>{var r,s,a,u;if(this.menuFrozen||!this.mousePos)return;const d=qW(this.mousePos,this.pmView,this.sideMenuDetection);if(!d||!this.editor.isEditable){(r=this.state)!=null&&r.show&&(this.state.show=!1,this.updateState(this.state));return}if((s=this.state)!=null&&s.show&&(a=this.hoveredBlock)!=null&&a.hasAttribute("data-id")&&((u=this.hoveredBlock)==null?void 0:u.getAttribute("data-id"))===d.id)return;this.hoveredBlock=d.node;const h=d.node.firstChild;if(h&&this.editor.isEditable){const p=h.getBoundingClientRect(),g=d.node.closest("[data-node-type=column]");this.updateState({show:!0,referencePos:new DOMRect(g?g.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,p.y,p.width,p.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))})}}),q(this,"onDrop",r=>{var s,a;if(this.pmView.dragging===null)return;this.editor._tiptapEditor.commands.blur();const u=r.target instanceof Node&&((s=r.target instanceof HTMLElement?r.target:r.target.parentElement)==null?void 0:s.closest(".bn-editor"))||null;if(u&&(!this.isDragOrigin&&this.pmView.dom===u?this.pmView.dispatch(this.pmView.state.tr.setSelection(Me.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.to))):this.isDragOrigin&&this.pmView.dom!==u&&setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0)),this.sideMenuDetection==="editor"||r.synthetic||!((a=r.dataTransfer)!=null&&a.types.includes("blocknote/html")))return;const d=this.pmView.posAtCoords({left:r.clientX,top:r.clientY});if(!d||d.inside===-1){const h=this.createSyntheticEvent(r);this.pmView.dom.dispatchEvent(h)}}),q(this,"onDragEnd",()=>{this.pmView.dragging=null}),q(this,"onDragStart",r=>{var s;const a=(s=r.dataTransfer)==null?void 0:s.getData("blocknote/html");if(!a)return;if(this.pmView.dragging)throw new Error("New drag was started while an existing drag is ongoing");const u=document.createElement("div");u.innerHTML=a;const d=aa.fromSchema(this.pmView.state.schema).parse(u,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new me(d.content,0,0),move:!0}}),q(this,"onDragOver",r=>{var s;if(this.sideMenuDetection==="editor"||r.synthetic||!((s=r.dataTransfer)!=null&&s.types.includes("blocknote/html")))return;const a=this.pmView.posAtCoords({left:r.clientX,top:r.clientY});if(!a||a.inside===-1&&this.pmView.dom.firstChild){const u=this.createSyntheticEvent(r);this.pmView.dom.dispatchEvent(u)}}),q(this,"onKeyDown",r=>{var s;(s=this.state)!=null&&s.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),q(this,"onMouseMove",r=>{var s;if(this.menuFrozen)return;this.mousePos={x:r.clientX,y:r.clientY};const a=this.pmView.dom.getBoundingClientRect(),u=this.mousePos.x>a.left&&this.mousePos.x<a.right&&this.mousePos.y>a.top&&this.mousePos.y<a.bottom,d=this.pmView.dom.parentElement;if(u&&r&&r.target&&!(d===r.target||d.contains(r.target))){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),q(this,"onScroll",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state))}),this.editor=e,this.sideMenuDetection=n,this.pmView=o,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");i(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),tC(),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),o.root.addEventListener("scroll",this.onScroll,!0)}createSyntheticEvent(e){const n=new Event(e.type,e),o=this.pmView.dom.firstChild.getBoundingClientRect();return n.clientX=e.clientX,n.clientY=e.clientY,e.clientX<o.left&&e.clientX>o.left-o.width*Td?n.clientX=o.left+o.width*Td/2:e.clientX>o.right&&e.clientX<o.right+o.width*Td?n.clientX=o.right-o.width*Td/2:(e.clientX<o.left||e.clientX>o.right)&&(n.clientX=o.left+Td*o.width*2),n.clientY=Math.min(Math.max(e.clientY,o.top),o.top+o.height),n.dataTransfer=e.dataTransfer,n.preventDefault=()=>e.preventDefault(),n.synthetic=!0,n}update(e,n){var o;!n.doc.eq(this.pmView.state.doc)&&(o=this.state)!=null&&o.show&&this.updateStateFromMousePos()}destroy(){var e;(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}};const KW=new at("SideMenuPlugin");class ZW extends cs{constructor(e,n){super(),q(this,"view"),q(this,"plugin"),q(this,"blockDragStart",(o,i)=>{this.view&&(this.view.isDragOrigin=!0),FW(o,i,this.editor)}),q(this,"blockDragEnd",()=>{this.editor.prosemirrorView&&n5(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1)}),q(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),q(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=e,this.plugin=new Ke({key:KW,view:o=>(this.view=new GW(e,n,o,i=>{this.emit("update",i)}),this.view)})}onUpdate(e){return this.on("update",e)}}const Yp=new Map;function YW(t){if(Yp.has(t))return Yp.get(t);const e=new Yc;return t._tiptapEditor.on("transaction",({transaction:n})=>{e.appendMapping(n.mapping)}),t._tiptapEditor.on("destroy",()=>{Yp.delete(t)}),Yp.set(t,e),e}function WW(t,e,n="left"){const o=Rt.getState(t.prosemirrorState);if(!o){const r=YW(t),s=r.maps.length;return()=>r.slice(s).map(e,n==="left"?-1:1)}const i=jf(e+(n==="right"?1:0),o.binding.type,o.binding.mapping);return()=>{const r=Rt.getState(t.prosemirrorState),s=su(r.doc,r.binding.type,i,r.binding.mapping);if(s===null)throw new Error("Position not found, cannot track positions");return s+(n==="right"?-1:0)}}const XW=mb(t=>t.type.name==="blockContainer");class JW{constructor(e,n){q(this,"state"),q(this,"emitUpdate"),q(this,"rootEl"),q(this,"pluginState"),q(this,"handleScroll",()=>{var r,s;if((r=this.state)!=null&&r.show){const a=(s=this.rootEl)==null?void 0:s.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!a)return;this.state.referencePos=a.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),q(this,"closeMenu",()=>{this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Gc,null))}),q(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor._tiptapEditor.state.selection.from}).run()});var o,i;this.editor=e,this.pluginState=void 0,this.emitUpdate=r=>{var s;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(r,{...this.state,ignoreQueryLength:(s=this.pluginState)==null?void 0:s.ignoreQueryLength})},this.rootEl=(o=this.editor.prosemirrorView)==null?void 0:o.root,(i=this.rootEl)==null||i.addEventListener("scroll",this.handleScroll,!0)}update(e,n){var o;const i=Gc.getState(n),r=Gc.getState(e.state),s=i===void 0&&r!==void 0,a=i!==void 0&&r===void 0;if(!s&&!(i!==void 0&&r!==void 0)&&!a)return;if(this.pluginState=a?i:r,a||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const u=(o=this.rootEl)==null?void 0:o.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&u&&(this.state={show:!0,referencePos:u.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var e;(e=this.rootEl)==null||e.removeEventListener("scroll",this.handleScroll,!0)}}const Gc=new at("SuggestionMenuPlugin");class QW extends cs{constructor(e){super(),q(this,"view"),q(this,"plugin"),q(this,"triggerCharacters",[]),q(this,"addTriggerCharacter",o=>{this.triggerCharacters.push(o)}),q(this,"removeTriggerCharacter",o=>{this.triggerCharacters=this.triggerCharacters.filter(i=>i!==o)}),q(this,"closeMenu",()=>this.view.closeMenu()),q(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.plugin=new Ke({key:Gc,view:()=>(this.view=new JW(e,(o,i)=>{this.emit(`update ${o}`,i)}),this.view),state:{init(){},apply(o,i,r,s){if(o.getMeta("orderedListIndexing")!==void 0||o.selection.$from.parent.type.spec.code)return i;const a=o.getMeta(Gc);if(typeof a=="object"&&a!==null&&i===void 0){const d=WW(e,s.selection.from-a.triggerCharacter.length);return{triggerCharacter:a.triggerCharacter,deleteTriggerCharacter:a.deleteTriggerCharacter!==!1,queryStartPos:()=>d()+a.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:a==null?void 0:a.ignoreQueryLength}}if(i===void 0)return i;if(s.selection.from!==s.selection.to||a===null||o.getMeta("focus")||o.getMeta("blur")||o.getMeta("pointer")||i.triggerCharacter!==void 0&&s.selection.from<i.queryStartPos())return;const u={...i};return u.query=s.doc.textBetween(i.queryStartPos(),s.selection.from),u}},props:{handleTextInput(o,i,r,s){const a=this.getState(o.state);return n.includes(s)&&a===void 0?(o.dispatch(o.state.tr.insertText(s).scrollIntoView().setMeta(Gc,{triggerCharacter:s})),!0):!1},decorations(o){const i=this.getState(o);if(i===void 0)return null;if(!i.deleteTriggerCharacter){const r=XW(o.selection);if(r)return it.create(o.doc,[vt.node(r.pos,r.pos+r.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}return it.create(o.doc,[vt.inline(i.queryStartPos()-i.triggerCharacter.length,i.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}}})}onUpdate(e,n){return this.triggerCharacters.includes(e)||this.addTriggerCharacter(e),this.on(`update ${e}`,n)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}let go;function uO(t){go||(go=document.createElement("div"),go.innerHTML="_",go.style.opacity="0",go.style.height="1px",go.style.width="1px",t instanceof Document?t.body.appendChild(go):t.appendChild(go))}function eX(t){go&&(t instanceof Document?t.body.removeChild(go):t.removeChild(go),go=void 0)}function Wp(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function tX(t){let e=t;for(;e&&e.nodeName!=="TD"&&e.nodeName!=="TH"&&!e.classList.contains("tableWrapper");){if(e.classList.contains("ProseMirror"))return;const n=e.parentNode;if(!n||!(n instanceof Element))return;e=n}return e.nodeName==="TD"||e.nodeName==="TH"?{type:"cell",domNode:e,tbodyNode:e.closest("tbody")}:{type:"wrapper",domNode:e,tbodyNode:e.querySelector("tbody")}}function nX(t,e){const n=e.querySelectorAll(t);for(let o=0;o<n.length;o++)n[o].style.visibility="hidden"}class oX{constructor(e,n,o){q(this,"state"),q(this,"emitUpdate"),q(this,"tableId"),q(this,"tablePos"),q(this,"tableElement"),q(this,"menuFrozen",!1),q(this,"mouseState","up"),q(this,"prevWasEditable",null),q(this,"viewMousedownHandler",()=>{this.mouseState="down"}),q(this,"mouseUpHandler",i=>{this.mouseState="up",this.mouseMoveHandler(i)}),q(this,"mouseMoveHandler",i=>{var r,s,a,u,d,h,p;if(this.menuFrozen||this.mouseState==="selecting"||!(i.target instanceof Element)||!this.pmView.dom.contains(i.target))return;const g=tX(i.target);if((g==null?void 0:g.type)==="cell"&&this.mouseState==="down"&&!((r=this.state)!=null&&r.draggingState)){this.mouseState="selecting",(s=this.state)!=null&&s.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!g||!this.editor.isEditable){(a=this.state)!=null&&a.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!g.tbodyNode)return;const b=g.tbodyNode.getBoundingClientRect(),v=t5(g.domNode,this.pmView);if(!v)return;this.tableElement=v.node;let k;const C=ro(v.id,this.editor._tiptapEditor.state.doc);if(!C)throw new Error(`Block with ID ${v.id} not found`);const _=Ft(C.node,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema,this.editor.blockCache);if(bY("table",_,this.editor)&&(this.tablePos=C.posBeforeNode+1,k=_),!k)return;this.tableId=v.id;const M=(u=g.domNode.closest(".tableWrapper"))==null?void 0:u.querySelector(".table-widgets-container");if((g==null?void 0:g.type)==="wrapper"){const A=i.clientY>=b.bottom-1&&i.clientY<b.bottom+20,O=i.clientX>=b.right-1&&i.clientX<b.right+20,R=i.clientX>b.right||i.clientY>b.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:A,showAddOrRemoveColumnsButton:O,referencePosTable:b,block:k,widgetContainer:M,colIndex:R||(d=this.state)==null?void 0:d.colIndex,rowIndex:R||(h=this.state)==null?void 0:h.rowIndex,referencePosCell:R||(p=this.state)==null?void 0:p.referencePosCell}}else{const A=Wp(g.domNode),O=Wp(g.domNode.parentElement),R=g.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===v.id&&this.state.rowIndex===O&&this.state.colIndex===A)return;this.state={show:!0,showAddOrRemoveColumnsButton:A===k.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:O===k.content.rows.length-1,referencePosTable:b,block:k,draggingState:void 0,referencePosCell:R,colIndex:A,rowIndex:O,widgetContainer:M}}return this.emitUpdate(),!1}),q(this,"dragOverHandler",i=>{var r;if(((r=this.state)==null?void 0:r.draggingState)===void 0)return;i.preventDefault(),i.dataTransfer.dropEffect="move",nX(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const s={left:Math.min(Math.max(i.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(i.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},a=this.pmView.root.elementsFromPoint(s.left,s.top).filter(k=>k.tagName==="TD"||k.tagName==="TH");if(a.length===0)return;const u=a[0];let d=!1;const h=Wp(u.parentElement),p=Wp(u),g=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,b=(this.state.draggingState.draggedCellOrientation==="row"?h:p)!==g;(this.state.rowIndex!==h||this.state.colIndex!==p)&&(this.state.rowIndex=h,this.state.colIndex=p,this.state.referencePosCell=u.getBoundingClientRect(),d=!0);const v=this.state.draggingState.draggedCellOrientation==="row"?s.top:s.left;this.state.draggingState.mousePos!==v&&(this.state.draggingState.mousePos=v,d=!0),d&&this.emitUpdate(),b&&this.editor.dispatch(this.pmView.state.tr.setMeta(Id,!0))}),q(this,"dropHandler",i=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");i.preventDefault();const{draggingState:r,colIndex:s,rowIndex:a}=this.state,u=this.state.block.content.columnWidths;if(r.draggedCellOrientation==="row"){if(!pL(this.state.block,r.originalIndex,a))return!1;const d=JK(this.state.block,r.originalIndex,a);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:d}})}else{if(!mL(this.state.block,r.originalIndex,s))return!1;const d=XK(this.state.block,r.originalIndex,s),[h]=u.splice(r.originalIndex,1);u.splice(s,0,h),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:u,rows:d}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");o(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var e;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||!((e=this.tableElement)!=null&&e.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:o}=Zx(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=o&&(this.state.colIndex=o-1));const i=this.tableElement.querySelector("tbody");if(!i)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const r=i.children[this.state.rowIndex].children[this.state.colIndex];r?this.state.referencePosCell=r.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=i.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}}const Id=new at("TableHandlesPlugin");class iX extends cs{constructor(e){super(),q(this,"view"),q(this,"plugin"),q(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Id,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");uO(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(go,0,0),n.dataTransfer.effectAllowed="move"}),q(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Id,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");uO(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(go,0,0),n.dataTransfer.effectAllowed="copyMove"}),q(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Id,null)),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");eX(this.editor.prosemirrorView.root)}),q(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),q(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),q(this,"getCellsAtRowHandle",(n,o)=>Jw(n,o)),q(this,"getCellsAtColumnHandle",(n,o)=>Qw(n,o)),q(this,"setCellSelection",(n,o=n)=>{const i=this.view;if(!i)throw new Error("Table handles view not initialized");const r=this.editor.prosemirrorState,s=r.doc.resolve(i.tablePos+1),a=r.doc.resolve(s.posAtIndex(n.row)+1),u=r.doc.resolve(a.posAtIndex(n.col)),d=r.doc.resolve(s.posAtIndex(o.row)+1),h=r.doc.resolve(d.posAtIndex(o.col)),p=r.tr;return p.setSelection(new Mt(u,h)),r.apply(p)}),q(this,"addRowOrColumn",(n,o)=>{const i=this.setCellSelection(o.orientation==="row"?{row:n,col:0}:{row:0,col:n});return o.orientation==="row"?o.side==="above"?j$(i,this.editor.dispatch):H$(i,this.editor.dispatch):o.side==="left"?R$(i,this.editor.dispatch):N$(i,this.editor.dispatch)}),q(this,"removeRowOrColumn",(n,o)=>{const i=this.setCellSelection(o==="row"?{row:n,col:0}:{row:0,col:n});return o==="row"?z$(i,this.editor.dispatch):L$(i,this.editor.dispatch)}),q(this,"mergeCells",n=>{const o=n?this.setCellSelection(n.relativeStartCell,n.relativeEndCell):this.editor.prosemirrorState;return V$(o,this.editor.dispatch)}),q(this,"splitCell",n=>{const o=n?this.setCellSelection(n):this.editor.prosemirrorState;return $$(o,this.editor.dispatch)}),q(this,"getCellSelection",()=>{const n=this.editor.prosemirrorState,o=n.selection;let i=o.$from,r=o.$to;if(ok(o)){const{ranges:v}=o;v.forEach(k=>{i=k.$from.min(i??k.$from),r=k.$to.max(r??k.$to)})}else if(i=n.doc.resolve(o.$from.pos-o.$from.parentOffset-1),r=n.doc.resolve(o.$to.pos-o.$to.parentOffset-1),i.pos===0||r.pos===0)return;const s=n.doc.resolve(i.pos-i.parentOffset-1),a=n.doc.resolve(r.pos-r.parentOffset-1),u=n.doc.resolve(s.pos-s.parentOffset-1),d=i.index(s.depth),h=s.index(u.depth),p=r.index(a.depth),g=a.index(u.depth),b=[];for(let v=h;v<=g;v++)for(let k=d;k<=p;k++)b.push({row:v,col:k});return{from:{row:h,col:d},to:{row:g,col:p},cells:b}}),q(this,"getMergeDirection",n=>{const o=ok(this.editor.prosemirrorState.selection)?this.editor.prosemirrorState.selection:void 0;if(!o||!n||o.ranges.length<=1)return;const i=this.getCellSelection();if(i)return tZ(i.from,i.to,n)?"vertical":"horizontal"}),q(this,"cropEmptyRowsOrColumns",(n,o)=>QK(n,o)),q(this,"addRowsOrColumns",(n,o,i)=>eZ(n,o,i)),this.editor=e,this.plugin=new Ke({key:Id,view:n=>(this.view=new oX(e,n,o=>{this.emit("update",o)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const o=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(o===void 0)return;const i=[],{block:r,draggingState:s}=this.view.state,{originalIndex:a,draggedCellOrientation:u}=s;if(o===a||!r||u==="row"&&!pL(r,a,o)||u==="col"&&!mL(r,a,o))return it.create(n.doc,i);const d=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?Jw(this.view.state.block,o).forEach(({row:h,col:p})=>{const g=n.doc.resolve(d.posAtIndex(h)+1),b=n.doc.resolve(g.posAtIndex(p)+1),v=b.node(),k=b.pos+(o>a?v.nodeSize-2:0);i.push(vt.widget(k,()=>{const C=document.createElement("div");return C.className="bn-table-drop-cursor",C.style.left="0",C.style.right="0",o>a?C.style.bottom="-2px":C.style.top="-3px",C.style.height="4px",C}))}):Qw(this.view.state.block,o).forEach(({row:h,col:p})=>{const g=n.doc.resolve(d.posAtIndex(h)+1),b=n.doc.resolve(g.posAtIndex(p)+1),v=b.node(),k=b.pos+(o>a?v.nodeSize-2:0);i.push(vt.widget(k,()=>{const C=document.createElement("div");return C.className="bn-table-drop-cursor",C.style.top="0",C.style.bottom="0",o>a?C.style.right="-2px":C.style.left="-3px",C.style.width="4px",C}))}),it.create(n.doc,i)}}})}onUpdate(e){return this.on("update",e)}}const rX=Ct.create({name:"textAlignment",addGlobalAttributes(){return[{types:["paragraph","heading","bulletListItem","numberedListItem","checkListItem","tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:t=>t.getAttribute("data-text-alignment"),renderHTML:t=>t.textAlignment==="left"?{}:{"data-text-alignment":t.textAlignment}}}}]}}),sX=Ct.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{textColor:{default:an.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):an.textColor.default,renderHTML:t=>t.textColor===an.textColor.default?{}:{"data-text-color":t.textColor}}}}]}}),lX=Ct.create({name:"trailingNode",addProseMirrorPlugins(){const t=new at(this.name);return[new Ke({key:t,appendTransaction:(e,n,o)=>{const{doc:i,tr:r,schema:s}=o,a=t.getState(o),u=i.content.size-2,d=s.nodes.blockContainer,h=s.nodes.paragraph;if(a)return r.insert(u,d.create(void 0,h.create()))},state:{init:(e,n)=>{},apply:(e,n)=>{if(!e.docChanged)return n;let o=e.doc.lastChild;if(!o||o.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(o=o.lastChild,!o||o.type.name!=="blockContainer")return!0;const i=o.firstChild;if(!i)throw new Error("Expected blockContent");return o.nodeSize>4||i.type.spec.content!=="inline*"}}})]}}),aX={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},cX=dr.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,parseHTML(){return[{tag:"div",getAttrs:t=>{if(typeof t=="string")return!1;const e={};for(const[n,o]of Object.entries(aX))t.getAttribute(o)&&(e[n]=t.getAttribute(o));return t.getAttribute("data-node-type")==="blockContainer"?e:!1}}]},renderHTML({HTMLAttributes:t}){var e;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[r,s]of Object.entries(t))r!=="class"&&n.setAttribute(r,s);const o={...((e=this.options.domAttributes)==null?void 0:e.block)||{},...t},i=document.createElement("div");i.className=nn("bn-block",o.class),i.setAttribute("data-node-type",this.name);for(const[r,s]of Object.entries(o))r!=="class"&&i.setAttribute(r,s);return n.appendChild(i),{dom:n,contentDOM:i}}}),uX=dr.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:t}){var e;const n={...((e=this.options.domAttributes)==null?void 0:e.blockGroup)||{},...t},o=document.createElement("div");o.className=nn("bn-block-group",n.class),o.setAttribute("data-node-type","blockGroup");for(const[i,r]of Object.entries(n))i!=="class"&&o.setAttribute(i,r);return{dom:o,contentDOM:o}}}),dX=dr.create({name:"doc",topNode:!0,content:"blockGroup"}),fX=t=>{const e={},n=hX(t);for(const i of n)e[i.name]=i;e.formattingToolbar=new TW(t.editor),e.linkToolbar=new BW(t.editor),e.sideMenu=new ZW(t.editor,t.sideMenuDetection),e.suggestionMenus=new QW(t.editor),e.filePanel=new _W(t.editor),e.placeholder=new zW(t.editor,t.placeholders),(t.animations??!0)&&(e.animations=new VW),t.tableHandles&&(e.tableHandles=new iX(t.editor)),e.dropCursor={plugin:t.dropCursor({width:5,color:"#ddeeff",editor:t.editor})},e.nodeSelectionKeyboard=new HW,e.showSelection=new $W(t.editor),t.comments&&(e.comments=new CW(t.editor,t.comments.threadStore,XL.name));const o=t.disableExtensions||[];for(const i of o)delete e[i];return e};let dO=!1;const hX=t=>{const e=[_d.ClipboardTextSerializer,_d.Commands,_d.Editable,_d.FocusEvents,_d.Tabindex,IU,Qf.configure({types:["blockContainer","columnList","column"],setIdAttribute:t.setIdAttribute}),AW,yF,bF.extend({inclusive:!1}).configure({defaultProtocol:e5,protocols:dO?[]:QL}),...Object.values(t.styleSpecs).map(n=>n.implementation.mark.configure({editor:t.editor})),sX,yW,rX,Ct.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>t.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),dX,cX.configure({editor:t.editor,domAttributes:t.domAttributes}),NW.configure({editor:t.editor,tabBehavior:t.tabBehavior}),uX.configure({domAttributes:t.domAttributes}),...Object.values(t.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:t.editor})),...Object.values(t.blockSpecs).flatMap(n=>[...(n.implementation.requiredExtensions||[]).map(o=>o.configure({editor:t.editor,domAttributes:t.domAttributes})),n.implementation.node.configure({editor:t.editor,domAttributes:t.domAttributes})]),bW(t.editor),mW(t.editor,t.pasteHandler||(n=>n.defaultPasteHandler())),JY(t.editor),...t.trailingBlock===void 0||t.trailingBlock?[lX]:[],...t.comments?[XL]:[]];return dO=!0,t.collaboration?e.push(...vW(t.collaboration)):e.push(ZU),e};function pX(t,e){const n=[];return t.forEach((o,i,r)=>{r!==e&&n.push(o)}),J.from(n)}function mX(t,e){const n=[];for(let o=0;o<t.childCount;o++)if(t.child(o).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const i=n[n.length-1],r=i.copy(i.content.addToEnd(t.child(o)));n[n.length-1]=r}else{const i=e.nodes.table.createChecked(void 0,t.child(o));n.push(i)}else n.push(t.child(o));return t=J.from(n),t}function gX(t,e){let n=J.from(t.content);if(n=mX(n,e.state.schema),!bX(n,e))return new me(n,t.openStart,t.openEnd);for(let o=0;o<n.childCount;o++)if(n.child(o).type.spec.group==="blockContent"){const i=[n.child(o)];if(o+1<n.childCount&&n.child(o+1).type.name==="blockGroup"){const s=n.child(o+1).child(0).child(0);(s.type.name==="bulletListItem"||s.type.name==="numberedListItem"||s.type.name==="checkListItem")&&(i.push(n.child(o+1)),n=pX(n,o+1))}const r=e.state.schema.nodes.blockContainer.createChecked(void 0,i);n=n.replaceChild(o,r)}return new me(n,t.openStart,t.openEnd)}function bX(t,e){var n,o;const i=t.childCount===1,r=((n=t.firstChild)==null?void 0:n.type.spec.content)==="inline*",s=((o=t.firstChild)==null?void 0:o.type.spec.content)==="tableRow+";if(i){if(r)return!1;if(s){const a=yt(e.state);if(a.isBlockContainer)return a.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const sk=class extends i${constructor(e,n){super({...e,content:void 0}),q(this,"_state"),q(this,"mount",(a,u,d)=>{u?(this.options.element=u,this.createViewAlternative(a,d)):this.destroy()});const o=this.schema;let i;const r=o.nodes.doc.createAndFill;o.nodes.doc.createAndFill=(...a)=>{if(i)return i;const u=r.apply(o.nodes.doc,a),d=JSON.parse(JSON.stringify(u.toJSON()));return d.content[0].content[0].attrs.id="initialBlockId",i=Kr.fromJSON(o,d),i};let s;try{const a=e==null?void 0:e.content.map(u=>Ra(u,this.schema,n).toJSON());s=Fm({type:"doc",content:[{type:"blockGroup",content:a}]},this.schema,this.options.parseOptions)}catch(a){throw console.error("Error creating document from blocks passed as `initialContent`. Caused by exception: ",a),new Error("Error creating document from blocks passed as `initialContent`:\n"+ +JSON.stringify(e.content))}this._state=Ql.create({doc:s,schema:this.schema})}get state(){return this.view&&(this._state=this.view.state),this._state}dispatch(e){this.view?this.view.dispatch(e):this._state=this.state.apply(e)}createViewAlternative(e,n){this.contentComponent=n;const o={};this.extensionManager.extensions.forEach(r=>{r.type==="mark"&&r.config.addMarkView&&(o[r.name]=r.config.addMarkView(e))}),this.view=new K3({mount:this.options.element},{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:this.state,markViews:o,nodeViews:this.extensionManager.nodeViews});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.commands.focus(this.options.autofocus||this.options.element.getAttribute("data-bn-autofocus")==="true",{scrollIntoView:!1}),this.emit("create",{editor:this}),this.isInitialized=!0}};q(sk,"create",(t,e)=>{var n,o;const i=(n=globalThis==null?void 0:globalThis.window)==null?void 0:n.setTimeout;typeof((o=globalThis==null?void 0:globalThis.window)==null?void 0:o.setTimeout)<"u"&&(globalThis.window.setTimeout=()=>0);try{return new sk(t,e)}finally{i&&(globalThis.window.setTimeout=i)}});let o5=sk;o5.prototype.createView=function(){this.options.onPaste=this.options.onDrop=void 0};const yX={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let vX=class i5 extends cs{constructor(e){var n,o,i,r,s,a,u,d,h,p,g,b,v,k,C;super(),q(this,"pmSchema"),q(this,"extensions",{}),q(this,"headless",!1),q(this,"_tiptapEditor"),q(this,"elementRenderer",null),q(this,"blockCache",new WeakMap),q(this,"dictionary"),q(this,"schema"),q(this,"blockImplementations"),q(this,"inlineContentImplementations"),q(this,"styleImplementations"),q(this,"formattingToolbar"),q(this,"linkToolbar"),q(this,"sideMenu"),q(this,"suggestionMenus"),q(this,"filePanel"),q(this,"tableHandles"),q(this,"comments"),q(this,"showSelectionPlugin"),q(this,"uploadFile"),q(this,"onUploadStartCallbacks",[]),q(this,"onUploadEndCallbacks",[]),q(this,"resolveFileUrl"),q(this,"resolveUsers"),q(this,"settings"),q(this,"dispatch",z=>{this._tiptapEditor.dispatch(z)}),q(this,"mount",(z,V)=>{this._tiptapEditor.mount(this,z,V)}),this.options=e;const _=e;if(_.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(_.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(_.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(_.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=e.dictionary||iL,this.settings={tables:{splitCells:((n=e==null?void 0:e.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((o=e==null?void 0:e.tables)==null?void 0:o.cellBackgroundColor)??!1,cellTextColor:((i=e==null?void 0:e.tables)==null?void 0:i.cellTextColor)??!1,headers:((r=e==null?void 0:e.tables)==null?void 0:r.headers)??!1},codeBlock:{indentLineWithTab:((s=e==null?void 0:e.codeBlock)==null?void 0:s.indentLineWithTab)??!0,defaultLanguage:((a=e==null?void 0:e.codeBlock)==null?void 0:a.defaultLanguage)??"text",supportedLanguages:((u=e==null?void 0:e.codeBlock)==null?void 0:u.supportedLanguages)??{},createHighlighter:((d=e==null?void 0:e.codeBlock)==null?void 0:d.createHighlighter)??void 0}};const M={defaultStyles:!0,schema:e.schema||pu.create(),_headless:!1,...e,placeholders:{...this.dictionary.placeholders,...e.placeholders}};if(M.comments&&!M.resolveUsers)throw new Error("resolveUsers is required when using comments");if(this.resolveUsers=M.resolveUsers,this.schema=M.schema,this.blockImplementations=M.schema.blockSpecs,this.inlineContentImplementations=M.schema.inlineContentSpecs,this.styleImplementations=M.schema.styleSpecs,this.extensions=fX({editor:this,domAttributes:M.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:M.collaboration,trailingBlock:M.trailingBlock,disableExtensions:M.disableExtensions,setIdAttribute:M.setIdAttribute,animations:M.animations??!0,tableHandles:po("table",this),dropCursor:this.options.dropCursor??$K,placeholders:M.placeholders,tabBehavior:M.tabBehavior,sideMenuDetection:M.sideMenuDetection||"viewport",comments:M.comments,pasteHandler:M.pasteHandler}),(((h=M._tiptapOptions)==null?void 0:h.extensions)||[]).forEach(z=>{this.extensions[z.name]=z}),Object.entries(M._extensions||{}).forEach(([z,V])=>{typeof V=="function"&&(V=V(this)),this.extensions[z]=V}),this.formattingToolbar=this.extensions.formattingToolbar,this.linkToolbar=this.extensions.linkToolbar,this.sideMenu=this.extensions.sideMenu,this.suggestionMenus=this.extensions.suggestionMenus,this.filePanel=this.extensions.filePanel,this.tableHandles=this.extensions.tableHandles,this.comments=this.extensions.comments,this.showSelectionPlugin=this.extensions.showSelection,M.uploadFile){const z=M.uploadFile;this.uploadFile=async(V,Z)=>{this.onUploadStartCallbacks.forEach(oe=>oe.apply(this,[Z]));try{return await z(V,Z)}finally{this.onUploadEndCallbacks.forEach(oe=>oe.apply(this,[Z]))}}}this.resolveFileUrl=M.resolveFileUrl,this.headless=M._headless;const A="collaboration"in this.extensions||"liveblocksExtension"in this.extensions;A&&M.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const O=M.initialContent||(A?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:Qf.options.generateID()}]);if(!Array.isArray(O)||O.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+O);const R=[...Object.entries(this.extensions).map(([z,V])=>{if(V instanceof Ct||V instanceof dr||V instanceof So)return V;if(!V.plugin)throw new Error("Extension should either be a TipTap extension or a ProseMirror plugin in a plugin property");return Ct.create({name:z,addProseMirrorPlugins:()=>[V.plugin]})})],j={...yX,...M._tiptapOptions,content:O,extensions:R,editorProps:{...(p=M._tiptapOptions)==null?void 0:p.editorProps,attributes:{tabIndex:"0",...(b=(g=M._tiptapOptions)==null?void 0:g.editorProps)==null?void 0:b.attributes,...(v=M.domAttributes)==null?void 0:v.editor,class:nn("bn-editor",M.defaultStyles?"bn-default-styles":"",((C=(k=M.domAttributes)==null?void 0:k.editor)==null?void 0:C.class)||"")},transformPasted:gX}};this.headless?this.pmSchema=OV(j.extensions):(this._tiptapEditor=o5.create(j,this.schema.styleSchema),this.pmSchema=this._tiptapEditor.schema),this.emit("create")}static create(e={}){return new i5(e)}get prosemirrorView(){return this._tiptapEditor.view}get prosemirrorState(){return this._tiptapEditor.state}get domElement(){var e;return(e=this.prosemirrorView)==null?void 0:e.dom}isFocused(){var e;return((e=this.prosemirrorView)==null?void 0:e.hasFocus())||!1}focus(){var e;(e=this.prosemirrorView)==null||e.focus()}onUploadStart(e){return this.onUploadStartCallbacks.push(e),()=>{const n=this.onUploadStartCallbacks.indexOf(e);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(e){return this.onUploadEndCallbacks.push(e),()=>{const n=this.onUploadEndCallbacks.indexOf(e);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){const e=[];return this.prosemirrorState.doc.firstChild.descendants(n=>(e.push(Ft(n,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)),!1)),e}getBlock(e){return NY(this,e)}getPrevBlock(e){return DY(this,e)}getNextBlock(e){return LY(this,e)}getParentBlock(e){return BY(this,e)}forEachBlock(e,n=!1){const o=this.document.slice();n&&o.reverse();function i(r){for(const s of r){if(e(s)===!1)return!1;const a=n?s.children.slice().reverse():s.children;if(!i(a))return!1}return!0}i(o)}onEditorContentChange(e){this._tiptapEditor.on("update",e)}onEditorSelectionChange(e){this._tiptapEditor.on("selectionUpdate",e)}getTextCursorPosition(){return zY(this)}setTextCursorPosition(e,n="start"){FL(this,e,n)}getSelection(){return HY(this)}setSelection(e,n){IY(this,e,n)}get isEditable(){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return!1}return this._tiptapEditor.isEditable===void 0?!0:this._tiptapEditor.isEditable}set isEditable(e){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return}this._tiptapEditor.options.editable!==e&&this._tiptapEditor.setEditable(e)}insertBlocks(e,n,o="before"){return kY(this,e,n,o)}updateBlock(e,n){return iZ(this,e,n)}removeBlocks(e){return RY(this,e)}replaceBlocks(e,n){return OY(this,e,n)}insertInlineContent(e){const n=Mi(e,this.pmSchema,this.schema.styleSchema);jY({from:this._tiptapEditor.state.selection.from,to:this._tiptapEditor.state.selection.to},n,this)}getActiveStyles(){const e={},n=this._tiptapEditor.state.selection.$to.marks();for(const o of n){const i=this.schema.styleSchema[o.type.name];if(!i){o.type.name!=="link"&&!o.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",o.type.name);continue}i.propSchema==="boolean"?e[i.type]=!0:e[i.type]=o.attrs.stringValue}return e}addStyles(e){for(const[n,o]of Object.entries(e)){const i=this.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this._tiptapEditor.commands.setMark(n);else if(i.propSchema==="string")this._tiptapEditor.commands.setMark(n,{stringValue:o});else throw new lr(i.propSchema)}}removeStyles(e){for(const n of Object.keys(e))this._tiptapEditor.commands.unsetMark(n)}toggleStyles(e){for(const[n,o]of Object.entries(e)){const i=this.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this._tiptapEditor.commands.toggleMark(n);else if(i.propSchema==="string")this._tiptapEditor.commands.toggleMark(n,{stringValue:o});else throw new lr(i.propSchema)}}getSelectedText(){return this._tiptapEditor.state.doc.textBetween(this._tiptapEditor.state.selection.from,this._tiptapEditor.state.selection.to)}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(e,n){if(e==="")return;const{from:o,to:i}=this._tiptapEditor.state.selection,r=this.pmSchema.mark("link",{href:e});this.dispatch(n?this._tiptapEditor.state.tr.insertText(n,o,i).addMark(o,o+n.length,r):this._tiptapEditor.state.tr.setSelection(Me.create(this._tiptapEditor.state.tr.doc,i)).addMark(o,i,r))}canNestBlock(){return TY(this)}nestBlock(){$L(this)}canUnnestBlock(){return AY(this)}unnestBlock(){MY(this)}moveBlocksUp(){SY(this)}moveBlocksDown(){_Y(this)}async blocksToHTMLLossy(e=this.document){return Tb(this.pmSchema,this).exportBlocks(e,{})}async blocksToFullHTML(e){return cZ(this.pmSchema,this).serializeBlocks(e,{})}async tryParseHTMLToBlocks(e){return GL(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}async blocksToMarkdownLossy(e=this.document){return $Y(e,this.pmSchema,this,{})}async tryParseMarkdownToBlocks(e){return YY(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}updateCollaborationUserInfo(e){if(!this.options.collaboration)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this._tiptapEditor.commands.updateUser(e)}onChange(e){if(this.headless)return;const n=()=>{e(this)};return this._tiptapEditor.on("update",n),()=>{this._tiptapEditor.off("update",n)}}onSelectionChange(e,n){if(this.headless)return;const o=i=>{i.transaction.getMeta(Rt)&&!n||e(this)};return this._tiptapEditor.on("selectionUpdate",o),()=>{this._tiptapEditor.off("selectionUpdate",o)}}onCreate(e){return this.on("create",e),()=>{this.off("create",e)}}getSelectionBoundingBox(){var e;if(!this.prosemirrorView)return;const n=(e=this.prosemirrorView)==null?void 0:e.state,{selection:o}=n,{ranges:i}=o,r=Math.min(...i.map(a=>a.$from.pos)),s=Math.max(...i.map(a=>a.$to.pos));if(ww(o)){const a=this.prosemirrorView.nodeDOM(r);if(a)return a.getBoundingClientRect()}return qm(this.prosemirrorView,r,s)}get isEmpty(){const e=this.document;return e.length===0||e.length===1&&e[0].type==="paragraph"&&e[0].content.length===0}openSuggestionMenu(e,n){var o;const i=(o=this.prosemirrorView)==null?void 0:o.state.tr;if(!i)return;const r=n&&n.deleteTriggerCharacter?i.insertText(e):i;this.prosemirrorView.focus(),this.prosemirrorView.dispatch(r.scrollIntoView().setMeta(this.suggestionMenus.plugin,{triggerCharacter:e,deleteTriggerCharacter:(n==null?void 0:n.deleteTriggerCharacter)||!1,ignoreQueryLength:(n==null?void 0:n.ignoreQueryLength)||!1}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(e){this.showSelectionPlugin.setEnabled(e)}convertHtmlToBlockNoteHtml(e){return qL(e.trim()).innerHTML}pasteHTML(e,n=!1){var o;let i=e;n||(i=this.convertHtmlToBlockNoteHtml(e)),i&&((o=this.prosemirrorView)==null||o.pasteHTML(i))}pasteText(e){var n;return(n=this.prosemirrorView)==null?void 0:n.pasteText(e)}async pasteMarkdown(e){return this.pasteHTML(await KL(e))}},vv;async function wX(){return vv||(vv=(async()=>{const[t,e]=await Promise.all([mo(()=>import("./module-BvCTiNll.js"),[]),mo(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in t?t.default:t,o="default"in e?e.default:e;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),vv)}async function kX(t,e){if(!gY("text",t))return[];const{emojiData:n,emojiMart:o}=await wX();return(e.trim()===""?Object.values(n.emojis):await o.SearchIndex.search(e)).map(i=>({id:i.skins[0].native,onItemClick:()=>t.insertInlineContent(i.skins[0].native+" ")}))}function xX(t,...e){const n=[...t];for(const o of e)for(const i of o){const r=n.findLastIndex(s=>s.group===i.group);r===-1?n.push(i):n.splice(r+1,0,i)}return n}function Rb(){return typeof window<"u"}function mu(t){return r5(t)?(t.nodeName||"").toLowerCase():"#document"}function xo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mr(t){var e;return(e=(r5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function r5(t){return Rb()?t instanceof Node||t instanceof xo(t).Node:!1}function Ht(t){return Rb()?t instanceof Element||t instanceof xo(t).Element:!1}function Uo(t){return Rb()?t instanceof HTMLElement||t instanceof xo(t).HTMLElement:!1}function lk(t){return!Rb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xo(t).ShadowRoot}function ih(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=fi(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function CX(t){return["table","td","th"].includes(mu(t))}function Nb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function iC(t){const e=Db(),n=Ht(t)?fi(t):t;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function SX(t){let e=ns(t);for(;Uo(e)&&!pl(e);){if(iC(e))return e;if(Nb(e))return null;e=ns(e)}return null}function Db(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pl(t){return["html","body","#document"].includes(mu(t))}function fi(t){return xo(t).getComputedStyle(t)}function Lb(t){return Ht(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ns(t){if(mu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lk(t)&&t.host||mr(t);return lk(e)?e.host:e}function s5(t){const e=ns(t);return pl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Uo(e)&&ih(e)?e:s5(e)}function Qr(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=s5(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),s=xo(i);if(r){const a=ak(s);return e.concat(s,s.visualViewport||[],ih(i)?i:[],a&&n?Qr(a):[])}return e.concat(i,Qr(i,[],n))}function ak(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ck(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function lu(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&lk(n)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function l5(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function a5(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:o}=e;return n+"/"+o}).join(" "):navigator.userAgent}function _X(t){return MX()?!1:!fO()&&t.width===0&&t.height===0||fO()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function c5(){return/apple/i.test(navigator.vendor)}function fO(){const t=/android/i;return t.test(l5())||t.test(a5())}function EX(){return l5().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function MX(){return a5().includes("jsdom/")}function uk(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function TX(t){return"nativeEvent"in t}function AX(t){return t.matches("html,body")}function el(t){return(t==null?void 0:t.ownerDocument)||document}function wv(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Nc(t){return"composedPath"in t?t.composedPath()[0]:t.target}const OX="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function RX(t){return Uo(t)&&t.matches(OX)}const Ti=Math.min,In=Math.max,Rg=Math.round,Xp=Math.floor,er=t=>({x:t,y:t}),NX={left:"right",right:"left",bottom:"top",top:"bottom"},DX={start:"end",end:"start"};function dk(t,e,n){return In(t,Ti(e,n))}function is(t,e){return typeof t=="function"?t(e):t}function Ai(t){return t.split("-")[0]}function gu(t){return t.split("-")[1]}function rC(t){return t==="x"?"y":"x"}function sC(t){return t==="y"?"height":"width"}function rs(t){return["top","bottom"].includes(Ai(t))?"y":"x"}function lC(t){return rC(rs(t))}function LX(t,e,n){n===void 0&&(n=!1);const o=gu(t),i=lC(t),r=sC(i);let s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=Ng(s)),[s,Ng(s)]}function BX(t){const e=Ng(t);return[fk(t),e,fk(e)]}function fk(t){return t.replace(/start|end/g,e=>DX[e])}function jX(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:s;default:return[]}}function HX(t,e,n,o){const i=gu(t);let r=jX(Ai(t),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),e&&(r=r.concat(r.map(fk)))),r}function Ng(t){return t.replace(/left|right|bottom|top/g,e=>NX[e])}function IX(t){return{top:0,right:0,bottom:0,left:0,...t}}function aC(t){return typeof t!="number"?IX(t):{top:t,right:t,bottom:t,left:t}}function au(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var zX=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],hk=zX.join(","),u5=typeof Element>"u",Pf=u5?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Dg=!u5&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Lg=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",s=r||n&&e&&t(e.parentNode);return s},PX=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},VX=function(e,n,o){if(Lg(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(hk));return n&&Pf.call(e,hk)&&i.unshift(e),i=i.filter(o),i},$X=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var s=r.shift();if(!Lg(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),u=a.length?a:s.children,d=t(u,!0,o);o.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else{var h=Pf.call(s,hk);h&&o.filter(s)&&(n||!e.includes(s))&&i.push(s);var p=s.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(s),g=!Lg(p,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(s));if(p&&g){var b=t(p===!0?s.children:p.children,!0,o);o.flatten?i.push.apply(i,b):i.push({scopeParent:s,candidates:b})}else r.unshift.apply(r,s.children)}}return i},d5=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},f5=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||PX(e))&&!d5(e)?0:e.tabIndex},UX=function(e,n){var o=f5(e);return o<0&&n&&!d5(e)?0:o},FX=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},h5=function(e){return e.tagName==="INPUT"},qX=function(e){return h5(e)&&e.type==="hidden"},GX=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},KX=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},ZX=function(e){if(!e.name)return!0;var n=e.form||Dg(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var r=KX(i,e.form);return!r||r===e},YX=function(e){return h5(e)&&e.type==="radio"},WX=function(e){return YX(e)&&!ZX(e)},XX=function(e){var n,o=e&&Dg(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var s,a,u;for(r=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!r&&i;){var d,h,p;o=Dg(i),i=(d=o)===null||d===void 0?void 0:d.host,r=!!((h=i)!==null&&h!==void 0&&(p=h.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return r},hO=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},JX=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Pf.call(e,"details>summary:first-of-type"),s=r?e.parentElement:e;if(Pf.call(s,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var u=e.parentElement,d=Dg(e);if(u&&!u.shadowRoot&&i(u)===!0)return hO(e);e.assignedSlot?e=e.assignedSlot:!u&&d!==e.ownerDocument?e=d.host:e=u}e=a}if(XX(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return hO(e);return!1},QX=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Pf.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},eJ=function(e,n){return!(n.disabled||Lg(n)||qX(n)||JX(n,e)||GX(n)||QX(n))},pO=function(e,n){return!(WX(n)||f5(n)<0||!eJ(e,n))},tJ=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},nJ=function t(e){var n=[],o=[];return e.forEach(function(i,r){var s=!!i.scopeParent,a=s?i.scopeParent:i,u=UX(a,s),d=s?t(i.candidates):a;u===0?s?n.push.apply(n,d):n.push(a):o.push({documentOrder:r,tabIndex:u,item:i,isScope:s,content:d})}),o.sort(FX).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},p5=function(e,n){n=n||{};var o;return n.getShadowRoot?o=$X([e],n.includeContainer,{filter:pO.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:tJ}):o=VX(e,n.includeContainer,pO.bind(null,n)),nJ(o)},Oi=NN();const m5=RN(Oi);function mO(t,e,n){let{reference:o,floating:i}=t;const r=rs(e),s=lC(e),a=sC(s),u=Ai(e),d=r==="y",h=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,g=o[a]/2-i[a]/2;let b;switch(u){case"top":b={x:h,y:o.y-i.height};break;case"bottom":b={x:h,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:p};break;case"left":b={x:o.x-i.width,y:p};break;default:b={x:o.x,y:o.y}}switch(gu(e)){case"start":b[s]-=g*(n&&d?-1:1);break;case"end":b[s]+=g*(n&&d?-1:1);break}return b}const oJ=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,a=r.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let d=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:p}=mO(d,o,u),g=o,b={},v=0;for(let k=0;k<a.length;k++){const{name:C,fn:_}=a[k],{x:M,y:A,data:O,reset:R}=await _({x:h,y:p,initialPlacement:o,placement:g,strategy:i,middlewareData:b,rects:d,platform:s,elements:{reference:t,floating:e}});h=M??h,p=A??p,b={...b,[C]:{...b[C],...O}},R&&v<=50&&(v++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(d=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:h,y:p}=mO(d,g,u)),k=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:b}};async function cC(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:s,elements:a,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:b=0}=is(e,t),v=aC(b),C=a[g?p==="floating"?"reference":"floating":p],_=au(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(C)))==null||n?C:C.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:u})),M=p==="floating"?{x:o,y:i,width:s.floating.width,height:s.floating.height}:s.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),O=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},R=au(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:M,offsetParent:A,strategy:u}):M);return{top:(_.top-R.top+v.top)/O.y,bottom:(R.bottom-_.bottom+v.bottom)/O.y,left:(_.left-R.left+v.left)/O.x,right:(R.right-_.right+v.right)/O.x}}const iJ=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:s,elements:a,middlewareData:u}=e,{element:d,padding:h=0}=is(t,e)||{};if(d==null)return{};const p=aC(h),g={x:n,y:o},b=lC(i),v=sC(b),k=await s.getDimensions(d),C=b==="y",_=C?"top":"left",M=C?"bottom":"right",A=C?"clientHeight":"clientWidth",O=r.reference[v]+r.reference[b]-g[b]-r.floating[v],R=g[b]-r.reference[b],j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let z=j?j[A]:0;(!z||!await(s.isElement==null?void 0:s.isElement(j)))&&(z=a.floating[A]||r.floating[v]);const V=O/2-R/2,Z=z/2-k[v]/2-1,oe=Ti(p[_],Z),be=Ti(p[M],Z),he=oe,ye=z-k[v]-be,ve=z/2-k[v]/2+V,pe=dk(he,ve,ye),B=!u.arrow&&gu(i)!=null&&ve!==pe&&r.reference[v]/2-(ve<he?oe:be)-k[v]/2<0,P=B?ve<he?ve-he:ve-ye:0;return{[b]:g[b]+P,data:{[b]:pe,centerOffset:ve-pe-P,...B&&{alignmentOffset:P}},reset:B}}}),rJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:s,initialPlacement:a,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:k=!0,...C}=is(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const _=Ai(i),M=rs(a),A=Ai(a)===a,O=await(u.isRTL==null?void 0:u.isRTL(d.floating)),R=g||(A||!k?[Ng(a)]:BX(a)),j=v!=="none";!g&&j&&R.push(...HX(a,k,v,O));const z=[a,...R],V=await cC(e,C),Z=[];let oe=((o=r.flip)==null?void 0:o.overflows)||[];if(h&&Z.push(V[_]),p){const ve=LX(i,s,O);Z.push(V[ve[0]],V[ve[1]])}if(oe=[...oe,{placement:i,overflows:Z}],!Z.every(ve=>ve<=0)){var be,he;const ve=(((be=r.flip)==null?void 0:be.index)||0)+1,pe=z[ve];if(pe)return{data:{index:ve,overflows:oe},reset:{placement:pe}};let B=(he=oe.filter(P=>P.overflows[0]<=0).sort((P,U)=>P.overflows[1]-U.overflows[1])[0])==null?void 0:he.placement;if(!B)switch(b){case"bestFit":{var ye;const P=(ye=oe.filter(U=>{if(j){const ne=rs(U.placement);return ne===M||ne==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(ne=>ne>0).reduce((ne,N)=>ne+N,0)]).sort((U,ne)=>U[1]-ne[1])[0])==null?void 0:ye[0];P&&(B=P);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function g5(t){const e=Ti(...t.map(r=>r.left)),n=Ti(...t.map(r=>r.top)),o=In(...t.map(r=>r.right)),i=In(...t.map(r=>r.bottom));return{x:e,y:n,width:o-e,height:i-n}}function sJ(t){const e=t.slice().sort((i,r)=>i.y-r.y),n=[];let o=null;for(let i=0;i<e.length;i++){const r=e[i];!o||r.y-o.y>o.height/2?n.push([r]):n[n.length-1].push(r),o=r}return n.map(i=>au(g5(i)))}const lJ=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:o,rects:i,platform:r,strategy:s}=e,{padding:a=2,x:u,y:d}=is(t,e),h=Array.from(await(r.getClientRects==null?void 0:r.getClientRects(o.reference))||[]),p=sJ(h),g=au(g5(h)),b=aC(a);function v(){if(p.length===2&&p[0].left>p[1].right&&u!=null&&d!=null)return p.find(C=>u>C.left-b.left&&u<C.right+b.right&&d>C.top-b.top&&d<C.bottom+b.bottom)||g;if(p.length>=2){if(rs(n)==="y"){const oe=p[0],be=p[p.length-1],he=Ai(n)==="top",ye=oe.top,ve=be.bottom,pe=he?oe.left:be.left,B=he?oe.right:be.right,P=B-pe,U=ve-ye;return{top:ye,bottom:ve,left:pe,right:B,width:P,height:U,x:pe,y:ye}}const C=Ai(n)==="left",_=In(...p.map(oe=>oe.right)),M=Ti(...p.map(oe=>oe.left)),A=p.filter(oe=>C?oe.left===M:oe.right===_),O=A[0].top,R=A[A.length-1].bottom,j=M,z=_,V=z-j,Z=R-O;return{top:O,bottom:R,left:j,right:z,width:V,height:Z,x:j,y:O}}return g}const k=await r.getElementRects({reference:{getBoundingClientRect:v},floating:o.floating,strategy:s});return i.reference.x!==k.reference.x||i.reference.y!==k.reference.y||i.reference.width!==k.reference.width||i.reference.height!==k.reference.height?{reset:{rects:k}}:{}}}};async function aJ(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=Ai(n),a=gu(n),u=rs(n)==="y",d=["left","top"].includes(s)?-1:1,h=r&&u?-1:1,p=is(e,t);let{mainAxis:g,crossAxis:b,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof v=="number"&&(b=a==="end"?v*-1:v),u?{x:b*h,y:g*d}:{x:g*d,y:b*h}}const cJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:s,middlewareData:a}=e,u=await aJ(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+u.x,y:r+u.y,data:{...u,placement:s}}}}},uJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:s=!1,limiter:a={fn:C=>{let{x:_,y:M}=C;return{x:_,y:M}}},...u}=is(t,e),d={x:n,y:o},h=await cC(e,u),p=rs(Ai(i)),g=rC(p);let b=d[g],v=d[p];if(r){const C=g==="y"?"top":"left",_=g==="y"?"bottom":"right",M=b+h[C],A=b-h[_];b=dk(M,b,A)}if(s){const C=p==="y"?"top":"left",_=p==="y"?"bottom":"right",M=v+h[C],A=v-h[_];v=dk(M,v,A)}const k=a.fn({...e,[g]:b,[p]:v});return{...k,data:{x:k.x-n,y:k.y-o,enabled:{[g]:r,[p]:s}}}}}},dJ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:i,rects:r,middlewareData:s}=e,{offset:a=0,mainAxis:u=!0,crossAxis:d=!0}=is(t,e),h={x:n,y:o},p=rs(i),g=rC(p);let b=h[g],v=h[p];const k=is(a,e),C=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(u){const A=g==="y"?"height":"width",O=r.reference[g]-r.floating[A]+C.mainAxis,R=r.reference[g]+r.reference[A]-C.mainAxis;b<O?b=O:b>R&&(b=R)}if(d){var _,M;const A=g==="y"?"width":"height",O=["top","left"].includes(Ai(i)),R=r.reference[p]-r.floating[A]+(O&&((_=s.offset)==null?void 0:_[p])||0)+(O?0:C.crossAxis),j=r.reference[p]+r.reference[A]+(O?0:((M=s.offset)==null?void 0:M[p])||0)-(O?C.crossAxis:0);v<R?v=R:v>j&&(v=j)}return{[g]:b,[p]:v}}}},fJ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:i,rects:r,platform:s,elements:a}=e,{apply:u=()=>{},...d}=is(t,e),h=await cC(e,d),p=Ai(i),g=gu(i),b=rs(i)==="y",{width:v,height:k}=r.floating;let C,_;p==="top"||p==="bottom"?(C=p,_=g===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(_=p,C=g==="end"?"top":"bottom");const M=k-h.top-h.bottom,A=v-h.left-h.right,O=Ti(k-h[C],M),R=Ti(v-h[_],A),j=!e.middlewareData.shift;let z=O,V=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(V=A),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(z=M),j&&!g){const oe=In(h.left,0),be=In(h.right,0),he=In(h.top,0),ye=In(h.bottom,0);b?V=v-2*(oe!==0||be!==0?oe+be:In(h.left,h.right)):z=k-2*(he!==0||ye!==0?he+ye:In(h.top,h.bottom))}await u({...e,availableWidth:V,availableHeight:z});const Z=await s.getDimensions(a.floating);return v!==Z.width||k!==Z.height?{reset:{rects:!0}}:{}}}};function b5(t){const e=fi(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Uo(t),r=i?t.offsetWidth:n,s=i?t.offsetHeight:o,a=Rg(n)!==r||Rg(o)!==s;return a&&(n=r,o=s),{width:n,height:o,$:a}}function uC(t){return Ht(t)?t:t.contextElement}function Kc(t){const e=uC(t);if(!Uo(e))return er(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=b5(e);let s=(r?Rg(n.width):n.width)/o,a=(r?Rg(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const hJ=er(0);function y5(t){const e=xo(t);return!Db()||!e.visualViewport?hJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pJ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xo(t)?!1:e}function Ea(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=uC(t);let s=er(1);e&&(o?Ht(o)&&(s=Kc(o)):s=Kc(t));const a=pJ(r,n,o)?y5(r):er(0);let u=(i.left+a.x)/s.x,d=(i.top+a.y)/s.y,h=i.width/s.x,p=i.height/s.y;if(r){const g=xo(r),b=o&&Ht(o)?xo(o):o;let v=g,k=ak(v);for(;k&&o&&b!==v;){const C=Kc(k),_=k.getBoundingClientRect(),M=fi(k),A=_.left+(k.clientLeft+parseFloat(M.paddingLeft))*C.x,O=_.top+(k.clientTop+parseFloat(M.paddingTop))*C.y;u*=C.x,d*=C.y,h*=C.x,p*=C.y,u+=A,d+=O,v=xo(k),k=ak(v)}}return au({width:h,height:p,x:u,y:d})}function dC(t,e){const n=Lb(t).scrollLeft;return e?e.left+n:Ea(mr(t)).left+n}function v5(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=o.left+e.scrollLeft-(n?0:dC(t,o)),r=o.top+e.scrollTop;return{x:i,y:r}}function mJ(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",s=mr(o),a=e?Nb(e.floating):!1;if(o===s||a&&r)return n;let u={scrollLeft:0,scrollTop:0},d=er(1);const h=er(0),p=Uo(o);if((p||!p&&!r)&&((mu(o)!=="body"||ih(s))&&(u=Lb(o)),Uo(o))){const b=Ea(o);d=Kc(o),h.x=b.x+o.clientLeft,h.y=b.y+o.clientTop}const g=s&&!p&&!r?v5(s,u,!0):er(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-u.scrollTop*d.y+h.y+g.y}}function gJ(t){return Array.from(t.getClientRects())}function bJ(t){const e=mr(t),n=Lb(t),o=t.ownerDocument.body,i=In(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=In(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+dC(t);const a=-n.scrollTop;return fi(o).direction==="rtl"&&(s+=In(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:a}}function yJ(t,e){const n=xo(t),o=mr(t),i=n.visualViewport;let r=o.clientWidth,s=o.clientHeight,a=0,u=0;if(i){r=i.width,s=i.height;const d=Db();(!d||d&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:r,height:s,x:a,y:u}}function vJ(t,e){const n=Ea(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Uo(t)?Kc(t):er(1),s=t.clientWidth*r.x,a=t.clientHeight*r.y,u=i*r.x,d=o*r.y;return{width:s,height:a,x:u,y:d}}function gO(t,e,n){let o;if(e==="viewport")o=yJ(t,n);else if(e==="document")o=bJ(mr(t));else if(Ht(e))o=vJ(e,n);else{const i=y5(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return au(o)}function w5(t,e){const n=ns(t);return n===e||!Ht(n)||pl(n)?!1:fi(n).position==="fixed"||w5(n,e)}function wJ(t,e){const n=e.get(t);if(n)return n;let o=Qr(t,[],!1).filter(a=>Ht(a)&&mu(a)!=="body"),i=null;const r=fi(t).position==="fixed";let s=r?ns(t):t;for(;Ht(s)&&!pl(s);){const a=fi(s),u=iC(s);!u&&a.position==="fixed"&&(i=null),(r?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ih(s)&&!u&&w5(t,s))?o=o.filter(h=>h!==s):i=a,s=ns(s)}return e.set(t,o),o}function kJ(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const s=[...n==="clippingAncestors"?Nb(e)?[]:wJ(e,this._c):[].concat(n),o],a=s[0],u=s.reduce((d,h)=>{const p=gO(e,h,i);return d.top=In(p.top,d.top),d.right=Ti(p.right,d.right),d.bottom=Ti(p.bottom,d.bottom),d.left=In(p.left,d.left),d},gO(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function xJ(t){const{width:e,height:n}=b5(t);return{width:e,height:n}}function CJ(t,e,n){const o=Uo(e),i=mr(e),r=n==="fixed",s=Ea(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const u=er(0);if(o||!o&&!r)if((mu(e)!=="body"||ih(i))&&(a=Lb(e)),o){const g=Ea(e,!0,r,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else i&&(u.x=dC(i));const d=i&&!o&&!r?v5(i,a):er(0),h=s.left+a.scrollLeft-u.x-d.x,p=s.top+a.scrollTop-u.y-d.y;return{x:h,y:p,width:s.width,height:s.height}}function kv(t){return fi(t).position==="static"}function bO(t,e){if(!Uo(t)||fi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mr(t)===n&&(n=n.ownerDocument.body),n}function k5(t,e){const n=xo(t);if(Nb(t))return n;if(!Uo(t)){let i=ns(t);for(;i&&!pl(i);){if(Ht(i)&&!kv(i))return i;i=ns(i)}return n}let o=bO(t,e);for(;o&&CX(o)&&kv(o);)o=bO(o,e);return o&&pl(o)&&kv(o)&&!iC(o)?n:o||SX(t)||n}const SJ=async function(t){const e=this.getOffsetParent||k5,n=this.getDimensions,o=await n(t.floating);return{reference:CJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function _J(t){return fi(t).direction==="rtl"}const EJ={convertOffsetParentRelativeRectToViewportRelativeRect:mJ,getDocumentElement:mr,getClippingRect:kJ,getOffsetParent:k5,getElementRects:SJ,getClientRects:gJ,getDimensions:xJ,getScale:Kc,isElement:Ht,isRTL:_J};function x5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function MJ(t,e){let n=null,o;const i=mr(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function s(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),r();const d=t.getBoundingClientRect(),{left:h,top:p,width:g,height:b}=d;if(a||e(),!g||!b)return;const v=Xp(p),k=Xp(i.clientWidth-(h+g)),C=Xp(i.clientHeight-(p+b)),_=Xp(h),A={rootMargin:-v+"px "+-k+"px "+-C+"px "+-_+"px",threshold:In(0,Ti(1,u))||1};let O=!0;function R(j){const z=j[0].intersectionRatio;if(z!==u){if(!O)return s();z?s(!1,z):o=setTimeout(()=>{s(!1,1e-7)},1e3)}z===1&&!x5(d,t.getBoundingClientRect())&&s(),O=!1}try{n=new IntersectionObserver(R,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,A)}n.observe(t)}return s(!0),r}function TJ(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,d=uC(t),h=i||r?[...d?Qr(d):[],...Qr(e)]:[];h.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),r&&_.addEventListener("resize",n)});const p=d&&a?MJ(d,n):null;let g=-1,b=null;s&&(b=new ResizeObserver(_=>{let[M]=_;M&&M.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(e)})),n()}),d&&!u&&b.observe(d),b.observe(e));let v,k=u?Ea(t):null;u&&C();function C(){const _=Ea(t);k&&!x5(k,_)&&n(),k=_,v=requestAnimationFrame(C)}return n(),()=>{var _;h.forEach(M=>{i&&M.removeEventListener("scroll",n),r&&M.removeEventListener("resize",n)}),p==null||p(),(_=b)==null||_.disconnect(),b=null,u&&cancelAnimationFrame(v)}}const AJ=cJ,OJ=uJ,RJ=rJ,NJ=fJ,yO=iJ,DJ=lJ,LJ=dJ,BJ=(t,e,n)=>{const o=new Map,i={platform:EJ,...n},r={...i.platform,_c:o};return oJ(t,e,{...i,platform:r})};var km=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Bg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Bg(t[o],e[o]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,i[o]))return!1;for(o=n;o--!==0;){const r=i[o];if(!(r==="_owner"&&t.$$typeof)&&!Bg(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function C5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vO(t,e){const n=C5(t);return Math.round(e*n)/n}function xv(t){const e=S.useRef(t);return km(()=>{e.current=t}),e}function jJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:r,floating:s}={},transform:a=!0,whileElementsMounted:u,open:d}=t,[h,p]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,b]=S.useState(o);Bg(g,o)||b(o);const[v,k]=S.useState(null),[C,_]=S.useState(null),M=S.useCallback(U=>{U!==j.current&&(j.current=U,k(U))},[]),A=S.useCallback(U=>{U!==z.current&&(z.current=U,_(U))},[]),O=r||v,R=s||C,j=S.useRef(null),z=S.useRef(null),V=S.useRef(h),Z=u!=null,oe=xv(u),be=xv(i),he=xv(d),ye=S.useCallback(()=>{if(!j.current||!z.current)return;const U={placement:e,strategy:n,middleware:g};be.current&&(U.platform=be.current),BJ(j.current,z.current,U).then(ne=>{const N={...ne,isPositioned:he.current!==!1};ve.current&&!Bg(V.current,N)&&(V.current=N,Oi.flushSync(()=>{p(N)}))})},[g,e,n,be,he]);km(()=>{d===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[d]);const ve=S.useRef(!1);km(()=>(ve.current=!0,()=>{ve.current=!1}),[]),km(()=>{if(O&&(j.current=O),R&&(z.current=R),O&&R){if(oe.current)return oe.current(O,R,ye);ye()}},[O,R,ye,oe,Z]);const pe=S.useMemo(()=>({reference:j,floating:z,setReference:M,setFloating:A}),[M,A]),B=S.useMemo(()=>({reference:O,floating:R}),[O,R]),P=S.useMemo(()=>{const U={position:n,left:0,top:0};if(!B.floating)return U;const ne=vO(B.floating,h.x),N=vO(B.floating,h.y);return a?{...U,transform:"translate("+ne+"px, "+N+"px)",...C5(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:N}},[n,a,B.floating,h.x,h.y]);return S.useMemo(()=>({...h,update:ye,refs:pe,elements:B,floatingStyles:P}),[h,ye,pe,B,P])}const HJ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:i}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?yO({element:o.current,padding:i}).fn(n):{}:o?yO({element:o,padding:i}).fn(n):{}}}},gr=(t,e)=>({...AJ(t),options:[t,e]}),Na=(t,e)=>({...OJ(t),options:[t,e]}),wO=(t,e)=>({...LJ(t),options:[t,e]}),Ri=(t,e)=>({...RJ(t),options:[t,e]}),Bb=(t,e)=>({...NJ(t),options:[t,e]}),lf=(t,e)=>({...DJ(t),options:[t,e]}),S5=(t,e)=>({...HJ(t),options:[t,e]}),_5={...mH},IJ=_5.useInsertionEffect,zJ=IJ||(t=>t());function Ur(t){const e=S.useRef(()=>{});return zJ(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e.current==null?void 0:e.current(...o)},[])}var Un=typeof document<"u"?S.useLayoutEffect:S.useEffect;function pk(){return pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},pk.apply(this,arguments)}let kO=!1,PJ=0;const xO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+PJ++;function VJ(){const[t,e]=S.useState(()=>kO?xO():void 0);return Un(()=>{t==null&&e(xO())},[]),S.useEffect(()=>{kO=!0},[]),t}const $J=_5.useId,fC=$J||VJ;function UJ(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(i=>i!==n))||[])}}}const FJ=S.createContext(null),qJ=S.createContext(null),hC=()=>{var t;return((t=S.useContext(FJ))==null?void 0:t.id)||null},pC=()=>S.useContext(qJ);function rh(t){return"data-floating-ui-"+t}function ia(t){const e=S.useRef(t);return Un(()=>{e.current=t}),e}const CO=rh("safe-polygon");function xm(t,e,n){return n&&!uk(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function GJ(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,dataRef:i,events:r,elements:s}=t,{enabled:a=!0,delay:u=0,handleClose:d=null,mouseOnly:h=!1,restMs:p=0,move:g=!0}=e,b=pC(),v=hC(),k=ia(d),C=ia(u),_=ia(n),M=S.useRef(),A=S.useRef(-1),O=S.useRef(),R=S.useRef(-1),j=S.useRef(!0),z=S.useRef(!1),V=S.useRef(()=>{}),Z=S.useRef(!1),oe=S.useCallback(()=>{var P;const U=(P=i.current.openEvent)==null?void 0:P.type;return(U==null?void 0:U.includes("mouse"))&&U!=="mousedown"},[i]);S.useEffect(()=>{if(!a)return;function P(U){let{open:ne}=U;ne||(clearTimeout(A.current),clearTimeout(R.current),j.current=!0,Z.current=!1)}return r.on("openchange",P),()=>{r.off("openchange",P)}},[a,r]),S.useEffect(()=>{if(!a||!k.current||!n)return;function P(ne){oe()&&o(!1,ne,"hover")}const U=el(s.floating).documentElement;return U.addEventListener("mouseleave",P),()=>{U.removeEventListener("mouseleave",P)}},[s.floating,n,o,a,k,oe]);const be=S.useCallback(function(P,U,ne){U===void 0&&(U=!0),ne===void 0&&(ne="hover");const N=xm(C.current,"close",M.current);N&&!O.current?(clearTimeout(A.current),A.current=window.setTimeout(()=>o(!1,P,ne),N)):U&&(clearTimeout(A.current),o(!1,P,ne))},[C,o]),he=Ur(()=>{V.current(),O.current=void 0}),ye=Ur(()=>{if(z.current){const P=el(s.floating).body;P.style.pointerEvents="",P.removeAttribute(CO),z.current=!1}}),ve=Ur(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);S.useEffect(()=>{if(!a)return;function P(F){if(clearTimeout(A.current),j.current=!1,h&&!uk(M.current)||p>0&&!xm(C.current,"open"))return;const ee=xm(C.current,"open",M.current);ee?A.current=window.setTimeout(()=>{_.current||o(!0,F,"hover")},ee):n||o(!0,F,"hover")}function U(F){if(ve())return;V.current();const ee=el(s.floating);if(clearTimeout(R.current),Z.current=!1,k.current&&i.current.floatingContext){n||clearTimeout(A.current),O.current=k.current({...i.current.floatingContext,tree:b,x:F.clientX,y:F.clientY,onClose(){ye(),he(),ve()||be(F,!0,"safe-polygon")}});const Ce=O.current;ee.addEventListener("mousemove",Ce),V.current=()=>{ee.removeEventListener("mousemove",Ce)};return}(M.current==="touch"?!lu(s.floating,F.relatedTarget):!0)&&be(F)}function ne(F){ve()||i.current.floatingContext&&(k.current==null||k.current({...i.current.floatingContext,tree:b,x:F.clientX,y:F.clientY,onClose(){ye(),he(),ve()||be(F)}})(F))}if(Ht(s.domReference)){var N;const F=s.domReference;return n&&F.addEventListener("mouseleave",ne),(N=s.floating)==null||N.addEventListener("mouseleave",ne),g&&F.addEventListener("mousemove",P,{once:!0}),F.addEventListener("mouseenter",P),F.addEventListener("mouseleave",U),()=>{var ee;n&&F.removeEventListener("mouseleave",ne),(ee=s.floating)==null||ee.removeEventListener("mouseleave",ne),g&&F.removeEventListener("mousemove",P),F.removeEventListener("mouseenter",P),F.removeEventListener("mouseleave",U)}}},[s,a,t,h,p,g,be,he,ye,o,n,_,b,C,k,i,ve]),Un(()=>{var P;if(a&&n&&(P=k.current)!=null&&P.__options.blockPointerEvents&&oe()){z.current=!0;const ne=s.floating;if(Ht(s.domReference)&&ne){var U;const N=el(s.floating).body;N.setAttribute(CO,"");const F=s.domReference,ee=b==null||(U=b.nodesRef.current.find(se=>se.id===v))==null||(U=U.context)==null?void 0:U.elements.floating;return ee&&(ee.style.pointerEvents=""),N.style.pointerEvents="none",F.style.pointerEvents="auto",ne.style.pointerEvents="auto",()=>{N.style.pointerEvents="",F.style.pointerEvents="",ne.style.pointerEvents=""}}}},[a,n,v,s,b,k,oe]),Un(()=>{n||(M.current=void 0,Z.current=!1,he(),ye())},[n,he,ye]),S.useEffect(()=>()=>{he(),clearTimeout(A.current),clearTimeout(R.current),ye()},[a,s.domReference,he,ye]);const pe=S.useMemo(()=>{function P(U){M.current=U.pointerType}return{onPointerDown:P,onPointerEnter:P,onMouseMove(U){const{nativeEvent:ne}=U;function N(){!j.current&&!_.current&&o(!0,ne,"hover")}h&&!uk(M.current)||n||p===0||Z.current&&U.movementX**2+U.movementY**2<2||(clearTimeout(R.current),M.current==="touch"?N():(Z.current=!0,R.current=window.setTimeout(N,p)))}}},[h,o,n,_,p]),B=S.useMemo(()=>({onMouseEnter(){clearTimeout(A.current)},onMouseLeave(P){ve()||be(P.nativeEvent,!1)}}),[be,ve]);return S.useMemo(()=>a?{reference:pe,floating:B}:{},[a,pe,B])}const mk=()=>{},E5=S.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:mk,setState:mk,isInstantPhase:!1}),KJ=()=>S.useContext(E5);function ZJ(t){const{children:e,delay:n,timeoutMs:o=0}=t,[i,r]=S.useReducer((u,d)=>({...u,...d}),{delay:n,timeoutMs:o,initialDelay:n,currentId:null,isInstantPhase:!1}),s=S.useRef(null),a=S.useCallback(u=>{r({currentId:u})},[]);return Un(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||r({isInstantPhase:!0}):(i.isInstantPhase&&r({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),S.createElement(E5.Provider,{value:S.useMemo(()=>({...i,setState:r,setCurrentId:a}),[i,a])},e)}function YJ(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,floatingId:i}=t,{id:r,enabled:s=!0}=e,a=r??i,u=KJ(),{currentId:d,setCurrentId:h,initialDelay:p,setState:g,timeoutMs:b}=u;return Un(()=>{s&&d&&(g({delay:{open:1,close:xm(p,"close")}}),d!==a&&o(!1))},[s,a,o,g,d,p]),Un(()=>{function v(){o(!1),g({delay:p,currentId:null})}if(s&&d&&!n&&d===a){if(b){const k=window.setTimeout(v,b);return()=>{clearTimeout(k)}}v()}},[s,n,g,d,a,o,p,b]),Un(()=>{s&&(h===mk||!n||h(a))},[s,n,h,a]),u}function Cv(t,e){let n=t.filter(i=>{var r;return i.parentId===e&&((r=i.context)==null?void 0:r.open)}),o=n;for(;o.length;)o=t.filter(i=>{var r;return(r=o)==null?void 0:r.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(o);return n}const M5=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function T5(t,e){const n=p5(t,M5());e==="prev"&&n.reverse();const o=n.indexOf(ck(el(t)));return n.slice(o+1)[0]}function WJ(){return T5(document.body,"next")}function XJ(){return T5(document.body,"prev")}function Sv(t,e){const n=e||t.currentTarget,o=t.relatedTarget;return!o||!lu(n,o)}function JJ(t){p5(t,M5()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function SO(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}const A5={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let QJ;function _O(t){t.key==="Tab"&&(t.target,clearTimeout(QJ))}const EO=S.forwardRef(function(e,n){const[o,i]=S.useState();Un(()=>(c5()&&i("button"),document.addEventListener("keydown",_O),()=>{document.removeEventListener("keydown",_O)}),[]);const r={ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[rh("focus-guard")]:"",style:A5};return S.createElement("span",pk({},e,r))}),O5=S.createContext(null),MO=rh("portal");function eQ(t){t===void 0&&(t={});const{id:e,root:n}=t,o=fC(),i=nQ(),[r,s]=S.useState(null),a=S.useRef(null);return Un(()=>()=>{r==null||r.remove(),queueMicrotask(()=>{a.current=null})},[r]),Un(()=>{if(!o||a.current)return;const u=e?document.getElementById(e):null;if(!u)return;const d=document.createElement("div");d.id=o,d.setAttribute(MO,""),u.appendChild(d),a.current=d,s(d)},[e,o]),Un(()=>{if(n===null||!o||a.current)return;let u=n||(i==null?void 0:i.portalNode);u&&!Ht(u)&&(u=u.current),u=u||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,u.appendChild(d));const h=document.createElement("div");h.id=o,h.setAttribute(MO,""),u=d||u,u.appendChild(h),a.current=h,s(h)},[e,n,o,i]),r}function tQ(t){const{children:e,id:n,root:o,preserveTabOrder:i=!0}=t,r=eQ({id:n,root:o}),[s,a]=S.useState(null),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),p=S.useRef(null),g=s==null?void 0:s.modal,b=s==null?void 0:s.open,v=!!s&&!s.modal&&s.open&&i&&!!(o||r);return S.useEffect(()=>{if(!r||!i||g)return;function k(C){r&&Sv(C)&&(C.type==="focusin"?SO:JJ)(r)}return r.addEventListener("focusin",k,!0),r.addEventListener("focusout",k,!0),()=>{r.removeEventListener("focusin",k,!0),r.removeEventListener("focusout",k,!0)}},[r,i,g]),S.useEffect(()=>{r&&(b||SO(r))},[b,r]),S.createElement(O5.Provider,{value:S.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:p,portalNode:r,setFocusManagerState:a}),[i,r])},v&&r&&S.createElement(EO,{"data-type":"outside",ref:u,onFocus:k=>{if(Sv(k,r)){var C;(C=h.current)==null||C.focus()}else{const _=XJ()||(s==null?void 0:s.refs.domReference.current);_==null||_.focus()}}}),v&&r&&S.createElement("span",{"aria-owns":r.id,style:A5}),r&&Oi.createPortal(e,r),v&&r&&S.createElement(EO,{"data-type":"outside",ref:d,onFocus:k=>{if(Sv(k,r)){var C;(C=p.current)==null||C.focus()}else{const _=WJ()||(s==null?void 0:s.refs.domReference.current);_==null||_.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,k.nativeEvent,"focus-out"))}}}))}const nQ=()=>S.useContext(O5),oQ="data-floating-ui-focusable",iQ={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},rQ={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},TO=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function R5(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,elements:i,dataRef:r}=t,{enabled:s=!0,escapeKey:a=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:h=!1,referencePressEvent:p="pointerdown",ancestorScroll:g=!1,bubbles:b,capture:v}=e,k=pC(),C=Ur(typeof u=="function"?u:()=>!1),_=typeof u=="function"?C:u,M=S.useRef(!1),A=S.useRef(!1),{escapeKey:O,outsidePress:R}=TO(b),{escapeKey:j,outsidePress:z}=TO(v),V=S.useRef(!1),Z=Ur(pe=>{var B;if(!n||!s||!a||pe.key!=="Escape"||V.current)return;const P=(B=r.current.floatingContext)==null?void 0:B.nodeId,U=k?Cv(k.nodesRef.current,P):[];if(!O&&(pe.stopPropagation(),U.length>0)){let ne=!0;if(U.forEach(N=>{var F;if((F=N.context)!=null&&F.open&&!N.context.dataRef.current.__escapeKeyBubbles){ne=!1;return}}),!ne)return}o(!1,TX(pe)?pe.nativeEvent:pe,"escape-key")}),oe=Ur(pe=>{var B;const P=()=>{var U;Z(pe),(U=Nc(pe))==null||U.removeEventListener("keydown",P)};(B=Nc(pe))==null||B.addEventListener("keydown",P)}),be=Ur(pe=>{var B;const P=M.current;M.current=!1;const U=A.current;if(A.current=!1,d==="click"&&U||P||typeof _=="function"&&!_(pe))return;const ne=Nc(pe),N="["+rh("inert")+"]",F=el(i.floating).querySelectorAll(N);let ee=Ht(ne)?ne:null;for(;ee&&!pl(ee);){const xe=ns(ee);if(pl(xe)||!Ht(xe))break;ee=xe}if(F.length&&Ht(ne)&&!AX(ne)&&!lu(ne,i.floating)&&Array.from(F).every(xe=>!lu(ee,xe)))return;if(Uo(ne)&&ve){const xe=ne.clientWidth>0&&ne.scrollWidth>ne.clientWidth,et=ne.clientHeight>0&&ne.scrollHeight>ne.clientHeight;let Ge=et&&pe.offsetX>ne.clientWidth;if(et&&fi(ne).direction==="rtl"&&(Ge=pe.offsetX<=ne.offsetWidth-ne.clientWidth),Ge||xe&&pe.offsetY>ne.clientHeight)return}const se=(B=r.current.floatingContext)==null?void 0:B.nodeId,Ce=k&&Cv(k.nodesRef.current,se).some(xe=>{var et;return wv(pe,(et=xe.context)==null?void 0:et.elements.floating)});if(wv(pe,i.floating)||wv(pe,i.domReference)||Ce)return;const Be=k?Cv(k.nodesRef.current,se):[];if(Be.length>0){let xe=!0;if(Be.forEach(et=>{var Ge;if((Ge=et.context)!=null&&Ge.open&&!et.context.dataRef.current.__outsidePressBubbles){xe=!1;return}}),!xe)return}o(!1,pe,"outside-press")}),he=Ur(pe=>{var B;const P=()=>{var U;be(pe),(U=Nc(pe))==null||U.removeEventListener(d,P)};(B=Nc(pe))==null||B.addEventListener(d,P)});S.useEffect(()=>{if(!n||!s)return;r.current.__escapeKeyBubbles=O,r.current.__outsidePressBubbles=R;let pe=-1;function B(F){o(!1,F,"ancestor-scroll")}function P(){window.clearTimeout(pe),V.current=!0}function U(){pe=window.setTimeout(()=>{V.current=!1},Db()?5:0)}const ne=el(i.floating);a&&(ne.addEventListener("keydown",j?oe:Z,j),ne.addEventListener("compositionstart",P),ne.addEventListener("compositionend",U)),_&&ne.addEventListener(d,z?he:be,z);let N=[];return g&&(Ht(i.domReference)&&(N=Qr(i.domReference)),Ht(i.floating)&&(N=N.concat(Qr(i.floating))),!Ht(i.reference)&&i.reference&&i.reference.contextElement&&(N=N.concat(Qr(i.reference.contextElement)))),N=N.filter(F=>{var ee;return F!==((ee=ne.defaultView)==null?void 0:ee.visualViewport)}),N.forEach(F=>{F.addEventListener("scroll",B,{passive:!0})}),()=>{a&&(ne.removeEventListener("keydown",j?oe:Z,j),ne.removeEventListener("compositionstart",P),ne.removeEventListener("compositionend",U)),_&&ne.removeEventListener(d,z?he:be,z),N.forEach(F=>{F.removeEventListener("scroll",B)}),window.clearTimeout(pe)}},[r,i,a,_,d,n,o,g,s,O,R,Z,j,oe,be,z,he]),S.useEffect(()=>{M.current=!1},[_,d]);const ye=S.useMemo(()=>({onKeyDown:Z,[iQ[p]]:pe=>{h&&o(!1,pe.nativeEvent,"reference-press")}}),[Z,o,h,p]),ve=S.useMemo(()=>({onKeyDown:Z,onMouseDown(){A.current=!0},onMouseUp(){A.current=!0},[rQ[d]]:()=>{M.current=!0}}),[Z,d]);return S.useMemo(()=>s?{reference:ye,floating:ve}:{},[s,ye,ve])}function sQ(t){const{open:e=!1,onOpenChange:n,elements:o}=t,i=fC(),r=S.useRef({}),[s]=S.useState(()=>UJ()),a=hC()!=null,[u,d]=S.useState(o.reference),h=Ur((b,v,k)=>{r.current.openEvent=b?v:void 0,s.emit("openchange",{open:b,event:v,reason:k,nested:a}),n==null||n(b,v,k)}),p=S.useMemo(()=>({setPositionReference:d}),[]),g=S.useMemo(()=>({reference:u||o.reference||null,floating:o.floating||null,domReference:o.reference}),[u,o.reference,o.floating]);return S.useMemo(()=>({dataRef:r,open:e,onOpenChange:h,elements:g,events:s,floatingId:i,refs:p}),[e,h,g,s,i,p])}function bu(t){t===void 0&&(t={});const{nodeId:e}=t,n=sQ({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,i=o.elements,[r,s]=S.useState(null),[a,u]=S.useState(null),h=(i==null?void 0:i.domReference)||r,p=S.useRef(null),g=pC();Un(()=>{h&&(p.current=h)},[h]);const b=jJ({...t,elements:{...i,...a&&{reference:a}}}),v=S.useCallback(A=>{const O=Ht(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),contextElement:A}:A;u(O),b.refs.setReference(O)},[b.refs]),k=S.useCallback(A=>{(Ht(A)||A===null)&&(p.current=A,s(A)),(Ht(b.refs.reference.current)||b.refs.reference.current===null||A!==null&&!Ht(A))&&b.refs.setReference(A)},[b.refs]),C=S.useMemo(()=>({...b.refs,setReference:k,setPositionReference:v,domReference:p}),[b.refs,k,v]),_=S.useMemo(()=>({...b.elements,domReference:h}),[b.elements,h]),M=S.useMemo(()=>({...b,...o,refs:C,elements:_,nodeId:e}),[b,C,_,e,o]);return Un(()=>{o.dataRef.current.floatingContext=M;const A=g==null?void 0:g.nodesRef.current.find(O=>O.id===e);A&&(A.context=M)}),S.useMemo(()=>({...b,context:M,refs:C,elements:_}),[b,C,_,M])}function lQ(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,events:i,dataRef:r,elements:s}=t,{enabled:a=!0,visibleOnly:u=!0}=e,d=S.useRef(!1),h=S.useRef(),p=S.useRef(!0);S.useEffect(()=>{if(!a)return;const b=xo(s.domReference);function v(){!n&&Uo(s.domReference)&&s.domReference===ck(el(s.domReference))&&(d.current=!0)}function k(){p.current=!0}return b.addEventListener("blur",v),b.addEventListener("keydown",k,!0),()=>{b.removeEventListener("blur",v),b.removeEventListener("keydown",k,!0)}},[s.domReference,n,a]),S.useEffect(()=>{if(!a)return;function b(v){let{reason:k}=v;(k==="reference-press"||k==="escape-key")&&(d.current=!0)}return i.on("openchange",b),()=>{i.off("openchange",b)}},[i,a]),S.useEffect(()=>()=>{clearTimeout(h.current)},[]);const g=S.useMemo(()=>({onPointerDown(b){_X(b.nativeEvent)||(p.current=!1)},onMouseLeave(){d.current=!1},onFocus(b){if(d.current)return;const v=Nc(b.nativeEvent);if(u&&Ht(v))try{if(c5()&&EX())throw Error();if(!v.matches(":focus-visible"))return}catch{if(!p.current&&!RX(v))return}o(!0,b.nativeEvent,"focus")},onBlur(b){d.current=!1;const v=b.relatedTarget,k=b.nativeEvent,C=Ht(v)&&v.hasAttribute(rh("focus-guard"))&&v.getAttribute("data-type")==="outside";h.current=window.setTimeout(()=>{var _;const M=ck(s.domReference?s.domReference.ownerDocument:document);!v&&M===s.domReference||lu((_=r.current.floatingContext)==null?void 0:_.refs.floating.current,M)||lu(s.domReference,M)||C||o(!1,k,"focus")})}}),[r,s.domReference,o,u]);return S.useMemo(()=>a?{reference:g}:{},[a,g])}const AO="active",OO="selected";function _v(t,e,n){const o=new Map,i=n==="item";let r=t;if(i&&t){const{[AO]:s,[OO]:a,...u}=t;r=u}return{...n==="floating"&&{tabIndex:-1,[oQ]:""},...r,...e.map(s=>{const a=s?s[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((s,a)=>(a&&Object.entries(a).forEach(u=>{let[d,h]=u;if(!(i&&[AO,OO].includes(d)))if(d.indexOf("on")===0){if(o.has(d)||o.set(d,[]),typeof h=="function"){var p;(p=o.get(d))==null||p.push(h),s[d]=function(){for(var g,b=arguments.length,v=new Array(b),k=0;k<b;k++)v[k]=arguments[k];return(g=o.get(d))==null?void 0:g.map(C=>C(...v)).find(C=>C!==void 0)}}}else s[d]=h}),s),{})}}function N5(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),o=t.map(a=>a==null?void 0:a.item),i=S.useCallback(a=>_v(a,t,"reference"),e),r=S.useCallback(a=>_v(a,t,"floating"),n),s=S.useCallback(a=>_v(a,t,"item"),o);return S.useMemo(()=>({getReferenceProps:i,getFloatingProps:r,getItemProps:s}),[i,r,s])}const aQ=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function cQ(t,e){var n;e===void 0&&(e={});const{open:o,floatingId:i}=t,{enabled:r=!0,role:s="dialog"}=e,a=(n=aQ.get(s))!=null?n:s,u=fC(),h=hC()!=null,p=S.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:o?i:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":o?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:u},...a==="menu"&&h&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,h,o,u,s]),g=S.useMemo(()=>{const v={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?v:{...v,...a==="menu"&&{"aria-labelledby":u}}},[a,i,u,s]),b=S.useCallback(v=>{let{active:k,selected:C}=v;const _={role:"option",...k&&{id:i+"-option"}};switch(s){case"select":return{..._,"aria-selected":k&&C};case"combobox":return{..._,...k&&{"aria-selected":!0}}}return{}},[i,s]);return S.useMemo(()=>r?{reference:p,floating:g,item:b}:{},[r,p,g,b])}const RO=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Sc(t,e){return typeof t=="function"?t(e):t}function uQ(t,e){const[n,o]=S.useState(t);return t&&!n&&o(!0),S.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>o(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function dQ(t,e){e===void 0&&(e={});const{open:n,elements:{floating:o}}=t,{duration:i=250}=e,s=(typeof i=="number"?i:i.close)||0,[a,u]=S.useState("unmounted"),d=uQ(n,s);return!d&&a==="close"&&u("unmounted"),Un(()=>{if(o){if(n){u("initial");const h=requestAnimationFrame(()=>{u("open")});return()=>{cancelAnimationFrame(h)}}u("close")}},[n,o]),{isMounted:d,status:a}}function mC(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:o,close:i,common:r,duration:s=250}=e,a=t.placement,u=a.split("-")[0],d=S.useMemo(()=>({side:u,placement:a}),[u,a]),h=typeof s=="number",p=(h?s:s.open)||0,g=(h?s:s.close)||0,[b,v]=S.useState(()=>({...Sc(r,d),...Sc(n,d)})),{isMounted:k,status:C}=dQ(t,{duration:s}),_=ia(n),M=ia(o),A=ia(i),O=ia(r);return Un(()=>{const R=Sc(_.current,d),j=Sc(A.current,d),z=Sc(O.current,d),V=Sc(M.current,d)||Object.keys(R).reduce((Z,oe)=>(Z[oe]="",Z),{});if(C==="initial"&&v(Z=>({transitionProperty:Z.transitionProperty,...z,...R})),C==="open"&&v({transitionProperty:Object.keys(V).map(RO).join(","),transitionDuration:p+"ms",...z,...V}),C==="close"){const Z=j||R;v({transitionProperty:Object.keys(Z).map(RO).join(","),transitionDuration:g+"ms",...z,...Z})}},[g,A,_,M,O,p,C,d]),{isMounted:k,styles:b}}var D5={exports:{}},Ev={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function fQ(){if(NO)return Ev;NO=1;var t=Ve;function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,i=t.useEffect,r=t.useLayoutEffect,s=t.useDebugValue;function a(p,g){var b=g(),v=o({inst:{value:b,getSnapshot:g}}),k=v[0].inst,C=v[1];return r(function(){k.value=b,k.getSnapshot=g,u(k)&&C({inst:k})},[p,b,g]),i(function(){return u(k)&&C({inst:k}),p(function(){u(k)&&C({inst:k})})},[p]),s(b),b}function u(p){var g=p.getSnapshot;p=p.value;try{var b=g();return!n(p,b)}catch{return!0}}function d(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return Ev.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Ev}D5.exports=fQ();var L5=D5.exports;const hQ=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},pQ=({contentComponent:t})=>{const e=L5.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Ve.createElement(Ve.Fragment,null,Object.values(e))};function mQ(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,o){e={...e,[n]:m5.createPortal(o.reactElement,o.element,n)},t.forEach(i=>i())},removeRenderer(n){const o={...e};delete o[n],e=o,t.forEach(i=>i())}}}class gQ extends Ve.Component{constructor(e){var n;super(e),this.editorContentRef=Ve.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=mQ(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(o=>o.hasContentComponentInitialized?o:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...o}=this.props;return Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{ref:hQ(n,this.editorContentRef),...o}),(e==null?void 0:e.contentComponent)&&Ve.createElement(pQ,{contentComponent:e.contentComponent}))}}const bQ=S.forwardRef((t,e)=>{const n=Ve.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ve.createElement(gQ,{key:n,innerRef:e,...t})});Ve.memo(bQ);var Mv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO;function yQ(){if(DO)return Mv;DO=1;var t=Ve,e=L5;function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var o=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,r=t.useRef,s=t.useEffect,a=t.useMemo,u=t.useDebugValue;return Mv.useSyncExternalStoreWithSelector=function(d,h,p,g,b){var v=r(null);if(v.current===null){var k={hasValue:!1,value:null};v.current=k}else k=v.current;v=a(function(){function _(j){if(!M){if(M=!0,A=j,j=g(j),b!==void 0&&k.hasValue){var z=k.value;if(b(z,j))return O=z}return O=j}if(z=O,o(A,j))return z;var V=g(j);return b!==void 0&&b(z,V)?z:(A=j,O=V)}var M=!1,A,O,R=p===void 0?null:p;return[function(){return _(h())},R===null?void 0:function(){return _(R())}]},[h,p,g,b]);var C=i(d,v[0],v[1]);return s(function(){k.hasValue=!0,k.value=C},[C]),u(C),C},Mv}yQ();const vQ=S.createContext({editor:null});vQ.Consumer;const B5=S.createContext({onDragStart:void 0}),j5=()=>S.useContext(B5),wQ=Ve.forwardRef((t,e)=>{const{onDragStart:n}=j5(),o=t.as||"div";return Ve.createElement(o,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function kQ(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function xQ(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class CQ{constructor(e,{editor:n,props:o={},as:i="div",className:r=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=o,this.element=document.createElement(i),this.element.classList.add("react-renderer"),r&&this.element.classList.add(...r.split(" ")),this.editor.isInitialized?Oi.flushSync(()=>{this.render()}):this.render()}render(){var e;const n=this.component,o=this.props,i=this.editor;(kQ(n)||xQ(n))&&(o.ref=r=>{this.ref=r}),this.reactElement=Ve.createElement(n,{...o}),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class SQ extends r${mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(d={})=>this.updateAttributes(d),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const d=h=>h.charAt(0).toUpperCase()+h.substring(1);this.component.displayName=d(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:d=>{d&&this.contentDOMElement&&d.firstChild!==this.contentDOMElement&&d.appendChild(this.contentDOMElement)}},r=this.component,s=Ve.memo(d=>Ve.createElement(B5.Provider,{value:i},Ve.createElement(r,d)));s.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:u=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new CQ(s,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${u}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,o=this.getPos();if(typeof o=="number")if(e<=o&&n>=o+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,o){const i=r=>{this.renderer.updateProps(r),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const r=this.node,s=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=o,this.options.update({oldNode:r,oldDecorations:s,newNode:e,newDecorations:n,oldInnerDecorations:a,innerDecorations:o,updateProps:()=>i({node:e,decorations:n,innerDecorations:o})})}return e===this.node&&this.decorations===n&&this.innerDecorations===o||(this.node=e,this.decorations=n,this.innerDecorations=o,i({node:e,decorations:n,innerDecorations:o})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,o=Vm(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:o})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function _Q(t,e){return n=>n.editor.contentComponent?new SQ(t,n,e):{}}const H5=S.createContext(void 0);function br(t){return S.useContext(H5)}function De(t){const e=br();if(!(e!=null&&e.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return e.editor}function gC(t,e,n){const o=br();e||(e=o==null?void 0:o.editor),S.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onSelectionChange(t,n)},[t,e,n])}function EQ(t,e){const n=De();e=e||n;const[o,i]=S.useState(()=>{if(t)return e.getSelectionBoundingBox()}),r=S.useCallback(()=>{if(!t)return;const s=e.getSelectionBoundingBox();i(s)},[e,t]);return gC(r,e,!0),S.useEffect(()=>{i(t?e.getSelectionBoundingBox():void 0)},[t,e]),o}function xl(t,e,n,o){const{refs:i,update:r,context:s,floatingStyles:a}=bu({open:t,...o}),{isMounted:u,styles:d}=mC(s),h=R5(s),{getReferenceProps:p,getFloatingProps:g}=N5([h]);return S.useEffect(()=>{r()},[e,r]),S.useEffect(()=>{e!==null&&i.setReference({getBoundingClientRect:()=>e})},[e,i]),S.useMemo(()=>({isMounted:u,ref:i.setFloating,setReference:i.setReference,style:{display:"flex",...d,...a,zIndex:n},getFloatingProps:g,getReferenceProps:p}),[a,u,i.setFloating,i.setReference,d,n,g,p])}function us(t){const[e,n]=S.useState();return S.useEffect(()=>t(o=>{n({...o})}),[t]),e}const I5=S.createContext(void 0);function Re(){return S.useContext(I5)}const jb=(t={},e=[])=>S.useMemo(()=>{const n=vX.create(t);return window&&(window.ProseMirror=n._tiptapEditor),n},e);function Ze(){return br().editor.dictionary}function bC(t,e){const n=br();e||(e=n==null?void 0:n.editor),S.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onChange(t)},[t,e])}const yC=t=>{const[e,n]=S.useState(!1),[o,i]=S.useState(t.editor.isEmpty),r=Re();bC(()=>{i(t.editor.isEmpty)},t.editor);const s=S.useCallback(()=>{n(!0)},[]),a=S.useCallback(()=>{n(!1)},[]);return S.useEffect(()=>{t.editable&&t.autoFocus&&t.editor.focus()},[t.autoFocus,t.editable,t.editor]),x.jsxs(x.Fragment,{children:[x.jsx(r.Comments.Editor,{autoFocus:t.autoFocus,className:"bn-comment-editor",editor:t.editor,onFocus:s,onBlur:a,editable:t.editable}),t.actions&&x.jsx("div",{className:"bn-comment-actions-wrapper",children:x.jsx(t.actions,{isFocused:e,isEmpty:o})})]})},MQ=Di(Eo(Qx.paragraph.implementation.node.config),{}),{textColor:wae,backgroundColor:kae,...TQ}=eC,vC=pu.create({blockSpecs:{paragraph:MQ},styleSpecs:TQ});function AQ(){const t=De();if(!t.comments)throw new Error("Comments plugin not found");const e=t.comments,n=Re(),o=Ze(),i=jb({trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.new_comment}},schema:vC,sideMenuDetection:"editor"});return x.jsx(n.Comments.Card,{className:"bn-thread",children:x.jsx(yC,{autoFocus:!0,editable:!0,editor:i,actions:({isEmpty:r})=>x.jsx(n.Generic.Toolbar.Root,{className:nn("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:x.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:r,onClick:async()=>{await e.createThread({initialComment:{body:i.document}}),e.stopPendingComment()},children:"Save"})})})})}const OQ=t=>{const e=De();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=e.comments;S.useEffect(()=>{const h=n.onUpdate(p=>e.setForceSelectionVisible(p.pendingComment));return()=>h()},[n,e]);const o=us(n.onUpdate.bind(n)),i=EQ(o==null?void 0:o.pendingComment),{isMounted:r,ref:s,style:a,getFloatingProps:u}=xl((o==null?void 0:o.pendingComment)||!1,i||null,5e3,{placement:"bottom",middleware:[gr(10),Na(),Ri()],onOpenChange:h=>{h||(n.stopPendingComment(),e.focus())},...t.floatingOptions});if(!r||!o)return null;const d=t.floatingComposer||AQ;return x.jsx("div",{ref:s,style:a,...u(),children:x.jsx(d,{})})};var z5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LO=Ve.createContext&&Ve.createContext(z5),RQ=["attr","size","title"];function NQ(t,e){if(t==null)return{};var n=DQ(t,e),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function DQ(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jg.apply(this,arguments)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(o){LQ(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function LQ(t,e,n){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=jQ(t,"string");return typeof e=="symbol"?e:e+""}function jQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P5(t){return t&&t.map((e,n)=>Ve.createElement(e.tag,Hg({key:n},e.attr),P5(e.child)))}function ze(t){return e=>Ve.createElement(HQ,jg({attr:Hg({},t.attr)},e),P5(t.child))}function HQ(t){var e=n=>{var{attr:o,size:i,title:r}=t,s=NQ(t,RQ),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ve.createElement("svg",jg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:u,style:Hg(Hg({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&Ve.createElement("title",null,r),t.children)};return LO!==void 0?Ve.createElement(LO.Consumer,null,n=>e(n)):e(z5)}function IQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(t)}function V5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(t)}function zQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(t)}function PQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(t)}function wC(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(t)}function VQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(t)}function $Q(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(t)}function UQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(t)}function FQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(t)}function qQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(t)}function GQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(t)}function jO(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(t)}function $5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(t)}function U5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(t)}function F5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(t)}function KQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(t)}function ZQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(t)}function HO(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(t)}function YQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(t)}function WQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(t)}function q5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(t)}function G5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(t)}function K5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function Z5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function XQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(t)}function JQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(t)}function Y5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(t)}function QQ(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(t)}function eee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(t)}function kC(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(t)}function tee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(t)}function nee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(t)}function W5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(t)}function oee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(t)}function iee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(t)}function ree(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z"},child:[]}]})(t)}function X5(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(t)}function see(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(t)}function lee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(t)}function aee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function cee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function uee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(t)}function dee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(t)}function fee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(t)}function hee(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(t)}function IO(t){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(t)}let Tv;async function pee(){return Tv||(Tv=(async()=>{const[t,e]=await Promise.all([mo(()=>import("./module-BvCTiNll.js"),[]),mo(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in t?t.default:t,o="default"in e?e.default:e;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),Tv)}function mee(t){const e=S.useRef(null),n=S.useRef(null);return n.current&&n.current.update(t),S.useEffect(()=>((async()=>{const{emojiMart:o}=await pee();n.current=new o.Picker({...t,ref:e})})(),()=>{n.current=null}),[]),Ve.createElement("div",{ref:e})}const zO=t=>{const[e,n]=S.useState(!1),o=Re(),i=br();return x.jsxs(o.Generic.Popover.Root,{opened:e,children:[x.jsx(o.Generic.Popover.Trigger,{children:x.jsx("div",{onClick:r=>{r.preventDefault(),r.stopPropagation(),n(!e)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.children})}),x.jsx(o.Generic.Popover.Content,{variant:"panel-popover",children:x.jsx(mee,{perLine:7,onClickOutside:()=>n(!1),onEmojiSelect:r=>{t.onEmojiSelect(r),n(!1)},theme:i==null?void 0:i.colorSchemePreference})})]})};function gee(t,e){return xC(t,[e]).get(e)}function xC(t,e){const n=t.comments;if(!n)throw new Error("Comments plugin not found");const o=n.userStore,i=S.useCallback(()=>{const a=new Map;for(const u of e){const d=o.getUser(u);d&&a.set(u,d)}return a},[o,e]),r=S.useMemo(()=>({current:i()}),[i]),s=S.useCallback(a=>{const u=o.subscribe(d=>{r.current=i(),a()});return o.loadUsers(e),u},[o,i,e,r]);return S.useSyncExternalStore(s,()=>r.current)}const bee=t=>{const e=Re(),n=Ze(),o=De();if(!o.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const i=t.comment.reactions.find(u=>u.emoji===t.emoji);if(!i)throw new Error("Trying to render reaction badge for non-existing reaction");const[r,s]=S.useState([]),a=xC(o,r);return x.jsx(e.Generic.Badge.Root,{className:nn("bn-badge","bn-comment-reaction"),text:i.userIds.length.toString(),icon:i.emoji,isSelected:o.comments.threadStore.auth.canDeleteReaction(t.comment,i.emoji),onClick:()=>t.onReactionSelect(i.emoji),onMouseEnter:()=>s(i.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(a.values()).map(u=>u.username).join(`
`)}`},i.emoji)},yee=({comment:t,thread:e,showResolveButton:n})=>{const o=Ze(),i=jb({initialContent:t.body,trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.edit_comment}},schema:vC,sideMenuDetection:"editor"},[t.body]),r=Re(),[s,a]=S.useState(!1),u=De();if(!u.comments)throw new Error("Comments plugin not found");const d=u.comments.threadStore,h=S.useCallback(()=>{a(!0)},[]),p=S.useCallback(()=>{i.replaceBlocks(i.document,t.body),a(!1)},[i,t.body]),g=S.useCallback(async V=>{await d.updateComment({commentId:t.id,comment:{body:i.document},threadId:e.id}),a(!1)},[t,e.id,i,d]),b=S.useCallback(async()=>{await d.deleteComment({commentId:t.id,threadId:e.id})},[t,e.id,d]),v=S.useCallback(async V=>{d.auth.canAddReaction(t,V)?await d.addReaction({threadId:e.id,commentId:t.id,emoji:V}):d.auth.canDeleteReaction(t,V)&&await d.deleteReaction({threadId:e.id,commentId:t.id,emoji:V})},[d,t,e.id]),k=S.useCallback(async()=>{await d.resolveThread({threadId:e.id})},[e.id,d]),C=S.useCallback(async()=>{await d.unresolveThread({threadId:e.id})},[e.id,d]),_=gee(u,t.userId);if(!t.body)return null;let M;const A=d.auth.canAddReaction(t),O=d.auth.canDeleteComment(t),R=d.auth.canUpdateComment(t),j=n&&(e.resolved?d.auth.canUnresolveThread(e):d.auth.canResolveThread(e));s||(M=x.jsxs(r.Generic.Toolbar.Root,{className:nn("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[A&&x.jsx(zO,{onEmojiSelect:V=>v(V.native),children:x.jsx(r.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.add_reaction,variant:"compact",children:x.jsx(IO,{size:16})},"add-reaction")}),j&&(e.resolved?x.jsx(r.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:C,children:x.jsx(IQ,{size:16})},"reopen"):x.jsx(r.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.resolve,variant:"compact",onClick:k,children:x.jsx(lee,{size:16})},"resolve")),(O||R)&&x.jsxs(r.Generic.Menu.Root,{position:"bottom-start",children:[x.jsx(r.Generic.Menu.Trigger,{children:x.jsx(r.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.more_actions,variant:"compact",children:x.jsx(fee,{size:16})},"more-actions")}),x.jsxs(r.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[R&&x.jsx(r.Generic.Menu.Item,{icon:x.jsx(zQ,{}),onClick:h,children:o.comments.actions.edit_comment},"edit-comment"),O&&x.jsx(r.Generic.Menu.Item,{icon:x.jsx(cee,{}),onClick:b,children:o.comments.actions.delete_comment},"delete-comment")]})]})]}));const z=t.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!t.body)throw new Error("soft deletes are not yet supported");return x.jsx(r.Comments.Comment,{authorInfo:_??"loading",timeString:z,edited:t.updatedAt.getTime()!==t.createdAt.getTime(),showActions:"hover",actions:M,className:"bn-thread-comment",children:x.jsx(yC,{autoFocus:s,editor:i,editable:s,actions:t.reactions.length>0||s?({isEmpty:V})=>x.jsxs(x.Fragment,{children:[t.reactions.length>0&&!s&&x.jsxs(r.Generic.Badge.Group,{className:nn("bn-badge-group","bn-comment-reactions"),children:[t.reactions.map(Z=>x.jsx(bee,{comment:t,emoji:Z.emoji,onReactionSelect:v},Z.emoji)),x.jsx(zO,{onEmojiSelect:Z=>v(Z.native),children:x.jsx(r.Generic.Badge.Root,{className:nn("bn-badge","bn-comment-add-reaction"),text:"+",icon:x.jsx(IO,{size:16}),mainTooltip:o.comments.actions.add_reaction})})]}),s&&x.jsxs(r.Generic.Toolbar.Root,{variant:"action-toolbar",className:nn("bn-action-toolbar","bn-comment-actions"),children:[x.jsx(r.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",onClick:g,isDisabled:V,children:"Save"}),x.jsx(r.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Cancel",variant:"compact",onClick:p,children:"Cancel"})]})]}):void 0})})},vee=({thread:t,maxCommentsBeforeCollapse:e})=>{const n=Re(),o=Ze(),i=De(),r=xC(i,t.resolvedBy?[t.resolvedBy]:[]),s=t.comments.map((a,u)=>x.jsx(yee,{thread:t,comment:a,showResolveButton:u===0},a.id));if(t.resolved&&t.resolvedUpdatedAt&&t.resolvedBy){if(!r.get(t.resolvedBy))throw new Error(`User ${t.resolvedBy} resolved thread ${t.id}, but their data could not be found.`);const a=t.comments.findLastIndex(u=>t.resolvedUpdatedAt.getTime()>u.createdAt.getTime())+1;s.splice(a,0,x.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:t.resolvedBy&&r.get(t.resolvedBy)||"loading",timeString:t.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:x.jsx("div",{className:"bn-resolved-text",children:o.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return e&&s.length>e&&s.splice(1,s.length-2,x.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:o.comments.sidebar.more_replies(t.comments.length-2)},"expand-prompt")),s},J5=({thread:t,selected:e,referenceText:n,maxCommentsBeforeCollapse:o,onFocus:i,onBlur:r,tabIndex:s})=>{const a=Re(),u=Ze(),d=De().comments;if(!d)throw new Error("Comments plugin not found");const h=jb({trailingBlock:!1,dictionary:{...u,placeholders:{emptyDocument:u.placeholders.comment_reply}},schema:vC,sideMenuDetection:"editor"}),p=S.useCallback(async()=>{await d.threadStore.addComment({comment:{body:h.document},threadId:t.id}),h.removeBlocks(h.document)},[d,h,t.id]);return x.jsxs(a.Comments.Card,{className:"bn-thread",headerText:n,onFocus:i,onBlur:r,selected:e,tabIndex:s,children:[x.jsx(a.Comments.CardSection,{className:"bn-thread-comments",children:x.jsx(vee,{thread:t,maxCommentsBeforeCollapse:e?void 0:o||5})}),e&&x.jsx(a.Comments.CardSection,{className:"bn-thread-composer",children:x.jsx(yC,{autoFocus:!1,editable:!0,editor:h,actions:({isEmpty:g})=>g?null:x.jsx(a.Generic.Toolbar.Root,{variant:"action-toolbar",className:nn("bn-action-toolbar","bn-comment-actions"),children:x.jsx(a.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",isDisabled:g,onClick:p,children:"Save"})})})})]})};function wee(t){const e=t.comments;if(!e)throw new Error("Comments plugin not found");const n=e.threadStore,o=S.useRef();o.current||(o.current=n.getThreads());const i=S.useCallback(r=>n.subscribe(s=>{o.current=s,r()}),[n]);return S.useSyncExternalStore(i,()=>o.current)}const kee=t=>{const e=De();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=us(e.comments.onUpdate.bind(e.comments)),{isMounted:o,ref:i,style:r,getFloatingProps:s,setReference:a}=xl(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[gr(10),Na(),Ri()],onOpenChange:p=>{var g;p||((g=e.comments)==null||g.selectThread(void 0),e.focus())},...t.floatingOptions}),u=S.useCallback(()=>{var p;if(!(n!=null&&n.selectedThreadId))return;const g=(p=e.domElement)==null?void 0:p.querySelector(`[data-bn-thread-id="${n==null?void 0:n.selectedThreadId}"]`);g&&a(g)},[a,e,n==null?void 0:n.selectedThreadId]);S.useEffect(()=>{if(n!=null&&n.selectedThreadId)return e.onChange(()=>{u()})},[e,u,n==null?void 0:n.selectedThreadId]),S.useLayoutEffect(u,[u]);const d=wee(e);if(!o||!n||!n.selectedThreadId)return null;const h=t.floatingThread||J5;return x.jsx("div",{ref:i,style:r,...s(),children:x.jsx(h,{thread:d.get(n.selectedThreadId),selected:!0})})},xee=t=>{const e=Re(),n=Ze(),{block:o}=t,i=De(),[r,s]=S.useState(""),a=S.useCallback(h=>{s(h.currentTarget.value)},[]),u=S.useCallback(h=>{h.key==="Enter"&&(h.preventDefault(),i.updateBlock(o,{props:{name:qA(r),url:r}}))},[i,o,r]),d=S.useCallback(()=>{i.updateBlock(o,{props:{name:qA(r),url:r}})},[i,o,r]);return x.jsxs(e.FilePanel.TabPanel,{className:"bn-tab-panel",children:[x.jsx(e.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:r,onChange:a,onKeyDown:u,"data-test":"embed-input"}),x.jsx(e.FilePanel.Button,{className:"bn-button",onClick:d,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[o.type]||n.file_panel.embed.embed_button.file})]})},Cee=t=>{var e;const n=Re(),o=Ze(),{block:i,setLoading:r}=t,s=De(),[a,u]=S.useState(!1);S.useEffect(()=>{a&&setTimeout(()=>{u(!1)},3e3)},[a]);const d=S.useCallback(g=>{if(g===null)return;async function b(v){if(r(!0),s.uploadFile!==void 0)try{let k=await s.uploadFile(v);typeof k=="string"&&(k={props:{name:v.name,url:k}}),s.updateBlock(i,k)}catch{u(!0)}finally{r(!1)}}b(g)},[i,s,r]),h=s.schema.blockSchema[i.type],p=h.isFileBlock&&(e=h.fileBlockAccept)!=null&&e.length?h.fileBlockAccept.join(","):"*/*";return x.jsxs(n.FilePanel.TabPanel,{className:"bn-tab-panel",children:[x.jsx(n.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:p,placeholder:o.file_panel.upload.file_placeholder[i.type]||o.file_panel.upload.file_placeholder.file,value:null,onChange:d}),a&&x.jsx("div",{className:"bn-error-text",children:o.file_panel.upload.upload_error})]})},Q5=t=>{const e=Re(),n=Ze(),o=De(),[i,r]=S.useState(!1),s=t.tabs??[...o.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:x.jsx(Cee,{block:t.block,setLoading:r})}]:[],{name:n.file_panel.embed.title,tabPanel:x.jsx(xee,{block:t.block})}],[a,u]=S.useState(t.defaultOpenTab||s[0].name);return x.jsx(e.FilePanel.Root,{className:"bn-panel",defaultOpenTab:a,openTab:a,setOpenTab:u,tabs:s,loading:i})},See=t=>{const e=De();if(!e.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=us(e.filePanel.onUpdate.bind(e.filePanel)),{isMounted:o,ref:i,style:r,getFloatingProps:s}=xl((n==null?void 0:n.show)||!1,(n==null?void 0:n.referencePos)||null,5e3,{placement:"bottom",middleware:[gr(10),Ri()],onOpenChange:p=>{p||(e.filePanel.closeMenu(),e.focus())},...t.floatingOptions});if(!o||!n)return null;const{show:a,referencePos:u,...d}=n,h=t.filePanel||Q5;return x.jsx("div",{ref:i,style:r,...s(),children:x.jsx(h,{...d})})};function Cl(t,e){bC(t,e),gC(t,e)}function CC(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function Mo(t){const e=br();if(t||(t=e==null?void 0:e.editor),!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=t,[o,i]=S.useState(()=>{var r;return((r=n.getSelection())==null?void 0:r.blocks)||[n.getTextCursorPosition().block]});return Cl(()=>{var r;return i(((r=n.getSelection())==null?void 0:r.blocks)||[n.getTextCursorPosition().block])},n),o}const _ee={bold:qQ,italic:YQ,underline:tee,strike:QQ,code:PQ};function Eee(t,e){return t in e.schema.styleSchema&&e.schema.styleSchema[t].type===t&&e.schema.styleSchema[t].propSchema==="boolean"}const Jp=t=>{const e=Ze(),n=Re(),o=De(),i=Eee(t.basicTextStyle,o),r=Mo(o),[s,a]=S.useState(t.basicTextStyle in o.getActiveStyles());Cl(()=>{i&&a(t.basicTextStyle in o.getActiveStyles())},o);const u=h=>{if(o.focus(),!!i){if(o.schema.styleSchema[h].propSchema!=="boolean")throw new Error("can only toggle boolean styles");o.toggleStyles({[h]:!0})}};if(!S.useMemo(()=>i?!!r.find(h=>h.content!==void 0):!1,[i,r])||!o.isEditable)return null;const d=_ee[t.basicTextStyle];return x.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":t.basicTextStyle,onClick:()=>u(t.basicTextStyle),isSelected:s,label:e.formatting_toolbar[t.basicTextStyle].tooltip,mainTooltip:e.formatting_toolbar[t.basicTextStyle].tooltip,secondaryTooltip:ri(e.formatting_toolbar[t.basicTextStyle].secondary_tooltip,e.generic.ctrl_shortcut),icon:x.jsx(d,{})})},gk=t=>{const e=t.textColor||"default",n=t.backgroundColor||"default",o=t.size||16,i=S.useMemo(()=>({pointerEvents:"none",fontSize:(o*.75).toString()+"px",height:o.toString()+"px",lineHeight:o.toString()+"px",textAlign:"center",width:o.toString()+"px"}),[o]);return x.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":e,style:i,children:"A"})},PO=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],Hb=t=>{const e=Re(),n=Ze();return x.jsxs(x.Fragment,{children:[x.jsx(()=>t.text?x.jsxs(x.Fragment,{children:[x.jsx(e.Generic.Menu.Label,{children:n.color_picker.text_title}),PO.map(o=>x.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.text.setColor(o)},"data-test":"text-color-"+o,icon:x.jsx(gk,{textColor:o,size:t.iconSize}),checked:t.text.color===o,children:n.color_picker.colors[o]},"text-color-"+o))]}):null,{}),x.jsx(()=>t.background?x.jsxs(x.Fragment,{children:[x.jsx(e.Generic.Menu.Label,{children:n.color_picker.background_title}),PO.map(o=>x.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.background.setColor(o)},"data-test":"background-color-"+o,icon:x.jsx(gk,{backgroundColor:o,size:t.iconSize}),checked:t.background.color===o,children:n.color_picker.colors[o]},"background-color-"+o))]}):null,{})]})};function VO(t,e){return`${t}Color`in e.schema.styleSchema&&e.schema.styleSchema[`${t}Color`].type===`${t}Color`&&e.schema.styleSchema[`${t}Color`].propSchema==="string"}const Mee=()=>{const t=Re(),e=Ze(),n=De(),o=VO("text",n),i=VO("background",n),r=Mo(n),[s,a]=S.useState(o&&n.getActiveStyles().textColor||"default"),[u,d]=S.useState(i&&n.getActiveStyles().backgroundColor||"default");Cl(()=>{o&&a(n.getActiveStyles().textColor||"default"),i&&d(n.getActiveStyles().backgroundColor||"default")},n);const h=S.useCallback(g=>{if(!o)throw Error("Tried to set text color, but style does not exist in editor schema.");g==="default"?n.removeStyles({textColor:g}):n.addStyles({textColor:g}),setTimeout(()=>{n.focus()})},[n,o]),p=S.useCallback(g=>{if(!i)throw Error("Tried to set background color, but style does not exist in editor schema.");g==="default"?n.removeStyles({backgroundColor:g}):n.addStyles({backgroundColor:g}),setTimeout(()=>{n.focus()})},[i,n]);return!S.useMemo(()=>{if(!o&&!i)return!1;for(const g of r)if(g.content!==void 0)return!0;return!1},[i,r,o])||!n.isEditable?null:x.jsxs(t.Generic.Menu.Root,{children:[x.jsx(t.Generic.Menu.Trigger,{children:x.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:e.formatting_toolbar.colors.tooltip,mainTooltip:e.formatting_toolbar.colors.tooltip,icon:x.jsx(gk,{textColor:s,backgroundColor:u,size:20})})}),x.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:x.jsx(Hb,{text:o?{color:s,setColor:h}:void 0,background:i?{color:u,setColor:p}:void 0})})]})},$O=t=>{for(const e of QL)if(t.startsWith(e))return t;return`${e5}://${t}`},eB=t=>{const e=Re(),n=Ze(),{url:o,text:i,editLink:r,showTextField:s}=t,[a,u]=S.useState(o),[d,h]=S.useState(i);S.useEffect(()=>{u(o),h(i)},[i,o]);const p=S.useCallback(k=>{k.key==="Enter"&&(k.preventDefault(),r($O(a),d))},[r,a,d]),g=S.useCallback(k=>u(k.currentTarget.value),[]),b=S.useCallback(k=>h(k.currentTarget.value),[]),v=S.useCallback(()=>r($O(a),d),[r,a,d]);return x.jsxs(e.Generic.Form.Root,{children:[x.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:x.jsx(q5,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:a,onKeyDown:p,onChange:g,onSubmit:v}),s!==!1&&x.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:x.jsx(kC,{}),placeholder:n.link_toolbar.form.title_placeholder,value:d,onKeyDown:p,onChange:b,onSubmit:v})]})};function Tee(t){return"link"in t.schema.inlineContentSchema&&t.schema.inlineContentSchema.link==="link"}const Aee=()=>{var t;const e=De(),n=Re(),o=Ze(),i=Tee(e),r=Mo(e),[s,a]=S.useState(!1),[u,d]=S.useState(e.getSelectedLinkUrl()||""),[h,p]=S.useState(e.getSelectedText());Cl(()=>{a(!1),p(e.getSelectedText()||""),d(e.getSelectedLinkUrl()||"")},e),S.useEffect(()=>{var b;const v=k=>{(k.ctrlKey||k.metaKey)&&k.key==="k"&&(a(!0),k.preventDefault())};return(b=e.prosemirrorView)==null||b.dom.addEventListener("keydown",v),()=>{var k;(k=e.prosemirrorView)==null||k.dom.removeEventListener("keydown",v)}},[(t=e.prosemirrorView)==null?void 0:t.dom]);const g=S.useCallback(b=>{e.createLink(b),e.focus()},[e]);return!S.useMemo(()=>{if(!i)return!1;for(const b of r)if(b.content===void 0)return!1;return!ok(e.prosemirrorState.selection)},[i,r,e.prosemirrorState.selection])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:x.jsxs(n.Generic.Popover.Root,{opened:s,children:[x.jsx(n.Generic.Popover.Trigger,{children:x.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:o.formatting_toolbar.link.tooltip,mainTooltip:o.formatting_toolbar.link.tooltip,secondaryTooltip:ri(o.formatting_toolbar.link.secondary_tooltip,o.generic.ctrl_shortcut),icon:x.jsx(q5,{}),onClick:()=>a(!0)})}),x.jsx(n.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:x.jsx(eB,{url:u,text:h,editLink:g,showTextField:!1})})]})},Oee=()=>{const t=Ze(),e=Re(),n=De(),[o,i]=S.useState(),r=Mo(n),s=S.useMemo(()=>{if(r.length!==1)return;const d=r[0];if(nh(d,n))return i(d.props.caption),d},[n,r]),a=S.useCallback(d=>{s&&d.key==="Enter"&&(d.preventDefault(),n.updateBlock(s,{props:{caption:o}}))},[o,n,s]),u=S.useCallback(d=>i(d.currentTarget.value),[]);return!s||oh(s,n)||!n.isEditable?null:x.jsxs(e.Generic.Popover.Root,{children:[x.jsx(e.Generic.Popover.Trigger,{children:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_caption.tooltip,mainTooltip:t.formatting_toolbar.file_caption.tooltip,icon:x.jsx(HO,{}),isSelected:s.props.caption!==""})}),x.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:x.jsx(e.Generic.Form.Root,{children:x.jsx(e.Generic.Form.TextInput,{name:"file-caption",icon:x.jsx(HO,{}),value:o||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_caption.input_placeholder,onKeyDown:a,onChange:u})})})]})},Ree=()=>{const t=Ze(),e=Re(),n=De(),o=Mo(n),i=S.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(nh(s,n))return s},[n,o]),r=S.useCallback(()=>{n.focus(),n.removeBlocks([i])},[n,i]);return!i||oh(i,n)||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_delete.tooltip[i.type]||t.formatting_toolbar.file_delete.tooltip.file,mainTooltip:t.formatting_toolbar.file_delete.tooltip[i.type]||t.formatting_toolbar.file_delete.tooltip.file,icon:x.jsx(aee,{}),onClick:r})},Nee=()=>{const t=Ze(),e=Re(),n=De(),[o,i]=S.useState(),r=Mo(n),s=S.useMemo(()=>{if(r.length!==1)return;const d=r[0];if(nh(d,n))return i(d.props.name),d},[n,r]),a=S.useCallback(d=>{s&&d.key==="Enter"&&(d.preventDefault(),n.updateBlock(s,{props:{name:o}}))},[o,n,s]),u=S.useCallback(d=>i(d.currentTarget.value),[]);return!s||oh(s,n)||!n.isEditable?null:x.jsxs(e.Generic.Popover.Root,{children:[x.jsx(e.Generic.Popover.Trigger,{children:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,mainTooltip:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,icon:x.jsx(jO,{})})}),x.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:x.jsx(e.Generic.Form.Root,{children:x.jsx(e.Generic.Form.TextInput,{name:"file-name",icon:x.jsx(jO,{}),value:o||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_rename.input_placeholder[s.type]||t.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:a,onChange:u})})})]})},Dee=()=>{const t=Ze(),e=Re(),n=De(),o=Mo(n),[i,r]=S.useState(!1);S.useEffect(()=>{r(!1)},[o]);const s=o.length===1?o[0]:void 0;return s===void 0||!nh(s,n)||!n.isEditable?null:x.jsxs(e.Generic.Popover.Root,{opened:i,position:"bottom",children:[x.jsx(e.Generic.Popover.Trigger,{children:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",onClick:()=>r(!i),isSelected:i,mainTooltip:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,label:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,icon:x.jsx(iee,{})})}),x.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:x.jsx(Q5,{block:s})})]})},Lee=()=>{const t=Ze(),e=Re(),n=De(),o=Mo(n),[i,r]=S.useState(()=>n.canNestBlock());Cl(()=>{r(n.canNestBlock())},n);const s=S.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!S.useMemo(()=>!o.find(a=>n.schema.blockSchema[a.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:s,isDisabled:!i,label:t.formatting_toolbar.nest.tooltip,mainTooltip:t.formatting_toolbar.nest.tooltip,secondaryTooltip:ri(t.formatting_toolbar.nest.secondary_tooltip,t.generic.ctrl_shortcut),icon:x.jsx(ZQ,{})})},Bee=()=>{const t=Ze(),e=Re(),n=De(),o=Mo(n),[i,r]=S.useState(()=>n.canUnnestBlock());Cl(()=>{r(n.canUnnestBlock())},n);const s=S.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!S.useMemo(()=>!o.find(a=>n.schema.blockSchema[a.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:s,isDisabled:!i,label:t.formatting_toolbar.unnest.tooltip,mainTooltip:t.formatting_toolbar.unnest.tooltip,secondaryTooltip:ri(t.formatting_toolbar.unnest.secondary_tooltip,t.generic.ctrl_shortcut),icon:x.jsx(KQ,{})})},jee=t=>[{name:t.slash_menu.paragraph.title,type:"paragraph",icon:kC,isSelected:e=>e.type==="paragraph"},{name:t.slash_menu.heading.title,type:"heading",props:{level:1},icon:$5,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===1},{name:t.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:U5,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===2},{name:t.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:F5,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===3},{name:t.slash_menu.quote.title,type:"quote",icon:Y5,isSelected:e=>e.type==="quote"},{name:t.slash_menu.bullet_list.title,type:"bulletListItem",icon:Z5,isSelected:e=>e.type==="bulletListItem"},{name:t.slash_menu.numbered_list.title,type:"numberedListItem",icon:K5,isSelected:e=>e.type==="numberedListItem"},{name:t.slash_menu.check_list.title,type:"checkListItem",icon:G5,isSelected:e=>e.type==="checkListItem"}],Hee=t=>{const e=Re(),n=Ze(),o=De(),i=Mo(o),[r,s]=S.useState(o.getTextCursorPosition().block),a=S.useMemo(()=>(t.items||jee(n)).filter(h=>h.type in o.schema.blockSchema),[o,n,t.items]),u=S.useMemo(()=>a.find(h=>h.type===r.type)!==void 0,[r.type,a]),d=S.useMemo(()=>{const h=p=>{o.focus();for(const g of i)o.updateBlock(g,{type:p.type,props:p.props})};return a.map(p=>{const g=p.icon;return{text:p.name,icon:x.jsx(g,{size:16}),onClick:()=>h(p),isSelected:p.isSelected(r)}})},[r,a,o,i]);return Cl(()=>{s(o.getTextCursorPosition().block)},o),!u||!o.isEditable?null:x.jsx(e.FormattingToolbar.Select,{className:"bn-select",items:d})},Iee=()=>{const t=Ze(),e=Re(),n=De(),o=S.useCallback(()=>{var i;(i=n.comments)==null||i.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:x.jsx(V5,{}),onClick:o}):null},zee=()=>{const t=Ze(),e=Re(),n=De(),o=S.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:x.jsx(V5,{}),onClick:o})};function bk(t,e){try{const n=new URL(t,e);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const Pee=()=>{const t=Ze(),e=Re(),n=De(),o=Mo(n),i=S.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(nh(s,n))return s},[n,o]),r=S.useCallback(()=>{i&&i.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(i.props.url).then(s=>window.open(bk(s,window.location.href))):window.open(bk(i.props.url,window.location.href)))},[n,i]);return!i||oh(i,n)?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_download.tooltip[i.type]||t.formatting_toolbar.file_download.tooltip.file,mainTooltip:t.formatting_toolbar.file_download.tooltip[i.type]||t.formatting_toolbar.file_download.tooltip.file,icon:x.jsx(uee,{}),onClick:r})},Vee=()=>{const t=Ze(),e=Re(),n=De(),o=Mo(n),i=S.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(yY(s,n))return s},[n,o]),r=S.useCallback(()=>{i&&n.updateBlock(i,{props:{showPreview:!i.props.showPreview}})},[n,i]);return!i||oh(i,n)||!n.isEditable?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:t.formatting_toolbar.file_preview_toggle.tooltip,icon:x.jsx(oee,{}),isSelected:i.props.showPreview,onClick:r})},$ee=()=>{const t=Ze(),e=Re(),n=De(),o=Mo(n),i=S.useMemo(()=>{var s;if(o.length!==1)return;const a=o[0];if(a.type==="table")return(s=n.tableHandles)==null?void 0:s.getMergeDirection(a)},[n,o]),r=S.useCallback(()=>{var s;(s=n.tableHandles)==null||s.mergeCells()},[n]);return!n.isEditable||i===void 0||!n.settings.tables.splitCells?null:x.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:t.formatting_toolbar.table_cell_merge.tooltip,icon:i==="horizontal"?x.jsx(XQ,{}):x.jsx(JQ,{}),onClick:r})},Uee={left:UQ,center:VQ,right:FQ,justify:$Q},Av=t=>{const e=Re(),n=Ze(),o=De(),i=Mo(o),r=S.useMemo(()=>{var u;const d=i[0];if(nk("textAlignment",d,o))return d.props.textAlignment;if(d.type==="table"){const h=(u=o.tableHandles)==null?void 0:u.getCellSelection();if(!h)return;const p=h.cells.map(({row:b,col:v})=>fl(d.content.rows[b].cells[v]).props.textAlignment),g=p[0];if(p.every(b=>b===g))return g}},[o,i]),s=S.useCallback(u=>{var d;o.focus();for(const h of i)if(Lc("textAlignment",h.type,o))o.updateBlock(h,{props:{textAlignment:u}});else if(h.type==="table"){const p=(d=o.tableHandles)==null?void 0:d.getCellSelection();if(!p)continue;const g=h.content.rows.map(b=>({...b,cells:b.cells.map(v=>fl(v))}));p.cells.forEach(({row:b,col:v})=>{g[b].cells[v].props.textAlignment=u}),o.updateBlock(h,{type:"table",content:{...h.content,type:"tableContent",rows:g}}),o.setTextCursorPosition(h)}},[o,i]);if(!S.useMemo(()=>!!i.find(u=>"textAlignment"in u.props||u.type==="table"&&u.children),[i])||!o.isEditable)return null;const a=Uee[t.textAlignment];return x.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${t.textAlignment.slice(0,1).toUpperCase()+t.textAlignment.slice(1)}`,onClick:()=>s(t.textAlignment),isSelected:r===t.textAlignment,label:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,icon:x.jsx(a,{})})},tB=t=>[x.jsx(Hee,{items:t},"blockTypeSelect"),x.jsx($ee,{},"tableCellMergeButton"),x.jsx(Oee,{},"fileCaptionButton"),x.jsx(Dee,{},"replaceFileButton"),x.jsx(Nee,{},"fileRenameButton"),x.jsx(Ree,{},"fileDeleteButton"),x.jsx(Pee,{},"fileDownloadButton"),x.jsx(Vee,{},"filePreviewButton"),x.jsx(Jp,{basicTextStyle:"bold"},"boldStyleButton"),x.jsx(Jp,{basicTextStyle:"italic"},"italicStyleButton"),x.jsx(Jp,{basicTextStyle:"underline"},"underlineStyleButton"),x.jsx(Jp,{basicTextStyle:"strike"},"strikeStyleButton"),x.jsx(Av,{textAlignment:"left"},"textAlignLeftButton"),x.jsx(Av,{textAlignment:"center"},"textAlignCenterButton"),x.jsx(Av,{textAlignment:"right"},"textAlignRightButton"),x.jsx(Mee,{},"colorStyleButton"),x.jsx(Lee,{},"nestBlockButton"),x.jsx(Bee,{},"unnestBlockButton"),x.jsx(Aee,{},"createLinkButton"),x.jsx(Iee,{},"addCommentButton"),x.jsx(zee,{},"addTiptapCommentButton")],nB=t=>{const e=Re();return x.jsx(e.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:t.children||tB(t.blockTypeSelectItems)})},UO=t=>{switch(t){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},oB=t=>{const e=S.useRef(null),n=De(),[o,i]=S.useState(()=>{const g=n.getTextCursorPosition().block;return"textAlignment"in g.props?UO(g.props.textAlignment):"top-start"});Cl(()=>{const g=n.getTextCursorPosition().block;"textAlignment"in g.props?i(UO(g.props.textAlignment)):i("top-start")},n);const r=us(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:s,ref:a,style:u,getFloatingProps:d}=xl((r==null?void 0:r.show)||!1,(r==null?void 0:r.referencePos)||null,3e3,{placement:o,middleware:[gr(10),Na(),Ri()],onOpenChange:(g,b)=>{g||(n.formattingToolbar.closeMenu(),n.focus())},...t.floatingOptions}),h=S.useMemo(()=>CC([e,a]),[e,a]);if(!s||!r)return null;if(!r.show&&e.current)return x.jsx("div",{ref:h,style:u,dangerouslySetInnerHTML:{__html:e.current.innerHTML}});const p=t.formattingToolbar||nB;return x.jsx("div",{ref:h,style:u,...d(),children:x.jsx(p,{})})},Fee=t=>{const e=Re(),n=Ze();return x.jsx(e.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:t.deleteLink,icon:x.jsx(WQ,{})})},qee=t=>{const e=Re(),n=Ze();return x.jsxs(e.Generic.Popover.Root,{children:[x.jsx(e.Generic.Popover.Trigger,{children:x.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),x.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:x.jsx(eB,{...t})})]})},Gee=t=>{const e=Re(),n=Ze();return x.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(bk(t.url,window.location.href),"_blank")},icon:x.jsx(dee,{})})},Kee=t=>{const e=Re();return t.children?x.jsx(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",children:t.children}):x.jsxs(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:t.stopHideTimer,onMouseLeave:t.startHideTimer,children:[x.jsx(qee,{url:t.url,text:t.text,editLink:t.editLink}),x.jsx(Gee,{url:t.url}),x.jsx(Fee,{deleteLink:t.deleteLink})]})},Zee=t=>{const e=De(),n={deleteLink:e.linkToolbar.deleteLink,editLink:e.linkToolbar.editLink,startHideTimer:e.linkToolbar.startHideTimer,stopHideTimer:e.linkToolbar.stopHideTimer},o=us(e.linkToolbar.onUpdate.bind(e.linkToolbar)),{isMounted:i,ref:r,style:s,getFloatingProps:a}=xl((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,4e3,{placement:"top-start",middleware:[gr(10),Ri()],onOpenChange:g=>{g||(e.linkToolbar.closeMenu(),e.focus())},...t.floatingOptions});if(!i||!o)return null;const{show:u,referencePos:d,...h}=o,p=t.linkToolbar||Kee;return x.jsx("div",{ref:r,style:s,...a(),children:x.jsx(p,{...h,...n})})};function Yee(t){return ze({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(t)}const Wee=t=>{const e=Re(),n=Ze(),o=De(),i=S.useCallback(()=>{const r=t.block.content;if(r!==void 0&&Array.isArray(r)&&r.length===0)o.setTextCursorPosition(t.block),o.openSuggestionMenu("/");else{const s=o.insertBlocks([{type:"paragraph"}],t.block,"after")[0];o.setTextCursorPosition(s),o.openSuggestionMenu("/")}},[o,t.block]);return x.jsx(e.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:x.jsx(Yee,{size:24,onClick:i,"data-test":"dragHandleAdd"})})};function iB(t){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function Xee(t){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}const Jee=t=>{const e=Re(),n=De();return!Lc("textColor",t.block.type,n)&&!Lc("backgroundColor",t.block.type,n)?null:x.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[x.jsx(e.Generic.Menu.Trigger,{sub:!0,children:x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children})}),x.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:x.jsx(Hb,{iconSize:18,text:Lc("textColor",t.block.type,n)&&nk("textColor",t.block,n)?{color:t.block.props.textColor,setColor:o=>n.updateBlock(t.block,{type:t.block.type,props:{textColor:o}})}:void 0,background:Lc("backgroundColor",t.block.type,n)&&nk("backgroundColor",t.block,n)?{color:t.block.props.backgroundColor,setColor:o=>n.updateBlock(t.block,{props:{backgroundColor:o}})}:void 0})})]})},Qee=t=>{const e=Re(),n=De();return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([t.block]),children:t.children})},ete=t=>{const e=Re(),n=De();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!t.block.content.headerRows;return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{const i=n.getBlock(t.block.id);i&&n.updateBlock(i,{...i,content:{...i.content,headerRows:o?void 0:1}})},children:t.children})},tte=t=>{const e=Re(),n=De();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!t.block.content.headerCols;return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{n.updateBlock(t.block,{type:"table",content:{...t.block.content,type:"tableContent",headerCols:o?void 0:1}})},children:t.children})},nte=t=>{const e=Re(),n=Ze();return x.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||x.jsxs(x.Fragment,{children:[x.jsx(Qee,{...t,children:n.drag_handle.delete_menuitem}),x.jsx(Jee,{...t,children:n.drag_handle.colors_menuitem}),x.jsx(ete,{...t,children:n.drag_handle.header_row_menuitem}),x.jsx(tte,{...t,children:n.drag_handle.header_column_menuitem})]})})},ote=t=>{const e=Re(),n=Ze(),o=t.dragHandleMenu||nte;return x.jsxs(e.Generic.Menu.Root,{onOpenChange:i=>{i?t.freezeMenu():t.unfreezeMenu()},position:"left",children:[x.jsx(e.Generic.Menu.Trigger,{children:x.jsx(e.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:i=>t.blockDragStart(i,t.block),onDragEnd:t.blockDragEnd,className:"bn-button",icon:x.jsx(iB,{size:24,"data-test":"dragHandle"})})}),x.jsx(o,{block:t.block,children:t.children})]})},ite=t=>{const e=Re(),n=S.useMemo(()=>{const o={"data-block-type":t.block.type};return t.block.type==="heading"&&(o["data-level"]=t.block.props.level.toString()),t.editor.schema.blockSchema[t.block.type].isFileBlock&&(t.block.props.url?o["data-url"]="true":o["data-url"]="false"),o},[t.block,t.editor.schema.blockSchema]);return x.jsx(e.SideMenu.Root,{className:"bn-side-menu",...n,children:t.children||x.jsxs(x.Fragment,{children:[x.jsx(Wee,{...t}),x.jsx(ote,{...t})]})})},rte=t=>{const e=De(),n={blockDragStart:e.sideMenu.blockDragStart,blockDragEnd:e.sideMenu.blockDragEnd,freezeMenu:e.sideMenu.freezeMenu,unfreezeMenu:e.sideMenu.unfreezeMenu},o=us(e.sideMenu.onUpdate.bind(e.sideMenu)),{isMounted:i,ref:r,style:s,getFloatingProps:a}=xl((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,1e3,{placement:"left-start",...t.floatingOptions});if(!i||!o)return null;const{show:u,referencePos:d,...h}=o,p=t.sideMenu||ite;return x.jsx("div",{ref:r,style:s,...a(),children:x.jsx(p,{...h,...n,editor:e})})};async function ste(t,e){return(await kX(t,e)).map(({id:n,onItemClick:o})=>({id:n,onItemClick:o,icon:n}))}function lte(t){const e=Re(),n=Ze(),{items:o,loadingState:i,selectedIndex:r,onItemClick:s,columns:a}=t,u=i==="loading-initial"||i==="loading"?x.jsx(e.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:a,children:n.suggestion_menu.loading}):null,d=S.useMemo(()=>{const h=[];for(let p=0;p<o.length;p++){const g=o[p];h.push(x.jsx(e.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:g,id:`bn-grid-suggestion-menu-item-${p}`,isSelected:p===r,onClick:()=>s==null?void 0:s(g)},g.id))}return h},[e,o,s,r]);return x.jsxs(e.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:a,className:"bn-grid-suggestion-menu",children:[u,d,d.length===0&&t.loadingState==="loaded"&&x.jsx(e.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:a,children:n.suggestion_menu.no_items_title})]})}function rB(t,e,n,o=3){const i=S.useRef(0);S.useEffect(()=>{e!==void 0&&(t.length>0?i.current=e.length:e.length-i.current>o&&n())},[n,o,t.length,e])}function sB(t,e){const[n,o]=S.useState([]),[i,r]=S.useState(!1),s=S.useRef(),a=S.useRef();return S.useEffect(()=>{const u=t;s.current=t,r(!0),e(t).then(d=>{s.current===u&&(o(d),r(!1),a.current=u)})},[t,e]),{items:n||[],usedQuery:a.current,loadingState:a.current===void 0?"loading-initial":i?"loading":"loaded"}}function ate(t,e,n,o,i){const[r,s]=S.useState(0),a=o!==void 0&&o>1;return S.useEffect(()=>{var u;const d=h=>(h.key==="ArrowLeft"&&(h.preventDefault(),n.length&&s((r-1+n.length)%n.length)),h.key==="ArrowRight"&&(h.preventDefault(),n.length&&s((r+1+n.length)%n.length)),h.key==="ArrowUp"?(h.preventDefault(),n.length&&s((r-o+n.length)%n.length),!0):h.key==="ArrowDown"?(h.preventDefault(),n.length&&s((r+o)%n.length),!0):h.key==="Enter"&&!h.isComposing?(h.preventDefault(),n.length&&(i==null||i(n[r])),!0):!1);return(u=t.domElement)==null||u.addEventListener("keydown",d,!0),()=>{var h;(h=t.domElement)==null||h.removeEventListener("keydown",d,!0)}},[t.domElement,n,r,i,o,a]),S.useEffect(()=>{s(0)},[e]),{selectedIndex:n.length===0?void 0:r}}function cte(t){const e=br().setContentEditableProps,n=De(),{getItems:o,gridSuggestionMenuComponent:i,query:r,clearQuery:s,closeMenu:a,onItemClick:u,columns:d}=t,h=S.useCallback(k=>{a(),s(),u==null||u(k)},[u,a,s]),{items:p,usedQuery:g,loadingState:b}=sB(r,o);rB(p,g,a);const{selectedIndex:v}=ate(n,r,p,d,h);return S.useEffect(()=>(e(k=>({...k,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(k=>({...k,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),S.useEffect(()=>(e(k=>({...k,"aria-activedescendant":v?"bn-suggestion-menu-item-"+v:void 0})),()=>{e(k=>({...k,"aria-activedescendant":void 0}))}),[e,v]),x.jsx(i,{items:p,onItemClick:h,loadingState:b,selectedIndex:v,columns:d})}function ute(t){const e=De(),{triggerCharacter:n,gridSuggestionMenuComponent:o,columns:i,minQueryLength:r,onItemClick:s,getItems:a,floatingOptions:u}=t,d=S.useMemo(()=>s||(M=>{M.onItemClick(e)}),[e,s]),h=S.useMemo(()=>a||(async M=>await ste(e,M)),[e,a]),p={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},g=S.useCallback(M=>e.suggestionMenus.onUpdate(n,M),[e.suggestionMenus,n]),b=us(g),{isMounted:v,ref:k,style:C,getFloatingProps:_}=xl((b==null?void 0:b.show)||!1,(b==null?void 0:b.referencePos)||null,2e3,{placement:"bottom-start",middleware:[gr(10),Ri(),Bb({apply({availableHeight:M,elements:A}){Object.assign(A.floating.style,{maxHeight:`${M-10}px`})}})],onOpenChange(M){M||e.suggestionMenus.closeMenu()},...u});return!v||!b||!(b!=null&&b.ignoreQueryLength)&&r&&(b.query.startsWith(" ")||b.query.length<r)?null:x.jsx("div",{ref:k,style:C,..._(),children:x.jsx(cte,{query:b.query,closeMenu:p.closeMenu,clearQuery:p.clearQuery,getItems:h,columns:i,gridSuggestionMenuComponent:o||lte,onItemClick:d})})}function dte(t){const e=Re(),n=Ze(),{items:o,loadingState:i,selectedIndex:r,onItemClick:s}=t,a=i==="loading-initial"||i==="loading"?x.jsx(e.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader",children:n.suggestion_menu.loading}):null,u=S.useMemo(()=>{let d;const h=[];for(let p=0;p<o.length;p++){const g=o[p];g.group!==d&&(d=g.group,h.push(x.jsx(e.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:d},d))),h.push(x.jsx(e.SuggestionMenu.Item,{className:"bn-suggestion-menu-item",item:g,id:`bn-suggestion-menu-item-${p}`,isSelected:p===r,onClick:()=>s==null?void 0:s(g)},g.title))}return h},[e,o,s,r]);return x.jsxs(e.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[u,u.length===0&&(t.loadingState==="loading"||t.loadingState==="loaded")&&x.jsx(e.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),a]})}function fte(t,e,n,o){const[i,r]=S.useState(0);return S.useEffect(()=>{var s;const a=u=>u.key==="ArrowUp"?(u.preventDefault(),n.length&&r((i-1+n.length)%n.length),!0):u.key==="ArrowDown"?(u.preventDefault(),n.length&&r((i+1)%n.length),!0):u.key==="Enter"&&!u.isComposing?(u.preventDefault(),u.stopPropagation(),n.length&&(o==null||o(n[i])),!0):!1;return(s=t.domElement)==null||s.addEventListener("keydown",a,!0),()=>{var u;(u=t.domElement)==null||u.removeEventListener("keydown",a,!0)}},[t.domElement,n,i,o]),S.useEffect(()=>{r(0)},[e]),{selectedIndex:n.length===0?void 0:i}}function hte(t){const e=br().setContentEditableProps,n=De(),{getItems:o,suggestionMenuComponent:i,query:r,clearQuery:s,closeMenu:a,onItemClick:u}=t,d=S.useCallback(v=>{a(),s(),u==null||u(v)},[u,a,s]),{items:h,usedQuery:p,loadingState:g}=sB(r,o);rB(h,p,a);const{selectedIndex:b}=fte(n,r,h,d);return S.useEffect(()=>(e(v=>({...v,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(v=>({...v,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),S.useEffect(()=>(e(v=>({...v,"aria-activedescendant":b?"bn-suggestion-menu-item-"+b:void 0})),()=>{e(v=>({...v,"aria-activedescendant":void 0}))}),[e,b]),x.jsx(i,{items:h,onItemClick:d,loadingState:g,selectedIndex:b})}const pte={heading:$5,heading_2:U5,heading_3:F5,quote:Y5,numbered_list:K5,bullet_list:Z5,check_list:G5,paragraph:kC,table:eee,image:W5,video:nee,audio:X5,file:wC,emoji:hee,code_block:GQ};function lB(t){return wY(t).map(e=>{const n=pte[e.key];return{...e,icon:x.jsx(n,{size:18})}})}function aB(t){const e=De(),{triggerCharacter:n,suggestionMenuComponent:o,minQueryLength:i,onItemClick:r,getItems:s,floatingOptions:a}=t,u=S.useMemo(()=>r||(_=>{_.onItemClick(e)}),[e,r]),d=S.useMemo(()=>s||(async _=>jL(lB(e),_)),[e,s]),h={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},p=S.useCallback(_=>e.suggestionMenus.onUpdate(n,_),[e.suggestionMenus,n]),g=us(p),{isMounted:b,ref:v,style:k,getFloatingProps:C}=xl((g==null?void 0:g.show)||!1,(g==null?void 0:g.referencePos)||null,2e3,{placement:"bottom-start",middleware:[gr(10),Ri({mainAxis:!0,crossAxis:!1}),Na(),Bb({apply({availableHeight:_,elements:M}){Object.assign(M.floating.style,{maxHeight:`${_-10}px`})}})],onOpenChange(_){_||e.suggestionMenus.closeMenu()},...a});return!b||!g||!(g!=null&&g.ignoreQueryLength)&&i&&(g.query.startsWith(" ")||g.query.length<i)?null:x.jsx("div",{ref:v,style:k,...C(),children:x.jsx(hte,{query:g.query,closeMenu:h.closeMenu,clearQuery:h.clearQuery,getItems:d,suggestionMenuComponent:o||dte,onItemClick:u})})}const mte=(t,e=.3)=>{const n=Math.floor(t)+e,o=Math.ceil(t)-e;return t>=n&&t<=o?Math.round(t):t<n?Math.floor(t):Math.ceil(t)},gte=t=>{const e=Re(),n=S.useRef(!1),[o,i]=S.useState(),r=S.useCallback(a=>{t.onMouseDown(),i({originalContent:t.block.content,originalCroppedContent:{rows:t.editor.tableHandles.cropEmptyRowsOrColumns(t.block,t.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:t.orientation==="addOrRemoveColumns"?a.clientX:a.clientY}),n.current=!1,a.preventDefault()},[t]),s=S.useCallback(()=>{n.current||t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns(t.block,"columns",1):t.editor.tableHandles.addRowsOrColumns(t.block,"rows",1)}})},[t.block,t.orientation,t.editor]);return S.useEffect(()=>{const a=u=>{var d,h;if(!o)throw new Error("editingState is undefined");n.current=!0;const p=(t.orientation==="addOrRemoveColumns"?u.clientX:u.clientY)-o.startPos,g=t.orientation==="addOrRemoveColumns"?((d=o.originalCroppedContent.rows[0])==null?void 0:d.cells.length)??0:o.originalCroppedContent.rows.length,b=t.orientation==="addOrRemoveColumns"?((h=o.originalContent.rows[0])==null?void 0:h.cells.length)??0:o.originalContent.rows.length,v=t.orientation==="addOrRemoveColumns"?t.block.content.rows[0].cells.length:t.block.content.rows.length,k=b+mte(p/(t.orientation==="addOrRemoveColumns"?Jx:oY),.3);k>=g&&k>0&&k!==v&&(t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"columns",k-g):t.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"rows",k-g)}}),t.block.content&&t.editor.setTextCursorPosition(t.block))};return o&&window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a)}},[o,t.block,t.editor,t.orientation]),S.useEffect(()=>{const a=t.onMouseUp,u=()=>{i(void 0),a()};return o&&window.addEventListener("mouseup",u),()=>{window.removeEventListener("mouseup",u)}},[o,t.onMouseUp]),x.jsx(e.TableHandle.ExtendButton,{className:nn("bn-extend-button",t.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",o!==null?"bn-extend-button-editing":""),onClick:s,onMouseDown:r,children:t.children||x.jsx(see,{size:18,"data-test":"extendButton"})})},FO=t=>{const e=Re(),n=Ze(),o=De().tableHandles;return o?x.jsx(e.Generic.Menu.Item,{onClick:()=>{o.addRowOrColumn(t.index,t.orientation==="row"?{orientation:"row",side:t.side}:{orientation:"column",side:t.side})},children:n.table_handle[`add_${t.side}_menuitem`]}):null},bte=t=>{const e=Re(),n=Ze(),o=De().tableHandles;return o?x.jsx(e.Generic.Menu.Item,{onClick:()=>{o.removeRowOrColumn(t.index,t.orientation)},children:t.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},yte=t=>{const e=Re(),n=Ze(),o=De(),i=o.tableHandles,r=S.useMemo(()=>!i||!t.block?[]:t.orientation==="row"?i.getCellsAtRowHandle(t.block,t.index):i.getCellsAtColumnHandle(t.block,t.index),[t.block,t.index,t.orientation,i]),s=(u,d)=>{const h=t.block.content.rows.map(p=>({...p,cells:p.cells.map(g=>fl(g))}));r.forEach(({row:p,col:g})=>{d==="text"?h[p].cells[g].props.textColor=u:h[p].cells[g].props.backgroundColor=u}),o.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:h}}),o.setTextCursorPosition(t.block)};if(!r||!r[0]||!i||o.settings.tables.cellTextColor===!1&&o.settings.tables.cellBackgroundColor===!1)return null;const a=fl(r[0].cell);return x.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[x.jsx(e.Generic.Menu.Trigger,{sub:!0,children:x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||n.drag_handle.colors_menuitem})}),x.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:x.jsx(Hb,{iconSize:18,text:o.settings.tables.cellTextColor?{color:r.every(({cell:u})=>hl(u)&&u.props.textColor===a.props.textColor)?a.props.textColor:"default",setColor:u=>{s(u,"text")}}:void 0,background:o.settings.tables.cellBackgroundColor?{color:r.every(({cell:u})=>hl(u)&&u.props.backgroundColor===a.props.backgroundColor)?a.props.backgroundColor:"default",setColor:u=>s(u,"background")}:void 0})})]})},vte=t=>{const e=Re(),n=Ze(),o=De();if(!o.tableHandles||t.index!==0||t.orientation!=="row"||!o.settings.tables.headers)return null;const i=!!t.block.content.headerRows;return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const r=o.getBlock(t.block.id);r&&o.updateBlock(r,{...r,content:{...r.content,headerRows:i?void 0:1}})},children:n.drag_handle.header_row_menuitem})},wte=t=>{const e=Re(),n=Ze(),o=De();if(!o.tableHandles||t.index!==0||t.orientation!=="column"||!o.settings.tables.headers)return null;const i=!!t.block.content.headerCols;return x.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const r=o.getBlock(t.block.id);r&&o.updateBlock(r,{...r,content:{...r.content,headerCols:i?void 0:1}})},children:n.drag_handle.header_column_menuitem})},kte=t=>{const e=Re();return x.jsx(e.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:t.children||x.jsxs(x.Fragment,{children:[x.jsx(bte,{orientation:t.orientation,block:t.block,index:t.index}),x.jsx(FO,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"above":"left"}),x.jsx(FO,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"below":"right"}),x.jsx(vte,{orientation:t.orientation,block:t.block,index:t.index}),x.jsx(wte,{orientation:t.orientation,block:t.block,index:t.index}),x.jsx(yte,{orientation:t.orientation,block:t.block,index:t.index})]})})},xte=t=>{const e=Re(),[n,o]=S.useState(!1),i=t.tableHandleMenu||kte,r=S.useMemo(()=>{const s=t.editor.tableHandles;return!s||!t.block?!1:t.orientation==="column"?s.getCellsAtColumnHandle(t.block,t.index).every(({cell:a})=>Sa(a)===1):s.getCellsAtRowHandle(t.block,t.index).every(({cell:a})=>If(a)===1)},[t.block,t.editor.tableHandles,t.index,t.orientation]);return x.jsxs(e.Generic.Menu.Root,{onOpenChange:s=>{s?(t.freezeHandles(),t.hideOtherSide()):(t.unfreezeHandles(),t.showOtherSide(),t.editor.focus())},position:"right",children:[x.jsx(e.Generic.Menu.Trigger,{children:x.jsx(e.TableHandle.Root,{className:nn("bn-table-handle",n?"bn-table-handle-dragging":"",r?"":"bn-table-handle-not-draggable"),draggable:r,onDragStart:s=>{o(!0),t.dragStart(s)},onDragEnd:()=>{t.dragEnd(),o(!1)},style:t.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:t.children||x.jsx(iB,{size:24,"data-test":"tableHandle"})})}),Oi.createPortal(x.jsx(i,{orientation:t.orientation,block:t.block,index:t.index}),t.menuContainer)]})};function qO(t,e,n){const{refs:o,update:i,context:r,floatingStyles:s}=bu({open:e,placement:t==="addOrRemoveColumns"?"right":"bottom",middleware:[Bb({apply({rects:d,elements:h}){Object.assign(h.floating.style,t==="addOrRemoveColumns"?{height:`${d.reference.height}px`}:{width:`${d.reference.width}px`})}})]}),{isMounted:a,styles:u}=mC(r);return S.useEffect(()=>{i()},[n,i]),S.useEffect(()=>{n!==null&&o.setReference({getBoundingClientRect:()=>n})},[t,n,o]),S.useMemo(()=>({isMounted:a,ref:o.setFloating,style:{display:"flex",...u,...s}}),[s,a,o.setFloating,u])}function Cte(t,e,n){const o=qO("addOrRemoveRows",e,n),i=qO("addOrRemoveColumns",t,n);return S.useMemo(()=>({addOrRemoveRowsButton:o,addOrRemoveColumnsButton:i}),[i,o])}function Ste(t,e,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(e.x,n.mousePos,e.width,0):new DOMRect(e.x,t.y,e.width,t.height)}function _te(t,e,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,e.y,0,e.height):new DOMRect(t.x,e.y,t.width,e.height)}function Ete(t){return new DOMRect(t.x,t.y,t.width,0)}function Ov(t,e,n,o,i){const{refs:r,update:s,context:a,floatingStyles:u}=bu({open:e,placement:t==="row"?"left":t==="col"?"top":"bottom-end",middleware:[gr(t==="row"?-10:t==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:d,styles:h}=mC(a);return S.useEffect(()=>{s()},[n,o,s]),S.useEffect(()=>{n===null||o===null||i&&t==="cell"||r.setReference({getBoundingClientRect:()=>(t==="row"?Ste:t==="col"?_te:Ete)(n,o,i)})},[i,t,n,o,r]),S.useMemo(()=>({isMounted:d,ref:r.setFloating,style:{display:"flex",...h,...u}}),[u,d,r.setFloating,h])}function Mte(t,e,n,o){const i=Ov("row",t,e,n,o),r=Ov("col",t,e,n,o),s=Ov("cell",t,e,n,o);return S.useMemo(()=>({rowHandle:i,colHandle:r,cellHandle:s}),[r,i,s])}const Tte=t=>{var e,n;const o=Re(),i=Ze(),r=De(),s=(u,d)=>{const h=t.block.content.rows.map(p=>({...p,cells:p.cells.map(g=>fl(g))}));d==="text"?h[t.rowIndex].cells[t.colIndex].props.textColor=u:h[t.rowIndex].cells[t.colIndex].props.backgroundColor=u,r.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:h}}),r.setTextCursorPosition(t.block)},a=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!a||r.settings.tables.cellTextColor===!1&&r.settings.tables.cellBackgroundColor===!1?null:x.jsxs(o.Generic.Menu.Root,{position:"right",sub:!0,children:[x.jsx(o.Generic.Menu.Trigger,{sub:!0,children:x.jsx(o.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||i.drag_handle.colors_menuitem})}),x.jsx(o.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:x.jsx(Hb,{iconSize:18,text:r.settings.tables.cellTextColor?{color:hl(a)?a.props.textColor:"default",setColor:u=>s(u,"text")}:void 0,background:r.settings.tables.cellBackgroundColor?{color:hl(a)?a.props.backgroundColor:"default",setColor:u=>s(u,"background")}:void 0})})]})},Ate=t=>{var e,n;const o=Re(),i=Ze(),r=De(),s=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!s||!hl(s)||If(s)===1&&Sa(s)===1||!r.settings.tables.splitCells?null:x.jsx(o.Generic.Menu.Item,{onClick:()=>{var a;(a=r.tableHandles)==null||a.splitCell({row:t.rowIndex,col:t.colIndex})},children:i.table_handle.split_cell_menuitem})},Ote=t=>{const e=Re();return x.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||x.jsxs(x.Fragment,{children:[x.jsx(Ate,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),x.jsx(Tte,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex})]})})},Rte=t=>{const e=Re(),n=t.tableCellMenu||Ote;return!t.editor.settings.tables.splitCells&&!t.editor.settings.tables.cellBackgroundColor&&!t.editor.settings.tables.cellTextColor?null:x.jsxs(e.Generic.Menu.Root,{onOpenChange:o=>{o?t.freezeHandles():(t.unfreezeHandles(),t.editor.focus())},position:"right",children:[x.jsx(e.Generic.Menu.Trigger,{children:x.jsx(e.Generic.Menu.Button,{className:"bn-table-cell-handle",children:t.children||x.jsx(Xee,{size:12,"data-test":"tableCellHandle"})})}),Oi.createPortal(x.jsx(n,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),t.menuContainer)]})},Nte=t=>{var e,n;const o=De(),[i,r]=S.useState(null);if(!o.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const s={rowDragStart:o.tableHandles.rowDragStart,colDragStart:o.tableHandles.colDragStart,dragEnd:o.tableHandles.dragEnd,freezeHandles:o.tableHandles.freezeHandles,unfreezeHandles:o.tableHandles.unfreezeHandles},{freezeHandles:a,unfreezeHandles:u}=s,d=S.useCallback(()=>{a(),R(!0),A(!0)},[a]),h=S.useCallback(()=>{u(),R(!1),A(!1)},[u]),p=us(o.tableHandles.onUpdate.bind(o.tableHandles)),g=S.useMemo(()=>{var Z,oe;return p!=null&&p.draggingState?{draggedCellOrientation:(Z=p==null?void 0:p.draggingState)==null?void 0:Z.draggedCellOrientation,mousePos:(oe=p==null?void 0:p.draggingState)==null?void 0:oe.mousePos}:void 0},[p==null?void 0:p.draggingState,(e=p==null?void 0:p.draggingState)==null?void 0:e.draggedCellOrientation,(n=p==null?void 0:p.draggingState)==null?void 0:n.mousePos]),{rowHandle:b,colHandle:v,cellHandle:k}=Mte((p==null?void 0:p.show)||!1,(p==null?void 0:p.referencePosCell)||null,(p==null?void 0:p.referencePosTable)||null,g),{addOrRemoveColumnsButton:C,addOrRemoveRowsButton:_}=Cte((p==null?void 0:p.showAddOrRemoveColumnsButton)||!1,(p==null?void 0:p.showAddOrRemoveRowsButton)||!1,(p==null?void 0:p.referencePosTable)||null),[M,A]=S.useState(!1),[O,R]=S.useState(!1);if(!p)return null;const j=t.tableHandle||xte,z=t.extendButton||gte,V=t.tableCellHandle||Rte;return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:r}),x.jsxs(tQ,{root:p.widgetContainer,children:[!M&&i&&b.isMounted&&p.rowIndex!==void 0&&x.jsx("div",{ref:b.ref,style:b.style,children:x.jsx(j,{editor:o,orientation:"row",showOtherSide:()=>R(!1),hideOtherSide:()=>R(!0),index:p.rowIndex,block:p.block,dragStart:s.rowDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:i})}),!O&&i&&v.isMounted&&p.colIndex!==void 0&&x.jsx("div",{ref:v.ref,style:v.style,children:x.jsx(j,{editor:o,orientation:"column",showOtherSide:()=>A(!1),hideOtherSide:()=>A(!0),index:p.colIndex,block:p.block,dragStart:s.colDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:i})}),i&&k.isMounted&&p.colIndex!==void 0&&p.rowIndex!==void 0&&x.jsx("div",{ref:k.ref,style:k.style,children:x.jsx(V,{editor:o,block:p.block,rowIndex:p.rowIndex,colIndex:p.colIndex,menuContainer:i,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles})}),x.jsx("div",{ref:_.ref,style:_.style,children:x.jsx(z,{editor:o,orientation:"addOrRemoveRows",block:p.block,onMouseDown:d,onMouseUp:h})}),x.jsx("div",{ref:C.ref,style:C.style,children:x.jsx(z,{editor:o,orientation:"addOrRemoveColumns",block:p.block,onMouseDown:d,onMouseUp:h})})]})]})};function Dte(t){const e=De();if(!e)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return x.jsxs(x.Fragment,{children:[t.formattingToolbar!==!1&&x.jsx(oB,{}),t.linkToolbar!==!1&&x.jsx(Zee,{}),t.slashMenu!==!1&&x.jsx(aB,{triggerCharacter:"/"}),t.emojiPicker!==!1&&x.jsx(ute,{triggerCharacter:":",columns:10,minQueryLength:2}),t.sideMenu!==!1&&x.jsx(rte,{}),e.filePanel&&t.filePanel!==!1&&x.jsx(See,{}),e.tableHandles&&t.tableHandles!==!1&&x.jsx(Nte,{}),e.comments&&t.comments!==!1&&x.jsxs(x.Fragment,{children:[x.jsx(OQ,{}),x.jsx(kee,{})]})]})}const cB=()=>{const t=S.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: dark)")},[]),e=S.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: light)")},[]),n=t==null?void 0:t.matches,o=e==null?void 0:e.matches,[i,r]=S.useState(n?"dark":o?"light":"no-preference");return S.useEffect(()=>{r(n?"dark":o?"light":"no-preference")},[n,o]),S.useEffect(()=>{if(typeof(t==null?void 0:t.addEventListener)=="function"){const s=({matches:u})=>u&&r("dark"),a=({matches:u})=>u&&r("light");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",a),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",a)}}else{const s=()=>r(t.matches?"dark":e.matches?"light":"no-preference");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",s),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",s)}}},[t,e]),i},uB=S.createContext(void 0);function Lte(){return S.useContext(uB)}function Bte(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,o){e={...e,[n]:Oi.createPortal(o.reactElement,o.element,n)},t.forEach(i=>i())},removeRenderer(n){const o={...e};delete o[n],e=o,t.forEach(i=>i())}}}const jte=({contentComponent:t})=>{const e=S.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return x.jsx(x.Fragment,{children:Object.values(e)})},Hte=S.forwardRef((t,e)=>{const[n,o]=S.useState();return S.useImperativeHandle(e,()=>(i,r)=>{Oi.flushSync(()=>{o({node:i,container:r})}),o(void 0)},[]),x.jsx(x.Fragment,{children:n&&Oi.createPortal(n.node,n.container)})}),GO=()=>{};function Ite(t,e){const{editor:n,className:o,theme:i,children:r,editable:s,onSelectionChange:a,onChange:u,formattingToolbar:d,linkToolbar:h,slashMenu:p,emojiPicker:g,sideMenu:b,filePanel:v,tableHandles:k,comments:C,autoFocus:_,renderEditor:M=!n.headless,...A}=t,[O,R]=S.useState(),j=br(),z=cB(),V=(j==null?void 0:j.colorSchemePreference)||z,Z=i||(V==="dark"?"dark":"light");bC(u||GO,n),gC(a||GO,n),S.useEffect(()=>{n.isEditable=s!==!1},[s,n]);const oe=S.useCallback(ve=>{n.elementRenderer=ve},[n]),be=S.useMemo(()=>({...j,editor:n,setContentEditableProps:R}),[j,n]),he={formattingToolbar:d,linkToolbar:h,slashMenu:p,emojiPicker:g,sideMenu:b,filePanel:v,tableHandles:k,comments:C},ye={autoFocus:_,contentEditableProps:O};return x.jsx(H5.Provider,{value:be,children:x.jsxs(uB.Provider,{value:{editorProps:ye,defaultUIProps:he},children:[x.jsx(Hte,{ref:oe}),x.jsx(zte,{className:o,renderEditor:M,editorColorScheme:Z,ref:e,...A,children:r})]})})}const zte=Ve.forwardRef(({className:t,renderEditor:e,editorColorScheme:n,children:o,...i},r)=>x.jsx("div",{className:nn("bn-container",n,t),"data-color-scheme":n,...i,ref:r,children:e?x.jsx(Vte,{children:o}):o})),Pte=Ve.forwardRef(Ite),Vte=t=>{const e=Lte(),n=De(),o=S.useMemo(()=>Bte(),[]),i=S.useCallback(r=>{n.mount(r,o)},[n,o]);return x.jsxs(x.Fragment,{children:[x.jsx(jte,{contentComponent:o}),x.jsx($te,{...e.editorProps,...t,mount:i}),x.jsx(Dte,{...e.defaultUIProps}),t.children]})},$te=t=>{const{autoFocus:e,mount:n,contentEditableProps:o}=t;return x.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":e,ref:n,...o})};function KO(t,e){let n;const o=document.createElement("div");let i;if(e!=null&&e.elementRenderer)e.elementRenderer(t(u=>n=u||void 0),o);else{if(!(e!=null&&e.headless))throw new Error("elementRenderer not available, expected headless editor");i=DN.createRoot(o),Oi.flushSync(()=>{i.render(t(u=>n=u||void 0))})}if(!o.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n==null||n.setAttribute("data-tmp-find","true");const r=o.cloneNode(!0),s=r.firstElementChild,a=r.querySelector("[data-tmp-find]");return a==null||a.removeAttribute("data-tmp-find"),i==null||i.unmount(),{dom:s,contentDOM:a||void 0}}function Rv(t){var e;return x.jsx(wQ,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(t.domAttributes||{}).filter(([n])=>n!=="class")),className:nn("bn-block-content",((e=t.domAttributes)==null?void 0:e.class)||""),"data-content-type":t.blockType,...Object.fromEntries(Object.entries(t.blockProps).filter(([n,o])=>{const i=t.propSchema[n];return!Gx.includes(n)&&o!==i.default}).map(([n,o])=>[Og(n),o])),"data-file-block":t.isFileBlock===!0||void 0,children:t.children})}function Ib(t,e){const n=Eo({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return eh(t.propSchema)},parseHTML(){return cL(t,e.parse)},renderHTML({HTMLAttributes:o}){const i=document.createElement("div");return Hd({dom:i,contentDOM:t.content==="inline"?i:void 0},t.type,{},t.propSchema,t.isFileBlock,o)},addNodeView(){return o=>{const i=_Q(r=>{var s;const a=this.options.editor,u=sL(r.getPos,a,this.editor,t.type),d=((s=this.options.domAttributes)==null?void 0:s.blockContent)||{},h=j5().nodeViewContentRef;if(!h)throw new Error("nodeViewContentRef is not set");const p=e.render;return x.jsx(Rv,{blockType:u.type,blockProps:u.props,propSchema:t.propSchema,isFileBlock:t.isFileBlock,domAttributes:d,children:x.jsx(p,{block:u,editor:a,contentRef:h})})},{className:"bn-react-node-view-renderer"})(o);return t.isSelectable===!1&&aL(i,this.editor),i}}});return Kx(t,{node:n,toInternalHTML:(o,i)=>{var r,s;const a=((r=n.options.domAttributes)==null?void 0:r.blockContent)||{},u=e.render,d=KO(h=>x.jsx(Rv,{blockType:o.type,blockProps:o.props,propSchema:t.propSchema,domAttributes:a,children:x.jsx(u,{block:o,editor:i,contentRef:h})}),i);return(s=d.contentDOM)==null||s.setAttribute("data-editable",""),d},toExternalHTML:(o,i)=>{var r,s;const a=((r=n.options.domAttributes)==null?void 0:r.blockContent)||{},u=e.toExternalHTML||e.render,d=KO(h=>x.jsx(Rv,{blockType:o.type,blockProps:o.props,propSchema:t.propSchema,domAttributes:a,children:x.jsx(u,{block:o,editor:i,contentRef:h})}),i);return(s=d.contentDOM)==null||s.setAttribute("data-editable",""),d}})}function SC(t){const e=De(),[n,o]=S.useState("loading"),[i,r]=S.useState();if(S.useEffect(()=>{let s=!0;return(async()=>{let a="";o("loading");try{a=e.resolveFileUrl?await e.resolveFileUrl(t):t}catch{o("error");return}s&&(o("loaded"),r(a))})(),()=>{s=!1}},[e,t]),n!=="loaded")return{loadingState:n};if(!i)throw new Error("Finished fetching file but did not get download URL.");return{loadingState:n,downloadUrl:i}}const _C=t=>x.jsxs("figure",{children:[t.children,x.jsx("figcaption",{children:t.caption})]});function Ute(t){const e=De();S.useEffect(()=>e.onUploadEnd(t),[t,e])}function Fte(t){const e=De();S.useEffect(()=>e.onUploadStart(t),[t,e])}function dB(t){const[e,n]=S.useState(!1);return Fte(o=>{o===t&&n(!0)}),Ute(o=>{o===t&&n(!1)}),e}const qte=t=>{const e=Ze(),n=S.useCallback(i=>{i.preventDefault()},[]),o=S.useCallback(()=>{t.editor.dispatch(t.editor._tiptapEditor.state.tr.setMeta(t.editor.filePanel.plugin,{block:t.block}))},[t.block,t.editor]);return x.jsxs("div",{className:"bn-add-file-button",onMouseDown:n,onClick:o,children:[x.jsx("div",{className:"bn-add-file-button-icon",children:t.buttonIcon||x.jsx(wC,{size:24})}),x.jsx("div",{className:"bn-add-file-button-text",children:t.buttonText||e.file_blocks.file.add_button_text})]})},Gte=t=>x.jsxs("div",{className:"bn-file-name-with-icon",contentEditable:!1,draggable:!1,children:[x.jsx("div",{className:"bn-file-icon",children:x.jsx(wC,{size:24})}),x.jsx("p",{className:"bn-file-name",children:t.block.props.name})]}),EC=t=>{const e=dB(t.block.id);return x.jsx("div",{className:"bn-file-block-content-wrapper",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:t.style,children:e?x.jsx("div",{className:"bn-file-loading-preview",children:"Loading..."}):t.block.props.url===""?x.jsx(qte,{...t}):x.jsxs(x.Fragment,{children:[t.block.props.showPreview===!1||!t.children?x.jsx(Gte,{...t}):t.children,t.block.props.caption&&x.jsx("p",{className:"bn-file-caption",children:t.block.props.caption})]})})},zb=t=>x.jsxs("div",{children:[t.children,x.jsx("p",{children:t.caption})]}),Kte=t=>{const e=SC(t.block.props.url);return x.jsx("audio",{className:"bn-audio",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},Zte=t=>{if(!t.block.props.url)return x.jsx("p",{children:"Add audio"});const e=t.block.props.showPreview?x.jsx("audio",{src:t.block.props.url}):x.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?x.jsx(_C,{caption:t.block.props.caption,children:e}):x.jsx(zb,{caption:t.block.props.caption,children:e}):e},Yte=t=>x.jsx(EC,{...t,buttonText:t.editor.dictionary.file_blocks.audio.add_button_text,buttonIcon:x.jsx(X5,{size:24}),children:x.jsx(Kte,{...t})});Ib(xL,{render:Yte,parse:CL,toExternalHTML:Zte});const Wte=t=>{if(!t.block.props.url)return x.jsx("p",{children:"Add file"});const e=x.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?x.jsx(zb,{caption:t.block.props.caption,children:e}):e},Xte=t=>x.jsx(EC,{...t});Ib(SL,{render:Xte,parse:_L,toExternalHTML:Wte});const fB=t=>{const[e,n]=S.useState(void 0),[o,i]=S.useState(t.block.props.previewWidth),[r,s]=S.useState(!1),a=S.useRef(null);S.useEffect(()=>{const b=k=>{let C;t.block.props.textAlignment==="center"?e.handleUsed==="left"?C=e.initialWidth+(e.initialClientX-k.clientX)*2:C=e.initialWidth+(k.clientX-e.initialClientX)*2:e.handleUsed==="left"?C=e.initialWidth+e.initialClientX-k.clientX:C=e.initialWidth+k.clientX-e.initialClientX;const _=64;C<_?i(_):i(C)},v=()=>{n(void 0),t.editor.updateBlock(t.block,{props:{previewWidth:o}})};return e&&(window.addEventListener("mousemove",b),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",v)}},[t,e,o]);const u=S.useCallback(()=>{t.editor.isEditable&&s(!0)},[t.editor.isEditable]),d=S.useCallback(()=>{s(!1)},[]),h=S.useCallback(b=>{b.preventDefault(),n({handleUsed:"left",initialWidth:a.current.clientWidth,initialClientX:b.clientX})},[]),p=S.useCallback(b=>{b.preventDefault(),n({handleUsed:"right",initialWidth:a.current.clientWidth,initialClientX:b.clientX})},[]),g=dB(t.block.id);return x.jsx(EC,{...t,onMouseEnter:u,onMouseLeave:d,style:t.block.props.url&&!g&&t.block.props.showPreview?{width:`${o}px`}:void 0,children:x.jsxs("div",{className:"bn-visual-media-wrapper",ref:a,children:[t.children,(r||e)&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"bn-resize-handle",style:{left:"4px"},onMouseDown:h}),x.jsx("div",{className:"bn-resize-handle",style:{right:"4px"},onMouseDown:p})]})]})})},Jte=t=>{const e=SC(t.block.props.url);return x.jsx("img",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,alt:t.block.props.caption||"BlockNote image",contentEditable:!1,draggable:!1})},Qte=t=>{if(!t.block.props.url)return x.jsx("p",{children:"Add image"});const e=t.block.props.showPreview?x.jsx("img",{src:t.block.props.url,alt:t.block.props.name||t.block.props.caption||"BlockNote image",width:t.block.props.previewWidth}):x.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?x.jsx(_C,{caption:t.block.props.caption,children:e}):x.jsx(zb,{caption:t.block.props.caption,children:e}):e},ene=t=>x.jsx(fB,{...t,buttonText:t.editor.dictionary.file_blocks.image.add_button_text,buttonIcon:x.jsx(W5,{size:24}),children:x.jsx(Jte,{...t})});Ib(ML,{render:ene,parse:TL,toExternalHTML:Qte});const tne=t=>{const e=SC(t.block.props.url);return x.jsx("video",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},nne=t=>{if(!t.block.props.url)return x.jsx("p",{children:"Add video"});const e=t.block.props.showPreview?x.jsx("video",{src:t.block.props.url}):x.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?x.jsx(_C,{caption:t.block.props.caption,children:e}):x.jsx(zb,{caption:t.block.props.caption,children:e}):e},one=t=>x.jsx(fB,{...t,buttonText:t.editor.dictionary.file_blocks.video.add_button_text,buttonIcon:x.jsx(ree,{size:24}),children:x.jsx(tne,{...t})});Ib(DL,{render:one,parse:LL,toExternalHTML:nne});Ve.memo(({thread:t,selectedThreadId:e,editor:n,maxCommentsBeforeCollapse:o,referenceText:i})=>{const r=S.useCallback(a=>{var u;a.target.closest(".bn-action-toolbar")||(u=n.comments)==null||u.selectThread(t.id)},[n.comments,t.id]),s=S.useCallback(a=>{var u;if(!a.relatedTarget||a.relatedTarget.closest(".bn-action-toolbar"))return;const d=a.target instanceof Node?a.target:null,h=a.relatedTarget instanceof Node?a.relatedTarget.closest(".bn-thread"):null;(!d||!h||!h.contains(d))&&((u=n.comments)==null||u.selectThread(void 0))},[n.comments]);return x.jsx(J5,{thread:t,selected:t.id===e,referenceText:i,maxCommentsBeforeCollapse:o,onFocus:r,onBlur:s,tabIndex:0})});function hB(t,e){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=n.top<o.top,r=n.bottom>o.bottom;return i&&r?"both":i?"top":r?"bottom":"none"}function pB(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),i,r=[],s;try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)r.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return r}function ine(t,e,n){if(n||arguments.length===2)for(var o=0,i=e.length,r;o<i;o++)(r||!(o in e))&&(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function tr(t){return Object.keys(t)}function Nv(t){return t&&typeof t=="object"&&!Array.isArray(t)}function MC(t,e){const n={...t},o=e;return Nv(t)&&Nv(e)&&Object.keys(e).forEach(i=>{Nv(o[i])&&i in t?n[i]=MC(n[i],o[i]):n[i]=o[i]}),n}function rne(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function sne(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function lne(t){const e=sne(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function Dv(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function mB(t,{shouldScale:e=!1}={}){function n(o){if(o===0||o==="0")return`0${t}`;if(typeof o=="number"){const i=`${o/16}${t}`;return e?Dv(i):i}if(typeof o=="string"){if(o===""||o.startsWith("calc(")||o.startsWith("clamp(")||o.includes("rgba("))return o;if(o.includes(","))return o.split(",").map(r=>n(r)).join(",");if(o.includes(" "))return o.split(" ").map(r=>n(r)).join(" ");if(o.includes(t))return e?Dv(o):o;const i=o.replace("px","");if(!Number.isNaN(Number(i))){const r=`${Number(i)/16}${t}`;return e?Dv(r):r}}return o}return n}const ae=mB("rem",{shouldScale:!0}),ZO=mB("em");function Pb(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function gB(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(o=>e.test(o))}return!1}function sh(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==S.Fragment:!1}function Vb(t){const e=S.createContext(null);return[({children:i,value:r})=>x.jsx(e.Provider,{value:r,children:i}),()=>{const i=S.useContext(e);if(i===null)throw new Error(t);return i}]}function TC(t=null){const e=S.createContext(t);return[({children:i,value:r})=>x.jsx(e.Provider,{value:r,children:i}),()=>S.useContext(e)]}function YO(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function Ig(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function ane(t,e,n){for(let o=t-1;o>=0;o-=1)if(!e[o].disabled)return o;if(n){for(let o=e.length-1;o>-1;o-=1)if(!e[o].disabled)return o}return t}function cne(t,e,n){for(let o=t+1;o<e.length;o+=1)if(!e[o].disabled)return o;if(n){for(let o=0;o<e.length;o+=1)if(!e[o].disabled)return o}return t}function une(t,e,n){return Ig(t,n)===Ig(e,n)}function bB({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:o=!0,activateOnFocus:i=!1,dir:r="rtl",orientation:s}){return a=>{var v;n==null||n(a);const u=Array.from(((v=Ig(a.currentTarget,t))==null?void 0:v.querySelectorAll(e))||[]).filter(k=>une(a.currentTarget,k,t)),d=u.findIndex(k=>a.currentTarget===k),h=cne(d,u,o),p=ane(d,u,o),g=r==="rtl"?p:h,b=r==="rtl"?h:p;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[g].focus(),i&&u[g].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[b].focus(),i&&u[b].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[p].focus(),i&&u[p].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const k=u.length-1;!u[k].disabled&&u[k].focus();break}}}}const dne={app:100,modal:200,popover:300,overlay:400,max:9999};function lh(t){return dne[t]}const fne=()=>{};function hne(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||fne:n=>{var o;n.key==="Escape"&&(t(n),(o=e.onTrigger)==null||o.call(e))}}function It(t,e="size",n=!0){if(t!==void 0)return gB(t)?n?ae(t):t:`var(--${e}-${t})`}function ah(t){return It(t,"mantine-spacing")}function Kn(t){return t===void 0?"var(--mantine-radius-default)":It(t,"mantine-radius")}function Co(t){return It(t,"mantine-font-size")}function pne(t){return It(t,"mantine-line-height",!1)}function yB(t){if(t)return It(t,"mantine-shadow",!1)}function Xi(t,e){return n=>{t==null||t(n),e==null||e(n)}}function mne(t,e,n){var o;return n?Array.from(((o=Ig(n,e))==null?void 0:o.querySelectorAll(t))||[]).findIndex(i=>i===n):null}function gne(){const[t,e]=S.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function bne(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}const WO=["mousedown","touchstart"];function yne(t,e,n){const o=S.useRef(null);return S.useEffect(()=>{const i=r=>{const{target:s}=r??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(d=>!!d&&!r.composedPath().includes(d))&&!a&&t()}else o.current&&!o.current.contains(s)&&t()};return(e||WO).forEach(r=>document.addEventListener(r,i)),()=>{(e||WO).forEach(r=>document.removeEventListener(r,i))}},[o,t,n]),o}function vne(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function wne(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function kne(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[o,i]=S.useState(n?e:wne(t)),r=S.useRef(null);return S.useEffect(()=>{if("matchMedia"in window)return r.current=window.matchMedia(t),i(r.current.matches),vne(r.current,s=>i(s.matches))},[t]),o}const $b=typeof document<"u"?S.useLayoutEffect:S.useEffect;function ml(t,e){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function xne({opened:t,shouldReturnFocus:e=!0}){const n=S.useRef(null),o=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return ml(()=>{let i=-1;const r=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",r),t?n.current=document.activeElement:e&&(i=window.setTimeout(o,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",r)}},[t,e]),o}const Cne=/input|select|textarea|button|object/,vB="a, input, select, textarea, button, object, [tabindex]";function Sne(t){return t.style.display==="none"}function _ne(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(Sne(n))return!1;n=n.parentNode}return!0}function wB(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function yk(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(wB(t));return(Cne.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&_ne(t)}function kB(t){const e=wB(t);return(Number.isNaN(e)||e>=0)&&yk(t)}function Ene(t){return Array.from(t.querySelectorAll(vB)).filter(kB)}function Mne(t,e){const n=Ene(t);if(!n.length){e.preventDefault();return}const o=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let r=o===i.activeElement||t===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(r=n.filter(h=>h.getAttribute("type")==="radio"&&h.getAttribute("name")===s.getAttribute("name")).includes(o)),!r)return;e.preventDefault();const u=n[e.shiftKey?n.length-1:0];u&&u.focus()}function xB(t=!0){const e=S.useRef(null),n=i=>{let r=i.querySelector("[data-autofocus]");if(!r){const s=Array.from(i.querySelectorAll(vB));r=s.find(kB)||s.find(yk)||null,!r&&yk(i)&&(r=i)}r&&r.focus({preventScroll:!0})},o=S.useCallback(i=>{t&&i!==null&&e.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),e.current=i):e.current=null)},[t]);return S.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const i=r=>{r.key==="Tab"&&e.current&&Mne(e.current,r)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t]),o}const Tne=Ve.useId||(()=>{});function Ane(){const t=Tne();return t?`mantine-${t.replace(/:/g,"")}`:""}function ch(t){const e=Ane(),[n,o]=S.useState(e);return $b(()=>{o(bne())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function zg(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function uh(...t){const e=new Map;return n=>{if(t.forEach(o=>{const i=zg(o,n);i&&e.set(o,i)}),e.size>0)return()=>{t.forEach(o=>{const i=e.get(o);i?i():zg(o,null)}),e.clear()}}}function ds(...t){return S.useCallback(uh(...t),t)}function yu({value:t,defaultValue:e,finalValue:n,onChange:o=()=>{}}){const[i,r]=S.useState(e!==void 0?e:n),s=(a,...u)=>{r(a),o==null||o(a,...u)};return t!==void 0?[t,o,!0]:[i,s,!1]}function One(t,e){return kne("(prefers-reduced-motion: reduce)",t,e)}function Rne(){const[t,e]=S.useState(!1),n=S.useRef(null),o=S.useCallback(()=>e(!0),[]),i=S.useCallback(()=>e(!1),[]);return S.useEffect(()=>{const r=n.current;if(r)return r.addEventListener("mouseenter",o),r.addEventListener("mouseleave",i),()=>{r==null||r.removeEventListener("mouseenter",o),r==null||r.removeEventListener("mouseleave",i)}},[n.current]),{ref:n,hovered:t}}function Nne(t){return t.currentTarget instanceof HTMLElement&&t.relatedTarget instanceof HTMLElement?t.currentTarget.contains(t.relatedTarget):!1}function CB({onBlur:t,onFocus:e}={}){const n=S.useRef(null),[o,i]=S.useState(!1),r=S.useRef(!1),s=d=>{i(d),r.current=d},a=d=>{r.current||(s(!0),e==null||e(d))},u=d=>{r.current&&!Nne(d)&&(s(!1),t==null||t(d))};return S.useEffect(()=>{const d=n.current;if(d)return d.addEventListener("focusin",a),d.addEventListener("focusout",u),()=>{d==null||d.removeEventListener("focusin",a),d==null||d.removeEventListener("focusout",u)}},[a,u]),{ref:n,focused:o}}function AC(t){var n;const e=Ve.version;return typeof Ve.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}function SB(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SB(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function fs(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SB(t))&&(o&&(o+=" "),o+=e);return o}const Dne={};function Lne(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([o,i])=>{e[o]?e[o]=fs(e[o],i):e[o]=i})}),e}function Ub({theme:t,classNames:e,props:n,stylesCtx:o}){const r=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,o):s||Dne);return Lne(r)}function Pg({theme:t,styles:e,props:n,stylesCtx:o}){return(Array.isArray(e)?e:[e]).reduce((r,s)=>typeof s=="function"?{...r,...s(t,n,o)}:{...r,...s},{})}const _B=S.createContext(null);function Sl(){const t=S.useContext(_B);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function Bne(){return Sl().cssVariablesResolver}function jne(){return Sl().classNamesPrefix}function OC(){return Sl().getStyleNonce}function Hne(){return Sl().withStaticClasses}function Ine(){return Sl().headless}function zne(){var t;return(t=Sl().stylesTransform)==null?void 0:t.sx}function Pne(){var t;return(t=Sl().stylesTransform)==null?void 0:t.styles}function EB(){return Sl().env||"default"}function Vne(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function $ne(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),o=n>>16&255,i=n>>8&255,r=n&255;return{r:o,g:i,b:r,a:1}}function Une(t){const[e,n,o,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:o,a:i||1}}function Fne(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const o=parseInt(n[1],10),i=parseInt(n[2],10)/100,r=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*r-1))*i,u=o/60,d=a*(1-Math.abs(u%2-1)),h=r-a/2;let p,g,b;return u>=0&&u<1?(p=a,g=d,b=0):u>=1&&u<2?(p=d,g=a,b=0):u>=2&&u<3?(p=0,g=a,b=d):u>=3&&u<4?(p=0,g=d,b=a):u>=4&&u<5?(p=d,g=0,b=a):(p=a,g=0,b=d),{r:Math.round((p+h)*255),g:Math.round((g+h)*255),b:Math.round((b+h)*255),a:s||1}}function RC(t){return Vne(t)?$ne(t):t.startsWith("rgb")?Une(t):t.startsWith("hsl")?Fne(t):{r:0,g:0,b:0,a:1}}function Qp(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:o,b:i,a:r}=RC(t),s=1-e,a=u=>Math.round(u*s);return`rgba(${a(n)}, ${a(o)}, ${a(i)}, ${r})`}function Vf(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function Lv(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function qne(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function Gne(t){if(t.startsWith("oklch("))return(qne(t)||0)/100;const{r:e,g:n,b:o}=RC(t),i=e/255,r=n/255,s=o/255,a=Lv(i),u=Lv(r),d=Lv(s);return .2126*a+.7152*u+.0722*d}function Ad(t,e=.179){return t.startsWith("var(")?!1:Gne(t)>e}function vu({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ad(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ad(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ad(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[o,i]=t.split("."),r=i?Number(i):void 0,s=o in e.colors;if(s){const a=r!==void 0?e.colors[o][r]:e.colors[o][Vf(e,n||"light")];return{color:o,value:a,shade:r,isThemeColor:s,isLight:Ad(a,e.luminanceThreshold),variable:i?`--mantine-color-${o}-${r}`:`--mantine-color-${o}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:Ad(t,e.luminanceThreshold),shade:r,variable:void 0}}function cr(t,e){const n=vu({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function vk(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},o=cr(n.from,e),i=cr(n.to,e);return`linear-gradient(${n.deg}deg, ${o} 0%, ${i} 100%)`}function Gi(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const r=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${r}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:o,b:i}=RC(t);return`rgba(${n}, ${o}, ${i}, ${e})`}const _c=Gi,Kne=({color:t,theme:e,variant:n,gradient:o,autoContrast:i})=>{const r=vu({color:t,theme:e}),s=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const a=s&&r.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return r.isThemeColor?r.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${ae(1)} solid transparent`}:{background:`var(--mantine-color-${r.color}-${r.shade})`,hover:`var(--mantine-color-${r.color}-${r.shade===9?8:r.shade+1})`,color:a,border:`${ae(1)} solid transparent`}:{background:t,hover:Qp(t,.1),color:a,border:`${ae(1)} solid transparent`}}if(n==="light"){if(r.isThemeColor){if(r.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${ae(1)} solid transparent`};const a=e.colors[r.color][r.shade];return{background:Gi(a,.1),hover:Gi(a,.12),color:`var(--mantine-color-${r.color}-${Math.min(r.shade,6)})`,border:`${ae(1)} solid transparent`}}return{background:Gi(t,.1),hover:Gi(t,.12),color:t,border:`${ae(1)} solid transparent`}}if(n==="outline")return r.isThemeColor?r.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${ae(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Gi(e.colors[r.color][r.shade],.05),color:`var(--mantine-color-${r.color}-${r.shade})`,border:`${ae(1)} solid var(--mantine-color-${r.color}-${r.shade})`}:{background:"transparent",hover:Gi(t,.05),color:t,border:`${ae(1)} solid ${t}`};if(n==="subtle"){if(r.isThemeColor){if(r.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${ae(1)} solid transparent`};const a=e.colors[r.color][r.shade];return{background:"transparent",hover:Gi(a,.12),color:`var(--mantine-color-${r.color}-${Math.min(r.shade,6)})`,border:`${ae(1)} solid transparent`}}return{background:"transparent",hover:Gi(t,.12),color:t,border:`${ae(1)} solid transparent`}}return n==="transparent"?r.isThemeColor?r.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${ae(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${r.color}-${Math.min(r.shade,6)})`,border:`${ae(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${ae(1)} solid transparent`}:n==="white"?r.isThemeColor?r.shade===void 0?{background:"var(--mantine-color-white)",hover:Qp(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${ae(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Qp(e.white,.01),color:`var(--mantine-color-${r.color}-${r.shade})`,border:`${ae(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Qp(e.white,.01),color:t,border:`${ae(1)} solid transparent`}:n==="gradient"?{background:vk(o,e),hover:vk(o,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${ae(1)} solid var(--mantine-color-default-border)`}:{}},Zne={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},XO="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",NC={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Zne,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Kne,autoContrast:!1,luminanceThreshold:.3,fontFamily:XO,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:XO,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:ae(34),lineHeight:"1.3"},h2:{fontSize:ae(26),lineHeight:"1.35"},h3:{fontSize:ae(22),lineHeight:"1.4"},h4:{fontSize:ae(18),lineHeight:"1.45"},h5:{fontSize:ae(16),lineHeight:"1.5"},h6:{fontSize:ae(14),lineHeight:"1.5"}}},fontSizes:{xs:ae(12),sm:ae(14),md:ae(16),lg:ae(18),xl:ae(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:ae(2),sm:ae(4),md:ae(8),lg:ae(16),xl:ae(32)},spacing:{xs:ae(10),sm:ae(12),md:ae(16),lg:ae(20),xl:ae(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${ae(1)} ${ae(3)} rgba(0, 0, 0, 0.05), 0 ${ae(1)} ${ae(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${ae(1)} ${ae(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ae(10)} ${ae(15)} ${ae(-5)}, rgba(0, 0, 0, 0.04) 0 ${ae(7)} ${ae(7)} ${ae(-5)}`,md:`0 ${ae(1)} ${ae(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ae(20)} ${ae(25)} ${ae(-5)}, rgba(0, 0, 0, 0.04) 0 ${ae(10)} ${ae(10)} ${ae(-5)}`,lg:`0 ${ae(1)} ${ae(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ae(28)} ${ae(23)} ${ae(-7)}, rgba(0, 0, 0, 0.04) 0 ${ae(12)} ${ae(12)} ${ae(-7)}`,xl:`0 ${ae(1)} ${ae(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ae(36)} ${ae(28)} ${ae(-7)}, rgba(0, 0, 0, 0.04) 0 ${ae(17)} ${ae(17)} ${ae(-7)}`},other:{},components:{}};function JO(t){return t==="auto"||t==="dark"||t==="light"}function Yne({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const o=window.localStorage.getItem(t);return JO(o)?o:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(o){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",o)}},subscribe:n=>{e=o=>{o.storageArea===window.localStorage&&o.key===t&&JO(o.newValue)&&n(o.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const Wne="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",QO="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Bv(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function eR(t){if(!(t.primaryColor in t.colors))throw new Error(Wne);if(typeof t.primaryShade=="object"&&(!Bv(t.primaryShade.dark)||!Bv(t.primaryShade.light)))throw new Error(QO);if(typeof t.primaryShade=="number"&&!Bv(t.primaryShade))throw new Error(QO)}function Xne(t,e){var o;if(!e)return eR(t),t;const n=MC(t,e);return e.fontFamily&&!((o=e.headings)!=null&&o.fontFamily)&&(n.headings.fontFamily=e.fontFamily),eR(n),n}const DC=S.createContext(null),Jne=()=>S.useContext(DC)||NC;function qo(){const t=S.useContext(DC);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function MB({theme:t,children:e,inherit:n=!0}){const o=Jne(),i=S.useMemo(()=>Xne(n?o:NC,t),[t,o,n]);return x.jsx(DC.Provider,{value:i,children:e})}MB.displayName="@mantine/core/MantineThemeProvider";function Qne(){const t=qo(),e=OC(),n=tr(t.breakpoints).reduce((o,i)=>{const r=t.breakpoints[i].includes("px"),s=lne(t.breakpoints[i]),a=r?`${s-.1}px`:ZO(s-.1),u=r?`${s}px`:ZO(s);return`${o}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return x.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function jv(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Od(t,e){return(Array.isArray(t)?t:[t]).reduce((o,i)=>`${i}{${o}}`,e)}function eoe(t,e){const n=jv(t.variables),o=n?Od(e,n):"",i=jv(t.dark),r=jv(t.light),s=i?Od(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,i):"",a=r?Od(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,r):"";return`${o}${s}${a}`}function TB({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&vu({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function tR(t,e){return TB({color:t.colors[t.primaryColor][Vf(t,e)],theme:t,autoContrast:null})}function em({theme:t,color:e,colorScheme:n,name:o=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const a=Vf(t,"light"),u={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-filled)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${a})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${a===9?8:a+1})`,[`--mantine-color-${o}-light`]:_c(t.colors[e][a],.1),[`--mantine-color-${o}-light-hover`]:_c(t.colors[e][a],.12),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${a})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${a})`,[`--mantine-color-${o}-outline-hover`]:_c(t.colors[e][a],.05)};return i?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...u}:u}const r=Vf(t,"dark"),s={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-4)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${r})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${r===9?8:r+1})`,[`--mantine-color-${o}-light`]:_c(t.colors[e][Math.max(0,r-2)],.15),[`--mantine-color-${o}-light-hover`]:_c(t.colors[e][Math.max(0,r-2)],.2),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${Math.max(r-5,0)})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${Math.max(r-4,0)})`,[`--mantine-color-${o}-outline-hover`]:_c(t.colors[e][Math.max(r-4,0)],.05)};return i?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...s}:s}function toe(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Ec(t,e,n){tr(e).forEach(o=>Object.assign(t,{[`--mantine-${n}-${o}`]:e[o]}))}const AB=t=>{const e=Vf(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:ae(t.defaultRadius),o={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":tR(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":tR(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ec(o.variables,t.breakpoints,"breakpoint"),Ec(o.variables,t.spacing,"spacing"),Ec(o.variables,t.fontSizes,"font-size"),Ec(o.variables,t.lineHeights,"line-height"),Ec(o.variables,t.shadows,"shadow"),Ec(o.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((r,s)=>{o.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),tr(t.colors).forEach(r=>{const s=t.colors[r];if(toe(s)){Object.assign(o.light,em({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(o.dark,em({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,u)=>{o.variables[`--mantine-color-${r}-${u}`]=a}),Object.assign(o.light,em({theme:t,color:r,colorScheme:"light",withColorValues:!1})),Object.assign(o.dark,em({theme:t,color:r,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return tr(i).forEach(r=>{o.variables[`--mantine-${r}-font-size`]=i[r].fontSize,o.variables[`--mantine-${r}-line-height`]=i[r].lineHeight,o.variables[`--mantine-${r}-font-weight`]=i[r].fontWeight||t.headings.fontWeight}),o};function noe({theme:t,generator:e}){const n=AB(t),o=e==null?void 0:e(t);return o?MC(n,o):n}const Hv=AB(NC);function ooe(t){const e={variables:{},light:{},dark:{}};return tr(t.variables).forEach(n=>{Hv.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),tr(t.light).forEach(n=>{Hv.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),tr(t.dark).forEach(n=>{Hv.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function ioe(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function OB({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=qo(),o=OC(),i=Bne(),r=noe({theme:n,generator:i}),s=t===":root"&&e,a=s?ooe(r):r,u=eoe(a,t);return u?x.jsx("style",{"data-mantine-styles":!0,nonce:o==null?void 0:o(),dangerouslySetInnerHTML:{__html:`${u}${s?"":ioe(t)}`}}):null}OB.displayName="@mantine/CssVariables";function roe(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Mc(t,e){var i,r;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),o=t!=="auto"?t:n?"dark":"light";(r=e())==null||r.setAttribute("data-mantine-color-scheme",o)}function soe({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:o}){const i=S.useRef(null),[r,s]=S.useState(()=>t.get(e)),a=o||r,u=S.useCallback(h=>{o||(Mc(h,n),s(h),t.set(h))},[t.set,a,o]),d=S.useCallback(()=>{s(e),Mc(e,n),t.clear()},[t.clear,e]);return S.useEffect(()=>(t.subscribe(u),t.unsubscribe),[t.subscribe,t.unsubscribe]),$b(()=>{Mc(t.get(e),n)},[]),S.useEffect(()=>{var p;if(o)return Mc(o,n),()=>{};o===void 0&&Mc(r,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const h=g=>{r==="auto"&&Mc(g.matches?"dark":"light",n)};return(p=i.current)==null||p.addEventListener("change",h),()=>{var g;return(g=i.current)==null?void 0:g.removeEventListener("change",h)}},[r,o]),{colorScheme:a,setColorScheme:u,clearColorScheme:d}}function loe({respectReducedMotion:t,getRootElement:e}){$b(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}roe();function RB({theme:t,children:e,getStyleNonce:n,withStaticClasses:o=!0,withGlobalClasses:i=!0,deduplicateCssVariables:r=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:u="mantine",colorSchemeManager:d=Yne(),defaultColorScheme:h="light",getRootElement:p=()=>document.documentElement,cssVariablesResolver:g,forceColorScheme:b,stylesTransform:v,env:k}){const{colorScheme:C,setColorScheme:_,clearColorScheme:M}=soe({defaultColorScheme:h,forceColorScheme:b,manager:d,getRootElement:p});return loe({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:p}),x.jsx(_B.Provider,{value:{colorScheme:C,setColorScheme:_,clearColorScheme:M,getRootElement:p,classNamesPrefix:u,getStyleNonce:n,cssVariablesResolver:g,cssVariablesSelector:a,withStaticClasses:o,stylesTransform:v,env:k},children:x.jsxs(MB,{theme:t,children:[s&&x.jsx(OB,{cssVariablesSelector:a,deduplicateCssVariables:r}),i&&x.jsx(Qne,{}),e]})})}RB.displayName="@mantine/core/MantineProvider";function Fb({classNames:t,styles:e,props:n,stylesCtx:o}){const i=qo();return{resolvedClassNames:Ub({theme:i,classNames:t,props:n,stylesCtx:o||void 0}),resolvedStyles:Pg({theme:i,styles:e,props:n,stylesCtx:o||void 0})}}const aoe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function coe({theme:t,options:e,unstyled:n}){return fs((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||aoe[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function uoe({selector:t,stylesCtx:e,options:n,props:o,theme:i}){return Ub({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||o,stylesCtx:e})[t]}function nR({selector:t,stylesCtx:e,theme:n,classNames:o,props:i}){return Ub({theme:n,classNames:o,props:i,stylesCtx:e})[t]}function doe({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function foe({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function hoe({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:o}){return o===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function poe({themeName:t,theme:e,selector:n,props:o,stylesCtx:i}){return t.map(r=>{var s,a;return(a=Ub({theme:e,classNames:(s=e.components[r])==null?void 0:s.classNames,props:o,stylesCtx:i}))==null?void 0:a[n]})}function moe({options:t,classes:e,selector:n,unstyled:o}){return t!=null&&t.variant&&!o?e[`${n}--${t.variant}`]:void 0}function goe({theme:t,options:e,themeName:n,selector:o,classNamesPrefix:i,classNames:r,classes:s,unstyled:a,className:u,rootSelector:d,props:h,stylesCtx:p,withStaticClasses:g,headless:b,transformedStyles:v}){return fs(coe({theme:t,options:e,unstyled:a||b}),poe({theme:t,themeName:n,selector:o,props:h,stylesCtx:p}),moe({options:e,classes:s,selector:o,unstyled:a}),nR({selector:o,stylesCtx:p,theme:t,classNames:r,props:h}),nR({selector:o,stylesCtx:p,theme:t,classNames:v,props:h}),uoe({selector:o,stylesCtx:p,options:e,props:h,theme:t}),doe({rootSelector:d,selector:o,className:u}),foe({selector:o,classes:s,unstyled:a||b}),g&&!b&&hoe({themeName:n,classNamesPrefix:i,selector:o,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function boe({theme:t,themeName:e,props:n,stylesCtx:o,selector:i}){return e.map(r=>{var s;return Pg({theme:t,styles:(s=t.components[r])==null?void 0:s.styles,props:n,stylesCtx:o})[i]}).reduce((r,s)=>({...r,...s}),{})}function wk({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...wk({style:o,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function yoe(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(o=>{e[o]={...e[o],...Pb(n[o])}}),e),{})}function voe({vars:t,varsResolver:e,theme:n,props:o,stylesCtx:i,selector:r,themeName:s,headless:a}){var u;return(u=yoe([a?{}:e==null?void 0:e(n,o,i),...s.map(d=>{var h,p,g;return(g=(p=(h=n.components)==null?void 0:h[d])==null?void 0:p.vars)==null?void 0:g.call(p,n,o,i)}),t==null?void 0:t(n,o,i)]))==null?void 0:u[r]}function woe({theme:t,themeName:e,selector:n,options:o,props:i,stylesCtx:r,rootSelector:s,styles:a,style:u,vars:d,varsResolver:h,headless:p,withStylesTransform:g}){return{...!g&&boe({theme:t,themeName:e,props:i,stylesCtx:r,selector:n}),...!g&&Pg({theme:t,styles:a,props:i,stylesCtx:r})[n],...!g&&Pg({theme:t,styles:o==null?void 0:o.styles,props:(o==null?void 0:o.props)||i,stylesCtx:r})[n],...voe({theme:t,props:i,stylesCtx:r,vars:d,varsResolver:h,selector:n,themeName:e,headless:p}),...s===n?wk({style:u,theme:t}):null,...wk({style:o==null?void 0:o.style,theme:t})}}function koe({props:t,stylesCtx:e,themeName:n}){var s;const o=qo(),i=(s=Pne())==null?void 0:s();return{getTransformedStyles:a=>i?[...a.map(d=>i(d,{props:t,theme:o,ctx:e})),...n.map(d=>{var h;return i((h=o.components[d])==null?void 0:h.styles,{props:t,theme:o,ctx:e})})].filter(Boolean):[],withStylesTransform:!!i}}function ct({name:t,classes:e,props:n,stylesCtx:o,className:i,style:r,rootSelector:s="root",unstyled:a,classNames:u,styles:d,vars:h,varsResolver:p}){const g=qo(),b=jne(),v=Hne(),k=Ine(),C=(Array.isArray(t)?t:[t]).filter(A=>A),{withStylesTransform:_,getTransformedStyles:M}=koe({props:n,stylesCtx:o,themeName:C});return(A,O)=>({className:goe({theme:g,options:O,themeName:C,selector:A,classNamesPrefix:b,classNames:u,classes:e,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:o,withStaticClasses:v,headless:k,transformedStyles:M([O==null?void 0:O.styles,d])}),style:woe({theme:g,themeName:C,selector:A,options:O,props:n,stylesCtx:o,rootSelector:s,styles:d,style:r,vars:h,varsResolver:p,headless:k,withStylesTransform:_})})}function xoe(t,e){return typeof t=="boolean"?t:e.autoContrast}function Ee(t,e,n){var s;const o=qo(),i=(s=o.components[t])==null?void 0:s.defaultProps,r=typeof i=="function"?i(o):i;return{...e,...r,...Pb(n)}}function Iv(t){return tr(t).reduce((e,n)=>t[n]!==void 0?`${e}${rne(n)}:${t[n]};`:e,"").trim()}function Coe({selector:t,styles:e,media:n,container:o}){const i=e?Iv(e):"",r=Array.isArray(n)?n.map(a=>`@media${a.query}{${t}{${Iv(a.styles)}}}`):[],s=Array.isArray(o)?o.map(a=>`@container ${a.query}{${t}{${Iv(a.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${r.join("")}${s.join("")}`.trim()}function NB(t){const e=OC();return x.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:Coe(t)}})}function qb(t){const{m:e,mx:n,my:o,mt:i,mb:r,ml:s,mr:a,me:u,ms:d,p:h,px:p,py:g,pt:b,pb:v,pl:k,pr:C,pe:_,ps:M,bd:A,bg:O,c:R,opacity:j,ff:z,fz:V,fw:Z,lts:oe,ta:be,lh:he,fs:ye,tt:ve,td:pe,w:B,miw:P,maw:U,h:ne,mih:N,mah:F,bgsz:ee,bgp:se,bgr:Ce,bga:Be,pos:xe,top:et,left:Ge,bottom:Tt,right:zt,inset:lo,display:L,flex:H,hiddenFrom:X,visibleFrom:ce,lightHidden:le,darkHidden:re,sx:we,...ge}=t;return{styleProps:Pb({m:e,mx:n,my:o,mt:i,mb:r,ml:s,mr:a,me:u,ms:d,p:h,px:p,py:g,pt:b,pb:v,pl:k,pr:C,pe:_,ps:M,bd:A,bg:O,c:R,opacity:j,ff:z,fz:V,fw:Z,lts:oe,ta:be,lh:he,fs:ye,tt:ve,td:pe,w:B,miw:P,maw:U,h:ne,mih:N,mah:F,bgsz:ee,bgp:se,bgr:Ce,bga:Be,pos:xe,top:et,left:Ge,bottom:Tt,right:zt,inset:lo,display:L,flex:H,hiddenFrom:X,visibleFrom:ce,lightHidden:le,darkHidden:re,sx:we}),rest:ge}}const Soe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function LC(t,e){const n=vu({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function _oe(t,e){const n=vu({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:LC(t,e)}function Eoe(t,e){if(typeof t=="number")return ae(t);if(typeof t=="string"){const[n,o,...i]=t.split(" ").filter(s=>s.trim()!=="");let r=`${ae(n)}`;return o&&(r+=` ${o}`),i.length>0&&(r+=` ${LC(i.join(" "),e)}`),r.trim()}return t}const oR={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Moe(t){return typeof t=="string"&&t in oR?oR[t]:t}const Toe=["h1","h2","h3","h4","h5","h6"];function Aoe(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&Toe.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?ae(t):t}function Ooe(t){return t}const Roe=["h1","h2","h3","h4","h5","h6"];function Noe(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&Roe.includes(t)?`var(--mantine-${t}-line-height)`:t}function Doe(t){return typeof t=="number"?ae(t):t}function Loe(t,e){if(typeof t=="number")return ae(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return ae(t);const o=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${o}) * -1)`:`var(${o})`}return t}const zv={color:LC,textColor:_oe,fontSize:Aoe,spacing:Loe,identity:Ooe,size:Doe,lineHeight:Noe,fontFamily:Moe,border:Eoe};function iR(t){return t.replace("(min-width: ","").replace("em)","")}function Boe({media:t,...e}){const o=Object.keys(t).sort((i,r)=>Number(iR(i))-Number(iR(r))).map(i=>({query:i,styles:t[i]}));return{...e,media:o}}function joe(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function Hoe(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function Ioe(t){return typeof t=="object"&&t!==null?tr(t).filter(e=>e!=="base"):[]}function zoe(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function DB({styleProps:t,data:e,theme:n}){return Boe(tr(t).reduce((o,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return o;const r=e[i],s=Array.isArray(r.property)?r.property:[r.property],a=Hoe(t[i]);if(!joe(t[i]))return s.forEach(d=>{o.inlineStyles[d]=zv[r.type](a,n)}),o;o.hasResponsiveStyles=!0;const u=Ioe(t[i]);return s.forEach(d=>{a&&(o.styles[d]=zv[r.type](a,n)),u.forEach(h=>{const p=`(min-width: ${n.breakpoints[h]})`;o.media[p]={...o.media[p],[d]:zv[r.type](zoe(t[i],h),n)}})}),o},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function LB(){return`__m__-${S.useId().replace(/:/g,"")}`}function BB(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...BB(o,e)}),{}):typeof t=="function"?t(e):t??{}}function jB(t){return t.startsWith("data-")?t:`data-${t}`}function Poe(t){return Object.keys(t).reduce((e,n)=>{const o=t[n];return o===void 0||o===""||o===!1||o===null||(e[jB(n)]=t[n]),e},{})}function HB(t){return t?typeof t=="string"?{[jB(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...HB(n)}),{}):Poe(t):null}function kk(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...kk(o,e)}),{}):typeof t=="function"?t(e):t??{}}function Voe({theme:t,style:e,vars:n,styleProps:o}){const i=kk(e,t),r=kk(n,t);return{...i,...r,...o}}const IB=S.forwardRef(({component:t,style:e,__vars:n,className:o,variant:i,mod:r,size:s,hiddenFrom:a,visibleFrom:u,lightHidden:d,darkHidden:h,renderRoot:p,__size:g,...b},v)=>{var V;const k=qo(),C=t||"div",{styleProps:_,rest:M}=qb(b),A=zne(),O=(V=A==null?void 0:A())==null?void 0:V(_.sx),R=LB(),j=DB({styleProps:_,theme:k,data:Soe}),z={ref:v,style:Voe({theme:k,style:e,vars:n,styleProps:j.inlineStyles}),className:fs(o,O,{[R]:j.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":h,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${u}`]:u}),"data-variant":i,"data-size":gB(s)?void 0:s||void 0,size:g,...HB(r),...M};return x.jsxs(x.Fragment,{children:[j.hasResponsiveStyles&&x.jsx(NB,{selector:`.${R}`,styles:j.styles,media:j.media}),typeof p=="function"?p(z):x.jsx(C,{...z})]})});IB.displayName="@mantine/core/Box";const $e=IB;function zB(t){return t}function $oe(t){const e=t;return n=>{const o=S.forwardRef((i,r)=>x.jsx(e,{...n,...i,ref:r}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o}}function dt(t){const e=S.forwardRef(t);return e.extend=zB,e.withProps=n=>{const o=S.forwardRef((i,r)=>x.jsx(e,{...n,...i,ref:r}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e}function so(t){const e=S.forwardRef(t);return e.withProps=n=>{const o=S.forwardRef((i,r)=>x.jsx(e,{...n,...i,ref:r}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e.extend=zB,e}const Uoe=S.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function dh(){return S.useContext(Uoe)}var PB={root:"m_87cf2631"};const Foe={__staticSelector:"UnstyledButton"},Da=so((t,e)=>{const n=Ee("UnstyledButton",Foe,t),{className:o,component:i="button",__staticSelector:r,unstyled:s,classNames:a,styles:u,style:d,...h}=n,p=ct({name:r,props:n,classes:PB,className:o,style:d,classNames:a,styles:u,unstyled:s});return x.jsx($e,{...p("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...h})});Da.classes=PB;Da.displayName="@mantine/core/UnstyledButton";var VB={root:"m_515a97f8"};const qoe={},BC=dt((t,e)=>{const n=Ee("VisuallyHidden",qoe,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,...d}=n,h=ct({name:"VisuallyHidden",classes:VB,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a});return x.jsx($e,{component:"span",ref:e,...h("root"),...d})});BC.classes=VB;BC.displayName="@mantine/core/VisuallyHidden";var $B={root:"m_1b7284a3"};const Goe={},Koe=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:Kn(e),"--paper-shadow":yB(n)}}),jC=so((t,e)=>{const n=Ee("Paper",Goe,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,withBorder:u,vars:d,radius:h,shadow:p,variant:g,mod:b,...v}=n,k=ct({name:"Paper",props:n,classes:$B,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:d,varsResolver:Koe});return x.jsx($e,{ref:e,mod:[{"data-with-border":u},b],...k("root"),variant:g,...v})});jC.classes=$B;jC.displayName="@mantine/core/Paper";function UB(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,o]=e.split("-"),i=n==="right"?"left":"right";return o===void 0?i:`${i}-${o}`}return e}function rR(t,e,n,o){return t==="center"||o==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function sR(t,e,n,o,i){return t==="center"||o==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const Zoe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Yoe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:i,arrowX:r,arrowY:s,dir:a}){const[u,d="center"]=t.split("-"),h={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[Zoe[u]]:o},p=-e/2;return u==="left"?{...h,...rR(d,s,n,i),right:p,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...h,...rR(d,s,n,i),left:p,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...h,...sR(d,r,n,i,a),bottom:p,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...h,...sR(d,r,n,i,a),top:p,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const HC=S.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:i,visible:r,arrowX:s,arrowY:a,style:u,...d},h)=>{const{dir:p}=dh();return r?x.jsx("div",{...d,ref:h,style:{...u,...Yoe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:i,dir:p,arrowX:s,arrowY:a})}}):null});HC.displayName="@mantine/core/FloatingArrow";var FB={root:"m_9814e45f"};const Woe={zIndex:lh("modal")},Xoe=(t,{gradient:e,color:n,backgroundOpacity:o,blur:i,radius:r,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||o!==void 0)&&Gi(n||"#000",o??.6)||void 0,"--overlay-filter":i?`blur(${ae(i)})`:void 0,"--overlay-radius":r===void 0?void 0:Kn(r),"--overlay-z-index":s==null?void 0:s.toString()}}),$f=so((t,e)=>{const n=Ee("Overlay",Woe,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,fixed:d,center:h,children:p,radius:g,zIndex:b,gradient:v,blur:k,color:C,backgroundOpacity:_,mod:M,...A}=n,O=ct({name:"Overlay",props:n,classes:FB,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:Xoe});return x.jsx($e,{ref:e,...O("root"),mod:[{center:h,fixed:d},M],...A,children:p})});$f.classes=FB;$f.displayName="@mantine/core/Overlay";function Pv(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function Joe({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||Pv(n):t;if(e){const o=document.querySelector("[data-mantine-shared-portal-node]");if(o)return o;const i=Pv(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return Pv(n)}const Qoe={},qB=dt((t,e)=>{const{children:n,target:o,reuseTargetNode:i,...r}=Ee("Portal",Qoe,t),[s,a]=S.useState(!1),u=S.useRef(null);return $b(()=>(a(!0),u.current=Joe({target:o,reuseTargetNode:i,...r}),zg(e,u.current),!o&&!i&&u.current&&document.body.appendChild(u.current),()=>{!o&&!i&&u.current&&document.body.removeChild(u.current)}),[o]),!s||!u.current?null:Oi.createPortal(x.jsx(x.Fragment,{children:n}),u.current)});qB.displayName="@mantine/core/Portal";const fh=dt(({withinPortal:t=!0,children:e,...n},o)=>EB()==="test"||!t?x.jsx(x.Fragment,{children:e}):x.jsx(qB,{ref:o,...n,children:e}));fh.displayName="@mantine/core/OptionalPortal";const Rd=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),tm={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Rd("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Rd("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Rd("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Rd("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Rd("top"),common:{transformOrigin:"top right"}}},lR={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function eie({transition:t,state:e,duration:n,timingFunction:o}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:o};return typeof t=="string"?t in tm?{transitionProperty:tm[t].transitionProperty,...i,...tm[t].common,...tm[t][lR[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[lR[e]]}}function tie({duration:t,exitDuration:e,timingFunction:n,mounted:o,onEnter:i,onExit:r,onEntered:s,onExited:a,enterDelay:u,exitDelay:d}){const h=qo(),p=One(),g=h.respectReducedMotion?p:!1,[b,v]=S.useState(g?0:t),[k,C]=S.useState(o?"entered":"exited"),_=S.useRef(-1),M=S.useRef(-1),A=S.useRef(-1),O=j=>{const z=j?i:r,V=j?s:a;window.clearTimeout(_.current);const Z=g?0:j?t:e;v(Z),Z===0?(typeof z=="function"&&z(),typeof V=="function"&&V(),C(j?"entered":"exited")):A.current=requestAnimationFrame(()=>{m5.flushSync(()=>{C(j?"pre-entering":"pre-exiting")}),A.current=requestAnimationFrame(()=>{typeof z=="function"&&z(),C(j?"entering":"exiting"),_.current=window.setTimeout(()=>{typeof V=="function"&&V(),C(j?"entered":"exited")},Z)})})},R=j=>{if(window.clearTimeout(M.current),typeof(j?u:d)!="number"){O(j);return}M.current=window.setTimeout(()=>{O(j)},j?u:d)};return ml(()=>{R(o)},[o]),S.useEffect(()=>()=>{window.clearTimeout(_.current),cancelAnimationFrame(A.current)},[]),{transitionDuration:b,transitionStatus:k,transitionTimingFunction:n||"ease"}}function La({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:o=n,mounted:i,children:r,timingFunction:s="ease",onExit:a,onEntered:u,onEnter:d,onExited:h,enterDelay:p,exitDelay:g}){const b=EB(),{transitionDuration:v,transitionStatus:k,transitionTimingFunction:C}=tie({mounted:i,exitDuration:o,duration:n,timingFunction:s,onExit:a,onEntered:u,onEnter:d,onExited:h,enterDelay:p,exitDelay:g});return v===0||b==="test"?i?x.jsx(x.Fragment,{children:r({})}):t?r({display:"none"}):null:k==="exited"?t?r({display:"none"}):null:x.jsx(x.Fragment,{children:r(eie({transition:e,duration:v,state:k,timingFunction:C}))})}La.displayName="@mantine/core/Transition";const[nie,GB]=Vb("Popover component was not found in the tree");function IC({children:t,active:e=!0,refProp:n="ref",innerRef:o}){const i=xB(e),r=ds(i,o);return sh(t)?S.cloneElement(t,{[n]:r}):t}function KB(t){return x.jsx(BC,{tabIndex:-1,"data-autofocus":!0,...t})}IC.displayName="@mantine/core/FocusTrap";KB.displayName="@mantine/core/FocusTrapInitialFocus";IC.InitialFocus=KB;var ZB={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const oie={},Gb=dt((t,e)=>{var C,_,M,A;const n=Ee("PopoverDropdown",oie,t),{className:o,style:i,vars:r,children:s,onKeyDownCapture:a,variant:u,classNames:d,styles:h,...p}=n,g=GB(),b=xne({opened:g.opened,shouldReturnFocus:g.returnFocus}),v=g.withRoles?{"aria-labelledby":g.getTargetId(),id:g.getDropdownId(),role:"dialog",tabIndex:-1}:{},k=ds(e,g.floating);return g.disabled?null:x.jsx(fh,{...g.portalProps,withinPortal:g.withinPortal,children:x.jsx(La,{mounted:g.opened,...g.transitionProps,transition:((C=g.transitionProps)==null?void 0:C.transition)||"fade",duration:((_=g.transitionProps)==null?void 0:_.duration)??150,keepMounted:g.keepMounted,exitDuration:typeof((M=g.transitionProps)==null?void 0:M.exitDuration)=="number"?g.transitionProps.exitDuration:(A=g.transitionProps)==null?void 0:A.duration,children:O=>x.jsx(IC,{active:g.trapFocus&&g.opened,innerRef:k,children:x.jsxs($e,{...v,...p,variant:u,onKeyDownCapture:hne(()=>{var R,j;(R=g.onClose)==null||R.call(g),(j=g.onDismiss)==null||j.call(g)},{active:g.closeOnEscape,onTrigger:b,onKeyDown:a}),"data-position":g.placement,"data-fixed":g.floatingStrategy==="fixed"||void 0,...g.getStyles("dropdown",{className:o,props:n,classNames:d,styles:h,style:[{...O,zIndex:g.zIndex,top:g.y??0,left:g.x??0,width:g.width==="target"?void 0:ae(g.width)},g.resolvedStyles.dropdown,h==null?void 0:h.dropdown,i]}),children:[s,x.jsx(HC,{ref:g.arrowRef,arrowX:g.arrowX,arrowY:g.arrowY,visible:g.withArrow,position:g.placement,arrowSize:g.arrowSize,arrowRadius:g.arrowRadius,arrowOffset:g.arrowOffset,arrowPosition:g.arrowPosition,...g.getStyles("arrow",{props:n,classNames:d,styles:h})})]})})})})});Gb.classes=ZB;Gb.displayName="@mantine/core/PopoverDropdown";const iie={refProp:"ref",popupType:"dialog"},zC=dt((t,e)=>{const{children:n,refProp:o,popupType:i,...r}=Ee("PopoverTarget",iie,t);if(!sh(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=r,a=GB(),u=ds(a.reference,AC(n),e),d=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return S.cloneElement(n,{...s,...d,...a.targetProps,className:fs(a.targetProps.className,s.className,n.props.className),[o]:u,...a.controlled?null:{onClick:a.onToggle}})});zC.displayName="@mantine/core/PopoverTarget";function YB({opened:t,floating:e,position:n,positionDependencies:o}){const[i,r]=S.useState(0);S.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return TJ(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,n]),ml(()=>{e.update()},o),ml(()=>{r(s=>s+1)},[t])}function rie(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function sie(t,e){const n=rie(t.middlewares),o=[gr(t.offset)];return n.shift&&o.push(Na(typeof n.shift=="boolean"?{limiter:wO(),padding:5}:{limiter:wO(),padding:5,...n.shift})),n.flip&&o.push(typeof n.flip=="boolean"?Ri():Ri(n.flip)),n.inline&&o.push(typeof n.inline=="boolean"?lf():lf(n.inline)),o.push(S5({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&o.push(Bb({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:r,availableHeight:s,...a}){var h;const d=((h=e().refs.floating.current)==null?void 0:h.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:r,availableHeight:s,...a}):Object.assign(d,{maxWidth:`${r}px`,maxHeight:`${s}px`})),t.width==="target"&&Object.assign(d,{width:`${i.reference.width}px`})}})),o}function lie(t){const[e,n]=yu({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),o=S.useRef(e),i=()=>{e&&n(!1)},r=()=>n(!e),s=bu({strategy:t.strategy,placement:t.position,middleware:sie(t,()=>s)});return YB({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:s}),ml(()=>{var a;(a=t.onPositionChange)==null||a.call(t,s.placement)},[s.placement]),ml(()=>{var a,u;e!==o.current&&(e?(u=t.onOpen)==null||u.call(t):(a=t.onClose)==null||a.call(t)),o.current=e},[e,t.onClose,t.onOpen]),{floating:s,controlled:typeof t.opened=="boolean",opened:e,onClose:i,onToggle:r}}const aie={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:lh("popover"),__staticSelector:"Popover",width:"max-content"},cie=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:Kn(e),"--popover-shadow":yB(n)}});function _l(t){var He,Ue,Fe,Ye,mt,un;const e=Ee("Popover",aie,t),{children:n,position:o,offset:i,onPositionChange:r,positionDependencies:s,opened:a,transitionProps:u,onExitTransitionEnd:d,onEnterTransitionEnd:h,width:p,middlewares:g,withArrow:b,arrowSize:v,arrowOffset:k,arrowRadius:C,arrowPosition:_,unstyled:M,classNames:A,styles:O,closeOnClickOutside:R,withinPortal:j,portalProps:z,closeOnEscape:V,clickOutsideEvents:Z,trapFocus:oe,onClose:be,onDismiss:he,onOpen:ye,onChange:ve,zIndex:pe,radius:B,shadow:P,id:U,defaultOpened:ne,__staticSelector:N,withRoles:F,disabled:ee,returnFocus:se,variant:Ce,keepMounted:Be,vars:xe,floatingStrategy:et,withOverlay:Ge,overlayProps:Tt,...zt}=e,lo=ct({name:N,props:e,classes:ZB,classNames:A,styles:O,unstyled:M,rootSelector:"dropdown",vars:xe,varsResolver:cie}),{resolvedStyles:L}=Fb({classNames:A,styles:O,props:e}),H=S.useRef(null),[X,ce]=S.useState(null),[le,re]=S.useState(null),{dir:we}=dh(),ge=ch(U),ue=lie({middlewares:g,width:p,position:UB(we,o),offset:typeof i=="number"?i+(b?v/2:0):i,arrowRef:H,arrowOffset:k,onPositionChange:r,positionDependencies:s,opened:a,defaultOpened:ne,onChange:ve,onOpen:ye,onClose:be,onDismiss:he,strategy:et});yne(()=>{R&&(ue.onClose(),he==null||he())},Z,[X,le]);const de=S.useCallback(Dt=>{ce(Dt),ue.floating.refs.setReference(Dt)},[ue.floating.refs.setReference]),Ne=S.useCallback(Dt=>{re(Dt),ue.floating.refs.setFloating(Dt)},[ue.floating.refs.setFloating]),ke=S.useCallback(()=>{var Dt;(Dt=u==null?void 0:u.onExited)==null||Dt.call(u),d==null||d()},[u==null?void 0:u.onExited,d]),Oe=S.useCallback(()=>{var Dt;(Dt=u==null?void 0:u.onEntered)==null||Dt.call(u),h==null||h()},[u==null?void 0:u.onEntered,h]);return x.jsxs(nie,{value:{returnFocus:se,disabled:ee,controlled:ue.controlled,reference:de,floating:Ne,x:ue.floating.x,y:ue.floating.y,arrowX:(Fe=(Ue=(He=ue.floating)==null?void 0:He.middlewareData)==null?void 0:Ue.arrow)==null?void 0:Fe.x,arrowY:(un=(mt=(Ye=ue.floating)==null?void 0:Ye.middlewareData)==null?void 0:mt.arrow)==null?void 0:un.y,opened:ue.opened,arrowRef:H,transitionProps:{...u,onExited:ke,onEntered:Oe},width:p,withArrow:b,arrowSize:v,arrowOffset:k,arrowRadius:C,arrowPosition:_,placement:ue.floating.placement,trapFocus:oe,withinPortal:j,portalProps:z,zIndex:pe,radius:B,shadow:P,closeOnEscape:V,onDismiss:he,onClose:ue.onClose,onToggle:ue.onToggle,getTargetId:()=>`${ge}-target`,getDropdownId:()=>`${ge}-dropdown`,withRoles:F,targetProps:zt,__staticSelector:N,classNames:A,styles:O,unstyled:M,variant:Ce,keepMounted:Be,getStyles:lo,resolvedStyles:L,floatingStrategy:et},children:[n,Ge&&x.jsx(La,{transition:"fade",mounted:ue.opened,duration:(u==null?void 0:u.duration)||250,exitDuration:(u==null?void 0:u.exitDuration)||250,children:Dt=>x.jsx(fh,{withinPortal:j,children:x.jsx($f,{...Tt,...lo("overlay",{className:Tt==null?void 0:Tt.className,style:[Dt,Tt==null?void 0:Tt.style]})})})})]})}_l.Target=zC;_l.Dropdown=Gb;_l.displayName="@mantine/core/Popover";_l.extend=t=>t;var ki={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const WB=S.forwardRef(({className:t,...e},n)=>x.jsxs($e,{component:"span",className:fs(ki.barsLoader,t),...e,ref:n,children:[x.jsx("span",{className:ki.bar}),x.jsx("span",{className:ki.bar}),x.jsx("span",{className:ki.bar})]}));WB.displayName="@mantine/core/Bars";const XB=S.forwardRef(({className:t,...e},n)=>x.jsxs($e,{component:"span",className:fs(ki.dotsLoader,t),...e,ref:n,children:[x.jsx("span",{className:ki.dot}),x.jsx("span",{className:ki.dot}),x.jsx("span",{className:ki.dot})]}));XB.displayName="@mantine/core/Dots";const JB=S.forwardRef(({className:t,...e},n)=>x.jsx($e,{component:"span",className:fs(ki.ovalLoader,t),...e,ref:n}));JB.displayName="@mantine/core/Oval";const QB={bars:WB,oval:JB,dots:XB},uie={loaders:QB,type:"oval"},die=(t,{size:e,color:n})=>({root:{"--loader-size":It(e,"loader-size"),"--loader-color":n?cr(n,t):void 0}}),El=dt((t,e)=>{const n=Ee("Loader",uie,t),{size:o,color:i,type:r,vars:s,className:a,style:u,classNames:d,styles:h,unstyled:p,loaders:g,variant:b,children:v,...k}=n,C=ct({name:"Loader",props:n,classes:ki,className:a,style:u,classNames:d,styles:h,unstyled:p,vars:s,varsResolver:die});return v?x.jsx($e,{...C("root"),ref:e,...k,children:v}):x.jsx($e,{...C("root"),ref:e,component:g[r],variant:b,size:o,...k})});El.defaultLoaders=QB;El.classes=ki;El.displayName="@mantine/core/Loader";var wu={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const aR={orientation:"horizontal"},fie=(t,{borderWidth:e})=>({group:{"--ai-border-width":ae(e)}}),PC=dt((t,e)=>{const n=Ee("ActionIconGroup",aR,t),{className:o,style:i,classNames:r,styles:s,unstyled:a,orientation:u,vars:d,borderWidth:h,variant:p,mod:g,...b}=Ee("ActionIconGroup",aR,t),v=ct({name:"ActionIconGroup",props:n,classes:wu,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:d,varsResolver:fie,rootSelector:"group"});return x.jsx($e,{...v("group"),ref:e,variant:p,mod:[{"data-orientation":u},g],role:"group",...b})});PC.classes=wu;PC.displayName="@mantine/core/ActionIconGroup";const cR={},hie=(t,{radius:e,color:n,gradient:o,variant:i,autoContrast:r,size:s})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:i||"filled",autoContrast:r});return{groupSection:{"--section-height":It(s,"section-height"),"--section-padding-x":It(s,"section-padding-x"),"--section-fz":Co(s),"--section-radius":e===void 0?void 0:Kn(e),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},VC=dt((t,e)=>{const n=Ee("ActionIconGroupSection",cR,t),{className:o,style:i,classNames:r,styles:s,unstyled:a,vars:u,variant:d,gradient:h,radius:p,autoContrast:g,...b}=Ee("ActionIconGroupSection",cR,t),v=ct({name:"ActionIconGroupSection",props:n,classes:wu,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:hie,rootSelector:"groupSection"});return x.jsx($e,{...v("groupSection"),ref:e,variant:d,...b})});VC.classes=wu;VC.displayName="@mantine/core/ActionIconGroupSection";const pie={},mie=(t,{size:e,radius:n,variant:o,gradient:i,color:r,autoContrast:s})=>{const a=t.variantColorResolver({color:r||t.primaryColor,theme:t,gradient:i,variant:o||"filled",autoContrast:s});return{root:{"--ai-size":It(e,"ai-size"),"--ai-radius":n===void 0?void 0:Kn(n),"--ai-bg":r||o?a.background:void 0,"--ai-hover":r||o?a.hover:void 0,"--ai-hover-color":r||o?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":r||o?a.border:void 0}}},Ba=so((t,e)=>{const n=Ee("ActionIcon",pie,t),{className:o,unstyled:i,variant:r,classNames:s,styles:a,style:u,loading:d,loaderProps:h,size:p,color:g,radius:b,__staticSelector:v,gradient:k,vars:C,children:_,disabled:M,"data-disabled":A,autoContrast:O,mod:R,...j}=n,z=ct({name:["ActionIcon",v],props:n,className:o,style:u,classes:wu,classNames:s,styles:a,unstyled:i,vars:C,varsResolver:mie});return x.jsxs(Da,{...z("root",{active:!M&&!d&&!A}),...j,unstyled:i,variant:r,size:p,disabled:M||d,ref:e,mod:[{loading:d,disabled:M||A},R],children:[x.jsx(La,{mounted:!!d,transition:"slide-down",duration:150,children:V=>x.jsx($e,{component:"span",...z("loader",{style:V}),"aria-hidden":!0,children:x.jsx(El,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...h})})}),x.jsx($e,{component:"span",mod:{loading:d},...z("icon"),children:_})]})});Ba.classes=wu;Ba.displayName="@mantine/core/ActionIcon";Ba.Group=PC;Ba.GroupSection=VC;const ej=S.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},o)=>x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:o,...n,children:x.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));ej.displayName="@mantine/core/CloseIcon";var tj={root:"m_86a44da5","root--subtle":"m_220c80f2"};const gie={variant:"subtle"},bie=(t,{size:e,radius:n,iconSize:o})=>({root:{"--cb-size":It(e,"cb-size"),"--cb-radius":n===void 0?void 0:Kn(n),"--cb-icon-size":ae(o)}}),Kb=so((t,e)=>{const n=Ee("CloseButton",gie,t),{iconSize:o,children:i,vars:r,radius:s,className:a,classNames:u,style:d,styles:h,unstyled:p,"data-disabled":g,disabled:b,variant:v,icon:k,mod:C,__staticSelector:_,...M}=n,A=ct({name:_||"CloseButton",props:n,className:a,style:d,classes:tj,classNames:u,styles:h,unstyled:p,vars:r,varsResolver:bie});return x.jsxs(Da,{ref:e,...M,unstyled:p,variant:v,disabled:b,mod:[{disabled:b||g},C],...A("root",{variant:v,active:!b&&!g}),children:[k||x.jsx(ej,{}),i]})});Kb.classes=tj;Kb.displayName="@mantine/core/CloseButton";function yie(t){return S.Children.toArray(t).filter(Boolean)}var nj={root:"m_4081bf90"};const vie={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},wie=(t,{grow:e,preventGrowOverflow:n,gap:o,align:i,justify:r,wrap:s},{childWidth:a})=>({root:{"--group-child-width":e&&n?a:void 0,"--group-gap":ah(o),"--group-align":i,"--group-justify":r,"--group-wrap":s}}),Rn=dt((t,e)=>{const n=Ee("Group",vie,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,children:u,gap:d,align:h,justify:p,wrap:g,grow:b,preventGrowOverflow:v,vars:k,variant:C,__size:_,mod:M,...A}=n,O=yie(u),R=O.length,j=ah(d??"md"),V={childWidth:`calc(${100/R}% - (${j} - ${j} / ${R}))`},Z=ct({name:"Group",props:n,stylesCtx:V,className:i,style:r,classes:nj,classNames:o,styles:s,unstyled:a,vars:k,varsResolver:wie});return x.jsx($e,{...Z("root"),ref:e,variant:C,mod:[{grow:b},M],size:_,...A,children:O})});Rn.classes=nj;Rn.displayName="@mantine/core/Group";const[kie,xie]=TC({size:"sm"}),Cie={},oj=dt((t,e)=>{const n=Ee("InputClearButton",Cie,t),{size:o,variant:i,vars:r,classNames:s,styles:a,...u}=n,d=xie(),{resolvedClassNames:h,resolvedStyles:p}=Fb({classNames:s,styles:a,props:n});return x.jsx(Kb,{variant:i||"transparent",ref:e,size:o||(d==null?void 0:d.size)||"sm",classNames:h,styles:p,__staticSelector:"InputClearButton",...u})});oj.displayName="@mantine/core/InputClearButton";const[Sie,Zb]=TC({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var hi={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const uR={},_ie=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${Co(e)} - ${ae(2)})`}}),Yb=dt((t,e)=>{const n=Ee("InputDescription",uR,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,size:d,__staticSelector:h,__inheritStyles:p=!0,variant:g,...b}=Ee("InputDescription",uR,n),v=Zb(),k=ct({name:["InputWrapper",h],props:n,classes:hi,className:i,style:r,classNames:o,styles:s,unstyled:a,rootSelector:"description",vars:u,varsResolver:_ie}),C=p&&(v==null?void 0:v.getStyles)||k;return x.jsx($e,{component:"p",ref:e,variant:g,size:d,...C("description",v!=null&&v.getStyles?{className:i,style:r}:void 0),...b})});Yb.classes=hi;Yb.displayName="@mantine/core/InputDescription";const Eie={},Mie=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${Co(e)} - ${ae(2)})`}}),Wb=dt((t,e)=>{const n=Ee("InputError",Eie,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,size:d,__staticSelector:h,__inheritStyles:p=!0,variant:g,...b}=n,v=ct({name:["InputWrapper",h],props:n,classes:hi,className:i,style:r,classNames:o,styles:s,unstyled:a,rootSelector:"error",vars:u,varsResolver:Mie}),k=Zb(),C=p&&(k==null?void 0:k.getStyles)||v;return x.jsx($e,{component:"p",ref:e,variant:g,size:d,...C("error",k!=null&&k.getStyles?{className:i,style:r}:void 0),...b})});Wb.classes=hi;Wb.displayName="@mantine/core/InputError";const dR={labelElement:"label"},Tie=(t,{size:e})=>({label:{"--input-label-size":Co(e),"--input-asterisk-color":void 0}}),Xb=dt((t,e)=>{const n=Ee("InputLabel",dR,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,labelElement:d,size:h,required:p,htmlFor:g,onMouseDown:b,children:v,__staticSelector:k,variant:C,mod:_,...M}=Ee("InputLabel",dR,n),A=ct({name:["InputWrapper",k],props:n,classes:hi,className:i,style:r,classNames:o,styles:s,unstyled:a,rootSelector:"label",vars:u,varsResolver:Tie}),O=Zb(),R=(O==null?void 0:O.getStyles)||A;return x.jsxs($e,{...R("label",O!=null&&O.getStyles?{className:i,style:r}:void 0),component:d,variant:C,size:h,ref:e,htmlFor:d==="label"?g:void 0,mod:[{required:p},_],onMouseDown:j=>{b==null||b(j),!j.defaultPrevented&&j.detail>1&&j.preventDefault()},...M,children:[v,p&&x.jsx("span",{...R("required"),"aria-hidden":!0,children:" *"})]})});Xb.classes=hi;Xb.displayName="@mantine/core/InputLabel";const fR={},$C=dt((t,e)=>{const n=Ee("InputPlaceholder",fR,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,__staticSelector:d,variant:h,error:p,mod:g,...b}=Ee("InputPlaceholder",fR,n),v=ct({name:["InputPlaceholder",d],props:n,classes:hi,className:i,style:r,classNames:o,styles:s,unstyled:a,rootSelector:"placeholder"});return x.jsx($e,{...v("placeholder"),mod:[{error:!!p},g],component:"span",variant:h,ref:e,...b})});$C.classes=hi;$C.displayName="@mantine/core/InputPlaceholder";function Aie(t,{hasDescription:e,hasError:n}){const o=t.findIndex(u=>u==="input"),i=t.slice(0,o),r=t.slice(o+1),s=e&&i.includes("description")||n&&i.includes("error");return{offsetBottom:e&&r.includes("description")||n&&r.includes("error"),offsetTop:s}}const Oie={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},Rie=(t,{size:e})=>({label:{"--input-label-size":Co(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${Co(e)} - ${ae(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${Co(e)} - ${ae(2)})`}}),UC=dt((t,e)=>{const n=Ee("InputWrapper",Oie,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,size:d,variant:h,__staticSelector:p,inputContainer:g,inputWrapperOrder:b,label:v,error:k,description:C,labelProps:_,descriptionProps:M,errorProps:A,labelElement:O,children:R,withAsterisk:j,id:z,required:V,__stylesApiProps:Z,mod:oe,...be}=n,he=ct({name:["InputWrapper",p],props:Z||n,classes:hi,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:Rie}),ye={size:d,variant:h,__staticSelector:p},ve=ch(z),pe=typeof j=="boolean"?j:V,B=(A==null?void 0:A.id)||`${ve}-error`,P=(M==null?void 0:M.id)||`${ve}-description`,U=ve,ne=!!k&&typeof k!="boolean",N=!!C,F=`${ne?B:""} ${N?P:""}`,ee=F.trim().length>0?F.trim():void 0,se=(_==null?void 0:_.id)||`${ve}-label`,Ce=v&&x.jsx(Xb,{labelElement:O,id:se,htmlFor:U,required:pe,...ye,..._,children:v},"label"),Be=N&&x.jsx(Yb,{...M,...ye,size:(M==null?void 0:M.size)||ye.size,id:(M==null?void 0:M.id)||P,children:C},"description"),xe=x.jsx(S.Fragment,{children:g(R)},"input"),et=ne&&S.createElement(Wb,{...A,...ye,size:(A==null?void 0:A.size)||ye.size,key:"error",id:(A==null?void 0:A.id)||B},k),Ge=b.map(Tt=>{switch(Tt){case"label":return Ce;case"input":return xe;case"description":return Be;case"error":return et;default:return null}});return x.jsx(Sie,{value:{getStyles:he,describedBy:ee,inputId:U,labelId:se,...Aie(b,{hasDescription:N,hasError:ne})},children:x.jsx($e,{ref:e,variant:h,size:d,mod:[{error:!!k},oe],...he("root"),...be,children:Ge})})});UC.classes=hi;UC.displayName="@mantine/core/InputWrapper";const Nie={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Die=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":It(e.size,"input-height"),"--input-fz":Co(e.size),"--input-radius":e.radius===void 0?void 0:Kn(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?ae(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?ae(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?It(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),Fo=so((t,e)=>{const n=Ee("Input",Nie,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,required:u,__staticSelector:d,__stylesApiProps:h,size:p,wrapperProps:g,error:b,disabled:v,leftSection:k,leftSectionProps:C,leftSectionWidth:_,rightSection:M,rightSectionProps:A,rightSectionWidth:O,rightSectionPointerEvents:R,leftSectionPointerEvents:j,variant:z,vars:V,pointer:Z,multiline:oe,radius:be,id:he,withAria:ye,withErrorStyles:ve,mod:pe,inputSize:B,__clearSection:P,__clearable:U,__defaultRightSection:ne,...N}=n,{styleProps:F,rest:ee}=qb(N),se=Zb(),Ce={offsetBottom:se==null?void 0:se.offsetBottom,offsetTop:se==null?void 0:se.offsetTop},Be=ct({name:["Input",d],props:h||n,classes:hi,className:i,style:r,classNames:o,styles:s,unstyled:a,stylesCtx:Ce,rootSelector:"wrapper",vars:V,varsResolver:Die}),xe=ye?{required:u,disabled:v,"aria-invalid":!!b,"aria-describedby":se==null?void 0:se.describedBy,id:(se==null?void 0:se.inputId)||he}:{},et=M||U&&P||ne;return x.jsx(kie,{value:{size:p||"sm"},children:x.jsxs($e,{...Be("wrapper"),...F,...g,mod:[{error:!!b&&ve,pointer:Z,disabled:v,multiline:oe,"data-with-right-section":!!et,"data-with-left-section":!!k},pe],variant:z,size:p,children:[k&&x.jsx("div",{...C,"data-position":"left",...Be("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:k}),x.jsx($e,{component:"input",...ee,...xe,ref:e,required:u,mod:{disabled:v,error:!!b&&ve},variant:z,__size:B,...Be("input")}),et&&x.jsx("div",{...A,"data-position":"right",...Be("section",{className:A==null?void 0:A.className,style:A==null?void 0:A.style}),children:et})]})})});Fo.classes=hi;Fo.Wrapper=UC;Fo.Label=Xb;Fo.Error=Wb;Fo.Description=Yb;Fo.Placeholder=$C;Fo.ClearButton=oj;Fo.displayName="@mantine/core/Input";function Lie(t,e,n){const o=Ee(t,e,n),{label:i,description:r,error:s,required:a,classNames:u,styles:d,className:h,unstyled:p,__staticSelector:g,__stylesApiProps:b,errorProps:v,labelProps:k,descriptionProps:C,wrapperProps:_,id:M,size:A,style:O,inputContainer:R,inputWrapperOrder:j,withAsterisk:z,variant:V,vars:Z,mod:oe,...be}=o,{styleProps:he,rest:ye}=qb(be),ve={label:i,description:r,error:s,required:a,classNames:u,className:h,__staticSelector:g,__stylesApiProps:b||o,errorProps:v,labelProps:k,descriptionProps:C,unstyled:p,styles:d,size:A,style:O,inputContainer:R,inputWrapperOrder:j,withAsterisk:z,variant:V,id:M,mod:oe,..._};return{...ye,classNames:u,styles:d,unstyled:p,wrapperProps:{...ve,...he},inputProps:{required:a,classNames:u,styles:d,unstyled:p,size:A,__staticSelector:g,__stylesApiProps:b||o,error:s,variant:V,id:M}}}const Bie={__staticSelector:"InputBase",withAria:!0},ku=so((t,e)=>{const{inputProps:n,wrapperProps:o,...i}=Lie("InputBase",Bie,t);return x.jsx(Fo.Wrapper,{...o,children:x.jsx(Fo,{...n,...i,ref:e})})});ku.classes={...Fo.classes,...Fo.Wrapper.classes};ku.displayName="@mantine/core/InputBase";const jie={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var ij={root:"m_8bffd616"};const Hie={},FC=so((t,e)=>{const n=Ee("Flex",Hie,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,gap:d,rowGap:h,columnGap:p,align:g,justify:b,wrap:v,direction:k,...C}=n,_=ct({name:"Flex",classes:ij,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u}),M=qo(),A=LB(),O=DB({styleProps:{gap:d,rowGap:h,columnGap:p,align:g,justify:b,wrap:v,direction:k},theme:M,data:jie});return x.jsxs(x.Fragment,{children:[O.hasResponsiveStyles&&x.jsx(NB,{selector:`.${A}`,styles:O.styles,media:O.media}),x.jsx($e,{ref:e,..._("root",{className:A,style:Pb(O.inlineStyles)}),...C})]})});FC.classes=ij;FC.displayName="@mantine/core/Flex";var rj={root:"m_b6d8b162"};function Iie(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const zie={inherit:!1},Pie=(t,{variant:e,lineClamp:n,gradient:o,size:i,color:r})=>({root:{"--text-fz":Co(i),"--text-lh":pne(i),"--text-gradient":e==="gradient"?vk(o,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":r?cr(r,t):void 0}}),ur=so((t,e)=>{const n=Ee("Text",zie,t),{lineClamp:o,truncate:i,inline:r,inherit:s,gradient:a,span:u,__staticSelector:d,vars:h,className:p,style:g,classNames:b,styles:v,unstyled:k,variant:C,mod:_,size:M,...A}=n,O=ct({name:["Text",d],props:n,classes:rj,className:p,style:g,classNames:b,styles:v,unstyled:k,vars:h,varsResolver:Pie});return x.jsx($e,{...O("root",{focusable:!0}),ref:e,component:u?"span":"p",variant:C,mod:[{"data-truncate":Iie(i),"data-line-clamp":typeof o=="number","data-inline":r,"data-inherit":s},_],size:M,...A})});ur.classes=rj;ur.displayName="@mantine/core/Text";function qC({size:t,style:e,...n}){const o=t!==void 0?{width:ae(t),height:ae(t),...e}:e;return x.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o,"aria-hidden":!0,...n,children:x.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const sj=S.createContext(null),Vie=sj.Provider;function $ie(){return{withinGroup:!!S.useContext(sj)}}var Jb={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const Uie={},Fie=(t,{spacing:e})=>({group:{"--ag-spacing":ah(e)}}),GC=dt((t,e)=>{const n=Ee("AvatarGroup",Uie,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,spacing:d,...h}=n,p=ct({name:"AvatarGroup",classes:Jb,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:Fie,rootSelector:"group"});return x.jsx(Vie,{value:!0,children:x.jsx($e,{ref:e,...p("group"),...h})})});GC.classes=Jb;GC.displayName="@mantine/core/AvatarGroup";function qie(t){return x.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Gie(t){let e=0;for(let n=0;n<t.length;n+=1){const o=t.charCodeAt(n);e=(e<<5)-e+o,e|=0}return e}const Kie=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function Zie(t,e=Kie){const n=Gie(t),o=Math.abs(n)%e.length;return e[o]}function Yie(t,e=2){const n=t.split(" ");return n.length===1?t.slice(0,e).toUpperCase():n.map(o=>o[0]).slice(0,e).join("").toUpperCase()}const Wie={},Xie=(t,{size:e,radius:n,variant:o,gradient:i,color:r,autoContrast:s,name:a,allowedInitialsColors:u})=>{const d=r==="initials"&&typeof a=="string"?Zie(a,u):r,h=t.variantColorResolver({color:d||"gray",theme:t,gradient:i,variant:o||"light",autoContrast:s});return{root:{"--avatar-size":It(e,"avatar-size"),"--avatar-radius":n===void 0?void 0:Kn(n),"--avatar-bg":d||o?h.background:void 0,"--avatar-color":d||o?h.color:void 0,"--avatar-bd":d||o?h.border:void 0}}},Qb=so((t,e)=>{const n=Ee("Avatar",Wie,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,src:d,alt:h,radius:p,color:g,gradient:b,imageProps:v,children:k,autoContrast:C,mod:_,name:M,allowedInitialsColors:A,...O}=n,R=$ie(),[j,z]=S.useState(!d),V=ct({name:"Avatar",props:n,classes:Jb,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:Xie});return S.useEffect(()=>z(!d),[d]),x.jsx($e,{...V("root"),mod:[{"within-group":R.withinGroup},_],ref:e,...O,children:j?x.jsx("span",{...V("placeholder"),title:h,children:k||typeof M=="string"&&Yie(M)||x.jsx(qie,{})}):x.jsx("img",{...v,...V("image"),src:d,alt:h,onError:Z=>{var oe;z(!0),(oe=v==null?void 0:v.onError)==null||oe.call(v,Z)}})})});Qb.classes=Jb;Qb.displayName="@mantine/core/Avatar";Qb.Group=GC;var lj={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const Jie={},Qie=(t,{radius:e,color:n,gradient:o,variant:i,size:r,autoContrast:s})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":It(r,"badge-height"),"--badge-padding-x":It(r,"badge-padding-x"),"--badge-fz":It(r,"badge-fz"),"--badge-radius":e===void 0?void 0:Kn(e),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?cr(n,t):void 0}}},KC=so((t,e)=>{const n=Ee("Badge",Jie,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,radius:d,color:h,gradient:p,leftSection:g,rightSection:b,children:v,variant:k,fullWidth:C,autoContrast:_,circle:M,mod:A,...O}=n,R=ct({name:"Badge",props:n,classes:lj,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:Qie});return x.jsxs($e,{variant:k,mod:[{block:C,circle:M,"with-right-section":!!b,"with-left-section":!!g},A],...R("root",{variant:k}),ref:e,...O,children:[g&&x.jsx("span",{...R("section"),"data-position":"left",children:g}),x.jsx("span",{...R("label"),children:v}),b&&x.jsx("span",{...R("section"),"data-position":"right",children:b})]})});KC.classes=lj;KC.displayName="@mantine/core/Badge";var xu={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const hR={orientation:"horizontal"},ere=(t,{borderWidth:e})=>({group:{"--button-border-width":ae(e)}}),ZC=dt((t,e)=>{const n=Ee("ButtonGroup",hR,t),{className:o,style:i,classNames:r,styles:s,unstyled:a,orientation:u,vars:d,borderWidth:h,variant:p,mod:g,...b}=Ee("ButtonGroup",hR,t),v=ct({name:"ButtonGroup",props:n,classes:xu,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:d,varsResolver:ere,rootSelector:"group"});return x.jsx($e,{...v("group"),ref:e,variant:p,mod:[{"data-orientation":u},g],role:"group",...b})});ZC.classes=xu;ZC.displayName="@mantine/core/ButtonGroup";const pR={},tre=(t,{radius:e,color:n,gradient:o,variant:i,autoContrast:r,size:s})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:i||"filled",autoContrast:r});return{groupSection:{"--section-height":It(s,"section-height"),"--section-padding-x":It(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?Co(s.replace("compact-","")):Co(s),"--section-radius":e===void 0?void 0:Kn(e),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},YC=dt((t,e)=>{const n=Ee("ButtonGroupSection",pR,t),{className:o,style:i,classNames:r,styles:s,unstyled:a,vars:u,variant:d,gradient:h,radius:p,autoContrast:g,...b}=Ee("ButtonGroupSection",pR,t),v=ct({name:"ButtonGroupSection",props:n,classes:xu,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:tre,rootSelector:"groupSection"});return x.jsx($e,{...v("groupSection"),ref:e,variant:d,...b})});YC.classes=xu;YC.displayName="@mantine/core/ButtonGroupSection";const nre={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${ae(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},ore={},ire=(t,{radius:e,color:n,gradient:o,variant:i,size:r,justify:s,autoContrast:a})=>{const u=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":It(r,"button-height"),"--button-padding-x":It(r,"button-padding-x"),"--button-fz":r!=null&&r.includes("compact")?Co(r.replace("compact-","")):Co(r),"--button-radius":e===void 0?void 0:Kn(e),"--button-bg":n||i?u.background:void 0,"--button-hover":n||i?u.hover:void 0,"--button-color":u.color,"--button-bd":n||i?u.border:void 0,"--button-hover-color":n||i?u.hoverColor:void 0}}},Li=so((t,e)=>{const n=Ee("Button",ore,t),{style:o,vars:i,className:r,color:s,disabled:a,children:u,leftSection:d,rightSection:h,fullWidth:p,variant:g,radius:b,loading:v,loaderProps:k,gradient:C,classNames:_,styles:M,unstyled:A,"data-disabled":O,autoContrast:R,mod:j,...z}=n,V=ct({name:"Button",props:n,classes:xu,className:r,style:o,classNames:_,styles:M,unstyled:A,vars:i,varsResolver:ire}),Z=!!d,oe=!!h;return x.jsxs(Da,{ref:e,...V("root",{active:!a&&!v&&!O}),unstyled:A,variant:g,disabled:a||v,mod:[{disabled:a||O,loading:v,block:p,"with-left-section":Z,"with-right-section":oe},j],...z,children:[x.jsx(La,{mounted:!!v,transition:nre,duration:150,children:be=>x.jsx($e,{component:"span",...V("loader",{style:be}),"aria-hidden":!0,children:x.jsx(El,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...k})})}),x.jsxs("span",{...V("inner"),children:[d&&x.jsx($e,{component:"span",...V("section"),mod:{position:"left"},children:d}),x.jsx($e,{component:"span",mod:{loading:v},...V("label"),children:u}),h&&x.jsx($e,{component:"span",...V("section"),mod:{position:"right"},children:h})]})]})});Li.classes=xu;Li.displayName="@mantine/core/Button";Li.Group=ZC;Li.GroupSection=YC;const[rre,sre]=Vb("Card component was not found in tree");var WC={root:"m_e615b15f",section:"m_599a2148"};const lre={},ey=so((t,e)=>{const n=Ee("CardSection",lre,t),{classNames:o,className:i,style:r,styles:s,vars:a,withBorder:u,inheritPadding:d,mod:h,...p}=n,g=sre();return x.jsx($e,{ref:e,mod:[{"with-border":u,"inherit-padding":d},h],...g.getStyles("section",{className:i,style:r,styles:s,classNames:o}),...p})});ey.classes=WC;ey.displayName="@mantine/core/CardSection";const are={},cre=(t,{padding:e})=>({root:{"--card-padding":ah(e)}}),hh=so((t,e)=>{const n=Ee("Card",are,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,children:d,padding:h,...p}=n,g=ct({name:"Card",props:n,classes:WC,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:cre}),b=S.Children.toArray(d),v=b.map((k,C)=>typeof k=="object"&&k&&"type"in k&&k.type===ey?S.cloneElement(k,{"data-first-section":C===0||void 0,"data-last-section":C===b.length-1||void 0}):k);return x.jsx(rre,{value:{getStyles:g},children:x.jsx(jC,{ref:e,unstyled:a,...g("root"),...p,children:v})})});hh.classes=WC;hh.displayName="@mantine/core/Card";hh.Section=ey;const[ure,dre]=TC(),fre={};function aj(t){const{value:e,defaultValue:n,onChange:o,multiple:i,children:r}=Ee("ChipGroup",fre,t),[s,a]=yu({value:e,defaultValue:n,finalValue:i?[]:null,onChange:o}),u=h=>Array.isArray(s)?s.includes(h):h===s,d=h=>{const p=h.currentTarget.value;Array.isArray(s)?a(s.includes(p)?s.filter(g=>g!==p):[...s,p]):a(p)};return x.jsx(ure,{value:{isChipSelected:u,onChange:d,multiple:i},children:r})}aj.displayName="@mantine/core/ChipGroup";var cj={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const hre={type:"checkbox"},pre=(t,{size:e,radius:n,variant:o,color:i,autoContrast:r})=>{const s=t.variantColorResolver({color:i||t.primaryColor,theme:t,variant:o||"filled",autoContrast:r});return{root:{"--chip-fz":Co(e),"--chip-size":It(e,"chip-size"),"--chip-radius":n===void 0?void 0:Kn(n),"--chip-checked-padding":It(e,"chip-checked-padding"),"--chip-padding":It(e,"chip-padding"),"--chip-icon-size":It(e,"chip-icon-size"),"--chip-bg":i||o?s.background:void 0,"--chip-hover":i||o?s.hover:void 0,"--chip-color":i||o?s.color:void 0,"--chip-bd":i||o?s.border:void 0,"--chip-spacing":It(e,"chip-spacing")}}},ty=dt((t,e)=>{const n=Ee("Chip",hre,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,id:d,checked:h,defaultChecked:p,onChange:g,value:b,wrapperProps:v,type:k,disabled:C,children:_,size:M,variant:A,icon:O,rootRef:R,autoContrast:j,mod:z,...V}=n,Z=ct({name:"Chip",classes:cj,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:pre}),oe=dre(),be=ch(d),{styleProps:he,rest:ye}=qb(V),[ve,pe]=yu({value:h,defaultValue:p,finalValue:!1,onChange:g}),B=oe?{checked:oe.isChipSelected(b),onChange:U=>{oe.onChange(U),g==null||g(U.currentTarget.checked)},type:oe.multiple?"checkbox":"radio"}:{},P=B.checked||ve;return x.jsxs($e,{size:M,variant:A,ref:R,mod:z,...Z("root"),...he,...v,children:[x.jsx("input",{type:k,...Z("input"),checked:P,onChange:U=>pe(U.currentTarget.checked),id:be,disabled:C,ref:e,value:b,...B,...ye}),x.jsxs("label",{htmlFor:be,"data-checked":P||void 0,"data-disabled":C||void 0,...Z("label",{variant:A||"filled"}),children:[P&&x.jsx("span",{...Z("iconWrapper"),children:O||x.jsx(qC,{...Z("checkIcon")})}),x.jsx("span",{children:_})]})]})});ty.classes=cj;ty.displayName="@mantine/core/Chip";ty.Group=aj;var uj={root:"m_3eebeb36",label:"m_9e365f20"};const mre={orientation:"horizontal"},gre=(t,{color:e,variant:n,size:o})=>({root:{"--divider-color":e?cr(e,t):void 0,"--divider-border-style":n,"--divider-size":It(o,"divider-size")}}),XC=dt((t,e)=>{const n=Ee("Divider",mre,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,color:d,orientation:h,label:p,labelPosition:g,mod:b,...v}=n,k=ct({name:"Divider",classes:uj,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:gre});return x.jsx($e,{ref:e,mod:[{orientation:h,"with-label":!!p},b],...k("root"),...v,role:"separator",children:p&&x.jsx($e,{component:"span",mod:{position:g},...k("label"),children:p})})});XC.classes=uj;XC.displayName="@mantine/core/Divider";const bre={multiple:!1},dj=S.forwardRef((t,e)=>{const{onChange:n,children:o,multiple:i,accept:r,name:s,form:a,resetRef:u,disabled:d,capture:h,inputProps:p,...g}=Ee("FileButton",bre,t),b=S.useRef(null),v=()=>{var _;!d&&((_=b.current)==null||_.click())},k=_=>{n(i?Array.from(_.currentTarget.files):_.currentTarget.files[0]||null)};return zg(u,()=>{b.current&&(b.current.value="")}),x.jsxs(x.Fragment,{children:[o({onClick:v,...g}),x.jsx("input",{style:{display:"none"},type:"file",accept:r,multiple:i,onChange:k,ref:ds(e,b),name:s,form:a,capture:h,...p})]})});dj.displayName="@mantine/core/FileButton";const yre=({value:t})=>x.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t==null?void 0:t.name}),vre={valueComponent:yre},JC=dt((t,e)=>{const n=Ee("FileInput",vre,t),{unstyled:o,vars:i,onChange:r,value:s,defaultValue:a,multiple:u,accept:d,name:h,form:p,valueComponent:g,clearable:b,clearButtonProps:v,readOnly:k,capture:C,fileInputProps:_,rightSection:M,size:A,placeholder:O,component:R,resetRef:j,classNames:z,styles:V,...Z}=n,oe=S.useRef(null),{resolvedClassNames:be,resolvedStyles:he}=Fb({classNames:z,styles:V,props:n}),[ye,ve]=yu({value:s,defaultValue:a,onChange:r,finalValue:u?[]:null}),pe=Array.isArray(ye)?ye.length!==0:ye!==null,B=M||(b&&pe&&!k?x.jsx(Kb,{...v,variant:"subtle",onClick:()=>ve(u?[]:null),size:A,unstyled:o}):null);S.useEffect(()=>{var U;(Array.isArray(ye)&&ye.length===0||ye===null)&&((U=oe.current)==null||U.call(oe))},[ye]);const P=g;return x.jsx(dj,{onChange:ve,multiple:u,accept:d,name:h,form:p,resetRef:ds(oe,j),disabled:k,capture:C,inputProps:_,children:U=>x.jsx(ku,{component:R||"button",ref:e,rightSection:B,...U,...Z,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:o,size:A,classNames:z,styles:V,children:pe?x.jsx(P,{value:ye}):x.jsx(Fo.Placeholder,{__staticSelector:"FileInput",classNames:be,styles:he,children:O})})})});JC.classes=ku.classes;JC.displayName="@mantine/core/FileInput";const wre=JC;function kre({open:t,close:e,openDelay:n,closeDelay:o}){const i=S.useRef(-1),r=S.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(r.current)},a=()=>{s(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)},u=()=>{s(),o===0||o===void 0?e():r.current=window.setTimeout(e,o)};return S.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:u}}var fj={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const mR={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:lh("overlay")},xre=(t,{zIndex:e})=>({root:{"--lo-z-index":e==null?void 0:e.toString()}}),QC=dt((t,e)=>{const n=Ee("LoadingOverlay",mR,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,transitionProps:d,loaderProps:h,overlayProps:p,visible:g,zIndex:b,...v}=n,k=qo(),C=ct({name:"LoadingOverlay",classes:fj,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:xre}),_={...mR.overlayProps,...p};return x.jsx(La,{transition:"fade",...d,mounted:!!g,children:M=>x.jsxs($e,{...C("root",{style:M}),ref:e,...v,children:[x.jsx(El,{...C("loader"),unstyled:a,...h}),x.jsx($f,{..._,...C("overlay"),darkHidden:!0,unstyled:a,color:(p==null?void 0:p.color)||k.white}),x.jsx($f,{..._,...C("overlay"),lightHidden:!0,unstyled:a,color:(p==null?void 0:p.color)||k.colors.dark[5]})]})})});QC.classes=fj;QC.displayName="@mantine/core/LoadingOverlay";const[Cre,ph]=Vb("Menu component was not found in the tree");var Cu={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Sre={},eS=dt((t,e)=>{const{classNames:n,className:o,style:i,styles:r,vars:s,...a}=Ee("MenuDivider",Sre,t),u=ph();return x.jsx($e,{ref:e,...u.getStyles("divider",{className:o,style:i,styles:r,classNames:n}),...a})});eS.classes=Cu;eS.displayName="@mantine/core/MenuDivider";const _re={},tS=dt((t,e)=>{const{classNames:n,className:o,style:i,styles:r,vars:s,onMouseEnter:a,onMouseLeave:u,onKeyDown:d,children:h,...p}=Ee("MenuDropdown",_re,t),g=S.useRef(null),b=ph(),v=Xi(d,_=>{var M,A;(_.key==="ArrowUp"||_.key==="ArrowDown")&&(_.preventDefault(),(A=(M=g.current)==null?void 0:M.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||A.focus())}),k=Xi(a,()=>(b.trigger==="hover"||b.trigger==="click-hover")&&b.openDropdown()),C=Xi(u,()=>(b.trigger==="hover"||b.trigger==="click-hover")&&b.closeDropdown());return x.jsxs(_l.Dropdown,{...p,onMouseEnter:k,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:ds(e,g),...b.getStyles("dropdown",{className:o,style:i,styles:r,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:v,children:[b.withInitialFocusPlaceholder&&x.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),h]})});tS.classes=Cu;tS.displayName="@mantine/core/MenuDropdown";const Ere={},nS=so((t,e)=>{const{classNames:n,className:o,style:i,styles:r,vars:s,color:a,closeMenuOnClick:u,leftSection:d,rightSection:h,children:p,disabled:g,"data-disabled":b,...v}=Ee("MenuItem",Ere,t),k=ph(),C=qo(),{dir:_}=dh(),M=S.useRef(null),A=k.getItemIndex(M.current),O=v,R=Xi(O.onMouseLeave,()=>k.setHovered(-1)),j=Xi(O.onMouseEnter,()=>k.setHovered(k.getItemIndex(M.current))),z=Xi(O.onClick,()=>{b||(typeof u=="boolean"?u&&k.closeDropdownImmediately():k.closeOnItemClick&&k.closeDropdownImmediately())}),V=Xi(O.onFocus,()=>k.setHovered(k.getItemIndex(M.current))),Z=a?C.variantColorResolver({color:a,theme:C,variant:"light"}):void 0,oe=a?vu({color:a,theme:C}):null;return x.jsxs(Da,{...v,unstyled:k.unstyled,tabIndex:k.menuItemTabIndex,onFocus:V,...k.getStyles("item",{className:o,style:i,styles:r,classNames:n}),ref:ds(M,e),role:"menuitem",disabled:g,"data-menu-item":!0,"data-disabled":g||b||void 0,"data-hovered":k.hovered===A?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:j,onMouseLeave:R,onClick:z,onKeyDown:bB({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:k.loop,dir:_,orientation:"vertical",onKeyDown:O.onKeyDown}),__vars:{"--menu-item-color":oe!=null&&oe.isThemeColor&&(oe==null?void 0:oe.shade)===void 0?`var(--mantine-color-${oe.color}-6)`:Z==null?void 0:Z.color,"--menu-item-hover":Z==null?void 0:Z.hover},children:[d&&x.jsx("div",{...k.getStyles("itemSection",{styles:r,classNames:n}),"data-position":"left",children:d}),p&&x.jsx("div",{...k.getStyles("itemLabel",{styles:r,classNames:n}),children:p}),h&&x.jsx("div",{...k.getStyles("itemSection",{styles:r,classNames:n}),"data-position":"right",children:h})]})});nS.classes=Cu;nS.displayName="@mantine/core/MenuItem";const Mre={},oS=dt((t,e)=>{const{classNames:n,className:o,style:i,styles:r,vars:s,...a}=Ee("MenuLabel",Mre,t),u=ph();return x.jsx($e,{ref:e,...u.getStyles("label",{className:o,style:i,styles:r,classNames:n}),...a})});oS.classes=Cu;oS.displayName="@mantine/core/MenuLabel";const Tre={refProp:"ref"},hj=S.forwardRef((t,e)=>{const{children:n,refProp:o,...i}=Ee("MenuTarget",Tre,t);if(!sh(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const r=ph(),s=n.props,a=Xi(s.onClick,()=>{r.trigger==="click"?r.toggleDropdown():r.trigger==="click-hover"&&(r.setOpenedViaClick(!0),r.opened||r.openDropdown())}),u=Xi(s.onMouseEnter,()=>(r.trigger==="hover"||r.trigger==="click-hover")&&r.openDropdown()),d=Xi(s.onMouseLeave,()=>{(r.trigger==="hover"||r.trigger==="click-hover"&&!r.openedViaClick)&&r.closeDropdown()});return x.jsx(_l.Target,{refProp:o,popupType:"menu",ref:e,...i,children:S.cloneElement(n,{onClick:a,onMouseEnter:u,onMouseLeave:d,"data-expanded":r.opened?!0:void 0})})});hj.displayName="@mantine/core/MenuTarget";const Are={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Xt(t){const e=Ee("Menu",Are,t),{children:n,onOpen:o,onClose:i,opened:r,defaultOpened:s,trapFocus:a,onChange:u,closeOnItemClick:d,loop:h,closeOnEscape:p,trigger:g,openDelay:b,closeDelay:v,classNames:k,styles:C,unstyled:_,variant:M,vars:A,menuItemTabIndex:O,keepMounted:R,withInitialFocusPlaceholder:j,...z}=e,V=ct({name:"Menu",classes:Cu,props:e,classNames:k,styles:C,unstyled:_}),[Z,{setHovered:oe,resetHovered:be}]=gne(),[he,ye]=yu({value:r,defaultValue:s,finalValue:!1,onChange:u}),[ve,pe]=S.useState(!1),B=()=>{ye(!1),pe(!1),he&&(i==null||i())},P=()=>{ye(!0),!he&&(o==null||o())},U=()=>{he?B():P()},{openDropdown:ne,closeDropdown:N}=kre({open:P,close:B,closeDelay:v,openDelay:b}),F=Ce=>mne("[data-menu-item]","[data-menu-dropdown]",Ce),{resolvedClassNames:ee,resolvedStyles:se}=Fb({classNames:k,styles:C,props:e});return ml(()=>{be()},[he]),x.jsx(Cre,{value:{getStyles:V,opened:he,toggleDropdown:U,getItemIndex:F,hovered:Z,setHovered:oe,openedViaClick:ve,setOpenedViaClick:pe,closeOnItemClick:d,closeDropdown:g==="click"?B:N,openDropdown:g==="click"?P:ne,closeDropdownImmediately:B,loop:h,trigger:g,unstyled:_,menuItemTabIndex:O,withInitialFocusPlaceholder:j},children:x.jsx(_l,{...z,opened:he,onChange:U,defaultOpened:s,trapFocus:R?!1:a,closeOnEscape:p,__staticSelector:"Menu",classNames:ee,styles:se,unstyled:_,variant:M,keepMounted:R,children:n})})}Xt.extend=t=>t;Xt.withProps=$oe(Xt);Xt.classes=Cu;Xt.displayName="@mantine/core/Menu";Xt.Item=nS;Xt.Label=oS;Xt.Dropdown=tS;Xt.Target=hj;Xt.Divider=eS;const Ore={duration:100,transition:"fade"};function Rre(t,e){return{...Ore,...e,...t}}function Nre({offset:t,position:e,defaultOpened:n}){const[o,i]=S.useState(n),r=S.useRef(null),{x:s,y:a,elements:u,refs:d,update:h,placement:p}=bu({placement:e,middleware:[Na({crossAxis:!0,padding:5,rootBoundary:"document"})]}),g=p.includes("right")?t:e.includes("left")?t*-1:0,b=p.includes("bottom")?t:e.includes("top")?t*-1:0,v=S.useCallback(({clientX:k,clientY:C})=>{d.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:k,y:C,left:k+g,top:C+b,right:k,bottom:C}}})},[u.reference]);return S.useEffect(()=>{if(d.floating.current){const k=r.current;k.addEventListener("mousemove",v);const C=Qr(d.floating.current);return C.forEach(_=>{_.addEventListener("scroll",h)}),()=>{k.removeEventListener("mousemove",v),C.forEach(_=>{_.removeEventListener("scroll",h)})}}},[u.reference,d.floating.current,h,v,o]),{handleMouseMove:v,x:s,y:a,opened:o,setOpened:i,boundaryRef:r,floating:d.setFloating}}var ny={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Dre={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:lh("popover")},Lre=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Kn(e),"--tooltip-bg":n?cr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),iS=dt((t,e)=>{const n=Ee("TooltipFloating",Dre,t),{children:o,refProp:i,withinPortal:r,style:s,className:a,classNames:u,styles:d,unstyled:h,radius:p,color:g,label:b,offset:v,position:k,multiline:C,zIndex:_,disabled:M,defaultOpened:A,variant:O,vars:R,portalProps:j,...z}=n,V=qo(),Z=ct({name:"TooltipFloating",props:n,classes:ny,className:a,style:s,classNames:u,styles:d,unstyled:h,rootSelector:"tooltip",vars:R,varsResolver:Lre}),{handleMouseMove:oe,x:be,y:he,opened:ye,boundaryRef:ve,floating:pe,setOpened:B}=Nre({offset:v,position:k,defaultOpened:A});if(!sh(o))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const P=ds(ve,AC(o),e),U=o.props,ne=F=>{var ee;(ee=U.onMouseEnter)==null||ee.call(U,F),oe(F),B(!0)},N=F=>{var ee;(ee=U.onMouseLeave)==null||ee.call(U,F),B(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(fh,{...j,withinPortal:r,children:x.jsx($e,{...z,...Z("tooltip",{style:{...BB(s,V),zIndex:_,display:!M&&ye?"block":"none",top:(he&&Math.round(he))??"",left:(be&&Math.round(be))??""}}),variant:O,ref:pe,mod:{multiline:C},children:b})}),S.cloneElement(o,{...U,[i]:P,onMouseEnter:ne,onMouseLeave:N})]})});iS.classes=ny;iS.displayName="@mantine/core/TooltipFloating";const pj=S.createContext(!1),Bre=pj.Provider,jre=()=>S.useContext(pj),Hre={openDelay:0,closeDelay:0};function rS(t){const{openDelay:e,closeDelay:n,children:o}=Ee("TooltipGroup",Hre,t);return x.jsx(Bre,{value:!0,children:x.jsx(ZJ,{delay:{open:e,close:n},children:o})})}rS.displayName="@mantine/core/TooltipGroup";rS.extend=t=>t;function Ire(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function zre(t){const e=Ire(t.middlewares),n=[gr(t.offset)];return e.shift&&n.push(Na(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?Ri():Ri(e.flip)),n.push(S5({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?lf():lf(e.inline)):t.inline&&n.push(lf()),n}function Pre(t){var j,z,V;const[e,n]=S.useState(t.defaultOpened),i=typeof t.opened=="boolean"?t.opened:e,r=jre(),s=ch(),a=S.useCallback(Z=>{n(Z),Z&&M(s)},[s]),{x:u,y:d,context:h,refs:p,update:g,placement:b,middlewareData:{arrow:{x:v,y:k}={}}}=bu({strategy:t.strategy,placement:t.position,open:i,onOpenChange:a,middleware:zre(t)}),{delay:C,currentId:_,setCurrentId:M}=YJ(h,{id:s}),{getReferenceProps:A,getFloatingProps:O}=N5([GJ(h,{enabled:(j=t.events)==null?void 0:j.hover,delay:r?C:{open:t.openDelay,close:t.closeDelay},mouseOnly:!((z=t.events)!=null&&z.touch)}),lQ(h,{enabled:(V=t.events)==null?void 0:V.focus,visibleOnly:!0}),cQ(h,{role:"tooltip"}),R5(h,{enabled:typeof t.opened>"u"})]);YB({opened:i,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:p,update:g}}),ml(()=>{var Z;(Z=t.onPositionChange)==null||Z.call(t,b)},[b]);const R=i&&_&&_!==s;return{x:u,y:d,arrowX:v,arrowY:k,reference:p.setReference,floating:p.setFloating,getFloatingProps:O,getReferenceProps:A,isGroupPhase:R,opened:i,placement:b}}const gR={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:lh("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},Vre=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Kn(e),"--tooltip-bg":n?cr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Su=dt((t,e)=>{const n=Ee("Tooltip",gR,t),{children:o,position:i,refProp:r,label:s,openDelay:a,closeDelay:u,onPositionChange:d,opened:h,defaultOpened:p,withinPortal:g,radius:b,color:v,classNames:k,styles:C,unstyled:_,style:M,className:A,withArrow:O,arrowSize:R,arrowOffset:j,arrowRadius:z,arrowPosition:V,offset:Z,transitionProps:oe,multiline:be,events:he,zIndex:ye,disabled:ve,positionDependencies:pe,onClick:B,onMouseEnter:P,onMouseLeave:U,inline:ne,variant:N,keepMounted:F,vars:ee,portalProps:se,mod:Ce,floatingStrategy:Be,middlewares:xe,...et}=Ee("Tooltip",gR,n),{dir:Ge}=dh(),Tt=S.useRef(null),zt=Pre({position:UB(Ge,i),closeDelay:u,openDelay:a,onPositionChange:d,opened:h,defaultOpened:p,events:he,arrowRef:Tt,arrowOffset:j,offset:typeof Z=="number"?Z+(O?R/2:0):Z,positionDependencies:[...pe,o],inline:ne,strategy:Be,middlewares:xe}),lo=ct({name:"Tooltip",props:n,classes:ny,className:A,style:M,classNames:k,styles:C,unstyled:_,rootSelector:"tooltip",vars:ee,varsResolver:Vre});if(!sh(o))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const L=ds(zt.reference,AC(o),e),H=Rre(oe,{duration:100,transition:"fade"}),X=o.props;return x.jsxs(x.Fragment,{children:[x.jsx(fh,{...se,withinPortal:g,children:x.jsx(La,{...H,keepMounted:F,mounted:!ve&&!!zt.opened,duration:zt.isGroupPhase?10:H.duration,children:ce=>x.jsxs($e,{...et,"data-fixed":Be==="fixed"||void 0,variant:N,mod:[{multiline:be},Ce],...zt.getFloatingProps({ref:zt.floating,className:lo("tooltip").className,style:{...lo("tooltip").style,...ce,zIndex:ye,top:zt.y??0,left:zt.x??0}}),children:[s,x.jsx(HC,{ref:Tt,arrowX:zt.arrowX,arrowY:zt.arrowY,visible:O,position:zt.placement,arrowSize:R,arrowOffset:j,arrowRadius:z,arrowPosition:V,...lo("arrow")})]})})}),S.cloneElement(o,zt.getReferenceProps({onClick:B,onMouseEnter:P,onMouseLeave:U,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:fs(A,X.className),...X,[r]:L}))]})});Su.classes=ny;Su.displayName="@mantine/core/Tooltip";Su.Floating=iS;Su.Group=rS;var mj={root:"m_18320242","skeleton-fade":"m_299c329c"};const $re={visible:!0,animate:!0},Ure=(t,{width:e,height:n,radius:o,circle:i})=>({root:{"--skeleton-height":ae(n),"--skeleton-width":ae(i?n:e),"--skeleton-radius":i?"1000px":o===void 0?void 0:Kn(o)}}),Vg=dt((t,e)=>{const n=Ee("Skeleton",$re,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,width:d,height:h,circle:p,visible:g,radius:b,animate:v,mod:k,...C}=n,_=ct({name:"Skeleton",classes:mj,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:Ure});return x.jsx($e,{ref:e,..._("root"),mod:[{visible:g,animate:v},k],...C})});Vg.classes=mj;Vg.displayName="@mantine/core/Skeleton";var gj={root:"m_6d731127"};const Fre={gap:"md",align:"stretch",justify:"flex-start"},qre=(t,{gap:e,align:n,justify:o})=>({root:{"--stack-gap":ah(e),"--stack-align":n,"--stack-justify":o}}),mh=dt((t,e)=>{const n=Ee("Stack",Fre,t),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:u,align:d,justify:h,gap:p,variant:g,...b}=n,v=ct({name:"Stack",props:n,classes:gj,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:qre});return x.jsx($e,{ref:e,...v("root"),variant:g,...b})});mh.classes=gj;mh.displayName="@mantine/core/Stack";const[Gre,sS]=Vb("Tabs component was not found in the tree");var gh={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Kre={},lS=dt((t,e)=>{const n=Ee("TabsList",Kre,t),{children:o,className:i,grow:r,justify:s,classNames:a,styles:u,style:d,mod:h,...p}=n,g=sS();return x.jsx($e,{...p,...g.getStyles("list",{className:i,style:d,classNames:a,styles:u,props:n,variant:g.variant}),ref:e,role:"tablist",variant:g.variant,mod:[{grow:r,orientation:g.orientation,placement:g.orientation==="vertical"&&g.placement,inverted:g.inverted},h],"aria-orientation":g.orientation,__vars:{"--tabs-justify":s},children:o})});lS.classes=gh;lS.displayName="@mantine/core/TabsList";const Zre={},aS=dt((t,e)=>{const n=Ee("TabsPanel",Zre,t),{children:o,className:i,value:r,classNames:s,styles:a,style:u,mod:d,keepMounted:h,...p}=n,g=sS(),b=g.value===r,v=g.keepMounted||h||b?o:null;return x.jsx($e,{...p,...g.getStyles("panel",{className:i,classNames:s,styles:a,style:[u,b?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:g.orientation},d],role:"tabpanel",id:g.getPanelId(r),"aria-labelledby":g.getTabId(r),children:v})});aS.classes=gh;aS.displayName="@mantine/core/TabsPanel";const Yre={},cS=dt((t,e)=>{const n=Ee("TabsTab",Yre,t),{className:o,children:i,rightSection:r,leftSection:s,value:a,onClick:u,onKeyDown:d,disabled:h,color:p,style:g,classNames:b,styles:v,vars:k,mod:C,tabIndex:_,...M}=n,A=qo(),{dir:O}=dh(),R=sS(),j=a===R.value,z=Z=>{R.onChange(R.allowTabDeactivation&&a===R.value?null:a),u==null||u(Z)},V={classNames:b,styles:v,props:n};return x.jsxs(Da,{...M,...R.getStyles("tab",{className:o,style:g,variant:R.variant,...V}),disabled:h,unstyled:R.unstyled,variant:R.variant,mod:[{active:j,disabled:h,orientation:R.orientation,inverted:R.inverted,placement:R.orientation==="vertical"&&R.placement},C],ref:e,role:"tab",id:R.getTabId(a),"aria-selected":j,tabIndex:_!==void 0?_:j||R.value===null?0:-1,"aria-controls":R.getPanelId(a),onClick:z,__vars:{"--tabs-color":p?cr(p,A):void 0},onKeyDown:bB({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:R.activateTabWithKeyboard,loop:R.loop,orientation:R.orientation||"horizontal",dir:O,onKeyDown:d}),children:[s&&x.jsx("span",{...R.getStyles("tabSection",V),"data-position":"left",children:s}),i&&x.jsx("span",{...R.getStyles("tabLabel",V),children:i}),r&&x.jsx("span",{...R.getStyles("tabSection",V),"data-position":"right",children:r})]})});cS.classes=gh;cS.displayName="@mantine/core/TabsTab";const bR="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Wre={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Xre=(t,{radius:e,color:n,autoContrast:o})=>({root:{"--tabs-radius":Kn(e),"--tabs-color":cr(n,t),"--tabs-text-color":xoe(o,t)?TB({color:n,theme:t,autoContrast:o}):void 0}}),Gr=dt((t,e)=>{const n=Ee("Tabs",Wre,t),{defaultValue:o,value:i,onChange:r,orientation:s,children:a,loop:u,id:d,activateTabWithKeyboard:h,allowTabDeactivation:p,variant:g,color:b,radius:v,inverted:k,placement:C,keepMounted:_,classNames:M,styles:A,unstyled:O,className:R,style:j,vars:z,autoContrast:V,mod:Z,...oe}=n,be=ch(d),[he,ye]=yu({value:i,defaultValue:o,finalValue:null,onChange:r}),ve=ct({name:"Tabs",props:n,classes:gh,className:R,style:j,classNames:M,styles:A,unstyled:O,vars:z,varsResolver:Xre});return x.jsx(Gre,{value:{placement:C,value:he,orientation:s,id:be,loop:u,activateTabWithKeyboard:h,getTabId:YO(`${be}-tab`,bR),getPanelId:YO(`${be}-panel`,bR),onChange:ye,allowTabDeactivation:p,variant:g,color:b,radius:v,inverted:k,keepMounted:_,unstyled:O,getStyles:ve},children:x.jsx($e,{ref:e,id:be,variant:g,mod:[{orientation:s,inverted:s==="horizontal"&&k,placement:s==="vertical"&&C},Z],...ve("root"),...oe,children:a})})});Gr.classes=gh;Gr.displayName="@mantine/core/Tabs";Gr.Tab=cS;Gr.Panel=aS;Gr.List=lS;const Jre={},oy=dt((t,e)=>{const n=Ee("TextInput",Jre,t);return x.jsx(ku,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});oy.classes=ku.classes;oy.displayName="@mantine/core/TextInput";const bj=(t,e,n=!1)=>{const o=[];function i(r,s="--bn"){for(const a in r){const u=a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),d=`${s}-${u}`;typeof r[a]!="object"?(typeof r[a]=="number"&&(r[a]=`${r[a]}px`),n?e.style.removeProperty(d):e.style.setProperty(d,r[a].toString())):i(r[a],d)}}return i(t),o},yR=(t,e)=>bj(t,e),Qre={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},ese=t=>bj(Qre,t,!0),yj=t=>x.jsxs(mh,{gap:0,className:"bn-tooltip",children:[x.jsx(ur,{size:"sm",lineClamp:5,children:t.mainTooltip}),t.secondaryTooltip&&x.jsx(ur,{size:"xs",lineClamp:5,children:t.secondaryTooltip})]}),Vv=S.forwardRef((t,e)=>{const{className:n,children:o,mainTooltip:i,secondaryTooltip:r,icon:s,isSelected:a,isDisabled:u,onClick:d,label:h,variant:p,...g}=t;Qe(g,!1);const[b,v]=S.useState(!1),k=o?x.jsx(Li,{"aria-label":h,className:n,onMouseDown:C=>{Xw()&&C.currentTarget.focus()},onClick:C=>{v(!0),d==null||d(C)},onPointerLeave:()=>v(!1),"aria-pressed":a,"data-selected":a||void 0,"data-test":i?i.slice(0,1).toLowerCase()+i.replace(/\s+/g,"").slice(1):void 0,size:p==="compact"?"compact-xs":"xs",disabled:u||!1,ref:e,...g,children:o}):x.jsx(Ba,{className:n,"aria-label":h,onMouseDown:C=>{Xw()&&C.currentTarget.focus()},onClick:C=>{v(!0),d==null||d(C)},onPointerLeave:()=>v(!1),"aria-pressed":a,"data-selected":a||void 0,"data-test":i?i.slice(0,1).toLowerCase()+i.replace(/\s+/g,"").slice(1):void 0,size:p==="compact"?20:30,disabled:u||!1,ref:e,...g,children:s});return i?x.jsx(Su,{disabled:b,withinPortal:!1,label:x.jsx(yj,{mainTooltip:i,secondaryTooltip:r}),children:k}):k}),tse=S.forwardRef((t,e)=>{const{className:n,text:o,icon:i,isSelected:r,mainTooltip:s,secondaryTooltip:a,onClick:u,onMouseEnter:d,...h}=t;Qe(h,!1);const[p,g]=S.useState(!1),b=x.jsxs(ty,{className:n,checked:r===!0,wrapperProps:{onMouseEnter:d,onMouseLeave:()=>g(!1),onClick:v=>{g(!0),u==null||u(v)}},variant:"light",icon:null,ref:e,children:[x.jsx("span",{children:i}),x.jsx("span",{children:o})]});return!s||p?b:x.jsx(Su,{refProp:"rootRef",withinPortal:!1,label:x.jsx(yj,{mainTooltip:s,secondaryTooltip:a}),children:b})}),nse=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i),x.jsx(Rn,{className:n,ref:e,children:o})}),ose=S.forwardRef((t,e)=>{const{className:n,children:o,headerText:i,selected:r,onFocus:s,onBlur:a,tabIndex:u,...d}=t;Qe(d,!1);const h=S.useRef(null);return S.useEffect(()=>{var p;r&&((p=h.current)==null||p.scrollIntoView({behavior:"smooth",block:"center"}))},[r]),x.jsxs(hh,{className:nn(n,r?"selected":""),onFocus:s,onBlur:a,tabIndex:u,ref:CC([e,h]),children:[i&&x.jsx(ur,{className:"bn-header-text",children:i}),o]})}),ise=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i,!1),x.jsx(hh.Section,{className:n,ref:e,children:o})}),rse=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i,!1),x.jsx(XC,{className:n,label:x.jsx(ur,{children:o}),ref:e})}),sse=S.forwardRef((t,e)=>{const{authorInfo:n,timeString:o,edited:i,...r}=t;return Qe(r,!1),n==="loading"?x.jsxs(Rn,{children:[x.jsx(Vg,{height:24,width:24}),x.jsx("div",{children:x.jsx(Vg,{height:12,width:100})})]}):x.jsxs(Rn,{children:[x.jsx(Qb,{src:n.avatarUrl,alt:n.username,radius:"xl",size:"sm",color:"initials"}),x.jsxs(ur,{fz:"sm",fw:"bold",children:[n.username,x.jsxs(ur,{fz:"xs",c:"dimmed",span:!0,ml:"xs",children:[o," ",i&&"(edited)"]})]})]})}),lse=S.forwardRef((t,e)=>{const{className:n,showActions:o,authorInfo:i,timeString:r,edited:s,actions:a,children:u,...d}=t,{hovered:h,ref:p}=Rne(),{focused:g,ref:b}=CB(),v=CC([e,p]);return Qe(d,!1),x.jsxs(Rn,{pos:"relative",ref:v,className:n,children:[a&&(o===!0||o===void 0||o==="hover"&&h||g)?x.jsx(Rn,{ref:b,style:{position:"absolute",right:0,top:0,zIndex:10},children:a}):null,x.jsx(sse,{...t}),u]})}),ase=S.forwardRef((t,e)=>{const{className:n,autoFocus:o,onFocus:i,onBlur:r,editor:s,editable:a,...u}=t;return Qe(u,!1),x.jsx(Cj,{autoFocus:o,className:n,editor:t.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:a,ref:e,onFocus:i,onBlur:r,children:x.jsx(oB,{formattingToolbar:cse})})}),cse=()=>{const t=tB([]).filter(e=>e.key!=="nestBlockButton"&&e.key!=="unnestBlockButton");return x.jsx(nB,{blockTypeSelectItems:[],children:t})},use=S.forwardRef((t,e)=>{const{className:n,name:o,label:i,icon:r,value:s,autoFocus:a,placeholder:u,onKeyDown:d,onChange:h,onSubmit:p,...g}=t;return Qe(g),x.jsx(oy,{size:"xs",className:n,ref:e,name:o,label:i,leftSection:r,value:s,autoFocus:a,"data-autofocus":a?"true":void 0,placeholder:u,onKeyDown:d,onChange:h,onSubmit:p})});var vj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vR=Ve.createContext&&Ve.createContext(vj),dse=["attr","size","title"];function fse(t,e){if(t==null)return{};var n=hse(t,e),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function hse(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},$g.apply(this,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(o){pse(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function pse(t,e,n){return e=mse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mse(t){var e=gse(t,"string");return typeof e=="symbol"?e:e+""}function gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wj(t){return t&&t.map((e,n)=>Ve.createElement(e.tag,Ug({key:n},e.attr),wj(e.child)))}function kj(t){return e=>Ve.createElement(bse,$g({attr:Ug({},t.attr)},e),wj(t.child))}function bse(t){var e=n=>{var{attr:o,size:i,title:r}=t,s=fse(t,dse),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ve.createElement("svg",$g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:u,style:Ug(Ug({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&Ve.createElement("title",null,r),t.children)};return vR!==void 0?Ve.createElement(vR.Consumer,null,n=>e(n)):e(vj)}function yse(t){return kj({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function vse(t){return kj({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}const xj=S.createContext(void 0),wse=S.forwardRef((t,e)=>{const{children:n,onOpenChange:o,position:i,sub:r,...s}=t;Qe(s);const[a,u]=S.useState(!1),d=S.useRef(null),h=S.useRef(),p=S.useCallback(()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{u(!1)},250)},[]),g=S.useCallback(()=>{h.current&&clearTimeout(h.current),u(!0)},[]);return x.jsx(xj.Provider,{value:{onMenuMouseOver:g,onMenuMouseLeave:p},children:x.jsx(Xt.Item,{className:"bn-menu-item bn-mt-sub-menu-item",ref:uh(e,d),onMouseOver:g,onMouseLeave:p,children:x.jsx(Xt,{portalProps:{target:d.current?d.current.parentElement:void 0},middlewares:{flip:!0,shift:!0,inline:!1,size:!0},trigger:"hover",opened:a,onChange:o,position:i,children:n})})})}),kse=t=>{const{children:e,onOpenChange:n,position:o,sub:i,...r}=t;return Qe(r),i?x.jsx(wse,{...t}):x.jsx(Xt,{withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:o,children:e})},xse=S.forwardRef((t,e)=>{const{className:n,children:o,icon:i,checked:r,subTrigger:s,onClick:a,...u}=t;return Qe(u,!1),s?x.jsxs("div",{onClick:d=>{d.preventDefault(),d.stopPropagation()},ref:e,...u,children:[o,x.jsx(vse,{size:15})]}):x.jsx(Xt.Item,{className:n,ref:e,leftSection:i,rightSection:r?x.jsx(qC,{size:10}):r===!1?x.jsx("div",{className:"bn-tick-space"}):null,onClick:a,...u,children:o})}),Cse=t=>{const{children:e,sub:n,...o}=t;return Qe(o),x.jsx(Xt.Target,{children:e})},Sse=S.forwardRef((t,e)=>{const{className:n,children:o,sub:i,...r}=t;Qe(r);const s=S.useContext(xj);return x.jsx(Xt.Dropdown,{className:n,ref:e,onMouseOver:s==null?void 0:s.onMenuMouseOver,onMouseLeave:s==null?void 0:s.onMenuMouseLeave,children:o})}),_se=S.forwardRef((t,e)=>{const{className:n,...o}=t;return Qe(o),x.jsx(Xt.Divider,{className:n,ref:e})}),Ese=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i),x.jsx(Xt.Label,{className:n,ref:e,children:o})}),Mse=S.forwardRef((t,e)=>{const{className:n,children:o,icon:i,onClick:r,onDragEnd:s,onDragStart:a,draggable:u,label:d,...h}=t;return Qe(h,!1),i?x.jsx(Ba,{size:24,className:n,ref:e,onClick:r,onDragEnd:s,onDragStart:a,draggable:u,"aria-label":d,...h,children:i}):x.jsx(Li,{className:n,ref:e,onClick:r,onDragEnd:s,onDragStart:a,draggable:u,"aria-label":d,...h,children:o})}),Tse=S.forwardRef((t,e)=>{const{className:n,tabs:o,defaultOpenTab:i,openTab:r,setOpenTab:s,loading:a,...u}=t;return Qe(u),x.jsx(Rn,{className:n,ref:e,children:x.jsxs(Gr,{value:r,defaultValue:i,onChange:s,children:[a&&x.jsx(QC,{visible:a}),x.jsx(Gr.List,{children:o.map(d=>x.jsx(Gr.Tab,{"data-test":`${d.name.toLowerCase()}-tab`,value:d.name,children:d.name},d.name))}),o.map(d=>x.jsx(Gr.Panel,{value:d.name,children:d.tabPanel},d.name))]})})}),Ase=S.forwardRef((t,e)=>{const{className:n,children:o,onClick:i,label:r,...s}=t;return Qe(s),x.jsx(Li,{size:"xs","aria-label":r,className:n,ref:e,onClick:i,...s,children:o})}),Ose=S.forwardRef((t,e)=>{const{className:n,accept:o,value:i,placeholder:r,onChange:s,...a}=t;return Qe(a),x.jsx(wre,{size:"xs",className:n,ref:e,accept:o,value:i,placeholder:r,onChange:s,...a})}),Rse=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i),x.jsx("div",{className:n,ref:e,children:o})}),Nse=S.forwardRef((t,e)=>{const{className:n,value:o,placeholder:i,onKeyDown:r,onChange:s,...a}=t;return Qe(a),x.jsx(oy,{size:"xs","data-test":"embed-input",className:n,ref:e,value:o,placeholder:i,onKeyDown:r,onChange:s})}),Dse=t=>{const{opened:e,position:n,children:o,...i}=t;return Qe(i),x.jsx(_l,{withinPortal:!1,opened:e,position:n,children:o})},Lse=t=>{const{children:e,...n}=t;return Qe(n),x.jsx(zC,{children:e})},Bse=S.forwardRef((t,e)=>{const{className:n,children:o,variant:i,...r}=t;return Qe(r),x.jsx(Gb,{className:n,ref:e,children:o})}),jse=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i,!1),x.jsx(Rn,{align:"center",gap:0,className:n,ref:e,...i,children:o})}),Hse=S.forwardRef((t,e)=>{const{className:n,children:o,icon:i,onClick:r,onDragEnd:s,onDragStart:a,draggable:u,label:d,...h}=t;return Qe(h,!1),i?x.jsx(Ba,{size:24,className:n,ref:e,onClick:r,onDragEnd:s,onDragStart:a,draggable:u,"aria-label":d,...h,children:i}):x.jsx(Li,{className:n,ref:e,onClick:r,onDragEnd:s,onDragStart:a,draggable:u,"aria-label":d,...h,children:o})}),Ise=S.forwardRef((t,e)=>{const{className:n,children:o,id:i,...r}=t;return Qe(r),x.jsx(mh,{gap:0,className:n,ref:e,id:i,role:"listbox",children:o})}),zse=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i),x.jsx(Rn,{className:n,ref:e,children:x.jsx(Rn,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),Pse=S.forwardRef((t,e)=>{const{className:n,isSelected:o,onClick:i,item:r,id:s,...a}=t;Qe(a);const u=S.useRef(null);return S.useEffect(()=>{if(!u.current||!o)return;const d=hB(u.current,document.querySelector(".bn-suggestion-menu"));d==="top"?u.current.scrollIntoView(!0):d==="bottom"&&u.current.scrollIntoView(!1)},[o]),x.jsxs(Rn,{gap:0,className:n,ref:uh(e,u),id:s,role:"option",onClick:i,"aria-selected":o||void 0,children:[r.icon&&x.jsx(Rn,{className:"bn-mt-suggestion-menu-item-section","data-position":"left",children:r.icon}),x.jsxs(mh,{gap:0,className:"bn-mt-suggestion-menu-item-body",children:[x.jsx(ur,{className:"bn-mt-suggestion-menu-item-title",children:r.title}),x.jsx(ur,{className:"bn-mt-suggestion-menu-item-subtitle",children:r.subtext})]}),r.badge&&x.jsx(Rn,{"data-position":"right",className:"bn-mt-suggestion-menu-item-section",children:x.jsx(KC,{size:"xs",children:r.badge})})]})}),Vse=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i),x.jsx(Rn,{className:n,ref:e,children:o})}),$se=S.forwardRef((t,e)=>{const{className:n,children:o,...i}=t;return Qe(i),x.jsx(El,{className:n,type:"dots",ref:e})}),Use=S.forwardRef((t,e)=>{const{className:n,children:o,id:i,columns:r,...s}=t;return Qe(s),x.jsx("div",{className:n,style:{gridTemplateColumns:`repeat(${r}, 1fr)`},ref:e,id:i,role:"grid",children:o})}),Fse=S.forwardRef((t,e)=>{const{className:n,children:o,columns:i,...r}=t;return Qe(r),x.jsx(Rn,{className:n,style:{gridColumn:`1 / ${i+1}`},ref:e,children:x.jsx(Rn,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),qse=S.forwardRef((t,e)=>{const{className:n,isSelected:o,onClick:i,item:r,id:s,...a}=t;Qe(a);const u=S.useRef(null);return S.useEffect(()=>{if(!u.current||!o)return;const d=hB(u.current,document.querySelector(".bn-grid-suggestion-menu"));d==="top"?u.current.scrollIntoView(!0):d==="bottom"&&u.current.scrollIntoView(!1)},[o]),x.jsx("div",{className:n,ref:uh(e,u),id:s,role:"option",onClick:i,"aria-selected":o||void 0,children:r.icon})}),Gse=S.forwardRef((t,e)=>{const{className:n,children:o,columns:i,...r}=t;return Qe(r),x.jsx(El,{className:n,style:{gridColumn:`1 / ${i+1}`},type:"dots",ref:e})}),Kse=S.forwardRef((t,e)=>{const{children:n,className:o,onMouseDown:i,onClick:r,...s}=t;return Qe(s,!1),x.jsx(Li,{className:o,ref:e,onMouseDown:i,onClick:r,...s,children:n})}),Zse=S.forwardRef((t,e)=>{const{className:n,children:o,draggable:i,onDragStart:r,onDragEnd:s,style:a,label:u,...d}=t;return Qe(d,!1),x.jsx(Li,{className:n,ref:e,"aria-label":u,draggable:i,onDragStart:r,onDragEnd:s,style:a,...d,children:o})}),$v=S.forwardRef((t,e)=>{const{className:n,children:o,onMouseEnter:i,onMouseLeave:r,variant:s,...a}=t;Qe(a);const{ref:u,focused:d}=CB(),h=xB(d),p=uh(e,u,h);return x.jsx(FC,{className:n,ref:p,role:"toolbar",onMouseEnter:i,onMouseLeave:r,gap:s==="action-toolbar"?2:void 0,children:o})}),Uv=S.forwardRef((t,e)=>{const{className:n,items:o,isDisabled:i,...r}=t;Qe(r);const s=o.filter(a=>a.isSelected)[0];return s?x.jsxs(Xt,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:i,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},children:[x.jsx(Xt.Target,{children:x.jsx(Li,{onMouseDown:a=>{Xw()&&a.currentTarget.focus()},leftSection:s.icon,rightSection:x.jsx(yse,{}),size:"xs",variant:"subtle",disabled:i,children:s.text})}),x.jsx(Xt.Dropdown,{className:n,ref:e,children:o.map(a=>x.jsx(Xt.Item,{onClick:a.onClick,leftSection:a.icon,rightSection:a.isSelected?x.jsx(qC,{size:10,className:"bn-tick-icon"}):x.jsx("div",{className:"bn-tick-space"}),disabled:a.isDisabled,children:a.text},a.text))})]}):null}),Yse={FormattingToolbar:{Root:$v,Button:Vv,Select:Uv},FilePanel:{Root:Tse,Button:Ase,FileInput:Ose,TabPanel:Rse,TextInput:Nse},GridSuggestionMenu:{Root:Use,Item:qse,EmptyItem:Fse,Loader:Gse},LinkToolbar:{Root:$v,Button:Vv,Select:Uv},SideMenu:{Root:jse,Button:Hse},SuggestionMenu:{Root:Ise,Item:Pse,EmptyItem:zse,Label:Vse,Loader:$se},TableHandle:{Root:Zse,ExtendButton:Kse},Generic:{Badge:{Root:tse,Group:nse},Form:{Root:t=>x.jsx("div",{children:t.children}),TextInput:use},Menu:{Root:kse,Trigger:Cse,Dropdown:Sse,Divider:_se,Label:Ese,Item:xse,Button:Mse},Popover:{Root:Dse,Trigger:Lse,Content:Bse},Toolbar:{Root:$v,Button:Vv,Select:Uv}},Comments:{Comment:lse,Editor:ase,Card:ose,CardSection:ise,ExpandSectionsPrompt:rse}},Wse={activeClassName:""},Cj=t=>{const{className:e,theme:n,...o}=t,i=br(),r=cB(),s=(i==null?void 0:i.colorSchemePreference)||r,a=S.useCallback(d=>{if(d&&(ese(d),typeof n=="object")){if("light"in n&&"dark"in n){yR(n[s==="dark"?"dark":"light"],d);return}yR(n,d);return}},[s,n]),u=typeof n=="string"?n:s!=="no-preference"?s:"light";return x.jsx(I5.Provider,{value:Yse,children:x.jsx(RB,{theme:Wse,cssVariablesSelector:".bn-mantine",getRootElement:()=>{},children:x.jsx(Pte,{"data-mantine-color-scheme":u,className:nn("bn-mantine",e||""),theme:typeof n=="object"?void 0:n,...o,ref:a})})})},Xse={slash_menu:{heading:{title:"عنوان 1",subtext:"يستخدم لعناوين المستوى الأعلى",aliases:["ع","عنوان1","ع1"],group:"العناوين"},heading_2:{title:"عنوان 2",subtext:"يستخدم للأقسام الرئيسية",aliases:["ع2","عنوان2","عنوان فرعي"],group:"العناوين"},heading_3:{title:"عنوان 3",subtext:"يستخدم للأقسام الفرعية والعناوين المجموعة",aliases:["ع3","عنوان3","عنوان فرعي"],group:"العناوين"},quote:{title:"اقتباس",subtext:"اقتباس أو مقتطف",aliases:["quotation","blockquote","bq"],group:"الكتل الأساسية"},numbered_list:{title:"قائمة مرقمة",subtext:"تستخدم لعرض قائمة مرقمة",aliases:["ق","عناصر قائمة","قائمة","قائمة مرقمة"],group:"الكتل الأساسية"},bullet_list:{title:"قائمة نقطية",subtext:"تستخدم لعرض قائمة غير مرتبة",aliases:["ق","عناصر قائمة","قائمة","قائمة نقطية"],group:"الكتل الأساسية"},check_list:{title:"قائمة تحقق",subtext:"تستخدم لعرض قائمة بمربعات التحقق",aliases:["قوائم غير مرتبة","عناصر قائمة","قائمة","قائمة تحقق","قائمة التحقق","قائمة مشطوبة","مربع التحقق"],group:"الكتل الأساسية"},paragraph:{title:"فقرة",subtext:"تستخدم لنص الوثيقة الأساسي",aliases:["ف","فقرة"],group:"الكتل الأساسية"},code_block:{title:"كود",subtext:"يستخدم لعرض الكود مع تحديد الصيغة",aliases:["كود","مسبق"],group:"الكتل الأساسية"},page_break:{title:"فاصل الصفحة",subtext:"فاصل الصفحة",aliases:["page","break","separator","فاصل","الصفحة"],group:"الكتل الأساسية"},table:{title:"جدول",subtext:"يستخدم للجداول",aliases:["جدول"],group:"متقدم"},image:{title:"صورة",subtext:"إدراج صورة",aliases:["صورة","رفع صورة","تحميل","صورة","صورة","وسائط","رابط"],group:"وسائط"},video:{title:"فيديو",subtext:"إدراج فيديو",aliases:["فيديو","رفع فيديو","تحميل","فيديو","فيلم","وسائط","رابط"],group:"وسائط"},audio:{title:"صوت",subtext:"إدراج صوت",aliases:["صوت","رفع صوت","تحميل","صوت","صوت","وسائط","رابط"],group:"وسائط"},file:{title:"ملف",subtext:"إدراج ملف",aliases:["ملف","تحميل","تضمين","وسائط","رابط"],group:"وسائط"},emoji:{title:"الرموز التعبيرية",subtext:"تُستخدم لإدراج رمز تعبيري",aliases:["رمز تعبيري","إيموجي","إيموت","عاطفة","وجه"],group:"آخرون"}},placeholders:{default:"أدخل نصًا أو اكتب '/' للأوامر",heading:"عنوان",bulletListItem:"قائمة",numberedListItem:"قائمة",checkListItem:"قائمة",new_comment:"اكتب تعليقًا...",edit_comment:"تحرير التعليق...",comment_reply:"أضف تعليقًا..."},file_blocks:{image:{add_button_text:"إضافة صورة"},video:{add_button_text:"إضافة فيديو"},audio:{add_button_text:"إضافة صوت"},file:{add_button_text:"إضافة ملف"}},side_menu:{add_block_label:"إضافة محتوي",drag_handle_label:"فتح قائمة المحتويات"},drag_handle:{delete_menuitem:"حذف",colors_menuitem:"ألوان",header_row_menuitem:"عنوان الصف",header_column_menuitem:"عنوان العمود"},table_handle:{delete_column_menuitem:"حذف عمود",delete_row_menuitem:"حذف صف",add_left_menuitem:"إضافة عمود إلى اليسار",add_right_menuitem:"إضافة عمود إلى اليمين",add_above_menuitem:"إضافة صف أعلى",add_below_menuitem:"إضافة صف أسفل",split_cell_menuitem:"تقسيم الخلية",merge_cells_menuitem:"جمع الخلايا",background_color_menuitem:"لون الخلفية"},suggestion_menu:{no_items_title:"لم يتم العثور على عناصر",loading:"جارٍ التحميل…"},color_picker:{text_title:"نص",background_title:"خلفية",colors:{default:"افتراضي",gray:"رمادي",brown:"بني",red:"أحمر",orange:"برتقالي",yellow:"أصفر",green:"أخضر",blue:"أزرق",purple:"أرجواني",pink:"وردي"}},formatting_toolbar:{bold:{tooltip:"عريض",secondary_tooltip:"Mod+B"},italic:{tooltip:"مائل",secondary_tooltip:"Mod+I"},underline:{tooltip:"تحته خط",secondary_tooltip:"Mod+U"},strike:{tooltip:"مشطوب",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"كود",secondary_tooltip:""},colors:{tooltip:"ألوان"},link:{tooltip:"إنشاء رابط",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"تحرير التسمية التوضيحية",input_placeholder:"تحرير التسمية التوضيحية"},file_replace:{tooltip:{image:"استبدال الصورة",video:"استبدال الفيديو",audio:"استبدال الصوت",file:"استبدال الملف"}},file_rename:{tooltip:{image:"إعادة تسمية الصورة",video:"إعادة تسمية الفيديو",audio:"إعادة تسمية الصوت",file:"إعادة تسمية الملف"},input_placeholder:{image:"إعادة تسمية الصورة",video:"إعادة تسمية الفيديو",audio:"إعادة تسمية الصوت",file:"إعادة تسمية الملف"}},file_download:{tooltip:{image:"تنزيل الصورة",video:"تنزيل الفيديو",audio:"تنزيل الصوت",file:"تنزيل الملف"}},file_delete:{tooltip:{image:"حذف الصورة",video:"حذف الفيديو",audio:"حذف الصوت",file:"حذف الملف"}},file_preview_toggle:{tooltip:"تبديل المعاينة"},nest:{tooltip:"محتويات متداخلة",secondary_tooltip:"Tab"},unnest:{tooltip:"إلغاء التداخل",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"محاذاة النص إلى اليسار"},align_center:{tooltip:"محاذاة النص في المنتصف"},align_right:{tooltip:"محاذاة النص إلى اليمين"},align_justify:{tooltip:"ضبط النص"},table_cell_merge:{tooltip:"جمع الخلايا"},comment:{tooltip:"إضافة ملاحظة"}},file_panel:{upload:{title:"تحميل",file_placeholder:{image:"تحميل صورة",video:"تحميل فيديو",audio:"تحميل صوت",file:"تحميل ملف"},upload_error:"خطأ: فشل التحميل"},embed:{title:"تضمين",embed_button:{image:"تضمين صورة",video:"تضمين فيديو",audio:"تضمين صوت",file:"تضمين ملف"},url_placeholder:"أدخل الرابط"}},link_toolbar:{delete:{tooltip:"إزالة الرابط"},edit:{text:"تحرير الرابط",tooltip:"تحرير"},open:{tooltip:"فتح في تبويب جديد"},form:{title_placeholder:"تحرير العنوان",url_placeholder:"تحرير الرابط"}},comments:{actions:{add_reaction:"أضف تفاعلًا",resolve:"حل",edit_comment:"تحرير التعليق",delete_comment:"حذف التعليق",more_actions:"المزيد من الإجراءات"},reactions:{reacted_by:"تفاعل بواسطة"},sidebar:{marked_as_resolved:"تم وضع علامة كتم الحل",more_replies:t=>`${t} ردود أخرى`}},generic:{ctrl_shortcut:"Ctrl"}},Jse={slash_menu:{heading:{title:"Überschrift 1",subtext:"Hauptebene Überschrift",aliases:["h","überschrift1","h1"],group:"Überschriften"},heading_2:{title:"Überschrift 2",subtext:"Wichtige Abschnittsüberschrift",aliases:["h2","überschrift2","unterüberschrift"],group:"Überschriften"},heading_3:{title:"Überschrift 3",subtext:"Unterabschnitts- und Gruppenüberschrift",aliases:["h3","überschrift3","unterüberschrift"],group:"Überschriften"},quote:{title:"Zitat",subtext:"Zitat oder Auszug",aliases:["quotation","blockquote","bq"],group:"Grundlegende Blöcke"},numbered_list:{title:"Nummerierte Liste",subtext:"Liste mit nummerierten Elementen",aliases:["ol","li","liste","nummerierteliste","nummerierte liste"],group:"Grundlegende Blöcke"},bullet_list:{title:"Aufzählungsliste",subtext:"Liste mit unnummerierten Elementen",aliases:["ul","li","liste","aufzählungsliste","aufzählung liste"],group:"Grundlegende Blöcke"},check_list:{title:"Checkliste",subtext:"Liste mit Kontrollkästchen",aliases:["ul","li","liste","checkliste","check liste","geprüfte liste","kontrollkästchen"],group:"Grundlegende Blöcke"},paragraph:{title:"Absatz",subtext:"Der Hauptteil Ihres Dokuments",aliases:["p","absatz"],group:"Grundlegende Blöcke"},code_block:{title:"Codeblock",subtext:"Codeblock mit Syntaxhervorhebung",aliases:["code","pre"],group:"Grundlegende Blöcke"},page_break:{title:"Seitenumbruch",subtext:"Seitentrenner",aliases:["page","break","separator","seitenumbruch","trenner"],group:"Grundlegende Blöcke"},table:{title:"Tabelle",subtext:"Tabelle mit editierbaren Zellen",aliases:["tabelle"],group:"Erweitert"},image:{title:"Bild",subtext:"Größenveränderbares Bild mit Beschriftung",aliases:["bild","bildhochladen","hochladen","img","bild","medien","url"],group:"Medien"},video:{title:"Video",subtext:"Größenveränderbares Video mit Beschriftung",aliases:["video","videoupload","hochladen","mp4","film","medien","url"],group:"Medien"},audio:{title:"Audio",subtext:"Eingebettetes Audio mit Beschriftung",aliases:["audio","audioupload","hochladen","mp3","ton","medien","url"],group:"Medien"},file:{title:"Datei",subtext:"Eingebettete Datei",aliases:["datei","hochladen","einbetten","medien","url"],group:"Medien"},emoji:{title:"Emoji",subtext:"Nach Emoji suchen und einfügen",aliases:["emoji","emote","emotion","gesicht"],group:"Andere"}},placeholders:{default:"Text eingeben oder '/' für Befehle tippen",heading:"Überschrift",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Einen Kommentar schreiben …",edit_comment:"Kommentar bearbeiten …",comment_reply:"Kommentar hinzufügen …"},file_blocks:{image:{add_button_text:"Bild hinzufügen"},video:{add_button_text:"Video hinzufügen"},audio:{add_button_text:"Audio hinzufügen"},file:{add_button_text:"Datei hinzufügen"}},side_menu:{add_block_label:"Block hinzufügen",drag_handle_label:"Blockmenü öffnen"},drag_handle:{delete_menuitem:"Löschen",colors_menuitem:"Farben",header_row_menuitem:"Kopfzeile",header_column_menuitem:"Kopfspalte"},table_handle:{delete_column_menuitem:"Spalte löschen",delete_row_menuitem:"Zeile löschen",add_left_menuitem:"Spalte links hinzufügen",add_right_menuitem:"Spalte rechts hinzufügen",add_above_menuitem:"Zeile oberhalb hinzufügen",add_below_menuitem:"Zeile unterhalb hinzufügen",split_cell_menuitem:"Zelle teilen",merge_cells_menuitem:"Zellen zusammenführen",background_color_menuitem:"Hintergrundfarbe"},suggestion_menu:{no_items_title:"Keine Elemente gefunden",loading:"Laden …"},color_picker:{text_title:"Text",background_title:"Hintergrund",colors:{default:"Standard",gray:"Grau",brown:"Braun",red:"Rot",orange:"Orange",yellow:"Gelb",green:"Grün",blue:"Blau",purple:"Lila",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fett",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Unterstrichen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Durchgestrichen",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Farben"},link:{tooltip:"Link erstellen",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Beschriftung bearbeiten",input_placeholder:"Beschriftung bearbeiten"},file_replace:{tooltip:{image:"Bild ersetzen",video:"Video ersetzen",audio:"Audio ersetzen",file:"Datei ersetzen"}},file_rename:{tooltip:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"},input_placeholder:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"}},file_download:{tooltip:{image:"Bild herunterladen",video:"Video herunterladen",audio:"Audio herunterladen",file:"Datei herunterladen"}},file_delete:{tooltip:{image:"Bild löschen",video:"Video löschen",audio:"Audio löschen",file:"Datei löschen"}},file_preview_toggle:{tooltip:"Vorschau umschalten"},nest:{tooltip:"Block verschachteln",secondary_tooltip:"Tab"},unnest:{tooltip:"Block entnesten",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Text linksbündig"},align_center:{tooltip:"Text zentrieren"},align_right:{tooltip:"Text rechtsbündig"},align_justify:{tooltip:"Text Blocksatz"},table_cell_merge:{tooltip:"Zellen zusammenführen"},comment:{tooltip:"Kommentar hinzufügen"}},file_panel:{upload:{title:"Hochladen",file_placeholder:{image:"Bild hochladen",video:"Video hochladen",audio:"Audio hochladen",file:"Datei hochladen"},upload_error:"Fehler: Hochladen fehlgeschlagen"},embed:{title:"Einbetten",embed_button:{image:"Bild einbetten",video:"Video einbetten",audio:"Audio einbetten",file:"Datei einbetten"},url_placeholder:"URL eingeben"}},link_toolbar:{delete:{tooltip:"Link entfernen"},edit:{text:"Link bearbeiten",tooltip:"Bearbeiten"},open:{tooltip:"In neuem Tab öffnen"},form:{title_placeholder:"Titel bearbeiten",url_placeholder:"URL bearbeiten"}},comments:{actions:{add_reaction:"Reaktion hinzufügen",resolve:"Lösen",edit_comment:"Kommentar bearbeiten",delete_comment:"Kommentar löschen",more_actions:"Weitere Aktionen"},reactions:{reacted_by:"Reagiert von"},sidebar:{marked_as_resolved:"Als gelöst markiert",more_replies:t=>`${t} weitere Antworten`}},generic:{ctrl_shortcut:"Strg"}},Qse={slash_menu:{heading:{title:"Encabezado 1",subtext:"Encabezado de primer nivel",aliases:["h","encabezado1","h1"],group:"Encabezados"},heading_2:{title:"Encabezado 2",subtext:"Encabezado de sección principal",aliases:["h2","encabezado2","subencabezado"],group:"Encabezados"},heading_3:{title:"Encabezado 3",subtext:"Encabezado de subsección y grupo",aliases:["h3","encabezado3","subencabezado"],group:"Encabezados"},quote:{title:"Cita",subtext:"Cita o extracto",aliases:["quotation","blockquote","bq"],group:"Bloques básicos"},numbered_list:{title:"Lista Numerada",subtext:"Lista con elementos ordenados",aliases:["ol","li","lista","lista numerada"],group:"Bloques básicos"},bullet_list:{title:"Lista con Viñetas",subtext:"Lista con elementos no ordenados",aliases:["ul","li","lista","lista con viñetas"],group:"Bloques básicos"},check_list:{title:"Lista de Verificación",subtext:"Lista con casillas de verificación",aliases:["ul","li","lista","lista de verificación","lista de chequeo","checkbox"],group:"Bloques básicos"},paragraph:{title:"Párrafo",subtext:"El cuerpo de tu documento",aliases:["p","párrafo"],group:"Bloques básicos"},code_block:{title:"Bloque de Código",subtext:"Bloque de código con resaltado de sintaxis",aliases:["code","pre"],group:"Bloques básicos"},page_break:{title:"Salto de página",subtext:"Separador de página",aliases:["page","break","separator","salto","separador"],group:"Bloques básicos"},table:{title:"Tabla",subtext:"Tabla con celdas editables",aliases:["tabla"],group:"Avanzado"},image:{title:"Imagen",subtext:"Imagen redimensionable con leyenda",aliases:["imagen","subir imagen","cargar","img","foto","media","url"],group:"Medios"},video:{title:"Vídeo",subtext:"Vídeo redimensionable con leyenda",aliases:["video","subir vídeo","cargar","mp4","película","media","url"],group:"Medios"},audio:{title:"Audio",subtext:"Audio incrustado con leyenda",aliases:["audio","subir audio","cargar","mp3","sonido","media","url"],group:"Medios"},file:{title:"Archivo",subtext:"Archivo incrustado",aliases:["archivo","cargar","incrustar","media","url"],group:"Medios"},emoji:{title:"Emoji",subtext:"Busca e inserta un emoji",aliases:["emoji","emoticono","emoción","cara"],group:"Otros"}},placeholders:{default:"Escribe o teclea '/' para comandos",heading:"Encabezado",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escribe un comentario...",edit_comment:"Editar comentario...",comment_reply:"Agregar comentario..."},file_blocks:{image:{add_button_text:"Agregar imagen"},video:{add_button_text:"Agregar vídeo"},audio:{add_button_text:"Agregar audio"},file:{add_button_text:"Agregar archivo"}},side_menu:{add_block_label:"Agregar bloque",drag_handle_label:"Abrir menú de bloque"},drag_handle:{delete_menuitem:"Eliminar",colors_menuitem:"Colores",header_row_menuitem:"Fila de encabezado",header_column_menuitem:"Columna de encabezado"},table_handle:{delete_column_menuitem:"Eliminar columna",delete_row_menuitem:"Eliminar fila",add_left_menuitem:"Agregar columna a la izquierda",add_right_menuitem:"Agregar columna a la derecha",add_above_menuitem:"Agregar fila arriba",add_below_menuitem:"Agregar fila abajo",split_cell_menuitem:"Dividir celda",merge_cells_menuitem:"Combinar celdas",background_color_menuitem:"Color de fondo"},suggestion_menu:{no_items_title:"No se encontraron elementos",loading:"Cargando…"},color_picker:{text_title:"Texto",background_title:"Fondo",colors:{default:"Por defecto",gray:"Gris",brown:"Marrón",red:"Rojo",orange:"Naranja",yellow:"Amarillo",green:"Verde",blue:"Azul",purple:"Morado",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrita",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursiva",secondary_tooltip:"Mod+I"},underline:{tooltip:"Subrayado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Tachado",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Colores"},link:{tooltip:"Crear enlace",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar leyenda",input_placeholder:"Editar leyenda"},file_replace:{tooltip:{image:"Reemplazar imagen",video:"Reemplazar vídeo",audio:"Reemplazar audio",file:"Reemplazar archivo"}},file_rename:{tooltip:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"},input_placeholder:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"}},file_download:{tooltip:{image:"Descargar imagen",video:"Descargar vídeo",audio:"Descargar audio",file:"Descargar archivo"}},file_delete:{tooltip:{image:"Eliminar imagen",video:"Eliminar vídeo",audio:"Eliminar audio",file:"Eliminar archivo"}},file_preview_toggle:{tooltip:"Alternar vista previa"},nest:{tooltip:"Anidar bloque",secondary_tooltip:"Tab"},unnest:{tooltip:"Desanidar bloque",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinear texto a la izquierda"},align_center:{tooltip:"Alinear texto al centro"},align_right:{tooltip:"Alinear texto a la derecha"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Combinar celdas"},comment:{tooltip:"Añadir comentario"}},file_panel:{upload:{title:"Subir",file_placeholder:{image:"Subir imagen",video:"Subir vídeo",audio:"Subir audio",file:"Subir archivo"},upload_error:"Error: Fallo en la subida"},embed:{title:"Incrustar",embed_button:{image:"Incrustar imagen",video:"Incrustar vídeo",audio:"Incrustar audio",file:"Incrustar archivo"},url_placeholder:"Introduce la URL"}},link_toolbar:{delete:{tooltip:"Eliminar enlace"},edit:{text:"Editar enlace",tooltip:"Editar"},open:{tooltip:"Abrir en nueva pestaña"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{actions:{add_reaction:"Agregar reacción",resolve:"Resolver",edit_comment:"Editar comentario",delete_comment:"Eliminar comentario",more_actions:"Más acciones"},reactions:{reacted_by:"Reaccionado por"},sidebar:{marked_as_resolved:"Marcado como resuelto",more_replies:t=>`${t} respuestas más`}},generic:{ctrl_shortcut:"Ctrl"}},ele={slash_menu:{heading:{title:"Titre 1",subtext:"Utilisé pour un titre de premier niveau",aliases:["h","titre1","h1"],group:"Titres"},heading_2:{title:"Titre 2",subtext:"Titre de deuxième niveau Utilisé pour les sections clés",aliases:["h2","titre2","sous-titre"],group:"Titres"},heading_3:{title:"Titre 3",subtext:"Titre de troisième niveau utilisé pour les sous-sections et les titres de groupe",aliases:["h3","titre3","sous-titre"],group:"Titres"},quote:{title:"Citation",subtext:"Citation ou extrait",aliases:["quotation","blockquote","bq"],group:"Blocs de base"},numbered_list:{title:"Liste Numérotée",subtext:"Utilisé pour afficher une liste numérotée",aliases:["ol","li","liste","listenumérotée","liste numérotée"],group:"Blocs de base"},bullet_list:{title:"Liste à puces",subtext:"Utilisé pour afficher une liste à puce non numérotée",aliases:["ul","li","liste","listeàpuces","liste à puces","bullet points","bulletpoints"],group:"Blocs de base"},check_list:{title:"Liste de tâches",subtext:"Utilisé pour afficher une liste avec des cases à cocher",aliases:["ul","li","liste","liste de vérification","liste cochée","case à cocher","checklist","checkbox","check box","to do","todo"],group:"Blocs de base"},paragraph:{title:"Paragraphe",subtext:"Utilisé pour le corps de votre document",aliases:["p","paragraphe","texte"],group:"Blocs de base"},code_block:{title:"Bloc de code",subtext:"Bloc de code avec coloration syntaxique",aliases:["code","pre"],group:"Blocs de base"},page_break:{title:"Saut de page",subtext:"Séparateur de page",aliases:["page","break","separator","saut","séparateur"],group:"Blocs de base"},table:{title:"Tableau",subtext:"Utilisé pour les tableaux",aliases:["tableau","grille"],group:"Avancé"},image:{title:"Image",subtext:"Insérer une image",aliases:["image","uploadImage","télécharger image","téléverser image","uploader image","img","photo","média","url"],group:"Médias"},video:{title:"Vidéo",subtext:"Insérer une vidéo",aliases:["vidéo","télécharger vidéo","téléverser vidéo","mp4","film","média","url"],group:"Média"},audio:{title:"Audio",subtext:"Insérer un audio",aliases:["audio","télécharger audio","téléverser audio","mp3","son","média","url"],group:"Média"},file:{title:"Fichier",subtext:"Insérer un fichier",aliases:["fichier","téléverser fichier","intégrer fichier","insérer fichier","média","url"],group:"Média"},emoji:{title:"Emoji",subtext:"Utilisé pour insérer un emoji",aliases:["emoji","émoticône","émotion","visage","smiley"],group:"Autres"}},placeholders:{default:"Entrez du texte ou tapez '/' pour faire apparaître les options de mise en page",heading:"Titre",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Écrire un commentaire...",edit_comment:"Modifier le commentaire...",comment_reply:"Ajouter un commentaire..."},file_blocks:{image:{add_button_text:"Ajouter une image"},video:{add_button_text:"Ajouter une vidéo"},audio:{add_button_text:"Ajouter un audio"},file:{add_button_text:"Ajouter un fichier"}},side_menu:{add_block_label:"Ajouter un bloc",drag_handle_label:"Ouvrir le menu du bloc"},drag_handle:{delete_menuitem:"Supprimer",colors_menuitem:"Couleurs",header_row_menuitem:"En-tête de ligne",header_column_menuitem:"En-tête de colonne"},table_handle:{delete_column_menuitem:"Supprimer la colonne",delete_row_menuitem:"Supprimer la ligne",add_left_menuitem:"Ajouter une colonne à gauche",add_right_menuitem:"Ajouter une colonne à droite",add_above_menuitem:"Ajouter une ligne au-dessus",add_below_menuitem:"Ajouter une ligne en dessous",split_cell_menuitem:"Diviser la cellule",merge_cells_menuitem:"Fusionner les cellules",background_color_menuitem:"Couleur de fond"},suggestion_menu:{no_items_title:"Aucun élément trouvé",loading:"Chargement…"},color_picker:{text_title:"Texte",background_title:"Fond",colors:{default:"Défaut",gray:"Gris",brown:"Marron",red:"Rouge",orange:"Orange",yellow:"Jaune",green:"Vert",blue:"Bleu",purple:"Violet",pink:"Rose"}},formatting_toolbar:{bold:{tooltip:"Gras",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italique",secondary_tooltip:"Mod+I"},underline:{tooltip:"Souligner",secondary_tooltip:"Mod+U"},strike:{tooltip:"Barré",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Couleurs"},link:{tooltip:"Créer un lien",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Modifier la légende",input_placeholder:"Modifier la légende"},file_replace:{tooltip:{image:"Remplacer l'image",video:"Remplacer la vidéo",audio:"Remplacer l'audio",file:"Remplacer le fichier"}},file_rename:{tooltip:{image:"Renommer l'image",video:"Renommer la vidéo",audio:"Renommer l'audio",file:"Renommer le fichier"},input_placeholder:{image:"Renommer l'image",video:"Renommer la vidéo",audio:"Renommer l'audio",file:"Renommer le fichier"}},file_download:{tooltip:{image:"Télécharger l'image",video:"Télécharger la vidéo",audio:"Télécharger l'audio",file:"Télécharger le fichier"}},file_delete:{tooltip:{image:"Supprimer l'image",video:"Supprimer la vidéo",audio:"Supprimer l'audio",file:"Supprimer le fichier"}},file_preview_toggle:{tooltip:"Basculer l'aperçu"},nest:{tooltip:"Augmenter le retrait du bloc",secondary_tooltip:"Tab"},unnest:{tooltip:"Diminuer le retait du bloc",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Aligner le texte à gauche"},align_center:{tooltip:"Aligner le texte au centre"},align_right:{tooltip:"Aligner le texte à droite"},align_justify:{tooltip:"Justifier le texte"},table_cell_merge:{tooltip:"Fusionner les cellules"},comment:{tooltip:"Ajouter un commentaire"}},file_panel:{upload:{title:"Télécharger",file_placeholder:{image:"Télécharger une image",video:"Télécharger une vidéo",audio:"Télécharger un fichier audio",file:"Télécharger un fichier"},upload_error:"Erreur : échec du téléchargement"},embed:{title:"Intégrer",embed_button:{image:"Intégrer une image",video:"Intégrer une vidéo",audio:"Intégrer un fichier audio",file:"Intégrer un fichier"},url_placeholder:"Entrez l'URL"}},link_toolbar:{delete:{tooltip:"Supprimer le lien"},edit:{text:"Modifier le lien",tooltip:"Modifier"},open:{tooltip:"Ouvrir dans un nouvel onglet"},form:{title_placeholder:"Modifier le titre",url_placeholder:"Modifier l'URL"}},comments:{actions:{add_reaction:"Ajouter une réaction",resolve:"Résoudre",edit_comment:"Modifier le commentaire",delete_comment:"Supprimer le commentaire",more_actions:"Plus d'actions"},reactions:{reacted_by:"Réagi par"},sidebar:{marked_as_resolved:"Marqué comme résolu",more_replies:t=>`${t} réponses de plus`}},generic:{ctrl_shortcut:"Ctrl"}},tle={slash_menu:{heading:{title:"Naslov 1",subtext:"Glavni naslov",aliases:["h","naslov1","h1"],group:"Naslovi"},heading_2:{title:"Naslov 2",subtext:"Naslov poglavlja",aliases:["h2","naslov2","podnaslov"],group:"Naslovi"},heading_3:{title:"Naslov 3",subtext:"Naslov podpoglavlja",aliases:["h3","naslov3","podnaslov"],group:"Naslovi"},quote:{title:"Citat",subtext:"Citat ili izvadak",aliases:["quotation","blockquote","bq"],group:"Osnovni blokovi"},numbered_list:{title:"Numerirani popis",subtext:"Popis s numeriranim stavkama",aliases:["poredaniPopis","stavkaPopisa","popis","numeriraniPopis","numerirani popis"],group:"Osnovni blokovi"},bullet_list:{title:"Popis s oznakama",subtext:"Popis s grafičkim oznakama",aliases:["neporedaniPopis","stavkaPopisa","popis","popisSOznakama","popis s oznakama"],group:"Osnovni blokovi"},check_list:{title:"Check lista",subtext:"Popis s kućicama za označavanje",aliases:["neporedaniPopis","stavkaPopisa","popis","popisZaProvjeru","check lista","označeni popis","kućicaZaOznačavanje"],group:"Osnovni blokovi"},paragraph:{title:"Normalan tekst",subtext:"Tekst paragrafa",aliases:["p","paragraf"],group:"Osnovni blokovi"},table:{title:"Tablica",subtext:"Tablica s podesivim ćelijama",aliases:["tablica"],group:"Napredno"},code_block:{title:"Blok koda",subtext:"Blok koda sa sintaksnim isticanjem",aliases:["code","pre"],group:"Osnovni blokovi"},page_break:{title:"Prijelom stranice",subtext:"Razdjelnik stranice",aliases:["page","break","separator","prijelom","razdjelnik"],group:"Osnovni blokovi"},image:{title:"Slika",subtext:"Slika s podesivom veličinom i natpisom",aliases:["slika","učitavanjeSlike","učitaj","img","fotografija","medij","url"],group:"Mediji"},video:{title:"Video",subtext:"Video s podesivom veličinom i natpisom",aliases:["video","učitavanjeVidea","učitaj","mp4","film","medij","url"],group:"Mediji"},audio:{title:"Audio",subtext:"Audio s natpisom",aliases:["audio","učitavanjeAudija","učitaj","mp3","zvuk","medij","url"],group:"Mediji"},file:{title:"Datoteka",subtext:"Ugrađena datoteka",aliases:["datoteka","učitaj","ugradi","medij","url"],group:"Mediji"},emoji:{title:"Emoji",subtext:"Pretraži i umetni emoji",aliases:["emoji","emotikon","emocija","lice"],group:"Ostalo"}},placeholders:{default:"Unesi tekst ili upiši ‘/’ za naredbe",heading:"Naslov",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napišite komentar...",edit_comment:"Uredi komentar...",comment_reply:"Dodaj komentar..."},file_blocks:{image:{add_button_text:"Dodaj sliku"},video:{add_button_text:"Dodaj video"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj datoteku"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Meni za dodavanje bloka"},drag_handle:{delete_menuitem:"Ukloni",colors_menuitem:"Boje",header_row_menuitem:"Zaglavni redak",header_column_menuitem:"Zaglavni stupac"},table_handle:{delete_column_menuitem:"Ukloni stupac",delete_row_menuitem:"Ukloni redak",add_left_menuitem:"Dodaj stupac lijevo",add_right_menuitem:"Dodaj stupac desno",add_above_menuitem:"Dodaj redak iznad",add_below_menuitem:"Dodaj redak ispod",split_cell_menuitem:"Podijeli ćeliju",merge_cells_menuitem:"Spoji ćelije",background_color_menuitem:"Boja pozadine"},suggestion_menu:{no_items_title:"Stavke nisu pronađene",loading:"Učitavanje…"},color_picker:{text_title:"Tekst",background_title:"Pozadina",colors:{default:"Zadano",gray:"Siva",brown:"Smeđa",red:"Crvena",orange:"Narančasta",yellow:"Žuta",green:"Zelena",blue:"Plava",purple:"Ljubičasta",pink:"Ružičasta"}},formatting_toolbar:{bold:{tooltip:"Podebljano",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kurziv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podcrtano",secondary_tooltip:"Mod+U"},strike:{tooltip:"Precrtano",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Boja"},link:{tooltip:"Kreiraj poveznicu",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Uredi natpis",input_placeholder:"Uredi natpis"},file_replace:{tooltip:{image:"Zamijeni sliku",video:"Zamijeni video",audio:"Zamijeni audio",file:"Zamijeni datoteku"}},file_rename:{tooltip:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"},input_placeholder:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"}},file_download:{tooltip:{image:"Preuzmi sliku",video:"Preuzmi video",audio:"Preuzmi audio",file:"Preuzmi datoteku"}},file_delete:{tooltip:{image:"Ukloni sliku",video:"Ukloni video",audio:"Ukloni audio",file:"Ukloni datoteku"}},file_preview_toggle:{tooltip:"Prikaži/sakrij pregled"},nest:{tooltip:"Ugnijezdi blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Razgnijezdi blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Poravnaj tekst lijevo"},align_center:{tooltip:"Poravnaj tekst po sredini"},align_right:{tooltip:"Poravnaj tekst desno"},align_justify:{tooltip:"Poravnaj tekst obostrano"},table_cell_merge:{tooltip:"Spoji ćelije"},comment:{tooltip:"Dodaj komentar"}},file_panel:{upload:{title:"Učitaj",file_placeholder:{image:"Učitaj sliku",video:"Učitaj video",audio:"Učitaj audio",file:"Učitaj datoteku"},upload_error:"Pogreška: Učitavanje nije uspjelo"},embed:{title:"Ugradi",embed_button:{image:"Ugradi sliku",video:"Ugradi video",audio:"Ugradi audio",file:"Ugradi datoteku"},url_placeholder:"Dodaj URL"}},link_toolbar:{delete:{tooltip:"Ukloni poveznicu"},edit:{text:"Uredi poveznicu",tooltip:"Uredi"},open:{tooltip:"Otvori u novoj kartici"},form:{title_placeholder:"Uredi naslov",url_placeholder:"Uredi URL"}},comments:{actions:{add_reaction:"Dodaj reakciju",resolve:"Riješi",edit_comment:"Uredi komentar",delete_comment:"Obriši komentar",more_actions:"Više radnji"},reactions:{reacted_by:"Reagirao/la"},sidebar:{marked_as_resolved:"Označeno kao riješeno",more_replies:t=>`${t} dodatnih odgovora`}},generic:{ctrl_shortcut:"Ctrl"}},nle={slash_menu:{heading:{title:"Fyrirsögn 1",subtext:"Notað fyrir efstu fyrirsögn",aliases:["h","fyrirsogn1","h1"],group:"Fyrirsagnir"},heading_2:{title:"Fyrirsögn 2",subtext:"Notað fyrir lykilhluta",aliases:["h2","fyrirsogn2","undirfyrirsogn"],group:"Fyrirsagnir"},heading_3:{title:"Fyrirsögn 3",subtext:"Notað fyrir undirhluta og hópfyrirsagnir",aliases:["h3","fyrirsogn3","undirfyrirsogn"],group:"Fyrirsagnir"},quote:{title:"Tilvitnun",subtext:"Tilvitnun eða útdráttur",aliases:["quotation","blockquote","bq"],group:"Grunnblokkar"},numbered_list:{title:"Númeruð listi",subtext:"Notað til að birta númeraðan lista",aliases:["ol","li","listi","numeradurlisti"],group:"Grunnblokkar"},bullet_list:{title:"Punktalisti",subtext:"Notað til að birta óraðaðan lista",aliases:["ul","li","listi","punktalisti"],group:"Grunnblokkar"},check_list:{title:"Athugunarlisti",subtext:"Notað til að sýna lista með gátreitum",aliases:["ul","li","listi","athugunarlisti","merktur listi"],group:"Grunnblokkar"},paragraph:{title:"Málsgrein",subtext:"Notað fyrir meginmál skjalsins",aliases:["p","malsgrein"],group:"Grunnblokkar"},code_block:{title:"Kóðablokk",subtext:"Kóðablokkur með litskiptingu",aliases:["kóði","pre"],group:"Grunnblokkar"},page_break:{title:"Síðubrot",subtext:"Síðuskil",aliases:["page","break","separator","síðubrot","síðuskil"],group:"Grunnblokkir"},table:{title:"Tafla",subtext:"Notað fyrir töflur",aliases:["tafla"],group:"Ítarlegt"},image:{title:"Mynd",subtext:"Settu inn mynd",aliases:["mynd","myndaupphlaed","upphlaed","img","mynd","media","url"],group:"Miðlar"},video:{title:"Myndband",subtext:"Setja inn myndband",aliases:["myndband","videoUpphala","hlaða upp","mp4","kvikmynd","miðill","url"],group:"Miðill"},audio:{title:"Hljóð",subtext:"Setja inn hljóð",aliases:["hljóð","audioUpphala","hlaða upp","mp3","hljóð","miðill","url"],group:"Miðlar"},file:{title:"Skrá",subtext:"Setja inn skrá",aliases:["skrá","hlaða upp","fella inn","miðill","url"],group:"Miðlar"},emoji:{title:"Emoji",subtext:"Notað til að setja inn smámynd",aliases:["emoji","andlitsávísun","tilfinningar","andlit"],group:"Annað"}},placeholders:{default:"Sláðu inn texta eða skrifaðu '/' fyrir skipanir",heading:"Fyrirsögn",bulletListItem:"Listi",numberedListItem:"Listi",checkListItem:"Listi",new_comment:"Skrifaðu athugasemd...",edit_comment:"Breyta athugasemd...",comment_reply:"Bæta við athugasemd..."},file_blocks:{image:{add_button_text:"Bæta við mynd"},video:{add_button_text:"Bæta við myndbandi"},audio:{add_button_text:"Bæta við hljóði"},file:{add_button_text:"Bæta við skrá"}},side_menu:{add_block_label:"Bæta við blokki",drag_handle_label:"Opna blokkarvalmynd"},drag_handle:{delete_menuitem:"Eyða",colors_menuitem:"Litir",header_row_menuitem:"Höfuðröð",header_column_menuitem:"Höfuðdálkur"},table_handle:{delete_column_menuitem:"Eyða dálki",delete_row_menuitem:"Eyða röð",add_left_menuitem:"Bæta dálki við til vinstri",add_right_menuitem:"Bæta dálki við til hægri",add_above_menuitem:"Bæta röð við fyrir ofan",add_below_menuitem:"Bæta röð við fyrir neðan",split_cell_menuitem:"Splita dálk",merge_cells_menuitem:"Sameina dálka",background_color_menuitem:"Breyta bakgrunni"},suggestion_menu:{no_items_title:"Engir hlutir fundust",loading:"Hleður…"},color_picker:{text_title:"Texti",background_title:"Bakgrunnur",colors:{default:"Sjálfgefið",gray:"Grár",brown:"Brúnn",red:"Rauður",orange:"Appelsínugulur",yellow:"Gulur",green:"Grænn",blue:"Blár",purple:"Fjólublár",pink:"Bleikur"}},formatting_toolbar:{bold:{tooltip:"Feitletrað",secondary_tooltip:"Mod+B"},italic:{tooltip:"Skáletrað",secondary_tooltip:"Mod+I"},underline:{tooltip:"Undirstrikað",secondary_tooltip:"Mod+U"},strike:{tooltip:"Yfirstrikað",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kóði",secondary_tooltip:""},colors:{tooltip:"Litir"},link:{tooltip:"Búa til tengil",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Breyta myndatexta",input_placeholder:"Breyta myndatexta"},file_replace:{tooltip:{image:"Skipta um mynd",video:"Skipta um myndband",audio:"Skipta um hljóð",file:"Skipta um skrá"}},file_rename:{tooltip:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hljóð",file:"Endurnefna skrá"},input_placeholder:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hljóð",file:"Endurnefna skrá"}},file_download:{tooltip:{image:"Sækja mynd",video:"Sækja myndband",audio:"Sækja hljóð",file:"Sækja skrá"}},file_delete:{tooltip:{image:"Eyða mynd",video:"Eyða myndbandi",audio:"Eyða hljóði",file:"Eyða skrá"}},file_preview_toggle:{tooltip:"Skipta um forskoðun"},nest:{tooltip:"Fella blokk saman",secondary_tooltip:"Tab"},unnest:{tooltip:"Afþýða blokk",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Vinstrijafna texta"},align_center:{tooltip:"Miðjustilla texta"},align_right:{tooltip:"Hægrijafna texta"},align_justify:{tooltip:"Jafna texta"},table_cell_merge:{tooltip:"Sameina dálka"},comment:{tooltip:"Bæta við athugasemd"}},file_panel:{upload:{title:"Hlaða upp",file_placeholder:{image:"Hlaða upp mynd",video:"Hlaða upp myndband",audio:"Hlaða upp hljóð",file:"Hlaða upp skrá"},upload_error:"Villa: Upphleðsla mistókst"},embed:{title:"Innsetja",embed_button:{image:"Innsetja mynd",video:"Innsetja myndband",audio:"Innsetja hljóð",file:"Innsetja skrá"},url_placeholder:"Sláðu inn URL"}},link_toolbar:{delete:{tooltip:"Fjarlægja tengil"},edit:{text:"Breyta tengli",tooltip:"Breyta"},open:{tooltip:"Opna í nýjum flipa"},form:{title_placeholder:"Breyta titli",url_placeholder:"Breyta URL"}},comments:{actions:{add_reaction:"Bæta við viðbrögðum",resolve:"Leysa",edit_comment:"Breyta athugasemd",delete_comment:"Eyða athugasemd",more_actions:"Fleiri aðgerðir"},reactions:{reacted_by:"Brást við af"},sidebar:{marked_as_resolved:"Merkt sem leyst",more_replies:t=>`${t} fleiri svör`}},generic:{ctrl_shortcut:"Ctrl"}},ole={slash_menu:{heading:{title:"Intestazione 1",subtext:"Intestazione di primo livello",aliases:["h","intestazione1","h1"],group:"Intestazioni"},heading_2:{title:"Intestazione 2",subtext:"Intestazione di sezione chiave",aliases:["h2","intestazione2","sottotitolo"],group:"Intestazioni"},heading_3:{title:"Intestazione 3",subtext:"Intestazione di sottosezione e gruppo",aliases:["h3","intestazione3","sottotitolo"],group:"Intestazioni"},quote:{title:"Citazione",subtext:"Citazione o estratto",aliases:["quotation","blockquote","bq"],group:"Blocchi Base"},numbered_list:{title:"Elenco Numerato",subtext:"Elenco con elementi ordinati",aliases:["ol","li","elenco","elenconumerato","elenco numerato"],group:"Blocchi Base"},bullet_list:{title:"Elenco Puntato",subtext:"Elenco con elementi non ordinati",aliases:["ul","li","elenco","elencopuntato","elenco puntato"],group:"Blocchi Base"},check_list:{title:"Elenco di Controllo",subtext:"Elenco con caselle di controllo",aliases:["ul","li","elenco","elencocontrollo","elenco controllo","elenco verificato","casella di controllo"],group:"Blocchi Base"},paragraph:{title:"Paragrafo",subtext:"Il corpo del tuo documento",aliases:["p","paragrafo"],group:"Blocchi Base"},code_block:{title:"Blocco di Codice",subtext:"Blocco di codice con evidenziazione della sintassi",aliases:["code","pre"],group:"Blocchi Base"},page_break:{title:"Interruzione di Pagina",subtext:"Separatore di pagina",aliases:["pagina","interruzione","separatore"],group:"Blocchi base"},table:{title:"Tabella",subtext:"Tabella con celle modificabili",aliases:["tabella"],group:"Avanzato"},image:{title:"Immagine",subtext:"Immagine ridimensionabile con didascalia",aliases:["immagine","caricaImmagine","carica","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Video ridimensionabile con didascalia",aliases:["video","caricaVideo","carica","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Audio incorporato con didascalia",aliases:["audio","caricaAudio","carica","mp3","suono","media","url"],group:"Media"},file:{title:"File",subtext:"File incorporato",aliases:["file","carica","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Cerca e inserisci un'emoji",aliases:["emoji","emote","emozione","faccia"],group:"Altri"}},placeholders:{default:"Inserisci testo o digita '/' per i comandi",heading:"Intestazione",bulletListItem:"Elenco",numberedListItem:"Elenco",checkListItem:"Elenco",new_comment:"Scrivi un commento...",edit_comment:"Modifica commento...",comment_reply:"Aggiungi commento..."},file_blocks:{image:{add_button_text:"Aggiungi immagine"},video:{add_button_text:"Aggiungi video"},audio:{add_button_text:"Aggiungi audio"},file:{add_button_text:"Aggiungi file"}},side_menu:{add_block_label:"Aggiungi blocco",drag_handle_label:"Apri menu blocco"},drag_handle:{delete_menuitem:"Elimina",colors_menuitem:"Colori",header_row_menuitem:"Riga intestazione",header_column_menuitem:"Colonna intestazione"},table_handle:{delete_column_menuitem:"Elimina colonna",delete_row_menuitem:"Elimina riga",add_left_menuitem:"Aggiungi colonna a sinistra",add_right_menuitem:"Aggiungi colonna a destra",add_above_menuitem:"Aggiungi riga sopra",add_below_menuitem:"Aggiungi riga sotto",split_cell_menuitem:"Dividi cella",merge_cells_menuitem:"Unisci celle",background_color_menuitem:"Colore di sfondo"},suggestion_menu:{no_items_title:"Nessun elemento trovato",loading:"Caricamento…"},color_picker:{text_title:"Testo",background_title:"Sfondo",colors:{default:"Predefinito",gray:"Grigio",brown:"Marrone",red:"Rosso",orange:"Arancione",yellow:"Giallo",green:"Verde",blue:"Blu",purple:"Viola",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Grassetto",secondary_tooltip:"Cmd+B"},italic:{tooltip:"Corsivo",secondary_tooltip:"Cmd+I"},underline:{tooltip:"Sottolineato",secondary_tooltip:"Cmd+U"},strike:{tooltip:"Barrato",secondary_tooltip:"Cmd+Shift+S"},code:{tooltip:"Codice",secondary_tooltip:""},colors:{tooltip:"Colori"},link:{tooltip:"Crea link",secondary_tooltip:"Cmd+K"},file_caption:{tooltip:"Modifica didascalia",input_placeholder:"Modifica didascalia"},file_replace:{tooltip:{image:"Sostituisci immagine",video:"Sostituisci video",audio:"Sostituisci audio",file:"Sostituisci file"}},file_rename:{tooltip:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"},input_placeholder:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"}},file_download:{tooltip:{image:"Scarica immagine",video:"Scarica video",audio:"Scarica audio",file:"Scarica file"}},file_delete:{tooltip:{image:"Elimina immagine",video:"Elimina video",audio:"Elimina audio",file:"Elimina file"}},file_preview_toggle:{tooltip:"Attiva/disattiva anteprima"},nest:{tooltip:"Annida blocco",secondary_tooltip:"Tab"},unnest:{tooltip:"Disannida blocco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Allinea testo a sinistra"},align_center:{tooltip:"Allinea testo al centro"},align_right:{tooltip:"Allinea testo a destra"},align_justify:{tooltip:"Giustifica testo"},table_cell_merge:{tooltip:"Unisci celle"},comment:{tooltip:"Aggiungi commento"}},file_panel:{upload:{title:"Carica",file_placeholder:{image:"Carica immagine",video:"Carica video",audio:"Carica audio",file:"Carica file"},upload_error:"Errore: Caricamento fallito"},embed:{title:"Incorpora",embed_button:{image:"Incorpora immagine",video:"Incorpora video",audio:"Incorpora audio",file:"Incorpora file"},url_placeholder:"Inserisci URL"}},link_toolbar:{delete:{tooltip:"Rimuovi link"},edit:{text:"Modifica link",tooltip:"Modifica"},open:{tooltip:"Apri in una nuova scheda"},form:{title_placeholder:"Modifica titolo",url_placeholder:"Modifica URL"}},comments:{actions:{add_reaction:"Aggiungi reazione",resolve:"Risolvi",edit_comment:"Modifica commento",delete_comment:"Elimina commento",more_actions:"Altre azioni"},reactions:{reacted_by:"Reagito da"},sidebar:{marked_as_resolved:"Contrassegnato come risolto",more_replies:t=>`${t} altre risposte`}},generic:{ctrl_shortcut:"Ctrl"}},ile={slash_menu:{heading:{title:"見出し１",subtext:"トップレベルの見出しに使用",aliases:["h","見出し１","h1","大見出し"],group:"見出し"},heading_2:{title:"見出し２",subtext:"重要なセクションに使用",aliases:["h2","見出し2","subheading","中見出し"],group:"見出し"},heading_3:{title:"見出し３",subtext:"セクションやグループの見出しに使用",aliases:["h3","見出し3","subheading","小見出し"],group:"見出し"},quote:{title:"引用",subtext:"引用または抜粋",aliases:["quotation","blockquote","bq"],group:"基本ブロック"},numbered_list:{title:"番号付リスト",subtext:"番号付リストを表示するために使用",aliases:["ol","li","numberedlist","numbered list","リスト","番号付リスト","番号 リスト"],group:"基本ブロック"},bullet_list:{title:"箇条書き",subtext:"箇条書きを表示するために使用",aliases:["ul","li","bulletlist","bullet list","リスト","箇条書きリスト"],group:"基本ブロック"},check_list:{title:"チェックリスト",subtext:"チェックボックス付きリストを表示するために使用されます",aliases:["ul","li","list","checklist","checked list","リスト","チェックリスト","チェックされたリスト"],group:"基本ブロック"},paragraph:{title:"標準テキスト",subtext:"本文に使用",aliases:["p","paragraph","標準テキスト"],group:"基本ブロック"},code_block:{title:"コードブロック",subtext:"シンタックスハイライト付きのコードブロック",aliases:["code","pre","コード","コードブロック"],group:"基本ブロック"},page_break:{title:"改ページ",subtext:"ページ区切り",aliases:["page","break","separator","改ページ","区切り"],group:"基本ブロック"},table:{title:"表",subtext:"表に使用",aliases:["table","表","テーブル"],group:"高度なブロック"},image:{title:"画像",subtext:"画像を挿入",aliases:["image","imageUpload","upload","img","picture","media","url","画像"],group:"メディア"},video:{title:"ビデオ",subtext:"ビデオを挿入",aliases:["video","videoUpload","upload","mp4","film","media","url","ビデオ"],group:"メディア"},audio:{title:"オーディオ",subtext:"オーディオを挿入",aliases:["audio","audioUpload","upload","mp3","sound","media","url","オーディオ"],group:"メディア"},file:{title:"ファイル",subtext:"ファイルを挿入",aliases:["file","upload","embed","media","url","ファイル"],group:"メディア"},emoji:{title:"絵文字",subtext:"絵文字を挿入するために使用します",aliases:["絵文字","顔文字","感情表現","顔"],group:"その他"}},placeholders:{default:"テキストを入力するか'/' を入力してコマンド選択",heading:"見出し",bulletListItem:"リストを追加",numberedListItem:"リストを追加",checkListItem:"リストを追加",new_comment:"コメントを書く...",edit_comment:"コメントを編集...",comment_reply:"コメントを追加..."},file_blocks:{image:{add_button_text:"画像を追加"},video:{add_button_text:"ビデオを追加"},audio:{add_button_text:"オーディオを追加"},file:{add_button_text:"ファイルを追加"}},side_menu:{add_block_label:"ブロックを追加",drag_handle_label:"ブロックメニュー"},drag_handle:{delete_menuitem:"削除",colors_menuitem:"色を変更",header_row_menuitem:"行の見出し",header_column_menuitem:"列の見出し"},table_handle:{delete_column_menuitem:"列を削除",delete_row_menuitem:"行を削除",add_left_menuitem:"左に列を追加",add_right_menuitem:"右に列を追加",add_above_menuitem:"上に行を追加",add_below_menuitem:"下に行を追加",split_cell_menuitem:"セルを分割",merge_cells_menuitem:"セルを結合",background_color_menuitem:"背景色を変更"},suggestion_menu:{no_items_title:"アイテムが見つかりません",loading:"読込中…"},color_picker:{text_title:"文字色",background_title:"背景色",colors:{default:"デフォルト",gray:"グレー",brown:"茶色",red:"赤",orange:"オレンジ",yellow:"黄色",green:"緑",blue:"青",purple:"紫",pink:"ピンク"}},formatting_toolbar:{bold:{tooltip:"太字",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜体",secondary_tooltip:"Mod+I"},underline:{tooltip:"下線",secondary_tooltip:"Mod+U"},strike:{tooltip:"打ち消し",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"コード",secondary_tooltip:""},colors:{tooltip:"色"},link:{tooltip:"リンク",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"キャプションを編集",input_placeholder:"キャプションを編集"},file_replace:{tooltip:{image:"画像を置換",video:"ビデオを置換",audio:"オーディオを置換",file:"ファイルを置換"}},file_rename:{tooltip:{image:"画像の名前を変更",video:"ビデオの名前を変更",audio:"オーディオの名前を変更",file:"ファイルの名前を変更"},input_placeholder:{image:"画像の名前を変更",video:"ビデオの名前を変更",audio:"オーディオの名前を変更",file:"ファイルの名前を変更"}},file_download:{tooltip:{image:"画像をダウンロード",video:"ビデオをダウンロード",audio:"オーディオをダウンロード",file:"ファイルをダウンロード"}},file_delete:{tooltip:{image:"画像を削除",video:"ビデオを削除",audio:"オーディオを削除",file:"ファイルを削除"}},file_preview_toggle:{tooltip:"プレビューの切り替え"},nest:{tooltip:"インデント増",secondary_tooltip:"Tab"},unnest:{tooltip:"インデント減",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"左揃え"},align_center:{tooltip:"中央揃え"},align_right:{tooltip:"右揃え"},align_justify:{tooltip:"両端揃え"},table_cell_merge:{tooltip:"セルを結合"},comment:{tooltip:"コメントを追加"}},file_panel:{upload:{title:"アップロード",file_placeholder:{image:"画像をアップロード",video:"ビデオをアップロード",audio:"オーディオをアップロード",file:"ファイルをアップロード"},upload_error:"エラー: アップロードが失敗しました"},embed:{title:"埋め込み",embed_button:{image:"画像を埋め込む",video:"ビデオを埋め込む",audio:"オーディオを埋め込む",file:"ファイルを埋め込む"},url_placeholder:"URLを入力"}},link_toolbar:{delete:{tooltip:"リンクを解除"},edit:{text:"リンクを編集",tooltip:"編集"},open:{tooltip:"新しいタブでリンクを開く"},form:{title_placeholder:"タイトルを編集",url_placeholder:"URLを編集"}},comments:{actions:{add_reaction:"リアクションを追加",resolve:"解決",edit_comment:"コメントを編集",delete_comment:"コメントを削除",more_actions:"その他の操作"},reactions:{reacted_by:"リアクションした人"},sidebar:{marked_as_resolved:"解決済みとしてマーク",more_replies:t=>`${t} 件の追加返信`}},generic:{ctrl_shortcut:"Ctrl"}},rle={slash_menu:{heading:{title:"제목1",subtext:"섹션 제목(대)",aliases:["h","제목1","h1","대제목"],group:"제목"},heading_2:{title:"제목2",subtext:"섹션 제목(중)",aliases:["h2","제목2","중제목"],group:"제목"},heading_3:{title:"제목3",subtext:"섹션 제목(소)",aliases:["h3","제목3","subheading"],group:"제목"},quote:{title:"인용",subtext:"인용문 또는 발췌",aliases:["quotation","blockquote","bq"],group:"기본 블록"},numbered_list:{title:"번호 매기기 목록",subtext:"번호가 매겨진 목록을 추가합니다.",aliases:["ol","li","목록","번호 매기기 목록","번호 목록"],group:"기본 블록"},bullet_list:{title:"글머리 기호 목록",subtext:"간단한 글머리 기호를 추가합니다.",aliases:["ul","li","목록","글머리 기호 목록","글머리 목록"],group:"기본 블록"},check_list:{title:"체크리스트",subtext:"체크박스가 있는 목록을 표시하는 데 사용",aliases:["ul","li","목록","체크리스트","체크 리스트","체크된 목록","체크박스"],group:"기본 블록"},paragraph:{title:"본문",subtext:"일반 텍스트",aliases:["p","paragraph","본문"],group:"기본 블록"},code_block:{title:"코드 블록",subtext:"구문 강조가 있는 코드 블록",aliases:["code","pre"],group:"기본 블록"},page_break:{title:"페이지 나누기",subtext:"페이지 구분자",aliases:["page","break","separator","페이지","구분자"],group:"기본 블록"},table:{title:"표",subtext:"간단한 표를 추가합니다.",aliases:["표"],group:"고급"},image:{title:"이미지",subtext:"이미지 파일을 업로드합니다.",aliases:["image","imageUpload","upload","img","picture","media","이미지","url"],group:"미디어"},video:{title:"비디오",subtext:"비디오 삽입",aliases:["video","videoUpload","upload","mp4","film","media","동영상","url"],group:"미디어"},audio:{title:"오디오",subtext:"오디오 삽입",aliases:["audio","audioUpload","upload","mp3","sound","media","오디오","url"],group:"미디어"},file:{title:"파일",subtext:"파일 삽입",aliases:["file","upload","embed","media","파일","url"],group:"미디어"},emoji:{title:"이모지",subtext:"이모지 삽입용으로 사용됩니다",aliases:["이모지","emoji","감정 표현","emotion expression","표정","face expression","얼굴","face"],group:"기타"}},placeholders:{default:"텍스트를 입력하거나 /를 입력하여 명령을 입력하세요.",heading:"제목",bulletListItem:"목록",numberedListItem:"목록",checkListItem:"목록",new_comment:"댓글 작성...",edit_comment:"댓글 수정...",comment_reply:"댓글 추가..."},file_blocks:{image:{add_button_text:"이미지 추가"},video:{add_button_text:"비디오 추가"},audio:{add_button_text:"오디오 추가"},file:{add_button_text:"파일 추가"}},side_menu:{add_block_label:"블록 추가",drag_handle_label:"블록 메뉴 열기"},drag_handle:{delete_menuitem:"삭제",colors_menuitem:"색깔",header_row_menuitem:"행 제목",header_column_menuitem:"열 제목"},table_handle:{delete_column_menuitem:"열 1개 삭제",delete_row_menuitem:"행 삭제",add_left_menuitem:"왼쪽에 열 1개 추가",add_right_menuitem:"오른쪽에 열 1개 추가",add_above_menuitem:"위에 행 1개 추가",add_below_menuitem:"아래에 행 1개 추가",split_cell_menuitem:"셀 분할",merge_cells_menuitem:"셀 병합",background_color_menuitem:"배경색 변경"},suggestion_menu:{no_items_title:"항목을 찾을 수 없음",loading:"로딩 중…"},color_picker:{text_title:"텍스트",background_title:"배경",colors:{default:"기본",gray:"회색",brown:"갈색",red:"빨간색",orange:"주황색",yellow:"노란색",green:"녹색",blue:"파란색",purple:"보라색",pink:"분홍색"}},formatting_toolbar:{bold:{tooltip:"진하게",secondary_tooltip:"Mod+B"},italic:{tooltip:"기울임",secondary_tooltip:"Mod+I"},underline:{tooltip:"밑줄",secondary_tooltip:"Mod+U"},strike:{tooltip:"취소선",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"코드",secondary_tooltip:""},colors:{tooltip:"색깔"},link:{tooltip:"링크 만들기",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"이미지 캡션 수정",input_placeholder:"이미지 캡션 수정"},file_replace:{tooltip:{image:"이미지 교체",video:"비디오 교체",audio:"오디오 교체",file:"파일 교체"}},file_rename:{tooltip:{image:"이미지 이름 변경",video:"비디오 이름 변경",audio:"오디오 이름 변경",file:"파일 이름 변경"},input_placeholder:{image:"이미지 이름 변경",video:"비디오 이름 변경",audio:"오디오 이름 변경",file:"파일 이름 변경"}},file_download:{tooltip:{image:"이미지 다운로드",video:"비디오 다운로드",audio:"오디오 다운로드",file:"파일 다운로드"}},file_delete:{tooltip:{image:"이미지 삭제",video:"비디오 삭제",audio:"오디오 삭제",file:"파일 삭제"}},file_preview_toggle:{tooltip:"미리보기 전환"},nest:{tooltip:"중첩 블록",secondary_tooltip:"Tab"},unnest:{tooltip:"비중첩 블록",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"텍스트 왼쪽 맞춤"},align_center:{tooltip:"텍스트 가운데 맞춤"},align_right:{tooltip:"텍스트 오른쪽 맞춤"},align_justify:{tooltip:"텍스트 양쪽 맞춤"},table_cell_merge:{tooltip:"셀 병합"},comment:{tooltip:"코멘트 추가"}},file_panel:{upload:{title:"업로드",file_placeholder:{image:"이미지 업로드",video:"비디오 업로드",audio:"오디오 업로드",file:"파일 업로드"},upload_error:"오류: 업로드 실패"},embed:{title:"임베드",embed_button:{image:"이미지 삽입",video:"비디오 삽입",audio:"오디오 삽입",file:"파일 삽입"},url_placeholder:"URL을 입력하세요."}},link_toolbar:{delete:{tooltip:"링크 삭제"},edit:{text:"링크 수정",tooltip:"수정"},open:{tooltip:"새 탭으로 열기"},form:{title_placeholder:"제목 수정",url_placeholder:"URL 수정"}},comments:{actions:{add_reaction:"반응 추가",resolve:"해결",edit_comment:"댓글 수정",delete_comment:"댓글 삭제",more_actions:"더 많은 작업"},reactions:{reacted_by:"반응한 사람"},sidebar:{marked_as_resolved:"해결됨으로 표시됨",more_replies:t=>`${t}개의 추가 답글`}},generic:{ctrl_shortcut:"Ctrl"}},sle={slash_menu:{heading:{title:"Kop 1",subtext:"Gebruikt voor een hoofdkop",aliases:["h","kop1","h1"],group:"Koppen"},heading_2:{title:"Kop 2",subtext:"Gebruikt voor belangrijke secties",aliases:["h2","kop2","subkop"],group:"Koppen"},heading_3:{title:"Kop 3",subtext:"Gebruikt voor subsecties en groepskoppen",aliases:["h3","kop3","subkop"],group:"Koppen"},quote:{title:"Citaat",subtext:"Citaat of uittreksel",aliases:["quotation","blockquote","bq"],group:"Basisblokken"},numbered_list:{title:"Genummerde Lijst",subtext:"Gebruikt om een genummerde lijst weer te geven",aliases:["ol","li","lijst","genummerdelijst","genummerde lijst"],group:"Basisblokken"},bullet_list:{title:"Puntenlijst",subtext:"Gebruikt om een ongeordende lijst weer te geven",aliases:["ul","li","lijst","puntenlijst","punten lijst"],group:"Basisblokken"},check_list:{title:"Controlelijst",subtext:"Gebruikt om een lijst met selectievakjes weer te geven",aliases:["ul","li","lijst","aangevinkte lijst","selectievakje"],group:"Basisblokken"},paragraph:{title:"Paragraaf",subtext:"Gebruikt voor de hoofdtekst van uw document",aliases:["p","paragraaf"],group:"Basisblokken"},code_block:{title:"Codeblok",subtext:"Codeblok met syntax highlighting",aliases:["code","pre"],group:"Basisblokken"},page_break:{title:"Pagina-einde",subtext:"Paginascheiding",aliases:["page","break","separator","pagina","scheiding"],group:"Basisblokken"},table:{title:"Tabel",subtext:"Gebruikt voor tabellen",aliases:["tabel"],group:"Geavanceerd"},image:{title:"Afbeelding",subtext:"Voeg een afbeelding in",aliases:["afbeelding","imageUpload","upload","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Voeg een video in",aliases:["video","videoUploaden","upload","mp4","film","media","url","drive","dropbox"],group:"Media"},audio:{title:"Audio",subtext:"Voeg audio in",aliases:["audio","audioUploaden","upload","mp3","geluid","media","url"],group:"Media"},file:{title:"Bestand",subtext:"Voeg een bestand in",aliases:["bestand","upload","insluiten","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Gebruikt voor het invoegen van een emoji",aliases:["emoji","emotie-uitdrukking","gezichtsuitdrukking","gezicht"],group:"Overig"}},placeholders:{default:"Voer tekst in of type '/' voor commando's",heading:"Kop",bulletListItem:"Lijst",numberedListItem:"Lijst",checkListItem:"Lijst",new_comment:"Schrijf een reactie...",edit_comment:"Reactie bewerken...",comment_reply:"Reactie toevoegen..."},file_blocks:{image:{add_button_text:"Afbeelding toevoegen"},video:{add_button_text:"Video toevoegen"},audio:{add_button_text:"Audio toevoegen"},file:{add_button_text:"Bestand toevoegen"}},side_menu:{add_block_label:"Nieuw blok",drag_handle_label:"Open blok menu"},drag_handle:{delete_menuitem:"Verwijder",colors_menuitem:"Kleuren",header_row_menuitem:"Kopregel",header_column_menuitem:"Kopkolom"},table_handle:{delete_column_menuitem:"Verwijder kolom",delete_row_menuitem:"Verwijder rij",add_left_menuitem:"Voeg kolom links toe",add_right_menuitem:"Voeg kolom rechts toe",add_above_menuitem:"Voeg rij boven toe",add_below_menuitem:"Voeg rij onder toe",split_cell_menuitem:"Splits cel",merge_cells_menuitem:"Voeg cellen samen",background_color_menuitem:"Achtergrondkleur wijzigen"},suggestion_menu:{no_items_title:"Geen items gevonden",loading:"Laden…"},color_picker:{text_title:"Tekst",background_title:"Achtergrond",colors:{default:"Standaard",gray:"Grijs",brown:"Bruin",red:"Rood",orange:"Oranje",yellow:"Geel",green:"Groen",blue:"Blauw",purple:"Paars",pink:"Roze"}},formatting_toolbar:{bold:{tooltip:"Vet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursief",secondary_tooltip:"Mod+I"},underline:{tooltip:"Onderstrepen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Doorstrepen",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Kleuren"},link:{tooltip:"Maak link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Bewerk onderschrift",input_placeholder:"Bewerk onderschrift"},file_replace:{tooltip:{image:"Afbeelding vervangen",video:"Video vervangen",audio:"Audio vervangen",file:"Bestand vervangen"}},file_rename:{tooltip:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"},input_placeholder:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"}},file_download:{tooltip:{image:"Afbeelding downloaden",video:"Video downloaden",audio:"Audio downloaden",file:"Bestand downloaden"}},file_delete:{tooltip:{image:"Afbeelding verwijderen",video:"Video verwijderen",audio:"Audio verwijderen",file:"Bestand verwijderen"}},file_preview_toggle:{tooltip:"Voorbeeldschakelaar"},nest:{tooltip:"Nest blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Ontnest blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Tekst links uitlijnen"},align_center:{tooltip:"Tekst centreren"},align_right:{tooltip:"Tekst rechts uitlijnen"},align_justify:{tooltip:"Tekst uitvullen"},table_cell_merge:{tooltip:"Voeg cellen samen"},comment:{tooltip:"Commentaar toevoegen"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Afbeelding uploaden",video:"Video uploaden",audio:"Audio uploaden",file:"Bestand uploaden"},upload_error:"Fout: Upload mislukt"},embed:{title:"Insluiten",embed_button:{image:"Afbeelding insluiten",video:"Video insluiten",audio:"Audio insluiten",file:"Bestand insluiten"},url_placeholder:"Voer URL in"}},link_toolbar:{delete:{tooltip:"Verwijder link"},edit:{text:"Bewerk link",tooltip:"Bewerk"},open:{tooltip:"Open in nieuw tabblad"},form:{title_placeholder:"Bewerk titel",url_placeholder:"Bewerk URL"}},comments:{actions:{add_reaction:"Reactie toevoegen",resolve:"Oplossen",edit_comment:"Reactie bewerken",delete_comment:"Reactie verwijderen",more_actions:"Meer acties"},reactions:{reacted_by:"Gereageerd door"},sidebar:{marked_as_resolved:"Gemarkeerd als opgelost",more_replies:t=>`${t} extra reacties`}},generic:{ctrl_shortcut:"Ctrl"}},lle={slash_menu:{heading:{title:"Overskrift 1",subtext:"Toppnivåoverskrift",aliases:["h","overskrift1","h1"],group:"Overskrifter"},heading_2:{title:"Overskrift 2",subtext:"Hovedseksjonsoverskrift",aliases:["h2","overskrift2","underoverskrift"],group:"Overskrifter"},heading_3:{title:"Overskrift 3",subtext:"Underseksjon og gruppeoverskrift",aliases:["h3","overskrift3","underoverskrift"],group:"Overskrifter"},quote:{title:"Sitat",subtext:"Sitat eller utdrag",aliases:["quotation","blockquote","bq"],group:"Grunnleggende blokker"},numbered_list:{title:"Nummerert liste",subtext:"Liste med ordnede elementer",aliases:["ol","li","liste","nummerertliste","nummerert liste"],group:"Grunnleggende blokker"},bullet_list:{title:"Punktliste",subtext:"Liste med uordnede elementer",aliases:["ul","li","liste","punktliste","punkt liste"],group:"Grunnleggende blokker"},check_list:{title:"Sjekkliste",subtext:"Liste med avmerkingsbokser",aliases:["ul","li","liste","sjekkliste","sjekk liste","avmerket liste","avmerkingsboks"],group:"Grunnleggende blokker"},paragraph:{title:"Avsnitt",subtext:"Hoveddelen av dokumentet ditt",aliases:["p","avsnitt"],group:"Grunnleggende blokker"},code_block:{title:"Kodeblokk",subtext:"Kodeblokk med syntaksfremheving",aliases:["kode","pre"],group:"Grunnleggende blokker"},page_break:{title:"Sideskift",subtext:"Sideskilletegn",aliases:["side","skift","skilletegn"],group:"Grunnleggende blokker"},table:{title:"Tabell",subtext:"Tabell med redigerbare celler",aliases:["tabell"],group:"Avansert"},image:{title:"Bilde",subtext:"Justerbart bilde med bildetekst",aliases:["bilde","bildeopplasting","opplasting","img","bilde","media","url"],group:"Media"},video:{title:"Video",subtext:"Justerbar video med bildetekst",aliases:["video","videoopplasting","opplasting","mp4","film","media","url"],group:"Media"},audio:{title:"Lyd",subtext:"legg til lyd med bildetekst",aliases:["lyd","lydopplasting","opplasting","mp3","lyd","media","url"],group:"Media"},file:{title:"Fil",subtext:"Innebygd fil",aliases:["fil","opplasting","innebygd","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Søk etter og legg til en emoji",aliases:["emoji","emote","emosjon","ansikt"],group:"Andre"}},placeholders:{default:"Skriv tekst eller skriv '/' for å vise kommandoer",heading:"Overskrift",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Skriv en kommentar...",edit_comment:"Rediger kommentar...",comment_reply:"Legg til kommentar..."},file_blocks:{image:{add_button_text:"Legg til bilde"},video:{add_button_text:"Legg til video"},audio:{add_button_text:"Legg til lyd"},file:{add_button_text:"Legg til fil"}},side_menu:{add_block_label:"Legg til blokk",drag_handle_label:"Åpne blokkmeny"},drag_handle:{delete_menuitem:"Slett",colors_menuitem:"Farger",header_row_menuitem:"Rad overskrift",header_column_menuitem:"Kolonne overskrift"},table_handle:{delete_column_menuitem:"Slett kolonne",delete_row_menuitem:"Slett rad",add_left_menuitem:"Legg til kolonne til venstre",add_right_menuitem:"Legg til kolonne til høyre",add_above_menuitem:"Legg til rad over",add_below_menuitem:"Legg til rad under",split_cell_menuitem:"Del celle",merge_cells_menuitem:"Slå sammen celler",background_color_menuitem:"Bakgrunnsfarge"},suggestion_menu:{no_items_title:"Ingen elementer funnet",loading:"Laster…"},color_picker:{text_title:"Tekst",background_title:"Bakgrunn",colors:{default:"Standard",gray:"Grå",brown:"Brun",red:"Rød",orange:"Oransje",yellow:"Gul",green:"Grønn",blue:"Blå",purple:"Lilla",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Understrek",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gjennomstrek",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kode",secondary_tooltip:""},colors:{tooltip:"Farger"},link:{tooltip:"Opprett lenke",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Rediger bildetekst",input_placeholder:"Rediger bildetekst"},file_replace:{tooltip:{image:"Bytt ut bilde",video:"Bytt ut video",audio:"Bytt ut lyd",file:"Bytt ut fil"}},file_rename:{tooltip:{image:"Endre navn på bilde",video:"Endre navn på video",audio:"Endre navn på lyd",file:"Endre navn på fil"},input_placeholder:{image:"Endre navn på bilde",video:"Endre navn på video",audio:"Endre navn på lyd",file:"Endre navn på fil"}},file_download:{tooltip:{image:"Last ned bilde",video:"Last ned video",audio:"Last ned lyd",file:"Last ned fil"}},file_delete:{tooltip:{image:"Slett bilde",video:"Slett video",audio:"Slett lyd",file:"Slett fil"}},file_preview_toggle:{tooltip:"Veksle forhåndsvisning"},nest:{tooltip:"Plasser blokk inni",secondary_tooltip:"Tab"},unnest:{tooltip:"Ta blokk ut",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Venstrejuster tekst"},align_center:{tooltip:"Midtstill tekst"},align_right:{tooltip:"Høyrejuster tekst"},align_justify:{tooltip:"Juster tekst"},comment:{tooltip:"Legg til kommentar"},table_cell_merge:{tooltip:"Slå sammen celler"}},file_panel:{upload:{title:"Last opp",file_placeholder:{image:"Last opp bilde",video:"Last opp video",audio:"Last opp lyd",file:"Last opp fil"},upload_error:"Feil: Opplasting mislyktes"},embed:{title:"Bygg inn",embed_button:{image:"Bygg inn bilde",video:"Bygg inn video",audio:"Bygg inn lyd",file:"Bygg inn fil"},url_placeholder:"Skriv inn URL"}},link_toolbar:{delete:{tooltip:"Fjern lenke"},edit:{text:"Rediger lenke",tooltip:"Rediger"},open:{tooltip:"Åpne i ny fane"},form:{title_placeholder:"Rediger tittel",url_placeholder:"Rediger URL"}},comments:{actions:{add_reaction:"Legg til reaksjon",resolve:"Løs",edit_comment:"Rediger kommentar",delete_comment:"Slett kommentar",more_actions:"Flere handlinger"},reactions:{reacted_by:"Reagert av"},sidebar:{marked_as_resolved:"Merket som løst",more_replies:t=>`${t} flere svar`}},generic:{ctrl_shortcut:"Ctrl"}},ale={slash_menu:{heading:{title:"Nagłówek 1",subtext:"Używany dla nagłówka najwyższego poziomu",aliases:["h","naglowek1","h1"],group:"Nagłówki"},heading_2:{title:"Nagłówek 2",subtext:"Używany dla kluczowych sekcji",aliases:["h2","naglowek2","podnaglowek"],group:"Nagłówki"},heading_3:{title:"Nagłówek 3",subtext:"Używany dla podsekcji i grup nagłówków",aliases:["h3","naglowek3","podnaglowek"],group:"Nagłówki"},quote:{title:"Cytat",subtext:"Cytat lub fragment",aliases:["quotation","blockquote","bq"],group:"Podstawowe bloki"},numbered_list:{title:"Lista numerowana",subtext:"Używana do wyświetlania listy numerowanej",aliases:["ol","li","lista","numerowana lista"],group:"Podstawowe bloki"},bullet_list:{title:"Lista punktowana",subtext:"Używana do wyświetlania listy bez numeracji",aliases:["ul","li","lista","punktowana lista"],group:"Podstawowe bloki"},check_list:{title:"Lista z polami wyboru",subtext:"Używana do wyświetlania listy z polami wyboru",aliases:["ul","li","lista","lista z polami wyboru","pole wyboru"],group:"Podstawowe bloki"},paragraph:{title:"Akapit",subtext:"Używany dla treści dokumentu",aliases:["p","akapit"],group:"Podstawowe bloki"},code_block:{title:"Blok kodu",subtext:"Blok kodu z podświetleniem składni",aliases:["kod","pre"],group:"Podstawowe bloki"},page_break:{title:"Podział strony",subtext:"Separator strony",aliases:["page","break","separator","podział","separator"],group:"Podstawowe bloki"},table:{title:"Tabela",subtext:"Używana do tworzenia tabel",aliases:["tabela"],group:"Zaawansowane"},image:{title:"Zdjęcie",subtext:"Wstaw zdjęcie",aliases:["obraz","wrzućZdjęcie","wrzuć","img","zdjęcie","media","url"],group:"Media"},video:{title:"Wideo",subtext:"Wstaw wideo",aliases:["wideo","wrzućWideo","wrzuć","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Wstaw audio",aliases:["audio","wrzućAudio","wrzuć","mp3","dźwięk","media","url"],group:"Media"},file:{title:"Plik",subtext:"Wstaw plik",aliases:["plik","wrzuć","wstaw","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Używane do wstawiania emoji",aliases:["emoji","emotka","wyrażenie emocji","twarz"],group:"Inne"}},placeholders:{default:"Wprowadź tekst lub wpisz '/' aby użyć poleceń",heading:"Nagłówek",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napisz komentarz...",edit_comment:"Edytuj komentarz...",comment_reply:"Dodaj komentarz..."},file_blocks:{image:{add_button_text:"Dodaj zdjęcie"},video:{add_button_text:"Dodaj wideo"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj plik"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Otwórz menu bloków"},drag_handle:{delete_menuitem:"Usuń",colors_menuitem:"Kolory",header_row_menuitem:"Nagłówek wiersza",header_column_menuitem:"Nagłówek kolumny"},table_handle:{delete_column_menuitem:"Usuń kolumnę",delete_row_menuitem:"Usuń wiersz",add_left_menuitem:"Dodaj kolumnę po lewej",add_right_menuitem:"Dodaj kolumnę po prawej",add_above_menuitem:"Dodaj wiersz powyżej",add_below_menuitem:"Dodaj wiersz poniżej",split_cell_menuitem:"Podziel komórkę",merge_cells_menuitem:"Połącz komórki",background_color_menuitem:"Zmień kolor tła"},suggestion_menu:{no_items_title:"Nie znaleziono elementów",loading:"Ładowanie…"},color_picker:{text_title:"Tekst",background_title:"Tło",colors:{default:"Domyślny",gray:"Szary",brown:"Brązowy",red:"Czerwony",orange:"Pomarańczowy",yellow:"Żółty",green:"Zielony",blue:"Niebieski",purple:"Fioletowy",pink:"Różowy"}},formatting_toolbar:{bold:{tooltip:"Pogrubienie",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursywa",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podkreślenie",secondary_tooltip:"Mod+U"},strike:{tooltip:"Przekreślenie",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Kolory"},link:{tooltip:"Utwórz link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Zmień podpis",input_placeholder:"Zmień podpis"},file_replace:{tooltip:{image:"Zmień obraz",video:"Zmień wideo",audio:"Zmień audio",file:"Zmień plik"}},file_rename:{tooltip:{image:"Zmień nazwę zdjęcia",video:"Zmień nazwę wideo",audio:"Zmień nazwę audio",file:"Zmień nazwę pliku"},input_placeholder:{image:"Zmień nazwę zdjęcia",video:"Zmień nazwę wideo",audio:"Zmień nazwę audio",file:"Zmień nazwę pliku"}},file_download:{tooltip:{image:"Pobierz zdjęcie",video:"Pobierz wideo",audio:"Pobierz audio",file:"Pobierz plik"}},file_delete:{tooltip:{image:"Usuń zdjęcie",video:"Usuń wideo",audio:"Usuń audio",file:"Usuń plik"}},file_preview_toggle:{tooltip:"Przełącz podgląd"},nest:{tooltip:"Zagnieźdź blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Odgagnieźdź blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Wyrównaj tekst do lewej"},align_center:{tooltip:"Wyśrodkuj tekst"},align_right:{tooltip:"Wyrównaj tekst do prawej"},align_justify:{tooltip:"Wyjustuj tekst"},table_cell_merge:{tooltip:"Połącz komórki"},comment:{tooltip:"Dodaj komentarz"}},file_panel:{upload:{title:"Wrzuć",file_placeholder:{image:"Wrzuć zdjęcie",video:"Wrzuć wideo",audio:"Wrzuć audio",file:"Wrzuć plik"},upload_error:"Błąd: Przesyłanie nie powiodło się"},embed:{title:"Wstaw",embed_button:{image:"Wstaw zdjęice",video:"Wstaw wideo",audio:"Wstaw audio",file:"Wstaw plik"},url_placeholder:"Wprowadź URL"}},link_toolbar:{delete:{tooltip:"Usuń link"},edit:{text:"Edytuj link",tooltip:"Edytuj"},open:{tooltip:"Otwórz w nowej karcie"},form:{title_placeholder:"Edytuj tytuł",url_placeholder:"Edytuj URL"}},comments:{actions:{add_reaction:"Dodaj reakcję",resolve:"Rozwiąż",edit_comment:"Edytuj komentarz",delete_comment:"Usuń komentarz",more_actions:"Więcej akcji"},reactions:{reacted_by:"Zareagowali"},sidebar:{marked_as_resolved:"Oznaczone jako rozwiązane",more_replies:t=>`${t} więcej odpowiedzi`}},generic:{ctrl_shortcut:"Ctrl"}},cle={slash_menu:{heading:{title:"Título",subtext:"Usado para um título de nível superior",aliases:["h","titulo1","h1"],group:"Títulos"},heading_2:{title:"Título 2",subtext:"Usado para seções principais",aliases:["h2","titulo2","subtitulo"],group:"Títulos"},heading_3:{title:"Título 3",subtext:"Usado para subseções e títulos de grupo",aliases:["h3","titulo3","subtitulo"],group:"Títulos"},quote:{title:"Citação",subtext:"Citação ou trecho",aliases:["quotation","blockquote","bq"],group:"Blocos básicos"},numbered_list:{title:"Lista Numerada",subtext:"Usado para exibir uma lista numerada",aliases:["ol","li","lista","listanumerada","lista numerada"],group:"Blocos básicos"},bullet_list:{title:"Lista com Marcadores",subtext:"Usado para exibir uma lista não ordenada",aliases:["ul","li","lista","listamarcadores","lista com marcadores"],group:"Blocos básicos"},check_list:{title:"Lista de verificação",subtext:"Usado para exibir uma lista com caixas de seleção",aliases:["ul","li","lista","lista de verificação","lista marcada","caixa de seleção"],group:"Blocos básicos"},paragraph:{title:"Parágrafo",subtext:"Usado para o corpo do seu documento",aliases:["p","paragrafo"],group:"Blocos básicos"},code_block:{title:"Bloco de Código",subtext:"Usado para exibir código com destaque de sintaxe",aliases:["codigo","pre"],group:"Blocos básicos"},page_break:{title:"Quebra de página",subtext:"Separador de página",aliases:["page","break","separator","quebra","separador"],group:"Blocos básicos"},table:{title:"Tabela",subtext:"Usado para tabelas",aliases:["tabela"],group:"Avançado"},image:{title:"Imagem",subtext:"Inserir uma imagem",aliases:["imagem","uploadImagem","upload","img","foto","media","url"],group:"Mídia"},video:{title:"Vídeo",subtext:"Inserir um vídeo",aliases:["vídeo","uploadVídeo","upload","mp4","filme","mídia","url"],group:"Mídia"},audio:{title:"Áudio",subtext:"Inserir um áudio",aliases:["áudio","uploadÁudio","upload","mp3","som","mídia","url"],group:"Mídia"},file:{title:"Arquivo",subtext:"Inserir um arquivo",aliases:["arquivo","upload","incorporar","mídia","url"],group:"Mídia"},emoji:{title:"Emoji",subtext:"Usado para inserir um emoji",aliases:["emoji","emoticon","expressão emocional","rosto"],group:"Outros"}},placeholders:{default:"Digite texto ou use '/' para comandos",heading:"Título",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escreva um comentário...",edit_comment:"Editar comentário...",comment_reply:"Adicionar comentário..."},file_blocks:{image:{add_button_text:"Adicionar imagem"},video:{add_button_text:"Adicionar vídeo"},audio:{add_button_text:"Adicionar áudio"},file:{add_button_text:"Adicionar arquivo"}},side_menu:{add_block_label:"Adicionar bloco",drag_handle_label:"Abrir menu do bloco"},drag_handle:{delete_menuitem:"Excluir",colors_menuitem:"Cores",header_row_menuitem:"Cabeçalho de linha",header_column_menuitem:"Cabeçalho de coluna"},table_handle:{delete_column_menuitem:"Excluir coluna",delete_row_menuitem:"Excluir linha",add_left_menuitem:"Adicionar coluna à esquerda",add_right_menuitem:"Adicionar coluna à direita",add_above_menuitem:"Adicionar linha acima",add_below_menuitem:"Adicionar linha abaixo",split_cell_menuitem:"Dividir célula",merge_cells_menuitem:"Juntar células",background_color_menuitem:"Alterar cor de fundo"},suggestion_menu:{no_items_title:"Nenhum item encontrado",loading:"Carregando…"},color_picker:{text_title:"Texto",background_title:"Fundo",colors:{default:"Padrão",gray:"Cinza",brown:"Marrom",red:"Vermelho",orange:"Laranja",yellow:"Amarelo",green:"Verde",blue:"Azul",purple:"Roxo",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrito",secondary_tooltip:"Mod+B"},italic:{tooltip:"Itálico",secondary_tooltip:"Mod+I"},underline:{tooltip:"Sublinhado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Riscado",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Cores"},link:{tooltip:"Criar link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar legenda",input_placeholder:"Editar legenda"},file_replace:{tooltip:{image:"Substituir imagem",video:"Substituir vídeo",audio:"Substituir áudio",file:"Substituir arquivo"}},file_rename:{tooltip:{image:"Renomear imagem",video:"Renomear vídeo",audio:"Renomear áudio",file:"Renomear arquivo"},input_placeholder:{image:"Renomear imagem",video:"Renomear vídeo",audio:"Renomear áudio",file:"Renomear arquivo"}},file_download:{tooltip:{image:"Baixar imagem",video:"Baixar vídeo",audio:"Baixar áudio",file:"Baixar arquivo"}},file_delete:{tooltip:{image:"Excluir imagem",video:"Excluir vídeo",audio:"Excluir áudio",file:"Excluir arquivo"}},file_preview_toggle:{tooltip:"Alternar visualização"},nest:{tooltip:"Aninhar bloco",secondary_tooltip:"Tab"},unnest:{tooltip:"Desaninhar bloco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinhar à esquerda"},align_center:{tooltip:"Alinhar ao centro"},align_right:{tooltip:"Alinhar à direita"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Juntar células"},comment:{tooltip:"Adicionar comentário"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload de imagem",video:"Upload de vídeo",audio:"Upload de áudio",file:"Upload de arquivo"},upload_error:"Erro: Falha no upload"},embed:{title:"Incorporar",embed_button:{image:"Incorporar imagem",video:"Incorporar vídeo",audio:"Incorporar áudio",file:"Incorporar arquivo"},url_placeholder:"Insira a URL"}},link_toolbar:{delete:{tooltip:"Remover link"},edit:{text:"Editar link",tooltip:"Editar"},open:{tooltip:"Abrir em nova aba"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{actions:{add_reaction:"Adicionar reação",resolve:"Resolver",edit_comment:"Editar comentário",delete_comment:"Excluir comentário",more_actions:"Mais ações"},reactions:{reacted_by:"Reagido por"},sidebar:{marked_as_resolved:"Marcado como resolvido",more_replies:t=>`${t} respostas a mais`}},generic:{ctrl_shortcut:"Ctrl"}},ule={slash_menu:{heading:{title:"Заголовок 1 уровня",subtext:"Используется для заголовка верхнего уровня",aliases:["h","heading1","h1","заголовок1"],group:"Заголовки"},heading_2:{title:"Заголовок 2 уровня",subtext:"Используется для ключевых разделов",aliases:["h2","heading2","subheading","заголовок2","подзаголовок"],group:"Заголовки"},heading_3:{title:"Заголовок 3 уровня",subtext:"Используется для подразделов и групп",aliases:["h3","heading3","subheading","заголовок3","подзаголовок"],group:"Заголовки"},quote:{title:"Цитата",subtext:"Цитата или отрывок",aliases:["quotation","blockquote","bq"],group:"Базовые блоки"},numbered_list:{title:"Нумерованный список",subtext:"Используется для отображения нумерованного списка",aliases:["ol","li","list","numberedlist","numbered list","список","нумерованный список"],group:"Базовые блоки"},bullet_list:{title:"Маркированный список",subtext:"Для отображения неупорядоченного списка.",aliases:["ul","li","list","bulletlist","bullet list","список","маркированный список"],group:"Базовые блоки"},check_list:{title:"Контрольный список",subtext:"Для отображения списка с флажками",aliases:["ul","li","list","checklist","check list","checked list","checkbox","список"],group:"Базовые блоки"},paragraph:{title:"Параграф",subtext:"Основной текст",aliases:["p","paragraph","параграф"],group:"Базовые блоки"},code_block:{title:"Блок кода",subtext:"Блок кода с подсветкой синтаксиса",aliases:["code","pre","блок кода"],group:"Базовые блоки"},page_break:{title:"Разрыв страницы",subtext:"Разделитель страницы",aliases:["page","break","separator","разрыв","разделитель"],group:"Основные блоки"},table:{title:"Таблица",subtext:"Используется для таблиц",aliases:["table","таблица"],group:"Продвинутый"},image:{title:"Картинка",subtext:"Вставить изображение",aliases:["image","imageUpload","upload","img","picture","media","url","загрузка","картинка","рисунок"],group:"Медиа"},video:{title:"Видео",subtext:"Вставить видео",aliases:["video","videoUpload","upload","mp4","film","media","url","загрузка","видео"],group:"Медиа"},audio:{title:"Аудио",subtext:"Вставить аудио",aliases:["audio","audioUpload","upload","mp3","sound","media","url","загрузка","аудио","звук","музыка"],group:"Медиа"},file:{title:"Файл",subtext:"Вставить файл",aliases:["file","upload","embed","media","url","загрузка","файл"],group:"Медиа"},emoji:{title:"Эмодзи",subtext:"Используется для вставки эмодзи",aliases:["эмодзи","смайлик","выражение эмоций","лицо"],group:"Прочее"}},placeholders:{default:"Ведите текст или введите «/» для команд",heading:"Заголовок",bulletListItem:"Список",numberedListItem:"Список",checkListItem:"Список",new_comment:"Напишите комментарий...",edit_comment:"Редактировать комментарий...",comment_reply:"Добавить комментарий..."},file_blocks:{image:{add_button_text:"Добавить изображение"},video:{add_button_text:"Добавить видео"},audio:{add_button_text:"Добавить аудио"},file:{add_button_text:"Добавить файл"}},side_menu:{add_block_label:"Добавить блок",drag_handle_label:"Открыть меню блока"},drag_handle:{delete_menuitem:"Удалить",colors_menuitem:"Цвета",header_row_menuitem:"Заголовок строки",header_column_menuitem:"Заголовок столбца"},table_handle:{delete_column_menuitem:"Удалить столбец",delete_row_menuitem:"Удалить строку",add_left_menuitem:"Добавить столбец слева",add_right_menuitem:"Добавить столбец справа",add_above_menuitem:"Добавить строку выше",add_below_menuitem:"Добавить строку ниже",split_cell_menuitem:"Разделить ячейку",merge_cells_menuitem:"Объединить ячейки",background_color_menuitem:"Цвет фона"},suggestion_menu:{no_items_title:"ничего не найдено",loading:"Загрузка…"},color_picker:{text_title:"Текст",background_title:"Задний фон",colors:{default:"По умолчинию",gray:"Серый",brown:"Коричневый",red:"Красный",orange:"Оранжевый",yellow:"Жёлтый",green:"Зелёный",blue:"Голубой",purple:"Фиолетовый",pink:"Розовый"}},formatting_toolbar:{bold:{tooltip:"Жирный",secondary_tooltip:"Mod+B"},italic:{tooltip:"Курсив",secondary_tooltip:"Mod+I"},underline:{tooltip:"Подчёркнутый",secondary_tooltip:"Mod+U"},strike:{tooltip:"Зачёркнутый",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Код",secondary_tooltip:""},colors:{tooltip:"Цвета"},link:{tooltip:"Создать ссылку",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Изменить подпись",input_placeholder:"Изменить подпись"},file_replace:{tooltip:{image:"Заменить изображение",video:"Заменить видео",audio:"Заменить аудио",file:"Заменить файл"}},file_rename:{tooltip:{image:"Переименовать изображение",video:"Переименовать видео",audio:"Переименовать аудио",file:"Переименовать файл"},input_placeholder:{image:"Переименовать изображение",video:"Переименовать видео",audio:"Переименовать аудио",file:"Переименовать файл"}},file_download:{tooltip:{image:"Скачать картинку",video:"Скачать видео",audio:"Скачать аудио",file:"Скачать файл"}},file_delete:{tooltip:{image:"Удалить картинку",video:"Удалить видео",audio:"Удалить аудио",file:"Удалить файл"}},file_preview_toggle:{tooltip:"Переключить предварительный просмотр"},nest:{tooltip:"Сдвинуть вправо",secondary_tooltip:"Tab"},unnest:{tooltip:"Сдвинуть влево",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Текст по левому краю"},align_center:{tooltip:"Текст по середине"},align_right:{tooltip:"Текст по правому краю"},align_justify:{tooltip:"По середине текст"},table_cell_merge:{tooltip:"Объединить ячейки"},comment:{tooltip:"Добавить комментарий"}},file_panel:{upload:{title:"Загрузить",file_placeholder:{image:"Загрузить картинки",video:"Загрузить видео",audio:"Загрузить аудио",file:"Загрузить файл"},upload_error:"Ошибка: не удалось загрузить"},embed:{title:"Вставить",embed_button:{image:"Вставить картинку",video:"Вставить видео",audio:"Вставить аудио",file:"Вставить файл"},url_placeholder:"Введите URL"}},link_toolbar:{delete:{tooltip:"Удалить ссылку"},edit:{text:"Изменить ссылку",tooltip:"Редактировать"},open:{tooltip:"Открыть в новой вкладке"},form:{title_placeholder:"Изменить заголовок",url_placeholder:"Изменить URL"}},comments:{actions:{add_reaction:"Добавить реакцию",resolve:"Решить",edit_comment:"Редактировать комментарий",delete_comment:"Удалить комментарий",more_actions:"Другие действия"},reactions:{reacted_by:"Отреагировал(а)"},sidebar:{marked_as_resolved:"Отмечено как решенное",more_replies:t=>`${t} дополнительных ответов`}},generic:{ctrl_shortcut:"Ctrl"}},dle={slash_menu:{heading:{title:"Заголовок 1",subtext:"Заголовок найвищого рівня",aliases:["h","heading1","h1","заголовок1"],group:"Заголовки"},heading_2:{title:"Заголовок 2",subtext:"Основний заголовок розділу",aliases:["h2","heading2","subheading","заголовок2"],group:"Заголовки"},heading_3:{title:"Заголовок 3",subtext:"Підзаголовок і груповий заголовок",aliases:["h3","heading3","subheading","заголовок3"],group:"Заголовки"},quote:{title:"Цитата",subtext:"Цитата або уривок",aliases:["quotation","blockquote","bq"],group:"Базові блоки"},numbered_list:{title:"Нумерований список",subtext:"Список із впорядкованими елементами",aliases:["ol","li","list","numberedlist","numbered list","список","нумерований список"],group:"Базові блоки"},bullet_list:{title:"Маркований список",subtext:"Список із невпорядкованими елементами",aliases:["ul","li","list","bulletlist","bullet list","список","маркований список"],group:"Базові блоки"},check_list:{title:"Чек-лист",subtext:"Список із чекбоксами",aliases:["ul","li","list","checklist","check list","checked list","checkbox","чекбокс","чек-лист"],group:"Базові блоки"},paragraph:{title:"Параграф",subtext:"Основний текст документа",aliases:["p","paragraph","параграф"],group:"Базові блоки"},code_block:{title:"Блок коду",subtext:"Блок коду з підсвіткою синтаксису",aliases:["code","pre","блок коду"],group:"Базові блоки"},page_break:{title:"Розрив сторінки",subtext:"Роздільник сторінки",aliases:["page","break","separator","розрив сторінки","розділювач"],group:"Базові блоки"},table:{title:"Таблиця",subtext:"Таблиця з редагованими клітинками",aliases:["table","таблиця"],group:"Розширені"},image:{title:"Зображення",subtext:"Масштабоване зображення з підписом",aliases:["image","imageUpload","upload","img","picture","media","url","зображення","медіа"],group:"Медіа"},video:{title:"Відео",subtext:"Масштабоване відео з підписом",aliases:["video","videoUpload","upload","mp4","film","media","url","відео","медіа"],group:"Медіа"},audio:{title:"Аудіо",subtext:"Вбудоване аудіо з підписом",aliases:["audio","audioUpload","upload","mp3","sound","media","url","аудіо","медіа"],group:"Медіа"},file:{title:"Файл",subtext:"Вбудований файл",aliases:["file","upload","embed","media","url","файл","медіа"],group:"Медіа"},emoji:{title:"Емодзі",subtext:"Пошук і вставка емодзі",aliases:["emoji","emote","emotion","face","смайлик","емодзі"],group:"Інше"}},placeholders:{default:"Введіть текст або наберіть '/' для команд",heading:"Заголовок",bulletListItem:"Список",numberedListItem:"Список",checkListItem:"Список",new_comment:"Напишіть коментар...",edit_comment:"Редагувати коментар...",comment_reply:"Додати коментар..."},file_blocks:{image:{add_button_text:"Додати зображення"},video:{add_button_text:"Додати відео"},audio:{add_button_text:"Додати аудіо"},file:{add_button_text:"Додати файл"}},side_menu:{add_block_label:"Додати блок",drag_handle_label:"Відкрити меню блока"},drag_handle:{delete_menuitem:"Видалити",colors_menuitem:"Кольори",header_row_menuitem:"Заголовок рядка",header_column_menuitem:"Заголовок стовпця"},table_handle:{delete_column_menuitem:"Видалити стовпець",delete_row_menuitem:"Видалити рядок",add_left_menuitem:"Додати стовпець зліва",add_right_menuitem:"Додати стовпець справа",add_above_menuitem:"Додати рядок вище",add_below_menuitem:"Додати рядок нижче",split_cell_menuitem:"Розділити клітинку",merge_cells_menuitem:"Об'єднати клітинки",background_color_menuitem:"Змінити колір фону"},suggestion_menu:{no_items_title:"Нічого не знайдено",loading:"Завантаження…"},color_picker:{text_title:"Текст",background_title:"Фон",colors:{default:"За замовчуванням",gray:"Сірий",brown:"Коричневий",red:"Червоний",orange:"Помаранчевий",yellow:"Жовтий",green:"Зелений",blue:"Блакитний",purple:"Фіолетовий",pink:"Рожевий"}},formatting_toolbar:{bold:{tooltip:"Жирний",secondary_tooltip:"Mod+B"},italic:{tooltip:"Курсив",secondary_tooltip:"Mod+I"},underline:{tooltip:"Підкреслений",secondary_tooltip:"Mod+U"},strike:{tooltip:"Закреслений",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Код",secondary_tooltip:""},colors:{tooltip:"Кольори"},link:{tooltip:"Створити посилання",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Редагувати підпис",input_placeholder:"Редагувати підпис"},file_replace:{tooltip:{image:"Замінити зображення",video:"Замінити відео",audio:"Замінити аудіо",file:"Замінити файл"}},file_rename:{tooltip:{image:"Перейменувати зображення",video:"Перейменувати відео",audio:"Перейменувати аудіо",file:"Перейменувати файл"},input_placeholder:{image:"Перейменувати зображення",video:"Перейменувати відео",audio:"Перейменувати аудіо",file:"Перейменувати файл"}},file_download:{tooltip:{image:"Завантажити зображення",video:"Завантажити відео",audio:"Завантажити аудіо",file:"Завантажити файл"}},file_delete:{tooltip:{image:"Видалити зображення",video:"Видалити відео",audio:"Видалити аудіо",file:"Видалити файл"}},file_preview_toggle:{tooltip:"Перемкнути попередній перегляд"},nest:{tooltip:"Вкладений блок",secondary_tooltip:"Tab"},unnest:{tooltip:"Розгрупувати блок",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Вирівняти за лівим краєм"},align_center:{tooltip:"Вирівняти по центру"},align_right:{tooltip:"Вирівняти за правим краєм"},align_justify:{tooltip:"Вирівняти за шириною"},table_cell_merge:{tooltip:"Об'єднати клітинки"},comment:{tooltip:"Додати коментар"}},file_panel:{upload:{title:"Завантажити",file_placeholder:{image:"Завантажити зображення",video:"Завантажити відео",audio:"Завантажити аудіо",file:"Завантажити файл"},upload_error:"Помилка: не вдалося завантажити"},embed:{title:"Вставити",embed_button:{image:"Вставити зображення",video:"Вставити відео",audio:"Вставити аудіо",file:"Вставити файл"},url_placeholder:"Введіть URL"}},link_toolbar:{delete:{tooltip:"Видалити посилання"},edit:{text:"Редагувати посилання",tooltip:"Редагувати"},open:{tooltip:"Відкрити в новій вкладці"},form:{title_placeholder:"Редагувати заголовок",url_placeholder:"Редагувати URL"}},comments:{actions:{add_reaction:"Додати реакцію",resolve:"Вирішити",edit_comment:"Редагувати коментар",delete_comment:"Видалити коментар",more_actions:"Більше дій"},reactions:{reacted_by:"Відреагував(ла)"},sidebar:{marked_as_resolved:"Позначено як вирішене",more_replies:t=>`${t} додаткових відповідей`}},generic:{ctrl_shortcut:"Ctrl"}},fle={slash_menu:{heading:{title:"Tiêu đề H1",subtext:"Sử dụng cho tiêu đề cấp cao nhất",aliases:["h","tieude1","dd1"],group:"Tiêu đề"},heading_2:{title:"Tiêu đề H2",subtext:"Sử dụng cho các phần chính",aliases:["h2","tieude2","tieudephu"],group:"Tiêu đề"},heading_3:{title:"Tiêu đề H3",subtext:"Sử dụng cho phụ đề và tiêu đề nhóm",aliases:["h3","tieude3","tieudephu"],group:"Tiêu đề"},quote:{title:"Trích dẫn",subtext:"Trích dẫn hoặc đoạn trích",aliases:["quotation","blockquote","bq"],group:"Khối cơ bản"},numbered_list:{title:"Danh sách đánh số",subtext:"Sử dụng để hiển thị danh sách có đánh số",aliases:["ol","li","ds","danhsachdso","danh sach danh so"],group:"Khối cơ bản"},bullet_list:{title:"Danh sách",subtext:"Sử dụng để hiển thị danh sách không đánh số",aliases:["ul","li","ds","danhsach","danh sach"],group:"Khối cơ bản"},check_list:{title:"Danh sách kiểm tra",subtext:"Dùng để hiển thị danh sách có hộp kiểm",aliases:["ul","li","danh sach","danh sach kiem tra","danh sach da kiem tra","hop kiem"],group:"Khối cơ bản"},paragraph:{title:"Đoạn văn",subtext:"Sử dụng cho nội dung chính của tài liệu",aliases:["p","doanvan"],group:"Khối cơ bản"},code_block:{title:"Mã",subtext:"Sử dụng để hiển thị mã với cú pháp",aliases:["code","pre"],group:"Khối cơ bản"},page_break:{title:"Ngắt trang",subtext:"Phân cách trang",aliases:["page","break","separator","ngắt","phân cách"],group:"Khối cơ bản"},table:{title:"Bảng",subtext:"Sử dụng để tạo bảng",aliases:["bang"],group:"Nâng cao"},image:{title:"Hình ảnh",subtext:"Chèn hình ảnh",aliases:["anh","tai-len-anh","tai-len","img","hinh","media","url"],group:"Phương tiện"},video:{title:"Video",subtext:"Chèn video",aliases:["video","tai-len-video","tai-len","mp4","phim","media","url"],group:"Phương tiện"},audio:{title:"Âm thanh",subtext:"Chèn âm thanh",aliases:["âm thanh","tai-len-am-thanh","tai-len","mp3","am thanh","media","url"],group:"Phương tiện"},file:{title:"Tệp",subtext:"Chèn tệp",aliases:["tep","tai-len","nhung","media","url"],group:"Phương tiện"},emoji:{title:"Biểu tượng cảm xúc",subtext:"Dùng để chèn biểu tượng cảm xúc",aliases:["biểu tượng cảm xúc","emoji","emoticon","cảm xúc expression","khuôn mặt","face"],group:"Khác"}},placeholders:{default:"Nhập văn bản hoặc gõ '/' để thêm định dạng",heading:"Tiêu đề",bulletListItem:"Danh sách",numberedListItem:"Danh sách",checkListItem:"Danh sách",new_comment:"Viết bình luận...",edit_comment:"Chỉnh sửa bình luận...",comment_reply:"Thêm bình luận..."},file_blocks:{image:{add_button_text:"Thêm ảnh"},video:{add_button_text:"Thêm video"},audio:{add_button_text:"Thêm âm thanh"},file:{add_button_text:"Thêm tệp"}},side_menu:{add_block_label:"Thêm khối",drag_handle_label:"Mở trình đơn khối"},drag_handle:{delete_menuitem:"Xóa",colors_menuitem:"Màu sắc",header_row_menuitem:"Tiêu đề hàng",header_column_menuitem:"Tiêu đề cột"},table_handle:{delete_column_menuitem:"Xóa cột",delete_row_menuitem:"Xóa hàng",add_left_menuitem:"Thêm cột bên trái",add_right_menuitem:"Thêm cột bên phải",add_above_menuitem:"Thêm hàng phía trên",add_below_menuitem:"Thêm hàng phía dưới",split_cell_menuitem:"Chia ô",merge_cells_menuitem:"Gộp ô",background_color_menuitem:"Màu nền"},suggestion_menu:{no_items_title:"Không tìm thấy mục nào",loading:"Đang tải..."},color_picker:{text_title:"Văn bản",background_title:"Nền",colors:{default:"Mặc định",gray:"Xám",brown:"Nâu",red:"Đỏ",orange:"Cam",yellow:"Vàng",green:"Xanh lá",blue:"Xanh dương",purple:"Tím",pink:"Hồng"}},formatting_toolbar:{bold:{tooltip:"In đậm",secondary_tooltip:"Mod+B"},italic:{tooltip:"In nghiêng",secondary_tooltip:"Mod+I"},underline:{tooltip:"Gạch dưới",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gạch ngang",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Màu sắc"},link:{tooltip:"Tạo liên kết",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Chỉnh sửa chú thích",input_placeholder:"Chỉnh sửa chú thích"},file_replace:{tooltip:{image:"Thay thế hình ảnh",video:"Thay thế video",audio:"Thay thế âm thanh",file:"Thay thế tệp"}},file_rename:{tooltip:{image:"Đổi tên hình ảnh",video:"Đổi tên video",audio:"Đổi tên âm thanh",file:"Đổi tên tệp"},input_placeholder:{image:"Đổi tên hình ảnh",video:"Đổi tên video",audio:"Đổi tên âm thanh",file:"Đổi tên tệp"}},file_download:{tooltip:{image:"Tải xuống hình ảnh",video:"Tải xuống video",audio:"Tải xuống âm thanh",file:"Tải xuống tệp"}},file_delete:{tooltip:{image:"Xóa hình ảnh",video:"Xóa video",audio:"Xóa âm thanh",file:"Xóa tệp"}},file_preview_toggle:{tooltip:"Chuyển đổi xem trước"},nest:{tooltip:"Lồng khối",secondary_tooltip:"Tab"},unnest:{tooltip:"Bỏ lồng khối",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Căn trái văn bản"},align_center:{tooltip:"Căn giữa văn bản"},align_right:{tooltip:"Căn phải văn bản"},align_justify:{tooltip:"Căn đều văn bản"},table_cell_merge:{tooltip:"Gộp các ô"},comment:{tooltip:"Thêm bình luận"}},file_panel:{upload:{title:"Tải lên",file_placeholder:{image:"Tải lên hình ảnh",video:"Tải lên video",audio:"Tải lên âm thanh",file:"Tải lên tệp"},upload_error:"Lỗi: Tải lên thất bại"},embed:{title:"Nhúng",embed_button:{image:"Nhúng hình ảnh",video:"Nhúng video",audio:"Nhúng âm thanh",file:"Nhúng tệp"},url_placeholder:"Nhập URL"}},link_toolbar:{delete:{tooltip:"Xóa liên kết"},edit:{text:"Chỉnh sửa liên kết",tooltip:"Chỉnh sửa"},open:{tooltip:"Mở trong tab mới"},form:{title_placeholder:"Chỉnh sửa tiêu đề",url_placeholder:"Chỉnh sửa URL"}},comments:{actions:{add_reaction:"Thêm phản ứng",resolve:"Giải quyết",edit_comment:"Chỉnh sửa bình luận",delete_comment:"Xóa bình luận",more_actions:"Thêm hành động"},reactions:{reacted_by:"Phản ứng bởi"},sidebar:{marked_as_resolved:"Đã đánh dấu là đã giải quyết",more_replies:t=>`${t} câu trả lời nữa`}},generic:{ctrl_shortcut:"Ctrl"}},hle={slash_menu:{heading:{title:"一级标题",subtext:"用于顶级标题",aliases:["h","heading1","h1","标题","一级标题"],group:"标题"},heading_2:{title:"二级标题",subtext:"用于关键部分",aliases:["h2","heading2","subheading","标题","二级标题","副标题"],group:"标题"},heading_3:{title:"三级标题",subtext:"用于小节和分组标题",aliases:["h3","heading3","subheading","标题","三级标题"],group:"标题"},quote:{title:"引用",subtext:"引用或摘录",aliases:["quotation","blockquote","bq"],group:"基本块"},numbered_list:{title:"有序列表",subtext:"用于显示有序列表",aliases:["ol","li","list","numberedlist","numbered list","列表","有序列表"],group:"基础"},bullet_list:{title:"无序列表",subtext:"用于显示无序列表",aliases:["ul","li","list","bulletlist","bullet list","列表","无序列表"],group:"基础"},check_list:{title:"检查清单",subtext:"用于显示带有复选框的列表",aliases:["ul","li","checklist","checked list","列表","检查清单","勾选列表","复选框"],group:"基础"},paragraph:{title:"段落",subtext:"用于文档正文",aliases:["p","paragraph","text","正文"],group:"基础"},code_block:{title:"代码块",subtext:"用于显示带有语法高亮的代码块",aliases:["code","pre","代码","预格式"],group:"基础"},page_break:{title:"分页符",subtext:"页面分隔符",aliases:["page","break","separator","分页","分隔符"],group:"基础"},table:{title:"表格",subtext:"使用表格",aliases:["table","表格"],group:"高级功能"},image:{title:"图片",subtext:"插入图片",aliases:["图片","上传图片","上传","image","img","相册","媒体","url"],group:"媒体"},video:{title:"视频",subtext:"插入视频",aliases:["视频","视频上传","上传","video","mp4","电影","媒体","url","驱动","dropbox"],group:"媒体"},audio:{title:"音频",subtext:"插入音频",aliases:["音频","音频上传","上传","audio","mp3","声音","媒体","url","驱动","dropbox"],group:"媒体"},file:{title:"文件",subtext:"插入文件",aliases:["文件","上传","file","嵌入","媒体","url"],group:"媒体"},emoji:{title:"表情符号",subtext:"用于插入表情符号",aliases:["表情符号","emoji","face","emote","表情","表情表达","表情"],group:"其他"}},placeholders:{default:"输入 '/' 以使用命令",heading:"标题",bulletListItem:"列表",numberedListItem:"列表",checkListItem:"列表",new_comment:"写评论...",edit_comment:"编辑评论...",comment_reply:"添加评论..."},file_blocks:{image:{add_button_text:"添加图片"},video:{add_button_text:"添加视频"},audio:{add_button_text:"添加音频"},file:{add_button_text:"添加文件"}},side_menu:{add_block_label:"添加块",drag_handle_label:"打开菜单"},drag_handle:{delete_menuitem:"删除",colors_menuitem:"颜色",header_row_menuitem:"行标题",header_column_menuitem:"列标题"},table_handle:{delete_column_menuitem:"删除列",delete_row_menuitem:"删除行",add_left_menuitem:"左侧添加列",add_right_menuitem:"右侧添加列",add_above_menuitem:"上方添加行",add_below_menuitem:"下方添加行",split_cell_menuitem:"拆分单元格",merge_cells_menuitem:"合并单元格",background_color_menuitem:"背景色"},suggestion_menu:{no_items_title:"无匹配项",loading:"加载中…"},color_picker:{text_title:"文本",background_title:"背景色",colors:{default:"默认",gray:"灰色",brown:"棕色",red:"红色",orange:"橙色",yellow:"黄色",green:"绿色",blue:"蓝色",purple:"紫色",pink:"粉色"}},formatting_toolbar:{bold:{tooltip:"加粗",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜体",secondary_tooltip:"Mod+I"},underline:{tooltip:"下划线",secondary_tooltip:"Mod+U"},strike:{tooltip:"删除线",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"代码标记",secondary_tooltip:""},colors:{tooltip:"颜色"},link:{tooltip:"添加链接",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"编辑标题",input_placeholder:"编辑标题"},file_replace:{tooltip:{image:"替换图片",video:"替换视频",audio:"替换音频",file:"替换文件"}},file_rename:{tooltip:{image:"重命名图片",video:"重命名视频",audio:"重命名音频",file:"重命名文件"},input_placeholder:{image:"重命名图片",video:"重命名视频",audio:"重命名音频",file:"重命名文件"}},file_download:{tooltip:{image:"下载图片",video:"下载视频",audio:"下载音频",file:"下载文件"}},file_delete:{tooltip:{image:"删除图片",video:"删除视频",audio:"删除音频",file:"删除文件"}},file_preview_toggle:{tooltip:"切换预览"},nest:{tooltip:"嵌套",secondary_tooltip:"Tab"},unnest:{tooltip:"取消嵌套",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"左对齐"},align_center:{tooltip:"居中"},align_right:{tooltip:"右对齐"},align_justify:{tooltip:"文本对齐"},table_cell_merge:{tooltip:"合并单元格"},comment:{tooltip:"添加评论"}},file_panel:{upload:{title:"上传",file_placeholder:{image:"上传图片",video:"上传视频",audio:"上传音频",file:"上传文件"},upload_error:"Error：上传失败"},embed:{title:"嵌入",embed_button:{image:"嵌入图片",video:"嵌入视频",audio:"嵌入音频",file:"嵌入文件"},url_placeholder:"输入图片地址"}},link_toolbar:{delete:{tooltip:"清除链接"},edit:{text:"编辑链接",tooltip:"编辑"},open:{tooltip:"新窗口打开"},form:{title_placeholder:"编辑标题",url_placeholder:"编辑链接地址"}},comments:{actions:{add_reaction:"添加反应",resolve:"解决",edit_comment:"编辑评论",delete_comment:"删除评论",more_actions:"更多操作"},reactions:{reacted_by:"已回应"},sidebar:{marked_as_resolved:"标记为已解决",more_replies:t=>`还有 ${t} 条回复`}},generic:{ctrl_shortcut:"Ctrl"}},ple=Object.freeze(Object.defineProperty({__proto__:null,ar:Xse,de:Jse,en:iL,es:Qse,fr:ele,hr:tle,is:nle,it:ole,ja:ile,ko:rle,nl:sle,no:lle,pl:ale,pt:cle,ru:ule,uk:dle,vi:fle,zh:hle},Symbol.toStringTag,{value:"Module"}));var mle=Object.defineProperty,gle=(t,e,n)=>e in t?mle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xn=(t,e,n)=>gle(t,typeof e!="symbol"?e+"":e,n);const ble={slash_menu:{two_columns:{title:"عمودان",subtext:"عمودان جنبًا إلى جنب",aliases:["أعمدة","صف","تقسيم"],group:"الكتل الأساسية"},three_columns:{title:"ثلاثة أعمدة",subtext:"ثلاثة أعمدة جنبًا إلى جنب",aliases:["أعمدة","صف","تقسيم"],group:"الكتل الأساسية"}}},yle={slash_menu:{two_columns:{title:"Zwei Spalten",subtext:"Zwei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blöcke"},three_columns:{title:"Drei Spalten",subtext:"Drei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blöcke"}}},vle={slash_menu:{two_columns:{title:"Two Columns",subtext:"Two columns side by side",aliases:["columns","row","split"],group:"Basic blocks"},three_columns:{title:"Three Columns",subtext:"Three columns side by side",aliases:["columns","row","split"],group:"Basic blocks"}}},wle={slash_menu:{two_columns:{title:"Dos Columnas",subtext:"Dos columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques básicos"},three_columns:{title:"Tres Columnas",subtext:"Tres columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques básicos"}}},kle={slash_menu:{two_columns:{title:"Deux Colonnes",subtext:"Deux colonnes côte à côte",aliases:["colonnes","rangée","partager"],group:"Blocs de base"},three_columns:{title:"Trois Colonnes",subtext:"Trois colonnes côte à côte",aliases:["colonnes","rangée","partager"],group:"Blocs de base"}}},xle={slash_menu:{two_columns:{title:"Dva Stupca",subtext:"Dva stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"},three_columns:{title:"Tri Stupca",subtext:"Tri stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"}}},Cle={slash_menu:{two_columns:{title:"Tvær Dálkar",subtext:"Tvær dálkar hlið við hlið",aliases:["dálkar","röð","skipta"],group:"Grunnblokkar"},three_columns:{title:"Þrír Dálkar",subtext:"Þrír dálkar hlið við hlið",aliases:["dálkar","röð","skipta"],group:"Grunnblokkar"}}},Sle={slash_menu:{two_columns:{title:"二列",subtext:"二列並んで",aliases:["列","行","分割"],group:"基本ブロック"},three_columns:{title:"三列",subtext:"三列並んで",aliases:["列","行","分割"],group:"基本ブロック"}}},_le={slash_menu:{two_columns:{title:"두 열",subtext:"두 열 나란히",aliases:["열","행","분할"],group:"기본 블록"},three_columns:{title:"세 열",subtext:"세 열 나란히",aliases:["열","행","분할"],group:"기본 블록"}}},Ele={slash_menu:{two_columns:{title:"Twee Kolommen",subtext:"Twee kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"},three_columns:{title:"Drie Kolommen",subtext:"Drie kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"}}},Mle={slash_menu:{two_columns:{title:"Dwie Kolumny",subtext:"Dwie kolumny obok siebie",aliases:["kolumny","rząd","podzielić"],group:"Podstawowe bloki"},three_columns:{title:"Trzy Kolumny",subtext:"Trzy kolumny obok siebie",aliases:["kolumny","rząd","podzielić"],group:"Podstawowe bloki"}}},Tle={slash_menu:{two_columns:{title:"Duas Colunas",subtext:"Duas colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos básicos"},three_columns:{title:"Três Colunas",subtext:"Três colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos básicos"}}},Ale={slash_menu:{two_columns:{title:"Два Столбца",subtext:"Два столбца рядом",aliases:["столбцы","ряд","разделить"],group:"Базовые блоки"},three_columns:{title:"Три Столбца",subtext:"Три столбца рядом",aliases:["столбцы","ряд","разделить"],group:"Базовые блоки"}}},Ole={slash_menu:{two_columns:{title:"Hai Cột",subtext:"Hai cột cạnh nhau",aliases:["cột","hàng","chia"],group:"Khối cơ bản"},three_columns:{title:"Ba Cột",subtext:"Ba cột cạnh nhau",aliases:["cột","hàng","chia"],group:"Khối cơ bản"}}},Rle={slash_menu:{two_columns:{title:"两列",subtext:"两列并排",aliases:["列","行","分割"],group:"基础"},three_columns:{title:"三列",subtext:"三列并排",aliases:["列","行","分割"],group:"基础"}}},Nle=Object.freeze(Object.defineProperty({__proto__:null,ar:ble,de:yle,en:vle,es:wle,fr:kle,hr:xle,is:Cle,ja:Sle,ko:_le,nl:Ele,pl:Mle,pt:Tle,ru:Ale,vi:Ole,zh:Rle},Symbol.toStringTag,{value:"Module"}));function kR(t){if(!t.dictionary.multi_column)throw new Error("Multi-column dictionary not found");return t.dictionary.multi_column}const Ys=new at("ColumnResizePlugin");class Dle{constructor(e,n){Xn(this,"editor"),Xn(this,"view"),Xn(this,"RESIZE_MARGIN_WIDTH_PX",20),Xn(this,"COLUMN_MIN_WIDTH_PERCENT",.5),Xn(this,"getColumnHoverOrDefaultState",o=>{if(!this.editor.isEditable)return{type:"default"};const i=o.target;if(!this.view.dom.contains(i))return{type:"default"};const r=i.closest(".bn-block-column");if(!r)return{type:"default"};const s=o.clientX,a=r.getBoundingClientRect(),u=s<a.left+this.RESIZE_MARGIN_WIDTH_PX?"left":s>a.right-this.RESIZE_MARGIN_WIDTH_PX?"right":"none",d=u==="left"?r.previousElementSibling:u==="right"?r.nextElementSibling:void 0;if(!d)return{type:"default"};const h=u==="left"?d:r,p=u==="left"?r:d,g=h.getAttribute("data-id"),b=p.getAttribute("data-id"),v=ro(g,this.view.state.doc),k=ro(b,this.view.state.doc);if(!v||!k||!v.posBeforeNode)throw new Error("Column not found");return{type:"hover",leftColumn:{element:h,id:g,...v},rightColumn:{element:p,id:b,...k}}}),Xn(this,"mouseDownHandler",o=>{let i=this.getColumnHoverOrDefaultState(o);if(i.type==="default")return;o.preventDefault();const r=o.clientX,s=i.leftColumn.element.getBoundingClientRect().width,a=i.rightColumn.element.getBoundingClientRect().width,u=i.leftColumn.node.attrs.width,d=i.rightColumn.node.attrs.width;i={type:"resize",startPos:r,leftColumn:{...i.leftColumn,widthPx:s,widthPercent:u},rightColumn:{...i.rightColumn,widthPx:a,widthPercent:d}},this.view.dispatch(this.view.state.tr.setMeta(Ys,i)),this.editor.sideMenu.freezeMenu()}),Xn(this,"mouseMoveHandler",o=>{var i,r;const s=Ys.getState(this.view.state);if(!s)return;if(s.type!=="resize"){const p=this.getColumnHoverOrDefaultState(o),g=s.type==="default"&&p.type==="default",b=s.type!=="default"&&p.type!=="default"&&s.leftColumn.id===p.leftColumn.id&&s.rightColumn.id===p.rightColumn.id;if(g||b||p.type==="hover"&&(r=(i=this.editor.sideMenu.view)==null?void 0:i.state)!=null&&r.show)return;this.view.dispatch(this.view.state.tr.setMeta(Ys,p));return}const a=(o.clientX-s.startPos)*s.leftColumn.widthPercent,u=(s.leftColumn.widthPx+a)/s.leftColumn.widthPx-1;let d=s.leftColumn.widthPercent+u,h=s.rightColumn.widthPercent-u;d<this.COLUMN_MIN_WIDTH_PERCENT?(h-=this.COLUMN_MIN_WIDTH_PERCENT-d,d=this.COLUMN_MIN_WIDTH_PERCENT):h<this.COLUMN_MIN_WIDTH_PERCENT&&(d-=this.COLUMN_MIN_WIDTH_PERCENT-h,h=this.COLUMN_MIN_WIDTH_PERCENT),this.view.dispatch(this.view.state.tr.setNodeAttribute(s.leftColumn.posBeforeNode,"width",d).setNodeAttribute(s.rightColumn.posBeforeNode,"width",h).setMeta("addToHistory",!1))}),Xn(this,"mouseUpHandler",o=>{const i=Ys.getState(this.view.state);if(!i||i.type!=="resize")return;const r=this.getColumnHoverOrDefaultState(o);this.view.dispatch(this.view.state.tr.setMeta(Ys,r)),this.editor.sideMenu.unfreezeMenu()}),this.editor=e,this.view=n,this.view.dom.addEventListener("mousedown",this.mouseDownHandler),document.body.addEventListener("mousemove",this.mouseMoveHandler),document.body.addEventListener("mouseup",this.mouseUpHandler)}destroy(){this.view.dom.removeEventListener("mousedown",this.mouseDownHandler),document.body.removeEventListener("mousemove",this.mouseMoveHandler),document.body.removeEventListener("mouseup",this.mouseUpHandler)}}const Lle=t=>new Ke({key:Ys,props:{decorations:e=>{const n=Ys.getState(e);return!n||n.type==="default"?it.empty:it.create(e.doc,[vt.node(n.leftColumn.posBeforeNode,n.leftColumn.posBeforeNode+n.leftColumn.node.nodeSize,{style:"box-shadow: 4px 0 0 #ccc; cursor: col-resize"}),vt.node(n.rightColumn.posBeforeNode,n.rightColumn.posBeforeNode+n.rightColumn.node.nodeSize,{style:"cursor: col-resize"})])}},state:{init:()=>({type:"default"}),apply:(e,n)=>{const o=e.getMeta(Ys);return o===void 0?n:o}},view:e=>new Dle(t,e)}),Ble=t=>Ct.create({name:"columnResize",addProseMirrorPlugins(){return[Lle(t)]}}),jle=Eo({name:"column",group:"bnBlock childContainer",content:"blockContainer+",priority:40,defining:!0,addAttributes(){return{width:{default:1,parseHTML:t=>{const e=t.getAttribute("data-width");if(e===null)return null;const n=parseFloat(e);return isFinite(n)?n:null},renderHTML:t=>({"data-width":t.width.toString(),style:`flex-grow: ${t.width};`})}}},parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column",e.setAttribute("data-node-type",this.name);for(const[n,o]of Object.entries(t))e.setAttribute(n,o);return{dom:e,contentDOM:e}},addExtensions(){return[Ble(this.options.editor)]}}),Hle=Eo({name:"columnList",group:"childContainer bnBlock blockGroupChild",content:"column column+",priority:40,defining:!0,parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column-list",e.setAttribute("data-node-type",this.name);for(const[n,o]of Object.entries(t))e.setAttribute(n,o);return e.style.display="flex",{dom:e,contentDOM:e}}}),Sj=Di(jle,{width:{default:1}}),_j=Di(Hle,{}),xR=pu.create({blockSpecs:{column:Sj,columnList:_j}}),Ile=t=>pu.create({blockSpecs:{...t.blockSpecs,column:Sj,columnList:_j},inlineContentSpecs:t.inlineContentSpecs,styleSpecs:t.styleSpecs}),Fg=.1;function zle(t){return{left:t.clientX,top:t.clientY}}function Ple(t){const e=t.editor;return new Ke({view(n){return new Vle(n,t)},props:{handleDrop(n,o,i,r){const s=n.posAtCoords(zle(o));if(!s)throw new Error("Could not get event position");const a=Ej(n.state,s),u=dl(a),d=n.nodeDOM(a.posBeforeNode).getBoundingClientRect();let h="regular";if(o.clientX<=d.left+d.width*Fg&&(h="left"),o.clientX>=d.right-d.width*Fg&&(h="right"),h==="regular")return!1;const p=Ft(i.content.child(0),e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);if(u.blockNoteType==="column"){const g=n.state.doc.resolve(u.bnBlock.beforePos).node(),b=Ft(g,e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);let v=0;b.children.forEach(M=>{v+=M.props.width});const k=v/b.children.length;if(k<.99||k>1.01){const M=1/k;b.children.forEach(A=>{A.props.width=A.props.width*M})}const C=b.children.findIndex(M=>M.id===u.bnBlock.node.attrs.id),_=b.children.map(M=>({...M,children:M.children.filter(A=>A.id!==p.id)})).filter(M=>M.children.length>0).toSpliced(h==="left"?C:C+1,0,{type:"column",children:[p],props:{},content:void 0,id:Qf.options.generateID()});e.removeBlocks([p]),e.updateBlock(b,{children:_})}else{const g=Ft(u.bnBlock.node,e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema);if(g.id===p.id)return;const b=h==="left"?[p,g]:[g,p];e.removeBlocks([p]),e.replaceBlocks([g],[{type:"columnList",children:b.map(v=>({type:"column",children:[v]}))}])}return!0}}})}class Vle{constructor(e,n){Xn(this,"width"),Xn(this,"color"),Xn(this,"class"),Xn(this,"cursorPos"),Xn(this,"element",null),Xn(this,"timeout"),Xn(this,"handlers"),this.editorView=e,this.width=n.width??1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{const i=r=>{this[o](r)};return e.dom.addEventListener(o,i,o==="drop"?!0:void 0),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n,e==="drop"?!0:void 0))}update(e,n){this.cursorPos!=null&&n.doc!==e.state.doc&&(this.cursorPos.pos>e.state.doc.content.size?this.setCursor(void 0):this.updateOverlay())}setCursor(e){var n,o;e===this.cursorPos||(e==null?void 0:e.pos)===((n=this.cursorPos)==null?void 0:n.pos)&&(e==null?void 0:e.position)===((o=this.cursorPos)==null?void 0:o.position)||(this.cursorPos=e,e?this.updateOverlay():(this.element.parentNode.removeChild(this.element),this.element=null))}updateOverlay(){if(!this.cursorPos)throw new Error("updateOverlay called with no cursor position");const e=this.editorView.state.doc.resolve(this.cursorPos.pos),n=!e.parent.inlineContent;let o;const i=this.editorView.dom,r=i.getBoundingClientRect(),s=r.width/i.offsetWidth,a=r.height/i.offsetHeight;if(n){const p=e.nodeBefore,g=e.nodeAfter;if(p||g)if(this.cursorPos.position==="left"||this.cursorPos.position==="right"){const b=this.editorView.nodeDOM(this.cursorPos.pos);if(!b)throw new Error("nodeDOM returned null in updateOverlay");const v=b.getBoundingClientRect(),k=this.width/2*a,C=this.cursorPos.position==="left"?v.left:v.right;o={left:C-k,right:C+k,top:v.top,bottom:v.bottom}}else{const b=this.editorView.nodeDOM(this.cursorPos.pos-(p?p.nodeSize:0));if(b){const v=b.getBoundingClientRect();let k=p?v.bottom:v.top;p&&g&&(k=(k+this.editorView.nodeDOM(this.cursorPos.pos).getBoundingClientRect().top)/2);const C=this.width/2*a;this.cursorPos.position==="regular"&&(o={left:v.left,right:v.right,top:k-C,bottom:k+C})}}}if(!o){const p=this.editorView.coordsAtPos(this.cursorPos.pos),g=this.width/2*s;o={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}const u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-vertical",this.cursorPos.position!=="regular"),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,h;if(!u||u===document.body&&getComputedStyle(u).position==="static")d=-window.scrollX,h=-window.scrollY;else{const p=u.getBoundingClientRect(),g=p.width/u.offsetWidth,b=p.height/u.offsetHeight;d=p.left-u.scrollLeft*g,h=p.top-u.scrollTop*b}this.element.style.left=(o.left-d)/s+"px",this.element.style.top=(o.top-h)/a+"px",this.element.style.width=(o.right-o.left)/s+"px",this.element.style.height=(o.bottom-o.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(void 0),e)}dragover(e){if(!this.editorView.editable)return;const n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=o&&o.type.spec.disableDropCursor,r=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!r){let s="regular",a=n.pos;const u=Ej(this.editorView.state,n),d=this.editorView.nodeDOM(u.posBeforeNode).getBoundingClientRect();if(e.clientX<=d.left+d.width*Fg&&(s="left",a=u.posBeforeNode),e.clientX>=d.right-d.width*Fg&&(s="right",a=u.posBeforeNode),s==="regular"&&this.editorView.dragging&&this.editorView.dragging.slice){const h=qk(this.editorView.state.doc,a,this.editorView.dragging.slice);h!=null&&(a=h)}this.setCursor({pos:a,position:s}),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.setCursor(void 0)}dragleave(e){(e.target===this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(void 0)}}function Ej(t,e){const n=ts(t.doc,e.pos);let o=t.doc.resolve(n.posBeforeNode);return o.parent.type.name==="column"&&(o=t.doc.resolve(o.before())),{posBeforeNode:o.pos,node:o.nodeAfter}}var Mj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CR=Ve.createContext&&Ve.createContext(Mj),$le=["attr","size","title"];function Ule(t,e){if(t==null)return{};var n=Fle(t,e),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Fle(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qg.apply(this,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(o){qle(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function qle(t,e,n){return e=Gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Kle(t,"string");return typeof e=="symbol"?e:e+""}function Kle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tj(t){return t&&t.map((e,n)=>Ve.createElement(e.tag,Gg({key:n},e.attr),Tj(e.child)))}function Aj(t){return e=>Ve.createElement(Zle,qg({attr:Gg({},t.attr)},e),Tj(t.child))}function Zle(t){var e=n=>{var{attr:o,size:i,title:r}=t,s=Ule(t,$le),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ve.createElement("svg",qg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:u,style:Gg(Gg({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&Ve.createElement("title",null,r),t.children)};return CR!==void 0?Ve.createElement(CR.Consumer,null,n=>e(n)):e(Mj)}function Yle(t){return Aj({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"},child:[]}]})(t)}function Wle(t){return Aj({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm6 -1v18m6 -18v18"},child:[]}]})(t)}function Xle(t){return"column"in t.schema.blockSchema&&t.schema.blockSchema.columnList===xR.blockSchema.columnList&&"column"in t.schema.blockSchema&&t.schema.blockSchema.column===xR.blockSchema.column}function Jle(t){const e=[];return Xle(t)&&e.push({...kR(t).slash_menu.two_columns,icon:x.jsx(Yle,{size:18}),onItemClick:()=>{Bn(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}},{...kR(t).slash_menu.three_columns,icon:x.jsx(Wle,{size:18}),onItemClick:()=>{Bn(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}}),e}var Qle=function(t){return typeof t=="function"};function eae(t){var e=S.useRef(t);e.current=S.useMemo(function(){return t},[t]);var n=S.useRef();return n.current||(n.current=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return e.current.apply(this,o)}),n.current}function tae(t){var e=S.useRef(t);return e.current=t,e}var nae=function(t){var e=tae(t);S.useEffect(function(){return function(){e.current()}},[])},oae=function(t){S.useEffect(function(){t==null||t()},[])},iae=function(){var t=pB(S.useState({}),2),e=t[1];return S.useCallback(function(){return e({})},[])};function rae(t,e){e===void 0&&(e={});var n=t??{},o=e.defaultValue,i=e.defaultValuePropName,r=i===void 0?"defaultValue":i,s=e.valuePropName,a=s===void 0?"value":s,u=e.trigger,d=u===void 0?"onChange":u,h=n[a],p=Object.prototype.hasOwnProperty.call(n,a),g=S.useMemo(function(){return p?h:Object.prototype.hasOwnProperty.call(n,r)?n[r]:o},[]),b=S.useRef(g);p&&(b.current=h);var v=iae();function k(C){for(var _=[],M=1;M<arguments.length;M++)_[M-1]=arguments[M];var A=Qle(C)?C(b.current):C;p||(b.current=A,v()),n[d]&&n[d].apply(n,ine([A],pB(_),!1))}return[b.current,eae(k)]}function sae(t){const[,e]=rae(t,{defaultValue:t.initialBlocks,trigger:"onBlocksChange"}),n=t.locale||"zh",o={...ple[n],multi_column:Nle[n]},i=jb({dropCursor:Ple,dictionary:o,initialContent:t.initialBlocks,schema:Ile(pu.create()),tables:{cellBackgroundColor:!0}}),r=S.useMemo(()=>async s=>jL(xX(lB(i),Jle(i)),s),[i]);return x.jsx(Cj,{theme:t.theme,editable:!t.readOnly,lang:"zh",editor:i,onChange:()=>{e(i.document)},children:x.jsx(aB,{triggerCharacter:"/",getItems:r})})}const af={};function _R(t){var e;t.id&&((e=af[t.id])==null||e.call(af,t))}function lae(t){const[e,n]=S.useState(t);return oae(()=>{af[t.id]=n}),nae(()=>{delete af[t.id]}),x.jsx(sae,{...e})}const aae=oN({name:"RichTextEditor",props:{initialBlocks:{type:Array},onBlocksChange:{type:Function},readOnly:{type:Boolean,default:!1},theme:{type:String,default:"light"}},setup(t){const e=Ud(),n=Ud({id:`rich-text-editor-${Date.now()}-${Math.random()}`,initialBlocks:t.initialBlocks,readOnly:t.readOnly,theme:t.theme,onBlocksChange:o=>{var i;(i=t.onBlocksChange)==null||i.call(t,o)}});return Gd(()=>t.theme,()=>{n.value={...n.value,theme:t.theme},_R(n.value)}),Gd(()=>t.readOnly,()=>{n.value={...n.value,readOnly:t.readOnly},_R(n.value)}),lN(()=>{DN.createRoot(e.value).render(S.createElement(S.StrictMode,null,S.createElement(lae,n.value)))}),()=>V9("div",{ref:e})}}),cae={class:"wrapper"},uae={class:"left"},dae={class:"item"},fae={class:"right"},hae={class:"item bordered"},pae=oN({__name:"App",setup(t){const e=Ud([{type:"paragraph",content:[{type:"text",text:"烦烦烦烦烦烦烦烦烦方法",styles:{}}]}]),n=Ud("light"),o=Ud(!1);return(i,r)=>(_9(),T9(Ki,null,[jo("button",{onClick:r[0]||(r[0]=()=>{n.value=n.value=="dark"?"light":"dark"})},"theme:"+nm(n.value),1),jo("button",{onClick:r[1]||(r[1]=s=>o.value=!o.value)}," 当前模式 readOnly : "+nm(o.value),1),jo("div",cae,[jo("div",uae,[r[3]||(r[3]=jo("div",null,"BlockNote Editor: ",-1)),jo("div",dae,[ci(WR(aae),{theme:n.value,readOnly:o.value,initialBlocks:e.value,onBlocksChange:r[2]||(r[2]=s=>{e.value=s})},null,8,["theme","readOnly","initialBlocks"])])]),jo("div",fae,[r[6]||(r[6]=jo("div",null,"Document JSON:",-1)),jo("div",hae,[jo("pre",null,[r[4]||(r[4]=Qv("            ")),jo("code",null,nm(JSON.stringify(e.value,null,2)),1),r[5]||(r[5]=Qv(`
          `))])])])])],64))}});dH(pae).mount(document.getElementById("root"));export{RN as g};
